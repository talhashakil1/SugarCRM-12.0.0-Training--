function base64_encode(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc="",tmp_arr=[];if(!data){return data;}
do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4);}while(i<data.length);enc=tmp_arr.join('');var r=data.length%3;return(r?enc.slice(0,r-3):enc)+'==='.slice(r||3);}
/* End of File include/javascript/phpjs/base64_encode.js */

/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)
}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;
this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))
}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}
},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog
},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;
this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});
/* End of File include/javascript/jquery/jquery-ui-min.js */

+function($){'use strict';function transitionEnd(){var el=document.createElement('bootstrap')
var transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'}
for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}
return false}
$.fn.emulateTransitionEnd=function(duration){var called=false
var $el=this
$(this).one('bsTransitionEnd',function(){called=true})
var callback=function(){if(!called)$($el).trigger($.support.transition.end)}
setTimeout(callback,duration)
return this}
$(function(){$.support.transition=transitionEnd()
if(!$.support.transition)return
$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);
/* End of File include/javascript/twitterbootstrap/transition.js */

+function($){'use strict';var Button=function(element,options){this.$element=$(element)
this.options=$.extend({},Button.DEFAULTS,options)
this.isLoading=false}
Button.VERSION='3.4.1'
Button.DEFAULTS={loadingText:'loading...'}
Button.prototype.setState=function(state){var d='disabled'
var $el=this.$element
var val=$el.is('input')?'val':'html'
var data=$el.data()
state+='Text'
if(data.resetText==null)$el.data('resetText',$el[val]())
setTimeout($.proxy(function(){$el[val](data[state]==null?this.options[state]:data[state])
if(state=='loadingText'){this.isLoading=true
$el.addClass(d).attr(d,d).prop(d,true)}else if(this.isLoading){this.isLoading=false
$el.removeClass(d).removeAttr(d).prop(d,false)}},this),0)}
Button.prototype.toggle=function(){var changed=true
var $parent=this.$element.closest('[data-toggle="buttons"]')
if($parent.length){var $input=this.$element.find('input')
if($input.prop('type')=='radio'){if($input.prop('checked'))changed=false
$parent.find('.active').removeClass('active')
this.$element.addClass('active')}else if($input.prop('type')=='checkbox'){if(($input.prop('checked'))!==this.$element.hasClass('active'))changed=false
this.$element.toggleClass('active')}
$input.prop('checked',this.$element.hasClass('active'))
if(changed)$input.trigger('change')}else{$parent=this.$element.closest('[data-toggle^="button"]')
if($parent){$parent.find('.active').removeClass('active')}else{this.$element.attr('aria-pressed',!this.$element.hasClass('active'))}
this.$element.toggleClass('active')}}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.button')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.button',(data=new Button(this,options)))
if(option=='toggle')data.toggle()
else if(option)data.setState(option)})}
var old=$.fn.button
$.fn.button=Plugin
$.fn.button.Constructor=Button
$.fn.button.noConflict=function(){$.fn.button=old
return this}
$(document).on('click.bs.button.data-api','[data-toggle^="button"]',function(e){var $btn=$(e.target).closest('.btn')
Plugin.call($btn,'toggle')
if(!($(e.target).is('input[type="radio"], input[type="checkbox"]'))){var link=$(e.target).is('a')?$(e.target):$(e.target).parent();if(!(link&&link.attr('href')&&link.attr('href').length>1)){e.preventDefault()}
if($btn.is('input,button'))$btn.trigger('focus')
else $btn.find('input:visible,button:visible').first().trigger('focus')}}).on('focus.bs.button.data-api blur.bs.button.data-api','[data-toggle^="button"]',function(e){$(e.target).closest('.btn').toggleClass('focus',/^focus(in)?$/.test(e.type))})}(jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-button.js */

+function($){'use strict';var DISALLOWED_ATTRIBUTES=['sanitize','whiteList','sanitizeFn']
var uriAttrs=['background','cite','href','itemtype','longdesc','poster','src','xlink:href']
var ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i
var DefaultWhitelist={'*':['class','dir','id','lang','role',ARIA_ATTRIBUTE_PATTERN],a:['target','href','title','rel'],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:['src','alt','title','width','height'],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}
var SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi
var DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i
function allowedAttribute(attr,allowedAttributeList){var attrName=attr.nodeName.toLowerCase()
if($.inArray(attrName,allowedAttributeList)!==-1){if($.inArray(attrName,uriAttrs)!==-1){return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN)||attr.nodeValue.match(DATA_URL_PATTERN))}
return true}
var regExp=$(allowedAttributeList).filter(function(index,value){return value instanceof RegExp})
for(var i=0,l=regExp.length;i<l;i++){if(attrName.match(regExp[i])){return true}}
return false}
function sanitizeHtml(unsafeHtml,whiteList,sanitizeFn){if(unsafeHtml.length===0){return unsafeHtml}
if(sanitizeFn&&typeof sanitizeFn==='function'){return sanitizeFn(unsafeHtml)}
if(!document.implementation||!document.implementation.createHTMLDocument){return unsafeHtml}
var createdDocument=document.implementation.createHTMLDocument('sanitization')
createdDocument.body.innerHTML=unsafeHtml
var whitelistKeys=$.map(whiteList,function(el,i){return i})
var elements=$(createdDocument.body).find('*')
for(var i=0,len=elements.length;i<len;i++){var el=elements[i]
var elName=el.nodeName.toLowerCase()
if($.inArray(elName,whitelistKeys)===-1){el.parentNode.removeChild(el)
continue}
var attributeList=$.map(el.attributes,function(el){return el})
var whitelistedAttributes=[].concat(whiteList['*']||[],whiteList[elName]||[])
for(var j=0,len2=attributeList.length;j<len2;j++){if(!allowedAttribute(attributeList[j],whitelistedAttributes)){el.removeAttribute(attributeList[j].nodeName)}}}
return createdDocument.body.innerHTML}
var Tooltip=function(element,options){this.type=null
this.options=null
this.enabled=null
this.timeout=null
this.hoverState=null
this.$element=null
this.inState=null
this.init('tooltip',element,options)}
Tooltip.VERSION='3.4.1'
Tooltip.TRANSITION_DURATION=150
Tooltip.DEFAULTS={animation:true,placement:'top',selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:false,container:false,viewport:{selector:'body',padding:0},sanitize:true,sanitizeFn:null,whiteList:DefaultWhitelist}
Tooltip.prototype.init=function(type,element,options){this.enabled=true
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.$viewport=this.options.viewport&&$(document).find($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport))
this.inState={click:false,hover:false,focus:false}
if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error('`selector` option must be specified when initializing '+this.type+' on the window.document object!')}
var triggers=this.options.trigger.split(' ')
for(var i=triggers.length;i--;){var trigger=triggers[i]
if(trigger=='click'){this.$element.on('click.'+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!='manual'){var eventIn=trigger=='hover'?'mouseenter':'focusin'
var eventOut=trigger=='hover'?'mouseleave':'focusout'
this.$element.on(eventIn+'.'+this.type,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut+'.'+this.type,this.options.selector,$.proxy(this.leave,this))}}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()}
Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS}
Tooltip.prototype.getOptions=function(options){var dataAttributes=this.$element.data()
for(var dataAttr in dataAttributes){if(dataAttributes.hasOwnProperty(dataAttr)&&$.inArray(dataAttr,DISALLOWED_ATTRIBUTES)!==-1){delete dataAttributes[dataAttr]}}
options=$.extend({},this.getDefaults(),dataAttributes,options)
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
if(options.sanitize){options.template=sanitizeHtml(options.template,options.whiteList,options.sanitizeFn)}
return options}
Tooltip.prototype.getDelegateOptions=function(){var options={}
var defaults=this.getDefaults()
this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value})
return options}
Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusin'?'focus':'hover']=true}
if(self.tip().hasClass('in')||self.hoverState=='in'){self.hoverState='in'
return}
clearTimeout(self.timeout)
self.hoverState='in'
if(!self.options.delay||!self.options.delay.show)return self.show()
self.timeout=setTimeout(function(){if(self.hoverState=='in')self.show()},self.options.delay.show)}
Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState){if(this.inState[key])return true}
return false}
Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusout'?'focus':'hover']=false}
if(self.isInStateTrue())return
clearTimeout(self.timeout)
self.hoverState='out'
if(!self.options.delay||!self.options.delay.hide)return self.hide()
self.timeout=setTimeout(function(){if(self.hoverState=='out')self.hide()},self.options.delay.hide)}
Tooltip.prototype.show=function(){var e=$.Event('show.bs.'+this.type)
if(this.hasContent()&&this.enabled){this.$element.trigger(e)
var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0])
if(e.isDefaultPrevented()||!inDom)return
var that=this
var $tip=this.tip()
var tipId=this.getUID(this.type)
this.setContent()
$tip.attr('id',tipId)
this.$element.attr('aria-describedby',tipId)
if(this.options.animation)$tip.addClass('fade')
var placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
var autoToken=/\s?auto?\s?/i
var autoPlace=autoToken.test(placement)
if(autoPlace)placement=placement.replace(autoToken,'')||'top'
$tip.detach().css({top:0,left:0,display:'block'}).addClass(placement).data('bs.'+this.type,this)
this.options.container?$tip.appendTo($(document).find(this.options.container)):$tip.insertAfter(this.$element)
this.$element.trigger('inserted.bs.'+this.type)
var pos=this.getPosition()
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(autoPlace){var orgPlacement=placement
var viewportDim=this.getPosition(this.$viewport)
placement=placement=='bottom'&&pos.bottom+actualHeight>viewportDim.bottom?'top':placement=='top'&&pos.top-actualHeight<viewportDim.top?'bottom':placement=='right'&&pos.right+actualWidth>viewportDim.width?'left':placement=='left'&&pos.left-actualWidth<viewportDim.left?'right':placement
$tip.removeClass(orgPlacement).addClass(placement)}
var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight)
this.applyPlacement(calculatedOffset,placement)
var complete=function(){var prevHoverState=that.hoverState
that.$element.trigger('shown.bs.'+that.type)
that.hoverState=null
if(prevHoverState=='out')that.leave(that)}
$.support.transition&&this.$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}}
Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip()
var width=$tip[0].offsetWidth
var height=$tip[0].offsetHeight
var marginTop=parseInt($tip.css('margin-top'),10)
var marginLeft=parseInt($tip.css('margin-left'),10)
if(isNaN(marginTop))marginTop=0
if(isNaN(marginLeft))marginLeft=0
offset.top+=marginTop
offset.left+=marginLeft
$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0)
$tip.addClass('in')
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(placement=='top'&&actualHeight!=height){offset.top=offset.top+height-actualHeight}
var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight)
if(delta.left)offset.left+=delta.left
else offset.top+=delta.top
var isVertical=/top|bottom/.test(placement)
var arrowDelta=isVertical?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight
var arrowOffsetPosition=isVertical?'offsetWidth':'offsetHeight'
$tip.offset(offset)
this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)}
Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?'left':'top',50*(1-delta / dimension)+'%').css(isVertical?'top':'left','')}
Tooltip.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
if(this.options.html){if(this.options.sanitize){title=sanitizeHtml(title,this.options.whiteList,this.options.sanitizeFn)}
$tip.find('.tooltip-inner').html(title)}else{$tip.find('.tooltip-inner').text(title)}
$tip.removeClass('fade in top bottom left right')}
Tooltip.prototype.hide=function(callback){var that=this
var $tip=$(this.$tip)
var e=$.Event('hide.bs.'+this.type)
function complete(){if(that.hoverState!='in')$tip.detach()
if(that.$element){that.$element.removeAttr('aria-describedby').trigger('hidden.bs.'+that.type)}
callback&&callback()}
this.$element.trigger(e)
if(e.isDefaultPrevented())return
$tip.removeClass('in')
$.support.transition&&$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()
this.hoverState=null
return this}
Tooltip.prototype.fixTitle=function(){var $e=this.$element
if($e.attr('title')||typeof $e.attr('data-original-title')!='string'){$e.attr('data-original-title',$e.attr('title')||'').attr('title','')}}
Tooltip.prototype.hasContent=function(){return this.getTitle()}
Tooltip.prototype.getPosition=function($element){$element=$element||this.$element
var el=$element[0]
var isBody=el.tagName=='BODY'
var elRect=el.getBoundingClientRect()
if(elRect.width==null){elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top})}
var isSvg=window.SVGElement&&el instanceof window.SVGElement
var elOffset=isBody?{top:0,left:0}:(isSvg?null:$element.offset())
var scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()}
var outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null
return $.extend({},elRect,scroll,outerDims,elOffset)}
Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=='bottom'?{top:pos.top+pos.height,left:pos.left+pos.width / 2-actualWidth / 2}:placement=='top'?{top:pos.top-actualHeight,left:pos.left+pos.width / 2-actualWidth / 2}:placement=='left'?{top:pos.top+pos.height / 2-actualHeight / 2,left:pos.left-actualWidth}:{top:pos.top+pos.height / 2-actualHeight / 2,left:pos.left+pos.width}}
Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0}
if(!this.$viewport)return delta
var viewportPadding=this.options.viewport&&this.options.viewport.padding||0
var viewportDimensions=this.getPosition(this.$viewport)
if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll
var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight
if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}else{var leftEdgeOffset=pos.left-viewportPadding
var rightEdgeOffset=pos.left+viewportPadding+actualWidth
if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else if(rightEdgeOffset>viewportDimensions.right){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}
return delta}
Tooltip.prototype.getTitle=function(){var title
var $e=this.$element
var o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
return title}
Tooltip.prototype.getUID=function(prefix){do prefix+=~~(Math.random()*1000000)
while(document.getElementById(prefix))
return prefix}
Tooltip.prototype.tip=function(){if(!this.$tip){this.$tip=$(this.options.template)
if(this.$tip.length!=1){throw new Error(this.type+' `template` option must consist of exactly 1 top-level element!')}}
return this.$tip}
Tooltip.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.tooltip-arrow'))}
Tooltip.prototype.enable=function(){this.enabled=true}
Tooltip.prototype.disable=function(){this.enabled=false}
Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled}
Tooltip.prototype.toggle=function(e){var self=this
if(e){self=$(e.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions())
$(e.currentTarget).data('bs.'+this.type,self)}}
if(e){self.inState.click=!self.inState.click
if(self.isInStateTrue())self.enter(self)
else self.leave(self)}else{self.tip().hasClass('in')?self.leave(self):self.enter(self)}}
Tooltip.prototype.destroy=function(){var that=this
clearTimeout(this.timeout)
this.hide(function(){that.$element.off('.'+that.type).removeData('bs.'+that.type)
if(that.$tip){that.$tip.detach()}
that.$tip=null
that.$arrow=null
that.$viewport=null
that.$element=null})}
Tooltip.prototype.sanitizeHtml=function(unsafeHtml){return sanitizeHtml(unsafeHtml,this.options.whiteList,this.options.sanitizeFn)}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tooltip')
var options=typeof option=='object'&&option
if(!data&&/destroy|hide/.test(option))return
if(!data)$this.data('bs.tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.tooltip
$.fn.tooltip=Plugin
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.noConflict=function(){$.fn.tooltip=old
return this}}(jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-tooltip.js */

+function($){"use strict";var backdrop='.dropdown-backdrop'
var toggle='[data-toggle=dropdown]'
var Dropdown=function(element){var $el=$(element).on('click.bs.dropdown',this.toggle)}
Dropdown.prototype.toggle=function(e){var $this=$(this)
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
clearMenus()
if(!isActive){if('ontouchstart'in document.documentElement&&!$parent.closest('.navbar-nav').length){$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on('click',clearMenus)}
$parent.trigger(e=$.Event('show.bs.dropdown'))
if(e.isDefaultPrevented())return
$parent.toggleClass('open').trigger('shown.bs.dropdown')
$this.focus()}
return false}
Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return
var $this=$(this)
e.preventDefault()
e.stopPropagation()
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
if(!isActive||(isActive&&e.keyCode==27)){if(e.which==27)$parent.find(toggle).focus()
return $this.click()}
var $items=$('[role=menu] li:not(.divider):visible a',$parent)
if(!$items.length)return
var index=$items.index($items.filter(':focus'))
if(e.keyCode==38&&index>0)index--
if(e.keyCode==40&&index<$items.length-1)index++
if(!~index)index=0
$items.eq(index).focus()}
function clearMenus(){$(backdrop).remove()
$(toggle).each(function(e){var $parent=getParent($(this))
if(!$parent.hasClass('open'))return
$parent.trigger(e=$.Event('hide.bs.dropdown'))
if(e.isDefaultPrevented())return
$parent.removeClass('open').trigger('hidden.bs.dropdown')})}
function getParent($this){var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=selector!=='#'?$(document).find(selector):null
return $parent&&$parent.length?$parent:$this.parent()}
var old=$.fn.dropdown
$.fn.dropdown=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('dropdown')
if(!data)$this.data('dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.dropdown.Constructor=Dropdown
$.fn.dropdown.noConflict=function(){$.fn.dropdown=old
return this}
$(document).on('click.bs.dropdown.data-api',clearMenus).on('click.bs.dropdown.data-api','.dropdown form',function(e){e.stopPropagation()}).on('click.bs.dropdown.data-api',toggle,Dropdown.prototype.toggle).on('keydown.bs.dropdown.data-api',toggle+', [role=menu]',Dropdown.prototype.keydown)}(window.jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-dropdown.js */

+function($){'use strict';var Popover=function(element,options){this.init('popover',element,options)}
if(!$.fn.tooltip)throw new Error('Popover requires tooltip.js')
Popover.VERSION='3.4.1'
Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:'right',trigger:'click',content:'',template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'})
Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype)
Popover.prototype.constructor=Popover
Popover.prototype.getDefaults=function(){return Popover.DEFAULTS}
Popover.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
var content=this.getContent()
if(this.options.html){var typeContent=typeof content
if(this.options.sanitize){title=this.sanitizeHtml(title)
if(typeContent==='string'){content=this.sanitizeHtml(content)}}
$tip.find('.popover-title').html(title)
$tip.find('.popover-content').children().detach().end()[typeContent==='string'?'html':'append'](content)}else{$tip.find('.popover-title').text(title)
$tip.find('.popover-content').children().detach().end().text(content)}
$tip.removeClass('fade top bottom left right in')
if(!$tip.find('.popover-title').html())$tip.find('.popover-title').hide()}
Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()}
Popover.prototype.getContent=function(){var $e=this.$element
var o=this.options
return $e.attr('data-content')||(typeof o.content=='function'?o.content.call($e[0]):o.content)}
Popover.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.arrow'))}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.popover')
var options=typeof option=='object'&&option
if(!data&&/destroy|hide/.test(option))return
if(!data)$this.data('bs.popover',(data=new Popover(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.popover
$.fn.popover=Plugin
$.fn.popover.Constructor=Popover
$.fn.popover.noConflict=function(){$.fn.popover=old
return this}}(jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-popover.js */

+function($){'use strict';var Modal=function(element,options){this.options=options
this.$body=$(document.body)
this.$element=$(element)
this.$dialog=this.$element.find('.modal-dialog')
this.$backdrop=null
this.isShown=null
this.originalBodyPad=null
this.scrollbarWidth=0
this.ignoreBackdropClick=false
this.fixedContent='.navbar-fixed-top, .navbar-fixed-bottom'
if(this.options.remote){this.$element.find('.modal-content').load(this.options.remote,$.proxy(function(){this.$element.trigger('loaded.bs.modal')},this))}}
Modal.VERSION='3.4.1'
Modal.TRANSITION_DURATION=300
Modal.BACKDROP_TRANSITION_DURATION=150
Modal.DEFAULTS={backdrop:true,keyboard:true,show:true}
Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)}
Modal.prototype.show=function(_relatedTarget){var that=this
var e=$.Event('show.bs.modal',{relatedTarget:_relatedTarget})
this.$element.trigger(e)
if(this.isShown||e.isDefaultPrevented())return
this.isShown=true
this.checkScrollbar()
this.setScrollbar()
this.$body.addClass('modal-open')
this.escape()
this.resize()
this.$element.on('click.dismiss.bs.modal','[data-dismiss="modal"]',$.proxy(this.hide,this))
this.$dialog.on('mousedown.dismiss.bs.modal',function(){that.$element.one('mouseup.dismiss.bs.modal',function(e){if($(e.target).is(that.$element))that.ignoreBackdropClick=true})})
this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass('fade')
if(!that.$element.parent().length){that.$element.appendTo(that.$body)}
that.$element.show().scrollTop(0)
that.adjustDialog()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in')
that.enforceFocus()
var e=$.Event('shown.bs.modal',{relatedTarget:_relatedTarget})
transition?that.$dialog.one('bsTransitionEnd',function(){that.$element.trigger('focus').trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger('focus').trigger(e)})}
Modal.prototype.hide=function(e){if(e)e.preventDefault()
e=$.Event('hide.bs.modal')
this.$element.trigger(e)
if(!this.isShown||e.isDefaultPrevented())return
this.isShown=false
this.escape()
this.resize()
$(document).off('focusin.bs.modal')
this.$element.removeClass('in').off('click.dismiss.bs.modal').off('mouseup.dismiss.bs.modal')
this.$dialog.off('mousedown.dismiss.bs.modal')
$.support.transition&&this.$element.hasClass('fade')?this.$element.one('bsTransitionEnd',$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()}
Modal.prototype.enforceFocus=function(){$(document).off('focusin.bs.modal').on('focusin.bs.modal',$.proxy(function(e){if(document!==e.target&&this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger('focus')}},this))}
Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on('keydown.dismiss.bs.modal',$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off('keydown.dismiss.bs.modal')}}
Modal.prototype.resize=function(){if(this.isShown){$(window).on('resize.bs.modal',$.proxy(this.handleUpdate,this))}else{$(window).off('resize.bs.modal')}}
Modal.prototype.hideModal=function(){var that=this
this.$element.hide()
this.backdrop(function(){that.$body.removeClass('modal-open')
that.resetAdjustments()
that.resetScrollbar()
that.$element.trigger('hidden.bs.modal')})}
Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove()
this.$backdrop=null}
Modal.prototype.backdrop=function(callback){var that=this
var animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$(document.createElement('div')).addClass('modal-backdrop '+animate).appendTo(this.$body)
this.$element.on('click.dismiss.bs.modal',$.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false
return}
if(e.target!==e.currentTarget)return
this.options.backdrop=='static'?this.$element[0].focus():this.hide()},this))
if(doAnimate)this.$backdrop[0].offsetWidth
this.$backdrop.addClass('in')
if(!callback)return
doAnimate?this.$backdrop.one('bsTransitionEnd',callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
var callbackRemove=function(){that.removeBackdrop()
callback&&callback()}
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one('bsTransitionEnd',callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else if(callback){callback()}}
Modal.prototype.handleUpdate=function(){this.adjustDialog()}
Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight
this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:'',paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:''})}
Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:'',paddingRight:''})}
Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth
if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect()
fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}
this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth
this.scrollbarWidth=this.measureScrollbar()}
Modal.prototype.setScrollbar=function(){var bodyPad=parseInt((this.$body.css('padding-right')||0),10)
this.originalBodyPad=document.body.style.paddingRight||''
var scrollbarWidth=this.scrollbarWidth
if(this.bodyIsOverflowing){this.$body.css('padding-right',bodyPad+scrollbarWidth)
$(this.fixedContent).each(function(index,element){var actualPadding=element.style.paddingRight
var calculatedPadding=$(element).css('padding-right')
$(element).data('padding-right',actualPadding).css('padding-right',parseFloat(calculatedPadding)+scrollbarWidth+'px')})}}
Modal.prototype.resetScrollbar=function(){this.$body.css('padding-right',this.originalBodyPad)
$(this.fixedContent).each(function(index,element){var padding=$(element).data('padding-right')
$(element).removeData('padding-right')
element.style.paddingRight=padding?padding:''})}
Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement('div')
scrollDiv.className='modal-scrollbar-measure'
this.$body.append(scrollDiv)
var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth
this.$body[0].removeChild(scrollDiv)
return scrollbarWidth}
function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this)
var data=$this.data('bs.modal')
var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('bs.modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option](_relatedTarget)
else if(options.show)data.show(_relatedTarget)})}
var old=$.fn.modal
$.fn.modal=Plugin
$.fn.modal.Constructor=Modal
$.fn.modal.noConflict=function(){$.fn.modal=old
return this}
$(document).on('click.bs.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this)
var href=$this.attr('href')
var target=$this.attr('data-target')||(href&&href.replace(/.*(?=#[^\s]+$)/,''))
var $target=$(document).find(target)
var option=$target.data('bs.modal')?'toggle':$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data())
if($this.is('a'))e.preventDefault()
$target.one('show.bs.modal',function(showEvent){if(showEvent.isDefaultPrevented())return
$target.one('hidden.bs.modal',function(){$this.is(':visible')&&$this.trigger('focus')})})
Plugin.call($target,option,this)})}(jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-modal.js */

+function($){'use strict';var dismiss='[data-dismiss="alert"]'
var Alert=function(el){$(el).on('click',dismiss,this.close)}
Alert.VERSION='3.4.1'
Alert.TRANSITION_DURATION=150
Alert.prototype.close=function(e){var $this=$(this)
var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
selector=selector==='#'?[]:selector
var $parent=$(document).find(selector)
if(e)e.preventDefault()
if(!$parent.length){$parent=$this.closest('.alert')}
$parent.trigger(e=$.Event('close.bs.alert'))
if(e.isDefaultPrevented())return
$parent.removeClass('in')
function removeElement(){$parent.detach().trigger('closed.bs.alert').remove()}
$.support.transition&&$parent.hasClass('fade')?$parent.one('bsTransitionEnd',removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement()}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.alert')
if(!data)$this.data('bs.alert',(data=new Alert(this)))
if(typeof option=='string')data[option].call($this)})}
var old=$.fn.alert
$.fn.alert=Plugin
$.fn.alert.Constructor=Alert
$.fn.alert.noConflict=function(){$.fn.alert=old
return this}
$(document).on('click.bs.alert.data-api',dismiss,Alert.prototype.close)}(jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-alert.js */

!function($){var Datepicker=function(element,options){this.element=$(element);this.rawFormat=options.format||this.element.data('date-format')||'mm/dd/yyyy';this.appendTo=options.appendTo;this.format=DPGlobal.parseFormat(this.rawFormat);this.possibleChars=DPGlobal.getPossibleDateChars(this.rawFormat);this.picker=$(DPGlobal.template).appendTo(this.appendTo?this.appendTo:"body").on({click:$.proxy(this.click,this),mousedown:$.proxy(this.mousedown,this)});this.isInput=this.element.is('input');this.component=this.element.is('.date')?this.element.find('.add-on'):false;if(this.isInput){this.element.on({focus:$.proxy(this.show,this),blur:$.proxy(this.hide,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this),keypress:$.proxy(this.keypress,this),click:$.proxy(this.click,this)});if(this.element.parent().find('.add-on').length){this.element.parent().find('.add-on[data-icon=calendar]').on({click:$.proxy(this.focusShow,this)});}}else{if(this.component){this.component.on('click',$.proxy(this.show,this));}else{this.element.on('click',$.proxy(this.show,this));}}
this.minViewMode=options.minViewMode||this.element.data('date-minviewmode')||0;if(typeof this.minViewMode==='string'){switch(this.minViewMode){case'months':this.minViewMode=1;break;case'years':this.minViewMode=2;break;default:this.minViewMode=0;break;}}
this.viewMode=options.viewMode||this.element.data('date-viewmode')||0;if(typeof this.viewMode==='string'){switch(this.viewMode){case'months':this.viewMode=1;break;case'years':this.viewMode=2;break;default:this.viewMode=0;break;}}
this.startViewMode=this.viewMode;this.weekStart=options.weekStart||this.element.data('date-weekstart')||0;this.enableKeyboard=options.enableKeyboard||true;if(options.languageDictionary){this.languageDictionary(options.languageDictionary);}
this.weekEnd=this.weekStart===0?6:this.weekStart-1;this.dates=options.languageDictionary||{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};this.fillDow();this.fillMonths();this.update();this.showMode();};Datepicker.prototype={constructor:Datepicker,languageDictionary:function(datesLangDict){var reqPropsIndx,requiredProperties=['days','daysShort','daysMin','months','monthsShort'];for(reqPropsIndx=0;reqPropsIndx<requiredProperties.length;reqPropsIndx++){if(typeof datesLangDict[requiredProperties[reqPropsIndx]]==='undefined'){return false;}}
this.dates=datesLangDict;return true;},getLanguageDictionary:function(){return this.dates;},focusShow:function(e){this.element[0].focus();},show:function(e){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();$(window).on('resize',$.proxy(this.place,this));if(e){e.stopPropagation();e.preventDefault();}
if(!this.isInput){$(document).on('mousedown',$.proxy(this.hide,this));}
this.element.trigger({type:'show',date:this.date});this.hidden=false;},hide:function(){this.picker.hide();this.hidden=true;$(window).off('resize',this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){$(document).off('mousedown',this.hide);}else{if(!this.verifyDate(this.element.val())){this.element.trigger({type:'hide'});return;}}
this.setValue(this.element.val());this.element.trigger({type:'hide',date:this.date});},set:function(){var formated=DPGlobal.formatDate(this.date,this.format);if(!this.isInput){if(this.component){this.element.find('input').prop('value',formated);}
this.element.data('date',formated);}else{this.element.prop('value',formated);}},setValue:function(newDate){if(typeof newDate==='string'){this.date=DPGlobal.parseDate(newDate,this.format).dateObject;}else{this.date=new Date(newDate);}
this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill();},place:function(){var offset=this.component?this.component.offset():this.element.offset();if(this.appendTo&&this.appendTo!="body"){offset.left=(this.element.offset().left-$(this.appendTo).offset().left)+$(this.appendTo).scrollLeft();offset.top=(this.element.offset().top-$(this.appendTo).offset().top)+$(this.appendTo).scrollTop();}
this.picker.css({top:offset.top+this.height,left:offset.left});},verifyDate:function(dateString){return DPGlobal.parseDate(dateString,this.format).inputDateStringWasValid;},verifyInput:function(dateInput){return this.possibleChars.toLowerCase().indexOf(dateInput)!==-1;},update:function(newDate){var dateInput=typeof newDate==='string'?newDate:(this.isInput?this.element.prop('value'):this.element.data('date'));this.date=DPGlobal.parseDate(dateInput,this.format).dateObject;try{this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill();}catch(e){}
return true;},fillDow:function(){var dowCnt=this.weekStart;var html='<tr>';while(dowCnt<this.weekStart+7){var daysMinShort="";if(!_.isEmpty(this.dates.daysMin)){daysMinShort=this.dates.daysMin[(dowCnt++)%7];}else{daysMinShort=this.dates.daysShort[(dowCnt++)%7];}
html+='<th class="dow">'+daysMinShort+'</th>';}
html+='</tr>';this.picker.find('.datepicker-days thead').append(html);},fillMonths:function(){var html='';var i=0;while(i<12){html+='<span class="month">'+this.dates.monthsShort[i++]+'</span>';}
this.picker.find('.datepicker-months td').append(html);},fill:function(){var d=new Date(this.viewDate),year=d.getFullYear(),month=d.getMonth(),currentDate=this.date.valueOf();this.picker.find('.datepicker-days th:eq(1)').text(this.dates.months[month]+' '+year);var prevMonth=new Date(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getFullYear(),prevMonth.getMonth());prevMonth.setDate(day);prevMonth.setDate(day-(prevMonth.getDay()-this.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setDate(nextMonth.getDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName,prevY,prevM;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getDay()===this.weekStart){html.push('<tr>');}
clsName='';prevY=prevMonth.getFullYear();prevM=prevMonth.getMonth();if((prevM<month&&prevY===year)||prevY<year){clsName+=' old';}else if((prevM>month&&prevY===year)||prevY>year){clsName+=' new';}
if(prevMonth.valueOf()===currentDate){clsName+=' active';}
html.push('<td class="day'+clsName+'">'+prevMonth.getDate()+'</td>');if(prevMonth.getDay()===this.weekEnd){html.push('</tr>');}
prevMonth.setDate(prevMonth.getDate()+1);}
this.picker.find('.datepicker-days tbody').empty().append(html.join(''));var currentYear=this.date.getFullYear();var months=this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');if(currentYear===year){months.eq(this.date.getMonth()).addClass('active');}
html='';year=parseInt(year/10,10)*10;var yearCont=this.picker.find('.datepicker-years').find('th:eq(1)').text(year+'-'+(year+9)).end().find('td');year-=1;for(var i=-1;i<11;i++){html+='<span class="year'+(i===-1||i===10?' old':'')+(currentYear===year?' active':'')+'">'+year+'</span>';year+=1;}
yearCont.html(html);},keypress:function(e){function isFirefoxDeleteOrTabKey(){if(e.keyCode===46&&e.which===0||e.keyCode===9&&e.which===0){return true;}
return false;}
switch(e.keyCode){case 27:case 33:case 34:case 36:case 35:case 37:case 39:case 38:case 40:case 32:case 13:case 8:break;default:if(!isFirefoxDeleteOrTabKey()){var chr=String.fromCharCode(e.which);if(!this.verifyInput(chr)){e.preventDefault();}}
break;}},keydown:function(e){var self=this,sign,day,month,direction,newDate,newViewDate,dateChanged=false,element,isYearBasedMove,yearMultiplier;function _updateDate(type,sign,multiplier){multiplier=multiplier||1;if(type==='months'){newDate=DPGlobal.multiplyMonths(self.date,sign,(1*multiplier));newViewDate=DPGlobal.multiplyMonths(self.viewDate,sign,(1*multiplier));}else{newDate=new Date(self.date);newDate.setDate(self.date.getDate()+(sign*multiplier));newViewDate=new Date(self.viewDate);newViewDate.setDate(self.viewDate.getDate()+(sign*multiplier));}
dateChanged=true;}
switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 33:case 34:if(!this.enableKeyboard)break;direction=e.keyCode==33?-1:1;yearMultiplier=(e.shiftKey)?12:1;_updateDate('months',direction,yearMultiplier);break;case 36:case 35:if(!this.enableKeyboard)break;direction=e.keyCode==36?-1:1;isYearBasedMove=(e.shiftKey)?true:false;if(isYearBasedMove){if(direction<0){day=1;month=0;}else{day=31;month=11;}
newDate=new Date(self.date.getFullYear(),month,day,0,0,0);newViewDate=new Date(self.viewDate.getFullYear(),month,day,0,0,0);}else{day=(direction<0)?1:0;addmonth=(direction<0)?0:1;newDate=new Date(self.date.getFullYear(),(self.date.getMonth()+addmonth),day,0,0,0);newViewDate=new Date(self.viewDate.getFullYear(),(self.viewDate.getMonth()+addmonth),day,0,0,0);}
dateChanged=true;break;case 37:case 39:if(!this.enableKeyboard)break;direction=e.keyCode==37?-1:1;_updateDate('days',direction);break;case 38:case 40:if(!this.enableKeyboard)break;direction=e.keyCode==38?-1:1;_updateDate('days',direction,7);break;case 32:case 13:this.hide();e.preventDefault();break;default:break;}
if(dateChanged){this.date=newDate;this.viewDate=newViewDate;this.setValue(this.date);this.update(this.date);e.preventDefault();this.element.trigger({type:'changeDate',date:this.date});if(this.isInput){element=this.element;}else if(this.component){element=this.element.find('input');}
if(element){element.change();}}},click:function(e){e.stopPropagation();e.preventDefault();var target=$(e.target).closest('span, td, th, input');if(target.length===1){switch(target[0].nodeName.toLowerCase()){case'input':if(this.hidden){this.show();}
break;case'th':switch(target[0].className){case'switch':this.showMode(1);break;case'prev':case'next':this.viewDate['set'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate['get'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate)+
DPGlobal.modes[this.viewMode].navStep*(target[0].className==='prev'?-1:1));this.fill();this.set();break;}
break;case'span':if(target.is('.month')){var month=target.parent().find('span').index(target);this.viewDate.setMonth(month);}else{var year=parseInt(target.text(),10)||0;this.viewDate.setFullYear(year);}
if(this.viewMode!==0){this.date=new Date(this.viewDate);this.element.trigger({type:'changeDate',date:this.date,viewMode:DPGlobal.modes[this.viewMode].clsName});}
this.showMode(-1);this.fill();this.set();break;case'td':if(target.is('.day')){var day=parseInt(target.text(),10)||1;var month=this.viewDate.getMonth();if(target.is('.old')){month-=1;}else if(target.is('.new')){month+=1;}
var year=this.viewDate.getFullYear();this.date=new Date(year,month,day,0,0,0,0);this.viewDate=new Date(year,month,Math.min(28,day),0,0,0,0);this.fill();this.set();this.element.trigger({type:'changeDate',date:this.date,viewMode:DPGlobal.modes[this.viewMode].clsName});this.hide();}
break;}}},mousedown:function(e){e.stopPropagation();e.preventDefault();},showMode:function(dir){if(dir){this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+dir));}
this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();}};$.fn.datepicker=function(option,val){return this.each(function(){var $this=$(this),data=$this.data('datepicker'),options=typeof option==='object'&&option;if(($this).hasClass('dropdown-menu')!==true){if(!data){$this.data('datepicker',(data=new Datepicker(this,$.extend({},$.fn.datepicker.defaults,options))));}
if(typeof option==='string')data[option](val);}});};$.fn.DateVerifier=function(dateString,format){var formatObject=DPGlobal.parseFormat(format);return DPGlobal.parseDate(dateString,formatObject).inputDateStringWasValid;};$.fn.datepicker.defaults={};$.fn.datepicker.Constructor=Datepicker;var DPGlobal={modes:[{clsName:'days',navFnc:'Month',navStep:1},{clsName:'months',navFnc:'FullYear',navStep:1},{clsName:'years',navFnc:'FullYear',navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0));},multiplyMonths:function(d,sign,term){var originalDate=d.getDate(),newDate;term=term||1;d.setMonth(d.getMonth()+(sign*term));newDate=d.getDate();if(newDate<originalDate){d.setDate(1);d.setDate(d.getDate()-1);}
return d;},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month];},getPossibleDateChars:function(format){var i,len,chars;chars='0123456789';done:for(i=0,len=format.length;i<len;i++){switch(format.charAt(i)){case'/':case'.':case'-':chars+=format.charAt(i);break done;default:break;}}
return chars;},parseFormat:function(format){var separator=format.match(/[.\/\-\s].*?/),parts=format.split(/\W+/);if(!separator||!parts||parts.length===0){throw new Error("Invalid date format.");}
return{separator:separator,parts:parts};},parseDate:function(dateIn,format){var parts=dateIn.split(format.separator),date=new Date(),isLegalDate=true,val,i,cnt,originalDate,len,day,month,year,monthsSet=false,dayValue=null,isValid=true;isValid=dateIn.lastIndexOf(format.separator)!==-1;date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0);function _setDate(theDay){if(_isInRange(theDay,1,31)){date.setDate(theDay);if(date.getDate()<theDay){date.setDate(0);}}else{isValid=false;}}
function _isInRange(val,min,max){var value=parseInt(val,10);return(!isNaN(value)&&value>=min&&value<=max);}
function century(){return new Date().getFullYear().toString().substr(0,2);}
function twoDigitString(n){return n.toString().length===1?'0'+n:n.toString();}
if(parts.length===format.parts.length){for(i=0,cnt=format.parts.length;i<cnt;i++){if(!parts[i]){return false;}
val=parseInt(parts[i],10);switch(format.parts[i]){case'dd':case'd':day=val;if(!monthsSet){dayValue=val;}else{_setDate(val);}
break;case'mm':case'm':month=val-1;if(_isInRange(val,1,12)){originalDate=date.getDate();date.setMonth(val-1);if(date.getDate()<originalDate){date.setDate(0);}
if(dayValue){_setDate(dayValue);}
monthsSet=true;}else{isValid=false;}
break;case'yy':year=2000+val;len=val.toString().length;if(len===4&&century()===val.toString().substr(0,2)){date.setFullYear(century()+val.toString().substr(-2));}
else if(_isInRange(val,0,99)){date.setFullYear(century()+twoDigitString(val));}else{isValid=false;}
break;case'yyyy':year=val;len=val.toString().length;if(_isInRange(val,0,9999)){if(len<3){date.setFullYear(century()+twoDigitString(val));year=date.getFullYear();}
else if(len===3){isValid=false;}else{date.setFullYear(val);}}else{isValid=false;}
break;}}
if(isValid){date=new Date(year,month,day,0,0,0);}}else{isValid=false;}
return{'dateObject':date,'inputDateStringWasValid':isValid};},formatDate:function(date,format){var val={d:date.getDate(),m:date.getMonth()+1,yy:date.getFullYear().toString().substring(2),yyyy:date.getFullYear()};val.dd=(val.d<10?'0':'')+val.d;val.mm=(val.m<10?'0':'')+val.m;var date=[];for(var i=0,cnt=format.parts.length;i<cnt;i++){date.push(val[format.parts[i]]);}
return date.join(format.separator);},headTemplate:'<thead>'+'<tr>'+'<th class="prev">&lsaquo;</th>'+'<th colspan="5" class="switch"></th>'+'<th class="next">&rsaquo;</th>'+'</tr>'+'</thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};DPGlobal.template='<div class="datepicker dropdown-menu">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+
DPGlobal.headTemplate+'<tbody></tbody>'+'</table>'+'</div>'+'<div class="datepicker-months">'+'<table class="table-condensed">'+
DPGlobal.headTemplate+
DPGlobal.contTemplate+'</table>'+'</div>'+'<div class="datepicker-years">'+'<table class="table-condensed">'+
DPGlobal.headTemplate+
DPGlobal.contTemplate+'</table>'+'</div>'+'</div>';}(window.jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-datepicker.js */

+function($){'use strict';var Tab=function(element){this.element=$(element)}
Tab.VERSION='3.4.1'
Tab.TRANSITION_DURATION=150
Tab.prototype.show=function(){var $this=this.element
var $ul=$this.closest('ul:not(.dropdown-menu)')
var selector=$this.data('target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
if($this.parent('li').hasClass('active'))return
var $previous=$ul.find('.active:last a')
var hideEvent=$.Event('hide.bs.tab',{relatedTarget:$this[0]})
var showEvent=$.Event('show.bs.tab',{relatedTarget:$previous[0]})
$previous.trigger(hideEvent)
$this.trigger(showEvent)
if(showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented())return
var $target=$(document).find(selector)
this.activate($this.parent('li'),$ul)
this.activate($target,$target.parent(),function(){$previous.trigger({type:'hidden.bs.tab',relatedTarget:$this[0]})
$this.trigger({type:'shown.bs.tab',relatedTarget:$previous[0]})})}
Tab.prototype.activate=function(element,container,callback){var $active=container.find('> .active')
var transition=callback&&$.support.transition&&($active.length&&$active.hasClass('fade')||!!container.find('> .fade').length)
function next(){$active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',false)
element.addClass('active').find('[data-toggle="tab"]').attr('aria-expanded',true)
if(transition){element[0].offsetWidth
element.addClass('in')}else{element.removeClass('fade')}
if(element.parent('.dropdown-menu').length){element.closest('li.dropdown').addClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',true)}
callback&&callback()}
$active.length&&transition?$active.one('bsTransitionEnd',next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next()
$active.removeClass('in')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tab')
if(!data)$this.data('bs.tab',(data=new Tab(this)))
if(typeof option=='string')data[option]()})}
var old=$.fn.tab
$.fn.tab=Plugin
$.fn.tab.Constructor=Tab
$.fn.tab.noConflict=function(){$.fn.tab=old
return this}
var clickHandler=function(e){e.preventDefault()
Plugin.call($(this),'show')}
$(document).on('click.bs.tab.data-api','[data-toggle="tab"]',clickHandler).on('click.bs.tab.data-api','[data-toggle="pill"]',clickHandler)}(jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-tab.js */

!function($){"use strict";var Collapse=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.collapse.defaults,options)
if(this.options.parent){this.$parent=$(document).find(this.options.parent)}
this.options.toggle&&this.toggle()}
Collapse.prototype={constructor:Collapse,dimension:function(){var hasWidth=this.$element.hasClass('width')
return hasWidth?'width':'height'},show:function(){var dimension,scroll,actives,hasData
if(this.transitioning)return
dimension=this.dimension()
scroll=$.camelCase(['scroll',dimension].join('-'))
actives=this.$parent&&this.$parent.find('> .accordion-group > .in')
if(actives&&actives.length){hasData=actives.data('collapse')
if(hasData&&hasData.transitioning)return
actives.collapse('hide')
hasData||actives.data('collapse',null)}
this.$element[dimension](0)
this.transition('addClass',$.Event('show'),'shown')
$.support.transition&&this.$element[dimension](this.$element[0][scroll])},hide:function(){var dimension
if(this.transitioning)return
dimension=this.dimension()
this.reset(this.$element[dimension]())
this.transition('removeClass',$.Event('hide'),'hidden')
this.$element[dimension](0)},reset:function(size){var dimension=this.dimension()
this.$element.removeClass('collapse')
[dimension](size||'auto')
[0].offsetWidth
this.$element[size!==null?'addClass':'removeClass']('collapse')
return this},transition:function(method,startEvent,completeEvent){var that=this,complete=function(){if(startEvent.type=='show')that.reset()
that.transitioning=0
that.$element.trigger(completeEvent)}
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
this.transitioning=1
this.$element[method]('in')
$.support.transition&&this.$element.hasClass('collapse')?this.$element.one($.support.transition.end,complete):complete()},toggle:function(){this[this.$element.hasClass('in')?'hide':'show']()}}
$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data('collapse'),options=typeof option=='object'&&option
if(!data)$this.data('collapse',(data=new Collapse(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.collapse.defaults={toggle:true}
$.fn.collapse.Constructor=Collapse
$(document).on('click.collapse.data-api','[data-toggle=collapse]',function(e){var $this=$(this),href,target=$this.attr('data-target')||e.preventDefault()||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''),option=$(document).find(target).data('collapse')?'toggle':$this.data()
$this[$(document).find(target).hasClass('in')?'addClass':'removeClass']('collapsed')
$(document).find(target).collapse(option)})}(window.jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-collapse.js */

!function($){var Color=function(val){this.value={h:1,s:1,b:1,a:1};this.setColor(val);};Color.prototype={constructor:Color,setColor:function(val){val=val.toLowerCase();var that=this;$.each(CPGlobal.stringParsers,function(i,parser){var match=parser.re.exec(val),values=match&&parser.parse(match),space=parser.space||'rgba';if(values){if(space=='hsla'){that.value=CPGlobal.RGBtoHSB.apply(null,CPGlobal.HSLtoRGB.apply(null,values));}else{that.value=CPGlobal.RGBtoHSB.apply(null,values);}
return false;}});},setHue:function(h){this.value.h=1-h;},setSaturation:function(s){this.value.s=s;},setLightness:function(b){this.value.b=1-b;},setAlpha:function(a){this.value.a=parseInt((1-a)*100,10)/100;},toRGB:function(h,s,b,a){if(!h){h=this.value.h;s=this.value.s;b=this.value.b;}
h*=360;var R,G,B,X,C;h=(h%360)/ 60;C=b*s;X=C*(1-Math.abs(h%2-1));R=G=B=b-C;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return{r:Math.round(R*255),g:Math.round(G*255),b:Math.round(B*255),a:a||this.value.a};},toHex:function(h,s,b,a){var rgb=this.toRGB(h,s,b,a);return'#'+((1<<24)|(parseInt(rgb.r)<<16)|(parseInt(rgb.g)<<8)|parseInt(rgb.b)).toString(16).substr(1);},toHSL:function(h,s,b,a){if(!h){h=this.value.h;s=this.value.s;b=this.value.b;}
var H=h,L=(2-s)*b,S=s*b;if(L>0&&L<=1){S /=L;}else{S /=2-L;}
L /=2;if(S>1){S=1;}
return{h:H,s:S,l:L,a:a||this.value.a};}};var Colorpicker=function(element,options){this.element=$(element);var format=options.format||this.element.data('color-format')||'hex';this.format=CPGlobal.translateFormats[format];this.isInput=this.element.is('input');this.component=this.element.is('.color')?this.element.find('.add-on'):false;this.picker=$(CPGlobal.template).appendTo('body').on('mousedown',$.proxy(this.mousedown,this));if(this.isInput){this.element.on({'focus':$.proxy(this.show,this),'keyup':$.proxy(this.update,this)});}else if(this.component){this.component.on({'click':$.proxy(this.show,this)});}else{this.element.on({'click':$.proxy(this.show,this)});}
if(format=='rgba'||format=='hsla'){this.picker.addClass('alpha');this.alpha=this.picker.find('.colorpicker-alpha')[0].style;}
if(this.component){this.picker.find('.colorpicker-color').hide();this.preview=this.element.find('i')[0].style;}else{this.preview=this.picker.find('div:last')[0].style;}
this.base=this.picker.find('div:first')[0].style;this.update();};Colorpicker.prototype={constructor:Colorpicker,show:function(e){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();$(window).on('resize',$.proxy(this.place,this));if(!this.isInput){if(e){e.stopPropagation();e.preventDefault();}}
$(document).on({'mousedown':$.proxy(this.hide,this)});this.element.trigger({type:'show',color:this.color});},update:function(){this.color=new Color(this.isInput?this.element.prop('value'):this.element.data('color'));this.picker.find('i').eq(0).css({left:this.color.value.s*100,top:100-this.color.value.b*100}).end().eq(1).css('top',100*(1-this.color.value.h)).end().eq(2).css('top',100*(1-this.color.value.a));this.previewColor();},hide:function(){this.picker.hide();$(window).off('resize',this.place);if(!this.isInput){$(document).off({'mousedown':this.hide});if(this.component){this.element.find('input').prop('value',this.format.call(this));}
this.element.data('color',this.format.call(this));}else{this.element.prop('value',this.format.call(this));}
this.element.trigger({type:'hide',color:this.color});},place:function(){var offset=this.component?this.component.offset():this.element.offset();this.picker.css({top:offset.top+this.height,left:offset.left});},previewColor:function(){this.preview.backgroundColor=this.format.call(this);this.base.backgroundColor=this.color.toHex(this.color.value.h,1,1,1);if(this.alpha){this.alpha.backgroundColor=this.color.toHex();}},pointer:null,slider:null,mousedown:function(e){e.stopPropagation();e.preventDefault();var target=$(e.target);var zone=target.closest('div');if(!zone.is('.colorpicker')){if(zone.is('.colorpicker-saturation')){this.slider=$.extend({},CPGlobal.sliders['saturation']);}
else if(zone.is('.colorpicker-hue')){this.slider=$.extend({},CPGlobal.sliders['hue']);}
else if(zone.is('.colorpicker-alpha')){this.slider=$.extend({},CPGlobal.sliders['alpha']);}
var offset=zone.offset();this.slider.knob=zone.find('i')[0].style;this.slider.left=e.pageX-offset.left;this.slider.top=e.pageY-offset.top;this.pointer={left:e.pageX,top:e.pageY};$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}).trigger('mousemove');}
return false;},mousemove:function(e){e.stopPropagation();e.preventDefault();var left=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((e.pageX||this.pointer.left)-this.pointer.left)));var top=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((e.pageY||this.pointer.top)-this.pointer.top)));this.slider.knob.left=left+'px';this.slider.knob.top=top+'px';if(this.slider.callLeft){this.color[this.slider.callLeft].call(this.color,left/100);}
if(this.slider.callTop){this.color[this.slider.callTop].call(this.color,top/100);}
this.previewColor();this.element.trigger({type:'changeColor',color:this.color});return false;},mouseup:function(e){e.stopPropagation();e.preventDefault();$(document).off({mousemove:this.mousemove,mouseup:this.mouseup});return false;}}
$.fn.colorpicker=function(option){return this.each(function(){var $this=$(this),data=$this.data('colorpicker'),options=typeof option=='object'&&option;if(!data){$this.data('colorpicker',(data=new Colorpicker(this,$.extend({},$.fn.colorpicker.defaults,options))));}
if(typeof option=='string')data[option]();});};$.fn.colorpicker.defaults={};$.fn.colorpicker.Constructor=Colorpicker;var CPGlobal={translateFormats:{'rgb':function(){var rgb=this.color.toRGB();return'rgb('+rgb.r+','+rgb.g+','+rgb.b+')';},'rgba':function(){var rgb=this.color.toRGB();return'rgba('+rgb.r+','+rgb.g+','+rgb.b+','+rgb.a+')';},'hsl':function(){var hsl=this.color.toHSL();return'hsl('+Math.round(hsl.h*360)+','+Math.round(hsl.s*100)+'%,'+Math.round(hsl.l*100)+'%)';},'hsla':function(){var hsl=this.color.toHSL();return'hsla('+Math.round(hsl.h*360)+','+Math.round(hsl.s*100)+'%,'+Math.round(hsl.l*100)+'%,'+hsl.a+')';},'hex':function(){return this.color.toHex();}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:'setSaturation',callTop:'setLightness'},hue:{maxLeft:0,maxTop:100,callLeft:false,callTop:'setHue'},alpha:{maxLeft:0,maxTop:100,callLeft:false,callTop:'setAlpha'}},RGBtoHSB:function(r,g,b,a){r /=255;g /=255;b /=255;var H,S,V,C;V=Math.max(r,g,b);C=V-Math.min(r,g,b);H=(C==0?null:V==r?(g-b)/ C:V==g?(b-r)/ C+2:(r-g)/ C+4);H=((H+360)%6)*60 / 360;S=C==0?0:C / V;return{h:H||1,s:S,b:V,a:a||1};},HueToRGB:function(p,q,h){if(h<0)
h+=1;else if(h>1)
h-=1;if((h*6)<1)
return p+(q-p)*h*6;else if((h*2)<1)
return q;else if((h*3)<2)
return p+(q-p)*((2 / 3)-h)*6;else
return p;},HSLtoRGB:function(h,s,l,a){if(s<0)
s=0;if(l<=0.5)
var q=l*(1+s);else
var q=l+s-(l*s);var p=2*l-q;var tr=h+(1 / 3);var tg=h;var tb=h-(1 / 3);var r=Math.round(CPGlobal.HueToRGB(p,q,tr)*255);var g=Math.round(CPGlobal.HueToRGB(p,q,tg)*255);var b=Math.round(CPGlobal.HueToRGB(p,q,tb)*255);return[r,g,b,a||1];},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]];}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:'hsla',parse:function(execResult){return[execResult[1]/360,execResult[2]/ 100,execResult[3]/ 100,execResult[4]];}}],template:'<div class="colorpicker dropdown-menu">'+'<div class="colorpicker-saturation"><i><b></b></i></div>'+'<div class="colorpicker-hue"><i></i></div>'+'<div class="colorpicker-alpha"><i></i></div>'+'<div class="colorpicker-color"><div /></div>'+'</div>'};}(window.jQuery)
/* End of File include/javascript/twitterbootstrap/bootstrap-colorpicker.js */

/*!
 * Chart.js v3.6.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){"use strict";const t="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function e(e,i,s){const n=s||(t=>Array.prototype.slice.call(t));let o=!1,a=[];return function(...s){a=n(s),o||(o=!0,t.call(window,(()=>{o=!1,e.apply(i,a)})))}}function i(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}const s=t=>"start"===t?"left":"end"===t?"right":"center",n=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,o=(t,e,i,s)=>t===(s?"left":"right")?i:"center"===t?(e+i)/2:e;var a=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const n=e.listeners[s],o=e.duration;n.forEach((s=>s({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=t.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let o,a=n.length-1,r=!1;for(;a>=0;--a)o=n[a],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),r=!0):(n[a]=n[n.length-1],n.pop());r&&(s.draw(),this._notify(s,i,t,"progress")),n.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=n.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},l="0123456789ABCDEF",h=t=>l[15&t],c=t=>l[(240&t)>>4]+l[15&t],d=t=>(240&t)>>4==(15&t);function u(t){var e=function(t){return d(t.r)&&d(t.g)&&d(t.b)&&d(t.a)}(t)?h:c;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function f(t){return t+.5|0}const g=(t,e,i)=>Math.max(Math.min(t,i),e);function p(t){return g(f(2.55*t),0,255)}function m(t){return g(f(255*t),0,255)}function x(t){return g(f(t/2.55)/100,0,1)}function b(t){return g(f(100*t),0,100)}const _=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v(t,e,i){const s=e*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-s*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function w(t,e,i){const s=(s,n=(s+t/60)%6)=>i-i*e*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function M(t,e,i){const s=v(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)s[n]*=1-e-i,s[n]+=e;return s}function k(t){const e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),o=Math.min(e,i,s),a=(n+o)/2;let r,l,h;return n!==o&&(h=n-o,l=a>.5?h/(2-n-o):h/(n+o),r=n===e?(i-s)/h+(i<s?6:0):n===i?(s-e)/h+2:(e-i)/h+4,r=60*r+.5),[0|r,l||0,a]}function S(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(m)}function P(t,e,i){return S(v,t,e,i)}function D(t){return(t%360+360)%360}function C(t){const e=y.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?p(+e[5]):m(+e[5]));const n=D(+e[2]),o=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return S(M,t,e,i)}(n,o,a):"hsv"===e[1]?function(t,e,i){return S(w,t,e,i)}(n,o,a):P(n,o,a),{r:i[0],g:i[1],b:i[2],a:s}}const O={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},A={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let T;function L(t){T||(T=function(){const t={},e=Object.keys(A),i=Object.keys(O);let s,n,o,a,r;for(s=0;s<e.length;s++){for(a=r=e[s],n=0;n<i.length;n++)o=i[n],r=r.replace(o,O[o]);o=parseInt(A[a],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}(),T.transparent=[0,0,0,0]);const e=T[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function R(t,e,i){if(t){let s=k(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=P(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function E(t,e){return t?Object.assign(e||{},t):t}function I(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=m(t[3]))):(e=E(t,{r:0,g:0,b:0,a:1})).a=m(e.a),e}function z(t){return"r"===t.charAt(0)?function(t){const e=_.exec(t);let i,s,n,o=255;if(e){if(e[7]!==i){const t=+e[7];o=255&(e[8]?p(t):255*t)}return i=+e[1],s=+e[3],n=+e[5],i=255&(e[2]?p(i):i),s=255&(e[4]?p(s):s),n=255&(e[6]?p(n):n),{r:i,g:s,b:n,a:o}}}(t):C(t)}class F{constructor(t){if(t instanceof F)return t;const e=typeof t;let i;var s,n,o;"object"===e?i=I(t):"string"===e&&(o=(s=t).length,"#"===s[0]&&(4===o||5===o?n={r:255&17*r[s[1]],g:255&17*r[s[2]],b:255&17*r[s[3]],a:5===o?17*r[s[4]]:255}:7!==o&&9!==o||(n={r:r[s[1]]<<4|r[s[2]],g:r[s[3]]<<4|r[s[4]],b:r[s[5]]<<4|r[s[6]],a:9===o?r[s[7]]<<4|r[s[8]]:255})),i=n||L(t)||z(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=E(this._rgb);return t&&(t.a=x(t.a)),t}set rgb(t){this._rgb=I(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${x(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):this._rgb;var t}hexString(){return this._valid?u(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const e=k(t),i=e[0],s=b(e[1]),n=b(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${n}%, ${x(t.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,n=t.rgb;let o;const a=e===o?.5:e,r=2*a-1,l=s.a-n.a,h=((r*l==-1?r:(r+l)/(1+r*l))+1)/2;o=1-h,s.r=255&h*s.r+o*n.r+.5,s.g=255&h*s.g+o*n.g+.5,s.b=255&h*s.b+o*n.b+.5,s.a=a*s.a+(1-a)*n.a,i.rgb=s}return i}clone(){return new F(this.rgb)}alpha(t){return this._rgb.a=m(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=f(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return R(this._rgb,2,t),this}darken(t){return R(this._rgb,2,-t),this}saturate(t){return R(this._rgb,1,t),this}desaturate(t){return R(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=k(t);i[0]=D(i[0]+e),i=P(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function B(t){return new F(t)}const V=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function W(t){return V(t)?t:B(t)}function N(t){return V(t)?t:B(t).saturate(.5).darken(.1).hexString()}function H(){}const j=function(){let t=0;return function(){return t++}}();function $(t){return null==t}function Y(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function U(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const X=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function q(t,e){return X(t)?t:e}function K(t,e){return void 0===t?e:t}const G=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/e,Z=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Q(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function J(t,e,i,s){let n,o,a;if(Y(t))if(o=t.length,s)for(n=o-1;n>=0;n--)e.call(i,t[n],n);else for(n=0;n<o;n++)e.call(i,t[n],n);else if(U(t))for(a=Object.keys(t),o=a.length,n=0;n<o;n++)e.call(i,t[a[n]],a[n])}function tt(t,e){let i,s,n,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(n=t[i],o=e[i],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function et(t){if(Y(t))return t.map(et);if(U(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let n=0;for(;n<s;++n)e[i[n]]=et(t[i[n]]);return e}return t}function it(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function st(t,e,i,s){if(!it(t))return;const n=e[t],o=i[t];U(n)&&U(o)?nt(n,o,s):e[t]=et(o)}function nt(t,e,i){const s=Y(e)?e:[e],n=s.length;if(!U(t))return t;const o=(i=i||{}).merger||st;for(let a=0;a<n;++a){if(!U(e=s[a]))continue;const n=Object.keys(e);for(let s=0,a=n.length;s<a;++s)o(n[s],t,e,i)}return t}function ot(t,e){return nt(t,e,{merger:at})}function at(t,e,i){if(!it(t))return;const s=e[t],n=i[t];U(s)&&U(n)?ot(s,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=et(n))}function rt(t,e){const i=t.indexOf(".",e);return-1===i?t.length:i}function lt(t,e){if(""===e)return t;let i=0,s=rt(e,i);for(;t&&s>i;)t=t[e.substr(i,s-i)],i=s+1,s=rt(e,i);return t}function ht(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ct=t=>void 0!==t,dt=t=>"function"==typeof t,ut=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0},ft=Object.create(null),gt=Object.create(null);function pt(t,e){if(!e)return t;const i=e.split(".");for(let e=0,s=i.length;e<s;++e){const s=i[e];t=t[s]||(t[s]=Object.create(null))}return t}function mt(t,e,i){return"string"==typeof e?nt(pt(t,e),i):nt(pt(t,""),e)}var xt=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>N(e.backgroundColor),this.hoverBorderColor=(t,e)=>N(e.borderColor),this.hoverColor=(t,e)=>N(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}set(t,e){return mt(this,t,e)}get(t){return pt(this,t)}describe(t,e){return mt(gt,t,e)}override(t,e){return mt(ft,t,e)}route(t,e,i,s){const n=pt(this,t),o=pt(this,i),a="_"+e;Object.defineProperties(n,{[a]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[s];return U(t)?Object.assign({},e,t):K(t,e)},set(t){this[a]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});const bt=Math.PI,_t=2*bt,yt=_t+bt,vt=Number.POSITIVE_INFINITY,wt=bt/180,Mt=bt/2,kt=bt/4,St=2*bt/3,Pt=Math.log10,Dt=Math.sign;function Ct(t){const e=Math.round(t);t=Tt(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(Pt(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function Ot(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function At(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Tt(t,e,i){return Math.abs(t-e)<i}function Lt(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function Rt(t,e,i){let s,n,o;for(s=0,n=t.length;s<n;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Et(t){return t*(bt/180)}function It(t){return t*(180/bt)}function zt(t){if(!X(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Ft(t,e){const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*bt&&(o+=_t),{angle:o,distance:n}}function Bt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Vt(t,e){return(t-e+yt)%_t-bt}function Wt(t){return(t%_t+_t)%_t}function Nt(t,e,i,s){const n=Wt(t),o=Wt(e),a=Wt(i),r=Wt(o-n),l=Wt(a-n),h=Wt(n-o),c=Wt(n-a);return n===o||n===a||s&&o===a||r>l&&h<c}function Ht(t,e,i){return Math.max(e,Math.min(i,t))}function jt(t){return Ht(t,-32768,32767)}function $t(t){return!t||$(t.size)||$(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yt(t,e,i,s,n){let o=e[n];return o||(o=e[n]=t.measureText(n).width,i.push(n)),o>s&&(s=o),s}function Ut(t,e,i,s){let n=(s=s||{}).data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(n=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let a=0;const r=i.length;let l,h,c,d,u;for(l=0;l<r;l++)if(d=i[l],null!=d&&!0!==Y(d))a=Yt(t,n,o,a,d);else if(Y(d))for(h=0,c=d.length;h<c;h++)u=d[h],null==u||Y(u)||(a=Yt(t,n,o,a,u));t.restore();const f=o.length/2;if(f>i.length){for(l=0;l<f;l++)delete n[o[l]];o.splice(0,f)}return a}function Xt(t,e,i){const s=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)*s)/s+n}function qt(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Kt(t,e,i,s){let n,o,a,r,l;const h=e.pointStyle,c=e.rotation,d=e.radius;let u=(c||0)*wt;if(h&&"object"==typeof h&&(n=h.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return t.save(),t.translate(i,s),t.rotate(u),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),h){default:t.arc(i,s,d,0,_t),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=St,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),u+=St,t.lineTo(i+Math.sin(u)*d,s-Math.cos(u)*d),t.closePath();break;case"rectRounded":l=.516*d,r=d-l,o=Math.cos(u+kt)*r,a=Math.sin(u+kt)*r,t.arc(i-o,s-a,l,u-bt,u-Mt),t.arc(i+a,s-o,l,u-Mt,u),t.arc(i+o,s+a,l,u,u+Mt),t.arc(i-a,s+o,l,u+Mt,u+bt),t.closePath();break;case"rect":if(!c){r=Math.SQRT1_2*d,t.rect(i-r,s-r,2*r,2*r);break}u+=kt;case"rectRot":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+a,s-o),t.lineTo(i+o,s+a),t.lineTo(i-a,s+o),t.closePath();break;case"crossRot":u+=kt;case"cross":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a),t.moveTo(i+a,s-o),t.lineTo(i-a,s+o);break;case"star":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a),t.moveTo(i+a,s-o),t.lineTo(i-a,s+o),u+=kt,o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a),t.moveTo(i+a,s-o),t.lineTo(i-a,s+o);break;case"line":o=Math.cos(u)*d,a=Math.sin(u)*d,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(u)*d,s+Math.sin(u)*d)}t.fill(),e.borderWidth>0&&t.stroke()}}function Gt(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Zt(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Qt(t){t.restore()}function Jt(t,e,i,s,n){if(!e)return t.lineTo(i.x,i.y);if("middle"===n){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===n!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function te(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function ee(t,e,i,s,n,o={}){const a=Y(e)?e:[e],r=o.strokeWidth>0&&""!==o.strokeColor;let l,h;for(t.save(),t.font=n.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);$(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),l=0;l<a.length;++l)h=a[l],r&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),$(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(h,i,s,o.maxWidth)),t.fillText(h,i,s,o.maxWidth),ie(t,i,s,h,o),s+=n.lineHeight;t.restore()}function ie(t,e,i,s,n){if(n.strikethrough||n.underline){const o=t.measureText(s),a=e-o.actualBoundingBoxLeft,r=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,h=i+o.actualBoundingBoxDescent,c=n.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,c),t.lineTo(r,c),t.stroke()}}function se(t,e){const{x:i,y:s,w:n,h:o,radius:a}=e;t.arc(i+a.topLeft,s+a.topLeft,a.topLeft,-Mt,bt,!0),t.lineTo(i,s+o-a.bottomLeft),t.arc(i+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,bt,Mt,!0),t.lineTo(i+n-a.bottomRight,s+o),t.arc(i+n-a.bottomRight,s+o-a.bottomRight,a.bottomRight,Mt,0,!0),t.lineTo(i+n,s+a.topRight),t.arc(i+n-a.topRight,s+a.topRight,a.topRight,0,-Mt,!0),t.lineTo(i+a.topLeft,s)}function ne(t,e,i){i=i||(i=>t[i]<e);let s,n=t.length-1,o=0;for(;n-o>1;)s=o+n>>1,i(s)?o=s:n=s;return{lo:o,hi:n}}const oe=(t,e,i)=>ne(t,i,(s=>t[s][e]<i)),ae=(t,e,i)=>ne(t,i,(s=>t[s][e]>=i));function re(t,e,i){let s=0,n=t.length;for(;s<n&&t[s]<e;)s++;for(;n>s&&t[n-1]>i;)n--;return s>0||n<t.length?t.slice(s,n):t}const le=["push","pop","shift","splice","unshift"];function he(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),le.forEach((e=>{const i="_onData"+ht(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const n=s.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"==typeof t[i]&&t[i](...e)})),n}})})))}function ce(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(e);-1!==n&&s.splice(n,1),s.length>0||(le.forEach((e=>{delete t[e]})),delete t._chartjs)}function de(t){const e=new Set;let i,s;for(i=0,s=t.length;i<s;++i)e.add(t[i]);return e.size===s?t:Array.from(e)}function ue(){return"undefined"!=typeof window&&"undefined"!=typeof document}function fe(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function ge(t,e,i){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*e.parentNode[i])):s=t,s}const pe=t=>window.getComputedStyle(t,null);function me(t,e){return pe(t).getPropertyValue(e)}const xe=["top","right","bottom","left"];function be(t,e,i){const s={};i=i?"-"+i:"";for(let n=0;n<4;n++){const o=xe[n];s[o]=parseFloat(t[e+"-"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function _e(t,e){const{canvas:i,currentDevicePixelRatio:s}=e,n=pe(i),o="border-box"===n.boxSizing,a=be(n,"padding"),r=be(n,"border","width"),{x:l,y:h,box:c}=function(t,e){const i=t.native||t,s=i.touches,n=s&&s.length?s[0]:i,{offsetX:o,offsetY:a}=n;let r,l,h=!1;if(((t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot))(o,a,i.target))r=o,l=a;else{const t=e.getBoundingClientRect();r=n.clientX-t.left,l=n.clientY-t.top,h=!0}return{x:r,y:l,box:h}}(t,i),d=a.left+(c&&r.left),u=a.top+(c&&r.top);let{width:f,height:g}=e;return o&&(f-=a.width+r.width,g-=a.height+r.height),{x:Math.round((l-d)/f*i.width/s),y:Math.round((h-u)/g*i.height/s)}}const ye=t=>Math.round(10*t)/10;function ve(t,e,i,s){const n=pe(t),o=be(n,"margin"),a=ge(n.maxWidth,t,"clientWidth")||vt,r=ge(n.maxHeight,t,"clientHeight")||vt,l=function(t,e,i){let s,n;if(void 0===e||void 0===i){const o=fe(t);if(o){const t=o.getBoundingClientRect(),a=pe(o),r=be(a,"border","width"),l=be(a,"padding");e=t.width-l.width-r.width,i=t.height-l.height-r.height,s=ge(a.maxWidth,o,"clientWidth"),n=ge(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:s||vt,maxHeight:n||vt}}(t,e,i);let{width:h,height:c}=l;if("content-box"===n.boxSizing){const t=be(n,"border","width"),e=be(n,"padding");h-=e.width+t.width,c-=e.height+t.height}return h=Math.max(0,h-o.width),c=Math.max(0,s?Math.floor(h/s):c-o.height),h=ye(Math.min(h,a,l.maxWidth)),c=ye(Math.min(c,r,l.maxHeight)),h&&!c&&(c=ye(h/2)),{width:h,height:c}}function we(t,e,i){const s=e||1,n=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=n/s,t.width=o/s;const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||a.height!==n||a.width!==o)&&(t.currentDevicePixelRatio=s,a.height=n,a.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0)}const Me=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function ke(t,e){const i=me(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Se(t,e){return"native"in t?{x:t.x,y:t.y}:_e(t,e)}function Pe(t,e,i,s){const{controller:n,data:o,_sorted:a}=t,r=n._cachedMeta.iScale;if(r&&e===r.axis&&a&&o.length){const t=r._reversePixels?ae:oe;if(!s)return t(o,e,i);if(n._sharedOptions){const s=o[0],n="function"==typeof s.getRange&&s.getRange(e);if(n){const s=t(o,e,i-n),a=t(o,e,i+n);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function De(t,e,i,s,n){const o=t.getSortedVisibleDatasetMetas(),a=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:r}=o[t],{lo:l,hi:h}=Pe(o[t],e,a,n);for(let t=l;t<=h;++t){const e=r[t];e.skip||s(e,i,t)}}}function Ce(t,e,i,s){const n=[];if(!Gt(e,t.chartArea,t._minPadding))return n;return De(t,i,e,(function(t,i,o){t.inRange(e.x,e.y,s)&&n.push({element:t,datasetIndex:i,index:o})}),!0),n}function Oe(t,e,i,s,n){const o=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const n=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}(i);let a=Number.POSITIVE_INFINITY,r=[];if(!Gt(e,t.chartArea,t._minPadding))return r;return De(t,i,e,(function(i,l,h){if(s&&!i.inRange(e.x,e.y,n))return;const c=i.getCenterPoint(n);if(!Gt(c,t.chartArea,t._minPadding)&&!i.inRange(e.x,e.y,n))return;const d=o(e,c);d<a?(r=[{element:i,datasetIndex:l,index:h}],a=d):d===a&&r.push({element:i,datasetIndex:l,index:h})})),r}function Ae(t,e,i,s){const n=Se(e,t),o=[],a=i.axis,r="x"===a?"inXRange":"inYRange";let l=!1;return function(t,e){const i=t.getSortedVisibleDatasetMetas();let s,n,o;for(let t=0,a=i.length;t<a;++t){({index:s,data:n}=i[t]);for(let t=0,i=n.length;t<i;++t)o=n[t],o.skip||e(o,s,t)}}(t,((t,e,i)=>{t[r](n[a],s)&&o.push({element:t,datasetIndex:e,index:i}),t.inRange(n.x,n.y,s)&&(l=!0)})),i.intersect&&!l?[]:o}var Te={modes:{index(t,e,i,s){const n=Se(e,t),o=i.axis||"x",a=i.intersect?Ce(t,n,o,s):Oe(t,n,o,!1,s),r=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,i=t.data[e];i&&!i.skip&&r.push({element:i,datasetIndex:t.index,index:e})})),r):[]},dataset(t,e,i,s){const n=Se(e,t),o=i.axis||"xy";let a=i.intersect?Ce(t,n,o,s):Oe(t,n,o,!1,s);if(a.length>0){const e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point:(t,e,i,s)=>Ce(t,Se(e,t),i.axis||"xy",s),nearest:(t,e,i,s)=>Oe(t,Se(e,t),i.axis||"xy",i.intersect,s),x:(t,e,i,s)=>(i.axis="x",Ae(t,e,i,s)),y:(t,e,i,s)=>(i.axis="y",Ae(t,e,i,s))}};const Le=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Re=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Ee(t,e){const i=(""+t).match(Le);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}function Ie(t,e){const i={},s=U(e),n=s?Object.keys(e):e,o=U(t)?s?i=>K(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of n)i[t]=+o(t)||0;return i}function ze(t){return Ie(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Fe(t){return Ie(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Be(t){const e=ze(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ve(t,e){t=t||{},e=e||xt.font;let i=K(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let s=K(t.style,e.style);s&&!(""+s).match(Re)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const n={family:K(t.family,e.family),lineHeight:Ee(K(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:K(t.weight,e.weight),string:""};return n.string=$t(n),n}function We(t,e,i,s){let n,o,a,r=!0;for(n=0,o=t.length;n<o;++n)if(a=t[n],void 0!==a&&(void 0!==e&&"function"==typeof a&&(a=a(e),r=!1),void 0!==i&&Y(a)&&(a=a[i%a.length],r=!1),void 0!==a))return s&&!r&&(s.cacheable=!1),a}function Ne(t,e,i){const{min:s,max:n}=t,o=Z(e,(n-s)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(s,-Math.abs(o)),max:a(n,o)}}function He(t,e){return Object.assign(Object.create(t),e)}const je=["left","top","right","bottom"];function $e(t,e){return t.filter((t=>t.pos===e))}function Ye(t,e){return t.filter((t=>-1===je.indexOf(t.pos)&&t.box.axis===e))}function Ue(t,e){return t.sort(((t,i)=>{const s=e?i:t,n=e?t:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight}))}function Xe(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:s,stackWeight:n}=i;if(!t||!je.includes(s))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return e}(t),{vBoxMaxWidth:s,hBoxMaxHeight:n}=e;let o,a,r;for(o=0,a=t.length;o<a;++o){r=t[o];const{fullSize:a}=r.box,l=i[r.stack],h=l&&r.stackWeight/l.weight;r.horizontal?(r.width=h?h*s:a&&e.availableWidth,r.height=n):(r.width=s,r.height=h?h*n:a&&e.availableHeight)}return i}function qe(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function Ke(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ge(t,e,i,s){const{pos:n,box:o}=i,a=t.maxPadding;if(!U(n)){i.size&&(t[n]-=i.size);const e=s[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?o.height:o.width),i.size=e.size/e.count,t[n]+=i.size}o.getPadding&&Ke(a,o.getPadding());const r=Math.max(0,e.outerWidth-qe(a,t,"left","right")),l=Math.max(0,e.outerHeight-qe(a,t,"top","bottom")),h=r!==t.w,c=l!==t.h;return t.w=r,t.h=l,i.horizontal?{same:h,other:c}:{same:c,other:h}}function Ze(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{s[t]=Math.max(e[t],i[t])})),s}return s(t?["left","right"]:["top","bottom"])}function Qe(t,e,i,s){const n=[];let o,a,r,l,h,c;for(o=0,a=t.length,h=0;o<a;++o){r=t[o],l=r.box,l.update(r.width||e.w,r.height||e.h,Ze(r.horizontal,e));const{same:a,other:d}=Ge(e,i,r,s);h|=a&&n.length,c=c||d,l.fullSize||n.push(r)}return h&&Qe(n,e,i,s)||c}function Je(t,e,i,s,n){t.top=i,t.left=e,t.right=e+s,t.bottom=i+n,t.width=s,t.height=n}function ti(t,e,i,s){const n=i.padding;let{x:o,y:a}=e;for(const r of t){const t=r.box,l=s[r.stack]||{count:1,placed:0,weight:1},h=r.stackWeight/l.weight||1;if(r.horizontal){const s=e.w*h,o=l.size||t.height;ct(l.start)&&(a=l.start),t.fullSize?Je(t,n.left,a,i.outerWidth-n.right-n.left,o):Je(t,e.left+l.placed,a,s,o),l.start=a,l.placed+=s,a=t.bottom}else{const s=e.h*h,a=l.size||t.width;ct(l.start)&&(o=l.start),t.fullSize?Je(t,o,n.top,a,i.outerHeight-n.bottom-n.top):Je(t,o,e.top+l.placed,a,s),l.start=o,l.placed+=s,o=t.right}}e.x=o,e.y=a}xt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ei={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const n=Be(t.options.layout.padding),o=Math.max(e-n.width,0),a=Math.max(i-n.height,0),r=function(t){const e=function(t){const e=[];let i,s,n,o,a,r;for(i=0,s=(t||[]).length;i<s;++i)n=t[i],({position:o,options:{stack:a,stackWeight:r=1}}=n),e.push({index:i,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:r});return e}(t),i=Ue(e.filter((t=>t.box.fullSize)),!0),s=Ue($e(e,"left"),!0),n=Ue($e(e,"right")),o=Ue($e(e,"top"),!0),a=Ue($e(e,"bottom")),r=Ye(e,"x"),l=Ye(e,"y");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(a).concat(r),chartArea:$e(e,"chartArea"),vertical:s.concat(n).concat(l),horizontal:o.concat(a).concat(r)}}(t.boxes),l=r.vertical,h=r.horizontal;J(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),u=Object.assign({},n);Ke(u,Be(s));const f=Object.assign({maxPadding:u,w:o,h:a,x:n.left,y:n.top},n),g=Xe(l.concat(h),d);Qe(r.fullSize,f,d,g),Qe(l,f,d,g),Qe(h,f,d,g)&&Qe(l,f,d,g),function(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(f),ti(r.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,ti(r.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},J(r.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h)}))}};function ii(t,e=[""],i=t,s,n=(()=>t[0])){ct(s)||(s=fi("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:n,override:n=>ii([n,...t],e,i,s)};return new Proxy(o,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,s)=>ri(i,s,(()=>function(t,e,i,s){let n;for(const o of e)if(n=fi(oi(o,t),i),ct(n))return ai(t,n)?di(i,s,t,n):n}(s,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>gi(t).includes(e),ownKeys:t=>gi(t),set:(t,e,i)=>((t._storage||(t._storage=n()))[e]=i,delete t[e],delete t._keys,!0)})}function si(t,e,i,s){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:ni(t,s),setContext:e=>si(t,e,i,s),override:n=>si(t.override(n),e,i,s)};return new Proxy(n,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>ri(t,e,(()=>function(t,e,i){const{_proxy:s,_context:n,_subProxy:o,_descriptors:a}=t;let r=s[e];dt(r)&&a.isScriptable(e)&&(r=function(t,e,i,s){const{_proxy:n,_context:o,_subProxy:a,_stack:r}=i;if(r.has(t))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+t);r.add(t),e=e(o,a||s),r.delete(t),U(e)&&(e=di(n._scopes,n,t,e));return e}(e,r,t,i));Y(r)&&r.length&&(r=function(t,e,i,s){const{_proxy:n,_context:o,_subProxy:a,_descriptors:r}=i;if(ct(o.index)&&s(t))e=e[o.index%e.length];else if(U(e[0])){const i=e,s=n._scopes.filter((t=>t!==i));e=[];for(const l of i){const i=di(s,n,t,l);e.push(si(i,o,a&&a[t],r))}}return e}(e,r,t,a.isIndexable));ai(e,r)&&(r=si(r,n,o&&o[e],a));return r}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,s)=>(t[i]=s,delete e[i],!0)})}function ni(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:s,isScriptable:dt(i)?i:()=>i,isIndexable:dt(s)?s:()=>s}}const oi=(t,e)=>t?t+ht(e):e,ai=(t,e)=>U(e)&&"adapters"!==t;function ri(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=i();return t[e]=s,s}function li(t,e,i){return dt(t)?t(e,i):t}const hi=(t,e)=>!0===t?e:"string"==typeof t?lt(e,t):void 0;function ci(t,e,i,s){for(const n of e){const e=hi(i,n);if(e){t.add(e);const n=li(e._fallback,i,e);if(ct(n)&&n!==i&&n!==s)return n}else if(!1===e&&ct(s)&&i!==s)return null}return!1}function di(t,e,i,s){const n=e._rootScopes,o=li(e._fallback,i,s),a=[...t,...n],r=new Set;r.add(s);let l=ui(r,a,i,o||i);return null!==l&&((!ct(o)||o===i||(l=ui(r,a,o,l),null!==l))&&ii(Array.from(r),[""],n,o,(()=>function(t,e,i){const s=t._getTarget();e in s||(s[e]={});const n=s[e];if(Y(n)&&U(i))return i;return n}(e,i,s))))}function ui(t,e,i,s){for(;i;)i=ci(t,e,i,s);return i}function fi(t,e){for(const i of e){if(!i)continue;const e=i[t];if(ct(e))return e}}function gi(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}const pi=Number.EPSILON||1e-14,mi=(t,e)=>e<t.length&&!t[e].skip&&t[e],xi=t=>"x"===t?"y":"x";function bi(t,e,i,s){const n=t.skip?e:t,o=e,a=i.skip?e:i,r=Bt(o,n),l=Bt(a,o);let h=r/(r+l),c=l/(r+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const d=s*h,u=s*c;return{previous:{x:o.x-d*(a.x-n.x),y:o.y-d*(a.y-n.y)},next:{x:o.x+u*(a.x-n.x),y:o.y+u*(a.y-n.y)}}}function _i(t,e="x"){const i=xi(e),s=t.length,n=Array(s).fill(0),o=Array(s);let a,r,l,h=mi(t,0);for(a=0;a<s;++a)if(r=l,l=h,h=mi(t,a+1),l){if(h){const t=h[e]-l[e];n[a]=0!==t?(h[i]-l[i])/t:0}o[a]=r?h?Dt(n[a-1])!==Dt(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}!function(t,e,i){const s=t.length;let n,o,a,r,l,h=mi(t,0);for(let c=0;c<s-1;++c)l=h,h=mi(t,c+1),l&&h&&(Tt(e[c],0,pi)?i[c]=i[c+1]=0:(n=i[c]/e[c],o=i[c+1]/e[c],r=Math.pow(n,2)+Math.pow(o,2),r<=9||(a=3/Math.sqrt(r),i[c]=n*a*e[c],i[c+1]=o*a*e[c])))}(t,n,o),function(t,e,i="x"){const s=xi(i),n=t.length;let o,a,r,l=mi(t,0);for(let h=0;h<n;++h){if(a=r,r=l,l=mi(t,h+1),!r)continue;const n=r[i],c=r[s];a&&(o=(n-a[i])/3,r[`cp1${i}`]=n-o,r[`cp1${s}`]=c-o*e[h]),l&&(o=(l[i]-n)/3,r[`cp2${i}`]=n+o,r[`cp2${s}`]=c+o*e[h])}}(t,o,e)}function yi(t,e,i){return Math.max(Math.min(t,i),e)}function vi(t,e,i,s,n){let o,a,r,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)_i(t,n);else{let i=s?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)r=t[o],l=bi(i,r,t[Math.min(o+1,a-(s?0:1))%a],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,i=r}e.capBezierPoints&&function(t,e){let i,s,n,o,a,r=Gt(t[0],e);for(i=0,s=t.length;i<s;++i)a=o,o=r,r=i<s-1&&Gt(t[i+1],e),o&&(n=t[i],a&&(n.cp1x=yi(n.cp1x,e.left,e.right),n.cp1y=yi(n.cp1y,e.top,e.bottom)),r&&(n.cp2x=yi(n.cp2x,e.left,e.right),n.cp2y=yi(n.cp2y,e.top,e.bottom)))}(t,i)}const wi=t=>0===t||1===t,Mi=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*_t/i),ki=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*_t/i)+1,Si={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Mt),easeOutSine:t=>Math.sin(t*Mt),easeInOutSine:t=>-.5*(Math.cos(bt*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>wi(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wi(t)?t:Mi(t,.075,.3),easeOutElastic:t=>wi(t)?t:ki(t,.075,.3),easeInOutElastic(t){const e=.1125;return wi(t)?t:t<.5?.5*Mi(2*t,e,.45):.5+.5*ki(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Si.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*Si.easeInBounce(2*t):.5*Si.easeOutBounce(2*t-1)+.5};function Pi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Di(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function Ci(t,e,i,s){const n={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=Pi(t,n,i),r=Pi(n,o,i),l=Pi(o,e,i),h=Pi(a,r,i),c=Pi(r,l,i);return Pi(h,c,i)}const Oi=new Map;function Ai(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let s=Oi.get(i);return s||(s=new Intl.NumberFormat(t,e),Oi.set(i,s)),s}(e,i).format(t)}function Ti(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Li(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Ri(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ei(t){return"angle"===t?{between:Nt,compare:Vt,normalize:Wt}:{between:(t,e,i)=>t>=Math.min(e,i)&&t<=Math.max(i,e),compare:(t,e)=>t-e,normalize:t=>t}}function Ii({start:t,end:e,count:i,loop:s,style:n}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i==0,style:n}}function zi(t,e,i){if(!i)return[t];const{property:s,start:n,end:o}=i,a=e.length,{compare:r,between:l,normalize:h}=Ei(s),{start:c,end:d,loop:u,style:f}=function(t,e,i){const{property:s,start:n,end:o}=i,{between:a,normalize:r}=Ei(s),l=e.length;let h,c,{start:d,end:u,loop:f}=t;if(f){for(d+=l,u+=l,h=0,c=l;h<c&&a(r(e[d%l][s]),n,o);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:t.style}}(t,e,i),g=[];let p,m,x,b=!1,_=null;const y=()=>b||l(n,x,p)&&0!==r(n,x),v=()=>!b||0===r(o,p)||l(o,x,p);for(let t=c,i=c;t<=d;++t)m=e[t%a],m.skip||(p=h(m[s]),p!==x&&(b=l(p,n,o),null===_&&y()&&(_=0===r(p,n)?t:i),null!==_&&v()&&(g.push(Ii({start:_,end:t,loop:u,count:a,style:f})),_=null),i=t,x=p));return null!==_&&g.push(Ii({start:_,end:d,loop:u,count:a,style:f})),g}function Fi(t,e){const i=[],s=t.segments;for(let n=0;n<s.length;n++){const o=zi(s[n],t.points,e);o.length&&i.push(...o)}return i}function Bi(t,e){const i=t.points,s=t.options.spanGaps,n=i.length;if(!n)return[];const o=!!t._loop,{start:a,end:r}=function(t,e,i,s){let n=0,o=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(o+=n);o>n&&t[o%e].skip;)o--;return o%=e,{start:n,end:o}}(i,n,o,s);if(!0===s)return Vi(t,[{start:a,end:r,loop:o}],i,e);return Vi(t,function(t,e,i,s){const n=t.length,o=[];let a,r=e,l=t[e];for(a=e+1;a<=i;++a){const i=t[a%n];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%n,end:(a-1)%n,loop:s}),e=r=i.stop?a:null):(r=a,l.skip&&(e=a)),l=i}return null!==r&&o.push({start:e%n,end:r%n,loop:s}),o}(i,a,r<a?r+n:r,!!t._fullLoop&&0===a&&r===n-1),i,e)}function Vi(t,e,i,s){return s&&s.setContext&&i?function(t,e,i,s){const n=t._chart.getContext(),o=Wi(t.options),{_datasetIndex:a,options:{spanGaps:r}}=t,l=i.length,h=[];let c=o,d=e[0].start,u=d;function f(t,e,s,n){const o=r?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=o;for(;i[e%l].skip;)e+=o;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:s,style:n}),c=n,d=e%l)}}for(const t of e){d=r?d:t.start;let e,o=i[d%l];for(u=d+1;u<=t.end;u++){const r=i[u%l];e=Wi(s.setContext(He(n,{type:"segment",p0:o,p1:r,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a}))),Ni(e,c)&&f(d,u-1,t.loop,c),o=r,c=e}d<u-1&&f(d,u-1,t.loop,c)}return h}(t,e,i,s):e}function Wi(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ni(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var Hi=Object.freeze({__proto__:null,easingEffects:Si,color:W,getHoverColor:N,noop:H,uid:j,isNullOrUndef:$,isArray:Y,isObject:U,isFinite:X,finiteOrDefault:q,valueOrDefault:K,toPercentage:G,toDimension:Z,callback:Q,each:J,_elementsEqual:tt,clone:et,_merger:st,merge:nt,mergeIf:ot,_mergerIf:at,_deprecated:function(t,e,i,s){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+s+'" instead')},resolveObjectKey:lt,_capitalize:ht,defined:ct,isFunction:dt,setsEqual:ut,toFontString:$t,_measureText:Yt,_longestText:Ut,_alignPixel:Xt,clearCanvas:qt,drawPoint:Kt,_isPointInArea:Gt,clipArea:Zt,unclipArea:Qt,_steppedLineTo:Jt,_bezierCurveTo:te,renderText:ee,addRoundedRectPath:se,_lookup:ne,_lookupByKey:oe,_rlookupByKey:ae,_filterBetween:re,listenArrayEvents:he,unlistenArrayEvents:ce,_arrayUnique:de,_createResolver:ii,_attachContext:si,_descriptors:ni,splineCurve:bi,splineCurveMonotone:_i,_updateBezierControlPoints:vi,_isDomSupported:ue,_getParentNode:fe,getStyle:me,getRelativePosition:_e,getMaximumSize:ve,retinaScale:we,supportsEventListenerOptions:Me,readUsedSize:ke,fontString:function(t,e,i){return e+" "+t+"px "+i},requestAnimFrame:t,throttled:e,debounce:i,_toLeftRightCenter:s,_alignStartEnd:n,_textX:o,_pointInLine:Pi,_steppedInterpolation:Di,_bezierInterpolation:Ci,formatNumber:Ai,toLineHeight:Ee,_readValueToProps:Ie,toTRBL:ze,toTRBLCorners:Fe,toPadding:Be,toFont:Ve,resolve:We,_addGrace:Ne,createContext:He,PI:bt,TAU:_t,PITAU:yt,INFINITY:vt,RAD_PER_DEG:wt,HALF_PI:Mt,QUARTER_PI:kt,TWO_THIRDS_PI:St,log10:Pt,sign:Dt,niceNum:Ct,_factorize:Ot,isNumber:At,almostEquals:Tt,almostWhole:Lt,_setMinAndMaxByKey:Rt,toRadians:Et,toDegrees:It,_decimalPlaces:zt,getAngleFromPoint:Ft,distanceBetweenPoints:Bt,_angleDiff:Vt,_normalizeAngle:Wt,_angleBetween:Nt,_limitValue:Ht,_int16Range:jt,getRtlAdapter:Ti,overrideTextDirection:Li,restoreTextDirection:Ri,_boundSegment:zi,_boundSegments:Fi,_computeSegments:Bi});class ji{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class $i extends ji{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Yi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ui=t=>null===t||""===t;const Xi=!!Me&&{passive:!0};function qi(t,e,i){t.canvas.removeEventListener(e,i,Xi)}function Ki(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{for(const e of t)for(const t of e.addedNodes)if(t===s||t.contains(s))return i()}));return n.observe(document,{childList:!0,subtree:!0}),n}function Gi(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{for(const e of t)for(const t of e.removedNodes)if(t===s||t.contains(s))return i()}));return n.observe(document,{childList:!0,subtree:!0}),n}const Zi=new Map;let Qi=0;function Ji(){const t=window.devicePixelRatio;t!==Qi&&(Qi=t,Zi.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function ts(t,i,s){const n=t.canvas,o=n&&fe(n);if(!o)return;const a=e(((t,e)=>{const i=o.clientWidth;s(t,e),i<o.clientWidth&&s()}),window),r=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||a(i,s)}));return r.observe(o),function(t,e){Zi.size||window.addEventListener("resize",Ji),Zi.set(t,e)}(t,a),r}function es(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){Zi.delete(t),Zi.size||window.removeEventListener("resize",Ji)}(t)}function is(t,i,s){const n=t.canvas,o=e((e=>{null!==t.ctx&&s(function(t,e){const i=Yi[t.type]||t.type,{x:s,y:n}=_e(t,e);return{type:i,chart:e,native:t,x:void 0!==s?s:null,y:void 0!==n?n:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,i){t.addEventListener(e,i,Xi)}(n,i,o),o}class ss extends ji{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,s=t.getAttribute("height"),n=t.getAttribute("width");if(t.$chartjs={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Ui(n)){const e=ke(t,"width");void 0!==e&&(t.width=e)}if(Ui(s))if(""===t.style.height)t.height=t.width/(e||2);else{const e=ke(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const i=e.$chartjs.initial;["height","width"].forEach((t=>{const s=i[t];$(s)?e.removeAttribute(t):e.setAttribute(t,s)}));const s=i.style||{};return Object.keys(s).forEach((t=>{e.style[t]=s[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),n={attach:Ki,detach:Gi,resize:ts}[e]||is;s[e]=n(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:es,detach:es,resize:es}[e]||qi)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return ve(t,e,i,s)}isAttached(t){const e=fe(t);return!(!e||!e.isConnected)}}function ns(t){return!ue()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?$i:ss}var os=Object.freeze({__proto__:null,_detectPlatform:ns,BasePlatform:ji,BasicPlatform:$i,DomPlatform:ss});const as="transparent",rs={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const s=W(t||as),n=s.valid&&W(e||as);return n&&n.valid?n.mix(s,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class ls{constructor(t,e,i,s){const n=e[i];s=We([t.to,s,n,t.from]);const o=We([t.from,n,s]);this._active=!0,this._fn=t.fn||rs[t.type||typeof o],this._easing=Si[t.easing]||Si.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],n=i-this._start,o=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=We([t.to,e,s,t.from]),this._from=We([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,n=this._from,o=this._loop,a=this._to;let r;if(this._active=n!==a&&(o||e<i),!this._active)return this._target[s]=a,void this._notify(!0);e<0?this._target[s]=n:(r=e/i%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[s]=this._fn(n,a,r))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}xt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const hs=Object.keys(xt.animation);xt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),xt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),xt.describe("animations",{_fallback:"animation"}),xt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class cs{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!U(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const s=t[i];if(!U(s))return;const n={};for(const t of hs)n[t]=s[t];(Y(s.properties)&&s.properties||[i]).forEach((t=>{t!==i&&e.has(t)||e.set(t,n)}))}))}_animateOptions(t,e){const i=e.options,s=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!s)return[];const n=this._createAnimations(s,i);return i.$shared&&function(t,e){const i=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const n=t[s[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),n}_createAnimations(t,e){const i=this._properties,s=[],n=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(t,e));continue}const h=e[l];let c=n[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,h,a);continue}c.cancel()}d&&d.duration?(n[l]=c=new ls(d,t,l,h),s.push(c)):t[l]=h}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(a.add(this._chart,i),!0):void 0}}function ds(t,e){const i=t&&t.options||{},s=i.reverse,n=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:n,end:s?n:o}}function us(t,e){const i=[],s=t._getSortedDatasetMetas(e);let n,o;for(n=0,o=s.length;n<o;++n)i.push(s[n].index);return i}function fs(t,e,i,s={}){const n=t.keys,o="single"===s.mode;let a,r,l,h;if(null!==e){for(a=0,r=n.length;a<r;++a){if(l=+n[a],l===i){if(s.all)continue;break}h=t.values[l],X(h)&&(o||0===e||Dt(e)===Dt(h))&&(e+=h)}return e}}function gs(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function ps(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function ms(t,e,i,s){for(const n of e.getMatchingVisibleMetas(s).reverse()){const e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function xs(t,e){const{chart:i,_cachedMeta:s}=t,n=i._stacks||(i._stacks={}),{iScale:o,vScale:a,index:r}=s,l=o.axis,h=a.axis,c=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(o,a,s),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[l]:o,[h]:d}=i;u=(i._stacks||(i._stacks={}))[h]=ps(n,c,o),u[r]=d,u._top=ms(u,a,!0,s.type),u._bottom=ms(u,a,!1,s.type)}}function bs(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function _s(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[s]||void 0===e[s][i])return;delete e[s][i]}}}const ys=t=>"reset"===t||"none"===t,vs=(t,e)=>e?t:Object.assign({},t);class ws{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=gs(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&_s(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,n=e.xAxisID=K(i.xAxisID,bs(t,"x")),o=e.yAxisID=K(i.yAxisID,bs(t,"y")),a=e.rAxisID=K(i.rAxisID,bs(t,"r")),r=e.indexAxis,l=e.iAxisID=s(r,n,o,a),h=e.vAxisID=s(r,o,n,a);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ce(this._data,this),t._stacked&&_s(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(U(e))this._data=function(t){const e=Object.keys(t),i=new Array(e.length);let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],i[s]={x:o,y:t[o]};return i}(e);else if(i!==e){if(i){ce(i,this);const t=this._cachedMeta;_s(t),t._parsed=[]}e&&Object.isExtensible(e)&&he(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const n=e._stacked;e._stacked=gs(e.vScale,e),e.stack!==i.stack&&(s=!0,_s(e),e.stack=i.stack),this._resyncElements(t),(s||n!==e._stacked)&&xs(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:n,_stacked:o}=i,a=n.axis;let r,l,h,c=0===t&&e===s.length||i._sorted,d=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,h=s;else{h=Y(s[t])?this.parseArrayData(i,s,t,e):U(s[t])?this.parseObjectData(i,s,t,e):this.parsePrimitiveData(i,s,t,e);const n=()=>null===l[a]||d&&l[a]<d[a];for(r=0;r<e;++r)i._parsed[r+t]=l=h[r],c&&(n()&&(c=!1),d=l);i._sorted=c}o&&xs(this,h)}parsePrimitiveData(t,e,i,s){const{iScale:n,vScale:o}=t,a=n.axis,r=o.axis,l=n.getLabels(),h=n===o,c=new Array(s);let d,u,f;for(d=0,u=s;d<u;++d)f=d+i,c[d]={[a]:h||n.parse(l[f],f),[r]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,s){const{xScale:n,yScale:o}=t,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={x:n.parse(c[0],h),y:o.parse(c[1],h)};return a}parseObjectData(t,e,i,s){const{xScale:n,yScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this._parsing,l=new Array(s);let h,c,d,u;for(h=0,c=s;h<c;++h)d=h+i,u=e[d],l[h]={x:n.parse(lt(u,a),d),y:o.parse(lt(u,r),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,n=this._cachedMeta,o=e[t.axis];return fs({keys:us(s,!0),values:e._stacks[t.axis]},o,n.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const n=i[e.axis];let o=null===n?NaN:n;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=fs(s,n,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,n=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),r=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:us(i,!0),values:null})(e,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=function(t){const{min:e,max:i,minDefined:s,maxDefined:n}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(a);let d,u;function f(){u=s[d];const e=u[a.axis];return!X(u[t.axis])||h>e||c<e}for(d=0;d<o&&(f()||(this.updateRangeFromParsed(l,t,u,r),!n));++d);if(n)for(d=o-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,t,u,r);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s][t.axis],X(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:s?""+s.getLabelForValue(n[s.axis]):""}}_update(t){const e=this._cachedMeta;this.configure(),this._cachedDataOpts={},this.update(t||"default"),e._clip=function(t){let e,i,s,n;return U(t)?(e=t.top,i=t.right,s=t.bottom,n=t.left):e=i=s=n=t,{top:e,right:i,bottom:s,left:n,disabled:!1===t}}(K(this.options.clip,function(t,e,i){if(!1===i)return!1;const s=ds(t,i),n=ds(e,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],n=e.chartArea,o=[],a=this._drawStart||0,r=this._drawCount||s.length-a;let l;for(i.dataset&&i.dataset.draw(t,n,a,r),l=a;l<a+r;++l){const e=s[l];e.hidden||(e.active?o.push(e):e.draw(t,n))}for(l=0;l<o.length;++l)o[l].draw(t,n)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,i){return He(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return He(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s="active"===e,n=this._cachedDataOpts,o=t+"-"+e,a=n[o],r=this.enableOptionSharing&&ct(i);if(a)return vs(a,r);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=s?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(xt.elements[t]),f=l.resolveNamedOptions(d,u,(()=>this.getContext(i,s)),c);return f.$shared&&(f.$shared=r,n[o]=Object.freeze(vs(f,r))),f}_resolveAnimations(t,e,i){const s=this.chart,n=this._cachedDataOpts,o=`animation-${e}`,a=n[o];if(a)return a;let r;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,e),o=s.getOptionScopes(this.getDataset(),n);r=s.createResolver(o,this.getContext(t,i,e))}const l=new cs(s,r&&r.animations);return r&&r._cacheable&&(n[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ys(t)||this.chart._animationsDisabled}updateElement(t,e,i,s){ys(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!ys(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const n=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const s=i.length,n=e.length,o=Math.min(n,s);o&&this.parse(0,o),n>s?this._insertElements(s,n-s,t):n<s&&this._removeElements(n,s-n)}_insertElements(t,e,i=!0){const s=this._cachedMeta,n=s.data,o=t+e;let a;const r=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(r(n),a=t;a<o;++a)n[a]=new this.dataElementType;this._parsing&&r(s._parsed),this.parse(t,e),i&&this.updateElements(n,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&_s(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){this._sync(["_removeElements",t,e]),this._sync(["_insertElements",t,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ws.defaults={},ws.prototype.datasetElementType=null,ws.prototype.dataElementType=null;class Ms{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return At(this.x)&&At(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach((t=>{s[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),s}}Ms.defaults={},Ms.defaultRoutes=void 0;const ks={values:t=>Y(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale;let n,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(n="scientific"),o=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const a=Pt(Math.abs(o)),r=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),Ai(t,s,l)},logarithmic(t,e,i){if(0===t)return"0";const s=t/Math.pow(10,Math.floor(Pt(t)));return 1===s||2===s||5===s?ks.numeric.call(this,t,e,i):""}};var Ss={formatters:ks};function Ps(t,e){const i=t.options.ticks,s=i.maxTicksLimit||function(t){const e=t.options.offset,i=t._tickSize(),s=t._length/i+(e?0:1),n=t._maxLength/i;return Math.floor(Math.min(s,n))}(t),n=i.major.enabled?function(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}(e):[],o=n.length,a=n[0],r=n[o-1],l=[];if(o>s)return function(t,e,i,s){let n,o=0,a=i[0];for(s=Math.ceil(s),n=0;n<t.length;n++)n===a&&(e.push(t[n]),o++,a=i[o*s])}(e,l,n,o/s),l;const h=function(t,e,i){const s=function(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),n=e.length/i;if(!s)return Math.max(n,1);const o=Ot(s);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>n)return e}return Math.max(n,1)}(n,e,s);if(o>0){let t,i;const s=o>1?Math.round((r-a)/(o-1)):null;for(Ds(e,l,h,$(s)?0:a-s,a),t=0,i=o-1;t<i;t++)Ds(e,l,h,n[t],n[t+1]);return Ds(e,l,h,r,$(s)?e.length:r+s),l}return Ds(e,l,h),l}function Ds(t,e,i,s,n){const o=K(s,0),a=Math.min(K(n,t.length),t.length);let r,l,h,c=0;for(i=Math.ceil(i),n&&(r=n-s,i=r/Math.floor(r/i)),h=o;h<0;)c++,h=Math.round(o+c*i);for(l=Math.max(o,0);l<a;l++)l===h&&(e.push(t[l]),c++,h=Math.round(o+c*i))}xt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ss.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),xt.route("scale.ticks","color","","color"),xt.route("scale.grid","color","","borderColor"),xt.route("scale.grid","borderColor","","borderColor"),xt.route("scale.title","color","","color"),xt.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),xt.describe("scales",{_fallback:"scale"}),xt.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const Cs=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i;function Os(t,e){const i=[],s=t.length/e,n=t.length;let o=0;for(;o<n;o+=s)i.push(t[Math.floor(o)]);return i}function As(t,e,i){const s=t.ticks.length,n=Math.min(e,s-1),o=t._startPixel,a=t._endPixel,r=1e-6;let l,h=t.getPixelForTick(n);if(!(i&&(l=1===s?Math.max(h-o,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(n-1))/2,h+=n<e?l:-l,h<o-r||h>a+r)))return h}function Ts(t){return t.drawTicks?t.tickLength:0}function Ls(t,e){if(!t.display)return 0;const i=Ve(t.font,e),s=Be(t.padding);return(Y(t.text)?t.text.length:1)*i.lineHeight+s.height}function Rs(t,e,i){let n=s(t);return(i&&"right"!==e||!i&&"right"===e)&&(n=(t=>"left"===t?"right":"right"===t?"left":t)(n)),n}class Es extends Ms{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=q(t,Number.POSITIVE_INFINITY),e=q(e,Number.NEGATIVE_INFINITY),i=q(i,Number.POSITIVE_INFINITY),s=q(s,Number.NEGATIVE_INFINITY),{min:q(t,i),max:q(e,s),minDefined:X(t),maxDefined:X(e)}}getMinMax(t){let e,{min:i,max:s,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:i,max:s};const a=this.getMatchingVisibleMetas();for(let r=0,l=a.length;r<l;++r)e=a[r].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),o||(s=Math.max(s,e.max));return i=o&&i>s?s:i,s=n&&i>s?i:s,{min:q(i,q(s,i)),max:q(s,q(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Q(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:n,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ne(this,n,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=a<this.ticks.length;this._convertTicksToLabels(r?Os(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=Ps(this,this.ticks),this._labelSizes=null),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Q(this.options.afterUpdate,[this])}beforeSetDimensions(){Q(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Q(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Q(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,n;for(i=0,s=t.length;i<s;i++)n=t[i],n.label=Q(e.callback,[n.value,i,t],this)}afterTickToLabelConversion(){Q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,s=e.minRotation||0,n=e.maxRotation;let o,a,r,l=s;if(!this._isVisible()||!e.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),c=h.widest.width,d=h.highest.height,u=Ht(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/i:u/(i-1),c+6>o&&(o=u/(i-(t.offset?.5:1)),a=this.maxHeight-Ts(t.grid)-e.padding-Ls(t.title,this.chart.options.font),r=Math.sqrt(c*c+d*d),l=It(Math.min(Math.asin(Ht((h.highest.height+6)/o,-1,1)),Math.asin(Ht(a/r,-1,1))-Math.asin(Ht(d/r,-1,1)))),l=Math.max(s,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){Q(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Q(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:n}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=Ls(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ts(n)+o):(t.height=this.maxHeight,t.width=Ts(n)+o),i.display&&this.ticks.length){const{first:e,last:s,widest:n,highest:o}=this._getLabelSizes(),r=2*i.padding,l=Et(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(a){const e=i.mirror?0:c*n.width+h*o.height;t.height=Math.min(this.maxHeight,t.height+e+r)}else{const e=i.mirror?0:h*n.width+c*o.height;t.width=Math.min(this.maxWidth,t.width+e+r)}this._calculatePadding(e,s,c,h)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:n,padding:o},position:a}=this.options,r=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;r?l?(c=s*t.width,d=i*e.height):(c=i*t.height,d=s*e.width):"start"===n?d=e.width:"end"===n?c=t.width:(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let i=e.height/2,s=t.height/2;"start"===n?(i=0,s=t.height):"end"===n&&(i=e.height,s=0),this.paddingTop=i+o,this.paddingBottom=s+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Q(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)$(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Os(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:s}=this,n=[],o=[];let a,r,l,h,c,d,u,f,g,p,m,x=0,b=0;for(a=0;a<e;++a){if(h=t[a].label,c=this._resolveTickFontOptions(a),i.font=d=c.string,u=s[d]=s[d]||{data:{},gc:[]},f=c.lineHeight,g=p=0,$(h)||Y(h)){if(Y(h))for(r=0,l=h.length;r<l;++r)m=h[r],$(m)||Y(m)||(g=Yt(i,u.data,u.gc,g,m),p+=f)}else g=Yt(i,u.data,u.gc,g,h),p=f;n.push(g),o.push(p),x=Math.max(g,x),b=Math.max(p,b)}!function(t,e){J(t,(t=>{const i=t.gc,s=i.length/2;let n;if(s>e){for(n=0;n<s;++n)delete t.data[i[n]];i.splice(0,s)}}))}(s,e);const _=n.indexOf(x),y=o.indexOf(b),v=t=>({width:n[t]||0,height:o[t]||0});return{first:v(0),last:v(e-1),widest:v(_),highest:v(y),widths:n,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return jt(this._alignToPixels?Xt(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return He(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=He(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Et(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),n=this._getLabelSizes(),o=t.autoSkipPadding||0,a=n?n.widest.width+o:0,r=n?n.highest.height+o:0;return this.isHorizontal()?r*i>a*s?a/i:r/s:r*s<a*i?r/i:a/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:n,position:o}=s,a=n.offset,r=this.isHorizontal(),l=this.ticks.length+(a?1:0),h=Ts(n),c=[],d=n.setContext(this.getContext()),u=d.drawBorder?d.borderWidth:0,f=u/2,g=function(t){return Xt(i,t,u)};let p,m,x,b,_,y,v,w,M,k,S,P;if("top"===o)p=g(this.bottom),y=this.bottom-h,w=p-f,k=g(t.top)+f,P=t.bottom;else if("bottom"===o)p=g(this.top),k=t.top,P=g(t.bottom)-f,y=p+f,w=this.top+h;else if("left"===o)p=g(this.right),_=this.right-h,v=p-f,M=g(t.left)+f,S=t.right;else if("right"===o)p=g(this.left),M=t.left,S=g(t.right)-f,_=p+f,v=this.left+h;else if("x"===e){if("center"===o)p=g((t.top+t.bottom)/2+.5);else if(U(o)){const t=Object.keys(o)[0],e=o[t];p=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,P=t.bottom,y=p+f,w=y+h}else if("y"===e){if("center"===o)p=g((t.left+t.right)/2);else if(U(o)){const t=Object.keys(o)[0],e=o[t];p=g(this.chart.scales[t].getPixelForValue(e))}_=p-f,v=_-h,M=t.left,S=t.right}const D=K(s.ticks.maxTicksLimit,l),C=Math.max(1,Math.ceil(l/D));for(m=0;m<l;m+=C){const t=n.setContext(this.getContext(m)),e=t.lineWidth,s=t.color,o=n.borderDash||[],l=t.borderDashOffset,h=t.tickWidth,d=t.tickColor,u=t.tickBorderDash||[],f=t.tickBorderDashOffset;x=As(this,m,a),void 0!==x&&(b=Xt(i,x,e),r?_=v=M=S=b:y=w=k=P=b,c.push({tx1:_,ty1:y,tx2:v,ty2:w,x1:M,y1:k,x2:S,y2:P,width:e,color:s,borderDash:o,borderDashOffset:l,tickWidth:h,tickColor:d,tickBorderDash:u,tickBorderDashOffset:f}))}return this._ticksLength=l,this._borderValue=p,c}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:n}=i,o=this.isHorizontal(),a=this.ticks,{align:r,crossAlign:l,padding:h,mirror:c}=n,d=Ts(i.grid),u=d+h,f=c?-h:u,g=-Et(this.labelRotation),p=[];let m,x,b,_,y,v,w,M,k,S,P,D,C="middle";if("top"===s)v=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===s)v=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===s){const t=this._getYAxisLabelAlignment(d);w=t.textAlign,y=t.x}else if("right"===s){const t=this._getYAxisLabelAlignment(d);w=t.textAlign,y=t.x}else if("x"===e){if("center"===s)v=(t.top+t.bottom)/2+u;else if(U(s)){const t=Object.keys(s)[0],e=s[t];v=this.chart.scales[t].getPixelForValue(e)+u}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)y=(t.left+t.right)/2-u;else if(U(s)){const t=Object.keys(s)[0],e=s[t];y=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===r?C="top":"end"===r&&(C="bottom"));const O=this._getLabelSizes();for(m=0,x=a.length;m<x;++m){b=a[m],_=b.label;const t=n.setContext(this.getContext(m));M=this.getPixelForTick(m)+n.labelOffset,k=this._resolveTickFontOptions(m),S=k.lineHeight,P=Y(_)?_.length:1;const e=P/2,i=t.color,r=t.textStrokeColor,h=t.textStrokeWidth;let d;if(o?(y=M,D="top"===s?"near"===l||0!==g?-P*S+S/2:"center"===l?-O.highest.height/2-e*S+S:-O.highest.height+S/2:"near"===l||0!==g?S/2:"center"===l?O.highest.height/2-e*S:O.highest.height-P*S,c&&(D*=-1)):(v=M,D=(1-P)*S/2),t.showLabelBackdrop){const e=Be(t.backdropPadding),i=O.heights[m],s=O.widths[m];let n=v+D-e.top,o=y-e.left;switch(C){case"middle":n-=i/2;break;case"bottom":n-=i}switch(w){case"center":o-=s/2;break;case"right":o-=s}d={left:o,top:n,width:s+e.width,height:i+e.height,color:t.backdropColor}}p.push({rotation:g,label:_,font:k,color:i,strokeColor:r,strokeWidth:h,textOffset:D,textAlign:w,textBaseline:C,translation:[y,v],backdrop:d})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Et(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align&&(i="right"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,o=t+n,a=this._getLabelSizes().widest.width;let r,l;return"left"===e?s?(l=this.right+n,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l+=a)):(l=this.right-o,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l=this.left)):"right"===e?s?(l=this.left+n,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l-=a)):(l=this.left+o,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l=this.right)):r="right",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:n,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,n,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,o;const a=(t,e,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(n=0,o=s.length;n<o;++n){const t=s[n];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,s=i.setContext(this.getContext()),n=i.drawBorder?s.borderWidth:0;if(!n)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let r,l,h,c;this.isHorizontal()?(r=Xt(t,this.left,n)-n/2,l=Xt(t,this.right,o)+o/2,h=c=a):(h=Xt(t,this.top,n)-n/2,c=Xt(t,this.bottom,o)+o/2,r=l=a),e.save(),e.lineWidth=s.borderWidth,e.strokeStyle=s.borderColor,e.beginPath(),e.moveTo(r,h),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&Zt(e,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let n,o;for(n=0,o=s.length;n<o;++n){const t=s[n],i=t.font,o=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),ee(e,o,0,t.textOffset,i,t)}i&&Qt(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=Ve(i.font),a=Be(i.padding),r=i.align;let l=o.lineHeight/2;"bottom"===e||"center"===e||U(e)?(l+=a.bottom,Y(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:h,titleY:c,maxWidth:d,rotation:u}=function(t,e,i,s){const{top:o,left:a,bottom:r,right:l,chart:h}=t,{chartArea:c,scales:d}=h;let u,f,g,p=0;const m=r-o,x=l-a;if(t.isHorizontal()){if(f=n(s,a,l),U(i)){const t=Object.keys(i)[0],s=i[t];g=d[t].getPixelForValue(s)+m-e}else g="center"===i?(c.bottom+c.top)/2+m-e:Cs(t,i,e);u=l-a}else{if(U(i)){const t=Object.keys(i)[0],s=i[t];f=d[t].getPixelForValue(s)-x+e}else f="center"===i?(c.left+c.right)/2-x+e:Cs(t,i,e);g=n(s,r,o),p="left"===i?-Mt:Mt}return{titleX:f,titleY:g,maxWidth:u,rotation:p}}(this,l,e,r);ee(t,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:u,textAlign:Rs(r,e,s),textBaseline:"middle",translation:[h,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=K(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Es.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let n,o;for(n=0,o=e.length;n<o;++n){const o=e[n];o[i]!==this.id||t&&o.type!==t||s.push(o)}return s}_resolveTickFontOptions(t){return Ve(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Is{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const s=this.items,n=t.id,o=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in s||(s[n]=t,function(t,e,i){const s=nt(Object.create(null),[i?xt.get(i):{},xt.get(e),t.defaults]);xt.set(e,s),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const s=i.split("."),n=s.pop(),o=[t].concat(s).join("."),a=e[i].split("."),r=a.pop(),l=a.join(".");xt.route(o,n,l,r)}))}(e,t.defaultRoutes);t.descriptors&&xt.describe(e,t.descriptors)}(t,o,i),this.override&&xt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in xt[s]&&(delete xt[s][i],this.override&&delete ft[i])}}var zs=new class{constructor(){this.controllers=new Is(ws,"datasets",!0),this.elements=new Is(Ms,"elements"),this.plugins=new Is(Object,"plugins"),this.scales=new Is(Es,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const s=i||this._getRegistryForType(e);i||s.isForType(e)||s===this.plugins&&e.id?this._exec(t,s,e):J(e,(e=>{const s=i||this._getRegistryForType(e);this._exec(t,s,e)}))}))}_exec(t,e,i){const s=ht(t);Q(i["before"+s],[],i),e[t](i),Q(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}};class Fs{constructor(){this._init=[]}notify(t,e,i,s){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const n=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(n,t,e,i);return"destroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const n of t){const t=n.plugin;if(!1===Q(t[i],[e,s,n.options],t)&&s.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=K(i.options&&i.options.plugins,{}),n=function(t){const e=[],i=Object.keys(zs.plugins.items);for(let t=0;t<i.length;t++)e.push(zs.getPlugin(i[t]));const s=t.plugins||[];for(let t=0;t<s.length;t++){const i=s[t];-1===e.indexOf(i)&&e.push(i)}return e}(i);return!1!==s||e?function(t,e,i,s){const n=[],o=t.getContext();for(let a=0;a<e.length;a++){const r=e[a],l=Bs(i[r.id],s);null!==l&&n.push({plugin:r,options:Vs(t.config,r,l,o)})}return n}(t,n,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function Bs(t,e){return e||!1!==t?!0===t?{}:t:null}function Vs(t,e,i,s){const n=t.pluginScopeKeys(e),o=t.getOptionScopes(i,n);return t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ws(t,e){const i=xt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Ns(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(i=e.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.charAt(0).toLowerCase();var i}function Hs(t){const e=t.options||(t.options={});e.plugins=K(e.plugins,{}),e.scales=function(t,e){const i=ft[t.type]||{scales:{}},s=e.scales||{},n=Ws(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(s).forEach((t=>{const e=s[t];if(!U(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const r=Ns(t,e),l=function(t,e){return t===e?"_index_":"_value_"}(r,n),h=i.scales||{};o[r]=o[r]||t,a[t]=ot(Object.create(null),[{axis:r},e,h[r],h[l]])})),t.data.datasets.forEach((i=>{const n=i.type||t.type,r=i.indexAxis||Ws(n,e),l=(ft[n]||{}).scales||{};Object.keys(l).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,r),n=i[e+"AxisID"]||o[e]||e;a[n]=a[n]||Object.create(null),ot(a[n],[{axis:e},s[n],l[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];ot(e,[xt.scales[e.type],xt.scale])})),a}(t,e)}function js(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const $s=new Map,Ys=new Set;function Us(t,e){let i=$s.get(t);return i||(i=e(),$s.set(t,i),Ys.add(i)),i}const Xs=(t,e,i)=>{const s=lt(e,i);void 0!==s&&t.add(s)};class qs{constructor(t){this._config=function(t){return(t=t||{}).data=js(t.data),Hs(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=js(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Hs(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Us(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return Us(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return Us(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return Us(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return s&&!e||(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:n}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const r=new Set;e.forEach((e=>{t&&(r.add(t),e.forEach((e=>Xs(r,t,e)))),e.forEach((t=>Xs(r,s,t))),e.forEach((t=>Xs(r,ft[n]||{},t))),e.forEach((t=>Xs(r,xt,t))),e.forEach((t=>Xs(r,gt,t)))}));const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),Ys.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,ft[e]||{},xt.datasets[e]||{},{type:e},xt,gt]}resolveNamedOptions(t,e,i,s=[""]){const n={$shared:!0},{resolver:o,subPrefixes:a}=Ks(this._resolverCache,t,s);let r=o;if(function(t,e){const{isScriptable:i,isIndexable:s}=ni(t);for(const n of e){const e=i(n),o=s(n),a=(o||e)&&t[n];if(e&&(dt(a)||Gs(a))||o&&Y(a))return!0}return!1}(o,e)){n.$shared=!1;r=si(o,i=dt(i)?i():i,this.createResolver(t,i,a))}for(const t of e)n[t]=r[t];return n}createResolver(t,e,i=[""],s){const{resolver:n}=Ks(this._resolverCache,t,i);return U(e)?si(n,e,void 0,s):n}}function Ks(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const n=i.join();let o=s.get(n);if(!o){o={resolver:ii(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},s.set(n,o)}return o}const Gs=t=>U(t)&&Object.getOwnPropertyNames(t).reduce(((e,i)=>e||dt(t[i])),!1);const Zs=["top","bottom","left","right","chartArea"];function Qs(t,e){return"top"===t||"bottom"===t||-1===Zs.indexOf(t)&&"x"===e}function Js(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function tn(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Q(i&&i.onComplete,[t],e)}function en(t){const e=t.chart,i=e.options.animation;Q(i&&i.onProgress,[t],e)}function sn(t){return ue()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const nn={},on=t=>{const e=sn(t);return Object.values(nn).filter((t=>t.canvas===e)).pop()};class an{constructor(t,e){const s=this.config=new qs(e),n=sn(t),o=on(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||ns(n)),this.platform.updateConfig(s);const l=this.platform.acquireContext(n,r.aspectRatio),h=l&&l.canvas,c=h&&h.height,d=h&&h.width;this.id=j(),this.ctx=l,this.canvas=h,this.width=d,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fs,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=i((t=>this.update(t)),r.resizeDelay||0),nn[this.id]=this,l&&h?(a.listen(this,"complete",tn),a.listen(this,"progress",en),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:n}=this;return $(t)?e&&n?n:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():we(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qt(this.canvas,this.ctx),this}stop(){return a.stop(this),this}resize(t,e){a.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,n),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,we(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Q(i.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){J(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let n=[];e&&(n=n.concat(Object.keys(e).map((t=>{const i=e[t],s=Ns(t,i),n="r"===s,o="x"===s;return{options:i,dposition:n?"chartArea":o?"bottom":"left",dtype:n?"radialLinear":o?"category":"linear"}})))),J(n,(e=>{const n=e.options,o=n.id,a=Ns(o,n),r=K(n.type,e.dtype);void 0!==n.position&&Qs(n.position,a)===Qs(e.dposition)||(n.position=e.dposition),s[o]=!0;let l=null;if(o in i&&i[o].type===r)l=i[o];else{l=new(zs.getScale(r))({id:o,type:r,ctx:this.ctx,chart:this}),i[l.id]=l}l.init(n,t)})),J(s,((t,e)=>{t||delete i[e]})),J(i,(t=>{ei.configure(this,t,t.options),ei.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Js("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const s=e[i];let n=this.getDatasetMeta(i);const o=s.type||this.config.type;if(n.type&&n.type!==o&&(this._destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=o,n.indexAxis=s.indexAxis||Ws(o,this.options),n.order=s.order||0,n.index=i,n.label=""+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const e=zs.getController(o),{datasetElementType:s,dataElementType:a}=xt.datasets[o];Object.assign(e.prototype,{dataElementType:zs.getElement(a),datasetElementType:s&&zs.getElement(s)}),n.controller=new e(this,i),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){J(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext());J(this.scales,(t=>{ei.removeBox(this,t)}));const s=this._animationsDisabled=!i.animation;this.ensureScalesHaveIDs(),this.buildOrUpdateScales();const n=new Set(Object.keys(this._listeners)),o=new Set(i.events);if(ut(n,o)&&!!this._responsiveListeners===i.responsive||(this.unbindEvents(),this.bindEvents()),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!s&&-1===a.indexOf(e);e.buildOrUpdateElements(i),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||J(a,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Js("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ei.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],J(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,dt(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(a.has(this)?this.attached&&!a.running(this)&&a.start(this):(this.draw(),tn({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,n;for(s=0,n=e.length;s<n;++s){const n=e[s];t&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,n=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(s&&Zt(e,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),t.controller.draw(),s&&Qt(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}getElementsAtEventForMode(t,e,i,s){const n=Te.modes[e];return"function"==typeof n?n(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter((t=>t&&t._dataset===e)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=He(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",n=this.getDatasetMeta(t),o=n.controller._resolveAnimations(void 0,s);ct(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(n,{visible:i}),this.update((e=>e.datasetIndex===t?s:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),a.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),qt(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete nn[this.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};J(this.options.events,(t=>i(t,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(i,s)=>{t[i]&&(e.removeEventListener(this,i,s),delete t[i])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",n),i("detach",o)};o=()=>{this.attached=!1,s("resize",n),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){J(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},J(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let n,o,a,r;for("dataset"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+s+"DatasetHoverStyle"]()),a=0,r=t.length;a<r;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!tt(i,e)&&(this._active=i,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const s=this.options.hover,n=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=n(e,t),a=i?t:n(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0},s=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const n=this._handleEvent(t,e);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(n||i.changed)&&this.render(),this}_handleEvent(t,e){const{_active:i=[],options:s}=this,n=s.hover,o=e;let a=[],r=!1,l=null;return"mouseout"!==t.type&&(a=this.getElementsAtEventForMode(t,n.mode,n,o),l="click"===t.type?this._lastEvent:t),this._lastEvent=null,Gt(t,this.chartArea,this._minPadding)&&(Q(s.onHover,[t,a,this],this),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||Q(s.onClick,[t,a,this],this)),r=!tt(a,i),(r||e)&&(this._active=a,this._updateHoverStyles(a,i,e)),this._lastEvent=l,r}}const rn=()=>J(an.instances,(t=>t._plugins.invalidate())),ln=!0;function hn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(an,{defaults:{enumerable:ln,value:xt},instances:{enumerable:ln,value:nn},overrides:{enumerable:ln,value:ft},registry:{enumerable:ln,value:zs},version:{enumerable:ln,value:"3.6.0"},getChart:{enumerable:ln,value:on},register:{enumerable:ln,value:(...t)=>{zs.add(...t),rn()}},unregister:{enumerable:ln,value:(...t)=>{zs.remove(...t),rn()}}});class cn{constructor(t){this.options=t||{}}formats(){return hn()}parse(t,e){return hn()}format(t,e){return hn()}add(t,e,i){return hn()}diff(t,e,i){return hn()}startOf(t,e,i){return hn()}endOf(t,e){return hn()}}cn.override=function(t){Object.assign(cn.prototype,t)};var dn={_date:cn};function un(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let s=[];for(let e=0,n=i.length;e<n;e++)s=s.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=de(s.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let s,n,o,a,r=e._length;const l=()=>{32767!==o&&-32768!==o&&(ct(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,n=i.length;s<n;++s)o=e.getPixelForValue(i[s]),l();for(a=void 0,s=0,n=e.ticks.length;s<n;++s)o=e.getPixelForTick(s),l();return r}function fn(t,e,i,s){return Y(t)?function(t,e,i,s){const n=i.parse(t[0],s),o=i.parse(t[1],s),a=Math.min(n,o),r=Math.max(n,o);let l=a,h=r;Math.abs(a)>Math.abs(r)&&(l=r,h=a),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:n,end:o,min:a,max:r}}(t,e,i,s):e[i.axis]=i.parse(t,s),e}function gn(t,e,i,s){const n=t.iScale,o=t.vScale,a=n.getLabels(),r=n===o,l=[];let h,c,d,u;for(h=i,c=i+s;h<c;++h)u=e[h],d={},d[n.axis]=r||n.parse(a[h],h),l.push(fn(u,d,o,h));return l}function pn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function mn(t,e,i,s){let n=e.borderSkipped;const o={};if(!n)return void(t.borderSkipped=o);const{start:a,end:r,reverse:l,top:h,bottom:c}=function(t){let e,i,s,n,o;return t.horizontal?(e=t.base>t.x,i="left",s="right"):(e=t.base<t.y,i="bottom",s="top"),e?(n="end",o="start"):(n="start",o="end"),{start:i,end:s,reverse:e,top:n,bottom:o}}(t);"middle"===n&&i&&(t.enableBorderRadius=!0,(i._top||0)===s?n=h:(i._bottom||0)===s?n=c:(o[xn(c,a,r,l)]=!0,n=h)),o[xn(n,a,r,l)]=!0,t.borderSkipped=o}function xn(t,e,i,s){var n,o,a;return s?(a=i,t=bn(t=(n=t)===(o=e)?a:n===a?o:n,i,e)):t=bn(t,e,i),t}function bn(t,e,i){return"start"===t?e:"end"===t?i:t}function _n(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class yn extends ws{parsePrimitiveData(t,e,i,s){return gn(t,e,i,s)}parseArrayData(t,e,i,s){return gn(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:n,vScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this._parsing,l="x"===n.axis?a:r,h="x"===o.axis?a:r,c=[];let d,u,f,g;for(d=i,u=i+s;d<u;++d)g=e[d],f={},f[n.axis]=n.parse(lt(g,l),d),c.push(fn(lt(g,h),f,o,d));return c}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,n=this.getParsed(t),o=n._custom,a=pn(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(n[s.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const n="reset"===s,{index:o,_cachedMeta:{vScale:a}}=this,r=a.getBasePixel(),l=a.isHorizontal(),h=this._getRuler(),c=this.resolveDataElementOptions(e,s),d=this.getSharedOptions(c),u=this.includeOptions(s,d);this.updateSharedOptions(d,s,c);for(let c=e;c<e+i;c++){const e=this.getParsed(c),i=n||$(e[a.axis])?{base:r,head:r}:this._calculateBarValuePixels(c),f=this._calculateBarIndexPixels(c,h),g=(e._stacks||{})[a.axis],p={horizontal:l,base:i.base,enableBorderRadius:!g||pn(e._custom)||o===g._top||o===g._bottom,x:l?i.head:f.center,y:l?f.center:i.head,height:l?f.size:Math.abs(i.size),width:l?Math.abs(i.size):f.size};u&&(p.options=d||this.resolveDataElementOptions(c,t[c].active?"active":s));const m=p.options||t[c].options;mn(p,m,g,o),_n(p,m,h.ratio),this.updateElement(t[c],c,p,s)}}_getStacks(t,e){const i=this._cachedMeta.iScale,s=i.getMatchingVisibleMetas(this._type),n=i.options.stacked,o=s.length,a=[];let r,l;for(r=0;r<o;++r)if(l=s[r],l.controller.options.grouped){if(void 0!==e){const t=l.controller.getParsed(e)[l.controller._cachedMeta.vScale.axis];if($(t)||isNaN(t))continue}if((!1===n||-1===a.indexOf(l.stack)||void 0===n&&void 0===l.stack)&&a.push(l.stack),l.index===t)break}return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),n=void 0!==e?s.indexOf(e):-1;return-1===n?s.length-1:n}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let n,o;for(n=0,o=e.data.length;n<o;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const a=t.barThickness;return{min:a||un(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i},options:{base:s,minBarLength:n}}=this,o=s||0,a=this.getParsed(t),r=a._custom,l=pn(r);let h,c,d=a[e.axis],u=0,f=i?this.applyStack(e,a,i):d;f!==d&&(u=f-d,f=d),l&&(d=r.barStart,f=r.barEnd-r.barStart,0!==d&&Dt(d)!==Dt(r.barEnd)&&(u=0),u+=d);const g=$(s)||l?u:s;let p=e.getPixelForValue(g);if(h=this.chart.getDataVisibility(t)?e.getPixelForValue(u+f):p,c=h-p,Math.abs(c)<n&&(c=function(t,e,i){return 0!==t?Dt(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(c,e,o)*n,d===o&&(p-=c/2),h=p+c),p===e.getPixelForValue(o)){const t=Dt(c)*e.getLineWidthForValue(o)/2;p+=t,c-=t}return{size:c,base:p,head:h,center:h+c/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,n=s.skipNull,o=K(s.maxBarThickness,1/0);let a,r;if(e.grouped){const i=n?this._getStackCount(t):e.stackCount,l="flex"===s.barThickness?function(t,e,i,s){const n=e.pixels,o=n[t];let a=t>0?n[t-1]:null,r=t<n.length-1?n[t+1]:null;const l=i.categoryPercentage;null===a&&(a=o-(null===r?e.end-e.start:r-o)),null===r&&(r=o+o-a);const h=o-(o-Math.min(a,r))/2*l;return{chunk:Math.abs(r-a)/2*l/s,ratio:i.barPercentage,start:h}}(t,e,s,i):function(t,e,i,s){const n=i.barThickness;let o,a;return $(n)?(o=e.min*i.categoryPercentage,a=i.barPercentage):(o=n*s,a=1),{chunk:o/s,ratio:a,start:e.pixels[t]-o/2}}(t,e,s,i),h=this._getStackIndex(this.index,this._cachedMeta.stack,n?t:void 0);a=l.start+l.chunk*h+l.chunk/2,r=Math.min(o,l.chunk*l.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),r=Math.min(o,e.min*e.ratio);return{base:a-r/2,head:a+r/2,center:a,size:r}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let n=0;for(;n<s;++n)null!==this.getParsed(n)[e.axis]&&i[n].draw(this._ctx)}}yn.id="bar",yn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},yn.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class vn extends ws{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const n=super.parsePrimitiveData(t,e,i,s);for(let t=0;t<n.length;t++)n[t]._custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,s){const n=super.parseArrayData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=K(s[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,s){const n=super.parseObjectData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=K(s&&s.r&&+s.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:i,yScale:s}=e,n=this.getParsed(t),o=i.getLabelForValue(n.x),a=s.getLabelForValue(n.y),r=n._custom;return{label:e.label,value:"("+o+", "+a+(r?", "+r:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const n="reset"===s,{iScale:o,vScale:a}=this._cachedMeta,r=this.resolveDataElementOptions(e,s),l=this.getSharedOptions(r),h=this.includeOptions(s,l),c=o.axis,d=a.axis;for(let r=e;r<e+i;r++){const e=t[r],i=!n&&this.getParsed(r),l={},u=l[c]=n?o.getPixelForDecimal(.5):o.getPixelForValue(i[c]),f=l[d]=n?a.getBasePixel():a.getPixelForValue(i[d]);l.skip=isNaN(u)||isNaN(f),h&&(l.options=this.resolveDataElementOptions(r,e.active?"active":s),n&&(l.options.radius=0)),this.updateElement(e,r,l,s)}this.updateSharedOptions(l,s,r)}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return"active"!==e&&(s.radius=0),s.radius+=K(i&&i._custom,n),s}}vn.id="bubble",vn.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},vn.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class wn extends ws{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let n,o,a=t=>+i[t];if(U(i[t])){const{key:t="value"}=this._parsing;a=e=>+lt(i[e],t)}for(n=t,o=t+e;n<o;++n)s._parsed[n]=a(n)}}_getRotation(){return Et(this.options.rotation-90)}_getCircumference(){return Et(this.options.circumference)}_getRotationExtents(){let t=_t,e=-_t;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,n=s._getRotation(),o=s._getCircumference();t=Math.min(t,n),e=Math.max(e,n+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,n=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),r=Math.min(G(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:h,rotation:c}=this._getRotationExtents(),{ratioX:d,ratioY:u,offsetX:f,offsetY:g}=function(t,e,i){let s=1,n=1,o=0,a=0;if(e<_t){const r=t,l=r+e,h=Math.cos(r),c=Math.sin(r),d=Math.cos(l),u=Math.sin(l),f=(t,e,s)=>Nt(t,r,l,!0)?1:Math.max(e,e*i,s,s*i),g=(t,e,s)=>Nt(t,r,l,!0)?-1:Math.min(e,e*i,s,s*i),p=f(0,h,d),m=f(Mt,c,u),x=g(bt,h,d),b=g(bt+Mt,c,u);s=(p-x)/2,n=(m-b)/2,o=-(p+x)/2,a=-(m+b)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:a}}(c,h,r),p=(i.width-o)/d,m=(i.height-o)/u,x=Math.max(Math.min(p,m)/2,0),b=Z(this.options.radius,x),_=(b-Math.max(b*r,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=g*b,s.total=this.calculateTotal(),this.outerRadius=b-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*l,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,n=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*n/_t)}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=o.chartArea,r=o.options.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,c=n&&r.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,f=this.resolveDataElementOptions(e,s),g=this.getSharedOptions(f),p=this.includeOptions(s,g);let m,x=this._getRotation();for(m=0;m<e;++m)x+=this._circumference(m,n);for(m=e;m<e+i;++m){const e=this._circumference(m,n),i=t[m],o={x:l+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+e,circumference:e,outerRadius:u,innerRadius:d};p&&(o.options=g||this.resolveDataElementOptions(m,i.active?"active":s)),x+=e,this.updateElement(i,m,o,s)}this.updateSharedOptions(g,s,f)}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const n=t._parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||e[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_t*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=Ai(e._parsed[t],i.options.locale);return{label:s[t]||"",value:n}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,n,o,a,r;if(!t)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller,a!==this&&a.configure();break}if(!t)return 0;for(s=0,n=t.length;s<n;++s)r=a.resolveDataElementOptions(s),"inner"!==r.borderAlign&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(K(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}wn.id="doughnut",wn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},wn.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},wn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map(((e,s)=>{const n=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return Y(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}};class Mn extends ws{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:n}=e,o=this.chart._animationsDisabled;let{start:a,count:r}=function(t,e,i){const s=e.length;let n=0,o=s;if(t._sorted){const{iScale:a,_parsed:r}=t,l=a.axis,{min:h,max:c,minDefined:d,maxDefined:u}=a.getUserBounds();d&&(n=Ht(Math.min(oe(r,a.axis,h).lo,i?s:oe(e,l,a.getPixelForValue(h)).lo),0,s-1)),o=u?Ht(Math.max(oe(r,a.axis,c).hi+1,i?0:oe(e,l,a.getPixelForValue(c)).hi+1),n,s)-n:s-n}return{start:n,count:o}}(e,s,o);this._drawStart=a,this._drawCount=r,function(t){const{xScale:e,yScale:i,_scaleRanges:s}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=n,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),o}(e)&&(a=0,r=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,r,t)}updateElements(t,e,i,s){const n="reset"===s,{iScale:o,vScale:a,_stacked:r,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),c=this.getSharedOptions(h),d=this.includeOptions(s,c),u=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=At(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||n||"none"===s;let b=e>0&&this.getParsed(e-1);for(let h=e;h<e+i;++h){const e=t[h],i=this.getParsed(h),g=x?e:{},_=$(i[f]),y=g[u]=o.getPixelForValue(i[u],h),v=g[f]=n||_?a.getBasePixel():a.getPixelForValue(r?this.applyStack(a,i,r):i[f],h);g.skip=isNaN(y)||isNaN(v)||_,g.stop=h>0&&i[u]-b[u]>m,p&&(g.parsed=i,g.raw=l.data[h]),d&&(g.options=c||this.resolveDataElementOptions(h,e.active?"active":s)),x||this.updateElement(e,h,g,s),b=i}this.updateSharedOptions(c,s,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Mn.id="line",Mn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Mn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class kn extends ws{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=Ai(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:n}}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(s/2,0),o=(n-Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=this.getDataset(),r=o.options.animation,l=this._cachedMeta.rScale,h=l.xCenter,c=l.yCenter,d=l.getIndexAngle(0)-.5*bt;let u,f=d;const g=360/this.countVisibleElements();for(u=0;u<e;++u)f+=this._computeAngle(u,s,g);for(u=e;u<e+i;u++){const e=t[u];let i=f,p=f+this._computeAngle(u,s,g),m=o.getDataVisibility(u)?l.getDistanceFromCenterForValue(a.data[u]):0;f=p,n&&(r.animateScale&&(m=0),r.animateRotate&&(i=p=d));const x={x:h,y:c,innerRadius:0,outerRadius:m,startAngle:i,endAngle:p,options:this.resolveDataElementOptions(u,e.active?"active":s)};this.updateElement(e,u,x,s)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let i=0;return e.data.forEach(((e,s)=>{!isNaN(t.data[s])&&this.chart.getDataVisibility(s)&&i++})),i}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Et(this.resolveDataElementOptions(t,e).angle||i):0}}kn.id="polarArea",kn.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},kn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map(((e,s)=>{const n=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Sn extends wn{}Sn.id="pie",Sn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Pn extends ws{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],n=e.iScale.getLabels();if(i.points=s,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:n.length===s.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const n=this.getDataset(),o=this._cachedMeta.rScale,a="reset"===s;for(let r=e;r<e+i;r++){const e=t[r],i=this.resolveDataElementOptions(r,e.active?"active":s),l=o.getPointPositionForValue(r,n.data[r]),h=a?o.xCenter:l.x,c=a?o.yCenter:l.y,d={x:h,y:c,angle:l.angle,skip:isNaN(h)||isNaN(c),options:i};this.updateElement(e,r,d,s)}}}Pn.id="radar",Pn.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Pn.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Dn extends Mn{}Dn.id="scatter",Dn.defaults={showLine:!1,fill:!1},Dn.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Cn=Object.freeze({__proto__:null,BarController:yn,BubbleController:vn,DoughnutController:wn,LineController:Mn,PolarAreaController:kn,PieController:Sn,RadarController:Pn,ScatterController:Dn});function On(t,e,i){const{startAngle:s,pixelMargin:n,x:o,y:a,outerRadius:r,innerRadius:l}=e;let h=n/r;t.beginPath(),t.arc(o,a,r,s-h,i+h),l>n?(h=n/l,t.arc(o,a,l,i+h,s-h,!0)):t.arc(o,a,n,i+Mt,s-Mt),t.closePath(),t.clip()}function An(t,e,i,s){const n=Ie(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(i-e)/2,a=Math.min(o,s*e/2),r=t=>{const e=(i-Math.min(o,t))*s/2;return Ht(t,0,Math.min(o,e))};return{outerStart:r(n.outerStart),outerEnd:r(n.outerEnd),innerStart:Ht(n.innerStart,0,a),innerEnd:Ht(n.innerEnd,0,a)}}function Tn(t,e,i,s){return{x:i+t*Math.cos(e),y:s+t*Math.sin(e)}}function Ln(t,e,i,s,n){const{x:o,y:a,startAngle:r,pixelMargin:l,innerRadius:h}=e,c=Math.max(e.outerRadius+s+i-l,0),d=h>0?h+s+i+l:0;let u=0;const f=n-r;if(s){const t=((h>0?h-s:0)+(c>0?c-s:0))/2;u=(f-(0!==t?f*t/(t+s):f))/2}const g=(f-Math.max(.001,f*c-i/bt)/c)/2,p=r+g+u,m=n-g-u,{outerStart:x,outerEnd:b,innerStart:_,innerEnd:y}=An(e,d,c,m-p),v=c-x,w=c-b,M=p+x/v,k=m-b/w,S=d+_,P=d+y,D=p+_/S,C=m-y/P;if(t.beginPath(),t.arc(o,a,c,M,k),b>0){const e=Tn(w,k,o,a);t.arc(e.x,e.y,b,k,m+Mt)}const O=Tn(P,m,o,a);if(t.lineTo(O.x,O.y),y>0){const e=Tn(P,C,o,a);t.arc(e.x,e.y,y,m+Mt,C+Math.PI)}if(t.arc(o,a,d,m-y/d,p+_/d,!0),_>0){const e=Tn(S,D,o,a);t.arc(e.x,e.y,_,D+Math.PI,p-Mt)}const A=Tn(v,p,o,a);if(t.lineTo(A.x,A.y),x>0){const e=Tn(v,M,o,a);t.arc(e.x,e.y,x,p-Mt,M)}t.closePath()}function Rn(t,e,i,s,n){const{options:o}=e,a="inner"===o.borderAlign;o.borderWidth&&(a?(t.lineWidth=2*o.borderWidth,t.lineJoin="round"):(t.lineWidth=o.borderWidth,t.lineJoin="bevel"),e.fullCircles&&function(t,e,i){const{x:s,y:n,startAngle:o,pixelMargin:a,fullCircles:r}=e,l=Math.max(e.outerRadius-a,0),h=e.innerRadius+a;let c;for(i&&On(t,e,o+_t),t.beginPath(),t.arc(s,n,h,o+_t,o,!0),c=0;c<r;++c)t.stroke();for(t.beginPath(),t.arc(s,n,l,o,o+_t),c=0;c<r;++c)t.stroke()}(t,e,a),a&&On(t,e,n),Ln(t,e,i,s,n),t.stroke())}class En extends Ms{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:n,distance:o}=Ft(s,{x:t,y:e}),{startAngle:a,endAngle:r,innerRadius:l,outerRadius:h,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2;return(c>=_t||Nt(n,a,r))&&(o>=l+d&&o<=h+d)}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:n,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:r,spacing:l}=this.options,h=(s+n)/2,c=(o+a+l+r)/2;return{x:e+Math.cos(h)*c,y:i+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/2,n=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>_t?Math.floor(i/_t):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(s){o=s/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*o,Math.sin(e)*o),this.circumference>=bt&&(o=s)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const a=function(t,e,i,s){const{fullCircles:n,startAngle:o,circumference:a}=e;let r=e.endAngle;if(n){Ln(t,e,i,s,o+_t);for(let e=0;e<n;++e)t.fill();isNaN(a)||(r=o+a%_t,a%_t==0&&(r+=_t))}return Ln(t,e,i,s,r),t.fill(),r}(t,this,o,n);Rn(t,this,o,n,a),t.restore()}}function In(t,e,i=e){t.lineCap=K(i.borderCapStyle,e.borderCapStyle),t.setLineDash(K(i.borderDash,e.borderDash)),t.lineDashOffset=K(i.borderDashOffset,e.borderDashOffset),t.lineJoin=K(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=K(i.borderWidth,e.borderWidth),t.strokeStyle=K(i.borderColor,e.borderColor)}function zn(t,e,i){t.lineTo(i.x,i.y)}function Fn(t,e,i={}){const s=t.length,{start:n=0,end:o=s-1}=i,{start:a,end:r}=e,l=Math.max(n,a),h=Math.min(o,r),c=n<a&&o<a||n>r&&o>r;return{count:s,start:l,loop:e.loop,ilen:h<l&&!c?s+h-l:h-l}}function Bn(t,e,i,s){const{points:n,options:o}=e,{count:a,start:r,loop:l,ilen:h}=Fn(n,i,s),c=function(t){return t.stepped?Jt:t.tension||"monotone"===t.cubicInterpolationMode?te:zn}(o);let d,u,f,{move:g=!0,reverse:p}=s||{};for(d=0;d<=h;++d)u=n[(r+(p?h-d:d))%a],u.skip||(g?(t.moveTo(u.x,u.y),g=!1):c(t,f,u,p,o.stepped),f=u);return l&&(u=n[(r+(p?h:0))%a],c(t,f,u,p,o.stepped)),!!l}function Vn(t,e,i,s){const n=e.points,{count:o,start:a,ilen:r}=Fn(n,i,s),{move:l=!0,reverse:h}=s||{};let c,d,u,f,g,p,m=0,x=0;const b=t=>(a+(h?r-t:t))%o,_=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(d=n[b(0)],t.moveTo(d.x,d.y)),c=0;c<=r;++c){if(d=n[b(c)],d.skip)continue;const e=d.x,i=d.y,s=0|e;s===u?(i<f?f=i:i>g&&(g=i),m=(x*m+e)/++x):(_(),t.lineTo(e,i),u=s,x=0,f=g=i),p=i}_()}function Wn(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?Vn:Bn}En.id="arc",En.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},En.defaultRoutes={backgroundColor:"backgroundColor"};const Nn="function"==typeof Path2D;function Hn(t,e,i,s){Nn&&!e.options.segment?function(t,e,i,s){let n=e._path;n||(n=e._path=new Path2D,e.path(n,i,s)&&n.closePath()),In(t,e.options),t.stroke(n)}(t,e,i,s):function(t,e,i,s){const{segments:n,options:o}=e,a=Wn(e);for(const r of n)In(t,o,r.style),t.beginPath(),a(t,e,r,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,e,i,s)}class jn extends Ms{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;vi(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Bi(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],n=this.points,o=Fi(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],r=function(t){return t.stepped?Di:t.tension||"monotone"===t.cubicInterpolationMode?Ci:Pi}(i);let l,h;for(l=0,h=o.length;l<h;++l){const{start:h,end:c}=o[l],d=n[h],u=n[c];if(d===u){a.push(d);continue}const f=r(d,u,Math.abs((s-d[e])/(u[e]-d[e])),i.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,i){return Wn(this)(t,this,e,i)}path(t,e,i){const s=this.segments,n=Wn(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=n(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),Hn(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function $n(t,e,i,s){const n=t.options,{[i]:o}=t.getProps([i],s);return Math.abs(e-o)<n.radius+n.hitRadius}jn.id="line",jn.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},jn.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},jn.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class Yn extends Ms{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:n,y:o}=this.getProps(["x","y"],i);return Math.pow(t-n,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return $n(this,t,"x",e)}inYRange(t,e){return $n(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Gt(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Kt(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Un(t,e){const{x:i,y:s,base:n,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let r,l,h,c,d;return t.horizontal?(d=a/2,r=Math.min(i,n),l=Math.max(i,n),h=s-d,c=s+d):(d=o/2,r=i-d,l=i+d,h=Math.min(s,n),c=Math.max(s,n)),{left:r,top:h,right:l,bottom:c}}function Xn(t,e,i,s){return t?0:Ht(e,i,s)}function qn(t){const e=Un(t),i=e.right-e.left,s=e.bottom-e.top,n=function(t,e,i){const s=t.options.borderWidth,n=t.borderSkipped,o=ze(s);return{t:Xn(n.top,o.top,0,i),r:Xn(n.right,o.right,0,e),b:Xn(n.bottom,o.bottom,0,i),l:Xn(n.left,o.left,0,e)}}(t,i/2,s/2),o=function(t,e,i){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,o=Fe(n),a=Math.min(e,i),r=t.borderSkipped,l=s||U(n);return{topLeft:Xn(!l||r.top||r.left,o.topLeft,0,a),topRight:Xn(!l||r.top||r.right,o.topRight,0,a),bottomLeft:Xn(!l||r.bottom||r.left,o.bottomLeft,0,a),bottomRight:Xn(!l||r.bottom||r.right,o.bottomRight,0,a)}}(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:o},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}function Kn(t,e,i,s){const n=null===e,o=null===i,a=t&&!(n&&o)&&Un(t,s);return a&&(n||e>=a.left&&e<=a.right)&&(o||i>=a.top&&i<=a.bottom)}function Gn(t,e){t.rect(e.x,e.y,e.w,e.h)}function Zn(t,e,i={}){const s=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-s,a=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+s,y:t.y+n,w:t.w+o,h:t.h+a,radius:t.radius}}Yn.id="point",Yn.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Yn.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Qn extends Ms{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:o}=qn(this),a=(r=o.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?se:Gn;var r;t.save(),o.w===n.w&&o.h===n.h||(t.beginPath(),a(t,Zn(o,e,n)),t.clip(),a(t,Zn(n,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Zn(n,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Kn(this,t,e,i)}inXRange(t,e){return Kn(this,t,null,e)}inYRange(t,e){return Kn(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(e+s)/2:e,y:n?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Qn.id="bar",Qn.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Qn.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Jn=Object.freeze({__proto__:null,ArcElement:En,LineElement:jn,PointElement:Yn,BarElement:Qn});function to(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function eo(t){t.data.datasets.forEach((t=>{to(t)}))}var io={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void eo(t);const s=t.width;t.data.datasets.forEach(((e,n)=>{const{_data:o,indexAxis:a}=e,r=t.getDatasetMeta(n),l=o||e.data;if("y"===We([a,t.options.indexAxis]))return;if("line"!==r.type)return;const h=t.scales[r.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(t.options.parsing)return;let{start:c,count:d}=function(t,e){const i=e.length;let s,n=0;const{iScale:o}=t,{min:a,max:r,minDefined:l,maxDefined:h}=o.getUserBounds();return l&&(n=Ht(oe(e,o.axis,a).lo,0,i-1)),s=h?Ht(oe(e,o.axis,r).hi+1,n,i)-n:i-n,{start:n,count:s}}(r,l);if(d<=(i.threshold||4*s))return void to(e);let u;switch($(o)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":u=function(t,e,i,s,n){const o=n.samples||s;if(o>=i)return t.slice(e,e+i);const a=[],r=(i-2)/(o-2);let l=0;const h=e+i-1;let c,d,u,f,g,p=e;for(a[l++]=t[p],c=0;c<o-2;c++){let s,n=0,o=0;const h=Math.floor((c+1)*r)+1+e,m=Math.min(Math.floor((c+2)*r)+1,i)+e,x=m-h;for(s=h;s<m;s++)n+=t[s].x,o+=t[s].y;n/=x,o/=x;const b=Math.floor(c*r)+1+e,_=Math.min(Math.floor((c+1)*r)+1,i)+e,{x:y,y:v}=t[p];for(u=f=-1,s=b;s<_;s++)f=.5*Math.abs((y-n)*(t[s].y-v)-(y-t[s].x)*(o-v)),f>u&&(u=f,d=t[s],g=s);a[l++]=d,p=g}return a[l++]=t[h],a}(l,c,d,s,i);break;case"min-max":u=function(t,e,i,s){let n,o,a,r,l,h,c,d,u,f,g=0,p=0;const m=[],x=e+i-1,b=t[e].x,_=t[x].x-b;for(n=e;n<e+i;++n){o=t[n],a=(o.x-b)/_*s,r=o.y;const e=0|a;if(e===l)r<u?(u=r,h=n):r>f&&(f=r,c=n),g=(p*g+o.x)/++p;else{const i=n-1;if(!$(h)&&!$(c)){const e=Math.min(h,c),s=Math.max(h,c);e!==d&&e!==i&&m.push({...t[e],x:g}),s!==d&&s!==i&&m.push({...t[s],x:g})}n>0&&i!==d&&m.push(t[i]),m.push(o),l=e,p=0,u=f=r,h=c=d=n}}return m}(l,c,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=u}))},destroy(t){eo(t)}};function so(t,e,i){const s=function(t){const e=t.options,i=e.fill;let s=K(i&&i.target,i);return void 0===s&&(s=!!e.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(t);if(U(s))return!isNaN(s.value)&&s;let n=parseFloat(s);return X(n)&&Math.floor(n)===n?("-"!==s[0]&&"+"!==s[0]||(n=e+n),!(n===e||n<0||n>=i)&&n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}class no{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:n,radius:o}=this;return e=e||{start:0,end:_t},t.arc(s,n,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,n=t.angle;return{x:e+Math.cos(n)*s,y:i+Math.sin(n)*s,angle:n}}}function oo(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:e,fill:i}=t,s=e.options,n=e.getLabels().length,o=[],a=s.reverse?e.max:e.min,r=s.reverse?e.min:e.max;let l,h,c;if(c="start"===i?a:"end"===i?r:U(i)?i.value:e.getBaseValue(),s.grid.circular)return h=e.getPointPositionForValue(0,a),new no({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(c)});for(l=0;l<n;++l)o.push(e.getPointPositionForValue(l,c));return o}(t):function(t){const{scale:e={},fill:i}=t;let s,n=null;return"start"===i?n=e.bottom:"end"===i?n=e.top:U(i)?n=e.getPixelForValue(i.value):e.getBasePixel&&(n=e.getBasePixel()),X(n)?(s=e.isHorizontal(),{x:s?n:null,y:s?null:n}):null}(t)}function ao(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function ro(t,e,i){const s=[];for(let n=0;n<i.length;n++){const o=i[n],{first:a,last:r,point:l}=lo(o,e,"x");if(!(!l||a&&r))if(a)s.unshift(l);else if(t.push(l),!r)break}t.push(...s)}function lo(t,e,i){const s=t.interpolate(e,i);if(!s)return{};const n=s[i],o=t.segments,a=t.points;let r=!1,l=!1;for(let t=0;t<o.length;t++){const e=o[t],s=a[e.start][i],h=a[e.end][i];if(n>=s&&n<=h){r=n===s,l=n===h;break}}return{first:r,last:l,point:s}}function ho(t){const{chart:e,fill:i,line:s}=t;if(X(i))return function(t,e){const i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:s}=t,n=[],o=s.segments,a=s.points,r=function(t,e){const i=[],s=t.getMatchingVisibleMetas("line");for(let t=0;t<s.length;t++){const n=s[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);r.push(co({x:null,y:e.bottom},s));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)ro(n,a[t],r)}return new jn({points:n,options:{}})}(t);if("shape"===i)return!0;const n=oo(t);return n instanceof no?n:co(n,s)}function co(t,e){let i=[],s=!1;return Y(t)?(s=!0,i=t):i=function(t,e){const{x:i=null,y:s=null}=t||{},n=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=ao(t,e,n);const a=n[t],r=n[e];null!==s?(o.push({x:a.x,y:s}),o.push({x:r.x,y:s})):null!==i&&(o.push({x:i,y:a.y}),o.push({x:i,y:r.y}))})),o}(t,e),i.length?new jn({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function uo(t,e,i){let s=t[e].fill;const n=[e];let o;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!X(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;n.push(s),s=o.fill}return!1}function fo(t,e,i){t.beginPath(),e.path(t),t.lineTo(e.last().x,i),t.lineTo(e.first().x,i),t.closePath(),t.clip()}function go(t,e,i,s){if(s)return;let n=e[t],o=i[t];return"angle"===t&&(n=Wt(n),o=Wt(o)),{property:t,start:n,end:o}}function po(t,e,i,s){return t&&e?s(t[i],e[i]):t?t[i]:e?e[i]:0}function mo(t,e,i){const{top:s,bottom:n}=e.chart.chartArea,{property:o,start:a,end:r}=i||{};"x"===o&&(t.beginPath(),t.rect(a,s,r-a,n-s),t.clip())}function xo(t,e,i,s){const n=e.interpolate(i,s);n&&t.lineTo(n.x,n.y)}function bo(t,e){const{line:i,target:s,property:n,color:o,scale:a}=e,r=function(t,e,i){const s=t.segments,n=t.points,o=e.points,a=[];for(const t of s){let{start:s,end:r}=t;r=ao(s,r,n);const l=go(i,n[s],n[r],t.loop);if(!e.segments){a.push({source:t,target:l,start:n[s],end:n[r]});continue}const h=Fi(e,l);for(const e of h){const s=go(i,o[e.start],o[e.end],e.loop),r=zi(t,n,s);for(const t of r)a.push({source:t,target:e,start:{[i]:po(l,s,"start",Math.max)},end:{[i]:po(l,s,"end",Math.min)}})}}return a}(i,s,n);for(const{source:e,target:l,start:h,end:c}of r){const{style:{backgroundColor:r=o}={}}=e,d=!0!==s;t.save(),t.fillStyle=r,mo(t,a,d&&go(n,h,c)),t.beginPath();const u=!!i.pathSegment(t,e);let f;if(d){u?t.closePath():xo(t,s,c,n);const e=!!s.pathSegment(t,l,{move:u,reverse:!0});f=u&&e,f||xo(t,s,h,n)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function _o(t,e,i){const s=ho(e),{line:n,scale:o,axis:a}=e,r=n.options,l=r.fill,h=r.backgroundColor,{above:c=h,below:d=h}=l||{};s&&n.points.length&&(Zt(t,i),function(t,e){const{line:i,target:s,above:n,below:o,area:a,scale:r}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&o!==n&&(fo(t,s,a.top),bo(t,{line:i,target:s,color:n,scale:r,property:l}),t.restore(),t.save(),fo(t,s,a.bottom)),bo(t,{line:i,target:s,color:o,scale:r,property:l}),t.restore()}(t,{line:n,target:s,above:c,below:d,area:i,scale:o,axis:a}),Qt(t))}var yo={id:"filler",afterDatasetsUpdate(t,e,i){const s=(t.data.datasets||[]).length,n=[];let o,a,r,l;for(a=0;a<s;++a)o=t.getDatasetMeta(a),r=o.dataset,l=null,r&&r.options&&r instanceof jn&&(l={visible:t.isDatasetVisible(a),index:a,fill:so(r,a,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=l,n.push(l);for(a=0;a<s;++a)l=n[a],l&&!1!==l.fill&&(l.fill=uo(n,a,i.propagate))},beforeDraw(t,e,i){const s="beforeDraw"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;i&&(i.line.updateControlPoints(o,i.axis),s&&_o(t.ctx,i,o))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let e=s.length-1;e>=0;--e){const i=s[e].$filler;i&&_o(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const s=e.meta.$filler;s&&!1!==s.fill&&"beforeDatasetDraw"===i.drawTime&&_o(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vo=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}};class wo extends Ms{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Q(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=Ve(i.font),n=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:r}=vo(i,n);let l,h;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(o,n,a,r)+10):(h=this.maxHeight,l=this._fitCols(o,n,a,r)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:n,maxWidth:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],h=s+a;let c=t;n.textAlign="left",n.textBaseline="middle";let d=-1,u=-h;return this.legendItems.forEach(((t,f)=>{const g=i+e/2+n.measureText(t.text).width;(0===f||l[l.length-1]+g+2*a>o)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),r[f]={left:0,top:u,row:d,width:g,height:s},l[l.length-1]+=g+a})),c}_fitCols(t,e,i,s){const{ctx:n,maxHeight:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],h=o-t;let c=a,d=0,u=0,f=0,g=0;return this.legendItems.forEach(((t,o)=>{const p=i+e/2+n.measureText(t.text).width;o>0&&u+s+2*a>h&&(c+=d+a,l.push({width:d,height:u}),f+=d+a,g++,d=u=0),r[o]={left:f,top:u,col:g,width:p,height:s},d=Math.max(d,p),u+=s+a})),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,a=Ti(o,this.left,this.width);if(this.isHorizontal()){let o=0,r=n(i,this.left+s,this.right-this.lineWidths[o]);for(const l of e)o!==l.row&&(o=l.row,r=n(i,this.left+s,this.right-this.lineWidths[o])),l.top+=this.top+t+s,l.left=a.leftForLtr(a.x(r),l.width),r+=l.width+s}else{let o=0,r=n(i,this.top+t+s,this.bottom-this.columnSizes[o].height);for(const l of e)l.col!==o&&(o=l.col,r=n(i,this.top+t+s,this.bottom-this.columnSizes[o].height)),l.top=r,l.left+=this.left+s,l.left=a.leftForLtr(a.x(l.left),l.width),r+=l.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Zt(t,this),this._draw(),Qt(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:r}=t,l=xt.color,h=Ti(t.rtl,this.left,this.width),c=Ve(r.font),{color:d,padding:u}=r,f=c.size,g=f/2;let p;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:x,itemHeight:b}=vo(r,f),_=this.isHorizontal(),y=this._computeTitleHeight();p=_?{x:n(a,this.left+u,this.right-i[0]),y:this.top+u+y,line:0}:{x:this.left+u,y:n(a,this.top+y+u,this.bottom-e[0].height),line:0},Li(this.ctx,t.textDirection);const v=b+u;this.legendItems.forEach(((w,M)=>{s.strokeStyle=w.fontColor||d,s.fillStyle=w.fontColor||d;const k=s.measureText(w.text).width,S=h.textAlign(w.textAlign||(w.textAlign=r.textAlign)),P=m+g+k;let D=p.x,C=p.y;h.setWidth(this.width),_?M>0&&D+P+u>this.right&&(C=p.y+=v,p.line++,D=p.x=n(a,this.left+u,this.right-i[p.line])):M>0&&C+v>this.bottom&&(D=p.x=D+e[p.line].width+u,p.line++,C=p.y=n(a,this.top+y+u,this.bottom-e[p.line].height));!function(t,e,i){if(isNaN(m)||m<=0||isNaN(x)||x<0)return;s.save();const n=K(i.lineWidth,1);if(s.fillStyle=K(i.fillStyle,l),s.lineCap=K(i.lineCap,"butt"),s.lineDashOffset=K(i.lineDashOffset,0),s.lineJoin=K(i.lineJoin,"miter"),s.lineWidth=n,s.strokeStyle=K(i.strokeStyle,l),s.setLineDash(K(i.lineDash,[])),r.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},a=h.xPlus(t,m/2);Kt(s,o,a,e+g)}else{const o=e+Math.max((f-x)/2,0),a=h.leftForLtr(t,m),r=Fe(i.borderRadius);s.beginPath(),Object.values(r).some((t=>0!==t))?se(s,{x:a,y:o,w:m,h:x,radius:r}):s.rect(a,o,m,x),s.fill(),0!==n&&s.stroke()}s.restore()}(h.x(D),C,w),D=o(S,D+m+g,_?D+P:this.right,t.rtl),function(t,e,i){ee(s,i.text,t,e+b/2,c,{strikethrough:i.hidden,textAlign:h.textAlign(i.textAlign)})}(h.x(D),C,w),_?p.x+=P+u:p.y+=v})),Ri(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ve(e.font),o=Be(e.padding);if(!e.display)return;const a=Ti(t.rtl,this.left,this.width),r=this.ctx,l=e.position,h=i.size/2,c=o.top+h;let d,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,u=n(t.align,u,this.right-f);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);d=c+n(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const g=n(l,u,u+f);r.textAlign=a.textAlign(s(l)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=i.string,ee(r,e.text,g,d,i)}_computeTitleHeight(){const t=this.options.title,e=Ve(t.font),i=Be(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,n;if(t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom)for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(s=n[i],t>=s.left&&t<=s.left+s.width&&e>=s.top&&e<=s.top+s.height)return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if("mousemove"===t&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const o=this._hoveredItem,a=(n=i,null!==(s=o)&&null!==n&&s.datasetIndex===n.datasetIndex&&s.index===n.index);o&&!a&&Q(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!a&&Q(e.onHover,[t,i,this],this)}else i&&Q(e.onClick,[t,i,this],this);var s,n}}var Mo={id:"legend",_element:wo,start(t,e,i){const s=t.legend=new wo({ctx:t.ctx,options:i,chart:t});ei.configure(t,s,i),ei.addBox(t,s)},stop(t){ei.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;ei.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),e.hidden=!0):(n.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const a=t.controller.getStyle(i?0:void 0),r=Be(a.borderWidth);return{text:e[t.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(r.width+r.height)/4,strokeStyle:a.borderColor,pointStyle:s||a.pointStyle,rotation:a.rotation,textAlign:n||a.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ko extends Ms{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=Y(i.text)?i.text.length:1;this._padding=Be(i.padding);const n=s*Ve(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:o,options:a}=this,r=a.align;let l,h,c,d=0;return this.isHorizontal()?(h=n(r,i,o),c=e+t,l=o-i):("left"===a.position?(h=i+t,c=n(r,s,e),d=-.5*bt):(h=o-t,c=n(r,e,s),d=.5*bt),l=s-e),{titleX:h,titleY:c,maxWidth:l,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ve(e.font),n=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:r,rotation:l}=this._drawArgs(n);ee(t,e.text,0,0,i,{color:e.color,maxWidth:r,rotation:l,textAlign:s(e.align),textBaseline:"middle",translation:[o,a]})}}var So={id:"title",_element:ko,start(t,e,i){!function(t,e){const i=new ko({ctx:t.ctx,options:e,chart:t});ei.configure(t,i,e),ei.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;ei.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;ei.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Po=new WeakMap;var Do={id:"subtitle",start(t,e,i){const s=new ko({ctx:t.ctx,options:i,chart:t});ei.configure(t,s,i),ei.addBox(t,s),Po.set(t,s)},stop(t){ei.removeBox(t,Po.get(t)),Po.delete(t)},beforeUpdate(t,e,i){const s=Po.get(t);ei.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Co={average(t){if(!t.length)return!1;let e,i,s=0,n=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,n+=t.y,++o}}return{x:s/o,y:n/o}},nearest(t,e){if(!t.length)return!1;let i,s,n,o=e.x,a=e.y,r=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=Bt(e,s.getCenterPoint());t<r&&(r=t,n=s)}}if(n){const t=n.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Oo(t,e){return e&&(Y(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ao(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function To(t,e){const{element:i,datasetIndex:s,index:n}=e,o=t.getDatasetMeta(s).controller,{label:a,value:r}=o.getLabelAndValue(n);return{chart:t,label:a,parsed:o.getParsed(n),raw:t.data.datasets[s].data[n],formattedValue:r,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Lo(t,e){const i=t._chart.ctx,{body:s,footer:n,title:o}=t,{boxWidth:a,boxHeight:r}=e,l=Ve(e.bodyFont),h=Ve(e.titleFont),c=Ve(e.footerFont),d=o.length,u=n.length,f=s.length,g=Be(e.padding);let p=g.height,m=0,x=s.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*h.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){p+=f*(e.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*e.bodySpacing}u&&(p+=e.footerMarginTop+u*c.lineHeight+(u-1)*e.footerSpacing);let b=0;const _=function(t){m=Math.max(m,i.measureText(t).width+b)};return i.save(),i.font=h.string,J(t.title,_),i.font=l.string,J(t.beforeBody.concat(t.afterBody),_),b=e.displayColors?a+2+e.boxPadding:0,J(s,(t=>{J(t.before,_),J(t.lines,_),J(t.after,_)})),b=0,i.font=c.string,J(t.footer,_),i.restore(),m+=g.width,{width:m,height:p}}function Ro(t,e,i,s){const{x:n,width:o}=i,{width:a,chartArea:{left:r,right:l}}=t;let h="center";return"center"===s?h=n<=(r+l)/2?"left":"right":n<=o/2?h="left":n>=a-o/2&&(h="right"),function(t,e,i,s){const{x:n,width:o}=s,a=i.caretSize+i.caretPadding;return"left"===t&&n+o+a>e.width||"right"===t&&n-o-a<0||void 0}(h,t,e,i)&&(h="center"),h}function Eo(t,e,i){const s=e.yAlign||function(t,e){const{y:i,height:s}=e;return i<s/2?"top":i>t.height-s/2?"bottom":"center"}(t,i);return{xAlign:e.xAlign||Ro(t,e,i,s),yAlign:s}}function Io(t,e,i,s){const{caretSize:n,caretPadding:o,cornerRadius:a}=t,{xAlign:r,yAlign:l}=i,h=n+o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Fe(a);let g=function(t,e){let{x:i,width:s}=t;return"right"===e?i-=s:"center"===e&&(i-=s/2),i}(e,r);const p=function(t,e,i){let{y:s,height:n}=t;return"top"===e?s+=i:s-="bottom"===e?n+i:n/2,s}(e,l,h);return"center"===l?"left"===r?g+=h:"right"===r&&(g-=h):"left"===r?g-=Math.max(c,u)+o:"right"===r&&(g+=Math.max(d,f)+o),{x:Ht(g,0,s.width-e.width),y:Ht(p,0,s.height-e.height)}}function zo(t,e,i){const s=Be(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-s.right:t.x+s.left}function Fo(t){return Oo([],Ao(t))}function Bo(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}class Vo extends Ms{constructor(t){super(),this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this._chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,n=new cs(this._chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this._chart.getContext(),e=this,i=this._tooltipItems,He(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,s=i.beforeTitle.apply(this,[t]),n=i.title.apply(this,[t]),o=i.afterTitle.apply(this,[t]);let a=[];return a=Oo(a,Ao(s)),a=Oo(a,Ao(n)),a=Oo(a,Ao(o)),a}getBeforeBody(t,e){return Fo(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:i}=e,s=[];return J(t,(t=>{const e={before:[],lines:[],after:[]},n=Bo(i,t);Oo(e.before,Ao(n.beforeLabel.call(this,t))),Oo(e.lines,n.label.call(this,t)),Oo(e.after,Ao(n.afterLabel.call(this,t))),s.push(e)})),s}getAfterBody(t,e){return Fo(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:i}=e,s=i.beforeFooter.apply(this,[t]),n=i.footer.apply(this,[t]),o=i.afterFooter.apply(this,[t]);let a=[];return a=Oo(a,Ao(s)),a=Oo(a,Ao(n)),a=Oo(a,Ao(o)),a}_createItems(t){const e=this._active,i=this._chart.data,s=[],n=[],o=[];let a,r,l=[];for(a=0,r=e.length;a<r;++a)l.push(To(this._chart,e[a]));return t.filter&&(l=l.filter(((e,s,n)=>t.filter(e,s,n,i)))),t.itemSort&&(l=l.sort(((e,s)=>t.itemSort(e,s,i)))),J(l,(e=>{const i=Bo(t.callbacks,e);s.push(i.labelColor.call(this,e)),n.push(i.labelPointStyle.call(this,e)),o.push(i.labelTextColor.call(this,e))})),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let n,o=[];if(s.length){const t=Co[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this._size=Lo(this,i),a=Object.assign({},t,e),r=Eo(this._chart,i,a),l=Io(i,a,r,this._chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,n={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this._chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const n=this.getCaretPosition(t,i,s);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:n}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:r,topRight:l,bottomLeft:h,bottomRight:c}=Fe(a),{x:d,y:u}=t,{width:f,height:g}=e;let p,m,x,b,_,y;return"center"===n?(_=u+g/2,"left"===s?(p=d,m=p-o,b=_+o,y=_-o):(p=d+f,m=p+o,b=_-o,y=_+o),x=p):(m="left"===s?d+Math.max(r,h)+o:"right"===s?d+f-Math.max(l,c)-o:this.caretX,"top"===n?(b=u,_=b-o,p=m-o,x=m+o):(b=u+g,_=b+o,p=m+o,x=m-o),y=b),{x1:p,x2:m,x3:x,y1:b,y2:_,y3:y}}drawTitle(t,e,i){const s=this.title,n=s.length;let o,a,r;if(n){const l=Ti(i.rtl,this.x,this.width);for(t.x=zo(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",o=Ve(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,r=0;r<n;++r)e.fillText(s[r],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,r+1===n&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,n){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:r,boxWidth:l,boxPadding:h}=n,c=Ve(n.bodyFont),d=zo(this,"left",n),u=s.x(d),f=r<c.lineHeight?(c.lineHeight-r)/2:0,g=e.y+f;if(n.usePointStyle){const e={radius:Math.min(l,r)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},i=s.leftForLtr(u,l)+l/2,h=g+r/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Kt(t,e,i,h),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Kt(t,e,i,h)}else{t.lineWidth=o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=s.leftForLtr(u,l-h),i=s.leftForLtr(s.xPlus(u,1),l-h-2),a=Fe(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=n.multiKeyBackground,se(t,{x:e,y:g,w:l,h:r,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),se(t,{x:i,y:g+1,w:l-2,h:r-2,radius:a}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,g,l,r),t.strokeRect(e,g,l,r),t.fillStyle=o.backgroundColor,t.fillRect(i,g+1,l-2,r-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:n,bodyAlign:o,displayColors:a,boxHeight:r,boxWidth:l,boxPadding:h}=i,c=Ve(i.bodyFont);let d=c.lineHeight,u=0;const f=Ti(i.rtl,this.x,this.width),g=function(i){e.fillText(i,f.x(t.x+u),t.y+d/2),t.y+=d+n},p=f.textAlign(o);let m,x,b,_,y,v,w;for(e.textAlign=o,e.textBaseline="middle",e.font=c.string,t.x=zo(this,p,i),e.fillStyle=i.bodyColor,J(this.beforeBody,g),u=a&&"right"!==p?"center"===o?l/2+h:l+2+h:0,_=0,v=s.length;_<v;++_){for(m=s[_],x=this.labelTextColors[_],e.fillStyle=x,J(m.before,g),b=m.lines,a&&b.length&&(this._drawColorBox(e,t,_,f,i),d=Math.max(c.lineHeight,r)),y=0,w=b.length;y<w;++y)g(b[y]),d=c.lineHeight;J(m.after,g)}u=0,d=c.lineHeight,J(this.afterBody,g),t.y-=n}drawFooter(t,e,i){const s=this.footer,n=s.length;let o,a;if(n){const r=Ti(i.rtl,this.x,this.width);for(t.x=zo(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=r.textAlign(i.footerAlign),e.textBaseline="middle",o=Ve(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<n;++a)e.fillText(s[a],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:n,yAlign:o}=this,{x:a,y:r}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Fe(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+c,r),"top"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),"center"===o&&"right"===n&&this.drawCaret(t,e,i,s),e.lineTo(a+l,r+h-f),e.quadraticCurveTo(a+l,r+h,a+l-f,r+h),"bottom"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+u,r+h),e.quadraticCurveTo(a,r+h,a,r+h-u),"center"===o&&"left"===n&&this.drawCaret(t,e,i,s),e.lineTo(a,r+c),e.quadraticCurveTo(a,r,a+c,r),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this._chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=Co[t.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=Lo(this,t),a=Object.assign({},i,this._size),r=Eo(e,t,a),l=Io(t,a,r,e);s._to===l.x&&n._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Be(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,s,e),Li(t,e.textDirection),n.y+=o.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),Ri(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map((({datasetIndex:t,index:e})=>{const i=this._chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!tt(i,s),o=this._positionChanged(s,e);(n||o)&&(this._active=s,this._eventPosition=e,this.update(!0))}handleEvent(t,e){const i=this.options,s=this._active||[];let n=!1,o=[];"mouseout"!==t.type&&(o=this._chart.getElementsAtEventForMode(t,i.mode,i,e),i.reverse&&o.reverse());const a=this._positionChanged(o,t);return n=e||!tt(o,s)||a,n&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),n}_positionChanged(t,e){const{caretX:i,caretY:s,options:n}=this,o=Co[n.position].call(this,t,e);return!1!==o&&(i!==o.x||s!==o.y)}}Vo.positioners=Co;var Wo={id:"tooltip",_element:Vo,positioners:Co,afterInit(t,e,i){i&&(t.tooltip=new Vo({_chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip,i={tooltip:e};!1!==t.notifyPlugins("beforeTooltipDraw",i)&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i))},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:H,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return""},afterTitle:H,beforeBody:H,beforeLabel:H,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return $(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:H,afterBody:H,beforeFooter:H,footer:H,afterFooter:H}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},No=Object.freeze({__proto__:null,Decimation:io,Filler:yo,Legend:Mo,SubTitle:Do,Title:So,Tooltip:Wo});function Ho(t,e,i){const s=t.indexOf(e);if(-1===s)return((t,e,i)=>"string"==typeof e?t.push(e)-1:isNaN(e)?null:i)(t,e,i);return s!==t.lastIndexOf(e)?i:s}class jo extends Es{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,e){if($(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:Ht(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:Ho(i,t,K(e,t)),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)s.push({value:i});return s}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function $o(t,e,{horizontal:i,minRotation:s}){const n=Et(s),o=(i?Math.sin(n):Math.cos(n))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}jo.id="category",jo.defaults={ticks:{callback:jo.prototype.getLabelForValue}};class Yo extends Es{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const o=t=>s=e?s:t,a=t=>n=i?n:t;if(t){const t=Dt(s),e=Dt(n);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(s===n){let e=1;(n>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*n)),a(n+e),t||o(s-e)}this.min=s,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:s}=t;return s?(e=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function(t,e){const i=[],{bounds:s,step:n,min:o,max:a,precision:r,count:l,maxTicks:h,maxDigits:c,includeBounds:d}=t,u=n||1,f=h-1,{min:g,max:p}=e,m=!$(o),x=!$(a),b=!$(l),_=(p-g)/(c+1);let y,v,w,M,k=Ct((p-g)/f/u)*u;if(k<1e-14&&!m&&!x)return[{value:g},{value:p}];M=Math.ceil(p/k)-Math.floor(g/k),M>f&&(k=Ct(M*k/f/u)*u),$(r)||(y=Math.pow(10,r),k=Math.ceil(k*y)/y),"ticks"===s?(v=Math.floor(g/k)*k,w=Math.ceil(p/k)*k):(v=g,w=p),m&&x&&n&&Lt((a-o)/n,k/1e3)?(M=Math.round(Math.min((a-o)/k,h)),k=(a-o)/M,v=o,w=a):b?(v=m?o:v,w=x?a:w,M=l-1,k=(w-v)/M):(M=(w-v)/k,M=Tt(M,Math.round(M),k/1e3)?Math.round(M):Math.ceil(M));const S=Math.max(zt(k),zt(v));y=Math.pow(10,$(r)?S:r),v=Math.round(v*y)/y,w=Math.round(w*y)/y;let P=0;for(m&&(d&&v!==o?(i.push({value:o}),v<o&&P++,Tt(Math.round((v+P*k)*y)/y,o,$o(o,_,t))&&P++):v<o&&P++);P<M;++P)i.push({value:Math.round((v+P*k)*y)/y});return x&&d&&w!==a?i.length&&Tt(i[i.length-1].value,a,$o(a,_,t))?i[i.length-1].value=a:i.push({value:a}):x&&w!==a||i.push({value:w}),i}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Rt(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Ai(t,this.chart.options.locale)}}class Uo extends Yo{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=X(t)?t:0,this.max=X(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Et(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Xo(t){return 1===t/Math.pow(10,Math.floor(Pt(t)))}Uo.id="linear",Uo.defaults={ticks:{callback:Ss.formatters.numeric}};class qo extends Es{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Yo.prototype.parse.apply(this,[t,e]);if(0!==i)return X(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=X(t)?Math.max(0,t):null,this.max=X(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const n=e=>i=t?i:e,o=t=>s=e?s:t,a=(t,e)=>Math.pow(10,Math.floor(Pt(t))+e);i===s&&(i<=0?(n(1),o(10)):(n(a(i,-1)),o(a(s,1)))),i<=0&&n(a(s,-1)),s<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&n(a(i,-1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e=function(t,e){const i=Math.floor(Pt(e.max)),s=Math.ceil(e.max/Math.pow(10,i)),n=[];let o=q(t.min,Math.pow(10,Math.floor(Pt(e.min)))),a=Math.floor(Pt(o)),r=Math.floor(o/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do{n.push({value:o,major:Xo(o)}),++r,10===r&&(r=1,++a,l=a>=0?1:l),o=Math.round(r*Math.pow(10,a)*l)/l}while(a<i||a===i&&r<s);const h=q(t.max,o);return n.push({value:h,major:Xo(o)}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Rt(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Ai(t,this.chart.options.locale)}configure(){const t=this.min;super.configure(),this._startValue=Pt(t),this._valueRange=Pt(this.max)-Pt(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Pt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Ko(t){const e=t.ticks;if(e.display&&t.display){const t=Be(e.backdropPadding);return K(e.font&&e.font.size,xt.font.size)+t.height}return 0}function Go(t,e,i,s,n){return t===s||t===n?{start:e-i/2,end:e+i/2}:t<s||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function Zo(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},i={},s=[],n=[],o=t.getLabels().length;for(let h=0;h<o;h++){const o=t.options.pointLabels.setContext(t.getPointLabelContext(h));n[h]=o.padding;const c=t.getPointPosition(h,t.drawingArea+n[h]),d=Ve(o.font),u=(a=t.ctx,r=d,l=Y(l=t._pointLabels[h])?l:[l],{w:Ut(a,r.string,l),h:l.length*r.lineHeight});s[h]=u;const f=t.getIndexAngle(h),g=It(f),p=Go(g,c.x,u.w,0,180),m=Go(g,c.y,u.h,90,270);p.start<e.l&&(e.l=p.start,i.l=f),p.end>e.r&&(e.r=p.end,i.r=f),m.start<e.t&&(e.t=m.start,i.t=f),m.end>e.b&&(e.b=m.end,i.b=f)}var a,r,l;t._setReductions(t.drawingArea,e,i),t._pointLabelItems=function(t,e,i){const s=[],n=t.getLabels().length,o=t.options,a=Ko(o),r=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max);for(let o=0;o<n;o++){const n=0===o?a/2:0,l=t.getPointPosition(o,r+n+i[o]),h=It(t.getIndexAngle(o)),c=e[o],d=ta(l.y,c.h,h),u=Qo(h),f=Jo(l.x,c.w,u);s.push({x:l.x,y:d,textAlign:u,left:f,top:d,right:f+c.w,bottom:d+c.h})}return s}(t,s,n)}function Qo(t){return 0===t||180===t?"center":t<180?"left":"right"}function Jo(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function ta(t,e,i){return 90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e),t}function ea(t,e,i,s){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,_t);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),n.lineTo(i.x,i.y)}}function ia(t){return At(t)?t:0}qo.id="logarithmic",qo.defaults={ticks:{callback:Ss.formatters.logarithmic,major:{enabled:!0}}};class sa extends Yo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=Ko(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=X(t)&&!isNaN(t)?t:0,this.max=X(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ko(this.options))}generateTickLabels(t){Yo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=Q(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""}))}fit(){const t=this.options;t.display&&t.pointLabels.display?Zo(this):this.setCenterPoint(0,0,0,0)}_setReductions(t,e,i){let s=e.l/Math.sin(i.l),n=Math.max(e.r-this.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),a=-Math.max(e.b-(this.height-this.paddingTop),0)/Math.cos(i.b);s=ia(s),n=ia(n),o=ia(o),a=ia(a),this.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(s+n)/2),Math.floor(t-(o+a)/2))),this.setCenterPoint(s,n,o,a)}setCenterPoint(t,e,i,s){const n=this.width-e-this.drawingArea,o=t+this.drawingArea,a=i+this.drawingArea,r=this.height-this.paddingTop-s-this.drawingArea;this.xCenter=Math.floor((o+n)/2+this.left),this.yCenter=Math.floor((a+r)/2+this.top+this.paddingTop)}getIndexAngle(t){return Wt(t*(_t/this.getLabels().length)+Et(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if($(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if($(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return He(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e){const i=this.getIndexAngle(t)-Mt;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:n}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ea(this,this.getDistanceFromCenterForValue(this._endValue),e,this.getLabels().length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s}=e,n=this.getLabels().length;let o,a,r;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:s}}=t;for(let n=e-1;n>=0;n--){const e=s.setContext(t.getPointLabelContext(n)),o=Ve(e.font),{x:a,y:r,textAlign:l,left:h,top:c,right:d,bottom:u}=t._pointLabelItems[n],{backdropColor:f}=e;if(!$(f)){const t=Be(e.backdropPadding);i.fillStyle=f,i.fillRect(h-t.left,c-t.top,d-h+t.width,u-c+t.height)}ee(i,t._pointLabels[n],a,r+o.lineHeight/2,o,{color:e.color,textAlign:l,textBaseline:"middle"})}}(this,n),s.display&&this.ticks.forEach(((t,e)=>{if(0!==e){a=this.getDistanceFromCenterForValue(t.value);!function(t,e,i,s){const n=t.ctx,o=e.circular,{color:a,lineWidth:r}=e;!o&&!s||!a||!r||i<0||(n.save(),n.strokeStyle=a,n.lineWidth=r,n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.beginPath(),ea(t,i,o,s),n.closePath(),n.stroke(),n.restore())}(this,s.setContext(this.getContext(e-1)),a,n)}})),i.display){for(t.save(),o=this.getLabels().length-1;o>=0;o--){const s=i.setContext(this.getPointLabelContext(o)),{color:n,lineWidth:l}=s;l&&n&&(t.lineWidth=l,t.strokeStyle=n,t.setLineDash(s.borderDash),t.lineDashOffset=s.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),r=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(r.x,r.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((s,a)=>{if(0===a&&!e.reverse)return;const r=i.setContext(this.getContext(a)),l=Ve(r.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),r.showLabelBackdrop){t.font=l.string,o=t.measureText(s.label).width,t.fillStyle=r.backdropColor;const e=Be(r.backdropPadding);t.fillRect(-o/2-e.left,-n-l.size/2-e.top,o+e.width,l.size+e.height)}ee(t,s.label,0,-n,l,{color:r.color})})),t.restore()}drawTitle(){}}sa.id="radialLinear",sa.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ss.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5}},sa.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},sa.descriptors={angleLines:{_fallback:"grid"}};const na={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},oa=Object.keys(na);function aa(t,e){return t-e}function ra(t,e){if($(e))return null;const i=t._adapter,{parser:s,round:n,isoWeekday:o}=t._parseOpts;let a=e;return"function"==typeof s&&(a=s(a)),X(a)||(a="string"==typeof s?i.parse(a,s):i.parse(a)),null===a?null:(n&&(a="week"!==n||!At(o)&&!0!==o?i.startOf(a,n):i.startOf(a,"isoWeek",o)),+a)}function la(t,e,i,s){const n=oa.length;for(let o=oa.indexOf(t);o<n-1;++o){const t=na[oa[o]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(n*t.size))<=s)return oa[o]}return oa[n-1]}function ha(t,e,i){if(i){if(i.length){const{lo:s,hi:n}=ne(i,e);t[i[s]>=e?i[s]:i[n]]=!0}}else t[e]=!0}function ca(t,e,i){const s=[],n={},o=e.length;let a,r;for(a=0;a<o;++a)r=e[a],n[r]=a,s.push({value:r,major:!1});return 0!==o&&i?function(t,e,i,s){const n=t._adapter,o=+n.startOf(e[0].value,s),a=e[e.length-1].value;let r,l;for(r=o;r<=a;r=+n.add(r,1,s))l=i[r],l>=0&&(e[l].major=!0);return e}(t,s,n,i):s}class da extends Es{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const i=t.time||(t.time={}),s=this._adapter=new dn._date(t.adapters.date);ot(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:ra(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:n,minDefined:o,maxDefined:a}=this.getUserBounds();function r(t){o||isNaN(t.min)||(s=Math.min(s,t.min)),a||isNaN(t.max)||(n=Math.max(n,t.max))}o&&a||(r(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||r(this.getMinMax(!1))),s=X(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),n=X(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const n=this.min,o=re(s,n,this.max);return this._unit=e.unit||(i.autoSkip?la(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,i,s,n){for(let o=oa.length-1;o>=oa.indexOf(i);o--){const i=oa[o];if(na[i].common&&t._adapter.diff(n,s,i)>=e-1)return i}return oa[i?oa.indexOf(i):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=oa.indexOf(t)+1,i=oa.length;e<i;++e)if(na[oa[e]].common)return oa[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&o.reverse(),ca(this,o,this._majorUnit)}initOffsets(t){let e,i,s=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),s=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=Ht(s,0,o),n=Ht(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,n=s.time,o=n.unit||la(n.minUnit,e,i,this._getLabelCapacity(e)),a=K(n.stepSize,1),r="week"===o&&n.isoWeekday,l=At(r)||!0===r,h={};let c,d,u=e;if(l&&(u=+t.startOf(u,"isoWeek",r)),u=+t.startOf(u,l?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const f="data"===s.ticks.source&&this.getDataTimestamps();for(c=u,d=0;c<i;c=+t.add(c,a,o),d++)ha(h,c,f);return c!==i&&"ticks"!==s.bounds&&1!==d||ha(h,c,f),Object.keys(h).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,e,i,s){const n=this.options,o=n.time.displayFormats,a=this._unit,r=this._majorUnit,l=a&&o[a],h=r&&o[r],c=i[e],d=r&&h&&c&&c.major,u=this._adapter.format(t,s||(d?h:l)),f=n.ticks.callback;return f?Q(f,[u,e,i],this):u}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Et(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*n+a*o,h:i*o+a*n}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,n=this._tickFormatFunction(t,0,ca(this,[t],this._majorUnit),s),o=this._getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,e=s.length;t<e;++t)i=i.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(ra(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return de(t.sort(aa))}}function ua(t,e,i){let s,n,o,a,r=0,l=t.length-1;i?(e>=t[r].pos&&e<=t[l].pos&&({lo:r,hi:l}=oe(t,"pos",e)),({pos:s,time:o}=t[r]),({pos:n,time:a}=t[l])):(e>=t[r].time&&e<=t[l].time&&({lo:r,hi:l}=oe(t,"time",e)),({time:s,pos:o}=t[r]),({time:n,pos:a}=t[l]));const h=n-s;return h?o+(a-o)*(e-s)/h:o}da.id="time",da.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class fa extends da{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ua(e,this.min),this._tableRange=ua(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],n=[];let o,a,r,l,h;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],r=s[o-1],l=s[o],Math.round((h+r)/2)!==l&&n.push({time:l,pos:o/(a-1)});return n}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ua(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ua(this._table,i*this._tableRange+this._minPos,!0)}}fa.id="timeseries",fa.defaults=da.defaults;var ga=Object.freeze({__proto__:null,CategoryScale:jo,LinearScale:Uo,LogarithmicScale:qo,RadialLinearScale:sa,TimeScale:da,TimeSeriesScale:fa});return an.register(Cn,ga,Jn,No),an.helpers={...Hi},an._adapters=dn,an.Animation=ls,an.Animations=cs,an.animator=a,an.controllers=zs.controllers.items,an.DatasetController=ws,an.Element=Ms,an.elements=Jn,an.Interaction=Te,an.layouts=ei,an.platforms=os,an.Scale=Es,an.Ticks=Ss,Object.assign(an,Cn,ga,Jn,No,os),an.Chart=an,"undefined"!=typeof window&&(window.Chart=an),an}));

/* End of File include/javascript/chartjs/chart.min.js */

/*!
 * chartjs-chart-treemap v1.0.2
 * https://chartjs-chart-treemap.pages.dev/
 * (c) 2021 Jukka Kurkela
 * Released under the MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("chart.js"),require("chart.js/helpers")):"function"==typeof define&&define.amd?define(["exports","chart.js","chart.js/helpers"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["chartjs-chart-treemap"]={},t.Chart,t.Chart.helpers)}(this,(function(t,e,i){"use strict";function n(t){const e=[...t],i=[];for(;e.length;){const t=e.pop();Array.isArray(t)?e.push(...t):i.push(t)}return i.reverse()}function r(t,e,i,n,r){const o=Object.create(null),s=Object.create(null),a=[];let l,h,u,c;for(h=0,u=t.length;h<u;++h)c=t[h],n&&c[n]!==r||(l=c[e]||"",l in o||(o[l]=0,s[l]=[]),o[l]+=+c[i],s[l].push(c));return Object.keys(o).forEach((t=>{c={children:s[t]},c[i]=+o[t],c[e]=t,n&&(c[n]=r),a.push(c)})),a}function o(t){const e=typeof t;return"function"===e||"object"===e&&!!t}function s(t,e){let i,n=t.length;if(!n)return e;const r=o(t[0]);for(e=r?e:"v",i=0,n=t.length;i<n;++i)r?t[i]._idx=i:t[i]={v:t[i],_idx:i};return e}function a(t,e){e?t.sort(((t,i)=>+i[e]-+t[e])):t.sort(((t,e)=>+e-+t))}function l(t,e){let i,n,r;for(i=0,n=0,r=t.length;n<r;++n)i+=e?+t[n][e]:+t[n];return i}function h(t,e){const i=e.split(".");if(!t.split(".").reduce(((t,e,n)=>t&&e<=i[n]),!0))throw new Error(`Chart.js v${e} is not supported. v${t} or newer is required.`)}function u(t,e){return+(Math.round(t+"e+"+e)+"e-"+e)||0}function c(t,e,i,n){const r=t._normalized,o=e*r/i,s=Math.sqrt(r*o),a=r/s;return{d1:s,d2:a,w:"_ix"===n?s:a,h:"_ix"===n?a:s}}const d=(t,e)=>u(t.rtl?t.x+t.w-t._ix-e:t.x+t._ix,4);function p(t,e,i,n){const r={x:d(t,i.w),y:u(t.y+t._iy,4),w:u(i.w,4),h:u(i.h,4),a:u(e._normalized,4),v:e.value,s:n,_data:e._data};return e.group&&(r.g=e.group,r.l=e.level,r.gs=e.groupSum),r}class g{constructor(t){const e=this;t=t||{w:1,h:1},e.rtl=!!t.rtl,e.x=t.x||t.left||0,e.y=t.y||t.top||0,e._ix=0,e._iy=0,e.w=t.w||t.width||t.right-t.left,e.h=t.h||t.height||t.bottom-t.top}get area(){return this.w*this.h}get iw(){return this.w-this._ix}get ih(){return this.h-this._iy}get dir(){const t=this.ih;return t<=this.iw&&t>0?"y":"x"}get side(){return"x"===this.dir?this.iw:this.ih}map(t){const e=this,i=[],n=t.nsum,r=t.get(),o=e.dir,s=e.side,a=s*s,l="x"===o?"_ix":"_iy",h=n*n;let u=0,d=0;for(const n of r){const r=c(n,a,h,l);d+=r.d1,u=Math.max(u,r.d2),i.push(p(e,n,r,t.sum)),e[l]+=r.d1}return e["y"===o?"_ix":"_iy"]+=u,e[l]-=d,i}}const f=Math.min,m=Math.max;function x(t,e){const i=+e[t.key],n=i*t.ratio;return e._normalized=n,{min:f(t.min,i),max:m(t.max,i),sum:t.sum+i,nmin:f(t.nmin,n),nmax:m(t.nmax,n),nsum:t.nsum+n}}function y(t,e,i){t._arr.push(e),function(t,e){Object.assign(t,e)}(t,i)}class v{constructor(t,e){const i=this;i.key=t,i.ratio=e,i.reset()}get length(){return this._arr.length}reset(){const t=this;t._arr=[],t._hist=[],t.sum=0,t.nsum=0,t.min=1/0,t.max=-1/0,t.nmin=1/0,t.nmax=-1/0}push(t){y(this,t,x(this,t))}pushIf(t,e,...i){const n=x(this,t);if(!e((r=this,{min:r.min,max:r.max,sum:r.sum,nmin:r.nmin,nmax:r.nmax,nsum:r.nsum}),n,i))return t;var r;y(this,t,n)}get(){return this._arr}}function w(t,e,i){if(0===t.sum)return!0;const[n]=i,r=t.nsum*t.nsum,o=e.nsum*e.nsum,s=n*n,a=Math.max(s*t.nmax/r,r/(s*t.nmin));return Math.max(s*e.nmax/o,o/(s*e.nmin))<=a}function b(t,e,i,r,o,h){t=t||[];const u=[],c=new g(e),d=new v("value",c.area/l(t,i));let p=c.side;const f=t.length;let m,x;if(!f)return u;const y=t.slice();i=s(y,i),a(y,i);const b=t=>r&&y[t][r];for(m=0;m<f;++m)x={value:(_=m,i?+y[_][i]:+y[_]),groupSum:h,_data:t[y[m]._idx],level:void 0,group:void 0},r&&(x.level=o,x.group=b(m)),x=d.pushIf(x,w,p),x&&(u.push(c.map(d)),p=c.side,d.reset(),d.push(x));var _;return d.length&&u.push(c.map(d)),n(u)}function _(t,e){if(!e)return!1;const i=t.width||t.w,n=t.height||t.h,r=2*e.lineHeight;return i>r&&n>r}function D(t,e,n,r,o){t.save(),t.beginPath(),t.rect(e.x,e.y,e.width,e.height),t.clip(),"l"in n&&n.l!==o?r.captions&&r.captions.display&&function(t,e,n){const r=n.options,o=r.captions||{},s=r.borderWidth||0,a=(n.active?o.hoverColor:o.color)||o.color,l=o.padding,h=o.align||(r.rtl?"right":"left"),u=(n.active?o.hoverFont:o.font)||o.font,c=i.toFont(u),d=C(n,h,l,s);t.fillStyle=a,t.font=c.string,t.textAlign=h,t.textBaseline="top",t.fillText(o.formatter||e.g,d,n.y+l+s+1.5)}(t,n,e):function(t,e,n){const r=n.options,o=r.labels;if(!o||!o.display)return;const s=(n.active?o.hoverColor:o.color)||o.color,a=(n.active?o.hoverFont:o.font)||o.font,l=i.toFont(a),h=l.lineHeight,u=o.formatter;if(u){const e=i.isArray(u)?u:[u],a=function(t,e,i,n){const r=t.labels,o=t.borderWidth||0,{align:s,position:a,padding:l}=r;let h,u;h=C(e,s,l,o),u="top"===a?e.y+l+o:"bottom"===a?e.y+e.height-l-o-(i.length-1)*n:e.y+e.height/2-i.length*n/4;return{x:h,y:u}}(r,n,e,h);t.font=l.string,t.textAlign=o.align,t.textBaseline=o.position,t.fillStyle=s,e.forEach(((e,i)=>t.fillText(e,a.x,a.y+i*h)))}}(t,0,e),t.restore()}function O(t,e){const i=e.options,n=e.width||e.w,r=e.height||e.h;if(t.save(),t.strokeStyle=i.dividerColor||"black",t.lineCap=i.dividerCapStyle,t.setLineDash(i.dividerDash||[]),t.lineDashOffset=i.dividerDashOffset,t.lineWidth=i.dividerWidth,t.beginPath(),n>r){const i=n/2;t.moveTo(e.x+i,e.y),t.lineTo(e.x+i,e.y+r)}else{const i=r/2;t.moveTo(e.x,e.y+i),t.lineTo(e.x+n,e.y+i)}t.stroke(),t.restore()}function C(t,e,i,n){return"left"===e?t.x+i+n:"right"===e?t.x+t.width-i-n:t.x+t.width/2}class k extends e.DatasetController{constructor(t,e){super(t,e),this._rect=void 0,this._key=void 0,this._groups=void 0}initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,n=e.getMeta(),o=e.getDataset(),s=o.groups||(o.groups=[]),a=o.captions?o.captions:{},l=e.chart.chartArea,h=o.key||"",u=!!o.rtl,c={x:l.left,y:l.top,w:l.right-l.left,h:l.bottom-l.top,rtl:u};var d,p;"reset"!==t&&(d=e._rect,p=c,d&&p&&d.x===p.x&&d.y===p.y&&d.w===p.w&&d.h===p.h)&&e._key===h&&!function(t,e){let i,n;if(t.lenght!==e.length)return!0;for(i=0,n=t.length;i<n;++i)if(t[i]!==e[i])return!0;return!1}(e._groups,s)||(e._rect=c,e._groups=s.slice(),e._key=h,o.data=function(t,e,n){const o=t.key||"";let s=t.tree||[];const a=t.groups||[],l=a.length,h=i.valueOrDefault(t.spacing,0)+i.valueOrDefault(t.borderWidth,0),u=n.font||{},c=i.toFont(u),d=i.valueOrDefault(n.padding,3);return!s.length&&t.data.length&&(s=t.tree=t.data),l?function t(e,u,p,g){const f=a[e],m=e>0&&a[e-1],x=b(r(s,f,o,m,p),u,o,f,e,g),y=x.slice();let v;return e<l-1&&x.forEach((r=>{v={x:r.x+h,y:r.y+h,w:r.w-2*h,h:r.h-2*h},i.valueOrDefault(n.display,!0)&&_(r,c)&&(v.y+=c.lineHeight+2*d,v.h-=c.lineHeight+2*d),y.push(...t(e+1,v,r.g,r.s))})),y}(0,e):b(s,e,o)}(o,c,a),e._dataCheck(),e._resyncElements()),e.updateElements(n.data,0,n.data.length,t)}resolveDataElementOptions(t,e){const n=super.resolveDataElementOptions(t,e),r=Object.isFrozen(n)?Object.assign({},n):n;return r.font=i.toFont(n.captions.font),r}updateElements(t,e,i,n){const r=this,o="reset"===n,s=r.getDataset(),a=r._rect.options=r.resolveDataElementOptions(e,n),l=r.getSharedOptions(a),h=r.includeOptions(n,l);for(let a=e;a<e+i;a++){const e=s.data[a],i=l||r.resolveDataElementOptions(a,n),u=o?0:e.h-2*i.spacing,c=o?0:e.w-2*i.spacing,d={x:e.x+i.spacing,y:e.y+i.spacing,width:c,height:u};h&&(d.options=i),r.updateElement(t[a],a,d,n)}r.updateSharedOptions(l,n,a)}_drawDividers(t,e,i){for(let n=0,r=i.length;n<r;++n){const r=i[n],o=e[n];r.options.groupDividers&&o._data.children.length>1&&O(t,r)}this.getDataset().groupDividers&&O(t,this._rect)}_drawRects(t,e,i,n){for(let r=0,o=i.length;r<o;++r){const o=i[r],s=e[r];if(!o.hidden){o.draw(t);const e=o.options;_(o,e.captions.font)&&D(t,o,s,e,n)}}}draw(){const t=this,e=t.chart.ctx,i=t.getMeta().data||[],n=t.getDataset(),r=(n.groups||[]).length-1,o=n.data||[];t._drawRects(e,o,i,r),t._drawDividers(e,o,i)}}function j(t,e){const{x:i,y:n,width:r,height:o}=t.getProps(["x","y","width","height"],e);return{left:i,top:n,right:i+r,bottom:n+o}}function E(t,e,i){return Math.max(Math.min(t,i),e)}function S(t){const e=j(t),i=e.right-e.left,n=e.bottom-e.top,r=function(t,e,i){let n,r,s,a;return o(t)?(n=+t.top||0,r=+t.right||0,s=+t.bottom||0,a=+t.left||0):n=r=s=a=+t||0,{t:E(n,0,i),r:E(r,0,e),b:E(s,0,i),l:E(a,0,e)}}(t.options.borderWidth,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b}}}function M(t,e,i,n){const r=null===e,o=null===i,s=!(!t||r&&o)&&j(t,n);return s&&(r||e>=s.left&&e<=s.right)&&(o||i>=s.top&&i<=s.bottom)}k.id="treemap",k.version="1.0.2",k.defaults={dataElementType:"treemap",borderWidth:0,dividerWidth:1,groupDividers:!1,spacing:.5},k.descriptors={_scriptable:!0,_indexable:!1},k.overrides={interaction:{mode:"point",intersect:!0},hover:{},plugins:{tooltip:{position:"treemap",intersect:!0,callbacks:{title(t){if(t.length){return t[0].dataset.key||""}return""},label(t){const e=t.dataset,i=e.data[t.dataIndex],n=i.g||e.label;return(n?n+": ":"")+i.v}}}},scales:{x:{type:"linear",display:!1},y:{type:"linear",display:!1}}},k.beforeRegister=function(){h("3.6",e.Chart.version)},k.afterRegister=function(){const t=e.registry.plugins.get("tooltip");t&&(t.positioners.treemap=function(t){if(!t.length)return!1;return t[t.length-1].element.tooltipPosition()})},k.afterUnregister=function(){const t=e.registry.plugins.get("tooltip");t&&delete t.positioners.treemap};class P extends e.Element{constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:i,outer:n}=S(this);t.save(),n.w!==i.w||n.h!==i.h?(t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.clip(),t.rect(i.x,i.y,i.w,i.h),t.fillStyle=e.backgroundColor,t.fill(),t.fillStyle=e.borderColor,t.fill("evenodd")):(t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h)),t.restore()}inRange(t,e,i){return M(this,t,e,i)}inXRange(t,e){return M(this,t,null,e)}inYRange(t,e){return M(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,width:n,height:r}=this.getProps(["x","y","width","height"],t);return{x:e+n/2,y:i+r/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}P.id="treemap",P.defaults={borderSkipped:void 0,borderWidth:void 0,dividerCapStyle:"butt",dividerColor:"black",dividerDash:void 0,dividerDashOffset:0,dividerWidth:0,groupDividers:!1,spacing:void 0,label:void 0,rtl:void 0,captions:{align:void 0,color:void 0,display:!0,formatter:t=>t.raw.g||"",font:{},padding:3},labels:{align:"center",color:void 0,display:!1,formatter:t=>t.raw.g?[t.raw.g,t.raw.v]:t.raw.v,font:{},position:"middle",padding:3}},P.descriptors={_scriptable:!0,_indexable:!1},P.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},e.Chart.register(k,P),t.flatten=n,t.group=r,t.index=s,t.isObject=o,t.requireVersion=h,t.sort=a,t.sum=l,Object.defineProperty(t,"__esModule",{value:!0})}));

/* End of File include/javascript/chartjs/chartjs-chart-treemap.min.js */

/*!
 * chartjs-plugin-datalabels v2.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("chart.js/helpers"),require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js/helpers","chart.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).ChartDataLabels=e(t.Chart.helpers,t.Chart)}(this,(function(t,e){"use strict";var r=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),a=function(e){var r,a=[];for(e=[].concat(e);e.length;)"string"==typeof(r=e.pop())?a.unshift.apply(a,r.split("\n")):Array.isArray(r)?e.push.apply(e,r):t.isNullOrUndef(e)||a.unshift(""+r);return a},o=function(t,e,r){var a,o=[].concat(e),n=o.length,i=t.font,l=0;for(t.font=r.string,a=0;a<n;++a)l=Math.max(t.measureText(o[a]).width,l);return t.font=i,{height:n*r.lineHeight,width:l}},n=function(t,e,r){return Math.max(t,Math.min(e,r))},i=function(t,e){var r,a,o,n,i=t.slice(),l=[];for(r=0,o=e.length;r<o;++r)n=e[r],-1===(a=i.indexOf(n))?l.push([n,1]):i.splice(a,1);for(r=0,o=i.length;r<o;++r)l.push([i[r],-1]);return l};function l(t,e){var r=e.x,a=e.y;if(null===r)return{x:0,y:-1};if(null===a)return{x:1,y:0};var o=t.x-r,n=t.y-a,i=Math.sqrt(o*o+n*n);return{x:i?o/i:0,y:i?n/i:-1}}function s(t,e,r){var a=0;return t<r.left?a|=1:t>r.right&&(a|=2),e<r.top?a|=8:e>r.bottom&&(a|=4),a}function u(t,e){var r,a,o=e.anchor,n=t;return e.clamp&&(n=function(t,e){for(var r,a,o,n=t.x0,i=t.y0,l=t.x1,u=t.y1,d=s(n,i,e),c=s(l,u,e);d|c&&!(d&c);)8&(r=d||c)?(a=n+(l-n)*(e.top-i)/(u-i),o=e.top):4&r?(a=n+(l-n)*(e.bottom-i)/(u-i),o=e.bottom):2&r?(o=i+(u-i)*(e.right-n)/(l-n),a=e.right):1&r&&(o=i+(u-i)*(e.left-n)/(l-n),a=e.left),r===d?d=s(n=a,i=o,e):c=s(l=a,u=o,e);return{x0:n,x1:l,y0:i,y1:u}}(n,e.area)),"start"===o?(r=n.x0,a=n.y0):"end"===o?(r=n.x1,a=n.y1):(r=(n.x0+n.x1)/2,a=(n.y0+n.y1)/2),function(t,e,r,a,o){switch(o){case"center":r=a=0;break;case"bottom":r=0,a=1;break;case"right":r=1,a=0;break;case"left":r=-1,a=0;break;case"top":r=0,a=-1;break;case"start":r=-r,a=-a;break;case"end":break;default:o*=Math.PI/180,r=Math.cos(o),a=Math.sin(o)}return{x:t,y:e,vx:r,vy:a}}(r,a,t.vx,t.vy,e.align)}var d=function(t,e){var r=(t.startAngle+t.endAngle)/2,a=Math.cos(r),o=Math.sin(r),n=t.innerRadius,i=t.outerRadius;return u({x0:t.x+a*n,y0:t.y+o*n,x1:t.x+a*i,y1:t.y+o*i,vx:a,vy:o},e)},c=function(t,e){var r=l(t,e.origin),a=r.x*t.options.radius,o=r.y*t.options.radius;return u({x0:t.x-a,y0:t.y-o,x1:t.x+a,y1:t.y+o,vx:r.x,vy:r.y},e)},h=function(t,e){var r=l(t,e.origin),a=t.x,o=t.y,n=0,i=0;return t.horizontal?(a=Math.min(t.x,t.base),n=Math.abs(t.base-t.x)):(o=Math.min(t.y,t.base),i=Math.abs(t.base-t.y)),u({x0:a,y0:o+i,x1:a+n,y1:o,vx:r.x,vy:r.y},e)},f=function(t,e){var r=l(t,e.origin);return u({x0:t.x,y0:t.y,x1:t.x,y1:t.y,vx:r.x,vy:r.y},e)},x=function(t){return Math.round(t*r)/r};function y(t,e){var r=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!r)return null;if(void 0!==r.xCenter&&void 0!==r.yCenter)return{x:r.xCenter,y:r.yCenter};var a=r.getBasePixel();return t.horizontal?{x:a,y:null}:{x:null,y:a}}function v(t,e,r){var a=r.backgroundColor,o=r.borderColor,n=r.borderWidth;(a||o&&n)&&(t.beginPath(),function(t,e,r,a,o,n){var i=Math.PI/2;if(n){var l=Math.min(n,o/2,a/2),s=e+l,u=r+l,d=e+a-l,c=r+o-l;t.moveTo(e,u),s<d&&u<c?(t.arc(s,u,l,-Math.PI,-i),t.arc(d,u,l,-i,0),t.arc(d,c,l,0,i),t.arc(s,c,l,i,Math.PI)):s<d?(t.moveTo(s,r),t.arc(d,u,l,-i,i),t.arc(s,u,l,i,Math.PI+i)):u<c?(t.arc(s,u,l,-Math.PI,0),t.arc(s,c,l,0,Math.PI)):t.arc(s,u,l,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,r)}else t.rect(e,r,a,o)}(t,x(e.x)+n/2,x(e.y)+n/2,x(e.w)-n,x(e.h)-n,r.borderRadius),t.closePath(),a&&(t.fillStyle=a,t.fill()),o&&n&&(t.strokeStyle=o,t.lineWidth=n,t.lineJoin="miter",t.stroke()))}function b(t,e,r){var a=t.shadowBlur,o=r.stroked,n=x(r.x),i=x(r.y),l=x(r.w);o&&t.strokeText(e,n,i,l),r.filled&&(a&&o&&(t.shadowBlur=0),t.fillText(e,n,i,l),a&&o&&(t.shadowBlur=a))}var _=function(t,e,r,a){var o=this;o._config=t,o._index=a,o._model=null,o._rects=null,o._ctx=e,o._el=r};t.merge(_.prototype,{_modelize:function(r,a,n,i){var l,s=this,u=s._index,x=t.toFont(t.resolve([n.font,{}],i,u)),v=t.resolve([n.color,e.defaults.color],i,u);return{align:t.resolve([n.align,"center"],i,u),anchor:t.resolve([n.anchor,"center"],i,u),area:i.chart.chartArea,backgroundColor:t.resolve([n.backgroundColor,null],i,u),borderColor:t.resolve([n.borderColor,null],i,u),borderRadius:t.resolve([n.borderRadius,0],i,u),borderWidth:t.resolve([n.borderWidth,0],i,u),clamp:t.resolve([n.clamp,!1],i,u),clip:t.resolve([n.clip,!1],i,u),color:v,display:r,font:x,lines:a,offset:t.resolve([n.offset,0],i,u),opacity:t.resolve([n.opacity,1],i,u),origin:y(s._el,i),padding:t.toPadding(t.resolve([n.padding,0],i,u)),positioner:(l=s._el,l instanceof e.ArcElement?d:l instanceof e.PointElement?c:l instanceof e.BarElement?h:f),rotation:t.resolve([n.rotation,0],i,u)*(Math.PI/180),size:o(s._ctx,a,x),textAlign:t.resolve([n.textAlign,"start"],i,u),textShadowBlur:t.resolve([n.textShadowBlur,0],i,u),textShadowColor:t.resolve([n.textShadowColor,v],i,u),textStrokeColor:t.resolve([n.textStrokeColor,v],i,u),textStrokeWidth:t.resolve([n.textStrokeWidth,0],i,u)}},update:function(e){var r,o,n,i=this,l=null,s=null,u=i._index,d=i._config,c=t.resolve([d.display,!0],e,u);c&&(r=e.dataset.data[u],o=t.valueOrDefault(t.callback(d.formatter,[r,e]),r),(n=t.isNullOrUndef(o)?[]:a(o)).length&&(s=function(t){var e=t.borderWidth||0,r=t.padding,a=t.size.height,o=t.size.width,n=-o/2,i=-a/2;return{frame:{x:n-r.left-e,y:i-r.top-e,w:o+r.width+2*e,h:a+r.height+2*e},text:{x:n,y:i,w:o,h:a}}}(l=i._modelize(c,n,d,e)))),i._model=l,i._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var r,a=t.ctx,o=this._model,i=this._rects;this.visible()&&(a.save(),o.clip&&(r=o.area,a.beginPath(),a.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),a.clip()),a.globalAlpha=n(0,o.opacity,1),a.translate(x(e.x),x(e.y)),a.rotate(o.rotation),v(a,i.frame,o),function(t,e,r,a){var o,n=a.textAlign,i=a.color,l=!!i,s=a.font,u=e.length,d=a.textStrokeColor,c=a.textStrokeWidth,h=d&&c;if(u&&(l||h))for(r=function(t,e,r){var a=r.lineHeight,o=t.w,n=t.x;return"center"===e?n+=o/2:"end"!==e&&"right"!==e||(n+=o),{h:a,w:o,x:n,y:t.y+a/2}}(r,n,s),t.font=s.string,t.textAlign=n,t.textBaseline="middle",t.shadowBlur=a.textShadowBlur,t.shadowColor=a.textShadowColor,l&&(t.fillStyle=i),h&&(t.lineJoin="round",t.lineWidth=c,t.strokeStyle=d),o=0,u=e.length;o<u;++o)b(t,e[o],{stroked:h,filled:l,w:r.w,x:r.x,y:r.y+r.h*o})}(a,o.lines,i.text,o),a.restore())}});var p=Number.MIN_SAFE_INTEGER||-9007199254740991,g=Number.MAX_SAFE_INTEGER||9007199254740991;function m(t,e,r){var a=Math.cos(r),o=Math.sin(r),n=e.x,i=e.y;return{x:n+a*(t.x-n)-o*(t.y-i),y:i+o*(t.x-n)+a*(t.y-i)}}function w(t,e){var r,a,o,n,i,l=g,s=p,u=e.origin;for(r=0;r<t.length;++r)o=(a=t[r]).x-u.x,n=a.y-u.y,i=e.vx*o+e.vy*n,l=Math.min(l,i),s=Math.max(s,i);return{min:l,max:s}}function M(t,e){var r=e.x-t.x,a=e.y-t.y,o=Math.sqrt(r*r+a*a);return{vx:(e.x-t.x)/o,vy:(e.y-t.y)/o,origin:t,ln:o}}var k=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function $(t,e,r){var a=e.positioner(t,e),o=a.vx,n=a.vy;if(!o&&!n)return{x:a.x,y:a.y};var i=r.w,l=r.h,s=e.rotation,u=Math.abs(i/2*Math.cos(s))+Math.abs(l/2*Math.sin(s)),d=Math.abs(i/2*Math.sin(s))+Math.abs(l/2*Math.cos(s)),c=1/Math.max(Math.abs(o),Math.abs(n));return u*=o*c,d*=n*c,u+=e.offset*o,d+=e.offset*n,{x:a.x+u,y:a.y+d}}t.merge(k.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,r){this._rotation=r,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,r=e._rect;return!((t=m(t,e.center(),-e._rotation)).x<r.x-1||t.y<r.y-1||t.x>r.x+r.w+2||t.y>r.y+r.h+2)},intersects:function(t){var e,r,a,o=this._points(),n=t._points(),i=[M(o[0],o[1]),M(o[0],o[3])];for(this._rotation!==t._rotation&&i.push(M(n[0],n[1]),M(n[0],n[3])),e=0;e<i.length;++e)if(r=w(o,i[e]),a=w(n,i[e]),r.max<a.min||a.max<r.min)return!1;return!0},_points:function(){var t=this,e=t._rect,r=t._rotation,a=t.center();return[m({x:e.x,y:e.y},a,r),m({x:e.x+e.w,y:e.y},a,r),m({x:e.x+e.w,y:e.y+e.h},a,r),m({x:e.x,y:e.y+e.h},a,r)]}});var C={prepare:function(t){var e,r,a,o,n,i=[];for(e=0,a=t.length;e<a;++e)for(r=0,o=t[e].length;r<o;++r)n=t[e][r],i.push(n),n.$layout={_box:new k,_hidable:!1,_visible:!0,_set:e,_idx:r};return i.sort((function(t,e){var r=t.$layout,a=e.$layout;return r._idx===a._idx?a._set-r._set:a._idx-r._idx})),this.update(i),i},update:function(t){var e,r,a,o,n,i=!1;for(e=0,r=t.length;e<r;++e)o=(a=t[e]).model(),(n=a.$layout)._hidable=o&&"auto"===o.display,n._visible=a.visible(),i|=n._hidable;i&&function(t){var e,r,a,o,n,i,l;for(e=0,r=t.length;e<r;++e)(o=(a=t[e]).$layout)._visible&&(l=new Proxy(a._el,{get:(t,e)=>t.getProps([e],!0)[e]}),n=a.geometry(),i=$(l,a.model(),n),o._box.update(i,n,a.rotation()));(function(t,e){var r,a,o,n;for(r=t.length-1;r>=0;--r)for(o=t[r].$layout,a=r-1;a>=0&&o._visible;--a)(n=t[a].$layout)._visible&&o._box.intersects(n._box)&&e(o,n)})(t,(function(t,e){var r=t._hidable,a=e._hidable;r&&a||a?e._visible=!1:r&&(t._visible=!1)}))}(t)},lookup:function(t,e){var r,a;for(r=t.length-1;r>=0;--r)if((a=t[r].$layout)&&a._visible&&a._box.contains(e))return t[r];return null},draw:function(t,e){var r,a,o,n,i,l;for(r=0,a=e.length;r<a;++r)(n=(o=e[r]).$layout)._visible&&(i=o.geometry(),l=$(o._el,o.model(),i),n._box.update(l,i,o.rotation()),o.draw(t,l))}},P="$default";function S(e,r,a){if(r){var o,n=a.$context,i=a.$groups;r[i._set]&&(o=r[i._set][i._key])&&!0===t.callback(o,[n])&&(e.$datalabels._dirty=!0,a.update(n))}}function I(t,e){var r,a,o=t.$datalabels,n=o._listeners;if(n.enter||n.leave){if("mousemove"===e.type)a=C.lookup(o._labels,e);else if("mouseout"!==e.type)return;r=o._hovered,o._hovered=a,function(t,e,r,a){var o,n;(r||a)&&(r?a?r!==a&&(n=o=!0):n=!0:o=!0,n&&S(t,e.leave,r),o&&S(t,e.enter,a))}(t,n,r,a)}}return{id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if(t.isNullOrUndef(e))return null;var r,a,o,n=e;if(t.isObject(e))if(t.isNullOrUndef(e.label))if(t.isNullOrUndef(e.r))for(n="",o=0,a=(r=Object.keys(e)).length;o<a;++o)n+=(0!==o?", ":"")+r[o]+": "+e[r[o]];else n=e.r;else n=e.label;return""+n},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(t){t.$datalabels={_actives:[]}},beforeUpdate:function(t){var e=t.$datalabels;e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(e,r,a){var o,n,i,l,s,u,d,c,h=r.index,f=e.$datalabels,x=f._datasets[h]=[],y=e.isDatasetVisible(h),v=e.data.datasets[h],b=function(e,r){var a,o,n,i=e.datalabels,l=[];return!1===i?null:(!0===i&&(i={}),r=t.merge({},[r,i]),o=r.labels||{},n=Object.keys(o),delete r.labels,n.length?n.forEach((function(e){o[e]&&l.push(t.merge({},[r,o[e],{_key:e}]))})):l.push(r),a=l.reduce((function(e,r){return t.each(r.listeners||{},(function(t,a){e[a]=e[a]||{},e[a][r._key||P]=t})),delete r.listeners,e}),{}),{labels:l,listeners:a})}(v,a),p=r.meta.data||[],g=e.ctx;for(g.save(),o=0,i=p.length;o<i;++o)if((d=p[o]).$datalabels=[],y&&d&&e.getDataVisibility(o)&&!d.skip)for(n=0,l=b.labels.length;n<l;++n)u=(s=b.labels[n])._key,(c=new _(s,g,d,o)).$groups={_set:h,_key:u||P},c.$context={active:!1,chart:e,dataIndex:o,dataset:v,datasetIndex:h},c.update(c.$context),d.$datalabels.push(c),x.push(c);g.restore(),t.merge(f._listeners,b.listeners,{merger:function(t,e,a){e[t]=e[t]||{},e[t][r.index]=a[t],f._listened=!0}})},afterUpdate:function(t,e){t.$datalabels._labels=C.prepare(t.$datalabels._datasets,e)},afterDatasetsDraw:function(t){C.draw(t,t.$datalabels._labels)},beforeEvent:function(t,e){if(t.$datalabels._listened){var r=e.event;switch(r.type){case"mousemove":case"mouseout":I(t,r);break;case"click":!function(t,e){var r=t.$datalabels,a=r._listeners.click,o=a&&C.lookup(r._labels,e);o&&S(t,a,o)}(t,r)}}},afterEvent:function(t){var e,r,a,o,n,l,s,u=t.$datalabels,d=u._actives,c=u._actives=t.getActiveElements(),h=i(d,c);for(e=0,r=h.length;e<r;++e)if((n=h[e])[1])for(a=0,o=(s=n[0].element.$datalabels||[]).length;a<o;++a)(l=s[a]).$context.active=1===n[1],l.update(l.$context);(u._dirty||h.length)&&(C.update(u._labels),t.render()),delete u._dirty}}}));

/* End of File include/javascript/chartjs/chartjs-plugin-datalabels.min.js */

function loadSugarChart(chartId,data,css,chartConfig,chartParams,callback){let elementId='chart_'+chartId;if(!document.getElementById(elementId)){return;}
var chartGroupType=chartConfig.barType||chartConfig.lineType||chartConfig.pieType||chartConfig.funnelType||'basic';if(_.isUndefined(chartParams.chart_type)&&!_.isUndefined(chartParams.type)){chartParams.chart_type=chartParams.type;chartParams.type='saved-report-view';}
let options=_.extend({allowScroll:true,baseModule:'Reports',colorData:'default',dataType:chartGroupType==='stacked'?'grouped':chartGroupType,direction:'ltr',hideEmptyGroups:true,label:SUGAR.charts.translateString('LBL_DASHLET_SAVED_REPORTS_CHART'),margin:{top:10,right:10,bottom:10,left:10},module:'Reports',overflowHandler:false,reduceXTicks:false,rotateTicks:true,saved_report_id:chartConfig.chartId||chartId,show_controls:false,show_legend:true,show_title:true,show_tooltips:true,show_x_label:false,show_y_label:false,showValues:false,stacked:true,staggerTicks:true,vertical:true,wrapTicks:true,x_axis_label:'',y_axis_label:'',allow_drillthru:true,chartElementId:elementId,},chartConfig,chartParams);let noDataAvailable=SUGAR.charts.translateString('LBL_NO_DATA_AVAILABLE');SUGAR.charts.defineFiscalYearStart();SUGAR.charts.get(data,options,(data,params)=>{if(SUGAR.charts.dataIsEmpty(data)){SUGAR.charts.renderError(chartId,noDataAvailable);if(callback){callback(null);}
return;}
let chart=SUGAR.charts.getChart(data,params);chart.createChart();SUGAR.charts.renderChart(chartId,chart,data);if(callback){callback(chart);}});}
(function($){if(typeof SUGAR==='undefined'||!SUGAR){SUGAR={};}
function BaseChart(data,params){this.rawData=data;this.params=params;this.chartType='';this.app=SUGAR.charts.sugarApp;this.labels=SUGAR.charts.getChartStrings();this.chartElement=document.getElementById(this.params.chartElementId);this.chart=null;this.locale=SUGAR.charts.getUserLocale();this.chartJsMajorVersion=3;this.hasSavedChart=false;this.colorList=[];this.defaultColorList=['#517bf8','#36b0ff','#00e0e0','#00ba83','#6cdf46','#ffd132','#ff9445','#fa374f','#f476b1','#cd74f2','#8f5ff5','#29388c','#145c95','#00636e','#056f37','#537600','#866500','#9b4617','#bb0e1b','#a23354','#832a83','#4c2d85','#c6ddff','#c0edff','#c5fffb','#baffcc','#e4fbb4','#fff7ad','#ffdebc','#ffd4d0','#fde2eb','#f7d0fd','#e2d4fd',];this.baseColorList=Array.isArray(this.params.colorOverrideList)?this.params.colorOverrideList:this.defaultColorList;this.wrapperProperties={};}
BaseChart.prototype.updateParams=function(newParams){this.params=newParams;this.updateChartColors();this.chart.update();};BaseChart.prototype.getChartOptions=function(){return{};};BaseChart.prototype.createChart=function(){this.destroyChart();this.data=this.transformData();this.chart=new window.Chart(this.chartElement,this.getChartOptions());return this.chart;};BaseChart.prototype.createSavableChart=function(){this.data=this.transformData();let savableChartOptions=this.makeChartSavable(this.getChartOptions());this.chart=new window.Chart(this.getSavableChartElement(),savableChartOptions);return this.chart;};BaseChart.prototype.shouldSaveChart=function(){return!!(this.params.reportView&&this.params.imageExportType&&!this.params.isOnDrillthrough);};BaseChart.prototype.getSavableChartElement=function(){return document.getElementById(`${this.params.chartElementId}_print`);};BaseChart.prototype.makeChartSavable=function(chartOptions){chartOptions.plugins=chartOptions.plugins||[];chartOptions.plugins.push({id:'savechart',afterRender:(chart,options)=>this.handleChartSave(),});chartOptions.options.animation=chartOptions.options.animation||{};chartOptions.options.animation.duration=0;return chartOptions;};BaseChart.prototype.handleChartSave=function(){if(!this.shouldSaveChart()||this.hasSavedChart){return;}
let savableChartElement=this.getSavableChartElement();SUGAR.charts.saveChartToImage(Chart.getChart(savableChartElement),this.params.saved_report_id,this.params.imageExportType);this.hasSavedChart=true;this.destroyChart(savableChartElement);};BaseChart.prototype.destroyChart=function(chartElement=null){if(this.chart&&!chartElement){this.chart.destroy();return;}
chartElement=chartElement||this.chartElement;if(this.chartJsMajorVersion===2){Chart2.helpers.each(Chart2.instances,(function(instance){if(instance.canvas.id===chartElement.id){instance.destroy();}}).bind(this));}else{let chart=Chart.getChart(chartElement);if(chart){chart.destroy();}}};BaseChart.prototype.hasValues=function(){return!!this.rawData.values.filter(d=>Array.isArray(d.values)&&d.values.length).length;};BaseChart.prototype.isDiscreteData=function(){return this.hasValues()&&Array.isArray(this.rawData.label)&&this.rawData.label.length===this.rawData.values.length&&this.rawData.values.reduce((a,c,i)=>{return a&&Array.isArray(c.values)&&c.values.length===1&&this.pickLabel(c.label)===this.pickLabel(this.rawData.label[i]);},true);};BaseChart.prototype.pickLabel=function(label){label=[].concat(label)[0];return!_.isEmpty(label)?label:this.labels.noLabel;};BaseChart.prototype.getProperties=function(){let props=_.isArray(this.rawData.properties)?_.first(this.rawData.properties):this.rawData.properties;return props||{};};BaseChart.prototype.getTitle=function(){let props=this.getProperties();return props?props.title:'';};BaseChart.prototype.sumValues=function(values){return values.reduce((a,b)=>parseFloat(a)+parseFloat(b),0);};BaseChart.prototype.setTickLength=function(label,characterLimit=20){if(label.length>=characterLimit){return label.substring(0,characterLimit-1).trim()+'…';}
return label;};BaseChart.prototype.formatNumericTicks=function(value,isCurrency,roundNum=0){return SUGAR.charts.sugarApp.utils.charts.numberFormatSI(value,roundNum,isCurrency,this.locale);};BaseChart.prototype.getTooltipOptions=function(){return{display:true,displayColors:false,callbacks:{title:(function(tooltip){return _.first(tooltip).label;}).bind(this),label:(function(tooltip){let value=tooltip.raw;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let isNonBarMultipleDatasets=!this.params.barType&&this.data.datasets.length>1;let isGroupedBarChart=!this.isSingleDataset()&&['grouped','stacked'].includes(this.params.barType);let isPieLike=['pieChart','donutChart'].includes(this.params.chartType);let total;if(isPieLike){total=this.sumValues(this.data.datasets[0].data);}else if(isGroupedBarChart){total=this.sumValues(this.data.datasets.map(dataset=>dataset.data[tooltip.dataIndex]));}else{total=this.sumValues(tooltip.dataset.data);}
let labels=[];if((isGroupedBarChart||isNonBarMultipleDatasets)&&!isPieLike){let text=isNonBarMultipleDatasets?props.groupName:props.seriesName;if(text){labels.push({text:text,value:tooltip.dataset.label,});}}
labels.push({text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),});if(this.app.utils.charts.isNumeric(value)&&!isNonBarMultipleDatasets){labels.push({text:this.labels.tooltip.percent,value:this.app.utils.charts.numberFormatPercent(value,total,this.locale),});}
return labels.map(label=>`${label.text}: ${label.value}`);}).bind(this),}};};BaseChart.prototype.isSingleDataset=function(){return this.rawData.values&&this.rawData.values[0]&&this.rawData.values[0].values.length===1;};BaseChart.prototype.getTickOptions=function(axis){const getLabel=index=>{let label=this.getProperties().type==='line chart'?this.rawData.label[index]:this.rawData.values[index].label;return this.setTickLength(this.pickLabel(label));};let tickOptions={autoSkip:false,color:this.getTextColor(),callback:index=>getLabel(index),};let numericTickOptions={autoskip:false,minRotation:0,maxRotation:0,color:this.getTextColor(),callback:(value,index,values)=>{let props=this.getProperties();const round=value<10?2:null;return this.formatNumericTicks(value,props.yDataType==='currency',round);},};if(axis==='y'&&this.params.orientation!=='horizontal'){return numericTickOptions;}
if(axis==='x'){if(this.params.orientation==='horizontal'){return numericTickOptions;}
if(this.params.rotateTicks){tickOptions={autoSkip:false,maxRotation:45,minRotation:45,color:this.getTextColor(),callback:index=>getLabel(index),};}
if(this.params.staggerTicks){tickOptions={autoSkip:false,maxRotation:0,minRotation:0,color:this.getTextColor(),callback:index=>{let label=getLabel(index);return index%2===0?[' ',label]:label;},};}
if(this.params.wrapTicks){tickOptions={autoSkip:false,maxRotation:0,minRotation:0,color:this.getTextColor(),callback:index=>{let label=getLabel(index);return /\s/.test(label)?label.split(' '):label;},};}}
return tickOptions;};BaseChart.prototype.getColors=function(index=-1,usePattern=false){if(!this.colorList.length){let colorList=this.baseColorList;let dataLength=-1;switch(this.params.chartType){case'pieChart':case'donutChart':case'lineChart':case'funnelChart':case'treemapChart':dataLength=this.rawData.values.length;break;case'barChart':if(['grouped','stacked'].includes(this.params.barType)){if(this.rawData.values&&this.rawData.values[0]&&this.rawData.values[0].values.length===1){dataLength=this.rawData.values.length;}else{dataLength=this.rawData.label.length;}}else{dataLength=this.rawData.values.length;}
break;}
if(dataLength>this.baseColorList.length){for(let i=1;i<dataLength / this.baseColorList.length;i++){colorList=colorList.concat(this.baseColorList);}}
this.colorList=colorList;}
if(index!==-1){return usePattern?this.createPattern(this.colorList[index]):this.colorList[index];}else{return this.colorList;}};BaseChart.prototype.createPattern=function(color){let shape=document.createElement('canvas');shape.width=10;shape.height=10;let c=shape.getContext('2d');c.fillStyle=color;c.fillRect(0,0,shape.width,shape.height);c.strokeStyle='#ffffff';c.beginPath();c.moveTo(2,0);c.lineTo(10,8);c.stroke();c.beginPath();c.moveTo(0,8);c.lineTo(2,10);c.stroke();return c.createPattern(shape,'repeat');};BaseChart.prototype.getTextColor=function(){return this.app.utils.isDarkMode()&&!this.params.ignoreDarkMode?'#e5eaed':'#2b2d2e';};BaseChart.prototype.getBorderColor=function(){if(this.app.utils.isDarkMode()&&!this.params.ignoreDarkMode){if(this.params.isOnDrillthrough){return'#2b2d2e';}
return this.params.reportView?'#16191d':'#000000';}else{if(this.params.isOnDrillthrough){return'#f1f3f4';}
return this.params.reportView?'#f8fafc':'#ffffff';}};BaseChart.prototype.getAxisColors=function(){return this.app.utils.isDarkMode()&&!this.params.ignoreDarkMode?'#4d5154':'#e5eaed';};BaseChart.prototype.getClickHandler=function(){if(this.params.onClick&&_.isFunction(this.params.onClick)){return this.params.onClick.bind(this);}
return function(event,activeElements,chart){let element;let groupIndex;let groupLabel;let seriesIndex;let seriesLabel;let params=Object.assign({},this.params);let reportDef=report_def;if(this.chartType==='funnel'){if(_.isEmpty(activeElements)){return;}
let internalChart=activeElements[0]._chart;let elementClicked=internalChart.getElementAtEvent(event);groupIndex=elementClicked[0]._index;groupLabel=internalChart.data.labels[groupIndex];seriesIndex=elementClicked[0]._datasetIndex;seriesLabel=internalChart.data.datasets[seriesIndex].label;params.seriesLabel=seriesLabel;params.seriesIndex=seriesIndex;params.groupLabel=groupLabel;params.groupIndex=groupIndex;}else{element=chart.getElementsAtEventForMode(event,'nearest',{intersect:true},false);if(_.isEmpty(element)){return;}
groupIndex=element[0].index;groupLabel=chart.data.labels[groupIndex];seriesIndex=element[0].datasetIndex;seriesLabel=chart.data.datasets[seriesIndex].label;if(params.chart_type==='line chart'){params.groupLabel=seriesLabel;params.groupIndex=seriesIndex;params.seriesLabel=groupLabel;params.seriesIndex=groupIndex;}else{params.seriesLabel=seriesLabel;params.seriesIndex=seriesIndex;params.groupLabel=groupLabel;params.groupIndex=groupIndex;}}
let enums=SUGAR.charts.getEnums(reportDef);let groupDefs=SUGAR.charts.getGrouping(reportDef);let drawerContext={chartData:this.app.utils.deepCopy(this.rawData),chartModule:reportDef.module,dashConfig:params,dashModel:null,enumsToFetch:enums,filterOptions:{auto_apply:false},groupDefs:groupDefs,layout:'drillthrough-drawer',module:'Reports',reportData:reportDef,reportId:this.params.saved_report_id,skipFetch:true,useSavedFilters:true};SUGAR.charts.openDrawer(drawerContext);}.bind(this);};function BarChart(data,params){BaseChart.call(this,data,params);this.chartType='bar';if((this.params.reportView&&this.isDiscreteData())||this.params.barType==='stacked'){this.params.dataType='grouped';}
let orientation=this.params.orientation?this.params.orientation:'horizontal';this.minDatapointThickness=orientation==='horizontal'?15:30;this.maxBarThickness=35;this.categoryPercentage=0.8;this.barPercentage=0.9;this.wrapperProperties=this.getChartWrapperProperties();}
BarChart.prototype=Object.create(BaseChart.prototype);BarChart.prototype.getChartWrapperProperties=function(){let wrapperProperties={};let values=this.rawData&&this.rawData.values||[];let valuesCount=values.length;if(this.params.dataType==='grouped'&&!this.params.stacked){valuesCount=0;_.each(values,function(value){let subValues=value.values||[];valuesCount+=subValues.length;},this);}
let orientation=this.params.orientation?this.params.orientation:'horizontal';if(orientation==='horizontal'){let topMargin=_.get(this.params,['margin','top'])||0;let bottomMargin=_.get(this.params,['margin','bottom'])||0;let minChartHeight=(valuesCount*this.minDatapointThickness)+topMargin+bottomMargin;wrapperProperties['min-height']=`${minChartHeight}px`;}else{let leftMargin=_.get(this.params,['margin','left'])||0;let rightMargin=_.get(this.params,['margin','right'])||0;let minChartWidth=(valuesCount*this.minDatapointThickness)+leftMargin+rightMargin;wrapperProperties['min-width']=`${minChartWidth}px`;}
return wrapperProperties;};const formatBarChartTopLabels=function(chartDetails,params,props,rawData,locale){chartDetails.options.plugins.datalabels.anchor='end';if(params.barType==='grouped'){let maxValue=0;rawData.values.forEach(group=>{group.values.forEach(value=>{maxValue=Math.max(maxValue,value);});});if(maxValue!=0){const multiplier=SUGAR.charts.sugarApp.utils.charts.numberFormatSI(maxValue,2,props.yDataType,locale).length*.068;chartDetails.options.scales.y.max=maxValue+(maxValue*multiplier);}}
return chartDetails;};BarChart.prototype.getChartOptions=function(){let isHorizontal=this.params.orientation==='horizontal';if(!['grouped','stacked'].includes(this.params.barType)||this.isSingleDataset()){this.params.show_legend=false;}
if(!isHorizontal){this.params.rotateTicks=true;this.params.staggerTicks=false;this.params.wrapTicks=false;}
let chartDetails={type:this.chartType,data:this.data,plugins:[ChartDataLabels],options:{indexAxis:isHorizontal?'y':'x',responsive:true,maintainAspectRatio:false,scales:{x:{title:{display:isHorizontal?this.params.show_y_label:this.params.show_x_label,text:isHorizontal?this.params.y_axis_label:this.params.x_axis_label,color:this.getTextColor(),},stacked:this.params.stacked,ticks:this.getTickOptions('x'),grid:{display:true,drawBorder:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},y:{title:{display:isHorizontal?this.params.show_x_label:this.params.show_y_label,text:isHorizontal?this.params.x_axis_label:this.params.y_axis_label,color:this.getTextColor(),},stacked:this.params.stacked,ticks:this.getTickOptions('y'),grid:{display:true,drawBorder:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},},plugins:{legend:{display:this.params.show_legend,labels:{color:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),datalabels:{color:this.getTextColor(),anchor:this.getLabelAnchorValue(),align:this.getLabelAlignValue(),rotation:this.getLabelRotationValue(),padding:4,formatter:(function(value,context){let props=this.getProperties();return this.formatNumericTicks(value,props.yDataType==='currency',2);}).bind(this),display:(function(context){if([0,'0','total'].includes(this.params.showValues)){return false;}
if(this.params.showValues==='top'&&this.params.stacked!==true){return true;}
let value=context.dataset.data[context.dataIndex];return value>(this.getLargestColumnTotal()/ 10);}).bind(this),},},onClick:this.getClickHandler(),}};if(this.params.showValues==='total'){let totalAxis=isHorizontal?'y1':'x1';chartDetails.options.scales[totalAxis]={display:true,stacked:this.params.stacked,position:isHorizontal?'right':'top',title:{display:false,},grid:{drawOnGridArea:false,drawTicks:false,drawBorder:false,},ticks:{minRotation:0,maxRotation:0,autoSkip:false,color:this.getTextColor(),callback:index=>{let props=this.getProperties();let value=this.sumValues(this.rawData.values[index].values);return this.formatNumericTicks(value,props.yDataType==='currency');},},};}
if(this.params.showValues==='top'){chartDetails=formatBarChartTopLabels(chartDetails,this.params,this.getProperties(),this.rawData,this.locale);}
return chartDetails;};BarChart.prototype.getLabelAlignValue=function(){let alignMap={'1':'start',start:'end',middle:'center',end:'start',top:this.params.stacked?'start':'end'};return alignMap[this.params.showValues]||'center';};BarChart.prototype.getLabelAnchorValue=function(){let anchorMap={'1':'end',start:'start',middle:'center',end:'end',};return anchorMap[this.params.showValues]||'center';};BarChart.prototype.getLabelRotationValue=function(){return this.params.barType==='grouped'&&this.params.orientation!=='horizontal'?-90:0;};BarChart.prototype.getLargestColumnTotal=function(){return Math.max(...this.rawData.values.map(value=>this.sumValues(value.values)));};BarChart.prototype.updateChartColors=function(){let isSingleDataset=this.rawData.values&&this.rawData.values[0]&&this.rawData.values[0].values.length===1;let isGroupedOrStacked=['grouped','stacked'].includes(this.params.barType);if(!_.isUndefined(this.params.groupIndex)&&!_.isUndefined(this.params.seriesIndex)){this.chart.data.datasets.map((dataset,index)=>{if(isSingleDataset||!isGroupedOrStacked){this.chart.data.datasets[index].backgroundColor=[...this.getColors()];}else{this.chart.data.datasets[index].backgroundColor=new Array(this.rawData.values.length).fill(this.getColors(index));}});if(isGroupedOrStacked){this.chart.data.datasets[this.params.seriesIndex].backgroundColor[this.params.groupIndex]=this.getColors(this.params.seriesIndex,true);}else{this.chart.data.datasets[0].backgroundColor[this.params.groupIndex]=this.getColors(this.params.groupIndex,true);}}};BarChart.prototype.transformData=function(){if(['grouped','stacked'].includes(this.params.barType)&&!this.isSingleDataset()){return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)),datasets:this.rawData.label.map((label,index)=>({categoryPercentage:this.categoryPercentage,barPercentage:this.barPercentage,maxBarThickness:this.maxBarThickness,label:this.pickLabel(label),backgroundColor:new Array(this.rawData.values[0].values.length).fill(this.getColors(index)),data:this.rawData.values.map(value=>value.values[index]),})),};}else{return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)),datasets:[{categoryPercentage:this.categoryPercentage,barPercentage:this.barPercentage,maxBarThickness:this.maxBarThickness,label:this.pickLabel(this.rawData.label.length===1?this.rawData.label[0]:''),backgroundColor:[...this.getColors()],data:this.rawData.values.map(value=>this.sumValues(value.values)),}],};}};function PieChart(data,params){BaseChart.call(this,data,params);this.chartType='pie';}
PieChart.prototype=Object.create(BaseChart.prototype);PieChart.prototype.getChartOptions=function(){let chartOptions={type:this.chartType,data:this.data,plugins:[],options:{responsive:true,maintainAspectRatio:false,cutout:this.params.cutout,plugins:{legend:{display:this.params.show_legend,labels:{color:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),datalabels:{color:this.getTextColor(),anchor:'center',padding:4,formatter:(function(value,context){return this.pickLabel(this.rawData.values[context.dataIndex].label);}).bind(this),display:context=>context.dataset.data[context.dataIndex]!==0,},},onClick:this.getClickHandler(),},};if(this.params.donutLabelsOutside){chartOptions.plugins.push(ChartDataLabels);}
if(!_.isEmpty(this.params.hole)){chartOptions.plugins.push({id:'donuthole',beforeDraw:chart=>{let width=chart.width;let height=chart.height;chart.ctx.restore();let fontSize=(height / 114).toFixed(2);chart.ctx.font=`${fontSize}em Inter`;chart.ctx.textBaseline='middle';chart.ctx.fillStyle=this.getTextColor();let textX=Math.round((width-chart.ctx.measureText(this.params.hole).width)/ 2);let textY=height / 2;chart.ctx.fillText(this.params.hole,textX,textY);chart.ctx.save();},});}
return chartOptions;};PieChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)){this.chart.data.datasets[0].backgroundColor=[...this.getColors()];this.chart.data.datasets[0].backgroundColor[this.params.groupIndex]=this.getColors(this.params.groupIndex,true);}};PieChart.prototype.transformData=function(){return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)),datasets:[{backgroundColor:[...this.getColors()],borderColor:this.getBorderColor(),borderWidth:2,data:this.rawData.values.map(value=>this.sumValues(value.values)),}],};};function LineChart(data,params){BaseChart.call(this,data,params);this.chartType='line';}
LineChart.prototype=Object.create(BaseChart.prototype);LineChart.prototype.getChartOptions=function(){return{type:this.chartType,data:this.data,options:{responsive:true,maintainAspectRatio:false,scales:{x:{title:{display:this.params.show_x_label,text:this.params.x_axis_label,color:this.getTextColor(),},ticks:this.getTickOptions('x'),grid:{display:true,drawBorder:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},y:{title:{display:this.params.show_y_label,text:this.params.y_axis_label,color:this.getTextColor(),},ticks:this.getTickOptions('y'),grid:{display:true,drawBorder:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},},plugins:{legend:{display:this.params.show_legend,labels:{color:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),},onClick:this.getClickHandler(),},};};LineChart.prototype.getTooltipOptions=function(){return{display:true,displayColors:false,callbacks:{title:(function(tooltip){return _.first(tooltip).label;}).bind(this),label:(function(tooltip){let value=tooltip.raw;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let labels=[{text:props.groupName,value:tooltip.dataset.label,},{text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),}];return labels.map(label=>`${label.text}: ${label.value}`);}).bind(this),}};};LineChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)&&!_.isUndefined(this.params.seriesIndex)){this.chart.data.datasets.map((dataset,index)=>{this.chart.data.datasets[index].pointRadius=new Array(dataset.data.length).fill(3);});this.chart.data.datasets[this.params.groupIndex].pointRadius[this.params.seriesIndex]=6;}};LineChart.prototype.transformData=function(){return{labels:this.rawData.label.map(label=>this.pickLabel(label)),datasets:this.rawData.values.map((value,index)=>({label:this.pickLabel(value.label),fill:false,borderColor:this.getColors(index),pointRadius:3,backgroundColor:this.getColors(index),data:value.values,})),};};function FunnelChart(data,params){BaseChart.call(this,data,params);this.chartType='funnel';this.chartJsMajorVersion=2;}
FunnelChart.prototype=Object.create(BaseChart.prototype);FunnelChart.prototype.createChart=function(){this.destroyChart();this.data=this.transformData();this.chart=new window.Chart2(this.chartElement,this.getChartOptions());return this.chart;};FunnelChart.prototype.createSavableChart=function(){this.data=this.transformData();let savableChartOptions=this.makeChartSavable(this.getChartOptions());this.chart=new window.Chart2(this.getSavableChartElement(),savableChartOptions);return this.chart;};FunnelChart.prototype.handleChartSave=function(){if(!this.shouldSaveChart()||this.hasSavedChart){return;}
let savableChartElement=this.getSavableChartElement();Chart2.helpers.each(Chart2.instances,(function(instance){if(instance.canvas.id===savableChartElement.id){SUGAR.charts.saveChartToImage(instance,this.params.saved_report_id,this.params.imageExportType);}}).bind(this));this.hasSavedChart=true;this.destroyChart(savableChartElement);};FunnelChart.prototype.getChartOptions=function(){return{plugins:[ChartDataLabelsV1],type:this.chartType,data:this.data,options:{responsive:true,maintainAspectRatio:false,sort:'desc',legend:{display:this.params.show_legend,labels:{fontColor:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),fontColor:this.getTextColor(),},tooltips:this.getTooltipOptions(),onClick:this.getClickHandler(),plugins:{datalabels:{color:this.getTextColor(),align:'center',formatter:(function(value,context){let props=this.getProperties();return this.formatNumericTicks(value,props.yDataType==='currency',2);}).bind(this),},}},};};FunnelChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)){this.chart.data.datasets[0].backgroundColor=[...this.getColors()];this.chart.data.datasets[0].backgroundColor[this.params.groupIndex]=this.getColors(this.params.groupIndex,true);}};FunnelChart.prototype.transformData=function(){return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)).reverse(),datasets:[{backgroundColor:[...this.getColors()],data:this.rawData.values.map(value=>this.sumValues(value.values)).reverse(),}],};};FunnelChart.prototype.getTooltipOptions=function(){return{position:'custom',enabled:true,mode:'point',display:true,displayColors:false,labelColor:function(tooltipItem,chart){return{borderColor:chart.data.datasets[0].backgroundColor[tooltipItem.index],backgroundColor:chart.data.datasets[0].backgroundColor[tooltipItem.index]};},callbacks:{title:(function(tooltipItem,data){return this.pickLabel(data.labels[tooltipItem[0].index]);}).bind(this),label:(function(tooltipItem,data){let value=data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let isNonBarMultipleDatasets=this.data.datasets.length>1;let total=this.sumValues(data.datasets[tooltipItem.datasetIndex].data);let labels=[];if(isNonBarMultipleDatasets){labels.push({text:isNonBarMultipleDatasets?props.groupName:props.seriesName,value:data.datasets[tooltipItem.datasetIndex].label,});}
labels.push({text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),});if(this.app.utils.charts.isNumeric(value)&&!isNonBarMultipleDatasets){labels.push({text:this.labels.tooltip.percent,value:this.app.utils.charts.numberFormatPercent(value,total,this.locale),});}
return labels.map(label=>`${label.text}: ${label.value}`);}).bind(this),}};};function TreemapChart(data,params){BaseChart.call(this,data,params);this.chartType='treemap';}
TreemapChart.prototype=Object.create(BaseChart.prototype);TreemapChart.prototype.getChartOptions=function(){return{type:this.chartType,data:this.data,options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false,},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),},onClick:this.getClickHandler(),}};};TreemapChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)){this.chart.data.datasets[0].backgroundColor=(function(ctx){if(ctx.type!=='data'){return;}
return this.getColors(ctx.dataIndex,ctx.dataIndex===this.params.groupIndex);}).bind(this);}};TreemapChart.prototype.transformData=function(){let newData=this.rawData.values.map(value=>({label:this.pickLabel(value.label),value:this.sumValues(value.values),}));newData.sort((a,b)=>b.value-a.value);this.sortedData=newData;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';return{labels:this.sortedData.map(value=>this.pickLabel(value.label)),datasets:[{backgroundColor:(function(ctx){if(ctx.type!=='data'){return;}
return this.getColors(ctx.dataIndex);}).bind(this),tree:this.sortedData,key:'value',groups:['label'],spacing:1,labels:{display:true,align:'center',position:'center',color:'#ffffff',formatter:(function(ctx){if(ctx.type!=='data'){return;}
let value=ctx.raw.v;return[this.sortedData[ctx.dataIndex].label,yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),];}).bind(this),},}],};};TreemapChart.prototype.getTooltipOptions=function(){return{display:true,displayColors:false,callbacks:{title:(function(tooltip){let dataIndex=_.first(tooltip).dataIndex;return this.pickLabel(this.sortedData[dataIndex].label);}).bind(this),label:(function(tooltip){let dataIndex=tooltip.dataIndex;let value=this.sortedData[dataIndex].value;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let isNonBarMultipleDatasets=!this.params.barType&&this.data.datasets.length>1;let total=this.sumValues(this.sortedData.map(value=>value.value));let labels=[];if(isNonBarMultipleDatasets){labels.push({text:isNonBarMultipleDatasets?props.groupName:props.seriesName,value:tooltip.dataset.label,});}
labels.push({text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),});if(this.app.utils.charts.isNumeric(value)&&!isNonBarMultipleDatasets){labels.push({text:this.labels.tooltip.percent,value:this.app.utils.charts.numberFormatPercent(value,total,this.locale),});}
return labels.map(label=>`${label.text}: ${label.value}`);}).bind(this),}};};SUGAR.charts={sugarApp:(SUGAR.App||SUGAR.app||app),get:function(urlordata,params,success){let data;if(_.isString(urlordata)){data={r:new Date().getTime()};$.extend(data,params);$.ajax({url:urlordata,data:data,dataType:'json',async:false,success:data=>success(data,params),});}else{success(urlordata,params);}},getChart:function(data,params){let chart=SUGAR.charts.getChartInstance(data,params);if(chart.shouldSaveChart()){let savableChart=SUGAR.charts.getChartInstance(data,params,true);savableChart.createSavableChart();}
return chart;},getChartInstance:function(data,params,isSavableChart=false){let chart;let chartParams=Object.assign({},params);switch(params.chartType){case'barChart':chart=new BarChart(data,chartParams);break;case'lineChart':chart=new LineChart(data,chartParams);break;case'donutChart':case'pieChart':chartParams.cutout=chartParams.chartType==='donutChart'?'50%':'0';chart=new PieChart(data,chartParams);break;case'funnelChart':chart=new FunnelChart(data,chartParams);break;case'treemapChart':chart=new TreemapChart(data,chartParams);break;}
if(isSavableChart){chart.params.ignoreDarkMode=true;}
return chart;},callback:function(callback,chart,chartId,params,chartData){if(!_.isFunction(chart.update)){return;}
if(callback){callback(chart);return;}
if(!_.isFunction(chart.seriesClick)||!params.allow_drillthru){return;}
chart.seriesClick(_.bind(function(data,eo,chart,labels){var chartState;var drawerContext;let reportDef=report_def;chartState=this.buildChartState(eo,labels);if(!_.isFinite(chartState.seriesIndex)){return;}
if(params.chart_type==='line chart'){params.groupLabel=this.extractSeriesLabel(chartState,data);params.seriesLabel=this.extractGroupLabel(chartState,labels);}else{params.seriesLabel=this.extractSeriesLabel(chartState,data);params.groupLabel=this.extractGroupLabel(chartState,labels);}
var enums=this.getEnums(reportDef);var groupDefs=this.getGrouping(reportDef);drawerContext={chartData:chartData,chartModule:reportDef.module,chartState:chartState,dashConfig:params,dashModel:null,enumsToFetch:enums,filterOptions:{auto_apply:false},groupDefs:groupDefs,layout:'drillthrough-drawer',module:'Reports',reportData:reportDef,reportId:chartId,skipFetch:true,useSavedFilters:true};chart.clearActive();if(chart.cellActivate){chart.cellActivate(chartState);}else if(chart.seriesActivate){chart.seriesActivate(chartState);}else{chart.dataSeriesActivate(eo);}
chart.dispatch.call('tooltipHide',this);this.sugarApp.alert.show('listfromreport_loading',{level:'process',title:this.translateString('LBL_LOADING')});chart.clearActive();chart.render();this.openDrawer(drawerContext);},this));},buildChartState:function(eo,labels){var seriesIndex;var state={};if(!_.isEmpty(eo.series)&&_.isFinite(eo.series.seriesIndex)){seriesIndex=eo.series.seriesIndex;}else if(_.isFinite(eo.seriesIndex)){seriesIndex=eo.seriesIndex;}
if(_.isEmpty(labels)){if(!_.isFinite(seriesIndex)&&_.isFinite(eo.pointIndex)){seriesIndex=eo.pointIndex;}}else{if(_.isFinite(eo.groupIndex)){state.groupIndex=eo.groupIndex;}
if(_.isFinite(eo.pointIndex)){state.pointIndex=eo.pointIndex;}}
state.seriesIndex=seriesIndex;return state;},extractSeriesLabel:function(state,data){return data[state.seriesIndex].key;},extractGroupLabel:function(state,labels){var index=_.isUndefined(state.pointIndex)?state.groupIndex:state.pointIndex;return _.isEmpty(labels)?null:labels[index];},getGrouping:function(reportDef,i){var groupDefs=reportDef.group_defs;if(isNaN(i)){return groupDefs;}
return i>0&&groupDefs.length>1?groupDefs[1]:groupDefs[0];},defineFiscalYearStart:function(){var fiscalYear=this.getFiscalStartDate();if(!_.isEmpty(fiscalYear)){return;}
fiscalYear=new Date().getFullYear();this.sugarApp.api.call('GET',this.sugarApp.api.buildURL('TimePeriods/'+fiscalYear+'-01-01'),null,{success:_.bind(this.setFiscalStartDate,this),error:_.bind(function(){},this)});},setFiscalStartDate:function(firstQuarter){if(!firstQuarter){return;}
var fiscalYear=firstQuarter.start_date.split('-')[0];var quarterNumber=firstQuarter.name.match(/.*Q(\d{1})/)[1];var quarterDateStart=new Date(firstQuarter.start_date);var hourUTCOffset=quarterDateStart.getTimezoneOffset()/ 60;var fiscalMonth=quarterDateStart.getUTCMonth()-(quarterNumber-1)*3;var fiscalYearStart=new Date(fiscalYear,fiscalMonth,1,-hourUTCOffset,0,0).toUTCString();this.sugarApp.cache.set('fiscaltimeperiods',{'annualDate':fiscalYearStart});},getFiscalStartDate:function(){var timeperiods=this.sugarApp.cache.get('fiscaltimeperiods');var datetime=!_.isEmpty(timeperiods)&&!_.isUndefined(timeperiods.annualDate)?timeperiods.annualDate:null;return datetime;},getDateValues:function(label,type){var dateParser=this.sugarApp.date;var userLangPref=this.sugarApp.user.getLanguage()||'en_us';var datePatterns={year:'YYYY',quarter:'Q YYYY',month:'MMMM YYYY',week:'W YYYY',day:'YYYY-MM-DD'};var startDate;var endDate;var y1;var y2;var m1;var m2;var d1;var d2;var values=[];if(_.isEmpty(label)){startDate='';endDate='';}else{switch(type){case'fiscalYear':var fy=new Date(this.getFiscalStartDate()||new Date().getFullYear()+'-01-01');fy.setUTCFullYear(label);y1=fy.getUTCFullYear();m1=fy.getUTCMonth()+1;d1=fy.getUTCDate();fy.setUTCMonth(fy.getUTCMonth()+12);fy.setUTCDate(fy.getUTCDate()-1);y2=fy.getUTCFullYear();m2=fy.getUTCMonth()+1;d2=fy.getUTCDate();startDate=y1+'-'+m1+'-'+d1;endDate=y2+'-'+m2+'-'+d2;break;case'fiscalQuarter':var fy=new Date(this.getFiscalStartDate()||new Date().getFullYear()+'-01-01');var re=/Q([1-4]{1})\s(\d{4})/;var rm=label.match(re);fy.setUTCFullYear(rm[2]);fy.setUTCMonth((rm[1]-1)*3+fy.getUTCMonth());y1=fy.getUTCFullYear();m1=fy.getUTCMonth()+1;d1=fy.getUTCDate();fy.setUTCMonth(m1+2);fy.setUTCDate(fy.getUTCDate()-1);y2=fy.getUTCFullYear();m2=fy.getUTCMonth()+1;d2=fy.getUTCDate();startDate=y1+'-'+m1+'-'+d1;endDate=y2+'-'+m2+'-'+d2;break;case'day':var pattern=datePatterns[type];var parsedDate=dateParser(label,pattern,userLangPref);startDate=parsedDate.formatServer(true);break;default:var pattern=datePatterns[type]||'YYYY';var parsedDate=dateParser(label,pattern,userLangPref);var momentType=type==='week'?'isoweek':type;startDate=parsedDate.startOf(momentType).formatServer(true);endDate=parsedDate.endOf(momentType).formatServer(true);break;}}
values.push(startDate);if(type!=='day'){values.push(endDate);values.push(type);}
return values;},getValues:function(label,def,type,enums){var dateFunctions=['year','quarter','month','week','day','fiscalYear','fiscalQuarter'];var columnFn=def.column_function;var isDateFn=!_.isEmpty(columnFn)&&dateFunctions.indexOf(columnFn)!==-1;var values=[];if(this.translateString('LBL_CHART_UNDEFINED')===label){label='';}
if(isDateFn){values=this.getDateValues(label,columnFn);}else{switch(type){case'bool':if(this.translateListStrings('dom_switch_bool').on===label){values.push('1');}else if(this.translateListStrings('dom_switch_bool').off===label){values.push('0');}
break;case'enum':case'radioenum':values.push(enums[def.table_key+':'+def.name][label]);break;case'date':var date=new this.sugarApp.date(label,this.sugarApp.date.getUserDateFormat());values.push(date.formatServer(true));break;default:values.push(label);break;}}
return values;},buildFilter:function(reportDef,params,enums){var filter=[];var groups=this.getGrouping(reportDef,0);var series=this.getGrouping(reportDef,1);var groupType=this.getFieldDef(groups,reportDef).type;var seriesType=this.getFieldDef(series,reportDef).type;var isGroupType=params.dataType==='grouped';var groupLabel=params.groupLabel;var seriesLabel=params.seriesLabel;var hasSameLabel=!_.isEmpty(seriesLabel)&&!_.isEmpty(groupLabel)&&seriesLabel===groupLabel;var hasSameGroup=groups.name===series.name&&groups.label===series.label&&groups.table_key===series.table_key;var addGroupRow=_.bind(function(){var groupsName=groups.table_key+':'+groups.name;var groupsValues=this.getValues(groupLabel,groups,groupType,enums);addFilterRow(groupsName,groupsValues);},this);var addSeriesRow=_.bind(function(){var seriesName=series.table_key+':'+series.name;var seriesValues=this.getValues(seriesLabel,series,seriesType,enums);addFilterRow(seriesName,seriesValues);},this);function addFilterRow(name,values){var row={};row[name]=values;filter.push(row);}
if(!isGroupType&&hasSameGroup&&!_.isEmpty(seriesLabel)&&_.isEmpty(groupLabel)){groupLabel=groupLabel||seriesLabel;params.groupLabel=groupLabel;addSeriesRow();}
else if(hasSameGroup&&!hasSameLabel){addGroupRow();}
else if(!isGroupType&&!hasSameGroup){if(!hasSameLabel){groupLabel=groupLabel||seriesLabel;params.groupLabel=groupLabel;}
addGroupRow();}
else if(hasSameGroup&&hasSameLabel){addSeriesRow();}
else if(isGroupType&&!hasSameGroup){addGroupRow();addSeriesRow();}
return filter;},getEnums:function(reportDef){var enumTypes=['enum','radioenum'];var groups=this.getGrouping(reportDef);var enums=[];_.each(groups,function(group){var groupType=this.getFieldDef(group,reportDef).type;if(groupType&&_.contains(enumTypes,groupType)){enums.push(group);}},this);return enums;},getFieldDef:function(groupDef,reportDef){var module=reportDef.module||reportDef.base_module;if(groupDef.table_key==='self'){return this.sugarApp.metadata.getField({name:groupDef.name,module:module});}
var relationships=groupDef.table_key.split(':');var fieldsMeta=this.sugarApp.metadata.getModule(module,'fields');var fieldDef;for(var i=1;i<relationships.length;i++){var relationship=relationships[i];fieldDef=fieldsMeta[relationship];module=fieldDef.module||this._getModuleFromRelationship(fieldDef.relationship,module);fieldsMeta=this.sugarApp.metadata.getModule(module,'fields');}
fieldDef=fieldsMeta[groupDef.name];fieldDef.module=fieldDef.module||module;return fieldDef;},_getModuleFromRelationship:function(relationshipName,module){var relationship=this.sugarApp.metadata.getRelationship(relationshipName);return module===relationship.lhs_module?relationship.rhs_module:relationship.lhs_module;},openDrawer:function(drawerContext){var currentModule=this.sugarApp.drawer.context.get('module');this.sugarApp.drawer.context.set('module',drawerContext.chartModule);this.sugarApp.drawer.open({layout:'drillthrough-drawer',context:drawerContext},_.bind(function(){if(currentModule){this.sugarApp.drawer.context.set('module',currentModule);}},this,currentModule));},renderChart:function(id,chart,json){chart.updateChartColors();chart.chart.update();},renderError:function(id,message){},translateString:function(appString,module){if(SUGAR.App){if(module){return SUGAR.App.lang.get(appString,module);}else{return SUGAR.App.lang.get(appString);}}else if(typeof app!=='undefined'&&app&&app.lang){if(module){return app.lang.get(appString,module);}else{return app.lang.get(appString);}}else if(SUGAR.language){if(module){return SUGAR.language.get(module,appString);}else{return SUGAR.language.get('app_strings',appString);}}else{return appString;}},translateListStrings:function(appList){if(SUGAR.App){return SUGAR.App.lang.getAppListStrings(appList);}else if(app){return app.lang.getAppListStrings(appList);}else if(SUGAR.language){return SUGAR.language.get('app_list_strings',appList);}else{return appList;}},isDataEmpty:function(data){return data!==undefined&&data!=='No Data'&&data!=='';},dataIsEmpty:function(data){return _.isUndefined(data)||_.isUndefined(data.values)||!_.isArray(data.values)||_.isEmpty(data.values);},saveChartToImage:function(chart,chartId,imageExt,saveTo){let uri=chart.toBase64Image(imageExt==='jpg'?'image/jpeg':'image/png');let saveToUrl=saveTo||'index.php?action=DynamicAction&DynamicAction=saveImage&module=Charts&to_pdf=1';$.post(saveToUrl,{imageStr:uri,chart_id:chartId,});},saveImageFile:function(id,chart,json,jsonfilename,imageExt,saveTo,complete){app.logger.warn('`SUGAR.charts.saveImageFile()` is deprecated. Use `SUGAR.charts.saveChartToImage()` instead.');},getChartStrings:function(type){var noLabelStr=this.translateString('LBL_CHART_UNDEFINED');return{legend:{close:this.translateString('LBL_CHART_LEGEND_CLOSE'),open:this.translateString('LBL_CHART_LEGEND_OPEN'),noLabel:noLabelStr},tooltip:{amount:this.translateString('LBL_CHART_AMOUNT'),count:this.translateString('LBL_CHART_COUNT'),date:this.translateString('LBL_CHART_DATE'),group:this.translateString('LBL_CHART_GROUP'),key:this.translateString('LBL_CHART_KEY'),percent:this.translateString('LBL_CHART_PERCENT')},noData:this.translateString('LBL_CHART_NO_DATA'),noLabel:noLabelStr,noDrillthru:this.translateString('LBL_CHART_NO_DRILLTHRU','Reports')};},getLocale:function(pref){var preferences=pref||this.getUserPreferences();return{'decimal':preferences.decimal_separator,'thousands':preferences.number_grouping_separator,'grouping':[3],'currency':[preferences.currency_symbol,''],'currency_id':preferences.currency_id,'dateTime':'%a %b %e %X %Y','date':this._dateFormat(preferences.datepref),'time':this._timeFormat(preferences.timepref),'periods':this._timePeriods(preferences.timepref),'days':this._dateStringArray('dom_cal_day_long'),'shortDays':this._dateStringArray('dom_cal_day_short'),'months':this._dateStringArray('dom_cal_month_long'),'shortMonths':this._dateStringArray('dom_cal_month_short'),'precision':preferences.decimal_precision};},getUserLocale:function(){return this.getLocale(this.getUserPreferences());},getUserPreferences:function(){return this.sugarApp.user.get('preferences')||{};},userPreference:function(pref){return this.sugarApp.user.getPreference(pref)||pref;},getSystemLocale:function(){return this.getLocale(this._getSystemPreferences());},_getSystemPreferences:function(){var config=this.sugarApp.config;var currency=this.sugarApp.currency;return{decimal_separator:config.defaultDecimalSeparator,number_grouping_separator:config.defaultNumberGroupingSeparator,currency_symbol:currency.getCurrencySymbol(currency.getBaseCurrencyId()),datepref:'m/d/Y',timepref:'H:i',decimal_precision:config.defaultCurrencySignificantDigits};},_dateFormat:function(pref){if(!pref){return'%b %-d, %Y';}
return pref.replace(/([mMyYdD]+)/ig,'%$1');},_timeFormat:function(pref){if(!pref){return'%-I:%M:%S';}
return pref.replace('h','I').replace('i','M').replace(/[aA\s]+/,'').replace(/([HIM]+)/ig,'%$1');},_timePeriods:function(pref){if(!pref){return['AM','PM'];}
var period=pref.indexOf(' A')!==-1?[' AM',' PM']:pref.indexOf('A')!==-1?['AM','PM']:pref.indexOf(' a')!==-1?[' am',' pm']:pref.indexOf('a')!==-1?['am','pm']:['',''];return period;},_dateStringArray:function(listLabel){return _.filter(_.values(this.translateListStrings(listLabel)));},};})(jQuery);
/* End of File include/SugarCharts/chartjs/js/sugarCharts.js */

/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(function(){try{return require('moment');}catch(e){}}()):typeof define==='function'&&define.amd?define(['require'],function(require){return factory(function(){try{return require('moment');}catch(e){}}());}):(global=global||self,global.Chart2=factory(window.moment));}(this,(function(moment){'use strict';moment=moment&&moment.hasOwnProperty('default')?moment['default']:moment;function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}
function getCjsExportFromNamespace(n){return n&&n['default']||n;}
var colorName={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};var conversions=createCommonjsModule(function(module){var reverseKeywords={};for(var key in colorName){if(colorName.hasOwnProperty(key)){reverseKeywords[colorName[key]]=key;}}
var convert=module.exports={rgb:{channels:3,labels:'rgb'},hsl:{channels:3,labels:'hsl'},hsv:{channels:3,labels:'hsv'},hwb:{channels:3,labels:'hwb'},cmyk:{channels:4,labels:'cmyk'},xyz:{channels:3,labels:'xyz'},lab:{channels:3,labels:'lab'},lch:{channels:3,labels:'lch'},hex:{channels:1,labels:['hex']},keyword:{channels:1,labels:['keyword']},ansi16:{channels:1,labels:['ansi16']},ansi256:{channels:1,labels:['ansi256']},hcg:{channels:3,labels:['h','c','g']},apple:{channels:3,labels:['r16','g16','b16']},gray:{channels:1,labels:['gray']}};for(var model in convert){if(convert.hasOwnProperty(model)){if(!('channels'in convert[model])){throw new Error('missing channels property: '+model);}
if(!('labels'in convert[model])){throw new Error('missing channel labels property: '+model);}
if(convert[model].labels.length!==convert[model].channels){throw new Error('channel and label counts mismatch: '+model);}
var channels=convert[model].channels;var labels=convert[model].labels;delete convert[model].channels;delete convert[model].labels;Object.defineProperty(convert[model],'channels',{value:channels});Object.defineProperty(convert[model],'labels',{value:labels});}}
convert.rgb.hsl=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var min=Math.min(r,g,b);var max=Math.max(r,g,b);var delta=max-min;var h;var s;var l;if(max===min){h=0;}else if(r===max){h=(g-b)/ delta;}else if(g===max){h=2+(b-r)/ delta;}else if(b===max){h=4+(r-g)/ delta;}
h=Math.min(h*60,360);if(h<0){h+=360;}
l=(min+max)/ 2;if(max===min){s=0;}else if(l<=0.5){s=delta /(max+min);}else{s=delta /(2-max-min);}
return[h,s*100,l*100];};convert.rgb.hsv=function(rgb){var rdif;var gdif;var bdif;var h;var s;var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var v=Math.max(r,g,b);var diff=v-Math.min(r,g,b);var diffc=function(c){return(v-c)/ 6 / diff+1 / 2;};if(diff===0){h=s=0;}else{s=diff / v;rdif=diffc(r);gdif=diffc(g);bdif=diffc(b);if(r===v){h=bdif-gdif;}else if(g===v){h=(1 / 3)+rdif-bdif;}else if(b===v){h=(2 / 3)+gdif-rdif;}
if(h<0){h+=1;}else if(h>1){h-=1;}}
return[h*360,s*100,v*100];};convert.rgb.hwb=function(rgb){var r=rgb[0];var g=rgb[1];var b=rgb[2];var h=convert.rgb.hsl(rgb)[0];var w=1 / 255*Math.min(r,Math.min(g,b));b=1-1 / 255*Math.max(r,Math.max(g,b));return[h,w*100,b*100];};convert.rgb.cmyk=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var c;var m;var y;var k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100];};function comparativeDistance(x,y){return(Math.pow(x[0]-y[0],2)+
Math.pow(x[1]-y[1],2)+
Math.pow(x[2]-y[2],2));}
convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed){return reversed;}
var currentClosestDistance=Infinity;var currentClosestKeyword;for(var keyword in colorName){if(colorName.hasOwnProperty(keyword)){var value=colorName[keyword];var distance=comparativeDistance(rgb,value);if(distance<currentClosestDistance){currentClosestDistance=distance;currentClosestKeyword=keyword;}}}
return currentClosestKeyword;};convert.keyword.rgb=function(keyword){return colorName[keyword];};convert.rgb.xyz=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;r=r>0.04045?Math.pow(((r+0.055)/ 1.055),2.4):(r / 12.92);g=g>0.04045?Math.pow(((g+0.055)/ 1.055),2.4):(g / 12.92);b=b>0.04045?Math.pow(((b+0.055)/ 1.055),2.4):(b / 12.92);var x=(r*0.4124)+(g*0.3576)+(b*0.1805);var y=(r*0.2126)+(g*0.7152)+(b*0.0722);var z=(r*0.0193)+(g*0.1192)+(b*0.9505);return[x*100,y*100,z*100];};convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb);var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x /=95.047;y /=100;z /=108.883;x=x>0.008856?Math.pow(x,1 / 3):(7.787*x)+(16 / 116);y=y>0.008856?Math.pow(y,1 / 3):(7.787*y)+(16 / 116);z=z>0.008856?Math.pow(z,1 / 3):(7.787*z)+(16 / 116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b];};convert.hsl.rgb=function(hsl){var h=hsl[0]/ 360;var s=hsl[1]/ 100;var l=hsl[2]/ 100;var t1;var t2;var t3;var rgb;var val;if(s===0){val=l*255;return[val,val,val];}
if(l<0.5){t2=l*(1+s);}else{t2=l+s-l*s;}
t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1 / 3*-(i-1);if(t3<0){t3++;}
if(t3>1){t3--;}
if(6*t3<1){val=t1+(t2-t1)*6*t3;}else if(2*t3<1){val=t2;}else if(3*t3<2){val=t1+(t2-t1)*(2 / 3-t3)*6;}else{val=t1;}
rgb[i]=val*255;}
return rgb;};convert.hsl.hsv=function(hsl){var h=hsl[0];var s=hsl[1]/ 100;var l=hsl[2]/ 100;var smin=s;var lmin=Math.max(l,0.01);var sv;var v;l*=2;s*=(l<=1)?l:2-l;smin*=lmin<=1?lmin:2-lmin;v=(l+s)/ 2;sv=l===0?(2*smin)/(lmin+smin):(2*s)/(l+s);return[h,sv*100,v*100];};convert.hsv.rgb=function(hsv){var h=hsv[0]/ 60;var s=hsv[1]/ 100;var v=hsv[2]/ 100;var hi=Math.floor(h)%6;var f=h-Math.floor(h);var p=255*v*(1-s);var q=255*v*(1-(s*f));var t=255*v*(1-(s*(1-f)));v*=255;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q];}};convert.hsv.hsl=function(hsv){var h=hsv[0];var s=hsv[1]/ 100;var v=hsv[2]/ 100;var vmin=Math.max(v,0.01);var lmin;var sl;var l;l=(2-s)*v;lmin=(2-s)*vmin;sl=s*vmin;sl /=(lmin<=1)?lmin:2-lmin;sl=sl||0;l /=2;return[h,sl*100,l*100];};convert.hwb.rgb=function(hwb){var h=hwb[0]/ 360;var wh=hwb[1]/ 100;var bl=hwb[2]/ 100;var ratio=wh+bl;var i;var v;var f;var n;if(ratio>1){wh /=ratio;bl /=ratio;}
i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&0x01)!==0){f=1-f;}
n=wh+f*(v-wh);var r;var g;var b;switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break;}
return[r*255,g*255,b*255];};convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/ 100;var m=cmyk[1]/ 100;var y=cmyk[2]/ 100;var k=cmyk[3]/ 100;var r;var g;var b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255];};convert.xyz.rgb=function(xyz){var x=xyz[0]/ 100;var y=xyz[1]/ 100;var z=xyz[2]/ 100;var r;var g;var b;r=(x*3.2406)+(y*-1.5372)+(z*-0.4986);g=(x*-0.9689)+(y*1.8758)+(z*0.0415);b=(x*0.0557)+(y*-0.2040)+(z*1.0570);r=r>0.0031308?((1.055*Math.pow(r,1.0 / 2.4))-0.055):r*12.92;g=g>0.0031308?((1.055*Math.pow(g,1.0 / 2.4))-0.055):g*12.92;b=b>0.0031308?((1.055*Math.pow(b,1.0 / 2.4))-0.055):b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255];};convert.xyz.lab=function(xyz){var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x /=95.047;y /=100;z /=108.883;x=x>0.008856?Math.pow(x,1 / 3):(7.787*x)+(16 / 116);y=y>0.008856?Math.pow(y,1 / 3):(7.787*y)+(16 / 116);z=z>0.008856?Math.pow(z,1 / 3):(7.787*z)+(16 / 116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b];};convert.lab.xyz=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var x;var y;var z;y=(l+16)/ 116;x=a / 500+y;z=y-b / 200;var y2=Math.pow(y,3);var x2=Math.pow(x,3);var z2=Math.pow(z,3);y=y2>0.008856?y2:(y-16 / 116)/ 7.787;x=x2>0.008856?x2:(x-16 / 116)/ 7.787;z=z2>0.008856?z2:(z-16 / 116)/ 7.787;x*=95.047;y*=100;z*=108.883;return[x,y,z];};convert.lab.lch=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var hr;var h;var c;hr=Math.atan2(b,a);h=hr*360 / 2 / Math.PI;if(h<0){h+=360;}
c=Math.sqrt(a*a+b*b);return[l,c,h];};convert.lch.lab=function(lch){var l=lch[0];var c=lch[1];var h=lch[2];var a;var b;var hr;hr=h / 360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b];};convert.rgb.ansi16=function(args){var r=args[0];var g=args[1];var b=args[2];var value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];value=Math.round(value / 50);if(value===0){return 30;}
var ansi=30
+((Math.round(b / 255)<<2)|(Math.round(g / 255)<<1)|Math.round(r / 255));if(value===2){ansi+=60;}
return ansi;};convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2]);};convert.rgb.ansi256=function(args){var r=args[0];var g=args[1];var b=args[2];if(r===g&&g===b){if(r<8){return 16;}
if(r>248){return 231;}
return Math.round(((r-8)/ 247)*24)+232;}
var ansi=16
+(36*Math.round(r / 255*5))
+(6*Math.round(g / 255*5))
+Math.round(b / 255*5);return ansi;};convert.ansi16.rgb=function(args){var color=args%10;if(color===0||color===7){if(args>50){color+=3.5;}
color=color / 10.5*255;return[color,color,color];}
var mult=(~~(args>50)+1)*0.5;var r=((color&1)*mult)*255;var g=(((color>>1)&1)*mult)*255;var b=(((color>>2)&1)*mult)*255;return[r,g,b];};convert.ansi256.rgb=function(args){if(args>=232){var c=(args-232)*10+8;return[c,c,c];}
args-=16;var rem;var r=Math.floor(args / 36)/ 5*255;var g=Math.floor((rem=args%36)/ 6)/ 5*255;var b=(rem%6)/ 5*255;return[r,g,b];};convert.rgb.hex=function(args){var integer=((Math.round(args[0])&0xFF)<<16)
+((Math.round(args[1])&0xFF)<<8)
+(Math.round(args[2])&0xFF);var string=integer.toString(16).toUpperCase();return'000000'.substring(string.length)+string;};convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match){return[0,0,0];}
var colorString=match[0];if(match[0].length===3){colorString=colorString.split('').map(function(char){return char+char;}).join('');}
var integer=parseInt(colorString,16);var r=(integer>>16)&0xFF;var g=(integer>>8)&0xFF;var b=integer&0xFF;return[r,g,b];};convert.rgb.hcg=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var max=Math.max(Math.max(r,g),b);var min=Math.min(Math.min(r,g),b);var chroma=(max-min);var grayscale;var hue;if(chroma<1){grayscale=min /(1-chroma);}else{grayscale=0;}
if(chroma<=0){hue=0;}else
if(max===r){hue=((g-b)/ chroma)%6;}else
if(max===g){hue=2+(b-r)/ chroma;}else{hue=4+(r-g)/ chroma+4;}
hue /=6;hue%=1;return[hue*360,chroma*100,grayscale*100];};convert.hsl.hcg=function(hsl){var s=hsl[1]/ 100;var l=hsl[2]/ 100;var c=1;var f=0;if(l<0.5){c=2.0*s*l;}else{c=2.0*s*(1.0-l);}
if(c<1.0){f=(l-0.5*c)/(1.0-c);}
return[hsl[0],c*100,f*100];};convert.hsv.hcg=function(hsv){var s=hsv[1]/ 100;var v=hsv[2]/ 100;var c=s*v;var f=0;if(c<1.0){f=(v-c)/(1-c);}
return[hsv[0],c*100,f*100];};convert.hcg.rgb=function(hcg){var h=hcg[0]/ 360;var c=hcg[1]/ 100;var g=hcg[2]/ 100;if(c===0.0){return[g*255,g*255,g*255];}
var pure=[0,0,0];var hi=(h%1)*6;var v=hi%1;var w=1-v;var mg=0;switch(Math.floor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w;}
mg=(1.0-c)*g;return[(c*pure[0]+mg)*255,(c*pure[1]+mg)*255,(c*pure[2]+mg)*255];};convert.hcg.hsv=function(hcg){var c=hcg[1]/ 100;var g=hcg[2]/ 100;var v=c+g*(1.0-c);var f=0;if(v>0.0){f=c / v;}
return[hcg[0],f*100,v*100];};convert.hcg.hsl=function(hcg){var c=hcg[1]/ 100;var g=hcg[2]/ 100;var l=g*(1.0-c)+0.5*c;var s=0;if(l>0.0&&l<0.5){s=c /(2*l);}else
if(l>=0.5&&l<1.0){s=c /(2*(1-l));}
return[hcg[0],s*100,l*100];};convert.hcg.hwb=function(hcg){var c=hcg[1]/ 100;var g=hcg[2]/ 100;var v=c+g*(1.0-c);return[hcg[0],(v-c)*100,(1-v)*100];};convert.hwb.hcg=function(hwb){var w=hwb[1]/ 100;var b=hwb[2]/ 100;var v=1-b;var c=v-w;var g=0;if(c<1){g=(v-c)/(1-c);}
return[hwb[0],c*100,g*100];};convert.apple.rgb=function(apple){return[(apple[0]/ 65535)*255,(apple[1]/ 65535)*255,(apple[2]/ 65535)*255];};convert.rgb.apple=function(rgb){return[(rgb[0]/ 255)*65535,(rgb[1]/ 255)*65535,(rgb[2]/ 255)*65535];};convert.gray.rgb=function(args){return[args[0]/ 100*255,args[0]/ 100*255,args[0]/ 100*255];};convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]];};convert.gray.hwb=function(gray){return[0,100,gray[0]];};convert.gray.cmyk=function(gray){return[0,0,0,gray[0]];};convert.gray.lab=function(gray){return[gray[0],0,0];};convert.gray.hex=function(gray){var val=Math.round(gray[0]/ 100*255)&0xFF;var integer=(val<<16)+(val<<8)+val;var string=integer.toString(16).toUpperCase();return'000000'.substring(string.length)+string;};convert.rgb.gray=function(rgb){var val=(rgb[0]+rgb[1]+rgb[2])/ 3;return[val / 255*100];};});var conversions_1=conversions.rgb;var conversions_2=conversions.hsl;var conversions_3=conversions.hsv;var conversions_4=conversions.hwb;var conversions_5=conversions.cmyk;var conversions_6=conversions.xyz;var conversions_7=conversions.lab;var conversions_8=conversions.lch;var conversions_9=conversions.hex;var conversions_10=conversions.keyword;var conversions_11=conversions.ansi16;var conversions_12=conversions.ansi256;var conversions_13=conversions.hcg;var conversions_14=conversions.apple;var conversions_15=conversions.gray;function buildGraph(){var graph={};var models=Object.keys(conversions);for(var len=models.length,i=0;i<len;i++){graph[models[i]]={distance:-1,parent:null};}
return graph;}
function deriveBFS(fromModel){var graph=buildGraph();var queue=[fromModel];graph[fromModel].distance=0;while(queue.length){var current=queue.pop();var adjacents=Object.keys(conversions[current]);for(var len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i];var node=graph[adjacent];if(node.distance===-1){node.distance=graph[current].distance+1;node.parent=current;queue.unshift(adjacent);}}}
return graph;}
function link(from,to){return function(args){return to(from(args));};}
function wrapConversion(toModel,graph){var path=[graph[toModel].parent,toModel];var fn=conversions[graph[toModel].parent][toModel];var cur=graph[toModel].parent;while(graph[cur].parent){path.unshift(graph[cur].parent);fn=link(conversions[graph[cur].parent][cur],fn);cur=graph[cur].parent;}
fn.conversion=path;return fn;}
var route=function(fromModel){var graph=deriveBFS(fromModel);var conversion={};var models=Object.keys(graph);for(var len=models.length,i=0;i<len;i++){var toModel=models[i];var node=graph[toModel];if(node.parent===null){continue;}
conversion[toModel]=wrapConversion(toModel,graph);}
return conversion;};var convert={};var models=Object.keys(conversions);function wrapRaw(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args;}
if(arguments.length>1){args=Array.prototype.slice.call(arguments);}
return fn(args);};if('conversion'in fn){wrappedFn.conversion=fn.conversion;}
return wrappedFn;}
function wrapRounded(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args;}
if(arguments.length>1){args=Array.prototype.slice.call(arguments);}
var result=fn(args);if(typeof result==='object'){for(var len=result.length,i=0;i<len;i++){result[i]=Math.round(result[i]);}}
return result;};if('conversion'in fn){wrappedFn.conversion=fn.conversion;}
return wrappedFn;}
models.forEach(function(fromModel){convert[fromModel]={};Object.defineProperty(convert[fromModel],'channels',{value:conversions[fromModel].channels});Object.defineProperty(convert[fromModel],'labels',{value:conversions[fromModel].labels});var routes=route(fromModel);var routeModels=Object.keys(routes);routeModels.forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=wrapRounded(fn);convert[fromModel][toModel].raw=wrapRaw(fn);});});var colorConvert=convert;var colorName$1={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};var colorString={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};function getRgba(string){if(!string){return;}
var abbr=/^#([a-fA-F0-9]{3,4})$/i,hex=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,keyword=/(\w+)/;var rgb=[0,0,0],a=1,match=string.match(abbr),hexAlpha="";if(match){match=match[1];hexAlpha=match[3];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i]+match[i],16);}
if(hexAlpha){a=Math.round((parseInt(hexAlpha+hexAlpha,16)/ 255)*100)/ 100;}}
else if(match=string.match(hex)){hexAlpha=match[2];match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match.slice(i*2,i*2+2),16);}
if(hexAlpha){a=Math.round((parseInt(hexAlpha,16)/ 255)*100)/ 100;}}
else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i+1]);}
a=parseFloat(match[4]);}
else if(match=string.match(per)){for(var i=0;i<rgb.length;i++){rgb[i]=Math.round(parseFloat(match[i+1])*2.55);}
a=parseFloat(match[4]);}
else if(match=string.match(keyword)){if(match[1]=="transparent"){return[0,0,0,0];}
rgb=colorName$1[match[1]];if(!rgb){return;}}
for(var i=0;i<rgb.length;i++){rgb[i]=scale(rgb[i],0,255);}
if(!a&&a!=0){a=1;}
else{a=scale(a,0,1);}
rgb[3]=a;return rgb;}
function getHsla(string){if(!string){return;}
var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a];}}
function getHwb(string){if(!string){return;}
var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a];}}
function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3);}
function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3);}
function getAlpha(string){var vals=getRgba(string);if(vals){return vals[3];}
else if(vals=getHsla(string)){return vals[3];}
else if(vals=getHwb(string)){return vals[3];}}
function hexString(rgba,a){var a=(a!==undefined&&rgba.length===3)?a:rgba[3];return"#"+hexDouble(rgba[0])
+hexDouble(rgba[1])
+hexDouble(rgba[2])
+((a>=0&&a<1)?hexDouble(Math.round(a*255)):"");}
function rgbString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return rgbaString(rgba,alpha);}
return"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")";}
function rgbaString(rgba,alpha){if(alpha===undefined){alpha=(rgba[3]!==undefined?rgba[3]:1);}
return"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]
+", "+alpha+")";}
function percentString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return percentaString(rgba,alpha);}
var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)";}
function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")";}
function hslString(hsla,alpha){if(alpha<1||(hsla[3]&&hsla[3]<1)){return hslaString(hsla,alpha);}
return"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)";}
function hslaString(hsla,alpha){if(alpha===undefined){alpha=(hsla[3]!==undefined?hsla[3]:1);}
return"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "
+alpha+")";}
function hwbString(hwb,alpha){if(alpha===undefined){alpha=(hwb[3]!==undefined?hwb[3]:1);}
return"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"
+(alpha!==undefined&&alpha!==1?", "+alpha:"")+")";}
function keyword(rgb){return reverseNames[rgb.slice(0,3)];}
function scale(num,min,max){return Math.min(Math.max(min,num),max);}
function hexDouble(num){var str=num.toString(16).toUpperCase();return(str.length<2)?"0"+str:str;}
var reverseNames={};for(var name in colorName$1){reverseNames[colorName$1[name]]=name;}
var Color=function(obj){if(obj instanceof Color){return obj;}
if(!(this instanceof Color)){return new Color(obj);}
this.valid=false;this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if(typeof obj==='string'){vals=colorString.getRgba(obj);if(vals){this.setValues('rgb',vals);}else if(vals=colorString.getHsla(obj)){this.setValues('hsl',vals);}else if(vals=colorString.getHwb(obj)){this.setValues('hwb',vals);}}else if(typeof obj==='object'){vals=obj;if(vals.r!==undefined||vals.red!==undefined){this.setValues('rgb',vals);}else if(vals.l!==undefined||vals.lightness!==undefined){this.setValues('hsl',vals);}else if(vals.v!==undefined||vals.value!==undefined){this.setValues('hsv',vals);}else if(vals.w!==undefined||vals.whiteness!==undefined){this.setValues('hwb',vals);}else if(vals.c!==undefined||vals.cyan!==undefined){this.setValues('cmyk',vals);}}};Color.prototype={isValid:function(){return this.valid;},rgb:function(){return this.setSpace('rgb',arguments);},hsl:function(){return this.setSpace('hsl',arguments);},hsv:function(){return this.setSpace('hsv',arguments);},hwb:function(){return this.setSpace('hwb',arguments);},cmyk:function(){return this.setSpace('cmyk',arguments);},rgbArray:function(){return this.values.rgb;},hslArray:function(){return this.values.hsl;},hsvArray:function(){return this.values.hsv;},hwbArray:function(){var values=this.values;if(values.alpha!==1){return values.hwb.concat([values.alpha]);}
return values.hwb;},cmykArray:function(){return this.values.cmyk;},rgbaArray:function(){var values=this.values;return values.rgb.concat([values.alpha]);},hslaArray:function(){var values=this.values;return values.hsl.concat([values.alpha]);},alpha:function(val){if(val===undefined){return this.values.alpha;}
this.setValues('alpha',val);return this;},red:function(val){return this.setChannel('rgb',0,val);},green:function(val){return this.setChannel('rgb',1,val);},blue:function(val){return this.setChannel('rgb',2,val);},hue:function(val){if(val){val%=360;val=val<0?360+val:val;}
return this.setChannel('hsl',0,val);},saturation:function(val){return this.setChannel('hsl',1,val);},lightness:function(val){return this.setChannel('hsl',2,val);},saturationv:function(val){return this.setChannel('hsv',1,val);},whiteness:function(val){return this.setChannel('hwb',1,val);},blackness:function(val){return this.setChannel('hwb',2,val);},value:function(val){return this.setChannel('hsv',2,val);},cyan:function(val){return this.setChannel('cmyk',0,val);},magenta:function(val){return this.setChannel('cmyk',1,val);},yellow:function(val){return this.setChannel('cmyk',2,val);},black:function(val){return this.setChannel('cmyk',3,val);},hexString:function(){return colorString.hexString(this.values.rgb);},rgbString:function(){return colorString.rgbString(this.values.rgb,this.values.alpha);},rgbaString:function(){return colorString.rgbaString(this.values.rgb,this.values.alpha);},percentString:function(){return colorString.percentString(this.values.rgb,this.values.alpha);},hslString:function(){return colorString.hslString(this.values.hsl,this.values.alpha);},hslaString:function(){return colorString.hslaString(this.values.hsl,this.values.alpha);},hwbString:function(){return colorString.hwbString(this.values.hwb,this.values.alpha);},keyword:function(){return colorString.keyword(this.values.rgb,this.values.alpha);},rgbNumber:function(){var rgb=this.values.rgb;return(rgb[0]<<16)|(rgb[1]<<8)|rgb[2];},luminosity:function(){var rgb=this.values.rgb;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/ 255;lum[i]=(chan<=0.03928)?chan / 12.92:Math.pow(((chan+0.055)/ 1.055),2.4);}
return 0.2126*lum[0]+0.7152*lum[1]+0.0722*lum[2];},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2){return(lum1+0.05)/(lum2+0.05);}
return(lum2+0.05)/(lum1+0.05);},level:function(color2){var contrastRatio=this.contrast(color2);if(contrastRatio>=7.1){return'AAA';}
return(contrastRatio>=4.5)?'AA':'';},dark:function(){var rgb=this.values.rgb;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/ 1000;return yiq<128;},light:function(){return!this.dark();},negate:function(){var rgb=[];for(var i=0;i<3;i++){rgb[i]=255-this.values.rgb[i];}
this.setValues('rgb',rgb);return this;},lighten:function(ratio){var hsl=this.values.hsl;hsl[2]+=hsl[2]*ratio;this.setValues('hsl',hsl);return this;},darken:function(ratio){var hsl=this.values.hsl;hsl[2]-=hsl[2]*ratio;this.setValues('hsl',hsl);return this;},saturate:function(ratio){var hsl=this.values.hsl;hsl[1]+=hsl[1]*ratio;this.setValues('hsl',hsl);return this;},desaturate:function(ratio){var hsl=this.values.hsl;hsl[1]-=hsl[1]*ratio;this.setValues('hsl',hsl);return this;},whiten:function(ratio){var hwb=this.values.hwb;hwb[1]+=hwb[1]*ratio;this.setValues('hwb',hwb);return this;},blacken:function(ratio){var hwb=this.values.hwb;hwb[2]+=hwb[2]*ratio;this.setValues('hwb',hwb);return this;},greyscale:function(){var rgb=this.values.rgb;var val=rgb[0]*0.3+rgb[1]*0.59+rgb[2]*0.11;this.setValues('rgb',[val,val,val]);return this;},clearer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha-(alpha*ratio));return this;},opaquer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha+(alpha*ratio));return this;},rotate:function(degrees){var hsl=this.values.hsl;var hue=(hsl[0]+degrees)%360;hsl[0]=hue<0?360+hue:hue;this.setValues('hsl',hsl);return this;},mix:function(mixinColor,weight){var color1=this;var color2=mixinColor;var p=weight===undefined?0.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=(((w*a===-1)?w:(w+a)/(1+w*a))+1)/ 2.0;var w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p));},toJSON:function(){return this.rgb();},clone:function(){var result=new Color();var source=this.values;var target=result.values;var value,type;for(var prop in source){if(source.hasOwnProperty(prop)){value=source[prop];type=({}).toString.call(value);if(type==='[object Array]'){target[prop]=value.slice(0);}else if(type==='[object Number]'){target[prop]=value;}else{console.error('unexpected color value:',value);}}}
return result;}};Color.prototype.spaces={rgb:['red','green','blue'],hsl:['hue','saturation','lightness'],hsv:['hue','saturation','value'],hwb:['hue','whiteness','blackness'],cmyk:['cyan','magenta','yellow','black']};Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};Color.prototype.getValues=function(space){var values=this.values;var vals={};for(var i=0;i<space.length;i++){vals[space.charAt(i)]=values[space][i];}
if(values.alpha!==1){vals.a=values.alpha;}
return vals;};Color.prototype.setValues=function(space,vals){var values=this.values;var spaces=this.spaces;var maxes=this.maxes;var alpha=1;var i;this.valid=true;if(space==='alpha'){alpha=vals;}else if(vals.length){values[space]=vals.slice(0,space.length);alpha=vals[space.length];}else if(vals[space.charAt(0)]!==undefined){for(i=0;i<space.length;i++){values[space][i]=vals[space.charAt(i)];}
alpha=vals.a;}else if(vals[spaces[space][0]]!==undefined){var chans=spaces[space];for(i=0;i<space.length;i++){values[space][i]=vals[chans[i]];}
alpha=vals.alpha;}
values.alpha=Math.max(0,Math.min(1,(alpha===undefined?values.alpha:alpha)));if(space==='alpha'){return false;}
var capped;for(i=0;i<space.length;i++){capped=Math.max(0,Math.min(maxes[space][i],values[space][i]));values[space][i]=Math.round(capped);}
for(var sname in spaces){if(sname!==space){values[sname]=colorConvert[space][sname](values[space]);}}
return true;};Color.prototype.setSpace=function(space,args){var vals=args[0];if(vals===undefined){return this.getValues(space);}
if(typeof vals==='number'){vals=Array.prototype.slice.call(args);}
this.setValues(space,vals);return this;};Color.prototype.setChannel=function(space,index,val){var svalues=this.values[space];if(val===undefined){return svalues[index];}else if(val===svalues[index]){return this;}
svalues[index]=val;this.setValues(space,svalues);return this;};if(typeof window!=='undefined'){window.Color=Color;}
var chartjsColor=Color;function isValidKey(key){return['__proto__','prototype','constructor'].indexOf(key)===-1;}
var helpers={noop:function(){},uid:(function(){var id=0;return function(){return id++;};}()),isNullOrUndef:function(value){return value===null||typeof value==='undefined';},isArray:function(value){if(Array.isArray&&Array.isArray(value)){return true;}
var type=Object.prototype.toString.call(value);if(type.substr(0,7)==='[object'&&type.substr(-6)==='Array]'){return true;}
return false;},isObject:function(value){return value!==null&&Object.prototype.toString.call(value)==='[object Object]';},isFinite:function(value){return(typeof value==='number'||value instanceof Number)&&isFinite(value);},valueOrDefault:function(value,defaultValue){return typeof value==='undefined'?defaultValue:value;},valueAtIndexOrDefault:function(value,index,defaultValue){return helpers.valueOrDefault(helpers.isArray(value)?value[index]:value,defaultValue);},callback:function(fn,args,thisArg){if(fn&&typeof fn.call==='function'){return fn.apply(thisArg,args);}},each:function(loopable,fn,thisArg,reverse){var i,len,keys;if(helpers.isArray(loopable)){len=loopable.length;if(reverse){for(i=len-1;i>=0;i--){fn.call(thisArg,loopable[i],i);}}else{for(i=0;i<len;i++){fn.call(thisArg,loopable[i],i);}}}else if(helpers.isObject(loopable)){keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++){fn.call(thisArg,loopable[keys[i]],keys[i]);}}},arrayEquals:function(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length){return false;}
for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0 instanceof Array&&v1 instanceof Array){if(!helpers.arrayEquals(v0,v1)){return false;}}else if(v0!==v1){return false;}}
return true;},clone:function(source){if(helpers.isArray(source)){return source.map(helpers.clone);}
if(helpers.isObject(source)){var target=Object.create(source);var keys=Object.keys(source);var klen=keys.length;var k=0;for(;k<klen;++k){target[keys[k]]=helpers.clone(source[keys[k]]);}
return target;}
return source;},_merger:function(key,target,source,options){if(!isValidKey(key)){return;}
var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.merge(tval,sval,options);}else{target[key]=helpers.clone(sval);}},_mergerIf:function(key,target,source){if(!isValidKey(key)){return;}
var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.mergeIf(tval,sval);}else if(!target.hasOwnProperty(key)){target[key]=helpers.clone(sval);}},merge:function(target,source,options){var sources=helpers.isArray(source)?source:[source];var ilen=sources.length;var merge,i,keys,klen,k;if(!helpers.isObject(target)){return target;}
options=options||{};merge=options.merger||helpers._merger;for(i=0;i<ilen;++i){source=sources[i];if(!helpers.isObject(source)){continue;}
keys=Object.keys(source);for(k=0,klen=keys.length;k<klen;++k){merge(keys[k],target,source,options);}}
return target;},mergeIf:function(target,source){return helpers.merge(target,source,{merger:helpers._mergerIf});},extend:Object.assign||function(target){return helpers.merge(target,[].slice.call(arguments,1),{merger:function(key,dst,src){dst[key]=src[key];}});},inherits:function(extensions){var me=this;var ChartElement=(extensions&&extensions.hasOwnProperty('constructor'))?extensions.constructor:function(){return me.apply(this,arguments);};var Surrogate=function(){this.constructor=ChartElement;};Surrogate.prototype=me.prototype;ChartElement.prototype=new Surrogate();ChartElement.extend=helpers.inherits;if(extensions){helpers.extend(ChartElement.prototype,extensions);}
ChartElement.__super__=me.prototype;return ChartElement;},_deprecated:function(scope,value,previous,current){if(value!==undefined){console.warn(scope+': "'+previous+'" is deprecated. Please use "'+current+'" instead');}}};var helpers_core=helpers;helpers.callCallback=helpers.callback;helpers.indexOf=function(array,item,fromIndex){return Array.prototype.indexOf.call(array,item,fromIndex);};helpers.getValueOrDefault=helpers.valueOrDefault;helpers.getValueAtIndexOrDefault=helpers.valueAtIndexOrDefault;var effects={linear:function(t){return t;},easeInQuad:function(t){return t*t;},easeOutQuad:function(t){return-t*(t-2);},easeInOutQuad:function(t){if((t /=0.5)<1){return 0.5*t*t;}
return-0.5*((--t)*(t-2)-1);},easeInCubic:function(t){return t*t*t;},easeOutCubic:function(t){return(t=t-1)*t*t+1;},easeInOutCubic:function(t){if((t /=0.5)<1){return 0.5*t*t*t;}
return 0.5*((t-=2)*t*t+2);},easeInQuart:function(t){return t*t*t*t;},easeOutQuart:function(t){return-((t=t-1)*t*t*t-1);},easeInOutQuart:function(t){if((t /=0.5)<1){return 0.5*t*t*t*t;}
return-0.5*((t-=2)*t*t*t-2);},easeInQuint:function(t){return t*t*t*t*t;},easeOutQuint:function(t){return(t=t-1)*t*t*t*t+1;},easeInOutQuint:function(t){if((t /=0.5)<1){return 0.5*t*t*t*t*t;}
return 0.5*((t-=2)*t*t*t*t+2);},easeInSine:function(t){return-Math.cos(t*(Math.PI / 2))+1;},easeOutSine:function(t){return Math.sin(t*(Math.PI / 2));},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t)-1);},easeInExpo:function(t){return(t===0)?0:Math.pow(2,10*(t-1));},easeOutExpo:function(t){return(t===1)?1:-Math.pow(2,-10*t)+1;},easeInOutExpo:function(t){if(t===0){return 0;}
if(t===1){return 1;}
if((t /=0.5)<1){return 0.5*Math.pow(2,10*(t-1));}
return 0.5*(-Math.pow(2,-10*--t)+2);},easeInCirc:function(t){if(t>=1){return t;}
return-(Math.sqrt(1-t*t)-1);},easeOutCirc:function(t){return Math.sqrt(1-(t=t-1)*t);},easeInOutCirc:function(t){if((t /=0.5)<1){return-0.5*(Math.sqrt(1-t*t)-1);}
return 0.5*(Math.sqrt(1-(t-=2)*t)+1);},easeInElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if(t===1){return 1;}
if(!p){p=0.3;}
if(a<1){a=1;s=p / 4;}else{s=p /(2*Math.PI)*Math.asin(1 / a);}
return-(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/ p));},easeOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if(t===1){return 1;}
if(!p){p=0.3;}
if(a<1){a=1;s=p / 4;}else{s=p /(2*Math.PI)*Math.asin(1 / a);}
return a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/ p)+1;},easeInOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if((t /=0.5)===2){return 1;}
if(!p){p=0.45;}
if(a<1){a=1;s=p / 4;}else{s=p /(2*Math.PI)*Math.asin(1 / a);}
if(t<1){return-0.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/ p));}
return a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/ p)*0.5+1;},easeInBack:function(t){var s=1.70158;return t*t*((s+1)*t-s);},easeOutBack:function(t){var s=1.70158;return(t=t-1)*t*((s+1)*t+s)+1;},easeInOutBack:function(t){var s=1.70158;if((t /=0.5)<1){return 0.5*(t*t*(((s*=(1.525))+1)*t-s));}
return 0.5*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2);},easeInBounce:function(t){return 1-effects.easeOutBounce(1-t);},easeOutBounce:function(t){if(t<(1 / 2.75)){return 7.5625*t*t;}
if(t<(2 / 2.75)){return 7.5625*(t-=(1.5 / 2.75))*t+0.75;}
if(t<(2.5 / 2.75)){return 7.5625*(t-=(2.25 / 2.75))*t+0.9375;}
return 7.5625*(t-=(2.625 / 2.75))*t+0.984375;},easeInOutBounce:function(t){if(t<0.5){return effects.easeInBounce(t*2)*0.5;}
return effects.easeOutBounce(t*2-1)*0.5+0.5;}};var helpers_easing={effects:effects};helpers_core.easingEffects=effects;var PI=Math.PI;var RAD_PER_DEG=PI / 180;var DOUBLE_PI=PI*2;var HALF_PI=PI / 2;var QUARTER_PI=PI / 4;var TWO_THIRDS_PI=PI*2 / 3;var exports$1={clear:function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height);},roundedRect:function(ctx,x,y,width,height,radius){if(radius){var r=Math.min(radius,height / 2,width / 2);var left=x+r;var top=y+r;var right=x+width-r;var bottom=y+height-r;ctx.moveTo(x,top);if(left<right&&top<bottom){ctx.arc(left,top,r,-PI,-HALF_PI);ctx.arc(right,top,r,-HALF_PI,0);ctx.arc(right,bottom,r,0,HALF_PI);ctx.arc(left,bottom,r,HALF_PI,PI);}else if(left<right){ctx.moveTo(left,y);ctx.arc(right,top,r,-HALF_PI,HALF_PI);ctx.arc(left,top,r,HALF_PI,PI+HALF_PI);}else if(top<bottom){ctx.arc(left,top,r,-PI,0);ctx.arc(left,bottom,r,0,PI);}else{ctx.arc(left,top,r,-PI,PI);}
ctx.closePath();ctx.moveTo(x,y);}else{ctx.rect(x,y,width,height);}},drawPoint:function(ctx,style,radius,x,y,rotation){var type,xOffset,yOffset,size,cornerRadius;var rad=(rotation||0)*RAD_PER_DEG;if(style&&typeof style==='object'){type=style.toString();if(type==='[object HTMLImageElement]'||type==='[object HTMLCanvasElement]'){ctx.save();ctx.translate(x,y);ctx.rotate(rad);ctx.drawImage(style,-style.width / 2,-style.height / 2,style.width,style.height);ctx.restore();return;}}
if(isNaN(radius)||radius<=0){return;}
ctx.beginPath();switch(style){default:ctx.arc(x,y,radius,0,DOUBLE_PI);ctx.closePath();break;case'triangle':ctx.moveTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);ctx.closePath();break;case'rectRounded':cornerRadius=radius*0.516;size=radius-cornerRadius;xOffset=Math.cos(rad+QUARTER_PI)*size;yOffset=Math.sin(rad+QUARTER_PI)*size;ctx.arc(x-xOffset,y-yOffset,cornerRadius,rad-PI,rad-HALF_PI);ctx.arc(x+yOffset,y-xOffset,cornerRadius,rad-HALF_PI,rad);ctx.arc(x+xOffset,y+yOffset,cornerRadius,rad,rad+HALF_PI);ctx.arc(x-yOffset,y+xOffset,cornerRadius,rad+HALF_PI,rad+PI);ctx.closePath();break;case'rect':if(!rotation){size=Math.SQRT1_2*radius;ctx.rect(x-size,y-size,2*size,2*size);break;}
rad+=QUARTER_PI;case'rectRot':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+yOffset,y-xOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.lineTo(x-yOffset,y+xOffset);ctx.closePath();break;case'crossRot':rad+=QUARTER_PI;case'cross':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'star':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);rad+=QUARTER_PI;xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'line':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);break;case'dash':ctx.moveTo(x,y);ctx.lineTo(x+Math.cos(rad)*radius,y+Math.sin(rad)*radius);break;}
ctx.fill();ctx.stroke();},_isPointInArea:function(point,area){var epsilon=1e-6;return point.x>area.left-epsilon&&point.x<area.right+epsilon&&point.y>area.top-epsilon&&point.y<area.bottom+epsilon;},clipArea:function(ctx,area){ctx.save();ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip();},unclipArea:function(ctx){ctx.restore();},lineTo:function(ctx,previous,target,flip){var stepped=target.steppedLine;if(stepped){if(stepped==='middle'){var midpoint=(previous.x+target.x)/ 2.0;ctx.lineTo(midpoint,flip?target.y:previous.y);ctx.lineTo(midpoint,flip?previous.y:target.y);}else if((stepped==='after'&&!flip)||(stepped!=='after'&&flip)){ctx.lineTo(previous.x,target.y);}else{ctx.lineTo(target.x,previous.y);}
ctx.lineTo(target.x,target.y);return;}
if(!target.tension){ctx.lineTo(target.x,target.y);return;}
ctx.bezierCurveTo(flip?previous.controlPointPreviousX:previous.controlPointNextX,flip?previous.controlPointPreviousY:previous.controlPointNextY,flip?target.controlPointNextX:target.controlPointPreviousX,flip?target.controlPointNextY:target.controlPointPreviousY,target.x,target.y);}};var helpers_canvas=exports$1;helpers_core.clear=exports$1.clear;helpers_core.drawRoundedRectangle=function(ctx){ctx.beginPath();exports$1.roundedRect.apply(exports$1,arguments);};var defaults={_set:function(scope,values){return helpers_core.merge(this[scope]||(this[scope]={}),values);}};defaults._set('global',{defaultColor:'rgba(0,0,0,0.1)',defaultFontColor:'#666',defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:'normal',defaultLineHeight:1.2,showLines:true});var core_defaults=defaults;var valueOrDefault=helpers_core.valueOrDefault;function toFontString(font){if(!font||helpers_core.isNullOrUndef(font.size)||helpers_core.isNullOrUndef(font.family)){return null;}
return(font.style?font.style+' ':'')
+(font.weight?font.weight+' ':'')
+font.size+'px '
+font.family;}
var helpers_options={toLineHeight:function(value,size){var matches=(''+value).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!matches||matches[1]==='normal'){return size*1.2;}
value=+matches[2];switch(matches[3]){case'px':return value;case'%':value /=100;break;}
return size*value;},toPadding:function(value){var t,r,b,l;if(helpers_core.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0;}else{t=r=b=l=+value||0;}
return{top:t,right:r,bottom:b,left:l,height:t+b,width:l+r};},_parseFont:function(options){var globalDefaults=core_defaults.global;var size=valueOrDefault(options.fontSize,globalDefaults.defaultFontSize);var font={family:valueOrDefault(options.fontFamily,globalDefaults.defaultFontFamily),lineHeight:helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight,globalDefaults.defaultLineHeight),size),size:size,style:valueOrDefault(options.fontStyle,globalDefaults.defaultFontStyle),weight:null,string:''};font.string=toFontString(font);return font;},resolve:function(inputs,context,index,info){var cacheable=true;var i,ilen,value;for(i=0,ilen=inputs.length;i<ilen;++i){value=inputs[i];if(value===undefined){continue;}
if(context!==undefined&&typeof value==='function'){value=value(context);cacheable=false;}
if(index!==undefined&&helpers_core.isArray(value)){value=value[index];cacheable=false;}
if(value!==undefined){if(info&&!cacheable){info.cacheable=false;}
return value;}}}};var exports$2={_factorize:function(value){var result=[];var sqrt=Math.sqrt(value);var i;for(i=1;i<sqrt;i++){if(value%i===0){result.push(i);result.push(value / i);}}
if(sqrt===(sqrt|0)){result.push(sqrt);}
result.sort(function(a,b){return a-b;}).pop();return result;},log10:Math.log10||function(x){var exponent=Math.log(x)*Math.LOG10E;var powerOf10=Math.round(exponent);var isPowerOf10=x===Math.pow(10,powerOf10);return isPowerOf10?powerOf10:exponent;}};var helpers_math=exports$2;helpers_core.log10=exports$2.log10;var getRtlAdapter=function(rectX,width){return{x:function(x){return rectX+rectX+width-x;},setWidth:function(w){width=w;},textAlign:function(align){if(align==='center'){return align;}
return align==='right'?'left':'right';},xPlus:function(x,value){return x-value;},leftForLtr:function(x,itemWidth){return x-itemWidth;},};};var getLtrAdapter=function(){return{x:function(x){return x;},setWidth:function(w){},textAlign:function(align){return align;},xPlus:function(x,value){return x+value;},leftForLtr:function(x,_itemWidth){return x;},};};var getAdapter=function(rtl,rectX,width){return rtl?getRtlAdapter(rectX,width):getLtrAdapter();};var overrideTextDirection=function(ctx,direction){var style,original;if(direction==='ltr'||direction==='rtl'){style=ctx.canvas.style;original=[style.getPropertyValue('direction'),style.getPropertyPriority('direction'),];style.setProperty('direction',direction,'important');ctx.prevTextDirection=original;}};var restoreTextDirection=function(ctx){var original=ctx.prevTextDirection;if(original!==undefined){delete ctx.prevTextDirection;ctx.canvas.style.setProperty('direction',original[0],original[1]);}};var helpers_rtl={getRtlAdapter:getAdapter,overrideTextDirection:overrideTextDirection,restoreTextDirection:restoreTextDirection,};var helpers$1=helpers_core;var easing=helpers_easing;var canvas=helpers_canvas;var options=helpers_options;var math=helpers_math;var rtl=helpers_rtl;helpers$1.easing=easing;helpers$1.canvas=canvas;helpers$1.options=options;helpers$1.math=math;helpers$1.rtl=rtl;function interpolate(start,view,model,ease){var keys=Object.keys(model);var i,ilen,key,actual,origin,target,type,c0,c1;for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];target=model[key];if(!view.hasOwnProperty(key)){view[key]=target;}
actual=view[key];if(actual===target||key[0]==='_'){continue;}
if(!start.hasOwnProperty(key)){start[key]=actual;}
origin=start[key];type=typeof target;if(type===typeof origin){if(type==='string'){c0=chartjsColor(origin);if(c0.valid){c1=chartjsColor(target);if(c1.valid){view[key]=c1.mix(c0,ease).rgbString();continue;}}}else if(helpers$1.isFinite(origin)&&helpers$1.isFinite(target)){view[key]=origin+(target-origin)*ease;continue;}}
view[key]=target;}}
var Element=function(configuration){helpers$1.extend(this,configuration);this.initialize.apply(this,arguments);};helpers$1.extend(Element.prototype,{_type:undefined,initialize:function(){this.hidden=false;},pivot:function(){var me=this;if(!me._view){me._view=helpers$1.extend({},me._model);}
me._start={};return me;},transition:function(ease){var me=this;var model=me._model;var start=me._start;var view=me._view;if(!model||ease===1){me._view=helpers$1.extend({},model);me._start=null;return me;}
if(!view){view=me._view={};}
if(!start){start=me._start={};}
interpolate(start,view,model,ease);return me;},tooltipPosition:function(){return{x:this._model.x,y:this._model.y};},hasValue:function(){return helpers$1.isNumber(this._model.x)&&helpers$1.isNumber(this._model.y);}});Element.extend=helpers$1.inherits;var core_element=Element;var exports$3=core_element.extend({chart:null,currentStep:0,numSteps:60,easing:'',render:null,onAnimationProgress:null,onAnimationComplete:null,});var core_animation=exports$3;Object.defineProperty(exports$3.prototype,'animationObject',{get:function(){return this;}});Object.defineProperty(exports$3.prototype,'chartInstance',{get:function(){return this.chart;},set:function(value){this.chart=value;}});core_defaults._set('global',{animation:{duration:1000,easing:'easeOutQuart',onProgress:helpers$1.noop,onComplete:helpers$1.noop}});var core_animations={animations:[],request:null,addAnimation:function(chart,animation,duration,lazy){var animations=this.animations;var i,ilen;animation.chart=chart;animation.startTime=Date.now();animation.duration=duration;if(!lazy){chart.animating=true;}
for(i=0,ilen=animations.length;i<ilen;++i){if(animations[i].chart===chart){animations[i]=animation;return;}}
animations.push(animation);if(animations.length===1){this.requestAnimationFrame();}},cancelAnimation:function(chart){var index=helpers$1.findIndex(this.animations,function(animation){return animation.chart===chart;});if(index!==-1){this.animations.splice(index,1);chart.animating=false;}},requestAnimationFrame:function(){var me=this;if(me.request===null){me.request=helpers$1.requestAnimFrame.call(window,function(){me.request=null;me.startDigest();});}},startDigest:function(){var me=this;me.advance();if(me.animations.length>0){me.requestAnimationFrame();}},advance:function(){var animations=this.animations;var animation,chart,numSteps,nextStep;var i=0;while(i<animations.length){animation=animations[i];chart=animation.chart;numSteps=animation.numSteps;nextStep=Math.floor((Date.now()-animation.startTime)/ animation.duration*numSteps)+1;animation.currentStep=Math.min(nextStep,numSteps);helpers$1.callback(animation.render,[chart,animation],chart);helpers$1.callback(animation.onAnimationProgress,[animation],chart);if(animation.currentStep>=numSteps){helpers$1.callback(animation.onAnimationComplete,[animation],chart);chart.animating=false;animations.splice(i,1);}else{++i;}}}};var resolve=helpers$1.options.resolve;var arrayEvents=['push','pop','shift','splice','unshift'];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return;}
Object.defineProperty(array,'_chartjs',{configurable:true,enumerable:false,value:{listeners:[listener]}});arrayEvents.forEach(function(key){var method='onData'+key.charAt(0).toUpperCase()+key.slice(1);var base=array[key];Object.defineProperty(array,key,{configurable:true,enumerable:false,value:function(){var args=Array.prototype.slice.call(arguments);var res=base.apply(this,args);helpers$1.each(array._chartjs.listeners,function(object){if(typeof object[method]==='function'){object[method].apply(object,args);}});return res;}});});}
function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(!stub){return;}
var listeners=stub.listeners;var index=listeners.indexOf(listener);if(index!==-1){listeners.splice(index,1);}
if(listeners.length>0){return;}
arrayEvents.forEach(function(key){delete array[key];});delete array._chartjs;}
var DatasetController=function(chart,datasetIndex){this.initialize(chart,datasetIndex);};helpers$1.extend(DatasetController.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:['backgroundColor','borderCapStyle','borderColor','borderDash','borderDashOffset','borderJoinStyle','borderWidth'],_dataElementOptions:['backgroundColor','borderColor','borderWidth','pointStyle'],initialize:function(chart,datasetIndex){var me=this;me.chart=chart;me.index=datasetIndex;me.linkScales();me.addElements();me._type=me.getMeta().type;},updateIndex:function(datasetIndex){this.index=datasetIndex;},linkScales:function(){var me=this;var meta=me.getMeta();var chart=me.chart;var scales=chart.scales;var dataset=me.getDataset();var scalesOpts=chart.options.scales;if(meta.xAxisID===null||!(meta.xAxisID in scales)||dataset.xAxisID){meta.xAxisID=dataset.xAxisID||scalesOpts.xAxes[0].id;}
if(meta.yAxisID===null||!(meta.yAxisID in scales)||dataset.yAxisID){meta.yAxisID=dataset.yAxisID||scalesOpts.yAxes[0].id;}},getDataset:function(){return this.chart.data.datasets[this.index];},getMeta:function(){return this.chart.getDatasetMeta(this.index);},getScaleForId:function(scaleID){return this.chart.scales[scaleID];},_getValueScaleId:function(){return this.getMeta().yAxisID;},_getIndexScaleId:function(){return this.getMeta().xAxisID;},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId());},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId());},reset:function(){this._update(true);},destroy:function(){if(this._data){unlistenArrayEvents(this._data,this);}},createMetaDataset:function(){var me=this;var type=me.datasetElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index});},createMetaData:function(index){var me=this;var type=me.dataElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index,_index:index});},addElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data||[];var metaData=meta.data;var i,ilen;for(i=0,ilen=data.length;i<ilen;++i){metaData[i]=metaData[i]||me.createMetaData(i);}
meta.dataset=meta.dataset||me.createMetaDataset();},addElementAndReset:function(index){var element=this.createMetaData(index);this.getMeta().data.splice(index,0,element);this.updateElement(element,index,true);},buildOrUpdateElements:function(){var me=this;var dataset=me.getDataset();var data=dataset.data||(dataset.data=[]);if(me._data!==data){if(me._data){unlistenArrayEvents(me._data,me);}
if(data&&Object.isExtensible(data)){listenArrayEvents(data,me);}
me._data=data;}
me.resyncElements();},_configure:function(){var me=this;me._config=helpers$1.merge(Object.create(null),[me.chart.options.datasets[me._type],me.getDataset(),],{merger:function(key,target,source){if(key!=='_meta'&&key!=='data'){helpers$1._merger(key,target,source);}}});},_update:function(reset){var me=this;me._configure();me._cachedDataOpts=null;me.update(reset);},update:helpers$1.noop,transition:function(easingValue){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;for(;i<ilen;++i){elements[i].transition(easingValue);}
if(meta.dataset){meta.dataset.transition(easingValue);}},draw:function(){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;if(meta.dataset){meta.dataset.draw();}
for(;i<ilen;++i){elements[i].draw();}},getStyle:function(index){var me=this;var meta=me.getMeta();var dataset=meta.dataset;var style;me._configure();if(dataset&&index===undefined){style=me._resolveDatasetElementOptions(dataset||{});}else{index=index||0;style=me._resolveDataElementOptions(meta.data[index]||{},index);}
if(style.fill===false||style.fill===null){style.backgroundColor=style.borderColor;}
return style;},_resolveDatasetElementOptions:function(element,hover){var me=this;var chart=me.chart;var datasetOpts=me._config;var custom=element.custom||{};var options=chart.options.elements[me.datasetElementType.prototype._type]||{};var elementOptions=me._datasetElementOptions;var values={};var i,ilen,key,readKey;var context={chart:chart,dataset:me.getDataset(),datasetIndex:me.index,hover:hover};for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];readKey=hover?'hover'+key.charAt(0).toUpperCase()+key.slice(1):key;values[key]=resolve([custom[readKey],datasetOpts[readKey],options[readKey]],context);}
return values;},_resolveDataElementOptions:function(element,index){var me=this;var custom=element&&element.custom;var cached=me._cachedDataOpts;if(cached&&!custom){return cached;}
var chart=me.chart;var datasetOpts=me._config;var options=chart.options.elements[me.dataElementType.prototype._type]||{};var elementOptions=me._dataElementOptions;var values={};var context={chart:chart,dataIndex:index,dataset:me.getDataset(),datasetIndex:me.index};var info={cacheable:!custom};var keys,i,ilen,key;custom=custom||{};if(helpers$1.isArray(elementOptions)){for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];values[key]=resolve([custom[key],datasetOpts[key],options[key]],context,index,info);}}else{keys=Object.keys(elementOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];values[key]=resolve([custom[key],datasetOpts[elementOptions[key]],datasetOpts[key],options[key]],context,index,info);}}
if(info.cacheable){me._cachedDataOpts=Object.freeze(values);}
return values;},removeHoverStyle:function(element){helpers$1.merge(element._model,element.$previousStyle||{});delete element.$previousStyle;},setHoverStyle:function(element){var dataset=this.chart.data.datasets[element._datasetIndex];var index=element._index;var custom=element.custom||{};var model=element._model;var getHoverColor=helpers$1.getHoverColor;element.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth};model.backgroundColor=resolve([custom.hoverBackgroundColor,dataset.hoverBackgroundColor,getHoverColor(model.backgroundColor)],undefined,index);model.borderColor=resolve([custom.hoverBorderColor,dataset.hoverBorderColor,getHoverColor(model.borderColor)],undefined,index);model.borderWidth=resolve([custom.hoverBorderWidth,dataset.hoverBorderWidth,model.borderWidth],undefined,index);},_removeDatasetHoverStyle:function(){var element=this.getMeta().dataset;if(element){this.removeHoverStyle(element);}},_setDatasetHoverStyle:function(){var element=this.getMeta().dataset;var prev={};var i,ilen,key,keys,hoverOptions,model;if(!element){return;}
model=element._model;hoverOptions=this._resolveDatasetElementOptions(element,true);keys=Object.keys(hoverOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];prev[key]=model[key];model[key]=hoverOptions[key];}
element.$previousStyle=prev;},resyncElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data;var numMeta=meta.data.length;var numData=data.length;if(numData<numMeta){meta.data.splice(numData,numMeta-numData);}else if(numData>numMeta){me.insertElements(numMeta,numData-numMeta);}},insertElements:function(start,count){for(var i=0;i<count;++i){this.addElementAndReset(start+i);}},onDataPush:function(){var count=arguments.length;this.insertElements(this.getDataset().data.length-count,count);},onDataPop:function(){this.getMeta().data.pop();},onDataShift:function(){this.getMeta().data.shift();},onDataSplice:function(start,count){this.getMeta().data.splice(start,count);this.insertElements(start,arguments.length-2);},onDataUnshift:function(){this.insertElements(0,arguments.length);}});DatasetController.extend=helpers$1.inherits;var core_datasetController=DatasetController;var TAU=Math.PI*2;core_defaults._set('global',{elements:{arc:{backgroundColor:core_defaults.global.defaultColor,borderColor:'#fff',borderWidth:2,borderAlign:'center'}}});function clipArc(ctx,arc){var startAngle=arc.startAngle;var endAngle=arc.endAngle;var pixelMargin=arc.pixelMargin;var angleMargin=pixelMargin / arc.outerRadius;var x=arc.x;var y=arc.y;ctx.beginPath();ctx.arc(x,y,arc.outerRadius,startAngle-angleMargin,endAngle+angleMargin);if(arc.innerRadius>pixelMargin){angleMargin=pixelMargin / arc.innerRadius;ctx.arc(x,y,arc.innerRadius-pixelMargin,endAngle+angleMargin,startAngle-angleMargin,true);}else{ctx.arc(x,y,pixelMargin,endAngle+Math.PI / 2,startAngle-Math.PI / 2);}
ctx.closePath();ctx.clip();}
function drawFullCircleBorders(ctx,vm,arc,inner){var endAngle=arc.endAngle;var i;if(inner){arc.endAngle=arc.startAngle+TAU;clipArc(ctx,arc);arc.endAngle=endAngle;if(arc.endAngle===arc.startAngle&&arc.fullCircles){arc.endAngle+=TAU;arc.fullCircles--;}}
ctx.beginPath();ctx.arc(arc.x,arc.y,arc.innerRadius,arc.startAngle+TAU,arc.startAngle,true);for(i=0;i<arc.fullCircles;++i){ctx.stroke();}
ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.startAngle+TAU);for(i=0;i<arc.fullCircles;++i){ctx.stroke();}}
function drawBorder(ctx,vm,arc){var inner=vm.borderAlign==='inner';if(inner){ctx.lineWidth=vm.borderWidth*2;ctx.lineJoin='round';}else{ctx.lineWidth=vm.borderWidth;ctx.lineJoin='bevel';}
if(arc.fullCircles){drawFullCircleBorders(ctx,vm,arc,inner);}
if(inner){clipArc(ctx,arc);}
ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.stroke();}
var element_arc=core_element.extend({_type:'arc',inLabelRange:function(mouseX){var vm=this._view;if(vm){return(Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hoverRadius,2));}
return false;},inRange:function(chartX,chartY){var vm=this._view;if(vm){var pointRelativePosition=helpers$1.getAngleFromPoint(vm,{x:chartX,y:chartY});var angle=pointRelativePosition.angle;var distance=pointRelativePosition.distance;var startAngle=vm.startAngle;var endAngle=vm.endAngle;while(endAngle<startAngle){endAngle+=TAU;}
while(angle>endAngle){angle-=TAU;}
while(angle<startAngle){angle+=TAU;}
var betweenAngles=(angle>=startAngle&&angle<=endAngle);var withinRadius=(distance>=vm.innerRadius&&distance<=vm.outerRadius);return(betweenAngles&&withinRadius);}
return false;},getCenterPoint:function(){var vm=this._view;var halfAngle=(vm.startAngle+vm.endAngle)/ 2;var halfRadius=(vm.innerRadius+vm.outerRadius)/ 2;return{x:vm.x+Math.cos(halfAngle)*halfRadius,y:vm.y+Math.sin(halfAngle)*halfRadius};},getArea:function(){var vm=this._view;return Math.PI*((vm.endAngle-vm.startAngle)/(2*Math.PI))*(Math.pow(vm.outerRadius,2)-Math.pow(vm.innerRadius,2));},tooltipPosition:function(){var vm=this._view;var centreAngle=vm.startAngle+((vm.endAngle-vm.startAngle)/ 2);var rangeFromCentre=(vm.outerRadius-vm.innerRadius)/ 2+vm.innerRadius;return{x:vm.x+(Math.cos(centreAngle)*rangeFromCentre),y:vm.y+(Math.sin(centreAngle)*rangeFromCentre)};},draw:function(){var ctx=this._chart.ctx;var vm=this._view;var pixelMargin=(vm.borderAlign==='inner')?0.33:0;var arc={x:vm.x,y:vm.y,innerRadius:vm.innerRadius,outerRadius:Math.max(vm.outerRadius-pixelMargin,0),pixelMargin:pixelMargin,startAngle:vm.startAngle,endAngle:vm.endAngle,fullCircles:Math.floor(vm.circumference / TAU)};var i;ctx.save();ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;if(arc.fullCircles){arc.endAngle=arc.startAngle+TAU;ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();for(i=0;i<arc.fullCircles;++i){ctx.fill();}
arc.endAngle=arc.startAngle+vm.circumference%TAU;}
ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.fill();if(vm.borderWidth){drawBorder(ctx,vm,arc);}
ctx.restore();}});var valueOrDefault$1=helpers$1.valueOrDefault;var defaultColor=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{line:{tension:0.4,backgroundColor:defaultColor,borderWidth:3,borderColor:defaultColor,borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',capBezierPoints:true,fill:true,}}});var element_line=core_element.extend({_type:'line',draw:function(){var me=this;var vm=me._view;var ctx=me._chart.ctx;var spanGaps=vm.spanGaps;var points=me._children.slice();var globalDefaults=core_defaults.global;var globalOptionLineElements=globalDefaults.elements.line;var lastDrawnIndex=-1;var closePath=me._loop;var index,previous,currentVM;if(!points.length){return;}
if(me._loop){for(index=0;index<points.length;++index){previous=helpers$1.previousItem(points,index);if(!points[index]._view.skip&&previous._view.skip){points=points.slice(index).concat(points.slice(0,index));closePath=spanGaps;break;}}
if(closePath){points.push(points[0]);}}
ctx.save();ctx.lineCap=vm.borderCapStyle||globalOptionLineElements.borderCapStyle;if(ctx.setLineDash){ctx.setLineDash(vm.borderDash||globalOptionLineElements.borderDash);}
ctx.lineDashOffset=valueOrDefault$1(vm.borderDashOffset,globalOptionLineElements.borderDashOffset);ctx.lineJoin=vm.borderJoinStyle||globalOptionLineElements.borderJoinStyle;ctx.lineWidth=valueOrDefault$1(vm.borderWidth,globalOptionLineElements.borderWidth);ctx.strokeStyle=vm.borderColor||globalDefaults.defaultColor;ctx.beginPath();currentVM=points[0]._view;if(!currentVM.skip){ctx.moveTo(currentVM.x,currentVM.y);lastDrawnIndex=0;}
for(index=1;index<points.length;++index){currentVM=points[index]._view;previous=lastDrawnIndex===-1?helpers$1.previousItem(points,index):points[lastDrawnIndex];if(!currentVM.skip){if((lastDrawnIndex!==(index-1)&&!spanGaps)||lastDrawnIndex===-1){ctx.moveTo(currentVM.x,currentVM.y);}else{helpers$1.canvas.lineTo(ctx,previous._view,currentVM);}
lastDrawnIndex=index;}}
if(closePath){ctx.closePath();}
ctx.stroke();ctx.restore();}});var valueOrDefault$2=helpers$1.valueOrDefault;var defaultColor$1=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{point:{radius:3,pointStyle:'circle',backgroundColor:defaultColor$1,borderColor:defaultColor$1,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function xRange(mouseX){var vm=this._view;return vm?(Math.abs(mouseX-vm.x)<vm.radius+vm.hitRadius):false;}
function yRange(mouseY){var vm=this._view;return vm?(Math.abs(mouseY-vm.y)<vm.radius+vm.hitRadius):false;}
var element_point=core_element.extend({_type:'point',inRange:function(mouseX,mouseY){var vm=this._view;return vm?((Math.pow(mouseX-vm.x,2)+Math.pow(mouseY-vm.y,2))<Math.pow(vm.hitRadius+vm.radius,2)):false;},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y};},getArea:function(){return Math.PI*Math.pow(this._view.radius,2);},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y,padding:vm.radius+vm.borderWidth};},draw:function(chartArea){var vm=this._view;var ctx=this._chart.ctx;var pointStyle=vm.pointStyle;var rotation=vm.rotation;var radius=vm.radius;var x=vm.x;var y=vm.y;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;if(vm.skip){return;}
if(chartArea===undefined||helpers$1.canvas._isPointInArea(vm,chartArea)){ctx.strokeStyle=vm.borderColor||defaultColor;ctx.lineWidth=valueOrDefault$2(vm.borderWidth,globalDefaults.elements.point.borderWidth);ctx.fillStyle=vm.backgroundColor||defaultColor;helpers$1.canvas.drawPoint(ctx,pointStyle,radius,x,y,rotation);}}});var defaultColor$2=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{rectangle:{backgroundColor:defaultColor$2,borderColor:defaultColor$2,borderSkipped:'bottom',borderWidth:0}}});function isVertical(vm){return vm&&vm.width!==undefined;}
function getBarBounds(vm){var x1,x2,y1,y2,half;if(isVertical(vm)){half=vm.width / 2;x1=vm.x-half;x2=vm.x+half;y1=Math.min(vm.y,vm.base);y2=Math.max(vm.y,vm.base);}else{half=vm.height / 2;x1=Math.min(vm.x,vm.base);x2=Math.max(vm.x,vm.base);y1=vm.y-half;y2=vm.y+half;}
return{left:x1,top:y1,right:x2,bottom:y2};}
function swap(orig,v1,v2){return orig===v1?v2:orig===v2?v1:orig;}
function parseBorderSkipped(vm){var edge=vm.borderSkipped;var res={};if(!edge){return res;}
if(vm.horizontal){if(vm.base>vm.x){edge=swap(edge,'left','right');}}else if(vm.base<vm.y){edge=swap(edge,'bottom','top');}
res[edge]=true;return res;}
function parseBorderWidth(vm,maxW,maxH){var value=vm.borderWidth;var skip=parseBorderSkipped(vm);var t,r,b,l;if(helpers$1.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0;}else{t=r=b=l=+value||0;}
return{t:skip.top||(t<0)?0:t>maxH?maxH:t,r:skip.right||(r<0)?0:r>maxW?maxW:r,b:skip.bottom||(b<0)?0:b>maxH?maxH:b,l:skip.left||(l<0)?0:l>maxW?maxW:l};}
function boundingRects(vm){var bounds=getBarBounds(vm);var width=bounds.right-bounds.left;var height=bounds.bottom-bounds.top;var border=parseBorderWidth(vm,width / 2,height / 2);return{outer:{x:bounds.left,y:bounds.top,w:width,h:height},inner:{x:bounds.left+border.l,y:bounds.top+border.t,w:width-border.l-border.r,h:height-border.t-border.b}};}
function inRange(vm,x,y){var skipX=x===null;var skipY=y===null;var bounds=!vm||(skipX&&skipY)?false:getBarBounds(vm);return bounds&&(skipX||x>=bounds.left&&x<=bounds.right)&&(skipY||y>=bounds.top&&y<=bounds.bottom);}
var element_rectangle=core_element.extend({_type:'rectangle',draw:function(){var ctx=this._chart.ctx;var vm=this._view;var rects=boundingRects(vm);var outer=rects.outer;var inner=rects.inner;ctx.fillStyle=vm.backgroundColor;ctx.fillRect(outer.x,outer.y,outer.w,outer.h);if(outer.w===inner.w&&outer.h===inner.h){return;}
ctx.save();ctx.beginPath();ctx.rect(outer.x,outer.y,outer.w,outer.h);ctx.clip();ctx.fillStyle=vm.borderColor;ctx.rect(inner.x,inner.y,inner.w,inner.h);ctx.fill('evenodd');ctx.restore();},height:function(){var vm=this._view;return vm.base-vm.y;},inRange:function(mouseX,mouseY){return inRange(this._view,mouseX,mouseY);},inLabelRange:function(mouseX,mouseY){var vm=this._view;return isVertical(vm)?inRange(vm,mouseX,null):inRange(vm,null,mouseY);},inXRange:function(mouseX){return inRange(this._view,mouseX,null);},inYRange:function(mouseY){return inRange(this._view,null,mouseY);},getCenterPoint:function(){var vm=this._view;var x,y;if(isVertical(vm)){x=vm.x;y=(vm.y+vm.base)/ 2;}else{x=(vm.x+vm.base)/ 2;y=vm.y;}
return{x:x,y:y};},getArea:function(){var vm=this._view;return isVertical(vm)?vm.width*Math.abs(vm.y-vm.base):vm.height*Math.abs(vm.x-vm.base);},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y};}});var elements={};var Arc=element_arc;var Line=element_line;var Point=element_point;var Rectangle=element_rectangle;elements.Arc=Arc;elements.Line=Line;elements.Point=Point;elements.Rectangle=Rectangle;var deprecated=helpers$1._deprecated;var valueOrDefault$3=helpers$1.valueOrDefault;core_defaults._set('bar',{hover:{mode:'label'},scales:{xAxes:[{type:'category',offset:true,gridLines:{offsetGridLines:true}}],yAxes:[{type:'linear'}]}});core_defaults._set('global',{datasets:{bar:{categoryPercentage:0.8,barPercentage:0.9}}});function computeMinSampleSize(scale,pixels){var min=scale._length;var prev,curr,i,ilen;for(i=1,ilen=pixels.length;i<ilen;++i){min=Math.min(min,Math.abs(pixels[i]-pixels[i-1]));}
for(i=0,ilen=scale.getTicks().length;i<ilen;++i){curr=scale.getPixelForTick(i);min=i>0?Math.min(min,Math.abs(curr-prev)):min;prev=curr;}
return min;}
function computeFitCategoryTraits(index,ruler,options){var thickness=options.barThickness;var count=ruler.stackCount;var curr=ruler.pixels[index];var min=helpers$1.isNullOrUndef(thickness)?computeMinSampleSize(ruler.scale,ruler.pixels):-1;var size,ratio;if(helpers$1.isNullOrUndef(thickness)){size=min*options.categoryPercentage;ratio=options.barPercentage;}else{size=thickness*count;ratio=1;}
return{chunk:size / count,ratio:ratio,start:curr-(size / 2)};}
function computeFlexCategoryTraits(index,ruler,options){var pixels=ruler.pixels;var curr=pixels[index];var prev=index>0?pixels[index-1]:null;var next=index<pixels.length-1?pixels[index+1]:null;var percent=options.categoryPercentage;var start,size;if(prev===null){prev=curr-(next===null?ruler.end-ruler.start:next-curr);}
if(next===null){next=curr+curr-prev;}
start=curr-(curr-Math.min(prev,next))/ 2*percent;size=Math.abs(next-prev)/ 2*percent;return{chunk:size / ruler.stackCount,ratio:options.barPercentage,start:start};}
var controller_bar=core_datasetController.extend({dataElementType:elements.Rectangle,_dataElementOptions:['backgroundColor','borderColor','borderSkipped','borderWidth','barPercentage','barThickness','categoryPercentage','maxBarThickness','minBarLength'],initialize:function(){var me=this;var meta,scaleOpts;core_datasetController.prototype.initialize.apply(me,arguments);meta=me.getMeta();meta.stack=me.getDataset().stack;meta.bar=true;scaleOpts=me._getIndexScale().options;deprecated('bar chart',scaleOpts.barPercentage,'scales.[x/y]Axes.barPercentage','dataset.barPercentage');deprecated('bar chart',scaleOpts.barThickness,'scales.[x/y]Axes.barThickness','dataset.barThickness');deprecated('bar chart',scaleOpts.categoryPercentage,'scales.[x/y]Axes.categoryPercentage','dataset.categoryPercentage');deprecated('bar chart',me._getValueScale().options.minBarLength,'scales.[x/y]Axes.minBarLength','dataset.minBarLength');deprecated('bar chart',scaleOpts.maxBarThickness,'scales.[x/y]Axes.maxBarThickness','dataset.maxBarThickness');},update:function(reset){var me=this;var rects=me.getMeta().data;var i,ilen;me._ruler=me.getRuler();for(i=0,ilen=rects.length;i<ilen;++i){me.updateElement(rects[i],i,reset);}},updateElement:function(rectangle,index,reset){var me=this;var meta=me.getMeta();var dataset=me.getDataset();var options=me._resolveDataElementOptions(rectangle,index);rectangle._xScale=me.getScaleForId(meta.xAxisID);rectangle._yScale=me.getScaleForId(meta.yAxisID);rectangle._datasetIndex=me.index;rectangle._index=index;rectangle._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderSkipped:options.borderSkipped,borderWidth:options.borderWidth,datasetLabel:dataset.label,label:me.chart.data.labels[index]};if(helpers$1.isArray(dataset.data[index])){rectangle._model.borderSkipped=null;}
me._updateElementGeometry(rectangle,index,reset,options);rectangle.pivot();},_updateElementGeometry:function(rectangle,index,reset,options){var me=this;var model=rectangle._model;var vscale=me._getValueScale();var base=vscale.getBasePixel();var horizontal=vscale.isHorizontal();var ruler=me._ruler||me.getRuler();var vpixels=me.calculateBarValuePixels(me.index,index,options);var ipixels=me.calculateBarIndexPixels(me.index,index,ruler,options);model.horizontal=horizontal;model.base=reset?base:vpixels.base;model.x=horizontal?reset?base:vpixels.head:ipixels.center;model.y=horizontal?ipixels.center:reset?base:vpixels.head;model.height=horizontal?ipixels.size:undefined;model.width=horizontal?undefined:ipixels.size;},_getStacks:function(last){var me=this;var scale=me._getIndexScale();var metasets=scale._getMatchingVisibleMetas(me._type);var stacked=scale.options.stacked;var ilen=metasets.length;var stacks=[];var i,meta;for(i=0;i<ilen;++i){meta=metasets[i];if(stacked===false||stacks.indexOf(meta.stack)===-1||(stacked===undefined&&meta.stack===undefined)){stacks.push(meta.stack);}
if(meta.index===last){break;}}
return stacks;},getStackCount:function(){return this._getStacks().length;},getStackIndex:function(datasetIndex,name){var stacks=this._getStacks(datasetIndex);var index=(name!==undefined)?stacks.indexOf(name):-1;return(index===-1)?stacks.length-1:index;},getRuler:function(){var me=this;var scale=me._getIndexScale();var pixels=[];var i,ilen;for(i=0,ilen=me.getMeta().data.length;i<ilen;++i){pixels.push(scale.getPixelForValue(null,i,me.index));}
return{pixels:pixels,start:scale._startPixel,end:scale._endPixel,stackCount:me.getStackCount(),scale:scale};},calculateBarValuePixels:function(datasetIndex,index,options){var me=this;var chart=me.chart;var scale=me._getValueScale();var isHorizontal=scale.isHorizontal();var datasets=chart.data.datasets;var metasets=scale._getMatchingVisibleMetas(me._type);var value=scale._parseValue(datasets[datasetIndex].data[index]);var minBarLength=options.minBarLength;var stacked=scale.options.stacked;var stack=me.getMeta().stack;var start=value.start===undefined?0:value.max>=0&&value.min>=0?value.min:value.max;var length=value.start===undefined?value.end:value.max>=0&&value.min>=0?value.max-value.min:value.min-value.max;var ilen=metasets.length;var i,imeta,ivalue,base,head,size,stackLength;if(stacked||(stacked===undefined&&stack!==undefined)){for(i=0;i<ilen;++i){imeta=metasets[i];if(imeta.index===datasetIndex){break;}
if(imeta.stack===stack){stackLength=scale._parseValue(datasets[imeta.index].data[index]);ivalue=stackLength.start===undefined?stackLength.end:stackLength.min>=0&&stackLength.max>=0?stackLength.max:stackLength.min;if((value.min<0&&ivalue<0)||(value.max>=0&&ivalue>0)){start+=ivalue;}}}}
base=scale.getPixelForValue(start);head=scale.getPixelForValue(start+length);size=head-base;if(minBarLength!==undefined&&Math.abs(size)<minBarLength){size=minBarLength;if(length>=0&&!isHorizontal||length<0&&isHorizontal){head=base-minBarLength;}else{head=base+minBarLength;}}
return{size:size,base:base,head:head,center:head+size / 2};},calculateBarIndexPixels:function(datasetIndex,index,ruler,options){var me=this;var range=options.barThickness==='flex'?computeFlexCategoryTraits(index,ruler,options):computeFitCategoryTraits(index,ruler,options);var stackIndex=me.getStackIndex(datasetIndex,me.getMeta().stack);var center=range.start+(range.chunk*stackIndex)+(range.chunk / 2);var size=Math.min(valueOrDefault$3(options.maxBarThickness,Infinity),range.chunk*range.ratio);return{base:center-size / 2,head:center+size / 2,center:center,size:size};},draw:function(){var me=this;var chart=me.chart;var scale=me._getValueScale();var rects=me.getMeta().data;var dataset=me.getDataset();var ilen=rects.length;var i=0;helpers$1.canvas.clipArea(chart.ctx,chart.chartArea);for(;i<ilen;++i){var val=scale._parseValue(dataset.data[i]);if(!isNaN(val.min)&&!isNaN(val.max)){rects[i].draw();}}
helpers$1.canvas.unclipArea(chart.ctx);},_resolveDataElementOptions:function(){var me=this;var values=helpers$1.extend({},core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments));var indexOpts=me._getIndexScale().options;var valueOpts=me._getValueScale().options;values.barPercentage=valueOrDefault$3(indexOpts.barPercentage,values.barPercentage);values.barThickness=valueOrDefault$3(indexOpts.barThickness,values.barThickness);values.categoryPercentage=valueOrDefault$3(indexOpts.categoryPercentage,values.categoryPercentage);values.maxBarThickness=valueOrDefault$3(indexOpts.maxBarThickness,values.maxBarThickness);values.minBarLength=valueOrDefault$3(valueOpts.minBarLength,values.minBarLength);return values;}});var valueOrDefault$4=helpers$1.valueOrDefault;var resolve$1=helpers$1.options.resolve;core_defaults._set('bubble',{hover:{mode:'single'},scales:{xAxes:[{type:'linear',position:'bottom',id:'x-axis-0'}],yAxes:[{type:'linear',position:'left',id:'y-axis-0'}]},tooltips:{callbacks:{title:function(){return'';},label:function(item,data){var datasetLabel=data.datasets[item.datasetIndex].label||'';var dataPoint=data.datasets[item.datasetIndex].data[item.index];return datasetLabel+': ('+item.xLabel+', '+item.yLabel+', '+dataPoint.r+')';}}}});var controller_bubble=core_datasetController.extend({dataElementType:elements.Point,_dataElementOptions:['backgroundColor','borderColor','borderWidth','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth','hoverRadius','hitRadius','pointStyle','rotation'],update:function(reset){var me=this;var meta=me.getMeta();var points=meta.data;helpers$1.each(points,function(point,index){me.updateElement(point,index,reset);});},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var xScale=me.getScaleForId(meta.xAxisID);var yScale=me.getScaleForId(meta.yAxisID);var options=me._resolveDataElementOptions(point,index);var data=me.getDataset().data[index];var dsIndex=me.index;var x=reset?xScale.getPixelForDecimal(0.5):xScale.getPixelForValue(typeof data==='object'?data:NaN,index,dsIndex);var y=reset?yScale.getBasePixel():yScale.getPixelForValue(data,index,dsIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=dsIndex;point._index=index;point._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,hitRadius:options.hitRadius,pointStyle:options.pointStyle,rotation:options.rotation,radius:reset?0:options.radius,skip:custom.skip||isNaN(x)||isNaN(y),x:x,y:y,};point.pivot();},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$4(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$4(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$4(options.hoverBorderWidth,options.borderWidth);model.radius=options.radius+options.hoverRadius;},_resolveDataElementOptions:function(point,index){var me=this;var chart=me.chart;var dataset=me.getDataset();var custom=point.custom||{};var data=dataset.data[index]||{};var values=core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments);var context={chart:chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};if(me._cachedDataOpts===values){values=helpers$1.extend({},values);}
values.radius=resolve$1([custom.radius,data.r,me._config.radius,chart.options.elements.point.radius],context,index);return values;}});var valueOrDefault$5=helpers$1.valueOrDefault;var PI$1=Math.PI;var DOUBLE_PI$1=PI$1*2;var HALF_PI$1=PI$1 / 2;core_defaults._set('doughnut',{animation:{animateRotate:true,animateScale:false},hover:{mode:'single'},legendCallback:function(chart){var list=document.createElement('ul');var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]));}}}
return list.outerHTML;},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i};});}
return[];}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.data[index]){meta.data[index].hidden=!meta.data[index].hidden;}}
chart.update();}},cutoutPercentage:50,rotation:-HALF_PI$1,circumference:DOUBLE_PI$1,tooltips:{callbacks:{title:function(){return'';},label:function(tooltipItem,data){var dataLabel=data.labels[tooltipItem.index];var value=': '+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];if(helpers$1.isArray(dataLabel)){dataLabel=dataLabel.slice();dataLabel[0]+=value;}else{dataLabel+=value;}
return dataLabel;}}}});var controller_doughnut=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:['backgroundColor','borderColor','borderWidth','borderAlign','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth',],getRingIndex:function(datasetIndex){var ringIndex=0;for(var j=0;j<datasetIndex;++j){if(this.chart.isDatasetVisible(j)){++ringIndex;}}
return ringIndex;},update:function(reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var ratioX=1;var ratioY=1;var offsetX=0;var offsetY=0;var meta=me.getMeta();var arcs=meta.data;var cutout=opts.cutoutPercentage / 100||0;var circumference=opts.circumference;var chartWeight=me._getRingWeight(me.index);var maxWidth,maxHeight,i,ilen;if(circumference<DOUBLE_PI$1){var startAngle=opts.rotation%DOUBLE_PI$1;startAngle+=startAngle>=PI$1?-DOUBLE_PI$1:startAngle<-PI$1?DOUBLE_PI$1:0;var endAngle=startAngle+circumference;var startX=Math.cos(startAngle);var startY=Math.sin(startAngle);var endX=Math.cos(endAngle);var endY=Math.sin(endAngle);var contains0=(startAngle<=0&&endAngle>=0)||endAngle>=DOUBLE_PI$1;var contains90=(startAngle<=HALF_PI$1&&endAngle>=HALF_PI$1)||endAngle>=DOUBLE_PI$1+HALF_PI$1;var contains180=startAngle===-PI$1||endAngle>=PI$1;var contains270=(startAngle<=-HALF_PI$1&&endAngle>=-HALF_PI$1)||endAngle>=PI$1+HALF_PI$1;var minX=contains180?-1:Math.min(startX,startX*cutout,endX,endX*cutout);var minY=contains270?-1:Math.min(startY,startY*cutout,endY,endY*cutout);var maxX=contains0?1:Math.max(startX,startX*cutout,endX,endX*cutout);var maxY=contains90?1:Math.max(startY,startY*cutout,endY,endY*cutout);ratioX=(maxX-minX)/ 2;ratioY=(maxY-minY)/ 2;offsetX=-(maxX+minX)/ 2;offsetY=-(maxY+minY)/ 2;}
for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i);}
chart.borderWidth=me.getMaxBorderWidth();maxWidth=(chartArea.right-chartArea.left-chart.borderWidth)/ ratioX;maxHeight=(chartArea.bottom-chartArea.top-chart.borderWidth)/ ratioY;chart.outerRadius=Math.max(Math.min(maxWidth,maxHeight)/ 2,0);chart.innerRadius=Math.max(chart.outerRadius*cutout,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/(me._getVisibleDatasetWeightTotal()||1);chart.offsetX=offsetX*chart.outerRadius;chart.offsetY=offsetY*chart.outerRadius;meta.total=me.calculateTotal();me.outerRadius=chart.outerRadius-chart.radiusLength*me._getRingWeightOffset(me.index);me.innerRadius=Math.max(me.outerRadius-chart.radiusLength*chartWeight,0);for(i=0,ilen=arcs.length;i<ilen;++i){me.updateElement(arcs[i],i,reset);}},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var animationOpts=opts.animation;var centerX=(chartArea.left+chartArea.right)/ 2;var centerY=(chartArea.top+chartArea.bottom)/ 2;var startAngle=opts.rotation;var endAngle=opts.rotation;var dataset=me.getDataset();var circumference=reset&&animationOpts.animateRotate?0:arc.hidden?0:me.calculateCircumference(dataset.data[index])*(opts.circumference / DOUBLE_PI$1);var innerRadius=reset&&animationOpts.animateScale?0:me.innerRadius;var outerRadius=reset&&animationOpts.animateScale?0:me.outerRadius;var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX+chart.offsetX,y:centerY+chart.offsetY,startAngle:startAngle,endAngle:endAngle,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius,label:helpers$1.valueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])}});var model=arc._model;if(!reset||!animationOpts.animateRotate){if(index===0){model.startAngle=opts.rotation;}else{model.startAngle=me.getMeta().data[index-1]._model.endAngle;}
model.endAngle=model.startAngle+model.circumference;}
arc.pivot();},calculateTotal:function(){var dataset=this.getDataset();var meta=this.getMeta();var total=0;var value;helpers$1.each(meta.data,function(element,index){value=dataset.data[index];if(!isNaN(value)&&!element.hidden){total+=Math.abs(value);}});return total;},calculateCircumference:function(value){var total=this.getMeta().total;if(total>0&&!isNaN(value)){return DOUBLE_PI$1*(Math.abs(value)/ total);}
return 0;},getMaxBorderWidth:function(arcs){var me=this;var max=0;var chart=me.chart;var i,ilen,meta,arc,controller,options,borderWidth,hoverWidth;if(!arcs){for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);arcs=meta.data;if(i!==me.index){controller=meta.controller;}
break;}}}
if(!arcs){return 0;}
for(i=0,ilen=arcs.length;i<ilen;++i){arc=arcs[i];if(controller){controller._configure();options=controller._resolveDataElementOptions(arc,i);}else{options=arc._options;}
if(options.borderAlign!=='inner'){borderWidth=options.borderWidth;hoverWidth=options.hoverBorderWidth;max=borderWidth>max?borderWidth:max;max=hoverWidth>max?hoverWidth:max;}}
return max;},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,};model.backgroundColor=valueOrDefault$5(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$5(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$5(options.hoverBorderWidth,options.borderWidth);},_getRingWeightOffset:function(datasetIndex){var ringWeightOffset=0;for(var i=0;i<datasetIndex;++i){if(this.chart.isDatasetVisible(i)){ringWeightOffset+=this._getRingWeight(i);}}
return ringWeightOffset;},_getRingWeight:function(dataSetIndex){return Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight,1),0);},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length);}});core_defaults._set('horizontalBar',{hover:{mode:'index',axis:'y'},scales:{xAxes:[{type:'linear',position:'bottom'}],yAxes:[{type:'category',position:'left',offset:true,gridLines:{offsetGridLines:true}}]},elements:{rectangle:{borderSkipped:'left'}},tooltips:{mode:'index',axis:'y'}});core_defaults._set('global',{datasets:{horizontalBar:{categoryPercentage:0.8,barPercentage:0.9}}});var controller_horizontalBar=controller_bar.extend({_getValueScaleId:function(){return this.getMeta().xAxisID;},_getIndexScaleId:function(){return this.getMeta().yAxisID;}});var valueOrDefault$6=helpers$1.valueOrDefault;var resolve$2=helpers$1.options.resolve;var isPointInArea=helpers$1.canvas._isPointInArea;core_defaults._set('line',{showLines:true,spanGaps:false,hover:{mode:'label'},scales:{xAxes:[{type:'category',id:'x-axis-0'}],yAxes:[{type:'linear',id:'y-axis-0'}]}});function scaleClip(scale,halfBorderWidth){var tickOpts=scale&&scale.options.ticks||{};var reverse=tickOpts.reverse;var min=tickOpts.min===undefined?halfBorderWidth:0;var max=tickOpts.max===undefined?halfBorderWidth:0;return{start:reverse?max:min,end:reverse?min:max};}
function defaultClip(xScale,yScale,borderWidth){var halfBorderWidth=borderWidth / 2;var x=scaleClip(xScale,halfBorderWidth);var y=scaleClip(yScale,halfBorderWidth);return{top:y.end,right:x.end,bottom:y.start,left:x.start};}
function toClip(value){var t,r,b,l;if(helpers$1.isObject(value)){t=value.top;r=value.right;b=value.bottom;l=value.left;}else{t=r=b=l=value;}
return{top:t,right:r,bottom:b,left:l};}
var controller_line=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,_datasetElementOptions:['backgroundColor','borderCapStyle','borderColor','borderDash','borderDashOffset','borderJoinStyle','borderWidth','cubicInterpolationMode','fill'],_dataElementOptions:{backgroundColor:'pointBackgroundColor',borderColor:'pointBorderColor',borderWidth:'pointBorderWidth',hitRadius:'pointHitRadius',hoverBackgroundColor:'pointHoverBackgroundColor',hoverBorderColor:'pointHoverBorderColor',hoverBorderWidth:'pointHoverBorderWidth',hoverRadius:'pointHoverRadius',pointStyle:'pointStyle',radius:'pointRadius',rotation:'pointRotation'},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var options=me.chart.options;var config=me._config;var showLine=me._showLine=valueOrDefault$6(config.showLine,options.showLines);var i,ilen;me._xScale=me.getScaleForId(meta.xAxisID);me._yScale=me.getScaleForId(meta.yAxisID);if(showLine){if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension;}
line._scale=me._yScale;line._datasetIndex=me.index;line._children=points;line._model=me._resolveDatasetElementOptions(line);line.pivot();}
for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset);}
if(showLine&&line._model.tension!==0){me.updateBezierControlPoints();}
for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot();}},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var dataset=me.getDataset();var datasetIndex=me.index;var value=dataset.data[index];var xScale=me._xScale;var yScale=me._yScale;var lineModel=meta.dataset._model;var x,y;var options=me._resolveDataElementOptions(point,index);x=xScale.getPixelForValue(typeof value==='object'?value:NaN,index,datasetIndex);y=reset?yScale.getBasePixel():me.calculatePointY(value,index,datasetIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=datasetIndex;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$6(custom.tension,lineModel?lineModel.tension:0),steppedLine:lineModel?lineModel.steppedLine:false,hitRadius:options.hitRadius};},_resolveDatasetElementOptions:function(element){var me=this;var config=me._config;var custom=element.custom||{};var options=me.chart.options;var lineOptions=options.elements.line;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$6(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$6(config.lineTension,lineOptions.tension);values.steppedLine=resolve$2([custom.steppedLine,config.steppedLine,lineOptions.stepped]);values.clip=toClip(valueOrDefault$6(config.clip,defaultClip(me._xScale,me._yScale,values.borderWidth)));return values;},calculatePointY:function(value,index,datasetIndex){var me=this;var chart=me.chart;var yScale=me._yScale;var sumPos=0;var sumNeg=0;var i,ds,dsMeta,stackedRightValue,rightValue,metasets,ilen;if(yScale.options.stacked){rightValue=+yScale.getRightValue(value);metasets=chart._getSortedVisibleDatasetMetas();ilen=metasets.length;for(i=0;i<ilen;++i){dsMeta=metasets[i];if(dsMeta.index===datasetIndex){break;}
ds=chart.data.datasets[dsMeta.index];if(dsMeta.type==='line'&&dsMeta.yAxisID===yScale.id){stackedRightValue=+yScale.getRightValue(ds.data[index]);if(stackedRightValue<0){sumNeg+=stackedRightValue||0;}else{sumPos+=stackedRightValue||0;}}}
if(rightValue<0){return yScale.getPixelForValue(sumNeg+rightValue);}
return yScale.getPixelForValue(sumPos+rightValue);}
return yScale.getPixelForValue(value);},updateBezierControlPoints:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var lineModel=meta.dataset._model;var area=chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(lineModel.spanGaps){points=points.filter(function(pt){return!pt._model.skip;});}
function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}
if(lineModel.cubicInterpolationMode==='monotone'){helpers$1.splineCurveMonotone(points);}else{for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i)._model,model,helpers$1.nextItem(points,i)._model,lineModel.tension);model.controlPointPreviousX=controlPoints.previous.x;model.controlPointPreviousY=controlPoints.previous.y;model.controlPointNextX=controlPoints.next.x;model.controlPointNextY=controlPoints.next.y;}}
if(chart.options.elements.line.capBezierPoints){for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;if(isPointInArea(model,area)){if(i>0&&isPointInArea(points[i-1]._model,area)){model.controlPointPreviousX=capControlPoint(model.controlPointPreviousX,area.left,area.right);model.controlPointPreviousY=capControlPoint(model.controlPointPreviousY,area.top,area.bottom);}
if(i<points.length-1&&isPointInArea(points[i+1]._model,area)){model.controlPointNextX=capControlPoint(model.controlPointNextX,area.left,area.right);model.controlPointNextY=capControlPoint(model.controlPointNextY,area.top,area.bottom);}}}}},draw:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var points=meta.data||[];var area=chart.chartArea;var canvas=chart.canvas;var i=0;var ilen=points.length;var clip;if(me._showLine){clip=meta.dataset._model.clip;helpers$1.canvas.clipArea(chart.ctx,{left:clip.left===false?0:area.left-clip.left,right:clip.right===false?canvas.width:area.right+clip.right,top:clip.top===false?0:area.top-clip.top,bottom:clip.bottom===false?canvas.height:area.bottom+clip.bottom});meta.dataset.draw();helpers$1.canvas.unclipArea(chart.ctx);}
for(;i<ilen;++i){points[i].draw(area);}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$6(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$6(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$6(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$6(options.hoverRadius,options.radius);},});var resolve$3=helpers$1.options.resolve;core_defaults._set('polarArea',{scale:{type:'radialLinear',angleLines:{display:false},gridLines:{circular:true},pointLabels:{display:false},ticks:{beginAtZero:true}},animation:{animateRotate:true,animateScale:true},startAngle:-0.5*Math.PI,legendCallback:function(chart){var list=document.createElement('ul');var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]));}}}
return list.outerHTML;},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i};});}
return[];}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden;}
chart.update();}},tooltips:{callbacks:{title:function(){return'';},label:function(item,data){return data.labels[item.index]+': '+item.yLabel;}}}});var controller_polarArea=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:['backgroundColor','borderColor','borderWidth','borderAlign','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth',],_getIndexScaleId:function(){return this.chart.scale.id;},_getValueScaleId:function(){return this.chart.scale.id;},update:function(reset){var me=this;var dataset=me.getDataset();var meta=me.getMeta();var start=me.chart.options.startAngle||0;var starts=me._starts=[];var angles=me._angles=[];var arcs=meta.data;var i,ilen,angle;me._updateRadius();meta.count=me.countVisibleElements();for(i=0,ilen=dataset.data.length;i<ilen;i++){starts[i]=start;angle=me._computeAngle(i);angles[i]=angle;start+=angle;}
for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i);me.updateElement(arcs[i],i,reset);}},_updateRadius:function(){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);chart.outerRadius=Math.max(minSize / 2,0);chart.innerRadius=Math.max(opts.cutoutPercentage?(chart.outerRadius / 100)*(opts.cutoutPercentage):1,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/ chart.getVisibleDatasetCount();me.outerRadius=chart.outerRadius-(chart.radiusLength*me.index);me.innerRadius=me.outerRadius-chart.radiusLength;},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var dataset=me.getDataset();var opts=chart.options;var animationOpts=opts.animation;var scale=chart.scale;var labels=chart.data.labels;var centerX=scale.xCenter;var centerY=scale.yCenter;var datasetStartAngle=opts.startAngle;var distance=arc.hidden?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var startAngle=me._starts[index];var endAngle=startAngle+(arc.hidden?0:me._angles[index]);var resetRadius=animationOpts.animateScale?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX,y:centerY,innerRadius:0,outerRadius:reset?resetRadius:distance,startAngle:reset&&animationOpts.animateRotate?datasetStartAngle:startAngle,endAngle:reset&&animationOpts.animateRotate?datasetStartAngle:endAngle,label:helpers$1.valueAtIndexOrDefault(labels,index,labels[index])}});arc.pivot();},countVisibleElements:function(){var dataset=this.getDataset();var meta=this.getMeta();var count=0;helpers$1.each(meta.data,function(element,index){if(!isNaN(dataset.data[index])&&!element.hidden){count++;}});return count;},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;var valueOrDefault=helpers$1.valueOrDefault;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,};model.backgroundColor=valueOrDefault(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault(options.hoverBorderWidth,options.borderWidth);},_computeAngle:function(index){var me=this;var count=this.getMeta().count;var dataset=me.getDataset();var meta=me.getMeta();if(isNaN(dataset.data[index])||meta.data[index].hidden){return 0;}
var context={chart:me.chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};return resolve$3([me.chart.options.elements.arc.angle,(2*Math.PI)/ count],context,index);}});core_defaults._set('pie',helpers$1.clone(core_defaults.doughnut));core_defaults._set('pie',{cutoutPercentage:0});var controller_pie=controller_doughnut;var valueOrDefault$7=helpers$1.valueOrDefault;core_defaults._set('radar',{spanGaps:false,scale:{type:'radialLinear'},elements:{line:{fill:'start',tension:0}}});var controller_radar=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,linkScales:helpers$1.noop,_datasetElementOptions:['backgroundColor','borderWidth','borderColor','borderCapStyle','borderDash','borderDashOffset','borderJoinStyle','fill'],_dataElementOptions:{backgroundColor:'pointBackgroundColor',borderColor:'pointBorderColor',borderWidth:'pointBorderWidth',hitRadius:'pointHitRadius',hoverBackgroundColor:'pointHoverBackgroundColor',hoverBorderColor:'pointHoverBorderColor',hoverBorderWidth:'pointHoverBorderWidth',hoverRadius:'pointHoverRadius',pointStyle:'pointStyle',radius:'pointRadius',rotation:'pointRotation'},_getIndexScaleId:function(){return this.chart.scale.id;},_getValueScaleId:function(){return this.chart.scale.id;},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var scale=me.chart.scale;var config=me._config;var i,ilen;if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension;}
line._scale=scale;line._datasetIndex=me.index;line._children=points;line._loop=true;line._model=me._resolveDatasetElementOptions(line);line.pivot();for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset);}
me.updateBezierControlPoints();for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot();}},updateElement:function(point,index,reset){var me=this;var custom=point.custom||{};var dataset=me.getDataset();var scale=me.chart.scale;var pointPosition=scale.getPointPositionForValue(index,dataset.data[index]);var options=me._resolveDataElementOptions(point,index);var lineModel=me.getMeta().dataset._model;var x=reset?scale.xCenter:pointPosition.x;var y=reset?scale.yCenter:pointPosition.y;point._scale=scale;point._options=options;point._datasetIndex=me.index;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$7(custom.tension,lineModel?lineModel.tension:0),hitRadius:options.hitRadius};},_resolveDatasetElementOptions:function(){var me=this;var config=me._config;var options=me.chart.options;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$7(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$7(config.lineTension,options.elements.line.tension);return values;},updateBezierControlPoints:function(){var me=this;var meta=me.getMeta();var area=me.chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(meta.dataset._model.spanGaps){points=points.filter(function(pt){return!pt._model.skip;});}
function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}
for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i,true)._model,model,helpers$1.nextItem(points,i,true)._model,model.tension);model.controlPointPreviousX=capControlPoint(controlPoints.previous.x,area.left,area.right);model.controlPointPreviousY=capControlPoint(controlPoints.previous.y,area.top,area.bottom);model.controlPointNextX=capControlPoint(controlPoints.next.x,area.left,area.right);model.controlPointNextY=capControlPoint(controlPoints.next.y,area.top,area.bottom);}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$7(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$7(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$7(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$7(options.hoverRadius,options.radius);}});core_defaults._set('scatter',{hover:{mode:'single'},scales:{xAxes:[{id:'x-axis-1',type:'linear',position:'bottom'}],yAxes:[{id:'y-axis-1',type:'linear',position:'left'}]},tooltips:{callbacks:{title:function(){return'';},label:function(item){return'('+item.xLabel+', '+item.yLabel+')';}}}});core_defaults._set('global',{datasets:{scatter:{showLine:false}}});var controller_scatter=controller_line;var controllers={bar:controller_bar,bubble:controller_bubble,doughnut:controller_doughnut,horizontalBar:controller_horizontalBar,line:controller_line,polarArea:controller_polarArea,pie:controller_pie,radar:controller_radar,scatter:controller_scatter};function getRelativePosition(e,chart){if(e.native){return{x:e.x,y:e.y};}
return helpers$1.getRelativePosition(e,chart);}
function parseVisibleItems(chart,handler){var metasets=chart._getSortedVisibleDatasetMetas();var metadata,i,j,ilen,jlen,element;for(i=0,ilen=metasets.length;i<ilen;++i){metadata=metasets[i].data;for(j=0,jlen=metadata.length;j<jlen;++j){element=metadata[j];if(!element._view.skip){handler(element);}}}}
function getIntersectItems(chart,position){var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);}});return elements;}
function getNearestItems(chart,position,intersect,distanceMetric){var minDistance=Number.POSITIVE_INFINITY;var nearestItems=[];parseVisibleItems(chart,function(element){if(intersect&&!element.inRange(position.x,position.y)){return;}
var center=element.getCenterPoint();var distance=distanceMetric(position,center);if(distance<minDistance){nearestItems=[element];minDistance=distance;}else if(distance===minDistance){nearestItems.push(element);}});return nearestItems;}
function getDistanceMetricForAxis(axis){var useX=axis.indexOf('x')!==-1;var useY=axis.indexOf('y')!==-1;return function(pt1,pt2){var deltaX=useX?Math.abs(pt1.x-pt2.x):0;var deltaY=useY?Math.abs(pt1.y-pt2.y):0;return Math.sqrt(Math.pow(deltaX,2)+Math.pow(deltaY,2));};}
function indexMode(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'x';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);var elements=[];if(!items.length){return[];}
chart._getSortedVisibleDatasetMetas().forEach(function(meta){var element=meta.data[items[0]._index];if(element&&!element._view.skip){elements.push(element);}});return elements;}
var core_interaction={modes:{single:function(chart,e){var position=getRelativePosition(e,chart);var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);return elements;}});return elements.slice(0,1);},label:indexMode,index:indexMode,dataset:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);if(items.length>0){items=chart.getDatasetMeta(items[0]._datasetIndex).data;}
return items;},'x-axis':function(chart,e){return indexMode(chart,e,{intersect:false});},point:function(chart,e){var position=getRelativePosition(e,chart);return getIntersectItems(chart,position);},nearest:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);return getNearestItems(chart,position,options.intersect,distanceMetric);},x:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inXRange(position.x)){items.push(element);}
if(element.inRange(position.x,position.y)){intersectsItem=true;}});if(options.intersect&&!intersectsItem){items=[];}
return items;},y:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inYRange(position.y)){items.push(element);}
if(element.inRange(position.x,position.y)){intersectsItem=true;}});if(options.intersect&&!intersectsItem){items=[];}
return items;}}};var extend=helpers$1.extend;function filterByPosition(array,position){return helpers$1.where(array,function(v){return v.pos===position;});}
function sortByWeight(array,reverse){return array.sort(function(a,b){var v0=reverse?b:a;var v1=reverse?a:b;return v0.weight===v1.weight?v0.index-v1.index:v0.weight-v1.weight;});}
function wrapBoxes(boxes){var layoutBoxes=[];var i,ilen,box;for(i=0,ilen=(boxes||[]).length;i<ilen;++i){box=boxes[i];layoutBoxes.push({index:i,box:box,pos:box.position,horizontal:box.isHorizontal(),weight:box.weight});}
return layoutBoxes;}
function setLayoutDims(layouts,params){var i,ilen,layout;for(i=0,ilen=layouts.length;i<ilen;++i){layout=layouts[i];layout.width=layout.horizontal?layout.box.fullWidth&&params.availableWidth:params.vBoxMaxWidth;layout.height=layout.horizontal&&params.hBoxMaxHeight;}}
function buildLayoutBoxes(boxes){var layoutBoxes=wrapBoxes(boxes);var left=sortByWeight(filterByPosition(layoutBoxes,'left'),true);var right=sortByWeight(filterByPosition(layoutBoxes,'right'));var top=sortByWeight(filterByPosition(layoutBoxes,'top'),true);var bottom=sortByWeight(filterByPosition(layoutBoxes,'bottom'));return{leftAndTop:left.concat(top),rightAndBottom:right.concat(bottom),chartArea:filterByPosition(layoutBoxes,'chartArea'),vertical:left.concat(right),horizontal:top.concat(bottom)};}
function getCombinedMax(maxPadding,chartArea,a,b){return Math.max(maxPadding[a],chartArea[a])+Math.max(maxPadding[b],chartArea[b]);}
function updateDims(chartArea,params,layout){var box=layout.box;var maxPadding=chartArea.maxPadding;var newWidth,newHeight;if(layout.size){chartArea[layout.pos]-=layout.size;}
layout.size=layout.horizontal?box.height:box.width;chartArea[layout.pos]+=layout.size;if(box.getPadding){var boxPadding=box.getPadding();maxPadding.top=Math.max(maxPadding.top,boxPadding.top);maxPadding.left=Math.max(maxPadding.left,boxPadding.left);maxPadding.bottom=Math.max(maxPadding.bottom,boxPadding.bottom);maxPadding.right=Math.max(maxPadding.right,boxPadding.right);}
newWidth=params.outerWidth-getCombinedMax(maxPadding,chartArea,'left','right');newHeight=params.outerHeight-getCombinedMax(maxPadding,chartArea,'top','bottom');if(newWidth!==chartArea.w||newHeight!==chartArea.h){chartArea.w=newWidth;chartArea.h=newHeight;var sizes=layout.horizontal?[newWidth,chartArea.w]:[newHeight,chartArea.h];return sizes[0]!==sizes[1]&&(!isNaN(sizes[0])||!isNaN(sizes[1]));}}
function handleMaxPadding(chartArea){var maxPadding=chartArea.maxPadding;function updatePos(pos){var change=Math.max(maxPadding[pos]-chartArea[pos],0);chartArea[pos]+=change;return change;}
chartArea.y+=updatePos('top');chartArea.x+=updatePos('left');updatePos('right');updatePos('bottom');}
function getMargins(horizontal,chartArea){var maxPadding=chartArea.maxPadding;function marginForPositions(positions){var margin={left:0,top:0,right:0,bottom:0};positions.forEach(function(pos){margin[pos]=Math.max(chartArea[pos],maxPadding[pos]);});return margin;}
return horizontal?marginForPositions(['left','right']):marginForPositions(['top','bottom']);}
function fitBoxes(boxes,chartArea,params){var refitBoxes=[];var i,ilen,layout,box,refit,changed;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;box.update(layout.width||chartArea.w,layout.height||chartArea.h,getMargins(layout.horizontal,chartArea));if(updateDims(chartArea,params,layout)){changed=true;if(refitBoxes.length){refit=true;}}
if(!box.fullWidth){refitBoxes.push(layout);}}
return refit?fitBoxes(refitBoxes,chartArea,params)||changed:changed;}
function placeBoxes(boxes,chartArea,params){var userPadding=params.padding;var x=chartArea.x;var y=chartArea.y;var i,ilen,layout,box;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;if(layout.horizontal){box.left=box.fullWidth?userPadding.left:chartArea.left;box.right=box.fullWidth?params.outerWidth-userPadding.right:chartArea.left+chartArea.w;box.top=y;box.bottom=y+box.height;box.width=box.right-box.left;y=box.bottom;}else{box.left=x;box.right=x+box.width;box.top=chartArea.top;box.bottom=chartArea.top+chartArea.h;box.height=box.bottom-box.top;x=box.right;}}
chartArea.x=x;chartArea.y=y;}
core_defaults._set('global',{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var core_layouts={defaults:{},addBox:function(chart,item){if(!chart.boxes){chart.boxes=[];}
item.fullWidth=item.fullWidth||false;item.position=item.position||'top';item.weight=item.weight||0;item._layers=item._layers||function(){return[{z:0,draw:function(){item.draw.apply(item,arguments);}}];};chart.boxes.push(item);},removeBox:function(chart,layoutItem){var index=chart.boxes?chart.boxes.indexOf(layoutItem):-1;if(index!==-1){chart.boxes.splice(index,1);}},configure:function(chart,item,options){var props=['fullWidth','position','weight'];var ilen=props.length;var i=0;var prop;for(;i<ilen;++i){prop=props[i];if(options.hasOwnProperty(prop)){item[prop]=options[prop];}}},update:function(chart,width,height){if(!chart){return;}
var layoutOptions=chart.options.layout||{};var padding=helpers$1.options.toPadding(layoutOptions.padding);var availableWidth=width-padding.width;var availableHeight=height-padding.height;var boxes=buildLayoutBoxes(chart.boxes);var verticalBoxes=boxes.vertical;var horizontalBoxes=boxes.horizontal;var params=Object.freeze({outerWidth:width,outerHeight:height,padding:padding,availableWidth:availableWidth,vBoxMaxWidth:availableWidth / 2 / verticalBoxes.length,hBoxMaxHeight:availableHeight / 2});var chartArea=extend({maxPadding:extend({},padding),w:availableWidth,h:availableHeight,x:padding.left,y:padding.top},padding);setLayoutDims(verticalBoxes.concat(horizontalBoxes),params);fitBoxes(verticalBoxes,chartArea,params);if(fitBoxes(horizontalBoxes,chartArea,params)){fitBoxes(verticalBoxes,chartArea,params);}
handleMaxPadding(chartArea);placeBoxes(boxes.leftAndTop,chartArea,params);chartArea.x+=chartArea.w;chartArea.y+=chartArea.h;placeBoxes(boxes.rightAndBottom,chartArea,params);chart.chartArea={left:chartArea.left,top:chartArea.top,right:chartArea.left+chartArea.w,bottom:chartArea.top+chartArea.h};helpers$1.each(boxes.chartArea,function(layout){var box=layout.box;extend(box,chart.chartArea);box.update(chartArea.w,chartArea.h);});}};var platform_basic={acquireContext:function(item){if(item&&item.canvas){item=item.canvas;}
return item&&item.getContext('2d')||null;}};var platform_dom="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n";var platform_dom$1=Object.freeze({__proto__:null,'default':platform_dom});var stylesheet=getCjsExportFromNamespace(platform_dom$1);var EXPANDO_KEY='$chartjs';var CSS_PREFIX='chartjs-';var CSS_SIZE_MONITOR=CSS_PREFIX+'size-monitor';var CSS_RENDER_MONITOR=CSS_PREFIX+'render-monitor';var CSS_RENDER_ANIMATION=CSS_PREFIX+'render-animation';var ANIMATION_START_EVENTS=['animationstart','webkitAnimationStart'];var EVENT_TYPES={touchstart:'mousedown',touchmove:'mousemove',touchend:'mouseup',pointerenter:'mouseenter',pointerdown:'mousedown',pointermove:'mousemove',pointerup:'mouseup',pointerleave:'mouseout',pointerout:'mouseout'};function readUsedSize(element,property){var value=helpers$1.getStyle(element,property);var matches=value&&value.match(/^(\d+)(\.\d+)?px$/);return matches?Number(matches[1]):undefined;}
function initCanvas(canvas,config){var style=canvas.style;var renderHeight=canvas.getAttribute('height');var renderWidth=canvas.getAttribute('width');canvas[EXPANDO_KEY]={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}};style.display=style.display||'block';if(renderWidth===null||renderWidth===''){var displayWidth=readUsedSize(canvas,'width');if(displayWidth!==undefined){canvas.width=displayWidth;}}
if(renderHeight===null||renderHeight===''){if(canvas.style.height===''){canvas.height=canvas.width /(config.options.aspectRatio||2);}else{var displayHeight=readUsedSize(canvas,'height');if(displayWidth!==undefined){canvas.height=displayHeight;}}}
return canvas;}
var supportsEventListenerOptions=(function(){var supports=false;try{var options=Object.defineProperty({},'passive',{get:function(){supports=true;}});window.addEventListener('e',null,options);}catch(e){}
return supports;}());var eventListenerOptions=supportsEventListenerOptions?{passive:true}:false;function addListener(node,type,listener){node.addEventListener(type,listener,eventListenerOptions);}
function removeListener(node,type,listener){node.removeEventListener(type,listener,eventListenerOptions);}
function createEvent(type,chart,x,y,nativeEvent){return{type:type,chart:chart,native:nativeEvent||null,x:x!==undefined?x:null,y:y!==undefined?y:null,};}
function fromNativeEvent(event,chart){var type=EVENT_TYPES[event.type]||event.type;var pos=helpers$1.getRelativePosition(event,chart);return createEvent(type,chart,pos.x,pos.y,event);}
function throttled(fn,thisArg){var ticking=false;var args=[];return function(){args=Array.prototype.slice.call(arguments);thisArg=thisArg||this;if(!ticking){ticking=true;helpers$1.requestAnimFrame.call(window,function(){ticking=false;fn.apply(thisArg,args);});}};}
function createDiv(cls){var el=document.createElement('div');el.className=cls||'';return el;}
function createResizer(handler){var maxSize=1000000;var resizer=createDiv(CSS_SIZE_MONITOR);var expand=createDiv(CSS_SIZE_MONITOR+'-expand');var shrink=createDiv(CSS_SIZE_MONITOR+'-shrink');expand.appendChild(createDiv());shrink.appendChild(createDiv());resizer.appendChild(expand);resizer.appendChild(shrink);resizer._reset=function(){expand.scrollLeft=maxSize;expand.scrollTop=maxSize;shrink.scrollLeft=maxSize;shrink.scrollTop=maxSize;};var onScroll=function(){resizer._reset();handler();};addListener(expand,'scroll',onScroll.bind(expand,'expand'));addListener(shrink,'scroll',onScroll.bind(shrink,'shrink'));return resizer;}
function watchForRender(node,handler){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var proxy=expando.renderProxy=function(e){if(e.animationName===CSS_RENDER_ANIMATION){handler();}};helpers$1.each(ANIMATION_START_EVENTS,function(type){addListener(node,type,proxy);});expando.reflow=!!node.offsetParent;node.classList.add(CSS_RENDER_MONITOR);}
function unwatchForRender(node){var expando=node[EXPANDO_KEY]||{};var proxy=expando.renderProxy;if(proxy){helpers$1.each(ANIMATION_START_EVENTS,function(type){removeListener(node,type,proxy);});delete expando.renderProxy;}
node.classList.remove(CSS_RENDER_MONITOR);}
function addResizeListener(node,listener,chart){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var resizer=expando.resizer=createResizer(throttled(function(){if(expando.resizer){var container=chart.options.maintainAspectRatio&&node.parentNode;var w=container?container.clientWidth:0;listener(createEvent('resize',chart));if(container&&container.clientWidth<w&&chart.canvas){listener(createEvent('resize',chart));}}}));watchForRender(node,function(){if(expando.resizer){var container=node.parentNode;if(container&&container!==resizer.parentNode){container.insertBefore(resizer,container.firstChild);}
resizer._reset();}});}
function removeResizeListener(node){var expando=node[EXPANDO_KEY]||{};var resizer=expando.resizer;delete expando.resizer;unwatchForRender(node);if(resizer&&resizer.parentNode){resizer.parentNode.removeChild(resizer);}}
function injectCSS(rootNode,css){var expando=rootNode[EXPANDO_KEY]||(rootNode[EXPANDO_KEY]={});if(!expando.containsStyles){expando.containsStyles=true;css='/* Chart.js */\n'+css;var style=document.createElement('style');style.setAttribute('type','text/css');style.appendChild(document.createTextNode(css));rootNode.appendChild(style);}}
var platform_dom$2={disableCSSInjection:false,_enabled:typeof window!=='undefined'&&typeof document!=='undefined',_ensureLoaded:function(canvas){if(!this.disableCSSInjection){var root=canvas.getRootNode?canvas.getRootNode():document;var targetNode=root.host?root:document.head;injectCSS(targetNode,stylesheet);}},acquireContext:function(item,config){if(typeof item==='string'){item=document.getElementById(item);}else if(item.length){item=item[0];}
if(item&&item.canvas){item=item.canvas;}
var context=item&&item.getContext&&item.getContext('2d');if(context&&context.canvas===item){this._ensureLoaded(item);initCanvas(item,config);return context;}
return null;},releaseContext:function(context){var canvas=context.canvas;if(!canvas[EXPANDO_KEY]){return;}
var initial=canvas[EXPANDO_KEY].initial;['height','width'].forEach(function(prop){var value=initial[prop];if(helpers$1.isNullOrUndef(value)){canvas.removeAttribute(prop);}else{canvas.setAttribute(prop,value);}});helpers$1.each(initial.style||{},function(value,key){canvas.style[key]=value;});canvas.width=canvas.width;delete canvas[EXPANDO_KEY];},addEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){addResizeListener(canvas,listener,chart);return;}
var expando=listener[EXPANDO_KEY]||(listener[EXPANDO_KEY]={});var proxies=expando.proxies||(expando.proxies={});var proxy=proxies[chart.id+'_'+type]=function(event){listener(fromNativeEvent(event,chart));};addListener(canvas,type,proxy);},removeEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){removeResizeListener(canvas);return;}
var expando=listener[EXPANDO_KEY]||{};var proxies=expando.proxies||{};var proxy=proxies[chart.id+'_'+type];if(!proxy){return;}
removeListener(canvas,type,proxy);}};helpers$1.addEvent=addListener;helpers$1.removeEvent=removeListener;var implementation=platform_dom$2._enabled?platform_dom$2:platform_basic;var platform=helpers$1.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},implementation);core_defaults._set('global',{plugins:{}});var core_plugins={_plugins:[],_cacheId:0,register:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){if(p.indexOf(plugin)===-1){p.push(plugin);}});this._cacheId++;},unregister:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){var idx=p.indexOf(plugin);if(idx!==-1){p.splice(idx,1);}});this._cacheId++;},clear:function(){this._plugins=[];this._cacheId++;},count:function(){return this._plugins.length;},getAll:function(){return this._plugins;},notify:function(chart,hook,args){var descriptors=this.descriptors(chart);var ilen=descriptors.length;var i,descriptor,plugin,params,method;for(i=0;i<ilen;++i){descriptor=descriptors[i];plugin=descriptor.plugin;method=plugin[hook];if(typeof method==='function'){params=[chart].concat(args||[]);params.push(descriptor.options);if(method.apply(plugin,params)===false){return false;}}}
return true;},descriptors:function(chart){var cache=chart.$plugins||(chart.$plugins={});if(cache.id===this._cacheId){return cache.descriptors;}
var plugins=[];var descriptors=[];var config=(chart&&chart.config)||{};var options=(config.options&&config.options.plugins)||{};this._plugins.concat(config.plugins||[]).forEach(function(plugin){var idx=plugins.indexOf(plugin);if(idx!==-1){return;}
var id=plugin.id;var opts=options[id];if(opts===false){return;}
if(opts===true){opts=helpers$1.clone(core_defaults.global.plugins[id]);}
plugins.push(plugin);descriptors.push({plugin:plugin,options:opts||{}});});cache.descriptors=descriptors;cache.id=this._cacheId;return descriptors;},_invalidate:function(chart){delete chart.$plugins;}};var core_scaleService={constructors:{},defaults:{},registerScaleType:function(type,scaleConstructor,scaleDefaults){this.constructors[type]=scaleConstructor;this.defaults[type]=helpers$1.clone(scaleDefaults);},getScaleConstructor:function(type){return this.constructors.hasOwnProperty(type)?this.constructors[type]:undefined;},getScaleDefaults:function(type){return this.defaults.hasOwnProperty(type)?helpers$1.merge(Object.create(null),[core_defaults.scale,this.defaults[type]]):{};},updateScaleDefaults:function(type,additions){var me=this;if(me.defaults.hasOwnProperty(type)){me.defaults[type]=helpers$1.extend(me.defaults[type],additions);}},addScalesToLayout:function(chart){helpers$1.each(chart.scales,function(scale){scale.fullWidth=scale.options.fullWidth;scale.position=scale.options.position;scale.weight=scale.options.weight;core_layouts.addBox(chart,scale);});}};var valueOrDefault$8=helpers$1.valueOrDefault;var getRtlHelper=helpers$1.rtl.getRtlAdapter;core_defaults._set('global',{tooltips:{enabled:true,custom:null,mode:'nearest',position:'average',intersect:true,backgroundColor:'rgba(0,0,0,0.8)',titleFontStyle:'bold',titleSpacing:2,titleMarginBottom:6,titleFontColor:'#fff',titleAlign:'left',bodySpacing:2,bodyFontColor:'#fff',bodyAlign:'left',footerFontStyle:'bold',footerSpacing:2,footerMarginTop:6,footerFontColor:'#fff',footerAlign:'left',yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:'#fff',displayColors:true,borderColor:'rgba(0,0,0,0)',borderWidth:0,callbacks:{beforeTitle:helpers$1.noop,title:function(tooltipItems,data){var title='';var labels=data.labels;var labelCount=labels?labels.length:0;if(tooltipItems.length>0){var item=tooltipItems[0];if(item.label){title=item.label;}else if(item.xLabel){title=item.xLabel;}else if(labelCount>0&&item.index<labelCount){title=labels[item.index];}}
return title;},afterTitle:helpers$1.noop,beforeBody:helpers$1.noop,beforeLabel:helpers$1.noop,label:function(tooltipItem,data){var label=data.datasets[tooltipItem.datasetIndex].label||'';if(label){label+=': ';}
if(!helpers$1.isNullOrUndef(tooltipItem.value)){label+=tooltipItem.value;}else{label+=tooltipItem.yLabel;}
return label;},labelColor:function(tooltipItem,chart){var meta=chart.getDatasetMeta(tooltipItem.datasetIndex);var activeElement=meta.data[tooltipItem.index];var view=activeElement._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor};},labelTextColor:function(){return this._options.bodyFontColor;},afterLabel:helpers$1.noop,afterBody:helpers$1.noop,beforeFooter:helpers$1.noop,footer:helpers$1.noop,afterFooter:helpers$1.noop}}});var positioners={average:function(elements){if(!elements.length){return false;}
var i,len;var x=0;var y=0;var count=0;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x;y+=pos.y;++count;}}
return{x:x / count,y:y / count};},nearest:function(elements,eventPosition){var x=eventPosition.x;var y=eventPosition.y;var minDistance=Number.POSITIVE_INFINITY;var i,len,nearestElement;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var center=el.getCenterPoint();var d=helpers$1.distanceBetweenPoints(eventPosition,center);if(d<minDistance){minDistance=d;nearestElement=el;}}}
if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x;y=tp.y;}
return{x:x,y:y};}};function pushOrConcat(base,toPush){if(toPush){if(helpers$1.isArray(toPush)){Array.prototype.push.apply(base,toPush);}else{base.push(toPush);}}
return base;}
function splitNewlines(str){if((typeof str==='string'||str instanceof String)&&str.indexOf('\n')>-1){return str.split('\n');}
return str;}
function createTooltipItem(element){var xScale=element._xScale;var yScale=element._yScale||element._scale;var index=element._index;var datasetIndex=element._datasetIndex;var controller=element._chart.getDatasetMeta(datasetIndex).controller;var indexScale=controller._getIndexScale();var valueScale=controller._getValueScale();return{xLabel:xScale?xScale.getLabelForIndex(index,datasetIndex):'',yLabel:yScale?yScale.getLabelForIndex(index,datasetIndex):'',label:indexScale?''+indexScale.getLabelForIndex(index,datasetIndex):'',value:valueScale?''+valueScale.getLabelForIndex(index,datasetIndex):'',index:index,datasetIndex:datasetIndex,x:element._model.x,y:element._model.y};}
function getBaseModel(tooltipOpts){var globalDefaults=core_defaults.global;return{xPadding:tooltipOpts.xPadding,yPadding:tooltipOpts.yPadding,xAlign:tooltipOpts.xAlign,yAlign:tooltipOpts.yAlign,rtl:tooltipOpts.rtl,textDirection:tooltipOpts.textDirection,bodyFontColor:tooltipOpts.bodyFontColor,_bodyFontFamily:valueOrDefault$8(tooltipOpts.bodyFontFamily,globalDefaults.defaultFontFamily),_bodyFontStyle:valueOrDefault$8(tooltipOpts.bodyFontStyle,globalDefaults.defaultFontStyle),_bodyAlign:tooltipOpts.bodyAlign,bodyFontSize:valueOrDefault$8(tooltipOpts.bodyFontSize,globalDefaults.defaultFontSize),bodySpacing:tooltipOpts.bodySpacing,titleFontColor:tooltipOpts.titleFontColor,_titleFontFamily:valueOrDefault$8(tooltipOpts.titleFontFamily,globalDefaults.defaultFontFamily),_titleFontStyle:valueOrDefault$8(tooltipOpts.titleFontStyle,globalDefaults.defaultFontStyle),titleFontSize:valueOrDefault$8(tooltipOpts.titleFontSize,globalDefaults.defaultFontSize),_titleAlign:tooltipOpts.titleAlign,titleSpacing:tooltipOpts.titleSpacing,titleMarginBottom:tooltipOpts.titleMarginBottom,footerFontColor:tooltipOpts.footerFontColor,_footerFontFamily:valueOrDefault$8(tooltipOpts.footerFontFamily,globalDefaults.defaultFontFamily),_footerFontStyle:valueOrDefault$8(tooltipOpts.footerFontStyle,globalDefaults.defaultFontStyle),footerFontSize:valueOrDefault$8(tooltipOpts.footerFontSize,globalDefaults.defaultFontSize),_footerAlign:tooltipOpts.footerAlign,footerSpacing:tooltipOpts.footerSpacing,footerMarginTop:tooltipOpts.footerMarginTop,caretSize:tooltipOpts.caretSize,cornerRadius:tooltipOpts.cornerRadius,backgroundColor:tooltipOpts.backgroundColor,opacity:0,legendColorBackground:tooltipOpts.multiKeyBackground,displayColors:tooltipOpts.displayColors,borderColor:tooltipOpts.borderColor,borderWidth:tooltipOpts.borderWidth};}
function getTooltipSize(tooltip,model){var ctx=tooltip._chart.ctx;var height=model.yPadding*2;var width=0;var body=model.body;var combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length;},0);combinedBodyLength+=model.beforeBody.length+model.afterBody.length;var titleLineCount=model.title.length;var footerLineCount=model.footer.length;var titleFontSize=model.titleFontSize;var bodyFontSize=model.bodyFontSize;var footerFontSize=model.footerFontSize;height+=titleLineCount*titleFontSize;height+=titleLineCount?(titleLineCount-1)*model.titleSpacing:0;height+=titleLineCount?model.titleMarginBottom:0;height+=combinedBodyLength*bodyFontSize;height+=combinedBodyLength?(combinedBodyLength-1)*model.bodySpacing:0;height+=footerLineCount?model.footerMarginTop:0;height+=footerLineCount*(footerFontSize);height+=footerLineCount?(footerLineCount-1)*model.footerSpacing:0;var widthPadding=0;var maxLineWidth=function(line){width=Math.max(width,ctx.measureText(line).width+widthPadding);};ctx.font=helpers$1.fontString(titleFontSize,model._titleFontStyle,model._titleFontFamily);helpers$1.each(model.title,maxLineWidth);ctx.font=helpers$1.fontString(bodyFontSize,model._bodyFontStyle,model._bodyFontFamily);helpers$1.each(model.beforeBody.concat(model.afterBody),maxLineWidth);widthPadding=model.displayColors?(bodyFontSize+2):0;helpers$1.each(body,function(bodyItem){helpers$1.each(bodyItem.before,maxLineWidth);helpers$1.each(bodyItem.lines,maxLineWidth);helpers$1.each(bodyItem.after,maxLineWidth);});widthPadding=0;ctx.font=helpers$1.fontString(footerFontSize,model._footerFontStyle,model._footerFontFamily);helpers$1.each(model.footer,maxLineWidth);width+=2*model.xPadding;return{width:width,height:height};}
function determineAlignment(tooltip,size){var model=tooltip._model;var chart=tooltip._chart;var chartArea=tooltip._chart.chartArea;var xAlign='center';var yAlign='center';if(model.y<size.height){yAlign='top';}else if(model.y>(chart.height-size.height)){yAlign='bottom';}
var lf,rf;var olf,orf;var yf;var midX=(chartArea.left+chartArea.right)/ 2;var midY=(chartArea.top+chartArea.bottom)/ 2;if(yAlign==='center'){lf=function(x){return x<=midX;};rf=function(x){return x>midX;};}else{lf=function(x){return x<=(size.width / 2);};rf=function(x){return x>=(chart.width-(size.width / 2));};}
olf=function(x){return x+size.width+model.caretSize+model.caretPadding>chart.width;};orf=function(x){return x-size.width-model.caretSize-model.caretPadding<0;};yf=function(y){return y<=midY?'top':'bottom';};if(lf(model.x)){xAlign='left';if(olf(model.x)){xAlign='center';yAlign=yf(model.y);}}else if(rf(model.x)){xAlign='right';if(orf(model.x)){xAlign='center';yAlign=yf(model.y);}}
var opts=tooltip._options;return{xAlign:opts.xAlign?opts.xAlign:xAlign,yAlign:opts.yAlign?opts.yAlign:yAlign};}
function getBackgroundPoint(vm,size,alignment,chart){var x=vm.x;var y=vm.y;var caretSize=vm.caretSize;var caretPadding=vm.caretPadding;var cornerRadius=vm.cornerRadius;var xAlign=alignment.xAlign;var yAlign=alignment.yAlign;var paddingAndSize=caretSize+caretPadding;var radiusAndPadding=cornerRadius+caretPadding;if(xAlign==='right'){x-=size.width;}else if(xAlign==='center'){x-=(size.width / 2);if(x+size.width>chart.width){x=chart.width-size.width;}
if(x<0){x=0;}}
if(yAlign==='top'){y+=paddingAndSize;}else if(yAlign==='bottom'){y-=size.height+paddingAndSize;}else{y-=(size.height / 2);}
if(yAlign==='center'){if(xAlign==='left'){x+=paddingAndSize;}else if(xAlign==='right'){x-=paddingAndSize;}}else if(xAlign==='left'){x-=radiusAndPadding;}else if(xAlign==='right'){x+=radiusAndPadding;}
return{x:x,y:y};}
function getAlignedX(vm,align){return align==='center'?vm.x+vm.width / 2:align==='right'?vm.x+vm.width-vm.xPadding:vm.x+vm.xPadding;}
function getBeforeAfterBodyLines(callback){return pushOrConcat([],splitNewlines(callback));}
var exports$4=core_element.extend({initialize:function(){this._model=getBaseModel(this._options);this._lastActive=[];},getTitle:function(){var me=this;var opts=me._options;var callbacks=opts.callbacks;var beforeTitle=callbacks.beforeTitle.apply(me,arguments);var title=callbacks.title.apply(me,arguments);var afterTitle=callbacks.afterTitle.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeTitle));lines=pushOrConcat(lines,splitNewlines(title));lines=pushOrConcat(lines,splitNewlines(afterTitle));return lines;},getBeforeBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this,arguments));},getBody:function(tooltipItems,data){var me=this;var callbacks=me._options.callbacks;var bodyItems=[];helpers$1.each(tooltipItems,function(tooltipItem){var bodyItem={before:[],lines:[],after:[]};pushOrConcat(bodyItem.before,splitNewlines(callbacks.beforeLabel.call(me,tooltipItem,data)));pushOrConcat(bodyItem.lines,callbacks.label.call(me,tooltipItem,data));pushOrConcat(bodyItem.after,splitNewlines(callbacks.afterLabel.call(me,tooltipItem,data)));bodyItems.push(bodyItem);});return bodyItems;},getAfterBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this,arguments));},getFooter:function(){var me=this;var callbacks=me._options.callbacks;var beforeFooter=callbacks.beforeFooter.apply(me,arguments);var footer=callbacks.footer.apply(me,arguments);var afterFooter=callbacks.afterFooter.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeFooter));lines=pushOrConcat(lines,splitNewlines(footer));lines=pushOrConcat(lines,splitNewlines(afterFooter));return lines;},update:function(changed){var me=this;var opts=me._options;var existingModel=me._model;var model=me._model=getBaseModel(opts);var active=me._active;var data=me._data;var alignment={xAlign:existingModel.xAlign,yAlign:existingModel.yAlign};var backgroundPoint={x:existingModel.x,y:existingModel.y};var tooltipSize={width:existingModel.width,height:existingModel.height};var tooltipPosition={x:existingModel.caretX,y:existingModel.caretY};var i,len;if(active.length){model.opacity=1;var labelColors=[];var labelTextColors=[];tooltipPosition=positioners[opts.position].call(me,active,me._eventPosition);var tooltipItems=[];for(i=0,len=active.length;i<len;++i){tooltipItems.push(createTooltipItem(active[i]));}
if(opts.filter){tooltipItems=tooltipItems.filter(function(a){return opts.filter(a,data);});}
if(opts.itemSort){tooltipItems=tooltipItems.sort(function(a,b){return opts.itemSort(a,b,data);});}
helpers$1.each(tooltipItems,function(tooltipItem){labelColors.push(opts.callbacks.labelColor.call(me,tooltipItem,me._chart));labelTextColors.push(opts.callbacks.labelTextColor.call(me,tooltipItem,me._chart));});model.title=me.getTitle(tooltipItems,data);model.beforeBody=me.getBeforeBody(tooltipItems,data);model.body=me.getBody(tooltipItems,data);model.afterBody=me.getAfterBody(tooltipItems,data);model.footer=me.getFooter(tooltipItems,data);model.x=tooltipPosition.x;model.y=tooltipPosition.y;model.caretPadding=opts.caretPadding;model.labelColors=labelColors;model.labelTextColors=labelTextColors;model.dataPoints=tooltipItems;tooltipSize=getTooltipSize(this,model);alignment=determineAlignment(this,tooltipSize);backgroundPoint=getBackgroundPoint(model,tooltipSize,alignment,me._chart);}else{model.opacity=0;}
model.xAlign=alignment.xAlign;model.yAlign=alignment.yAlign;model.x=backgroundPoint.x;model.y=backgroundPoint.y;model.width=tooltipSize.width;model.height=tooltipSize.height;model.caretX=tooltipPosition.x;model.caretY=tooltipPosition.y;me._model=model;if(changed&&opts.custom){opts.custom.call(me,model);}
return me;},drawCaret:function(tooltipPoint,size){var ctx=this._chart.ctx;var vm=this._view;var caretPosition=this.getCaretPosition(tooltipPoint,size,vm);ctx.lineTo(caretPosition.x1,caretPosition.y1);ctx.lineTo(caretPosition.x2,caretPosition.y2);ctx.lineTo(caretPosition.x3,caretPosition.y3);},getCaretPosition:function(tooltipPoint,size,vm){var x1,x2,x3,y1,y2,y3;var caretSize=vm.caretSize;var cornerRadius=vm.cornerRadius;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var ptX=tooltipPoint.x;var ptY=tooltipPoint.y;var width=size.width;var height=size.height;if(yAlign==='center'){y2=ptY+(height / 2);if(xAlign==='left'){x1=ptX;x2=x1-caretSize;x3=x1;y1=y2+caretSize;y3=y2-caretSize;}else{x1=ptX+width;x2=x1+caretSize;x3=x1;y1=y2-caretSize;y3=y2+caretSize;}}else{if(xAlign==='left'){x2=ptX+cornerRadius+(caretSize);x1=x2-caretSize;x3=x2+caretSize;}else if(xAlign==='right'){x2=ptX+width-cornerRadius-caretSize;x1=x2-caretSize;x3=x2+caretSize;}else{x2=vm.caretX;x1=x2-caretSize;x3=x2+caretSize;}
if(yAlign==='top'){y1=ptY;y2=y1-caretSize;y3=y1;}else{y1=ptY+height;y2=y1+caretSize;y3=y1;var tmp=x3;x3=x1;x1=tmp;}}
return{x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3};},drawTitle:function(pt,vm,ctx){var title=vm.title;var length=title.length;var titleFontSize,titleSpacing,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._titleAlign);ctx.textAlign=rtlHelper.textAlign(vm._titleAlign);ctx.textBaseline='middle';titleFontSize=vm.titleFontSize;titleSpacing=vm.titleSpacing;ctx.fillStyle=vm.titleFontColor;ctx.font=helpers$1.fontString(titleFontSize,vm._titleFontStyle,vm._titleFontFamily);for(i=0;i<length;++i){ctx.fillText(title[i],rtlHelper.x(pt.x),pt.y+titleFontSize / 2);pt.y+=titleFontSize+titleSpacing;if(i+1===length){pt.y+=vm.titleMarginBottom-titleSpacing;}}}},drawBody:function(pt,vm,ctx){var bodyFontSize=vm.bodyFontSize;var bodySpacing=vm.bodySpacing;var bodyAlign=vm._bodyAlign;var body=vm.body;var drawColorBoxes=vm.displayColors;var xLinePadding=0;var colorX=drawColorBoxes?getAlignedX(vm,'left'):0;var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);var fillLineOfText=function(line){ctx.fillText(line,rtlHelper.x(pt.x+xLinePadding),pt.y+bodyFontSize / 2);pt.y+=bodyFontSize+bodySpacing;};var bodyItem,textColor,labelColors,lines,i,j,ilen,jlen;var bodyAlignForCalculation=rtlHelper.textAlign(bodyAlign);ctx.textAlign=bodyAlign;ctx.textBaseline='middle';ctx.font=helpers$1.fontString(bodyFontSize,vm._bodyFontStyle,vm._bodyFontFamily);pt.x=getAlignedX(vm,bodyAlignForCalculation);ctx.fillStyle=vm.bodyFontColor;helpers$1.each(vm.beforeBody,fillLineOfText);xLinePadding=drawColorBoxes&&bodyAlignForCalculation!=='right'?bodyAlign==='center'?(bodyFontSize / 2+1):(bodyFontSize+2):0;for(i=0,ilen=body.length;i<ilen;++i){bodyItem=body[i];textColor=vm.labelTextColors[i];labelColors=vm.labelColors[i];ctx.fillStyle=textColor;helpers$1.each(bodyItem.before,fillLineOfText);lines=bodyItem.lines;for(j=0,jlen=lines.length;j<jlen;++j){if(drawColorBoxes){var rtlColorX=rtlHelper.x(colorX);ctx.fillStyle=vm.legendColorBackground;ctx.fillRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.lineWidth=1;ctx.strokeStyle=labelColors.borderColor;ctx.strokeRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.fillStyle=labelColors.backgroundColor;ctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX,1),bodyFontSize-2),pt.y+1,bodyFontSize-2,bodyFontSize-2);ctx.fillStyle=textColor;}
fillLineOfText(lines[j]);}
helpers$1.each(bodyItem.after,fillLineOfText);}
xLinePadding=0;helpers$1.each(vm.afterBody,fillLineOfText);pt.y-=bodySpacing;},drawFooter:function(pt,vm,ctx){var footer=vm.footer;var length=footer.length;var footerFontSize,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._footerAlign);pt.y+=vm.footerMarginTop;ctx.textAlign=rtlHelper.textAlign(vm._footerAlign);ctx.textBaseline='middle';footerFontSize=vm.footerFontSize;ctx.fillStyle=vm.footerFontColor;ctx.font=helpers$1.fontString(footerFontSize,vm._footerFontStyle,vm._footerFontFamily);for(i=0;i<length;++i){ctx.fillText(footer[i],rtlHelper.x(pt.x),pt.y+footerFontSize / 2);pt.y+=footerFontSize+vm.footerSpacing;}}},drawBackground:function(pt,vm,ctx,tooltipSize){ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;ctx.lineWidth=vm.borderWidth;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var x=pt.x;var y=pt.y;var width=tooltipSize.width;var height=tooltipSize.height;var radius=vm.cornerRadius;ctx.beginPath();ctx.moveTo(x+radius,y);if(yAlign==='top'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);if(yAlign==='center'&&xAlign==='right'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);if(yAlign==='bottom'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);if(yAlign==='center'&&xAlign==='left'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();ctx.fill();if(vm.borderWidth>0){ctx.stroke();}},draw:function(){var ctx=this._chart.ctx;var vm=this._view;if(vm.opacity===0){return;}
var tooltipSize={width:vm.width,height:vm.height};var pt={x:vm.x,y:vm.y};var opacity=Math.abs(vm.opacity<1e-3)?0:vm.opacity;var hasTooltipContent=vm.title.length||vm.beforeBody.length||vm.body.length||vm.afterBody.length||vm.footer.length;if(this._options.enabled&&hasTooltipContent){ctx.save();ctx.globalAlpha=opacity;this.drawBackground(pt,vm,ctx,tooltipSize);pt.y+=vm.yPadding;helpers$1.rtl.overrideTextDirection(ctx,vm.textDirection);this.drawTitle(pt,vm,ctx);this.drawBody(pt,vm,ctx);this.drawFooter(pt,vm,ctx);helpers$1.rtl.restoreTextDirection(ctx,vm.textDirection);ctx.restore();}},handleEvent:function(e){var me=this;var options=me._options;var changed=false;me._lastActive=me._lastActive||[];if(e.type==='mouseout'){me._active=[];}else{me._active=me._chart.getElementsAtEventForMode(e,options.mode,options);if(options.reverse){me._active.reverse();}}
changed=!helpers$1.arrayEquals(me._active,me._lastActive);if(changed){me._lastActive=me._active;if(options.enabled||options.custom){me._eventPosition={x:e.x,y:e.y};me.update(true);me.pivot();}}
return changed;}});var positioners_1=positioners;var core_tooltip=exports$4;core_tooltip.positioners=positioners_1;var valueOrDefault$9=helpers$1.valueOrDefault;core_defaults._set('global',{elements:{},events:['mousemove','mouseout','click','touchstart','touchmove'],hover:{onHover:null,mode:'nearest',intersect:true,animationDuration:400},onClick:null,maintainAspectRatio:true,responsive:true,responsiveAnimationDuration:0});function mergeScaleConfig(){return helpers$1.merge(Object.create(null),[].slice.call(arguments),{merger:function(key,target,source,options){if(key==='xAxes'||key==='yAxes'){var slen=source[key].length;var i,type,scale;if(!target[key]){target[key]=[];}
for(i=0;i<slen;++i){scale=source[key][i];type=valueOrDefault$9(scale.type,key==='xAxes'?'category':'linear');if(i>=target[key].length){target[key].push({});}
if(!target[key][i].type||(scale.type&&scale.type!==target[key][i].type)){helpers$1.merge(target[key][i],[core_scaleService.getScaleDefaults(type),scale]);}else{helpers$1.merge(target[key][i],scale);}}}else{helpers$1._merger(key,target,source,options);}}});}
function mergeConfig(){return helpers$1.merge(Object.create(null),[].slice.call(arguments),{merger:function(key,target,source,options){var tval=target[key]||Object.create(null);var sval=source[key];if(key==='scales'){target[key]=mergeScaleConfig(tval,sval);}else if(key==='scale'){target[key]=helpers$1.merge(tval,[core_scaleService.getScaleDefaults(sval.type),sval]);}else{helpers$1._merger(key,target,source,options);}}});}
function initConfig(config){config=config||Object.create(null);var data=config.data=config.data||{};data.datasets=data.datasets||[];data.labels=data.labels||[];config.options=mergeConfig(core_defaults.global,core_defaults[config.type],config.options||{});return config;}
function updateConfig(chart){var newOptions=chart.options;helpers$1.each(chart.scales,function(scale){core_layouts.removeBox(chart,scale);});newOptions=mergeConfig(core_defaults.global,core_defaults[chart.config.type],newOptions);chart.options=chart.config.options=newOptions;chart.ensureScalesHaveIDs();chart.buildOrUpdateScales();chart.tooltip._options=newOptions.tooltips;chart.tooltip.initialize();}
function nextAvailableScaleId(axesOpts,prefix,index){var id;var hasId=function(obj){return obj.id===id;};do{id=prefix+index++;}while(helpers$1.findIndex(axesOpts,hasId)>=0);return id;}
function positionIsHorizontal(position){return position==='top'||position==='bottom';}
function compare2Level(l1,l2){return function(a,b){return a[l1]===b[l1]?a[l2]-b[l2]:a[l1]-b[l1];};}
var Chart2=function(item,config){this.construct(item,config);return this;};helpers$1.extend(Chart2.prototype,{construct:function(item,config){var me=this;config=initConfig(config);var context=platform.acquireContext(item,config);var canvas=context&&context.canvas;var height=canvas&&canvas.height;var width=canvas&&canvas.width;me.id=helpers$1.uid();me.ctx=context;me.canvas=canvas;me.config=config;me.width=width;me.height=height;me.aspectRatio=height?width / height:null;me.options=config.options;me._bufferedRender=false;me._layers=[];me.chart=me;me.controller=me;Chart2.instances[me.id]=me;Object.defineProperty(me,'data',{get:function(){return me.config.data;},set:function(value){me.config.data=value;}});if(!context||!canvas){console.error("Failed to create chart: can't acquire context from the given item");return;}
me.initialize();me.update();},initialize:function(){var me=this;core_plugins.notify(me,'beforeInit');helpers$1.retinaScale(me,me.options.devicePixelRatio);me.bindEvents();if(me.options.responsive){me.resize(true);}
me.initToolTip();core_plugins.notify(me,'afterInit');return me;},clear:function(){helpers$1.canvas.clear(this);return this;},stop:function(){core_animations.cancelAnimation(this);return this;},resize:function(silent){var me=this;var options=me.options;var canvas=me.canvas;var aspectRatio=(options.maintainAspectRatio&&me.aspectRatio)||null;var newWidth=Math.max(0,Math.floor(helpers$1.getMaximumWidth(canvas)));var newHeight=Math.max(0,Math.floor(aspectRatio?newWidth / aspectRatio:helpers$1.getMaximumHeight(canvas)));if(me.width===newWidth&&me.height===newHeight){return;}
canvas.width=me.width=newWidth;canvas.height=me.height=newHeight;canvas.style.width=newWidth+'px';canvas.style.height=newHeight+'px';helpers$1.retinaScale(me,options.devicePixelRatio);if(!silent){var newSize={width:newWidth,height:newHeight};core_plugins.notify(me,'resize',[newSize]);if(options.onResize){options.onResize(me,newSize);}
me.stop();me.update({duration:options.responsiveAnimationDuration});}},ensureScalesHaveIDs:function(){var options=this.options;var scalesOptions=options.scales||{};var scaleOptions=options.scale;helpers$1.each(scalesOptions.xAxes,function(xAxisOptions,index){if(!xAxisOptions.id){xAxisOptions.id=nextAvailableScaleId(scalesOptions.xAxes,'x-axis-',index);}});helpers$1.each(scalesOptions.yAxes,function(yAxisOptions,index){if(!yAxisOptions.id){yAxisOptions.id=nextAvailableScaleId(scalesOptions.yAxes,'y-axis-',index);}});if(scaleOptions){scaleOptions.id=scaleOptions.id||'scale';}},buildOrUpdateScales:function(){var me=this;var options=me.options;var scales=me.scales||{};var items=[];var updated=Object.keys(scales).reduce(function(obj,id){obj[id]=false;return obj;},{});if(options.scales){items=items.concat((options.scales.xAxes||[]).map(function(xAxisOptions){return{options:xAxisOptions,dtype:'category',dposition:'bottom'};}),(options.scales.yAxes||[]).map(function(yAxisOptions){return{options:yAxisOptions,dtype:'linear',dposition:'left'};}));}
if(options.scale){items.push({options:options.scale,dtype:'radialLinear',isDefault:true,dposition:'chartArea'});}
helpers$1.each(items,function(item){var scaleOptions=item.options;var id=scaleOptions.id;var scaleType=valueOrDefault$9(scaleOptions.type,item.dtype);if(positionIsHorizontal(scaleOptions.position)!==positionIsHorizontal(item.dposition)){scaleOptions.position=item.dposition;}
updated[id]=true;var scale=null;if(id in scales&&scales[id].type===scaleType){scale=scales[id];scale.options=scaleOptions;scale.ctx=me.ctx;scale.chart=me;}else{var scaleClass=core_scaleService.getScaleConstructor(scaleType);if(!scaleClass){return;}
scale=new scaleClass({id:id,type:scaleType,options:scaleOptions,ctx:me.ctx,chart:me});scales[scale.id]=scale;}
scale.mergeTicksOptions();if(item.isDefault){me.scale=scale;}});helpers$1.each(updated,function(hasUpdated,id){if(!hasUpdated){delete scales[id];}});me.scales=scales;core_scaleService.addScalesToLayout(this);},buildOrUpdateControllers:function(){var me=this;var newControllers=[];var datasets=me.data.datasets;var i,ilen;for(i=0,ilen=datasets.length;i<ilen;i++){var dataset=datasets[i];var meta=me.getDatasetMeta(i);var type=dataset.type||me.config.type;if(meta.type&&meta.type!==type){me.destroyDatasetMeta(i);meta=me.getDatasetMeta(i);}
meta.type=type;meta.order=dataset.order||0;meta.index=i;if(meta.controller){meta.controller.updateIndex(i);meta.controller.linkScales();}else{var ControllerClass=controllers[meta.type];if(ControllerClass===undefined){throw new Error('"'+meta.type+'" is not a chart type.');}
meta.controller=new ControllerClass(me,i);newControllers.push(meta.controller);}}
return newControllers;},resetElements:function(){var me=this;helpers$1.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.reset();},me);},reset:function(){this.resetElements();this.tooltip.initialize();},update:function(config){var me=this;var i,ilen;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]};}
updateConfig(me);core_plugins._invalidate(me);if(core_plugins.notify(me,'beforeUpdate')===false){return;}
me.tooltip._data=me.data;var newControllers=me.buildOrUpdateControllers();for(i=0,ilen=me.data.datasets.length;i<ilen;i++){me.getDatasetMeta(i).controller.buildOrUpdateElements();}
me.updateLayout();if(me.options.animation&&me.options.animation.duration){helpers$1.each(newControllers,function(controller){controller.reset();});}
me.updateDatasets();me.tooltip.initialize();me.lastActive=[];core_plugins.notify(me,'afterUpdate');me._layers.sort(compare2Level('z','_idx'));if(me._bufferedRender){me._bufferedRequest={duration:config.duration,easing:config.easing,lazy:config.lazy};}else{me.render(config);}},updateLayout:function(){var me=this;if(core_plugins.notify(me,'beforeLayout')===false){return;}
core_layouts.update(this,this.width,this.height);me._layers=[];helpers$1.each(me.boxes,function(box){if(box._configure){box._configure();}
me._layers.push.apply(me._layers,box._layers());},me);me._layers.forEach(function(item,index){item._idx=index;});core_plugins.notify(me,'afterScaleUpdate');core_plugins.notify(me,'afterLayout');},updateDatasets:function(){var me=this;if(core_plugins.notify(me,'beforeDatasetsUpdate')===false){return;}
for(var i=0,ilen=me.data.datasets.length;i<ilen;++i){me.updateDataset(i);}
core_plugins.notify(me,'afterDatasetsUpdate');},updateDataset:function(index){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index};if(core_plugins.notify(me,'beforeDatasetUpdate',[args])===false){return;}
meta.controller._update();core_plugins.notify(me,'afterDatasetUpdate',[args]);},render:function(config){var me=this;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]};}
var animationOptions=me.options.animation;var duration=valueOrDefault$9(config.duration,animationOptions&&animationOptions.duration);var lazy=config.lazy;if(core_plugins.notify(me,'beforeRender')===false){return;}
var onComplete=function(animation){core_plugins.notify(me,'afterRender');helpers$1.callback(animationOptions&&animationOptions.onComplete,[animation],me);};if(animationOptions&&duration){var animation=new core_animation({numSteps:duration / 16.66,easing:config.easing||animationOptions.easing,render:function(chart,animationObject){var easingFunction=helpers$1.easing.effects[animationObject.easing];var currentStep=animationObject.currentStep;var stepDecimal=currentStep / animationObject.numSteps;chart.draw(easingFunction(stepDecimal),stepDecimal,currentStep);},onAnimationProgress:animationOptions.onProgress,onAnimationComplete:onComplete});core_animations.addAnimation(me,animation,duration,lazy);}else{me.draw();onComplete(new core_animation({numSteps:0,chart:me}));}
return me;},draw:function(easingValue){var me=this;var i,layers;me.clear();if(helpers$1.isNullOrUndef(easingValue)){easingValue=1;}
me.transition(easingValue);if(me.width<=0||me.height<=0){return;}
if(core_plugins.notify(me,'beforeDraw',[easingValue])===false){return;}
layers=me._layers;for(i=0;i<layers.length&&layers[i].z<=0;++i){layers[i].draw(me.chartArea);}
me.drawDatasets(easingValue);for(;i<layers.length;++i){layers[i].draw(me.chartArea);}
me._drawTooltip(easingValue);core_plugins.notify(me,'afterDraw',[easingValue]);},transition:function(easingValue){var me=this;for(var i=0,ilen=(me.data.datasets||[]).length;i<ilen;++i){if(me.isDatasetVisible(i)){me.getDatasetMeta(i).controller.transition(easingValue);}}
me.tooltip.transition(easingValue);},_getSortedDatasetMetas:function(filterVisible){var me=this;var datasets=me.data.datasets||[];var result=[];var i,ilen;for(i=0,ilen=datasets.length;i<ilen;++i){if(!filterVisible||me.isDatasetVisible(i)){result.push(me.getDatasetMeta(i));}}
result.sort(compare2Level('order','index'));return result;},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(true);},drawDatasets:function(easingValue){var me=this;var metasets,i;if(core_plugins.notify(me,'beforeDatasetsDraw',[easingValue])===false){return;}
metasets=me._getSortedVisibleDatasetMetas();for(i=metasets.length-1;i>=0;--i){me.drawDataset(metasets[i],easingValue);}
core_plugins.notify(me,'afterDatasetsDraw',[easingValue]);},drawDataset:function(meta,easingValue){var me=this;var args={meta:meta,index:meta.index,easingValue:easingValue};if(core_plugins.notify(me,'beforeDatasetDraw',[args])===false){return;}
meta.controller.draw(easingValue);core_plugins.notify(me,'afterDatasetDraw',[args]);},_drawTooltip:function(easingValue){var me=this;var tooltip=me.tooltip;var args={tooltip:tooltip,easingValue:easingValue};if(core_plugins.notify(me,'beforeTooltipDraw',[args])===false){return;}
tooltip.draw();core_plugins.notify(me,'afterTooltipDraw',[args]);},getElementAtEvent:function(e){return core_interaction.modes.single(this,e);},getElementsAtEvent:function(e){return core_interaction.modes.label(this,e,{intersect:true});},getElementsAtXAxis:function(e){return core_interaction.modes['x-axis'](this,e,{intersect:true});},getElementsAtEventForMode:function(e,mode,options){var method=core_interaction.modes[mode];if(typeof method==='function'){return method(this,e,options);}
return[];},getDatasetAtEvent:function(e){return core_interaction.modes.dataset(this,e,{intersect:true});},getDatasetMeta:function(datasetIndex){var me=this;var dataset=me.data.datasets[datasetIndex];if(!dataset._meta){dataset._meta={};}
var meta=dataset._meta[me.id];if(!meta){meta=dataset._meta[me.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:dataset.order||0,index:datasetIndex};}
return meta;},getVisibleDatasetCount:function(){var count=0;for(var i=0,ilen=this.data.datasets.length;i<ilen;++i){if(this.isDatasetVisible(i)){count++;}}
return count;},isDatasetVisible:function(datasetIndex){var meta=this.getDatasetMeta(datasetIndex);return typeof meta.hidden==='boolean'?!meta.hidden:!this.data.datasets[datasetIndex].hidden;},generateLegend:function(){return this.options.legendCallback(this);},destroyDatasetMeta:function(datasetIndex){var id=this.id;var dataset=this.data.datasets[datasetIndex];var meta=dataset._meta&&dataset._meta[id];if(meta){meta.controller.destroy();delete dataset._meta[id];}},destroy:function(){var me=this;var canvas=me.canvas;var i,ilen;me.stop();for(i=0,ilen=me.data.datasets.length;i<ilen;++i){me.destroyDatasetMeta(i);}
if(canvas){me.unbindEvents();helpers$1.canvas.clear(me);platform.releaseContext(me.ctx);me.canvas=null;me.ctx=null;}
core_plugins.notify(me,'destroy');delete Chart2.instances[me.id];},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments);},initToolTip:function(){var me=this;me.tooltip=new core_tooltip({_chart:me,_chartInstance:me,_data:me.data,_options:me.options.tooltips},me);},bindEvents:function(){var me=this;var listeners=me._listeners={};var listener=function(){me.eventHandler.apply(me,arguments);};helpers$1.each(me.options.events,function(type){platform.addEventListener(me,type,listener);listeners[type]=listener;});if(me.options.responsive){listener=function(){me.resize();};platform.addEventListener(me,'resize',listener);listeners.resize=listener;}},unbindEvents:function(){var me=this;var listeners=me._listeners;if(!listeners){return;}
delete me._listeners;helpers$1.each(listeners,function(listener,type){platform.removeEventListener(me,type,listener);});},updateHoverStyle:function(elements,mode,enabled){var prefix=enabled?'set':'remove';var element,i,ilen;for(i=0,ilen=elements.length;i<ilen;++i){element=elements[i];if(element){this.getDatasetMeta(element._datasetIndex).controller[prefix+'HoverStyle'](element);}}
if(mode==='dataset'){this.getDatasetMeta(elements[0]._datasetIndex).controller['_'+prefix+'DatasetHoverStyle']();}},eventHandler:function(e){var me=this;var tooltip=me.tooltip;if(core_plugins.notify(me,'beforeEvent',[e])===false){return;}
me._bufferedRender=true;me._bufferedRequest=null;var changed=me.handleEvent(e);if(tooltip){changed=tooltip._start?tooltip.handleEvent(e):changed|tooltip.handleEvent(e);}
core_plugins.notify(me,'afterEvent',[e]);var bufferedRequest=me._bufferedRequest;if(bufferedRequest){me.render(bufferedRequest);}else if(changed&&!me.animating){me.stop();me.render({duration:me.options.hover.animationDuration,lazy:true});}
me._bufferedRender=false;me._bufferedRequest=null;return me;},handleEvent:function(e){var me=this;var options=me.options||{};var hoverOptions=options.hover;var changed=false;me.lastActive=me.lastActive||[];if(e.type==='mouseout'){me.active=[];}else{me.active=me.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions);}
helpers$1.callback(options.onHover||options.hover.onHover,[e.native,me.active],me);if(e.type==='mouseup'||e.type==='click'){if(options.onClick){options.onClick.call(me,e.native,me.active);}}
if(me.lastActive.length){me.updateHoverStyle(me.lastActive,hoverOptions.mode,false);}
if(me.active.length&&hoverOptions.mode){me.updateHoverStyle(me.active,hoverOptions.mode,true);}
changed=!helpers$1.arrayEquals(me.active,me.lastActive);me.lastActive=me.active;return changed;}});Chart2.instances={};var core_controller=Chart2;Chart.Controller=Chart2;Chart2.types={};helpers$1.configMerge=mergeConfig;helpers$1.scaleMerge=mergeScaleConfig;var core_helpers=function(){helpers$1.where=function(collection,filterCallback){if(helpers$1.isArray(collection)&&Array.prototype.filter){return collection.filter(filterCallback);}
var filtered=[];helpers$1.each(collection,function(item){if(filterCallback(item)){filtered.push(item);}});return filtered;};helpers$1.findIndex=Array.prototype.findIndex?function(array,callback,scope){return array.findIndex(callback,scope);}:function(array,callback,scope){scope=scope===undefined?array:scope;for(var i=0,ilen=array.length;i<ilen;++i){if(callback.call(scope,array[i],i,array)){return i;}}
return-1;};helpers$1.findNextWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=-1;}
for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem;}}};helpers$1.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=arrayToSearch.length;}
for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem;}}};helpers$1.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n);};helpers$1.almostEquals=function(x,y,epsilon){return Math.abs(x-y)<epsilon;};helpers$1.almostWhole=function(x,epsilon){var rounded=Math.round(x);return((rounded-epsilon)<=x)&&((rounded+epsilon)>=x);};helpers$1.max=function(array){return array.reduce(function(max,value){if(!isNaN(value)){return Math.max(max,value);}
return max;},Number.NEGATIVE_INFINITY);};helpers$1.min=function(array){return array.reduce(function(min,value){if(!isNaN(value)){return Math.min(min,value);}
return min;},Number.POSITIVE_INFINITY);};helpers$1.sign=Math.sign?function(x){return Math.sign(x);}:function(x){x=+x;if(x===0||isNaN(x)){return x;}
return x>0?1:-1;};helpers$1.toRadians=function(degrees){return degrees*(Math.PI / 180);};helpers$1.toDegrees=function(radians){return radians*(180 / Math.PI);};helpers$1._decimalPlaces=function(x){if(!helpers$1.isFinite(x)){return;}
var e=1;var p=0;while(Math.round(x*e)/ e!==x){e*=10;p++;}
return p;};helpers$1.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x;var distanceFromYCenter=anglePoint.y-centrePoint.y;var radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);var angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);if(angle<(-0.5*Math.PI)){angle+=2.0*Math.PI;}
return{angle:angle,distance:radialDistanceFromCenter};};helpers$1.distanceBetweenPoints=function(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2));};helpers$1.aliasPixel=function(pixelWidth){return(pixelWidth%2===0)?0:0.5;};helpers$1._alignPixel=function(chart,pixel,width){var devicePixelRatio=chart.currentDevicePixelRatio;var halfWidth=width / 2;return Math.round((pixel-halfWidth)*devicePixelRatio)/ devicePixelRatio+halfWidth;};helpers$1.splineCurve=function(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint;var current=middlePoint;var next=afterPoint.skip?middlePoint:afterPoint;var d01=Math.sqrt(Math.pow(current.x-previous.x,2)+Math.pow(current.y-previous.y,2));var d12=Math.sqrt(Math.pow(next.x-current.x,2)+Math.pow(next.y-current.y,2));var s01=d01 /(d01+d12);var s12=d12 /(d01+d12);s01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;var fa=t*s01;var fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}};};helpers$1.EPSILON=Number.EPSILON||1e-14;helpers$1.splineCurveMonotone=function(points){var pointsWithTangents=(points||[]).map(function(point){return{model:point._model,deltaK:0,mK:0};});var pointsLen=pointsWithTangents.length;var i,pointBefore,pointCurrent,pointAfter;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue;}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointAfter&&!pointAfter.model.skip){var slopeDeltaX=(pointAfter.model.x-pointCurrent.model.x);pointCurrent.deltaK=slopeDeltaX!==0?(pointAfter.model.y-pointCurrent.model.y)/ slopeDeltaX:0;}
if(!pointBefore||pointBefore.model.skip){pointCurrent.mK=pointCurrent.deltaK;}else if(!pointAfter||pointAfter.model.skip){pointCurrent.mK=pointBefore.deltaK;}else if(this.sign(pointBefore.deltaK)!==this.sign(pointCurrent.deltaK)){pointCurrent.mK=0;}else{pointCurrent.mK=(pointBefore.deltaK+pointCurrent.deltaK)/ 2;}}
var alphaK,betaK,tauK,squaredMagnitude;for(i=0;i<pointsLen-1;++i){pointCurrent=pointsWithTangents[i];pointAfter=pointsWithTangents[i+1];if(pointCurrent.model.skip||pointAfter.model.skip){continue;}
if(helpers$1.almostEquals(pointCurrent.deltaK,0,this.EPSILON)){pointCurrent.mK=pointAfter.mK=0;continue;}
alphaK=pointCurrent.mK / pointCurrent.deltaK;betaK=pointAfter.mK / pointCurrent.deltaK;squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue;}
tauK=3 / Math.sqrt(squaredMagnitude);pointCurrent.mK=alphaK*tauK*pointCurrent.deltaK;pointAfter.mK=betaK*tauK*pointCurrent.deltaK;}
var deltaX;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue;}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointBefore&&!pointBefore.model.skip){deltaX=(pointCurrent.model.x-pointBefore.model.x)/ 3;pointCurrent.model.controlPointPreviousX=pointCurrent.model.x-deltaX;pointCurrent.model.controlPointPreviousY=pointCurrent.model.y-deltaX*pointCurrent.mK;}
if(pointAfter&&!pointAfter.model.skip){deltaX=(pointAfter.model.x-pointCurrent.model.x)/ 3;pointCurrent.model.controlPointNextX=pointCurrent.model.x+deltaX;pointCurrent.model.controlPointNextY=pointCurrent.model.y+deltaX*pointCurrent.mK;}}};helpers$1.nextItem=function(collection,index,loop){if(loop){return index>=collection.length-1?collection[0]:collection[index+1];}
return index>=collection.length-1?collection[collection.length-1]:collection[index+1];};helpers$1.previousItem=function(collection,index,loop){if(loop){return index<=0?collection[collection.length-1]:collection[index-1];}
return index<=0?collection[0]:collection[index-1];};helpers$1.niceNum=function(range,round){var exponent=Math.floor(helpers$1.log10(range));var fraction=range / Math.pow(10,exponent);var niceFraction;if(round){if(fraction<1.5){niceFraction=1;}else if(fraction<3){niceFraction=2;}else if(fraction<7){niceFraction=5;}else{niceFraction=10;}}else if(fraction<=1.0){niceFraction=1;}else if(fraction<=2){niceFraction=2;}else if(fraction<=5){niceFraction=5;}else{niceFraction=10;}
return niceFraction*Math.pow(10,exponent);};helpers$1.requestAnimFrame=(function(){if(typeof window==='undefined'){return function(callback){callback();};}
return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000 / 60);};}());helpers$1.getRelativePosition=function(evt,chart){var mouseX,mouseY;var e=evt.originalEvent||evt;var canvas=evt.target||evt.srcElement;var boundingRect=canvas.getBoundingClientRect();var touches=e.touches;if(touches&&touches.length>0){mouseX=touches[0].clientX;mouseY=touches[0].clientY;}else{mouseX=e.clientX;mouseY=e.clientY;}
var paddingLeft=parseFloat(helpers$1.getStyle(canvas,'padding-left'));var paddingTop=parseFloat(helpers$1.getStyle(canvas,'padding-top'));var paddingRight=parseFloat(helpers$1.getStyle(canvas,'padding-right'));var paddingBottom=parseFloat(helpers$1.getStyle(canvas,'padding-bottom'));var width=boundingRect.right-boundingRect.left-paddingLeft-paddingRight;var height=boundingRect.bottom-boundingRect.top-paddingTop-paddingBottom;mouseX=Math.round((mouseX-boundingRect.left-paddingLeft)/(width)*canvas.width / chart.currentDevicePixelRatio);mouseY=Math.round((mouseY-boundingRect.top-paddingTop)/(height)*canvas.height / chart.currentDevicePixelRatio);return{x:mouseX,y:mouseY};};function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;if(typeof styleValue==='string'){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf('%')!==-1){valueInPixels=valueInPixels / 100*node.parentNode[parentProperty];}}else{valueInPixels=styleValue;}
return valueInPixels;}
function isConstrainedValue(value){return value!==undefined&&value!==null&&value!=='none';}
function getConstraintDimension(domNode,maxStyle,percentageProperty){var view=document.defaultView;var parentNode=helpers$1._getParentNode(domNode);var constrainedNode=view.getComputedStyle(domNode)[maxStyle];var constrainedContainer=view.getComputedStyle(parentNode)[maxStyle];var hasCNode=isConstrainedValue(constrainedNode);var hasCContainer=isConstrainedValue(constrainedContainer);var infinity=Number.POSITIVE_INFINITY;if(hasCNode||hasCContainer){return Math.min(hasCNode?parseMaxStyle(constrainedNode,domNode,percentageProperty):infinity,hasCContainer?parseMaxStyle(constrainedContainer,parentNode,percentageProperty):infinity);}
return'none';}
helpers$1.getConstraintWidth=function(domNode){return getConstraintDimension(domNode,'max-width','clientWidth');};helpers$1.getConstraintHeight=function(domNode){return getConstraintDimension(domNode,'max-height','clientHeight');};helpers$1._calculatePadding=function(container,padding,parentDimension){padding=helpers$1.getStyle(container,padding);return padding.indexOf('%')>-1?parentDimension*parseInt(padding,10)/ 100:parseInt(padding,10);};helpers$1._getParentNode=function(domNode){var parent=domNode.parentNode;if(parent&&parent.toString()==='[object ShadowRoot]'){parent=parent.host;}
return parent;};helpers$1.getMaximumWidth=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientWidth;}
var clientWidth=container.clientWidth;var paddingLeft=helpers$1._calculatePadding(container,'padding-left',clientWidth);var paddingRight=helpers$1._calculatePadding(container,'padding-right',clientWidth);var w=clientWidth-paddingLeft-paddingRight;var cw=helpers$1.getConstraintWidth(domNode);return isNaN(cw)?w:Math.min(w,cw);};helpers$1.getMaximumHeight=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientHeight;}
var clientHeight=container.clientHeight;var paddingTop=helpers$1._calculatePadding(container,'padding-top',clientHeight);var paddingBottom=helpers$1._calculatePadding(container,'padding-bottom',clientHeight);var h=clientHeight-paddingTop-paddingBottom;var ch=helpers$1.getConstraintHeight(domNode);return isNaN(ch)?h:Math.min(h,ch);};helpers$1.getStyle=function(el,property){return el.currentStyle?el.currentStyle[property]:document.defaultView.getComputedStyle(el,null).getPropertyValue(property);};helpers$1.retinaScale=function(chart,forceRatio){var pixelRatio=chart.currentDevicePixelRatio=forceRatio||(typeof window!=='undefined'&&window.devicePixelRatio)||1;if(pixelRatio===1){return;}
var canvas=chart.canvas;var height=chart.height;var width=chart.width;canvas.height=height*pixelRatio;canvas.width=width*pixelRatio;chart.ctx.scale(pixelRatio,pixelRatio);if(!canvas.style.height&&!canvas.style.width){canvas.style.height=height+'px';canvas.style.width=width+'px';}};helpers$1.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+' '+pixelSize+'px '+fontFamily;};helpers$1.longestText=function(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{};var gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font;}
ctx.font=font;var longest=0;var ilen=arrayOfThings.length;var i,j,jlen,thing,nestedThing;for(i=0;i<ilen;i++){thing=arrayOfThings[i];if(thing!==undefined&&thing!==null&&helpers$1.isArray(thing)!==true){longest=helpers$1.measureText(ctx,data,gc,longest,thing);}else if(helpers$1.isArray(thing)){for(j=0,jlen=thing.length;j<jlen;j++){nestedThing=thing[j];if(nestedThing!==undefined&&nestedThing!==null&&!helpers$1.isArray(nestedThing)){longest=helpers$1.measureText(ctx,data,gc,longest,nestedThing);}}}}
var gcLen=gc.length / 2;if(gcLen>arrayOfThings.length){for(i=0;i<gcLen;i++){delete data[gc[i]];}
gc.splice(0,gcLen);}
return longest;};helpers$1.measureText=function(ctx,data,gc,longest,string){var textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string);}
if(textWidth>longest){longest=textWidth;}
return longest;};helpers$1.numberOfLabelLines=function(arrayOfThings){var numberOfLines=1;helpers$1.each(arrayOfThings,function(thing){if(helpers$1.isArray(thing)){if(thing.length>numberOfLines){numberOfLines=thing.length;}}});return numberOfLines;};helpers$1.color=!chartjsColor?function(value){console.error('Color.js not found!');return value;}:function(value){if(value instanceof CanvasGradient){value=core_defaults.global.defaultColor;}
return chartjsColor(value);};helpers$1.getHoverColor=function(colorValue){return(colorValue instanceof CanvasPattern||colorValue instanceof CanvasGradient)?colorValue:helpers$1.color(colorValue).saturate(0.5).darken(0.1).rgbString();};};function abstract(){throw new Error('This method is not implemented: either no adapter can '+'be found or an incomplete integration was provided.');}
function DateAdapter(options){this.options=options||{};}
helpers$1.extend(DateAdapter.prototype,{formats:abstract,parse:abstract,format:abstract,add:abstract,diff:abstract,startOf:abstract,endOf:abstract,_create:function(value){return value;}});DateAdapter.override=function(members){helpers$1.extend(DateAdapter.prototype,members);};var _date=DateAdapter;var core_adapters={_date:_date};var core_ticks={formatters:{values:function(value){return helpers$1.isArray(value)?value:''+value;},linear:function(tickValue,index,ticks){var delta=ticks.length>3?ticks[2]-ticks[1]:ticks[1]-ticks[0];if(Math.abs(delta)>1){if(tickValue!==Math.floor(tickValue)){delta=tickValue-Math.floor(tickValue);}}
var logDelta=helpers$1.log10(Math.abs(delta));var tickString='';if(tickValue!==0){var maxTick=Math.max(Math.abs(ticks[0]),Math.abs(ticks[ticks.length-1]));if(maxTick<1e-4){var logTick=helpers$1.log10(Math.abs(tickValue));var numExponential=Math.floor(logTick)-Math.floor(logDelta);numExponential=Math.max(Math.min(numExponential,20),0);tickString=tickValue.toExponential(numExponential);}else{var numDecimal=-1*Math.floor(logDelta);numDecimal=Math.max(Math.min(numDecimal,20),0);tickString=tickValue.toFixed(numDecimal);}}else{tickString='0';}
return tickString;},logarithmic:function(tickValue,index,ticks){var remain=tickValue /(Math.pow(10,Math.floor(helpers$1.log10(tickValue))));if(tickValue===0){return'0';}else if(remain===1||remain===2||remain===5||index===0||index===ticks.length-1){return tickValue.toExponential();}
return'';}}};var isArray=helpers$1.isArray;var isNullOrUndef=helpers$1.isNullOrUndef;var valueOrDefault$a=helpers$1.valueOrDefault;var valueAtIndexOrDefault=helpers$1.valueAtIndexOrDefault;core_defaults._set('scale',{display:true,position:'left',offset:false,gridLines:{display:true,color:'rgba(0,0,0,0.1)',lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:'rgba(0,0,0,0.25)',zeroLineBorderDash:[],zeroLineBorderDashOffset:0.0,offsetGridLines:false,borderDash:[],borderDashOffset:0.0},scaleLabel:{display:false,labelString:'',padding:{top:4,bottom:4}},ticks:{beginAtZero:false,minRotation:0,maxRotation:50,mirror:false,padding:0,reverse:false,display:true,autoSkip:true,autoSkipPadding:0,labelOffset:0,callback:core_ticks.formatters.values,minor:{},major:{}}});function sample(arr,numItems){var result=[];var increment=arr.length / numItems;var i=0;var len=arr.length;for(;i<len;i+=increment){result.push(arr[Math.floor(i)]);}
return result;}
function getPixelForGridLine(scale,index,offsetGridLines){var length=scale.getTicks().length;var validIndex=Math.min(index,length-1);var lineValue=scale.getPixelForTick(validIndex);var start=scale._startPixel;var end=scale._endPixel;var epsilon=1e-6;var offset;if(offsetGridLines){if(length===1){offset=Math.max(lineValue-start,end-lineValue);}else if(index===0){offset=(scale.getPixelForTick(1)-lineValue)/ 2;}else{offset=(lineValue-scale.getPixelForTick(validIndex-1))/ 2;}
lineValue+=validIndex<index?offset:-offset;if(lineValue<start-epsilon||lineValue>end+epsilon){return;}}
return lineValue;}
function garbageCollect(caches,length){helpers$1.each(caches,function(cache){var gc=cache.gc;var gcLen=gc.length / 2;var i;if(gcLen>length){for(i=0;i<gcLen;++i){delete cache.data[gc[i]];}
gc.splice(0,gcLen);}});}
function computeLabelSizes(ctx,tickFonts,ticks,caches){var length=ticks.length;var widths=[];var heights=[];var offsets=[];var widestLabelSize=0;var highestLabelSize=0;var i,j,jlen,label,tickFont,fontString,cache,lineHeight,width,height,nestedLabel,widest,highest;for(i=0;i<length;++i){label=ticks[i].label;tickFont=ticks[i].major?tickFonts.major:tickFonts.minor;ctx.font=fontString=tickFont.string;cache=caches[fontString]=caches[fontString]||{data:{},gc:[]};lineHeight=tickFont.lineHeight;width=height=0;if(!isNullOrUndef(label)&&!isArray(label)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,label);height=lineHeight;}else if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){nestedLabel=label[j];if(!isNullOrUndef(nestedLabel)&&!isArray(nestedLabel)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,nestedLabel);height+=lineHeight;}}}
widths.push(width);heights.push(height);offsets.push(lineHeight / 2);widestLabelSize=Math.max(width,widestLabelSize);highestLabelSize=Math.max(height,highestLabelSize);}
garbageCollect(caches,length);widest=widths.indexOf(widestLabelSize);highest=heights.indexOf(highestLabelSize);function valueAt(idx){return{width:widths[idx]||0,height:heights[idx]||0,offset:offsets[idx]||0};}
return{first:valueAt(0),last:valueAt(length-1),widest:valueAt(widest),highest:valueAt(highest)};}
function getTickMarkLength(options){return options.drawTicks?options.tickMarkLength:0;}
function getScaleLabelHeight(options){var font,padding;if(!options.display){return 0;}
font=helpers$1.options._parseFont(options);padding=helpers$1.options.toPadding(options.padding);return font.lineHeight+padding.height;}
function parseFontOptions(options,nestedOpts){return helpers$1.extend(helpers$1.options._parseFont({fontFamily:valueOrDefault$a(nestedOpts.fontFamily,options.fontFamily),fontSize:valueOrDefault$a(nestedOpts.fontSize,options.fontSize),fontStyle:valueOrDefault$a(nestedOpts.fontStyle,options.fontStyle),lineHeight:valueOrDefault$a(nestedOpts.lineHeight,options.lineHeight)}),{color:helpers$1.options.resolve([nestedOpts.fontColor,options.fontColor,core_defaults.global.defaultFontColor])});}
function parseTickFontOptions(options){var minor=parseFontOptions(options,options.minor);var major=options.major.enabled?parseFontOptions(options,options.major):minor;return{minor:minor,major:major};}
function nonSkipped(ticksToFilter){var filtered=[];var item,index,len;for(index=0,len=ticksToFilter.length;index<len;++index){item=ticksToFilter[index];if(typeof item._index!=='undefined'){filtered.push(item);}}
return filtered;}
function getEvenSpacing(arr){var len=arr.length;var i,diff;if(len<2){return false;}
for(diff=arr[0],i=1;i<len;++i){if(arr[i]-arr[i-1]!==diff){return false;}}
return diff;}
function calculateSpacing(majorIndices,ticks,axisLength,ticksLimit){var evenMajorSpacing=getEvenSpacing(majorIndices);var spacing=(ticks.length-1)/ ticksLimit;var factors,factor,i,ilen;if(!evenMajorSpacing){return Math.max(spacing,1);}
factors=helpers$1.math._factorize(evenMajorSpacing);for(i=0,ilen=factors.length-1;i<ilen;i++){factor=factors[i];if(factor>spacing){return factor;}}
return Math.max(spacing,1);}
function getMajorIndices(ticks){var result=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;i++){if(ticks[i].major){result.push(i);}}
return result;}
function skipMajors(ticks,majorIndices,spacing){var count=0;var next=majorIndices[0];var i,tick;spacing=Math.ceil(spacing);for(i=0;i<ticks.length;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=majorIndices[count*spacing];}else{delete tick.label;}}}
function skip(ticks,spacing,majorStart,majorEnd){var start=valueOrDefault$a(majorStart,0);var end=Math.min(valueOrDefault$a(majorEnd,ticks.length),ticks.length);var count=0;var length,i,tick,next;spacing=Math.ceil(spacing);if(majorEnd){length=majorEnd-majorStart;spacing=length / Math.floor(length / spacing);}
next=start;while(next<0){count++;next=Math.round(start+count*spacing);}
for(i=Math.max(start,0);i<end;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=Math.round(start+count*spacing);}else{delete tick.label;}}}
var Scale=core_element.extend({zeroLineIndex:0,getPadding:function(){var me=this;return{left:me.paddingLeft||0,top:me.paddingTop||0,right:me.paddingRight||0,bottom:me.paddingBottom||0};},getTicks:function(){return this._ticks;},_getLabels:function(){var data=this.chart.data;return this.options.labels||(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels||[];},mergeTicksOptions:function(){},beforeUpdate:function(){helpers$1.callback(this.options.beforeUpdate,[this]);},update:function(maxWidth,maxHeight,margins){var me=this;var tickOpts=me.options.ticks;var sampleSize=tickOpts.sampleSize;var i,ilen,labels,ticks,samplingEnabled;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=helpers$1.extend({left:0,right:0,top:0,bottom:0},margins);me._ticks=null;me.ticks=null;me._labelSizes=null;me._maxLabelLines=0;me.longestLabelWidth=0;me.longestTextCache=me.longestTextCache||{};me._gridLineItems=null;me._labelItems=null;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeDataLimits();me.determineDataLimits();me.afterDataLimits();me.beforeBuildTicks();ticks=me.buildTicks()||[];ticks=me.afterBuildTicks(ticks)||ticks;if((!ticks||!ticks.length)&&me.ticks){ticks=[];for(i=0,ilen=me.ticks.length;i<ilen;++i){ticks.push({value:me.ticks[i],major:false});}}
me._ticks=ticks;samplingEnabled=sampleSize<ticks.length;labels=me._convertTicksToLabels(samplingEnabled?sample(ticks,sampleSize):ticks);me._configure();me.beforeCalculateTickRotation();me.calculateTickRotation();me.afterCalculateTickRotation();me.beforeFit();me.fit();me.afterFit();me._ticksToDraw=tickOpts.display&&(tickOpts.autoSkip||tickOpts.source==='auto')?me._autoSkip(ticks):ticks;if(samplingEnabled){labels=me._convertTicksToLabels(me._ticksToDraw);}
me.ticks=labels;me.afterUpdate();return me.minSize;},_configure:function(){var me=this;var reversePixels=me.options.ticks.reverse;var startPixel,endPixel;if(me.isHorizontal()){startPixel=me.left;endPixel=me.right;}else{startPixel=me.top;endPixel=me.bottom;reversePixels=!reversePixels;}
me._startPixel=startPixel;me._endPixel=endPixel;me._reversePixels=reversePixels;me._length=endPixel-startPixel;},afterUpdate:function(){helpers$1.callback(this.options.afterUpdate,[this]);},beforeSetDimensions:function(){helpers$1.callback(this.options.beforeSetDimensions,[this]);},setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;},afterSetDimensions:function(){helpers$1.callback(this.options.afterSetDimensions,[this]);},beforeDataLimits:function(){helpers$1.callback(this.options.beforeDataLimits,[this]);},determineDataLimits:helpers$1.noop,afterDataLimits:function(){helpers$1.callback(this.options.afterDataLimits,[this]);},beforeBuildTicks:function(){helpers$1.callback(this.options.beforeBuildTicks,[this]);},buildTicks:helpers$1.noop,afterBuildTicks:function(ticks){var me=this;if(isArray(ticks)&&ticks.length){return helpers$1.callback(me.options.afterBuildTicks,[me,ticks]);}
me.ticks=helpers$1.callback(me.options.afterBuildTicks,[me,me.ticks])||me.ticks;return ticks;},beforeTickToLabelConversion:function(){helpers$1.callback(this.options.beforeTickToLabelConversion,[this]);},convertTicksToLabels:function(){var me=this;var tickOpts=me.options.ticks;me.ticks=me.ticks.map(tickOpts.userCallback||tickOpts.callback,this);},afterTickToLabelConversion:function(){helpers$1.callback(this.options.afterTickToLabelConversion,[this]);},beforeCalculateTickRotation:function(){helpers$1.callback(this.options.beforeCalculateTickRotation,[this]);},calculateTickRotation:function(){var me=this;var options=me.options;var tickOpts=options.ticks;var numTicks=me.getTicks().length;var minRotation=tickOpts.minRotation||0;var maxRotation=tickOpts.maxRotation;var labelRotation=minRotation;var labelSizes,maxLabelWidth,maxLabelHeight,maxWidth,tickWidth,maxHeight,maxLabelDiagonal;if(!me._isVisible()||!tickOpts.display||minRotation>=maxRotation||numTicks<=1||!me.isHorizontal()){me.labelRotation=minRotation;return;}
labelSizes=me._getLabelSizes();maxLabelWidth=labelSizes.widest.width;maxLabelHeight=labelSizes.highest.height-labelSizes.highest.offset;maxWidth=Math.min(me.maxWidth,me.chart.width-maxLabelWidth);tickWidth=options.offset?me.maxWidth / numTicks:maxWidth /(numTicks-1);if(maxLabelWidth+6>tickWidth){tickWidth=maxWidth /(numTicks-(options.offset?0.5:1));maxHeight=me.maxHeight-getTickMarkLength(options.gridLines)
-tickOpts.padding-getScaleLabelHeight(options.scaleLabel);maxLabelDiagonal=Math.sqrt(maxLabelWidth*maxLabelWidth+maxLabelHeight*maxLabelHeight);labelRotation=helpers$1.toDegrees(Math.min(Math.asin(Math.min((labelSizes.highest.height+6)/ tickWidth,1)),Math.asin(Math.min(maxHeight / maxLabelDiagonal,1))-Math.asin(maxLabelHeight / maxLabelDiagonal)));labelRotation=Math.max(minRotation,Math.min(maxRotation,labelRotation));}
me.labelRotation=labelRotation;},afterCalculateTickRotation:function(){helpers$1.callback(this.options.afterCalculateTickRotation,[this]);},beforeFit:function(){helpers$1.callback(this.options.beforeFit,[this]);},fit:function(){var me=this;var minSize=me.minSize={width:0,height:0};var chart=me.chart;var opts=me.options;var tickOpts=opts.ticks;var scaleLabelOpts=opts.scaleLabel;var gridLineOpts=opts.gridLines;var display=me._isVisible();var isBottom=opts.position==='bottom';var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;}else if(display){minSize.width=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts);}
if(!isHorizontal){minSize.height=me.maxHeight;}else if(display){minSize.height=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts);}
if(tickOpts.display&&display){var tickFonts=parseTickFontOptions(tickOpts);var labelSizes=me._getLabelSizes();var firstLabelSize=labelSizes.first;var lastLabelSize=labelSizes.last;var widestLabelSize=labelSizes.widest;var highestLabelSize=labelSizes.highest;var lineSpace=tickFonts.minor.lineHeight*0.4;var tickPadding=tickOpts.padding;if(isHorizontal){var isRotated=me.labelRotation!==0;var angleRadians=helpers$1.toRadians(me.labelRotation);var cosRotation=Math.cos(angleRadians);var sinRotation=Math.sin(angleRadians);var labelHeight=sinRotation*widestLabelSize.width
+cosRotation*(highestLabelSize.height-(isRotated?highestLabelSize.offset:0))
+(isRotated?0:lineSpace);minSize.height=Math.min(me.maxHeight,minSize.height+labelHeight+tickPadding);var offsetLeft=me.getPixelForTick(0)-me.left;var offsetRight=me.right-me.getPixelForTick(me.getTicks().length-1);var paddingLeft,paddingRight;if(isRotated){paddingLeft=isBottom?cosRotation*firstLabelSize.width+sinRotation*firstLabelSize.offset:sinRotation*(firstLabelSize.height-firstLabelSize.offset);paddingRight=isBottom?sinRotation*(lastLabelSize.height-lastLabelSize.offset):cosRotation*lastLabelSize.width+sinRotation*lastLabelSize.offset;}else{paddingLeft=firstLabelSize.width / 2;paddingRight=lastLabelSize.width / 2;}
me.paddingLeft=Math.max((paddingLeft-offsetLeft)*me.width /(me.width-offsetLeft),0)+3;me.paddingRight=Math.max((paddingRight-offsetRight)*me.width /(me.width-offsetRight),0)+3;}else{var labelWidth=tickOpts.mirror?0:widestLabelSize.width+tickPadding+lineSpace;minSize.width=Math.min(me.maxWidth,minSize.width+labelWidth);me.paddingTop=firstLabelSize.height / 2;me.paddingBottom=lastLabelSize.height / 2;}}
me.handleMargins();if(isHorizontal){me.width=me._length=chart.width-me.margins.left-me.margins.right;me.height=minSize.height;}else{me.width=minSize.width;me.height=me._length=chart.height-me.margins.top-me.margins.bottom;}},handleMargins:function(){var me=this;if(me.margins){me.margins.left=Math.max(me.paddingLeft,me.margins.left);me.margins.top=Math.max(me.paddingTop,me.margins.top);me.margins.right=Math.max(me.paddingRight,me.margins.right);me.margins.bottom=Math.max(me.paddingBottom,me.margins.bottom);}},afterFit:function(){helpers$1.callback(this.options.afterFit,[this]);},isHorizontal:function(){var pos=this.options.position;return pos==='top'||pos==='bottom';},isFullWidth:function(){return this.options.fullWidth;},getRightValue:function(rawValue){if(isNullOrUndef(rawValue)){return NaN;}
if((typeof rawValue==='number'||rawValue instanceof Number)&&!isFinite(rawValue)){return NaN;}
if(rawValue){if(this.isHorizontal()){if(rawValue.x!==undefined){return this.getRightValue(rawValue.x);}}else if(rawValue.y!==undefined){return this.getRightValue(rawValue.y);}}
return rawValue;},_convertTicksToLabels:function(ticks){var me=this;var labels,i,ilen;me.ticks=ticks.map(function(tick){return tick.value;});me.beforeTickToLabelConversion();labels=me.convertTicksToLabels(ticks)||me.ticks;me.afterTickToLabelConversion();for(i=0,ilen=ticks.length;i<ilen;++i){ticks[i].label=labels[i];}
return labels;},_getLabelSizes:function(){var me=this;var labelSizes=me._labelSizes;if(!labelSizes){me._labelSizes=labelSizes=computeLabelSizes(me.ctx,parseTickFontOptions(me.options.ticks),me.getTicks(),me.longestTextCache);me.longestLabelWidth=labelSizes.widest.width;}
return labelSizes;},_parseValue:function(value){var start,end,min,max;if(isArray(value)){start=+this.getRightValue(value[0]);end=+this.getRightValue(value[1]);min=Math.min(start,end);max=Math.max(start,end);}else{value=+this.getRightValue(value);start=undefined;end=value;min=value;max=value;}
return{min:min,max:max,start:start,end:end};},_getScaleLabel:function(rawValue){var v=this._parseValue(rawValue);if(v.start!==undefined){return'['+v.start+', '+v.end+']';}
return+this.getRightValue(rawValue);},getLabelForIndex:helpers$1.noop,getPixelForValue:helpers$1.noop,getValueForPixel:helpers$1.noop,getPixelForTick:function(index){var me=this;var offset=me.options.offset;var numTicks=me._ticks.length;var tickWidth=1 / Math.max(numTicks-(offset?0:1),1);return index<0||index>numTicks-1?null:me.getPixelForDecimal(index*tickWidth+(offset?tickWidth / 2:0));},getPixelForDecimal:function(decimal){var me=this;if(me._reversePixels){decimal=1-decimal;}
return me._startPixel+decimal*me._length;},getDecimalForPixel:function(pixel){var decimal=(pixel-this._startPixel)/ this._length;return this._reversePixels?1-decimal:decimal;},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue());},getBaseValue:function(){var me=this;var min=me.min;var max=me.max;return me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0;},_autoSkip:function(ticks){var me=this;var tickOpts=me.options.ticks;var axisLength=me._length;var ticksLimit=tickOpts.maxTicksLimit||axisLength / me._tickSize()+1;var majorIndices=tickOpts.major.enabled?getMajorIndices(ticks):[];var numMajorIndices=majorIndices.length;var first=majorIndices[0];var last=majorIndices[numMajorIndices-1];var i,ilen,spacing,avgMajorSpacing;if(numMajorIndices>ticksLimit){skipMajors(ticks,majorIndices,numMajorIndices / ticksLimit);return nonSkipped(ticks);}
spacing=calculateSpacing(majorIndices,ticks,axisLength,ticksLimit);if(numMajorIndices>0){for(i=0,ilen=numMajorIndices-1;i<ilen;i++){skip(ticks,spacing,majorIndices[i],majorIndices[i+1]);}
avgMajorSpacing=numMajorIndices>1?(last-first)/(numMajorIndices-1):null;skip(ticks,spacing,helpers$1.isNullOrUndef(avgMajorSpacing)?0:first-avgMajorSpacing,first);skip(ticks,spacing,last,helpers$1.isNullOrUndef(avgMajorSpacing)?ticks.length:last+avgMajorSpacing);return nonSkipped(ticks);}
skip(ticks,spacing);return nonSkipped(ticks);},_tickSize:function(){var me=this;var optionTicks=me.options.ticks;var rot=helpers$1.toRadians(me.labelRotation);var cos=Math.abs(Math.cos(rot));var sin=Math.abs(Math.sin(rot));var labelSizes=me._getLabelSizes();var padding=optionTicks.autoSkipPadding||0;var w=labelSizes?labelSizes.widest.width+padding:0;var h=labelSizes?labelSizes.highest.height+padding:0;return me.isHorizontal()?h*cos>w*sin?w / cos:h / sin:h*sin<w*cos?h / cos:w / sin;},_isVisible:function(){var me=this;var chart=me.chart;var display=me.options.display;var i,ilen,meta;if(display!=='auto'){return!!display;}
for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);if(meta.xAxisID===me.id||meta.yAxisID===me.id){return true;}}}
return false;},_computeGridLineItems:function(chartArea){var me=this;var chart=me.chart;var options=me.options;var gridLines=options.gridLines;var position=options.position;var offsetGridLines=gridLines.offsetGridLines;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var ticksLength=ticks.length+(offsetGridLines?1:0);var tl=getTickMarkLength(gridLines);var items=[];var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var axisHalfWidth=axisWidth / 2;var alignPixel=helpers$1._alignPixel;var alignBorderValue=function(pixel){return alignPixel(chart,pixel,axisWidth);};var borderValue,i,tick,lineValue,alignedLineValue;var tx1,ty1,tx2,ty2,x1,y1,x2,y2,lineWidth,lineColor,borderDash,borderDashOffset;if(position==='top'){borderValue=alignBorderValue(me.bottom);ty1=me.bottom-tl;ty2=borderValue-axisHalfWidth;y1=alignBorderValue(chartArea.top)+axisHalfWidth;y2=chartArea.bottom;}else if(position==='bottom'){borderValue=alignBorderValue(me.top);y1=chartArea.top;y2=alignBorderValue(chartArea.bottom)-axisHalfWidth;ty1=borderValue+axisHalfWidth;ty2=me.top+tl;}else if(position==='left'){borderValue=alignBorderValue(me.right);tx1=me.right-tl;tx2=borderValue-axisHalfWidth;x1=alignBorderValue(chartArea.left)+axisHalfWidth;x2=chartArea.right;}else{borderValue=alignBorderValue(me.left);x1=chartArea.left;x2=alignBorderValue(chartArea.right)-axisHalfWidth;tx1=borderValue+axisHalfWidth;tx2=me.left+tl;}
for(i=0;i<ticksLength;++i){tick=ticks[i]||{};if(isNullOrUndef(tick.label)&&i<ticks.length){continue;}
if(i===me.zeroLineIndex&&options.offset===offsetGridLines){lineWidth=gridLines.zeroLineWidth;lineColor=gridLines.zeroLineColor;borderDash=gridLines.zeroLineBorderDash||[];borderDashOffset=gridLines.zeroLineBorderDashOffset||0.0;}else{lineWidth=valueAtIndexOrDefault(gridLines.lineWidth,i,1);lineColor=valueAtIndexOrDefault(gridLines.color,i,'rgba(0,0,0,0.1)');borderDash=gridLines.borderDash||[];borderDashOffset=gridLines.borderDashOffset||0.0;}
lineValue=getPixelForGridLine(me,tick._index||i,offsetGridLines);if(lineValue===undefined){continue;}
alignedLineValue=alignPixel(chart,lineValue,lineWidth);if(isHorizontal){tx1=tx2=x1=x2=alignedLineValue;}else{ty1=ty2=y1=y2=alignedLineValue;}
items.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,width:lineWidth,color:lineColor,borderDash:borderDash,borderDashOffset:borderDashOffset,});}
items.ticksLength=ticksLength;items.borderValue=borderValue;return items;},_computeLabelItems:function(){var me=this;var options=me.options;var optionTicks=options.ticks;var position=options.position;var isMirrored=optionTicks.mirror;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var fonts=parseTickFontOptions(optionTicks);var tickPadding=optionTicks.padding;var tl=getTickMarkLength(options.gridLines);var rotation=-helpers$1.toRadians(me.labelRotation);var items=[];var i,ilen,tick,label,x,y,textAlign,pixel,font,lineHeight,lineCount,textOffset;if(position==='top'){y=me.bottom-tl-tickPadding;textAlign=!rotation?'center':'left';}else if(position==='bottom'){y=me.top+tl+tickPadding;textAlign=!rotation?'center':'right';}else if(position==='left'){x=me.right-(isMirrored?0:tl)-tickPadding;textAlign=isMirrored?'left':'right';}else{x=me.left+(isMirrored?0:tl)+tickPadding;textAlign=isMirrored?'right':'left';}
for(i=0,ilen=ticks.length;i<ilen;++i){tick=ticks[i];label=tick.label;if(isNullOrUndef(label)){continue;}
pixel=me.getPixelForTick(tick._index||i)+optionTicks.labelOffset;font=tick.major?fonts.major:fonts.minor;lineHeight=font.lineHeight;lineCount=isArray(label)?label.length:1;if(isHorizontal){x=pixel;textOffset=position==='top'?((!rotation?0.5:1)-lineCount)*lineHeight:(!rotation?0.5:0)*lineHeight;}else{y=pixel;textOffset=(1-lineCount)*lineHeight / 2;}
items.push({x:x,y:y,rotation:rotation,label:label,font:font,textOffset:textOffset,textAlign:textAlign});}
return items;},_drawGrid:function(chartArea){var me=this;var gridLines=me.options.gridLines;if(!gridLines.display){return;}
var ctx=me.ctx;var chart=me.chart;var alignPixel=helpers$1._alignPixel;var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var items=me._gridLineItems||(me._gridLineItems=me._computeGridLineItems(chartArea));var width,color,i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];width=item.width;color=item.color;if(width&&color){ctx.save();ctx.lineWidth=width;ctx.strokeStyle=color;if(ctx.setLineDash){ctx.setLineDash(item.borderDash);ctx.lineDashOffset=item.borderDashOffset;}
ctx.beginPath();if(gridLines.drawTicks){ctx.moveTo(item.tx1,item.ty1);ctx.lineTo(item.tx2,item.ty2);}
if(gridLines.drawOnChartArea){ctx.moveTo(item.x1,item.y1);ctx.lineTo(item.x2,item.y2);}
ctx.stroke();ctx.restore();}}
if(axisWidth){var firstLineWidth=axisWidth;var lastLineWidth=valueAtIndexOrDefault(gridLines.lineWidth,items.ticksLength-1,1);var borderValue=items.borderValue;var x1,x2,y1,y2;if(me.isHorizontal()){x1=alignPixel(chart,me.left,firstLineWidth)-firstLineWidth / 2;x2=alignPixel(chart,me.right,lastLineWidth)+lastLineWidth / 2;y1=y2=borderValue;}else{y1=alignPixel(chart,me.top,firstLineWidth)-firstLineWidth / 2;y2=alignPixel(chart,me.bottom,lastLineWidth)+lastLineWidth / 2;x1=x2=borderValue;}
ctx.lineWidth=axisWidth;ctx.strokeStyle=valueAtIndexOrDefault(gridLines.color,0);ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();}},_drawLabels:function(){var me=this;var optionTicks=me.options.ticks;if(!optionTicks.display){return;}
var ctx=me.ctx;var items=me._labelItems||(me._labelItems=me._computeLabelItems());var i,j,ilen,jlen,item,tickFont,label,y;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];tickFont=item.font;ctx.save();ctx.translate(item.x,item.y);ctx.rotate(item.rotation);ctx.font=tickFont.string;ctx.fillStyle=tickFont.color;ctx.textBaseline='middle';ctx.textAlign=item.textAlign;label=item.label;y=item.textOffset;if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){ctx.fillText(''+label[j],0,y);y+=tickFont.lineHeight;}}else{ctx.fillText(label,0,y);}
ctx.restore();}},_drawTitle:function(){var me=this;var ctx=me.ctx;var options=me.options;var scaleLabel=options.scaleLabel;if(!scaleLabel.display){return;}
var scaleLabelFontColor=valueOrDefault$a(scaleLabel.fontColor,core_defaults.global.defaultFontColor);var scaleLabelFont=helpers$1.options._parseFont(scaleLabel);var scaleLabelPadding=helpers$1.options.toPadding(scaleLabel.padding);var halfLineHeight=scaleLabelFont.lineHeight / 2;var position=options.position;var rotation=0;var scaleLabelX,scaleLabelY;if(me.isHorizontal()){scaleLabelX=me.left+me.width / 2;scaleLabelY=position==='bottom'?me.bottom-halfLineHeight-scaleLabelPadding.bottom:me.top+halfLineHeight+scaleLabelPadding.top;}else{var isLeft=position==='left';scaleLabelX=isLeft?me.left+halfLineHeight+scaleLabelPadding.top:me.right-halfLineHeight-scaleLabelPadding.top;scaleLabelY=me.top+me.height / 2;rotation=isLeft?-0.5*Math.PI:0.5*Math.PI;}
ctx.save();ctx.translate(scaleLabelX,scaleLabelY);ctx.rotate(rotation);ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle=scaleLabelFontColor;ctx.font=scaleLabelFont.string;ctx.fillText(scaleLabel.labelString,0,0);ctx.restore();},draw:function(chartArea){var me=this;if(!me._isVisible()){return;}
me._drawGrid(chartArea);me._drawTitle();me._drawLabels();},_layers:function(){var me=this;var opts=me.options;var tz=opts.ticks&&opts.ticks.z||0;var gz=opts.gridLines&&opts.gridLines.z||0;if(!me._isVisible()||tz===gz||me.draw!==me._draw){return[{z:tz,draw:function(){me.draw.apply(me,arguments);}}];}
return[{z:gz,draw:function(){me._drawGrid.apply(me,arguments);me._drawTitle.apply(me,arguments);}},{z:tz,draw:function(){me._drawLabels.apply(me,arguments);}}];},_getMatchingVisibleMetas:function(type){var me=this;var isHorizontal=me.isHorizontal();return me.chart._getSortedVisibleDatasetMetas().filter(function(meta){return(!type||meta.type===type)&&(isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id);});}});Scale.prototype._draw=Scale.prototype.draw;var core_scale=Scale;var isNullOrUndef$1=helpers$1.isNullOrUndef;var defaultConfig={position:'bottom'};var scale_category=core_scale.extend({determineDataLimits:function(){var me=this;var labels=me._getLabels();var ticksOpts=me.options.ticks;var min=ticksOpts.min;var max=ticksOpts.max;var minIndex=0;var maxIndex=labels.length-1;var findIndex;if(min!==undefined){findIndex=labels.indexOf(min);if(findIndex>=0){minIndex=findIndex;}}
if(max!==undefined){findIndex=labels.indexOf(max);if(findIndex>=0){maxIndex=findIndex;}}
me.minIndex=minIndex;me.maxIndex=maxIndex;me.min=labels[minIndex];me.max=labels[maxIndex];},buildTicks:function(){var me=this;var labels=me._getLabels();var minIndex=me.minIndex;var maxIndex=me.maxIndex;me.ticks=(minIndex===0&&maxIndex===labels.length-1)?labels:labels.slice(minIndex,maxIndex+1);},getLabelForIndex:function(index,datasetIndex){var me=this;var chart=me.chart;if(chart.getDatasetMeta(datasetIndex).controller._getValueScaleId()===me.id){return me.getRightValue(chart.data.datasets[datasetIndex].data[index]);}
return me._getLabels()[index];},_configure:function(){var me=this;var offset=me.options.offset;var ticks=me.ticks;core_scale.prototype._configure.call(me);if(!me.isHorizontal()){me._reversePixels=!me._reversePixels;}
if(!ticks){return;}
me._startValue=me.minIndex-(offset?0.5:0);me._valueRange=Math.max(ticks.length-(offset?0:1),1);},getPixelForValue:function(value,index,datasetIndex){var me=this;var valueCategory,labels,idx;if(!isNullOrUndef$1(index)&&!isNullOrUndef$1(datasetIndex)){value=me.chart.data.datasets[datasetIndex].data[index];}
if(!isNullOrUndef$1(value)){valueCategory=me.isHorizontal()?value.x:value.y;}
if(valueCategory!==undefined||(value!==undefined&&isNaN(index))){labels=me._getLabels();value=helpers$1.valueOrDefault(valueCategory,value);idx=labels.indexOf(value);index=idx!==-1?idx:index;if(isNaN(index)){index=value;}}
return me.getPixelForDecimal((index-me._startValue)/ me._valueRange);},getPixelForTick:function(index){var ticks=this.ticks;return index<0||index>ticks.length-1?null:this.getPixelForValue(ticks[index],index+this.minIndex);},getValueForPixel:function(pixel){var me=this;var value=Math.round(me._startValue+me.getDecimalForPixel(pixel)*me._valueRange);return Math.min(Math.max(value,0),me.ticks.length-1);},getBasePixel:function(){return this.bottom;}});var _defaults=defaultConfig;scale_category._defaults=_defaults;var noop=helpers$1.noop;var isNullOrUndef$2=helpers$1.isNullOrUndef;function generateTicks(generationOptions,dataRange){var ticks=[];var MIN_SPACING=1e-14;var stepSize=generationOptions.stepSize;var unit=stepSize||1;var maxNumSpaces=generationOptions.maxTicks-1;var min=generationOptions.min;var max=generationOptions.max;var precision=generationOptions.precision;var rmin=dataRange.min;var rmax=dataRange.max;var spacing=helpers$1.niceNum((rmax-rmin)/ maxNumSpaces / unit)*unit;var factor,niceMin,niceMax,numSpaces;if(spacing<MIN_SPACING&&isNullOrUndef$2(min)&&isNullOrUndef$2(max)){return[rmin,rmax];}
numSpaces=Math.ceil(rmax / spacing)-Math.floor(rmin / spacing);if(numSpaces>maxNumSpaces){spacing=helpers$1.niceNum(numSpaces*spacing / maxNumSpaces / unit)*unit;}
if(stepSize||isNullOrUndef$2(precision)){factor=Math.pow(10,helpers$1._decimalPlaces(spacing));}else{factor=Math.pow(10,precision);spacing=Math.ceil(spacing*factor)/ factor;}
niceMin=Math.floor(rmin / spacing)*spacing;niceMax=Math.ceil(rmax / spacing)*spacing;if(stepSize){if(!isNullOrUndef$2(min)&&helpers$1.almostWhole(min / spacing,spacing / 1000)){niceMin=min;}
if(!isNullOrUndef$2(max)&&helpers$1.almostWhole(max / spacing,spacing / 1000)){niceMax=max;}}
numSpaces=(niceMax-niceMin)/ spacing;if(helpers$1.almostEquals(numSpaces,Math.round(numSpaces),spacing / 1000)){numSpaces=Math.round(numSpaces);}else{numSpaces=Math.ceil(numSpaces);}
niceMin=Math.round(niceMin*factor)/ factor;niceMax=Math.round(niceMax*factor)/ factor;ticks.push(isNullOrUndef$2(min)?niceMin:min);for(var j=1;j<numSpaces;++j){ticks.push(Math.round((niceMin+j*spacing)*factor)/ factor);}
ticks.push(isNullOrUndef$2(max)?niceMax:max);return ticks;}
var scale_linearbase=core_scale.extend({getRightValue:function(value){if(typeof value==='string'){return+value;}
return core_scale.prototype.getRightValue.call(this,value);},handleTickRangeOptions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;if(tickOpts.beginAtZero){var minSign=helpers$1.sign(me.min);var maxSign=helpers$1.sign(me.max);if(minSign<0&&maxSign<0){me.max=0;}else if(minSign>0&&maxSign>0){me.min=0;}}
var setMin=tickOpts.min!==undefined||tickOpts.suggestedMin!==undefined;var setMax=tickOpts.max!==undefined||tickOpts.suggestedMax!==undefined;if(tickOpts.min!==undefined){me.min=tickOpts.min;}else if(tickOpts.suggestedMin!==undefined){if(me.min===null){me.min=tickOpts.suggestedMin;}else{me.min=Math.min(me.min,tickOpts.suggestedMin);}}
if(tickOpts.max!==undefined){me.max=tickOpts.max;}else if(tickOpts.suggestedMax!==undefined){if(me.max===null){me.max=tickOpts.suggestedMax;}else{me.max=Math.max(me.max,tickOpts.suggestedMax);}}
if(setMin!==setMax){if(me.min>=me.max){if(setMin){me.max=me.min+1;}else{me.min=me.max-1;}}}
if(me.min===me.max){me.max++;if(!tickOpts.beginAtZero){me.min--;}}},getTickLimit:function(){var me=this;var tickOpts=me.options.ticks;var stepSize=tickOpts.stepSize;var maxTicksLimit=tickOpts.maxTicksLimit;var maxTicks;if(stepSize){maxTicks=Math.ceil(me.max / stepSize)-Math.floor(me.min / stepSize)+1;}else{maxTicks=me._computeTickLimit();maxTicksLimit=maxTicksLimit||11;}
if(maxTicksLimit){maxTicks=Math.min(maxTicksLimit,maxTicks);}
return maxTicks;},_computeTickLimit:function(){return Number.POSITIVE_INFINITY;},handleDirectionalChanges:noop,buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var maxTicks=me.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,min:tickOpts.min,max:tickOpts.max,precision:tickOpts.precision,stepSize:helpers$1.valueOrDefault(tickOpts.fixedStepSize,tickOpts.stepSize)};var ticks=me.ticks=generateTicks(numericGeneratorOptions,me);me.handleDirectionalChanges();me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){ticks.reverse();me.start=me.max;me.end=me.min;}else{me.start=me.min;me.end=me.max;}},convertTicksToLabels:function(){var me=this;me.ticksAsNumbers=me.ticks.slice();me.zeroLineIndex=me.ticks.indexOf(0);core_scale.prototype.convertTicksToLabels.call(me);},_configure:function(){var me=this;var ticks=me.getTicks();var start=me.min;var end=me.max;var offset;core_scale.prototype._configure.call(me);if(me.options.offset&&ticks.length){offset=(end-start)/ Math.max(ticks.length-1,1)/ 2;start-=offset;end+=offset;}
me._startValue=start;me._endValue=end;me._valueRange=end-start;}});var defaultConfig$1={position:'left',ticks:{callback:core_ticks.formatters.linear}};var DEFAULT_MIN=0;var DEFAULT_MAX=1;function getOrCreateStack(stacks,stacked,meta){var key=[meta.type,stacked===undefined&&meta.stack===undefined?meta.index:'',meta.stack].join('.');if(stacks[key]===undefined){stacks[key]={pos:[],neg:[]};}
return stacks[key];}
function stackData(scale,stacks,meta,data){var opts=scale.options;var stacked=opts.stacked;var stack=getOrCreateStack(stacks,stacked,meta);var pos=stack.pos;var neg=stack.neg;var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue;}
pos[i]=pos[i]||0;neg[i]=neg[i]||0;if(opts.relativePoints){pos[i]=100;}else if(value.min<0||value.max<0){neg[i]+=value.min;}else{pos[i]+=value.max;}}}
function updateMinMax(scale,meta,data){var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue;}
scale.min=Math.min(scale.min,value.min);scale.max=Math.max(scale.max,value.max);}}
var scale_linear=scale_linearbase.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var metasets=me._getMatchingVisibleMetas();var hasStacks=opts.stacked;var stacks={};var ilen=metasets.length;var i,meta,data,values;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;if(hasStacks===undefined){for(i=0;!hasStacks&&i<ilen;++i){meta=metasets[i];hasStacks=meta.stack!==undefined;}}
for(i=0;i<ilen;++i){meta=metasets[i];data=datasets[meta.index].data;if(hasStacks){stackData(me,stacks,meta,data);}else{updateMinMax(me,meta,data);}}
helpers$1.each(stacks,function(stackValues){values=stackValues.pos.concat(stackValues.neg);me.min=Math.min(me.min,helpers$1.min(values));me.max=Math.max(me.max,helpers$1.max(values));});me.min=helpers$1.isFinite(me.min)&&!isNaN(me.min)?me.min:DEFAULT_MIN;me.max=helpers$1.isFinite(me.max)&&!isNaN(me.max)?me.max:DEFAULT_MAX;me.handleTickRangeOptions();},_computeTickLimit:function(){var me=this;var tickFont;if(me.isHorizontal()){return Math.ceil(me.width / 40);}
tickFont=helpers$1.options._parseFont(me.options.ticks);return Math.ceil(me.height / tickFont.lineHeight);},handleDirectionalChanges:function(){if(!this.isHorizontal()){this.ticks.reverse();}},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);},getPixelForValue:function(value){var me=this;return me.getPixelForDecimal((+me.getRightValue(value)-me._startValue)/ me._valueRange);},getValueForPixel:function(pixel){return this._startValue+this.getDecimalForPixel(pixel)*this._valueRange;},getPixelForTick:function(index){var ticks=this.ticksAsNumbers;if(index<0||index>ticks.length-1){return null;}
return this.getPixelForValue(ticks[index]);}});var _defaults$1=defaultConfig$1;scale_linear._defaults=_defaults$1;var valueOrDefault$b=helpers$1.valueOrDefault;var log10=helpers$1.math.log10;function generateTicks$1(generationOptions,dataRange){var ticks=[];var tickVal=valueOrDefault$b(generationOptions.min,Math.pow(10,Math.floor(log10(dataRange.min))));var endExp=Math.floor(log10(dataRange.max));var endSignificand=Math.ceil(dataRange.max / Math.pow(10,endExp));var exp,significand;if(tickVal===0){exp=Math.floor(log10(dataRange.minNotZero));significand=Math.floor(dataRange.minNotZero / Math.pow(10,exp));ticks.push(tickVal);tickVal=significand*Math.pow(10,exp);}else{exp=Math.floor(log10(tickVal));significand=Math.floor(tickVal / Math.pow(10,exp));}
var precision=exp<0?Math.pow(10,Math.abs(exp)):1;do{ticks.push(tickVal);++significand;if(significand===10){significand=1;++exp;precision=exp>=0?1:precision;}
tickVal=Math.round(significand*Math.pow(10,exp)*precision)/ precision;}while(exp<endExp||(exp===endExp&&significand<endSignificand));var lastTick=valueOrDefault$b(generationOptions.max,tickVal);ticks.push(lastTick);return ticks;}
var defaultConfig$2={position:'left',ticks:{callback:core_ticks.formatters.logarithmic}};function nonNegativeOrDefault(value,defaultValue){return helpers$1.isFinite(value)&&value>=0?value:defaultValue;}
var scale_logarithmic=core_scale.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var isHorizontal=me.isHorizontal();function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id;}
var datasetIndex,meta,value,data,i,ilen;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;me.minNotZero=Number.POSITIVE_INFINITY;var hasStacks=opts.stacked;if(hasStacks===undefined){for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined){hasStacks=true;break;}}}
if(opts.stacked||hasStacks){var valuesPerStack={};for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,((opts.stacked===undefined&&meta.stack===undefined)?datasetIndex:''),meta.stack].join('.');if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){if(valuesPerStack[key]===undefined){valuesPerStack[key]=[];}
data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){var values=valuesPerStack[key];value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue;}
values[i]=values[i]||0;values[i]+=value.max;}}}
helpers$1.each(valuesPerStack,function(valuesForType){if(valuesForType.length>0){var minVal=helpers$1.min(valuesForType);var maxVal=helpers$1.max(valuesForType);me.min=Math.min(me.min,minVal);me.max=Math.max(me.max,maxVal);}});}else{for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue;}
me.min=Math.min(value.min,me.min);me.max=Math.max(value.max,me.max);if(value.min!==0){me.minNotZero=Math.min(value.min,me.minNotZero);}}}}}
me.min=helpers$1.isFinite(me.min)?me.min:null;me.max=helpers$1.isFinite(me.max)?me.max:null;me.minNotZero=helpers$1.isFinite(me.minNotZero)?me.minNotZero:null;this.handleTickRangeOptions();},handleTickRangeOptions:function(){var me=this;var tickOpts=me.options.ticks;var DEFAULT_MIN=1;var DEFAULT_MAX=10;me.min=nonNegativeOrDefault(tickOpts.min,me.min);me.max=nonNegativeOrDefault(tickOpts.max,me.max);if(me.min===me.max){if(me.min!==0&&me.min!==null){me.min=Math.pow(10,Math.floor(log10(me.min))-1);me.max=Math.pow(10,Math.floor(log10(me.max))+1);}else{me.min=DEFAULT_MIN;me.max=DEFAULT_MAX;}}
if(me.min===null){me.min=Math.pow(10,Math.floor(log10(me.max))-1);}
if(me.max===null){me.max=me.min!==0?Math.pow(10,Math.floor(log10(me.min))+1):DEFAULT_MAX;}
if(me.minNotZero===null){if(me.min>0){me.minNotZero=me.min;}else if(me.max<1){me.minNotZero=Math.pow(10,Math.floor(log10(me.max)));}else{me.minNotZero=DEFAULT_MIN;}}},buildTicks:function(){var me=this;var tickOpts=me.options.ticks;var reverse=!me.isHorizontal();var generationOptions={min:nonNegativeOrDefault(tickOpts.min),max:nonNegativeOrDefault(tickOpts.max)};var ticks=me.ticks=generateTicks$1(generationOptions,me);me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){reverse=!reverse;me.start=me.max;me.end=me.min;}else{me.start=me.min;me.end=me.max;}
if(reverse){ticks.reverse();}},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();core_scale.prototype.convertTicksToLabels.call(this);},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);},getPixelForTick:function(index){var ticks=this.tickValues;if(index<0||index>ticks.length-1){return null;}
return this.getPixelForValue(ticks[index]);},_getFirstTickValue:function(value){var exp=Math.floor(log10(value));var significand=Math.floor(value / Math.pow(10,exp));return significand*Math.pow(10,exp);},_configure:function(){var me=this;var start=me.min;var offset=0;core_scale.prototype._configure.call(me);if(start===0){start=me._getFirstTickValue(me.minNotZero);offset=valueOrDefault$b(me.options.ticks.fontSize,core_defaults.global.defaultFontSize)/ me._length;}
me._startValue=log10(start);me._valueOffset=offset;me._valueRange=(log10(me.max)-log10(start))/(1-offset);},getPixelForValue:function(value){var me=this;var decimal=0;value=+me.getRightValue(value);if(value>me.min&&value>0){decimal=(log10(value)-me._startValue)/ me._valueRange+me._valueOffset;}
return me.getPixelForDecimal(decimal);},getValueForPixel:function(pixel){var me=this;var decimal=me.getDecimalForPixel(pixel);return decimal===0&&me.min===0?0:Math.pow(10,me._startValue+(decimal-me._valueOffset)*me._valueRange);}});var _defaults$2=defaultConfig$2;scale_logarithmic._defaults=_defaults$2;var valueOrDefault$c=helpers$1.valueOrDefault;var valueAtIndexOrDefault$1=helpers$1.valueAtIndexOrDefault;var resolve$4=helpers$1.options.resolve;var defaultConfig$3={display:true,animate:true,position:'chartArea',angleLines:{display:true,color:'rgba(0,0,0,0.1)',lineWidth:1,borderDash:[],borderDashOffset:0.0},gridLines:{circular:false},ticks:{showLabelBackdrop:true,backdropColor:'rgba(255,255,255,0.75)',backdropPaddingY:2,backdropPaddingX:2,callback:core_ticks.formatters.linear},pointLabels:{display:true,fontSize:10,callback:function(label){return label;}}};function getTickBackdropHeight(opts){var tickOpts=opts.ticks;if(tickOpts.display&&opts.display){return valueOrDefault$c(tickOpts.fontSize,core_defaults.global.defaultFontSize)+tickOpts.backdropPaddingY*2;}
return 0;}
function measureLabelSize(ctx,lineHeight,label){if(helpers$1.isArray(label)){return{w:helpers$1.longestText(ctx,ctx.font,label),h:label.length*lineHeight};}
return{w:ctx.measureText(label).width,h:lineHeight};}
function determineLimits(angle,pos,size,min,max){if(angle===min||angle===max){return{start:pos-(size / 2),end:pos+(size / 2)};}else if(angle<min||angle>max){return{start:pos-size,end:pos};}
return{start:pos,end:pos+size};}
function fitWithPointLabels(scale){var plFont=helpers$1.options._parseFont(scale.options.pointLabels);var furthestLimits={l:0,r:scale.width,t:0,b:scale.height-scale.paddingTop};var furthestAngles={};var i,textSize,pointPosition;scale.ctx.font=plFont.string;scale._pointLabelSizes=[];var valueCount=scale.chart.data.labels.length;for(i=0;i<valueCount;i++){pointPosition=scale.getPointPosition(i,scale.drawingArea+5);textSize=measureLabelSize(scale.ctx,plFont.lineHeight,scale.pointLabels[i]);scale._pointLabelSizes[i]=textSize;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians)%360;var hLimits=determineLimits(angle,pointPosition.x,textSize.w,0,180);var vLimits=determineLimits(angle,pointPosition.y,textSize.h,90,270);if(hLimits.start<furthestLimits.l){furthestLimits.l=hLimits.start;furthestAngles.l=angleRadians;}
if(hLimits.end>furthestLimits.r){furthestLimits.r=hLimits.end;furthestAngles.r=angleRadians;}
if(vLimits.start<furthestLimits.t){furthestLimits.t=vLimits.start;furthestAngles.t=angleRadians;}
if(vLimits.end>furthestLimits.b){furthestLimits.b=vLimits.end;furthestAngles.b=angleRadians;}}
scale.setReductions(scale.drawingArea,furthestLimits,furthestAngles);}
function getTextAlignForAngle(angle){if(angle===0||angle===180){return'center';}else if(angle<180){return'left';}
return'right';}
function fillText(ctx,text,position,lineHeight){var y=position.y+lineHeight / 2;var i,ilen;if(helpers$1.isArray(text)){for(i=0,ilen=text.length;i<ilen;++i){ctx.fillText(text[i],position.x,y);y+=lineHeight;}}else{ctx.fillText(text,position.x,y);}}
function adjustPointPositionForLabelHeight(angle,textSize,position){if(angle===90||angle===270){position.y-=(textSize.h / 2);}else if(angle>270||angle<90){position.y-=textSize.h;}}
function drawPointLabels(scale){var ctx=scale.ctx;var opts=scale.options;var pointLabelOpts=opts.pointLabels;var tickBackdropHeight=getTickBackdropHeight(opts);var outerDistance=scale.getDistanceFromCenterForValue(opts.ticks.reverse?scale.min:scale.max);var plFont=helpers$1.options._parseFont(pointLabelOpts);ctx.save();ctx.font=plFont.string;ctx.textBaseline='middle';for(var i=scale.chart.data.labels.length-1;i>=0;i--){var extra=(i===0?tickBackdropHeight / 2:0);var pointLabelPosition=scale.getPointPosition(i,outerDistance+extra+5);var pointLabelFontColor=valueAtIndexOrDefault$1(pointLabelOpts.fontColor,i,core_defaults.global.defaultFontColor);ctx.fillStyle=pointLabelFontColor;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians);ctx.textAlign=getTextAlignForAngle(angle);adjustPointPositionForLabelHeight(angle,scale._pointLabelSizes[i],pointLabelPosition);fillText(ctx,scale.pointLabels[i],pointLabelPosition,plFont.lineHeight);}
ctx.restore();}
function drawRadiusLine(scale,gridLineOpts,radius,index){var ctx=scale.ctx;var circular=gridLineOpts.circular;var valueCount=scale.chart.data.labels.length;var lineColor=valueAtIndexOrDefault$1(gridLineOpts.color,index-1);var lineWidth=valueAtIndexOrDefault$1(gridLineOpts.lineWidth,index-1);var pointPosition;if((!circular&&!valueCount)||!lineColor||!lineWidth){return;}
ctx.save();ctx.strokeStyle=lineColor;ctx.lineWidth=lineWidth;if(ctx.setLineDash){ctx.setLineDash(gridLineOpts.borderDash||[]);ctx.lineDashOffset=gridLineOpts.borderDashOffset||0.0;}
ctx.beginPath();if(circular){ctx.arc(scale.xCenter,scale.yCenter,radius,0,Math.PI*2);}else{pointPosition=scale.getPointPosition(0,radius);ctx.moveTo(pointPosition.x,pointPosition.y);for(var i=1;i<valueCount;i++){pointPosition=scale.getPointPosition(i,radius);ctx.lineTo(pointPosition.x,pointPosition.y);}}
ctx.closePath();ctx.stroke();ctx.restore();}
function numberOrZero(param){return helpers$1.isNumber(param)?param:0;}
var scale_radialLinear=scale_linearbase.extend({setDimensions:function(){var me=this;me.width=me.maxWidth;me.height=me.maxHeight;me.paddingTop=getTickBackdropHeight(me.options)/ 2;me.xCenter=Math.floor(me.width / 2);me.yCenter=Math.floor((me.height-me.paddingTop)/ 2);me.drawingArea=Math.min(me.height-me.paddingTop,me.width)/ 2;},determineDataLimits:function(){var me=this;var chart=me.chart;var min=Number.POSITIVE_INFINITY;var max=Number.NEGATIVE_INFINITY;helpers$1.each(chart.data.datasets,function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);helpers$1.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden){return;}
min=Math.min(value,min);max=Math.max(value,max);});}});me.min=(min===Number.POSITIVE_INFINITY?0:min);me.max=(max===Number.NEGATIVE_INFINITY?0:max);me.handleTickRangeOptions();},_computeTickLimit:function(){return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));},convertTicksToLabels:function(){var me=this;scale_linearbase.prototype.convertTicksToLabels.call(me);me.pointLabels=me.chart.data.labels.map(function(){var label=helpers$1.callback(me.options.pointLabels.callback,arguments,me);return label||label===0?label:'';});},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);},fit:function(){var me=this;var opts=me.options;if(opts.display&&opts.pointLabels.display){fitWithPointLabels(me);}else{me.setCenterPoint(0,0,0,0);}},setReductions:function(largestPossibleRadius,furthestLimits,furthestAngles){var me=this;var radiusReductionLeft=furthestLimits.l / Math.sin(furthestAngles.l);var radiusReductionRight=Math.max(furthestLimits.r-me.width,0)/ Math.sin(furthestAngles.r);var radiusReductionTop=-furthestLimits.t / Math.cos(furthestAngles.t);var radiusReductionBottom=-Math.max(furthestLimits.b-(me.height-me.paddingTop),0)/ Math.cos(furthestAngles.b);radiusReductionLeft=numberOrZero(radiusReductionLeft);radiusReductionRight=numberOrZero(radiusReductionRight);radiusReductionTop=numberOrZero(radiusReductionTop);radiusReductionBottom=numberOrZero(radiusReductionBottom);me.drawingArea=Math.min(Math.floor(largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/ 2),Math.floor(largestPossibleRadius-(radiusReductionTop+radiusReductionBottom)/ 2));me.setCenterPoint(radiusReductionLeft,radiusReductionRight,radiusReductionTop,radiusReductionBottom);},setCenterPoint:function(leftMovement,rightMovement,topMovement,bottomMovement){var me=this;var maxRight=me.width-rightMovement-me.drawingArea;var maxLeft=leftMovement+me.drawingArea;var maxTop=topMovement+me.drawingArea;var maxBottom=(me.height-me.paddingTop)-bottomMovement-me.drawingArea;me.xCenter=Math.floor(((maxLeft+maxRight)/ 2)+me.left);me.yCenter=Math.floor(((maxTop+maxBottom)/ 2)+me.top+me.paddingTop);},getIndexAngle:function(index){var chart=this.chart;var angleMultiplier=360 / chart.data.labels.length;var options=chart.options||{};var startAngle=options.startAngle||0;var angle=(index*angleMultiplier+startAngle)%360;return(angle<0?angle+360:angle)*Math.PI*2 / 360;},getDistanceFromCenterForValue:function(value){var me=this;if(helpers$1.isNullOrUndef(value)){return NaN;}
var scalingFactor=me.drawingArea /(me.max-me.min);if(me.options.ticks.reverse){return(me.max-value)*scalingFactor;}
return(value-me.min)*scalingFactor;},getPointPosition:function(index,distanceFromCenter){var me=this;var thisAngle=me.getIndexAngle(index)-(Math.PI / 2);return{x:Math.cos(thisAngle)*distanceFromCenter+me.xCenter,y:Math.sin(thisAngle)*distanceFromCenter+me.yCenter};},getPointPositionForValue:function(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value));},getBasePosition:function(index){var me=this;var min=me.min;var max=me.max;return me.getPointPositionForValue(index||0,me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0);},_drawGrid:function(){var me=this;var ctx=me.ctx;var opts=me.options;var gridLineOpts=opts.gridLines;var angleLineOpts=opts.angleLines;var lineWidth=valueOrDefault$c(angleLineOpts.lineWidth,gridLineOpts.lineWidth);var lineColor=valueOrDefault$c(angleLineOpts.color,gridLineOpts.color);var i,offset,position;if(opts.pointLabels.display){drawPointLabels(me);}
if(gridLineOpts.display){helpers$1.each(me.ticks,function(label,index){if(index!==0){offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);drawRadiusLine(me,gridLineOpts,offset,index);}});}
if(angleLineOpts.display&&lineWidth&&lineColor){ctx.save();ctx.lineWidth=lineWidth;ctx.strokeStyle=lineColor;if(ctx.setLineDash){ctx.setLineDash(resolve$4([angleLineOpts.borderDash,gridLineOpts.borderDash,[]]));ctx.lineDashOffset=resolve$4([angleLineOpts.borderDashOffset,gridLineOpts.borderDashOffset,0.0]);}
for(i=me.chart.data.labels.length-1;i>=0;i--){offset=me.getDistanceFromCenterForValue(opts.ticks.reverse?me.min:me.max);position=me.getPointPosition(i,offset);ctx.beginPath();ctx.moveTo(me.xCenter,me.yCenter);ctx.lineTo(position.x,position.y);ctx.stroke();}
ctx.restore();}},_drawLabels:function(){var me=this;var ctx=me.ctx;var opts=me.options;var tickOpts=opts.ticks;if(!tickOpts.display){return;}
var startAngle=me.getIndexAngle(0);var tickFont=helpers$1.options._parseFont(tickOpts);var tickFontColor=valueOrDefault$c(tickOpts.fontColor,core_defaults.global.defaultFontColor);var offset,width;ctx.save();ctx.font=tickFont.string;ctx.translate(me.xCenter,me.yCenter);ctx.rotate(startAngle);ctx.textAlign='center';ctx.textBaseline='middle';helpers$1.each(me.ticks,function(label,index){if(index===0&&!tickOpts.reverse){return;}
offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);if(tickOpts.showLabelBackdrop){width=ctx.measureText(label).width;ctx.fillStyle=tickOpts.backdropColor;ctx.fillRect(-width / 2-tickOpts.backdropPaddingX,-offset-tickFont.size / 2-tickOpts.backdropPaddingY,width+tickOpts.backdropPaddingX*2,tickFont.size+tickOpts.backdropPaddingY*2);}
ctx.fillStyle=tickFontColor;ctx.fillText(label,0,-offset);});ctx.restore();},_drawTitle:helpers$1.noop});var _defaults$3=defaultConfig$3;scale_radialLinear._defaults=_defaults$3;var deprecated$1=helpers$1._deprecated;var resolve$5=helpers$1.options.resolve;var valueOrDefault$d=helpers$1.valueOrDefault;var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991;var MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;var INTERVALS={millisecond:{common:true,size:1,steps:1000},second:{common:true,size:1000,steps:60},minute:{common:true,size:60000,steps:60},hour:{common:true,size:3600000,steps:24},day:{common:true,size:86400000,steps:30},week:{common:false,size:604800000,steps:4},month:{common:true,size:2.628e9,steps:12},quarter:{common:false,size:7.884e9,steps:4},year:{common:true,size:3.154e10}};var UNITS=Object.keys(INTERVALS);function sorter(a,b){return a-b;}
function arrayUnique(items){var hash={};var out=[];var i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];if(!hash[item]){hash[item]=true;out.push(item);}}
return out;}
function getMin(options){return helpers$1.valueOrDefault(options.time.min,options.ticks.min);}
function getMax(options){return helpers$1.valueOrDefault(options.time.max,options.ticks.max);}
function buildLookupTable(timestamps,min,max,distribution){if(distribution==='linear'||!timestamps.length){return[{time:min,pos:0},{time:max,pos:1}];}
var table=[];var items=[min];var i,ilen,prev,curr,next;for(i=0,ilen=timestamps.length;i<ilen;++i){curr=timestamps[i];if(curr>min&&curr<max){items.push(curr);}}
items.push(max);for(i=0,ilen=items.length;i<ilen;++i){next=items[i+1];prev=items[i-1];curr=items[i];if(prev===undefined||next===undefined||Math.round((next+prev)/ 2)!==curr){table.push({time:curr,pos:i /(ilen-1)});}}
return table;}
function lookup(table,key,value){var lo=0;var hi=table.length-1;var mid,i0,i1;while(lo>=0&&lo<=hi){mid=(lo+hi)>>1;i0=table[mid-1]||null;i1=table[mid];if(!i0){return{lo:null,hi:i1};}else if(i1[key]<value){lo=mid+1;}else if(i0[key]>value){hi=mid-1;}else{return{lo:i0,hi:i1};}}
return{lo:i1,hi:null};}
function interpolate$1(table,skey,sval,tkey){var range=lookup(table,skey,sval);var prev=!range.lo?table[0]:!range.hi?table[table.length-2]:range.lo;var next=!range.lo?table[1]:!range.hi?table[table.length-1]:range.hi;var span=next[skey]-prev[skey];var ratio=span?(sval-prev[skey])/ span:0;var offset=(next[tkey]-prev[tkey])*ratio;return prev[tkey]+offset;}
function toTimestamp(scale,input){var adapter=scale._adapter;var options=scale.options.time;var parser=options.parser;var format=parser||options.format;var value=input;if(typeof parser==='function'){value=parser(value);}
if(!helpers$1.isFinite(value)){value=typeof format==='string'?adapter.parse(value,format):adapter.parse(value);}
if(value!==null){return+value;}
if(!parser&&typeof format==='function'){value=format(input);if(!helpers$1.isFinite(value)){value=adapter.parse(value);}}
return value;}
function parse(scale,input){if(helpers$1.isNullOrUndef(input)){return null;}
var options=scale.options.time;var value=toTimestamp(scale,scale.getRightValue(input));if(value===null){return value;}
if(options.round){value=+scale._adapter.startOf(value,options.round);}
return value;}
function determineUnitForAutoTicks(minUnit,min,max,capacity){var ilen=UNITS.length;var i,interval,factor;for(i=UNITS.indexOf(minUnit);i<ilen-1;++i){interval=INTERVALS[UNITS[i]];factor=interval.steps?interval.steps:MAX_INTEGER;if(interval.common&&Math.ceil((max-min)/(factor*interval.size))<=capacity){return UNITS[i];}}
return UNITS[ilen-1];}
function determineUnitForFormatting(scale,numTicks,minUnit,min,max){var i,unit;for(i=UNITS.length-1;i>=UNITS.indexOf(minUnit);i--){unit=UNITS[i];if(INTERVALS[unit].common&&scale._adapter.diff(max,min,unit)>=numTicks-1){return unit;}}
return UNITS[minUnit?UNITS.indexOf(minUnit):0];}
function determineMajorUnit(unit){for(var i=UNITS.indexOf(unit)+1,ilen=UNITS.length;i<ilen;++i){if(INTERVALS[UNITS[i]].common){return UNITS[i];}}}
function generate(scale,min,max,capacity){var adapter=scale._adapter;var options=scale.options;var timeOpts=options.time;var minor=timeOpts.unit||determineUnitForAutoTicks(timeOpts.minUnit,min,max,capacity);var stepSize=resolve$5([timeOpts.stepSize,timeOpts.unitStepSize,1]);var weekday=minor==='week'?timeOpts.isoWeekday:false;var first=min;var ticks=[];var time;if(weekday){first=+adapter.startOf(first,'isoWeek',weekday);}
first=+adapter.startOf(first,weekday?'day':minor);if(adapter.diff(max,min,minor)>100000*stepSize){throw min+' and '+max+' are too far apart with stepSize of '+stepSize+' '+minor;}
for(time=first;time<max;time=+adapter.add(time,stepSize,minor)){ticks.push(time);}
if(time===max||options.bounds==='ticks'){ticks.push(time);}
return ticks;}
function computeOffsets(table,ticks,min,max,options){var start=0;var end=0;var first,last;if(options.offset&&ticks.length){first=interpolate$1(table,'time',ticks[0],'pos');if(ticks.length===1){start=1-first;}else{start=(interpolate$1(table,'time',ticks[1],'pos')-first)/ 2;}
last=interpolate$1(table,'time',ticks[ticks.length-1],'pos');if(ticks.length===1){end=last;}else{end=(last-interpolate$1(table,'time',ticks[ticks.length-2],'pos'))/ 2;}}
return{start:start,end:end,factor:1 /(start+1+end)};}
function setMajorTicks(scale,ticks,map,majorUnit){var adapter=scale._adapter;var first=+adapter.startOf(ticks[0].value,majorUnit);var last=ticks[ticks.length-1].value;var major,index;for(major=first;major<=last;major=+adapter.add(major,1,majorUnit)){index=map[major];if(index>=0){ticks[index].major=true;}}
return ticks;}
function ticksFromTimestamps(scale,values,majorUnit){var ticks=[];var map={};var ilen=values.length;var i,value;for(i=0;i<ilen;++i){value=values[i];map[value]=i;ticks.push({value:value,major:false});}
return(ilen===0||!majorUnit)?ticks:setMajorTicks(scale,ticks,map,majorUnit);}
var defaultConfig$4={position:'bottom',distribution:'linear',bounds:'data',adapters:{},time:{parser:false,unit:false,round:false,displayFormat:false,isoWeekday:false,minUnit:'millisecond',displayFormats:{}},ticks:{autoSkip:false,source:'auto',major:{enabled:false}}};var scale_time=core_scale.extend({initialize:function(){this.mergeTicksOptions();core_scale.prototype.initialize.call(this);},update:function(){var me=this;var options=me.options;var time=options.time||(options.time={});var adapter=me._adapter=new core_adapters._date(options.adapters.date);deprecated$1('time scale',time.format,'time.format','time.parser');deprecated$1('time scale',time.min,'time.min','ticks.min');deprecated$1('time scale',time.max,'time.max','ticks.max');helpers$1.mergeIf(time.displayFormats,adapter.formats());return core_scale.prototype.update.apply(me,arguments);},getRightValue:function(rawValue){if(rawValue&&rawValue.t!==undefined){rawValue=rawValue.t;}
return core_scale.prototype.getRightValue.call(this,rawValue);},determineDataLimits:function(){var me=this;var chart=me.chart;var adapter=me._adapter;var options=me.options;var unit=options.time.unit||'day';var min=MAX_INTEGER;var max=MIN_INTEGER;var timestamps=[];var datasets=[];var labels=[];var i,j,ilen,jlen,data,timestamp,labelsAdded;var dataLabels=me._getLabels();for(i=0,ilen=dataLabels.length;i<ilen;++i){labels.push(parse(me,dataLabels[i]));}
for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){if(chart.isDatasetVisible(i)){data=chart.data.datasets[i].data;if(helpers$1.isObject(data[0])){datasets[i]=[];for(j=0,jlen=data.length;j<jlen;++j){timestamp=parse(me,data[j]);timestamps.push(timestamp);datasets[i][j]=timestamp;}}else{datasets[i]=labels.slice(0);if(!labelsAdded){timestamps=timestamps.concat(labels);labelsAdded=true;}}}else{datasets[i]=[];}}
if(labels.length){min=Math.min(min,labels[0]);max=Math.max(max,labels[labels.length-1]);}
if(timestamps.length){timestamps=ilen>1?arrayUnique(timestamps).sort(sorter):timestamps.sort(sorter);min=Math.min(min,timestamps[0]);max=Math.max(max,timestamps[timestamps.length-1]);}
min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;min=min===MAX_INTEGER?+adapter.startOf(Date.now(),unit):min;max=max===MIN_INTEGER?+adapter.endOf(Date.now(),unit)+1:max;me.min=Math.min(min,max);me.max=Math.max(min+1,max);me._table=[];me._timestamps={data:timestamps,datasets:datasets,labels:labels};},buildTicks:function(){var me=this;var min=me.min;var max=me.max;var options=me.options;var tickOpts=options.ticks;var timeOpts=options.time;var timestamps=me._timestamps;var ticks=[];var capacity=me.getLabelCapacity(min);var source=tickOpts.source;var distribution=options.distribution;var i,ilen,timestamp;if(source==='data'||(source==='auto'&&distribution==='series')){timestamps=timestamps.data;}else if(source==='labels'){timestamps=timestamps.labels;}else{timestamps=generate(me,min,max,capacity);}
if(options.bounds==='ticks'&&timestamps.length){min=timestamps[0];max=timestamps[timestamps.length-1];}
min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;for(i=0,ilen=timestamps.length;i<ilen;++i){timestamp=timestamps[i];if(timestamp>=min&&timestamp<=max){ticks.push(timestamp);}}
me.min=min;me.max=max;me._unit=timeOpts.unit||(tickOpts.autoSkip?determineUnitForAutoTicks(timeOpts.minUnit,me.min,me.max,capacity):determineUnitForFormatting(me,ticks.length,timeOpts.minUnit,me.min,me.max));me._majorUnit=!tickOpts.major.enabled||me._unit==='year'?undefined:determineMajorUnit(me._unit);me._table=buildLookupTable(me._timestamps.data,min,max,distribution);me._offsets=computeOffsets(me._table,ticks,min,max,options);if(tickOpts.reverse){ticks.reverse();}
return ticksFromTimestamps(me,ticks,me._majorUnit);},getLabelForIndex:function(index,datasetIndex){var me=this;var adapter=me._adapter;var data=me.chart.data;var timeOpts=me.options.time;var label=data.labels&&index<data.labels.length?data.labels[index]:'';var value=data.datasets[datasetIndex].data[index];if(helpers$1.isObject(value)){label=me.getRightValue(value);}
if(timeOpts.tooltipFormat){return adapter.format(toTimestamp(me,label),timeOpts.tooltipFormat);}
if(typeof label==='string'){return label;}
return adapter.format(toTimestamp(me,label),timeOpts.displayFormats.datetime);},tickFormatFunction:function(time,index,ticks,format){var me=this;var adapter=me._adapter;var options=me.options;var formats=options.time.displayFormats;var minorFormat=formats[me._unit];var majorUnit=me._majorUnit;var majorFormat=formats[majorUnit];var tick=ticks[index];var tickOpts=options.ticks;var major=majorUnit&&majorFormat&&tick&&tick.major;var label=adapter.format(time,format?format:major?majorFormat:minorFormat);var nestedTickOpts=major?tickOpts.major:tickOpts.minor;var formatter=resolve$5([nestedTickOpts.callback,nestedTickOpts.userCallback,tickOpts.callback,tickOpts.userCallback]);return formatter?formatter(label,index,ticks):label;},convertTicksToLabels:function(ticks){var labels=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;++i){labels.push(this.tickFormatFunction(ticks[i].value,i,ticks));}
return labels;},getPixelForOffset:function(time){var me=this;var offsets=me._offsets;var pos=interpolate$1(me._table,'time',time,'pos');return me.getPixelForDecimal((offsets.start+pos)*offsets.factor);},getPixelForValue:function(value,index,datasetIndex){var me=this;var time=null;if(index!==undefined&&datasetIndex!==undefined){time=me._timestamps.datasets[datasetIndex][index];}
if(time===null){time=parse(me,value);}
if(time!==null){return me.getPixelForOffset(time);}},getPixelForTick:function(index){var ticks=this.getTicks();return index>=0&&index<ticks.length?this.getPixelForOffset(ticks[index].value):null;},getValueForPixel:function(pixel){var me=this;var offsets=me._offsets;var pos=me.getDecimalForPixel(pixel)/ offsets.factor-offsets.end;var time=interpolate$1(me._table,'pos',pos,'time');return me._adapter._create(time);},_getLabelSize:function(label){var me=this;var ticksOpts=me.options.ticks;var tickLabelWidth=me.ctx.measureText(label).width;var angle=helpers$1.toRadians(me.isHorizontal()?ticksOpts.maxRotation:ticksOpts.minRotation);var cosRotation=Math.cos(angle);var sinRotation=Math.sin(angle);var tickFontSize=valueOrDefault$d(ticksOpts.fontSize,core_defaults.global.defaultFontSize);return{w:(tickLabelWidth*cosRotation)+(tickFontSize*sinRotation),h:(tickLabelWidth*sinRotation)+(tickFontSize*cosRotation)};},getLabelWidth:function(label){return this._getLabelSize(label).w;},getLabelCapacity:function(exampleTime){var me=this;var timeOpts=me.options.time;var displayFormats=timeOpts.displayFormats;var format=displayFormats[timeOpts.unit]||displayFormats.millisecond;var exampleLabel=me.tickFormatFunction(exampleTime,0,ticksFromTimestamps(me,[exampleTime],me._majorUnit),format);var size=me._getLabelSize(exampleLabel);var capacity=Math.floor(me.isHorizontal()?me.width / size.w:me.height / size.h);if(me.options.offset){capacity--;}
return capacity>0?capacity:1;}});var _defaults$4=defaultConfig$4;scale_time._defaults=_defaults$4;var scales={category:scale_category,linear:scale_linear,logarithmic:scale_logarithmic,radialLinear:scale_radialLinear,time:scale_time};var FORMATS={datetime:'MMM D, YYYY, h:mm:ss a',millisecond:'h:mm:ss.SSS a',second:'h:mm:ss a',minute:'h:mm a',hour:'hA',day:'MMM D',week:'ll',month:'MMM YYYY',quarter:'[Q]Q - YYYY',year:'YYYY'};core_adapters._date.override(typeof moment==='function'?{_id:'moment',formats:function(){return FORMATS;},parse:function(value,format){if(typeof value==='string'&&typeof format==='string'){value=moment(value,format);}else if(!(value instanceof moment)){value=moment(value);}
return value.isValid()?value.valueOf():null;},format:function(time,format){return moment(time).format(format);},add:function(time,amount,unit){return moment(time).add(amount,unit).valueOf();},diff:function(max,min,unit){return moment(max).diff(moment(min),unit);},startOf:function(time,unit,weekday){time=moment(time);if(unit==='isoWeek'){return time.isoWeekday(weekday).valueOf();}
return time.startOf(unit).valueOf();},endOf:function(time,unit){return moment(time).endOf(unit).valueOf();},_create:function(time){return moment(time);},}:{});core_defaults._set('global',{plugins:{filler:{propagate:true}}});var mappers={dataset:function(source){var index=source.fill;var chart=source.chart;var meta=chart.getDatasetMeta(index);var visible=meta&&chart.isDatasetVisible(index);var points=(visible&&meta.dataset._children)||[];var length=points.length||0;return!length?null:function(point,i){return(i<length&&points[i]._view)||null;};},boundary:function(source){var boundary=source.boundary;var x=boundary?boundary.x:null;var y=boundary?boundary.y:null;if(helpers$1.isArray(boundary)){return function(point,i){return boundary[i];};}
return function(point){return{x:x===null?point.x:x,y:y===null?point.y:y,};};}};function decodeFill(el,index,count){var model=el._model||{};var fill=model.fill;var target;if(fill===undefined){fill=!!model.backgroundColor;}
if(fill===false||fill===null){return false;}
if(fill===true){return'origin';}
target=parseFloat(fill,10);if(isFinite(target)&&Math.floor(target)===target){if(fill[0]==='-'||fill[0]==='+'){target=index+target;}
if(target===index||target<0||target>=count){return false;}
return target;}
switch(fill){case'bottom':return'start';case'top':return'end';case'zero':return'origin';case'origin':case'start':case'end':return fill;default:return false;}}
function computeLinearBoundary(source){var model=source.el._model||{};var scale=source.el._scale||{};var fill=source.fill;var target=null;var horizontal;if(isFinite(fill)){return null;}
if(fill==='start'){target=model.scaleBottom===undefined?scale.bottom:model.scaleBottom;}else if(fill==='end'){target=model.scaleTop===undefined?scale.top:model.scaleTop;}else if(model.scaleZero!==undefined){target=model.scaleZero;}else if(scale.getBasePixel){target=scale.getBasePixel();}
if(target!==undefined&&target!==null){if(target.x!==undefined&&target.y!==undefined){return target;}
if(helpers$1.isFinite(target)){horizontal=scale.isHorizontal();return{x:horizontal?target:null,y:horizontal?null:target};}}
return null;}
function computeCircularBoundary(source){var scale=source.el._scale;var options=scale.options;var length=scale.chart.data.labels.length;var fill=source.fill;var target=[];var start,end,center,i,point;if(!length){return null;}
start=options.ticks.reverse?scale.max:scale.min;end=options.ticks.reverse?scale.min:scale.max;center=scale.getPointPositionForValue(0,start);for(i=0;i<length;++i){point=fill==='start'||fill==='end'?scale.getPointPositionForValue(i,fill==='start'?start:end):scale.getBasePosition(i);if(options.gridLines.circular){point.cx=center.x;point.cy=center.y;point.angle=scale.getIndexAngle(i)-Math.PI / 2;}
target.push(point);}
return target;}
function computeBoundary(source){var scale=source.el._scale||{};if(scale.getPointPositionForValue){return computeCircularBoundary(source);}
return computeLinearBoundary(source);}
function resolveTarget(sources,index,propagate){var source=sources[index];var fill=source.fill;var visited=[index];var target;if(!propagate){return fill;}
while(fill!==false&&visited.indexOf(fill)===-1){if(!isFinite(fill)){return fill;}
target=sources[fill];if(!target){return false;}
if(target.visible){return fill;}
visited.push(fill);fill=target.fill;}
return false;}
function createMapper(source){var fill=source.fill;var type='dataset';if(fill===false){return null;}
if(!isFinite(fill)){type='boundary';}
return mappers[type](source);}
function isDrawable(point){return point&&!point.skip;}
function drawArea(ctx,curve0,curve1,len0,len1){var i,cx,cy,r;if(!len0||!len1){return;}
ctx.moveTo(curve0[0].x,curve0[0].y);for(i=1;i<len0;++i){helpers$1.canvas.lineTo(ctx,curve0[i-1],curve0[i]);}
if(curve1[0].angle!==undefined){cx=curve1[0].cx;cy=curve1[0].cy;r=Math.sqrt(Math.pow(curve1[0].x-cx,2)+Math.pow(curve1[0].y-cy,2));for(i=len1-1;i>0;--i){ctx.arc(cx,cy,r,curve1[i].angle,curve1[i-1].angle,true);}
return;}
ctx.lineTo(curve1[len1-1].x,curve1[len1-1].y);for(i=len1-1;i>0;--i){helpers$1.canvas.lineTo(ctx,curve1[i],curve1[i-1],true);}}
function doFill(ctx,points,mapper,view,color,loop){var count=points.length;var span=view.spanGaps;var curve0=[];var curve1=[];var len0=0;var len1=0;var i,ilen,index,p0,p1,d0,d1,loopOffset;ctx.beginPath();for(i=0,ilen=count;i<ilen;++i){index=i%count;p0=points[index]._view;p1=mapper(p0,index,view);d0=isDrawable(p0);d1=isDrawable(p1);if(loop&&loopOffset===undefined&&d0){loopOffset=i+1;ilen=count+loopOffset;}
if(d0&&d1){len0=curve0.push(p0);len1=curve1.push(p1);}else if(len0&&len1){if(!span){drawArea(ctx,curve0,curve1,len0,len1);len0=len1=0;curve0=[];curve1=[];}else{if(d0){curve0.push(p0);}
if(d1){curve1.push(p1);}}}}
drawArea(ctx,curve0,curve1,len0,len1);ctx.closePath();ctx.fillStyle=color;ctx.fill();}
var plugin_filler={id:'filler',afterDatasetsUpdate:function(chart,options){var count=(chart.data.datasets||[]).length;var propagate=options.propagate;var sources=[];var meta,i,el,source;for(i=0;i<count;++i){meta=chart.getDatasetMeta(i);el=meta.dataset;source=null;if(el&&el._model&&el instanceof elements.Line){source={visible:chart.isDatasetVisible(i),fill:decodeFill(el,i,count),chart:chart,el:el};}
meta.$filler=source;sources.push(source);}
for(i=0;i<count;++i){source=sources[i];if(!source){continue;}
source.fill=resolveTarget(sources,i,propagate);source.boundary=computeBoundary(source);source.mapper=createMapper(source);}},beforeDatasetsDraw:function(chart){var metasets=chart._getSortedVisibleDatasetMetas();var ctx=chart.ctx;var meta,i,el,view,points,mapper,color;for(i=metasets.length-1;i>=0;--i){meta=metasets[i].$filler;if(!meta||!meta.visible){continue;}
el=meta.el;view=el._view;points=el._children||[];mapper=meta.mapper;color=view.backgroundColor||core_defaults.global.defaultColor;if(mapper&&color&&points.length){helpers$1.canvas.clipArea(ctx,chart.chartArea);doFill(ctx,points,mapper,view,color,el._loop);helpers$1.canvas.unclipArea(ctx);}}}};var getRtlHelper$1=helpers$1.rtl.getRtlAdapter;var noop$1=helpers$1.noop;var valueOrDefault$e=helpers$1.valueOrDefault;core_defaults._set('global',{legend:{display:true,position:'top',align:'center',fullWidth:true,reverse:false,weight:1000,onClick:function(e,legendItem){var index=legendItem.datasetIndex;var ci=this.chart;var meta=ci.getDatasetMeta(index);meta.hidden=meta.hidden===null?!ci.data.datasets[index].hidden:null;ci.update();},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(chart){var datasets=chart.data.datasets;var options=chart.options.legend||{};var usePointStyle=options.labels&&options.labels.usePointStyle;return chart._getSortedDatasetMetas().map(function(meta){var style=meta.controller.getStyle(usePointStyle?0:undefined);return{text:datasets[meta.index].label,fillStyle:style.backgroundColor,hidden:!chart.isDatasetVisible(meta.index),lineCap:style.borderCapStyle,lineDash:style.borderDash,lineDashOffset:style.borderDashOffset,lineJoin:style.borderJoinStyle,lineWidth:style.borderWidth,strokeStyle:style.borderColor,pointStyle:style.pointStyle,rotation:style.rotation,datasetIndex:meta.index};},this);}}},legendCallback:function(chart){var list=document.createElement('ul');var datasets=chart.data.datasets;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');for(i=0,ilen=datasets.length;i<ilen;i++){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[i].backgroundColor;if(datasets[i].label){listItem.appendChild(document.createTextNode(datasets[i].label));}}
return list.outerHTML;}});function getBoxWidth(labelOpts,fontSize){return labelOpts.usePointStyle&&labelOpts.boxWidth>fontSize?fontSize:labelOpts.boxWidth;}
var Legend=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[];me._hoveredItem=null;me.doughnutMode=false;},beforeUpdate:noop$1,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize;},afterUpdate:noop$1,beforeSetDimensions:noop$1,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0};},afterSetDimensions:noop$1,beforeBuildLabels:noop$1,buildLabels:function(){var me=this;var labelOpts=me.options.labels||{};var legendItems=helpers$1.callback(labelOpts.generateLabels,[me.chart],me)||[];if(labelOpts.filter){legendItems=legendItems.filter(function(item){return labelOpts.filter(item,me.chart.data);});}
if(me.options.reverse){legendItems.reverse();}
me.legendItems=legendItems;},afterBuildLabels:noop$1,beforeFit:noop$1,fit:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var display=opts.display;var ctx=me.ctx;var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var hitboxes=me.legendHitBoxes=[];var minSize=me.minSize;var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;minSize.height=display?10:0;}else{minSize.width=display?10:0;minSize.height=me.maxHeight;}
if(!display){me.width=minSize.width=me.height=minSize.height=0;return;}
ctx.font=labelFont.string;if(isHorizontal){var lineWidths=me.lineWidths=[0];var totalHeight=0;ctx.textAlign='left';ctx.textBaseline='middle';helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var width=boxWidth+(fontSize / 2)+ctx.measureText(legendItem.text).width;if(i===0||lineWidths[lineWidths.length-1]+width+2*labelOpts.padding>minSize.width){totalHeight+=fontSize+labelOpts.padding;lineWidths[lineWidths.length-(i>0?0:1)]=0;}
hitboxes[i]={left:0,top:0,width:width,height:fontSize};lineWidths[lineWidths.length-1]+=width+labelOpts.padding;});minSize.height+=totalHeight;}else{var vPadding=labelOpts.padding;var columnWidths=me.columnWidths=[];var columnHeights=me.columnHeights=[];var totalWidth=labelOpts.padding;var currentColWidth=0;var currentColHeight=0;helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var itemWidth=boxWidth+(fontSize / 2)+ctx.measureText(legendItem.text).width;if(i>0&&currentColHeight+fontSize+2*vPadding>minSize.height){totalWidth+=currentColWidth+labelOpts.padding;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);currentColWidth=0;currentColHeight=0;}
currentColWidth=Math.max(currentColWidth,itemWidth);currentColHeight+=fontSize+vPadding;hitboxes[i]={left:0,top:0,width:itemWidth,height:fontSize};});totalWidth+=currentColWidth;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);minSize.width+=totalWidth;}
me.width=minSize.width;me.height=minSize.height;},afterFit:noop$1,isHorizontal:function(){return this.options.position==='top'||this.options.position==='bottom';},draw:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;var lineDefault=globalDefaults.elements.line;var legendHeight=me.height;var columnHeights=me.columnHeights;var legendWidth=me.width;var lineWidths=me.lineWidths;if(!opts.display){return;}
var rtlHelper=getRtlHelper$1(opts.rtl,me.left,me.minSize.width);var ctx=me.ctx;var fontColor=valueOrDefault$e(labelOpts.fontColor,globalDefaults.defaultFontColor);var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var cursor;ctx.textAlign=rtlHelper.textAlign('left');ctx.textBaseline='middle';ctx.lineWidth=0.5;ctx.strokeStyle=fontColor;ctx.fillStyle=fontColor;ctx.font=labelFont.string;var boxWidth=getBoxWidth(labelOpts,fontSize);var hitboxes=me.legendHitBoxes;var drawLegendBox=function(x,y,legendItem){if(isNaN(boxWidth)||boxWidth<=0){return;}
ctx.save();var lineWidth=valueOrDefault$e(legendItem.lineWidth,lineDefault.borderWidth);ctx.fillStyle=valueOrDefault$e(legendItem.fillStyle,defaultColor);ctx.lineCap=valueOrDefault$e(legendItem.lineCap,lineDefault.borderCapStyle);ctx.lineDashOffset=valueOrDefault$e(legendItem.lineDashOffset,lineDefault.borderDashOffset);ctx.lineJoin=valueOrDefault$e(legendItem.lineJoin,lineDefault.borderJoinStyle);ctx.lineWidth=lineWidth;ctx.strokeStyle=valueOrDefault$e(legendItem.strokeStyle,defaultColor);if(ctx.setLineDash){ctx.setLineDash(valueOrDefault$e(legendItem.lineDash,lineDefault.borderDash));}
if(labelOpts&&labelOpts.usePointStyle){var radius=boxWidth*Math.SQRT2 / 2;var centerX=rtlHelper.xPlus(x,boxWidth / 2);var centerY=y+fontSize / 2;helpers$1.canvas.drawPoint(ctx,legendItem.pointStyle,radius,centerX,centerY,legendItem.rotation);}else{ctx.fillRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize);if(lineWidth!==0){ctx.strokeRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize);}}
ctx.restore();};var fillText=function(x,y,legendItem,textWidth){var halfFontSize=fontSize / 2;var xLeft=rtlHelper.xPlus(x,boxWidth+halfFontSize);var yMiddle=y+halfFontSize;ctx.fillText(legendItem.text,xLeft,yMiddle);if(legendItem.hidden){ctx.beginPath();ctx.lineWidth=2;ctx.moveTo(xLeft,yMiddle);ctx.lineTo(rtlHelper.xPlus(xLeft,textWidth),yMiddle);ctx.stroke();}};var alignmentOffset=function(dimension,blockSize){switch(opts.align){case'start':return labelOpts.padding;case'end':return dimension-blockSize;default:return(dimension-blockSize+labelOpts.padding)/ 2;}};var isHorizontal=me.isHorizontal();if(isHorizontal){cursor={x:me.left+alignmentOffset(legendWidth,lineWidths[0]),y:me.top+labelOpts.padding,line:0};}else{cursor={x:me.left+labelOpts.padding,y:me.top+alignmentOffset(legendHeight,columnHeights[0]),line:0};}
helpers$1.rtl.overrideTextDirection(me.ctx,opts.textDirection);var itemHeight=fontSize+labelOpts.padding;helpers$1.each(me.legendItems,function(legendItem,i){var textWidth=ctx.measureText(legendItem.text).width;var width=boxWidth+(fontSize / 2)+textWidth;var x=cursor.x;var y=cursor.y;rtlHelper.setWidth(me.minSize.width);if(isHorizontal){if(i>0&&x+width+labelOpts.padding>me.left+me.minSize.width){y=cursor.y+=itemHeight;cursor.line++;x=cursor.x=me.left+alignmentOffset(legendWidth,lineWidths[cursor.line]);}}else if(i>0&&y+itemHeight>me.top+me.minSize.height){x=cursor.x=x+me.columnWidths[cursor.line]+labelOpts.padding;cursor.line++;y=cursor.y=me.top+alignmentOffset(legendHeight,columnHeights[cursor.line]);}
var realX=rtlHelper.x(x);drawLegendBox(realX,y,legendItem);hitboxes[i].left=rtlHelper.leftForLtr(realX,hitboxes[i].width);hitboxes[i].top=y;fillText(realX,y,legendItem,textWidth);if(isHorizontal){cursor.x+=width+labelOpts.padding;}else{cursor.y+=itemHeight;}});helpers$1.rtl.restoreTextDirection(me.ctx,opts.textDirection);},_getLegendItemAt:function(x,y){var me=this;var i,hitBox,lh;if(x>=me.left&&x<=me.right&&y>=me.top&&y<=me.bottom){lh=me.legendHitBoxes;for(i=0;i<lh.length;++i){hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){return me.legendItems[i];}}}
return null;},handleEvent:function(e){var me=this;var opts=me.options;var type=e.type==='mouseup'?'click':e.type;var hoveredItem;if(type==='mousemove'){if(!opts.onHover&&!opts.onLeave){return;}}else if(type==='click'){if(!opts.onClick){return;}}else{return;}
hoveredItem=me._getLegendItemAt(e.x,e.y);if(type==='click'){if(hoveredItem&&opts.onClick){opts.onClick.call(me,e.native,hoveredItem);}}else{if(opts.onLeave&&hoveredItem!==me._hoveredItem){if(me._hoveredItem){opts.onLeave.call(me,e.native,me._hoveredItem);}
me._hoveredItem=hoveredItem;}
if(opts.onHover&&hoveredItem){opts.onHover.call(me,e.native,hoveredItem);}}}});function createNewLegendAndAttach(chart,legendOpts){var legend=new Legend({ctx:chart.ctx,options:legendOpts,chart:chart});core_layouts.configure(chart,legend,legendOpts);core_layouts.addBox(chart,legend);chart.legend=legend;}
var plugin_legend={id:'legend',_element:Legend,beforeInit:function(chart){var legendOpts=chart.options.legend;if(legendOpts){createNewLegendAndAttach(chart,legendOpts);}},beforeUpdate:function(chart){var legendOpts=chart.options.legend;var legend=chart.legend;if(legendOpts){helpers$1.mergeIf(legendOpts,core_defaults.global.legend);if(legend){core_layouts.configure(chart,legend,legendOpts);legend.options=legendOpts;}else{createNewLegendAndAttach(chart,legendOpts);}}else if(legend){core_layouts.removeBox(chart,legend);delete chart.legend;}},afterEvent:function(chart,e){var legend=chart.legend;if(legend){legend.handleEvent(e);}}};var noop$2=helpers$1.noop;core_defaults._set('global',{title:{display:false,fontStyle:'bold',fullWidth:true,padding:10,position:'top',text:'',weight:2000}});var Title=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[];},beforeUpdate:noop$2,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize;},afterUpdate:noop$2,beforeSetDimensions:noop$2,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0};},afterSetDimensions:noop$2,beforeBuildLabels:noop$2,buildLabels:noop$2,afterBuildLabels:noop$2,beforeFit:noop$2,fit:function(){var me=this;var opts=me.options;var minSize=me.minSize={};var isHorizontal=me.isHorizontal();var lineCount,textSize;if(!opts.display){me.width=minSize.width=me.height=minSize.height=0;return;}
lineCount=helpers$1.isArray(opts.text)?opts.text.length:1;textSize=lineCount*helpers$1.options._parseFont(opts).lineHeight+opts.padding*2;me.width=minSize.width=isHorizontal?me.maxWidth:textSize;me.height=minSize.height=isHorizontal?textSize:me.maxHeight;},afterFit:noop$2,isHorizontal:function(){var pos=this.options.position;return pos==='top'||pos==='bottom';},draw:function(){var me=this;var ctx=me.ctx;var opts=me.options;if(!opts.display){return;}
var fontOpts=helpers$1.options._parseFont(opts);var lineHeight=fontOpts.lineHeight;var offset=lineHeight / 2+opts.padding;var rotation=0;var top=me.top;var left=me.left;var bottom=me.bottom;var right=me.right;var maxWidth,titleX,titleY;ctx.fillStyle=helpers$1.valueOrDefault(opts.fontColor,core_defaults.global.defaultFontColor);ctx.font=fontOpts.string;if(me.isHorizontal()){titleX=left+((right-left)/ 2);titleY=top+offset;maxWidth=right-left;}else{titleX=opts.position==='left'?left+offset:right-offset;titleY=top+((bottom-top)/ 2);maxWidth=bottom-top;rotation=Math.PI*(opts.position==='left'?-0.5:0.5);}
ctx.save();ctx.translate(titleX,titleY);ctx.rotate(rotation);ctx.textAlign='center';ctx.textBaseline='middle';var text=opts.text;if(helpers$1.isArray(text)){var y=0;for(var i=0;i<text.length;++i){ctx.fillText(text[i],0,y,maxWidth);y+=lineHeight;}}else{ctx.fillText(text,0,0,maxWidth);}
ctx.restore();}});function createNewTitleBlockAndAttach(chart,titleOpts){var title=new Title({ctx:chart.ctx,options:titleOpts,chart:chart});core_layouts.configure(chart,title,titleOpts);core_layouts.addBox(chart,title);chart.titleBlock=title;}
var plugin_title={id:'title',_element:Title,beforeInit:function(chart){var titleOpts=chart.options.title;if(titleOpts){createNewTitleBlockAndAttach(chart,titleOpts);}},beforeUpdate:function(chart){var titleOpts=chart.options.title;var titleBlock=chart.titleBlock;if(titleOpts){helpers$1.mergeIf(titleOpts,core_defaults.global.title);if(titleBlock){core_layouts.configure(chart,titleBlock,titleOpts);titleBlock.options=titleOpts;}else{createNewTitleBlockAndAttach(chart,titleOpts);}}else if(titleBlock){core_layouts.removeBox(chart,titleBlock);delete chart.titleBlock;}}};var plugins={};var filler=plugin_filler;var legend=plugin_legend;var title=plugin_title;plugins.filler=filler;plugins.legend=legend;plugins.title=title;core_controller.helpers=helpers$1;core_helpers();core_controller._adapters=core_adapters;core_controller.Animation=core_animation;core_controller.animationService=core_animations;core_controller.controllers=controllers;core_controller.DatasetController=core_datasetController;core_controller.defaults=core_defaults;core_controller.Element=core_element;core_controller.elements=elements;core_controller.Interaction=core_interaction;core_controller.layouts=core_layouts;core_controller.platform=platform;core_controller.plugins=core_plugins;core_controller.Scale=core_scale;core_controller.scaleService=core_scaleService;core_controller.Ticks=core_ticks;core_controller.Tooltip=core_tooltip;core_controller.helpers.each(scales,function(scale,type){core_controller.scaleService.registerScaleType(type,scale,scale._defaults);});for(var k in plugins){if(plugins.hasOwnProperty(k)){core_controller.plugins.register(plugins[k]);}}
core_controller.platform.initialize();var src=core_controller;if(typeof window!=='undefined'){window.Chart2=core_controller;}
core_controller.Chart2=core_controller;core_controller.Legend=plugins.legend._element;core_controller.Title=plugins.title._element;core_controller.pluginService=core_controller.plugins;core_controller.PluginBase=core_controller.Element.extend({});core_controller.canvasHelpers=core_controller.helpers.canvas;core_controller.layoutService=core_controller.layouts;core_controller.LinearScaleBase=scale_linearbase;core_controller.helpers.each(['Bar','Bubble','Doughnut','Line','PolarArea','Radar','Scatter'],function(klass){core_controller[klass]=function(ctx,cfg){return new core_controller(ctx,core_controller.helpers.merge(cfg||{},{type:klass.charAt(0).toLowerCase()+klass.slice(1)}));};});return src;})));
/* End of File include/javascript/chartjs/Chart_2_9_4.js */

/*!
 * chartjs-plugin-datalabels v1.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('Chart_2_9_4.js')):typeof define==='function'&&define.amd?define(['Chart_2_9_4.js'],factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,global.ChartDataLabelsV1=factory(window.Chart2));}(this,(function(Chart2){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e};}
var Chart__default=_interopDefaultLegacy(Chart2);var helpers$4=Chart__default['default'].helpers;var devicePixelRatio=(function(){if(typeof window!=='undefined'){if(window.devicePixelRatio){return window.devicePixelRatio;}
var screen=window.screen;if(screen){return(screen.deviceXDPI||1)/(screen.logicalXDPI||1);}}
return 1;}());var utils={toTextLines:function(inputs){var lines=[];var input;inputs=[].concat(inputs);while(inputs.length){input=inputs.pop();if(typeof input==='string'){lines.unshift.apply(lines,input.split('\n'));}else if(Array.isArray(input)){inputs.push.apply(inputs,input);}else if(!helpers$4.isNullOrUndef(inputs)){lines.unshift(''+input);}}
return lines;},toFontString:function(font){if(!font||helpers$4.isNullOrUndef(font.size)||helpers$4.isNullOrUndef(font.family)){return null;}
return(font.style?font.style+' ':'')
+(font.weight?font.weight+' ':'')
+font.size+'px '
+font.family;},textSize:function(ctx,lines,font){var items=[].concat(lines);var ilen=items.length;var prev=ctx.font;var width=0;var i;ctx.font=font.string;for(i=0;i<ilen;++i){width=Math.max(ctx.measureText(items[i]).width,width);}
ctx.font=prev;return{height:ilen*font.lineHeight,width:width};},parseFont:function(value){var global=Chart__default['default'].defaults.global;var size=helpers$4.valueOrDefault(value.size,global.defaultFontSize);var font={family:helpers$4.valueOrDefault(value.family,global.defaultFontFamily),lineHeight:helpers$4.options.toLineHeight(value.lineHeight,size),size:size,style:helpers$4.valueOrDefault(value.style,global.defaultFontStyle),weight:helpers$4.valueOrDefault(value.weight,null),string:''};font.string=utils.toFontString(font);return font;},bound:function(min,value,max){return Math.max(min,Math.min(value,max));},arrayDiff:function(a0,a1){var prev=a0.slice();var updates=[];var i,j,ilen,v;for(i=0,ilen=a1.length;i<ilen;++i){v=a1[i];j=prev.indexOf(v);if(j===-1){updates.push([v,1]);}else{prev.splice(j,1);}}
for(i=0,ilen=prev.length;i<ilen;++i){updates.push([prev[i],-1]);}
return updates;},rasterize:function(v){return Math.round(v*devicePixelRatio)/ devicePixelRatio;}};function orient(point,origin){if(!origin){origin={x:0,y:0}}
var x0=origin.x;var y0=origin.y;if(x0===null){return{x:0,y:-1};}
if(y0===null){return{x:1,y:0};}
var dx=point.x-x0;var dy=point.y-y0;var ln=Math.sqrt(dx*dx+dy*dy);return{x:ln?dx / ln:0,y:ln?dy / ln:-1};}
function aligned(x,y,vx,vy,align){switch(align){case'center':vx=vy=0;break;case'bottom':vx=0;vy=1;break;case'right':vx=1;vy=0;break;case'left':vx=-1;vy=0;break;case'top':vx=0;vy=-1;break;case'start':vx=-vx;vy=-vy;break;case'end':break;default:align*=(Math.PI / 180);vx=Math.cos(align);vy=Math.sin(align);break;}
return{x:x,y:y,vx:vx,vy:vy};}
var R_INSIDE=0;var R_LEFT=1;var R_RIGHT=2;var R_BOTTOM=4;var R_TOP=8;function region(x,y,rect){var res=R_INSIDE;if(x<rect.left){res|=R_LEFT;}else if(x>rect.right){res|=R_RIGHT;}
if(y<rect.top){res|=R_TOP;}else if(y>rect.bottom){res|=R_BOTTOM;}
return res;}
function clipped(segment,area){var x0=segment.x0;var y0=segment.y0;var x1=segment.x1;var y1=segment.y1;var r0=region(x0,y0,area);var r1=region(x1,y1,area);var r,x,y;while(true){if(!(r0|r1)||(r0&r1)){break;}
r=r0||r1;if(r&R_TOP){x=x0+(x1-x0)*(area.top-y0)/(y1-y0);y=area.top;}else if(r&R_BOTTOM){x=x0+(x1-x0)*(area.bottom-y0)/(y1-y0);y=area.bottom;}else if(r&R_RIGHT){y=y0+(y1-y0)*(area.right-x0)/(x1-x0);x=area.right;}else if(r&R_LEFT){y=y0+(y1-y0)*(area.left-x0)/(x1-x0);x=area.left;}
if(r===r0){x0=x;y0=y;r0=region(x0,y0,area);}else{x1=x;y1=y;r1=region(x1,y1,area);}}
return{x0:x0,x1:x1,y0:y0,y1:y1};}
function compute$1(range,config){var anchor=config.anchor;var segment=range;var x,y;if(config.clamp){segment=clipped(segment,config.area);}
if(anchor==='start'){x=segment.x0;y=segment.y0;}else if(anchor==='end'){x=segment.x1;y=segment.y1;}else{x=(segment.x0+segment.x1)/ 2;y=(segment.y0+segment.y1)/ 2;}
return aligned(x,y,range.vx,range.vy,config.align);}
var positioners={arc:function(vm,config){var angle=(vm.startAngle+vm.endAngle)/ 2;var vx=Math.cos(angle);var vy=Math.sin(angle);var r0=vm.innerRadius;var r1=vm.outerRadius;return compute$1({x0:vm.x+vx*r0,y0:vm.y+vy*r0,x1:vm.x+vx*r1,y1:vm.y+vy*r1,vx:vx,vy:vy},config);},point:function(vm,config){var v=orient(vm,config.origin);var rx=v.x*vm.radius;var ry=v.y*vm.radius;return compute$1({x0:vm.x-rx,y0:vm.y-ry,x1:vm.x+rx,y1:vm.y+ry,vx:v.x,vy:v.y},config);},rect:function(vm,config){var v=orient(vm,config.origin);var x=vm.x;var y=vm.y;var sx=0;var sy=0;if(vm.horizontal){x=Math.min(vm.x,vm.base);sx=Math.abs(vm.base-vm.x);}else{y=Math.min(vm.y,vm.base);sy=Math.abs(vm.base-vm.y);}
return compute$1({x0:x,y0:y+sy,x1:x+sx,y1:y,vx:v.x,vy:v.y},config);},fallback:function(vm,config){var v=orient(vm,config.origin);return compute$1({x0:vm.x,y0:vm.y,x1:vm.x,y1:vm.y,vx:v.x,vy:v.y},config);}};var helpers$3=Chart__default['default'].helpers;var rasterize=utils.rasterize;function boundingRects(model){var borderWidth=model.borderWidth||0;var padding=model.padding;var th=model.size.height;var tw=model.size.width;var tx=-tw / 2;var ty=-th / 2;return{frame:{x:tx-padding.left-borderWidth,y:ty-padding.top-borderWidth,w:tw+padding.width+borderWidth*2,h:th+padding.height+borderWidth*2},text:{x:tx,y:ty,w:tw,h:th}};}
function getScaleOrigin(el){var horizontal=el._model.horizontal;var scale=el._scale||(horizontal&&el._xScale)||el._yScale;if(!scale){return null;}
if(scale.xCenter!==undefined&&scale.yCenter!==undefined){return{x:scale.xCenter,y:scale.yCenter};}
var pixel=scale.getBasePixel();return horizontal?{x:pixel,y:null}:{x:null,y:pixel};}
function getPositioner(el){if(el instanceof Chart__default['default'].elements.Arc){return positioners.arc;}
if(el instanceof Chart__default['default'].elements.Point){return positioners.point;}
if(el instanceof Chart__default['default'].elements.Rectangle){return positioners.rect;}
return positioners.fallback;}
function drawFrame(ctx,rect,model){var bgColor=model.backgroundColor;var borderColor=model.borderColor;var borderWidth=model.borderWidth;if(!bgColor&&(!borderColor||!borderWidth)){return;}
ctx.beginPath();helpers$3.canvas.roundedRect(ctx,rasterize(rect.x)+borderWidth / 2,rasterize(rect.y)+borderWidth / 2,rasterize(rect.w)-borderWidth,rasterize(rect.h)-borderWidth,model.borderRadius);ctx.closePath();if(bgColor){ctx.fillStyle=bgColor;ctx.fill();}
if(borderColor&&borderWidth){ctx.strokeStyle=borderColor;ctx.lineWidth=borderWidth;ctx.lineJoin='miter';ctx.stroke();}}
function textGeometry(rect,align,font){var h=font.lineHeight;var w=rect.w;var x=rect.x;var y=rect.y+h / 2;if(align==='center'){x+=w / 2;}else if(align==='end'||align==='right'){x+=w;}
return{h:h,w:w,x:x,y:y};}
function drawTextLine(ctx,text,cfg){var shadow=ctx.shadowBlur;var stroked=cfg.stroked;var x=rasterize(cfg.x);var y=rasterize(cfg.y);var w=rasterize(cfg.w);if(stroked){ctx.strokeText(text,x,y,w);}
if(cfg.filled){if(shadow&&stroked){ctx.shadowBlur=0;}
ctx.fillText(text,x,y,w);if(shadow&&stroked){ctx.shadowBlur=shadow;}}}
function drawText(ctx,lines,rect,model){var align=model.textAlign;var color=model.color;var filled=!!color;var font=model.font;var ilen=lines.length;var strokeColor=model.textStrokeColor;var strokeWidth=model.textStrokeWidth;var stroked=strokeColor&&strokeWidth;var i;if(!ilen||(!filled&&!stroked)){return;}
rect=textGeometry(rect,align,font);ctx.font=font.string;ctx.textAlign=align;ctx.textBaseline='middle';ctx.shadowBlur=model.textShadowBlur;ctx.shadowColor=model.textShadowColor;if(filled){ctx.fillStyle=color;}
if(stroked){ctx.lineJoin='round';ctx.lineWidth=strokeWidth;ctx.strokeStyle=strokeColor;}
for(i=0,ilen=lines.length;i<ilen;++i){drawTextLine(ctx,lines[i],{stroked:stroked,filled:filled,w:rect.w,x:rect.x,y:rect.y+rect.h*i});}}
var Label=function(config,ctx,el,index){var me=this;me._config=config;me._index=index;me._model=null;me._rects=null;me._ctx=ctx;me._el=el;};helpers$3.extend(Label.prototype,{_modelize:function(display,lines,config,context){var me=this;var index=me._index;var resolve=helpers$3.options.resolve;var font=utils.parseFont(resolve([config.font,{}],context,index));var color=resolve([config.color,Chart__default['default'].defaults.global.defaultFontColor],context,index);return{align:resolve([config.align,'center'],context,index),anchor:resolve([config.anchor,'center'],context,index),area:context.chart.chartArea,backgroundColor:resolve([config.backgroundColor,null],context,index),borderColor:resolve([config.borderColor,null],context,index),borderRadius:resolve([config.borderRadius,0],context,index),borderWidth:resolve([config.borderWidth,0],context,index),clamp:resolve([config.clamp,false],context,index),clip:resolve([config.clip,false],context,index),color:color,display:display,font:font,lines:lines,offset:resolve([config.offset,0],context,index),opacity:resolve([config.opacity,1],context,index),origin:getScaleOrigin(me._el),padding:helpers$3.options.toPadding(resolve([config.padding,0],context,index)),positioner:getPositioner(me._el),rotation:resolve([config.rotation,0],context,index)*(Math.PI / 180),size:utils.textSize(me._ctx,lines,font),textAlign:resolve([config.textAlign,'start'],context,index),textShadowBlur:resolve([config.textShadowBlur,0],context,index),textShadowColor:resolve([config.textShadowColor,color],context,index),textStrokeColor:resolve([config.textStrokeColor,color],context,index),textStrokeWidth:resolve([config.textStrokeWidth,0],context,index)};},update:function(context){var me=this;var model=null;var rects=null;var index=me._index;var config=me._config;var value,label,lines;var display=helpers$3.options.resolve([config.display,true],context,index);if(display){value=context.dataset.data[index];label=helpers$3.valueOrDefault(helpers$3.callback(config.formatter,[value,context]),value);lines=helpers$3.isNullOrUndef(label)?[]:utils.toTextLines(label);if(lines.length){model=me._modelize(display,lines,config,context);rects=boundingRects(model);}}
me._model=model;me._rects=rects;},geometry:function(){return this._rects?this._rects.frame:{};},rotation:function(){return this._model?this._model.rotation:0;},visible:function(){return this._model&&this._model.opacity;},model:function(){return this._model;},draw:function(chart,center){var me=this;var ctx=chart.ctx;var model=me._model;var rects=me._rects;var area;if(!this.visible()){return;}
ctx.save();if(model.clip){area=model.area;ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip();}
ctx.globalAlpha=utils.bound(0,model.opacity,1);ctx.translate(rasterize(center.x),rasterize(center.y));ctx.rotate(model.rotation);drawFrame(ctx,rects.frame,model);drawText(ctx,model.lines,rects.text,model);ctx.restore();}});var helpers$2=Chart__default['default'].helpers;var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991;var MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(point,center,angle){var cos=Math.cos(angle);var sin=Math.sin(angle);var cx=center.x;var cy=center.y;return{x:cx+cos*(point.x-cx)-sin*(point.y-cy),y:cy+sin*(point.x-cx)+cos*(point.y-cy)};}
function projected(points,axis){var min=MAX_INTEGER;var max=MIN_INTEGER;var origin=axis.origin;var i,pt,vx,vy,dp;for(i=0;i<points.length;++i){pt=points[i];vx=pt.x-origin.x;vy=pt.y-origin.y;dp=axis.vx*vx+axis.vy*vy;min=Math.min(min,dp);max=Math.max(max,dp);}
return{min:min,max:max};}
function toAxis(p0,p1){var vx=p1.x-p0.x;var vy=p1.y-p0.y;var ln=Math.sqrt(vx*vx+vy*vy);return{vx:(p1.x-p0.x)/ ln,vy:(p1.y-p0.y)/ ln,origin:p0,ln:ln};}
var HitBox=function(){this._rotation=0;this._rect={x:0,y:0,w:0,h:0};};helpers$2.extend(HitBox.prototype,{center:function(){var r=this._rect;return{x:r.x+r.w / 2,y:r.y+r.h / 2};},update:function(center,rect,rotation){this._rotation=rotation;this._rect={x:rect.x+center.x,y:rect.y+center.y,w:rect.w,h:rect.h};},contains:function(point){var me=this;var margin=1;var rect=me._rect;point=rotated(point,me.center(),-me._rotation);return!(point.x<rect.x-margin||point.y<rect.y-margin||point.x>rect.x+rect.w+margin*2||point.y>rect.y+rect.h+margin*2);},intersects:function(other){var r0=this._points();var r1=other._points();var axes=[toAxis(r0[0],r0[1]),toAxis(r0[0],r0[3])];var i,pr0,pr1;if(this._rotation!==other._rotation){axes.push(toAxis(r1[0],r1[1]),toAxis(r1[0],r1[3]));}
for(i=0;i<axes.length;++i){pr0=projected(r0,axes[i]);pr1=projected(r1,axes[i]);if(pr0.max<pr1.min||pr1.max<pr0.min){return false;}}
return true;},_points:function(){var me=this;var rect=me._rect;var angle=me._rotation;var center=me.center();return[rotated({x:rect.x,y:rect.y},center,angle),rotated({x:rect.x+rect.w,y:rect.y},center,angle),rotated({x:rect.x+rect.w,y:rect.y+rect.h},center,angle),rotated({x:rect.x,y:rect.y+rect.h},center,angle)];}});function coordinates(view,model,geometry){var point=model.positioner(view,model);var vx=point.vx;var vy=point.vy;if(!vx&&!vy){return{x:point.x,y:point.y};}
var w=geometry.w;var h=geometry.h;var rotation=model.rotation;var dx=Math.abs(w / 2*Math.cos(rotation))+Math.abs(h / 2*Math.sin(rotation));var dy=Math.abs(w / 2*Math.sin(rotation))+Math.abs(h / 2*Math.cos(rotation));var vs=1 / Math.max(Math.abs(vx),Math.abs(vy));dx*=vx*vs;dy*=vy*vs;dx+=model.offset*vx;dy+=model.offset*vy;return{x:point.x+dx,y:point.y+dy};}
function collide(labels,collider){var i,j,s0,s1;for(i=labels.length-1;i>=0;--i){s0=labels[i].$layout;for(j=i-1;j>=0&&s0._visible;--j){s1=labels[j].$layout;if(s1._visible&&s0._box.intersects(s1._box)){collider(s0,s1);}}}
return labels;}
function compute(labels){var i,ilen,label,state,geometry,center;for(i=0,ilen=labels.length;i<ilen;++i){label=labels[i];state=label.$layout;if(state._visible){geometry=label.geometry();center=coordinates(label._el._model,label.model(),geometry);state._box.update(center,geometry,label.rotation());}}
return collide(labels,function(s0,s1){var h0=s0._hidable;var h1=s1._hidable;if((h0&&h1)||h1){s1._visible=false;}else if(h0){s0._visible=false;}});}
var layout={prepare:function(datasets){var labels=[];var i,j,ilen,jlen,label;for(i=0,ilen=datasets.length;i<ilen;++i){for(j=0,jlen=datasets[i].length;j<jlen;++j){label=datasets[i][j];labels.push(label);label.$layout={_box:new HitBox(),_hidable:false,_visible:true,_set:i,_idx:j};}}
labels.sort(function(a,b){var sa=a.$layout;var sb=b.$layout;return sa._idx===sb._idx?sb._set-sa._set:sb._idx-sa._idx;});this.update(labels);return labels;},update:function(labels){var dirty=false;var i,ilen,label,model,state;for(i=0,ilen=labels.length;i<ilen;++i){label=labels[i];model=label.model();state=label.$layout;state._hidable=model&&model.display==='auto';state._visible=label.visible();dirty|=state._hidable;}
if(dirty){compute(labels);}},lookup:function(labels,point){var i,state;for(i=labels.length-1;i>=0;--i){state=labels[i].$layout;if(state&&state._visible&&state._box.contains(point)){return labels[i];}}
return null;},draw:function(chart,labels){var i,ilen,label,state,geometry,center;for(i=0,ilen=labels.length;i<ilen;++i){label=labels[i];state=label.$layout;if(state._visible){geometry=label.geometry();center=coordinates(label._el._view,label.model(),geometry);state._box.update(center,geometry,label.rotation());label.draw(chart,center);}}}};var helpers$1=Chart__default['default'].helpers;var formatter=function(value){if(helpers$1.isNullOrUndef(value)){return null;}
var label=value;var keys,klen,k;if(helpers$1.isObject(value)){if(!helpers$1.isNullOrUndef(value.label)){label=value.label;}else if(!helpers$1.isNullOrUndef(value.r)){label=value.r;}else{label='';keys=Object.keys(value);for(k=0,klen=keys.length;k<klen;++k){label+=(k!==0?', ':'')+keys[k]+': '+value[keys[k]];}}}
return''+label;};var defaults={align:'center',anchor:'center',backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:false,clip:false,color:undefined,display:true,font:{family:undefined,lineHeight:1.2,size:undefined,style:undefined,weight:null},formatter:formatter,labels:undefined,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:'start',textStrokeColor:undefined,textStrokeWidth:0,textShadowBlur:0,textShadowColor:undefined};var helpers=Chart__default['default'].helpers;var EXPANDO_KEY='$datalabels';var DEFAULT_KEY='$default';function configure(dataset,options){var override=dataset.datalabels;var listeners={};var configs=[];var labels,keys;if(override===false){return null;}
if(override===true){override={};}
options=helpers.merge({},[options,override]);labels=options.labels||{};keys=Object.keys(labels);delete options.labels;if(keys.length){keys.forEach(function(key){if(labels[key]){configs.push(helpers.merge({},[options,labels[key],{_key:key}]));}});}else{configs.push(options);}
listeners=configs.reduce(function(target,config){helpers.each(config.listeners||{},function(fn,event){target[event]=target[event]||{};target[event][config._key||DEFAULT_KEY]=fn;});delete config.listeners;return target;},{});return{labels:configs,listeners:listeners};}
function dispatchEvent(chart,listeners,label){if(!listeners){return;}
var context=label.$context;var groups=label.$groups;var callback;if(!listeners[groups._set]){return;}
callback=listeners[groups._set][groups._key];if(!callback){return;}
if(helpers.callback(callback,[context])===true){chart[EXPANDO_KEY]._dirty=true;label.update(context);}}
function dispatchMoveEvents(chart,listeners,previous,label){var enter,leave;if(!previous&&!label){return;}
if(!previous){enter=true;}else if(!label){leave=true;}else if(previous!==label){leave=enter=true;}
if(leave){dispatchEvent(chart,listeners.leave,previous);}
if(enter){dispatchEvent(chart,listeners.enter,label);}}
function handleMoveEvents(chart,event){var expando=chart[EXPANDO_KEY];var listeners=expando._listeners;var previous,label;if(!listeners.enter&&!listeners.leave){return;}
if(event.type==='mousemove'){label=layout.lookup(expando._labels,event);}else if(event.type!=='mouseout'){return;}
previous=expando._hovered;expando._hovered=label;dispatchMoveEvents(chart,listeners,previous,label);}
function handleClickEvents(chart,event){var expando=chart[EXPANDO_KEY];var handlers=expando._listeners.click;var label=handlers&&layout.lookup(expando._labels,event);if(label){dispatchEvent(chart,handlers,label);}}
function invalidate(chart){if(chart.animating){return;}
var animations=Chart__default['default'].animationService.animations;for(var i=0,ilen=animations.length;i<ilen;++i){if(animations[i].chart===chart){return;}}
chart.render({duration:1,lazy:true});}
Chart__default['default'].defaults.global.plugins.datalabels=defaults;var plugin={id:'datalabels',beforeInit:function(chart){chart[EXPANDO_KEY]={_actives:[]};},beforeUpdate:function(chart){var expando=chart[EXPANDO_KEY];expando._listened=false;expando._listeners={};expando._datasets=[];expando._labels=[];},afterDatasetUpdate:function(chart,args,options){var datasetIndex=args.index;var expando=chart[EXPANDO_KEY];var labels=expando._datasets[datasetIndex]=[];var visible=chart.isDatasetVisible(datasetIndex);var dataset=chart.data.datasets[datasetIndex];var config=configure(dataset,options);var elements=args.meta.data||[];var ctx=chart.ctx;var i,j,ilen,jlen,cfg,key,el,label;ctx.save();for(i=0,ilen=elements.length;i<ilen;++i){el=elements[i];el[EXPANDO_KEY]=[];if(visible&&el&&!el.hidden&&!el._model.skip){for(j=0,jlen=config.labels.length;j<jlen;++j){cfg=config.labels[j];key=cfg._key;label=new Label(cfg,ctx,el,i);label.$groups={_set:datasetIndex,_key:key||DEFAULT_KEY};label.$context={active:false,chart:chart,dataIndex:i,dataset:dataset,datasetIndex:datasetIndex};label.update(label.$context);el[EXPANDO_KEY].push(label);labels.push(label);}}}
ctx.restore();helpers.merge(expando._listeners,config.listeners,{merger:function(event,target,source){target[event]=target[event]||{};target[event][args.index]=source[event];expando._listened=true;}});},afterUpdate:function(chart,options){chart[EXPANDO_KEY]._labels=layout.prepare(chart[EXPANDO_KEY]._datasets,options);},afterDatasetsDraw:function(chart){layout.draw(chart,chart[EXPANDO_KEY]._labels);},beforeEvent:function(chart,event){if(chart[EXPANDO_KEY]._listened){switch(event.type){case'mousemove':case'mouseout':handleMoveEvents(chart,event);break;case'click':handleClickEvents(chart,event);break;}}},afterEvent:function(chart){var expando=chart[EXPANDO_KEY];var previous=expando._actives;var actives=expando._actives=chart.lastActive||[];var updates=utils.arrayDiff(previous,actives);var i,ilen,j,jlen,update,label,labels;for(i=0,ilen=updates.length;i<ilen;++i){update=updates[i];if(update[1]){labels=update[0][EXPANDO_KEY]||[];for(j=0,jlen=labels.length;j<jlen;++j){label=labels[j];label.$context.active=(update[1]===1);label.update(label.$context);}}}
if(expando._dirty||updates.length){layout.update(expando._labels);invalidate(chart);}
delete expando._dirty;}};return plugin;})));
/* End of File include/javascript/chartjs/chartjs-plugin-datalabels-v1.js */

/*!
 * Chart.Funnel.js
 * A funnel plugin for Chart.js(http://chartjs.org/)
 * Version: 1.0.2
 *
 * Copyright 2016 Jone Casaper
 * Released under the MIT license
 * https://github.com/xch89820/Chart.Funnel.js/blob/master/LICENSE.md
 */
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.Chart2||(g.Chart2={})).Funnel=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){},{}],2:[function(require,module,exports){"use strict";var Chart2=require(1);Chart2=typeof(Chart2)==='function'?Chart2:window.Chart2;require(4)(Chart2);require(3)(Chart2);module.exports=Chart2;},{"1":1,"3":3,"4":4}],3:[function(require,module,exports){"use strict";module.exports=function(Chart2){var helpers=Chart2.helpers;Chart2.defaults.funnel={hover:{mode:"label"},sort:'asc',gap:2,bottomWidth:null,topWidth:0,keep:'auto',elements:{borderWidth:0},tooltips:{callbacks:{title:function(tooltipItem,data){return'';},label:function(tooltipItem,data){return data.labels[tooltipItem.index]+': '+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];}}},legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');var data=chart.data;var datasets=data.datasets;var labels=data.labels;if(datasets.length){for(var i=0;i<datasets[0].data.length;++i){text.push('<li><span style="background-color:'+datasets[0].backgroundColor[i]+'"></span>');if(labels[i]){text.push(labels[i]);}
text.push('</li>');}}
text.push('</ul>');return text.join("");},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var ds=data.datasets[0];var trap=meta.data[i];var custom=trap.custom||{};var getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault;var trapeziumOpts=chart.options.elements.trapezium;var fill=custom.backgroundColor?custom.backgroundColor:getValueAtIndexOrDefault(ds.backgroundColor,i,trapeziumOpts.backgroundColor);var stroke=custom.borderColor?custom.borderColor:getValueAtIndexOrDefault(ds.borderColor,i,trapeziumOpts.borderColor);var bw=custom.borderWidth?custom.borderWidth:getValueAtIndexOrDefault(ds.borderWidth,i,trapeziumOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i,_index:trap._index};});}else{return[];}}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden;}
chart.update();}}};Chart2.controllers.funnel=Chart2.DatasetController.extend({dataElementType:Chart2.elements.Trapezium,linkScales:helpers.noop,update:function update(reset){var me=this;var chart=me.chart,chartArea=chart.chartArea,opts=chart.options,meta=me.getMeta(),elements=meta.data,borderWidth=opts.elements.borderWidth||0,availableWidth=chartArea.right-chartArea.left-borderWidth*2,availableHeight=chartArea.bottom-chartArea.top-borderWidth*2;var bottomWidth=availableWidth,topWidth=(opts.topWidth<availableWidth?opts.topWidth:availableWidth)||0;if(opts.bottomWidth){bottomWidth=opts.bottomWidth<availableWidth?opts.bottomWidth:availableWidth;}
var sort=opts.sort,dataset=me.getDataset(),valAndLabels=[],visiableNum=0,dMax=0;helpers.each(dataset.data,function(val,index){var backgroundColor=helpers.getValueAtIndexOrDefault(dataset.backgroundColor,index),hidden=elements[index].hidden;valAndLabels.push({hidden:hidden,orgIndex:index,val:val,backgroundColor:backgroundColor,borderColor:helpers.getValueAtIndexOrDefault(dataset.borderColor,index,backgroundColor),label:helpers.getValueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])});if(!elements[index].hidden){visiableNum++;dMax=val>dMax?val:dMax;}});var dwRatio=bottomWidth / dMax;var sortedDataAndLabels=valAndLabels;var _viewIndex=0;helpers.each(sortedDataAndLabels,function(dal,index){dal._viewIndex=!dal.hidden?_viewIndex++:-1;});var gap=opts.gap||0,elHeight=(availableHeight-((visiableNum-1)*gap))/ visiableNum;me.topWidth=topWidth;me.dwRatio=dwRatio;me.elHeight=elHeight;me.sortedDataAndLabels=sortedDataAndLabels;helpers.each(elements,function(trapezium,index){me.updateElement(trapezium,index,reset);},me);},updateElement:function updateElement(trapezium,index,reset){var me=this,chart=me.chart,chartArea=chart.chartArea,opts=chart.options,sort=opts.sort,dwRatio=me.dwRatio,elHeight=me.elHeight,gap=opts.gap||0,borderWidth=opts.elements.borderWidth||0;var x,y,x1,x2,elementType='isosceles',elementData=me.sortedDataAndLabels[index],upperWidth,bottomWidth,viewIndex=elementData._viewIndex<0?index:elementData._viewIndex,base=chartArea.top+(viewIndex+1)*(elHeight+gap)-gap;if(sort==='asc'){var previousElement=helpers.findPreviousWhere(me.sortedDataAndLabels,function(el){return!el.hidden;},index);upperWidth=previousElement?previousElement.val*dwRatio:me.topWidth;bottomWidth=elementData.val*dwRatio;}else{var nextElement=helpers.findNextWhere(me.sortedDataAndLabels,function(el){return!el.hidden;},index);upperWidth=elementData.val*dwRatio;bottomWidth=nextElement?nextElement.val*dwRatio:me.topWidth;}
let corners=trapezium.getCorners();let topY=_.max(_.pluck(corners,1));let bottomY=_.min(_.pluck(corners,1));y=(topY+bottomY)/ 2;if(opts.keep==='left'){elementType='scalene';x1=chartArea.left+upperWidth / 2;x2=chartArea.left+bottomWidth / 2;}else if(opts.keep==='right'){elementType='scalene';x1=chartArea.right-upperWidth/ 2;x2=chartArea.right-bottomWidth / 2;}else{x=(chartArea.left+chartArea.right)/ 2;}
helpers.extend(trapezium,{_datasetIndex:me.index,_index:elementData.orgIndex,_model:{type:elementType,y:y,base:base>chartArea.bottom?chartArea.bottom:base,x:x,x1:x1,x2:x2,upperWidth:(reset||!!elementData.hidden)?0:upperWidth,bottomWidth:(reset||!!elementData.hidden)?0:bottomWidth,borderWidth:borderWidth,backgroundColor:elementData&&elementData.backgroundColor,borderColor:elementData&&elementData.borderColor,label:elementData&&elementData.label}});trapezium.pivot();},removeHoverStyle:function(trapezium){Chart2.DatasetController.prototype.removeHoverStyle.call(this,trapezium,this.chart.options.elements.trapezium);}});};},{}],4:[function(require,module,exports){"use strict";Chart2.Tooltip.positioners.custom=function getTooltipPosition(elements,eventPosition){return{x:eventPosition.x,y:eventPosition.y};};module.exports=function(Chart2){var helpers=Chart2.helpers,globalOpts=Chart2.defaults.global;globalOpts.elements.trapezium={backgroundColor:globalOpts.defaultColor,borderWidth:0,borderColor:globalOpts.defaultColor,borderSkipped:'bottom',type:'isosceles'};var pointInPolygon=function(point,vs){var x=point[0],y=point[1];var inside=false;for(var i=0,j=vs.length-1;i<vs.length;j=i++){var xi=vs[i][0],yi=vs[i][1];var xj=vs[j][0],yj=vs[j][1];var intersect=((yi>y)!=(yj>y))&&(x<(xj-xi)*(y-yi)/(yj-yi)+xi);if(intersect)inside=!inside;}
return inside;};var calculatedHeight;var calculatedWidth;var contextChartWidth;var calculatedCenter
var r=0.3;Chart2.elements.Trapezium=Chart2.Element.extend({pointsTrapezoid:function(d,w){var y0=d._bottom,y1=d._top,w0=w / 2-r*y0,w1=w / 2-r*y1,c=calculatedCenter;return((c-w0)+','+y0+' '+
(c-w1)+','+y1+' '+
(c+w1)+','+y1+' '+
(c+w0)+','+y0);},calcScales:function(data,self){var areaTrapezoid=function(h,w){return h*(w-h*r);};var heightTrapezoid=function(a,b){var x=b / r / 2;return Math.abs(Math.sqrt(a / r+x*x))-x;};var funnelTotal=0;for(var i=0;i<data.length;i++){if(self._chart.getDatasetMeta(0).data[i].hidden===false){funnelTotal+=data[i];}}
var funnelArea=areaTrapezoid(calculatedHeight,calculatedWidth),funnelShift=0,funnelMinHeight=4,_base=calculatedWidth-2*r*calculatedHeight,_bottom=calculatedHeight;var res=[];for(var i=0;i<data.length;i++){var value=data[i];var pointValue=data[i];var _height=funnelTotal>0?heightTrapezoid(funnelArea*pointValue / funnelTotal,_base):0;var point={};point._base=_base;point._bottom=_bottom;point._top=point._bottom-_height;if(pointValue!==0){_base+=2*r*_height;_bottom-=_height;}
res.push({_top:point._top,_bottom:point._bottom,});};return res;},getCorners:function(){var vm=this._view;var topOffset=this._getTopOffset();calculatedHeight=this._chart.height-topOffset;calculatedWidth=this._chart.width-40;contextChartWidth=this._chart.width;calculatedCenter=contextChartWidth / 2;var initialVals=[];var allValues=this._chart.data.datasets[0].data;for(var i=0;i<allValues.length;i++){if(this._chart.getDatasetMeta(0).data[i].hidden===false){initialVals.push(allValues[i]);}else{initialVals.push(0);}}
var data=Chart2.elements.Trapezium.prototype.calcScales(initialVals,this);var d=data[this._index];var poligon=Chart2.elements.Trapezium.prototype.pointsTrapezoid(d,calculatedWidth);var finalCoordinates=this._formatCoordinates(poligon);finalCoordinates=this._addTopOffset(finalCoordinates,topOffset);if(initialVals[this._index]===0){return[[0,0],[0,0],[0,0],[0,0],];}
finalCoordinates[0][1]-=2;finalCoordinates[3][1]-=2;return finalCoordinates;},_formatCoordinates:function(poligon){var coordinates=poligon.split(" ");var finalCoordinates=[];for(var i=0;i<coordinates.length;i++){var c=coordinates[i];c=c.split(",");c[0]=parseFloat(c[0]);c[1]=parseFloat(c[1]);finalCoordinates.push(c);}
return finalCoordinates;},_getTopOffset:function(){var topOffset=0;for(var i=0;i<this._chart.boxes.length;i++){var box=this._chart.boxes[i];if(box.position==="top"){topOffset+=box.height;}}
return topOffset;},_addTopOffset:function(poligon,topOffset){poligon[0][1]=parseFloat(poligon[0][1])+topOffset;poligon[1][1]=parseFloat(poligon[1][1])+topOffset;poligon[2][1]=parseFloat(poligon[2][1])+topOffset;poligon[3][1]=parseFloat(poligon[3][1])+topOffset;return poligon;},getCornersBackup:function(){var vm=this._view;var globalOptionTrapeziumElements=globalOpts.elements.trapezium;var corners=[],type=vm.type||globalOptionTrapeziumElements.type,top=vm.y,borderWidth=vm.borderWidth||globalOptionTrapeziumElements.borderWidth,upHalfWidth=vm.upperWidth / 2,botHalfWidth=vm.bottomWidth / 2,halfStroke=borderWidth / 2;halfStroke=halfStroke<0?0:halfStroke;if(type=='isosceles'){var x=vm.x;corners=[[x-botHalfWidth+halfStroke,vm.base],[x-upHalfWidth+halfStroke,top+halfStroke],[x+upHalfWidth-halfStroke,top+halfStroke],[x+botHalfWidth-halfStroke,vm.base]];}else if(type=='scalene'){var x1=vm.x1,x2=vm.x2;corners=[[x2-botHalfWidth+halfStroke,vm.base],[x1-upHalfWidth+halfStroke,top+halfStroke],[x1+upHalfWidth-halfStroke,top+halfStroke],[x2+botHalfWidth-halfStroke,vm.base]];}
return corners;},draw:function(){var ctx=this._chart.ctx;var vm=this._view;var globalOptionTrapeziumElements=globalOpts.elements.trapezium;var corners=this.getCorners();this._cornersCache=corners;ctx.beginPath();ctx.fillStyle=vm.backgroundColor||globalOptionTrapeziumElements.backgroundColor;ctx.strokeStyle=vm.borderColor||globalOptionTrapeziumElements.borderColor;ctx.lineWidth=vm.borderWidth||globalOptionTrapeziumElements.borderWidth;var borders=['bottom','left','top','right'];var startCorner=borders.indexOf(vm.borderSkipped||globalOptionTrapeziumElements.borderSkipped,0);if(startCorner===-1)
startCorner=0;function cornerAt(index){return corners[(startCorner+index)%4];}
ctx.moveTo.apply(ctx,cornerAt(0));for(var i=1;i<4;i++)
ctx.lineTo.apply(ctx,cornerAt(i));ctx.fill();if(vm.borderWidth){ctx.stroke();}},height:function(){var vm=this._view;if(!vm){return 0;}
return vm.base-vm.y;},inRange:function(mouseX,mouseY){var vm=this._view;if(!vm){return false;}
var corners=this._cornersCache?this._cornersCache:this.getCorners();return pointInPolygon([mouseX,mouseY],corners);},inLabelRange:function(mouseX){var x,vm=this._view;if(!vm){return false;}
if(vm.type=='scalene'){if(vm.x1>vm.x2){return mouseX>=vm.x2-vm.bottomWidth / 2&&mouseX<=vm.x1+vm.upperWidth / 2;}else{return mouseX<=vm.x2+vm.bottomWidth / 2&&mouseX>=vm.x1-vm.upperWidth / 2;}}
var maxWidth=Math.max(vm.upperWidth,vm.bottomWidth);return mouseX>=vm.x-maxWidth / 2&&mouseX<=vm.x+maxWidth / 2;},getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y};},tooltipPosition:function(){var vm=this._view;return{x:vm.x||vm.x2,y:vm.base-(vm.base-vm.y)/2};}});};},{}]},{},[2])(2)});
/* End of File include/javascript/chartjs/chart.funnel.js */

;// https://d3js.org Version 4.13.0. Copyright 2018 Mike Bostock.
(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3sugar=t.d3sugar||{})})(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){return 1===t.length&&(t=function(t){return function(e,r){return n(t(e),r)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function r(t,n){return[t,n]}function i(t){return null===t?NaN:+t}function o(t,n){var e,r,o=t.length,u=0,a=-1,c=0,s=0;if(null==n)for(;++a<o;)isNaN(e=i(t[a]))||(s+=(r=e-c)*(e-(c+=r/++u)));else for(;++a<o;)isNaN(e=i(n(t[a],a,t)))||(s+=(r=e-c)*(e-(c+=r/++u)));if(u>1)return s/(u-1)}function u(t,n){var e=o(t,n);return e?Math.sqrt(e):e}function a(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}function c(t){return function(){return t}}function s(t){return t}function f(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function l(t,n,e){var r,i,o,u,a=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=h(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}function h(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Qu?10:o>=Ju?5:o>=Gu?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Qu?10:o>=Ju?5:o>=Gu?2:1)}function d(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Qu?i*=10:o>=Ju?i*=5:o>=Gu&&(i*=2),n<t?-i:i}function p(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function _(t,n,e){if(null==e&&(e=i),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,u=Math.floor(o),a=+e(t[u],u,t);return a+(+e(t[u+1],u+1,t)-a)*(o-u)}}function y(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function v(t){if(!(i=t.length))return[];for(var n=-1,e=y(t,g),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function g(t){return t.length}function m(t){return t}function x(t){return"translate("+(t+.5)+",0)"}function b(t){return"translate(0,"+(t+.5)+")"}function w(){return!this.__axis}function M(t,n){function e(e){var h=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,d=null==o?n.tickFormat?n.tickFormat.apply(n,r):m:o,p=Math.max(u,0)+c,_=n.range(),y=+_[0]+.5,v=+_[_.length-1]+.5,g=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),x=e.selection?e.selection():e,b=x.selectAll(".domain").data([null]),M=x.selectAll(".tick").data(h,n).order(),T=M.exit(),k=M.enter().append("g").attr("class","tick"),C=M.select("line"),N=M.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(k),C=C.merge(k.append("line").attr("stroke","#000").attr(f+"2",s*u)),N=N.merge(k.append("text").attr("fill","#000").attr(f,s*p).attr("dy",t===ta?"0em":t===ea?"0.71em":"0.32em")),e!==x&&(b=b.transition(e),M=M.transition(e),C=C.transition(e),N=N.transition(e),T=T.transition(e).attr("opacity",ia).attr("transform",function(t){return isFinite(t=g(t))?l(t):this.getAttribute("transform")}),k.attr("opacity",ia).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:g(t))})),T.remove(),b.attr("d",t===ra||t==na?"M"+s*a+","+y+"H0.5V"+v+"H"+s*a:"M"+y+","+s*a+"V0.5H"+v+"V"+s*a),M.attr("opacity",1).attr("transform",function(t){return l(g(t))}),C.attr(f+"2",s*u),N.attr(f,s*p).text(d),x.filter(w).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===na?"start":t===ra?"end":"middle"),x.each(function(){this.__axis=g})}var r=[],i=null,o=null,u=6,a=6,c=3,s=t===ta||t===ra?-1:1,f=t===ra||t===na?"x":"y",l=t===ta||t===ea?x:b;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Ku.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Ku.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Ku.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(u=a=+t,e):u},e.tickSizeInner=function(t){return arguments.length?(u=+t,e):u},e.tickSizeOuter=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(c=+t,e):c},e}function T(){}function k(t,n){var e=new T;if(t instanceof T)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function C(){return{}}function N(t,n,e){t[n]=e}function A(){return k()}function S(t,n,e){t.set(n,e)}function E(){}function z(t,n){var e=new E;if(t instanceof E)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function P(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function U(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function L(){}function D(t){var n;return t=(t+"").trim().toLowerCase(),(n=sa.exec(t))?(n=parseInt(n[1],16),new I(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=fa.exec(t))?R(parseInt(n[1],16)):(n=la.exec(t))?new I(n[1],n[2],n[3],1):(n=ha.exec(t))?new I(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=da.exec(t))?q(n[1],n[2],n[3],n[4]):(n=pa.exec(t))?q(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_a.exec(t))?Y(n[1],n[2]/100,n[3]/100,1):(n=ya.exec(t))?Y(n[1],n[2]/100,n[3]/100,n[4]):va.hasOwnProperty(t)?R(va[t]):"transparent"===t?new I(NaN,NaN,NaN,0):null}function R(t){return new I(t>>16&255,t>>8&255,255&t,1)}function q(t,n,e,r){return r<=0&&(t=n=e=NaN),new I(t,n,e,r)}function O(t){return t instanceof L||(t=D(t)),t?(t=t.rgb(),new I(t.r,t.g,t.b,t.opacity)):new I}function F(t,n,e,r){return 1===arguments.length?O(t):new I(t,n,e,null==r?1:r)}function I(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Y(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new H(t,n,e,r)}function B(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof H)return new H(t.h,t.s,t.l,t.opacity);if(t instanceof L||(t=D(t)),!t)return new H;if(t instanceof H)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new H(u,a,c,t.opacity)}(t):new H(t,n,e,null==r?1:r)}function H(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function X(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function j(t){if(t instanceof $)return new $(t.l,t.a,t.b,t.opacity);if(t instanceof K){var n=t.h*ga;return new $(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof I||(t=O(t));var e=J(t.r),r=J(t.g),i=J(t.b),o=W((.4124564*e+.3575761*r+.1804375*i)/xa),u=W((.2126729*e+.7151522*r+.072175*i)/ba);return new $(116*u-16,500*(o-u),200*(u-W((.0193339*e+.119192*r+.9503041*i)/wa)),t.opacity)}function V(t,n,e,r){return 1===arguments.length?j(t):new $(t,n,e,null==r?1:r)}function $(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function W(t){return t>Ca?Math.pow(t,1/3):t/ka+Ma}function Z(t){return t>Ta?t*t*t:ka*(t-Ma)}function Q(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function J(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function G(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof K)return new K(t.h,t.c,t.l,t.opacity);t instanceof $||(t=j(t));var n=Math.atan2(t.b,t.a)*ma;return new K(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new K(t,n,e,null==r?1:r)}function K(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function tt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof nt)return new nt(t.h,t.s,t.l,t.opacity);t instanceof I||(t=O(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Pa*r+Ea*n-za*e)/(Pa+Ea-za),o=r-i,u=(Sa*(e-i)-Na*o)/Aa,a=Math.sqrt(u*u+o*o)/(Sa*i*(1-i)),c=a?Math.atan2(u,o)*ma-120:NaN;return new nt(c<0?c+360:c,a,i,t.opacity)}(t):new nt(t,n,e,null==r?1:r)}function nt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function et(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new rt(r)}function rt(t){this._=t}function it(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ua,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function ot(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Da.hasOwnProperty(n)?{space:Da[n],local:t}:t}function ut(t){var n=ot(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===La&&n.documentElement.namespaceURI===La?n.createElement(t):n.createElementNS(e,t)}})(n)}function at(){}function ct(t){return null==t?at:function(){return this.querySelector(t)}}function st(){return[]}function ft(t){return null==t?st:function(){return this.querySelectorAll(t)}}function lt(t){return new Array(t.length)}function ht(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function dt(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new ht(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function pt(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=s=Ia+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s=Ia+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new ht(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[d[a]]===c&&(i[a]=c)}function _t(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function yt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vt(t,n){return t.style.getPropertyValue(n)||yt(t).getComputedStyle(t,null).getPropertyValue(n)}function gt(t){return t.trim().split(/^|\s+/)}function mt(t){return t.classList||new xt(t)}function xt(t){this._node=t,this._names=gt(t.getAttribute("class")||"")}function bt(t,n){for(var e=mt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function wt(t,n){for(var e=mt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Mt(){this.textContent=""}function Tt(){this.innerHTML=""}function kt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nt(){return null}function At(){var t=this.parentNode;t&&t.removeChild(this)}function St(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Et(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function zt(t,n,e){return t=Pt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Pt(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function Ut(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Lt(t,n,e){var r=Ya.hasOwnProperty(t.type)?zt:Pt;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function Dt(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function Rt(t,n,e){var r=yt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function qt(t,n){this._groups=t,this._parents=n}function Ot(){return new qt([[document.documentElement]],Ba)}function Ft(t){return"string"==typeof t?new qt([[document.querySelector(t)]],[document.documentElement]):new qt([[t]],Ba)}function It(){return new Yt}function Yt(){this._="@"+(++Ha).toString(36)}function Bt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function Ht(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Xt(t){var n=Bt();return n.changedTouches&&(n=n.changedTouches[0]),Ht(t,n)}function jt(t,n,e){arguments.length<3&&(e=n,n=Bt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Ht(t,r);return null}function Vt(){t.event.stopImmediatePropagation()}function $t(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Wt(t){var n=t.document.documentElement,e=Ft(t).on("dragstart.drag",$t,!0);"onselectstart"in n?e.on("selectstart.drag",$t,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Zt(t,n){var e=t.document.documentElement,r=Ft(t).on("dragstart.drag",null);n&&(r.on("click.drag",$t,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Qt(t){return function(){return t}}function Jt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function Gt(){return!t.event.button}function Kt(){return this.parentNode}function tn(n){return null==n?{x:t.event.x,y:t.event.y}:n}function nn(){return"ontouchstart"in this}function en(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function rn(t){function n(t,n){function e(){if(s)return Va;if(f)return f=!1,ja;var n,e,r=a;if(t.charCodeAt(r)===$a){for(;a++<u&&t.charCodeAt(a)!==$a||t.charCodeAt(++a)===$a;);return(n=a)>=u?s=!0:(e=t.charCodeAt(a++))===Wa?f=!0:e===Za&&(f=!0,t.charCodeAt(a)===Wa&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<u;){if((e=t.charCodeAt(n=a++))===Wa)f=!0;else if(e===Za)f=!0,t.charCodeAt(a)===Wa&&++a;else if(e!==o)continue;return t.slice(r,n)}return s=!0,t.slice(r,u)}var r,i=[],u=t.length,a=0,c=0,s=u<=0,f=!1;for(t.charCodeAt(u-1)===Wa&&--u,t.charCodeAt(u-1)===Za&&--u;(r=e())!==Va;){for(var l=[];r!==ja&&r!==Va;)l.push(r),r=e();n&&null==(l=n(l,c++))||i.push(l)}return i}function e(n){return n.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,n){var e=en(t);return function(r,i){return n(e(r),i,t)}}(t,e):en(t)});return o.columns=i||[],o},parseRows:n,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(r).join(t)].concat(n.map(function(n){return e.map(function(t){return r(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}function on(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function un(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function an(t){return(1-Math.cos(sc*t))/2}function cn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function sn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function fn(t){return(t=+t)<lc?xc*t*t:t<dc?xc*(t-=hc)*t+pc:t<yc?xc*(t-=_c)*t+vc:xc*(t-=gc)*t+mc}function ln(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function hn(t){return(t=ln(Math.abs(t)))?t[1]:NaN}function dn(t,n){var e=ln(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function pn(t){return new _n(t)}function _n(t){if(!(n=Sc.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):Ac[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function yn(t){return t}function vn(t){function n(t){function n(t){var n,r,u,f=y,x=v;if("c"===_)x=g(t)+x,t="";else{var b=(t=+t)<0;if(t=g(Math.abs(t),p),b&&0==+t&&(b=!1),f=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+f,x=("s"===_?zc[8+Xa/3]:"")+x+(b&&"("===s?")":""),m)for(n=-1,r=t.length;++n<r;)if(48>(u=t.charCodeAt(n))||u>57){x=(46===u?i+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}d&&!l&&(t=e(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(a):"";switch(d&&l&&(t=e(M+t,M.length?h-x.length:1/0),M=""),c){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return o(t)}var a=(t=pn(t)).fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,d=t.comma,p=t.precision,_=t.type,y="$"===f?r[0]:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",v="$"===f?r[1]:/[%p]/.test(_)?u:"",g=Ac[_],m=!_||/[defgprs%]/.test(_);return p=null==p?_?6:12:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),n.toString=function(){return t+""},n}var e=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):yn,r=t.currency,i=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):yn,u=t.percent||"%";return{format:n,formatPrefix:function(t,e){var r=n((t=pn(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(hn(e)/3))),o=Math.pow(10,-i),u=zc[8+i/3];return function(t){return r(o*t)+u}}}}function gn(n){return Ec=vn(n),t.format=Ec.format,t.formatPrefix=Ec.formatPrefix,Ec}function mn(t){return Math.max(0,-hn(Math.abs(t)))}function xn(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hn(n)/3)))-hn(Math.abs(t)))}function bn(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,hn(n)-hn(t))+1}function wn(t,n){return t.parent===n.parent?1:2}function Mn(t,n){return t+n.x}function Tn(t,n){return Math.max(t,n.y)}function kn(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Cn(t,n){var e,r,i,o,u,a=new En(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=Nn);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new En(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Sn)}function Nn(t){return t.children}function An(t){t.data=t.data.data}function Sn(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function En(t){this.data=t,this.depth=this.height=0,this.parent=null}function zn(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Pc.call(t))).length,o=[];r<i;)n=t[r],e&&Un(e,n)?++r:(e=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Dn(t[0],t[1]);case 3:return Rn(t[0],t[1],t[2])}}(o=function(t,n){var e,r;if(Ln(n,t))return[n];for(e=0;e<t.length;++e)if(Pn(n,t[e])&&Ln(Dn(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Pn(Dn(t[e],t[r]),n)&&Pn(Dn(t[e],n),t[r])&&Pn(Dn(t[r],n),t[e])&&Ln(Rn(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}(o,n)),r=0);return e}function Pn(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Un(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Ln(t,n){for(var e=0;e<n.length;++e)if(!Un(t,n[e]))return!1;return!0}function Dn(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function Rn(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-u,d=r-s,p=i-a,_=i-f,y=c-o,v=l-o,g=r*r+i*i-o*o,m=g-u*u-a*a+c*c,x=g-s*s-f*f+l*l,b=d*p-h*_,w=(p*x-_*m)/(2*b)-r,M=(_*y-p*v)/b,T=(d*m-h*x)/(2*b)-i,k=(h*v-d*y)/b,C=M*M+k*k-1,N=2*(o+w*M+T*k),A=w*w+T*T-o*o,S=-(C?(N+Math.sqrt(N*N-4*C*A))/(2*C):A/N);return{x:r+w+M*S,y:i+T+k*S,r:S}}function qn(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function On(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function Fn(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function In(t){this._=t,this.next=null,this.previous=null}function Yn(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,s,f,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;qn(e,n,r=t[2]),n=new In(n),e=new In(e),r=new In(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){qn(n._,e._,r=t[a]),r=new In(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(On(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(On(s._,r._)){(n=s).next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Fn(n);(r=r.next)!==e;)(u=Fn(r))<o&&(n=r,o=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=zn(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function Bn(t){if("function"!=typeof t)throw new Error;return t}function Hn(){return 0}function Xn(t){return function(){return t}}function jn(t){return Math.sqrt(t.value)}function Vn(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function $n(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=Yn(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function Wn(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Zn(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Qn(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}function Jn(t){return t.id}function Gn(t){return t.parentId}function Kn(t,n){return t.parent===n.parent?1:2}function te(t){var n=t.children;return n?n[0]:t.t}function ne(t){var n=t.children;return n?n[n.length-1]:t.t}function ee(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function re(t,n,e){return t.a.parent===n.parent?t.a:e}function ie(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function oe(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}function ue(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,d,p,_,y,v=[],g=n.children,m=0,x=0,b=g.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=g[x++].value}while(!f&&x<b);for(l=h=f,y=f*f*(_=Math.max(s/c,c/s)/(w*t)),p=Math.max(h/y,y/l);x<b;++x){if(f+=a=g[x].value,a<l&&(l=a),a>h&&(h=a),y=f*f*_,(d=Math.max(h/y,y/l))>p){f-=a;break}p=d}v.push(u={value:f,dice:c<s,children:g.slice(m,x)}),u.dice?Qn(u,e,r,i,w?r+=s*f/w:o):oe(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return v}function ae(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function ce(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return ae((e-r/n)*n,u,i,o,a)}}function se(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return ae((e-r/n)*n,i,o,u,a)}}function fe(t){return function(){return t}}function le(t,n){return function(e){return t+e*n}}function he(t,n){var e=n-t;return e?le(t,e>180||e<-180?e-360*Math.round(e/360):e):fe(isNaN(t)?n:t)}function de(t){return 1==(t=+t)?pe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):fe(isNaN(n)?e:n)}}function pe(t,n){var e=n-t;return e?le(t,e):fe(isNaN(t)?n:t)}function _e(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=F(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function ye(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=be(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function ve(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}}function ge(t,n){return t=+t,n-=t,function(e){return t+n*e}}function me(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=be(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function xe(t,n){var e,r,i,o=Vc.lastIndex=$c.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Vc.exec(t))&&(r=$c.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:ge(e,r)})),o=$c.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function be(t,n){var e,r=typeof n;return null==n||"boolean"===r?fe(n):("number"===r?ge:"string"===r?(e=D(n))?(n=e,Hc):xe:n instanceof D?Hc:n instanceof Date?ve:Array.isArray(n)?ye:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?me:ge)(t,n)}function we(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}function Me(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Wc,skewX:Math.atan(c)*Wc,scaleX:u,scaleY:a}}function Te(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:ge(t,i)},{i:c-2,x:ge(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ge(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ge(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:ge(t,e)},{i:a-2,x:ge(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}function ke(t){return((t=Math.exp(t))+1/t)/2}function Ce(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<ns)r=Math.log(s/u)/Gc,e=function(t){return[i+t*f,o+t*l,u*Math.exp(Gc*t*r)]};else{var d=Math.sqrt(h),p=(s*s-u*u+ts*h)/(2*u*Kc*d),_=(s*s-u*u-ts*h)/(2*s*Kc*d),y=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(_*_+1)-_);r=(v-y)/Gc,e=function(t){var n=t*r,e=ke(y),a=u/(Kc*d)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Gc*n+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[i+a*f,o+a*l,u*e/ke(Gc*n+y)]}}return e.duration=1e3*r,e}function Ne(t){return function(n,e){var r=t((n=B(n)).h,(e=B(e)).h),i=pe(n.s,e.s),o=pe(n.l,e.l),u=pe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function Ae(t){return function(n,e){var r=t((n=G(n)).h,(e=G(e)).h),i=pe(n.c,e.c),o=pe(n.l,e.l),u=pe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function Se(t){return function n(e){function r(n,r){var i=t((n=tt(n)).h,(r=tt(r)).h),o=pe(n.s,r.s),u=pe(n.l,r.l),a=pe(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function Ee(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ze(){return new Ee}function Pe(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function Ue(t,n){return t[0]-n[0]||t[1]-n[1]}function Le(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Pe(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function De(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Re(t){if(!t._start)try{(function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=function(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?qe(t,e):(t._data[n]=r,t._waiting?Re(t):Oe(t))))}}(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||hs)}})(t)}catch(n){if(t._tasks[t._ended+t._active-1])qe(t,n);else if(!t._data)throw n}}function qe(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,Oe(t)}function Oe(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function Fe(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new De(t)}function Ie(){return Math.random()}function Ye(t,n){function e(t){var n,e=s.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,s)}catch(t){return void a.call("error",r,t)}else n=s;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=et("beforesend","progress","load","error"),c=k(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(t){s.readyState>3&&e(t)},s.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return s.open(n,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=function(t){return function(n,e){t(null==n?e:null)}}(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r}function Be(t,n){return function(e,r){var i=Ye(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}function He(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=Ye(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,n){return function(e){return t(e.responseText,n)}}(n,r=t)):r},o.row(r),i?o.get(i):o}}function Xe(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==As)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=k(),r=[],i=As;return t=null==t?[]:Ns.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=k();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=Ns.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return Xe().domain(r).range(t).unknown(i)},n}function je(){function t(){var t=i().length,r=u[1]<u[0],h=u[r-0],d=u[1-r];n=(d-h)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),h+=(d-h-n*(t-c))*l,e=n*(1-c),a&&(h=Math.round(h),e=Math.round(e));var p=f(t).map(function(t){return h+n*t});return o(r?p.reverse():p)}var n,e,r=Xe().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,l=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(l=Math.max(0,Math.min(1,n)),t()):l},r.copy=function(){return je().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(l)},t()}function Ve(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ve(n())},t}function $e(t){return function(){return t}}function We(t){return+t}function Ze(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:$e(n)}function Qe(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function Je(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=ju(t,n,1,i)-1;return u[e](o[e](n))}}function Ge(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ke(t,n){function e(){return i=Math.min(a.length,c.length)>2?Je:Qe,o=u=null,r}function r(n){return(o||(o=i(a,c,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,s)))(+n)}var i,o,u,a=Ss,c=Ss,s=be,f=!1;return r.invert=function(t){return(u||(u=i(c,a,Ze,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=Cs.call(t,We),e()):a.slice()},r.range=function(t){return arguments.length?(c=Ns.call(t),e()):c.slice()},r.rangeRound=function(t){return c=Ns.call(t),s=we,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function tr(n){var e=n.domain;return n.ticks=function(t){var n=e();return l(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(n,r){return function(n,e,r){var i,o=n[0],u=n[n.length-1],a=d(o,u,null==e?10:e);switch((r=pn(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(o),Math.abs(u));return null!=r.precision||isNaN(i=xn(a,c))||(r.precision=i),t.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=bn(a,Math.max(Math.abs(o),Math.abs(u))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=mn(a))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(e(),n,r)},n.nice=function(t){null==t&&(t=10);var r,i=e(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=h(a,c,t))>0?r=h(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,t):r<0&&(r=h(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,t)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,e(i)),n},n}function nr(){var t=Ke(Ze,ge);return t.copy=function(){return Ge(t,nr())},tr(t)}function er(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=Cs.call(e,We),t):n.slice()},t.copy=function(){return er().domain(n)},tr(t)}function rr(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function ir(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:$e(n)}function or(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function ur(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ar(t){return 10===t?ur:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function cr(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function sr(t){return function(n){return-t(-n)}}function fr(){function n(){return o=cr(i),u=ar(i),r()[0]<0&&(o=sr(o),u=sr(u)),e}var e=Ke(ir,or).domain([1,10]),r=e.domain,i=10,o=cr(10),u=ar(10);return e.base=function(t){return arguments.length?(i=+t,n()):i},e.domain=function(t){return arguments.length?(r(t),n()):r()},e.ticks=function(t){var n,e=r(),a=e[0],c=e[e.length-1];(n=c<a)&&(d=a,a=c,c=d);var s,f,h,d=o(a),p=o(c),_=null==t?10:+t,y=[];if(!(i%1)&&p-d<_){if(d=Math.round(d)-1,p=Math.round(p)+1,a>0){for(;d<p;++d)for(f=1,s=u(d);f<i;++f)if(!((h=s*f)<a)){if(h>c)break;y.push(h)}}else for(;d<p;++d)for(f=i-1,s=u(d);f>=1;--f)if(!((h=s*f)<a)){if(h>c)break;y.push(h)}}else y=l(d,p,Math.min(p-d,_)).map(u);return n?y.reverse():y},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=a?r(t):""}},e.nice=function(){return r(rr(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},e.copy=function(){return Ge(e,fr().base(i))},e}function lr(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function hr(){var t=1,n=Ke(function(n,e){return(e=lr(e,t)-(n=lr(n,t)))?function(r){return(lr(r,t)-n)/e}:$e(e)},function(n,e){return e=lr(e,t)-(n=lr(n,t)),function(r){return lr(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return Ge(n,hr().exponent(t))},tr(n)}function dr(){function t(){var t=0,n=Math.max(1,i.length);for(o=new Array(n-1);++t<n;)o[t-1]=_(r,t/n);return e}function e(t){if(!isNaN(t=+t))return i[ju(o,t)]}var r=[],i=[],o=[];return e.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},e.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var i,o=0,u=e.length;o<u;++o)null==(i=e[o])||isNaN(i=+i)||r.push(i);return r.sort(n),t()},e.range=function(n){return arguments.length?(i=Ns.call(n),t()):i.slice()},e.quantiles=function(){return o.slice()},e.copy=function(){return dr().domain(r).range(i)},e}function pr(){function t(t){if(t<=t)return u[ju(o,t,0,i)]}function n(){var n=-1;for(o=new Array(i);++n<i;)o[n]=((n+1)*r-(n-i)*e)/(i+1);return t}var e=0,r=1,i=1,o=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n()):[e,r]},t.range=function(t){return arguments.length?(i=(u=Ns.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},t.copy=function(){return pr().domain([e,r]).range(u)},tr(t)}function _r(){function t(t){if(t<=t)return e[ju(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return t.domain=function(i){return arguments.length?(n=Ns.call(i),r=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=Ns.call(i),r=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},t.copy=function(){return _r().domain(n).range(e)},t}function yr(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return yr(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Es.setTime(+n),zs.setTime(+r),t(Es),t(zs),Math.floor(e(Es,zs))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function vr(t){return yr(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/Ds})}function gr(t){return yr(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Ds})}function mr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function br(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function wr(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Lf[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i,o,u=br(1900);if(r(u,t,e+="",0)!=e.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(o=(i=xr(br(u.y))).getUTCDay())>4||0===o?yf.ceil(i):yf(i),i=df.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=(o=(i=n(br(u.y))).getDay())>4||0===o?js.ceil(i):js(i),i=Bs.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),o="Z"in u?xr(br(u.y)).getUTCDay():n(br(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(o+5)%7:u.w+7*u.U-(o+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,xr(u)):n(u)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=T[i in Lf?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,u=t.time,a=t.periods,c=t.days,s=t.shortDays,f=t.months,l=t.shortMonths,h=kr(a),d=Cr(a),p=kr(c),_=Cr(c),y=kr(s),v=Cr(s),g=kr(f),m=Cr(f),x=kr(l),b=Cr(l),w={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:Vr,e:Vr,f:Jr,H:$r,I:Wr,j:Zr,L:Qr,m:Gr,M:Kr,p:function(t){return a[+(t.getHours()>=12)]},Q:Ni,s:Ai,S:ti,u:ni,U:ei,V:ri,w:ii,W:oi,x:null,X:null,y:ui,Y:ai,Z:ci,"%":Ci},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:si,e:si,f:pi,H:fi,I:li,j:hi,L:di,m:_i,M:yi,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Ni,s:Ai,S:vi,u:gi,U:mi,V:xi,w:bi,W:wi,x:null,X:null,y:Mi,Y:Ti,Z:ki,"%":Ci},T={a:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.w=v[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=_[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=x.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:Rr,e:Rr,f:Br,H:Or,I:Or,j:qr,L:Yr,m:Dr,M:Fr,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=d[r[0].toLowerCase()],e+r[0].length):-1},Q:Xr,s:jr,S:Ir,u:Ar,U:Sr,V:Er,w:Nr,W:zr,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,u,n,e)},y:Ur,Y:Pr,Z:Lr,"%":Hr};return w.x=n(o,w),w.X=n(u,w),w.c=n(i,w),M.x=n(o,M),M.X=n(u,M),M.c=n(i,M),{format:function(t){var e=n(t+="",w);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",mr);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,xr);return n.toString=function(){return t},n}}}function Mr(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Tr(t){return t.replace(qf,"\\$&")}function kr(t){return new RegExp("^(?:"+t.map(Tr).join("|")+")","i")}function Cr(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Nr(t,n,e){var r=Df.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Ar(t,n,e){var r=Df.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Sr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Er(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function zr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Pr(t,n,e){var r=Df.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ur(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Lr(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Dr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Rr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function qr(t,n,e){var r=Df.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Or(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Fr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Ir(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Yr(t,n,e){var r=Df.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Br(t,n,e){var r=Df.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Hr(t,n,e){var r=Rf.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Xr(t,n,e){var r=Df.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function jr(t,n,e){var r=Df.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Vr(t,n){return Mr(t.getDate(),n,2)}function $r(t,n){return Mr(t.getHours(),n,2)}function Wr(t,n){return Mr(t.getHours()%12||12,n,2)}function Zr(t,n){return Mr(1+Bs.count(af(t),t),n,3)}function Qr(t,n){return Mr(t.getMilliseconds(),n,3)}function Jr(t,n){return Qr(t,n)+"000"}function Gr(t,n){return Mr(t.getMonth()+1,n,2)}function Kr(t,n){return Mr(t.getMinutes(),n,2)}function ti(t,n){return Mr(t.getSeconds(),n,2)}function ni(t){var n=t.getDay();return 0===n?7:n}function ei(t,n){return Mr(Xs.count(af(t),t),n,2)}function ri(t,n){var e=t.getDay();return t=e>=4||0===e?Ws(t):Ws.ceil(t),Mr(Ws.count(af(t),t)+(4===af(t).getDay()),n,2)}function ii(t){return t.getDay()}function oi(t,n){return Mr(js.count(af(t),t),n,2)}function ui(t,n){return Mr(t.getFullYear()%100,n,2)}function ai(t,n){return Mr(t.getFullYear()%1e4,n,4)}function ci(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Mr(n/60|0,"0",2)+Mr(n%60,"0",2)}function si(t,n){return Mr(t.getUTCDate(),n,2)}function fi(t,n){return Mr(t.getUTCHours(),n,2)}function li(t,n){return Mr(t.getUTCHours()%12||12,n,2)}function hi(t,n){return Mr(1+df.count(zf(t),t),n,3)}function di(t,n){return Mr(t.getUTCMilliseconds(),n,3)}function pi(t,n){return di(t,n)+"000"}function _i(t,n){return Mr(t.getUTCMonth()+1,n,2)}function yi(t,n){return Mr(t.getUTCMinutes(),n,2)}function vi(t,n){return Mr(t.getUTCSeconds(),n,2)}function gi(t){var n=t.getUTCDay();return 0===n?7:n}function mi(t,n){return Mr(_f.count(zf(t),t),n,2)}function xi(t,n){var e=t.getUTCDay();return t=e>=4||0===e?mf(t):mf.ceil(t),Mr(mf.count(zf(t),t)+(4===zf(t).getUTCDay()),n,2)}function bi(t){return t.getUTCDay()}function wi(t,n){return Mr(yf.count(zf(t),t),n,2)}function Mi(t,n){return Mr(t.getUTCFullYear()%100,n,2)}function Ti(t,n){return Mr(t.getUTCFullYear()%1e4,n,4)}function ki(){return"+0000"}function Ci(){return"%"}function Ni(t){return+t}function Ai(t){return Math.floor(+t/1e3)}function Si(n){return Pf=wr(n),t.timeFormat=Pf.format,t.timeParse=Pf.parse,t.utcFormat=Pf.utcFormat,t.utcParse=Pf.utcParse,Pf}function Ei(t){return new Date(t)}function zi(t){return t instanceof Date?+t:+new Date(+t)}function Pi(t,n,r,i,o,u,a,c,s){function f(e){return(a(e)<e?y:u(e)<e?v:o(e)<e?g:i(e)<e?m:n(e)<e?r(e)<e?x:b:t(e)<e?w:M)(e)}function l(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-r)/n,a=e(function(t){return t[2]}).right(T,u);a===T.length?(o=d(r/$f,i/$f,n),n=t):a?(o=(a=T[u/T[a-1][2]<T[a][2]/u?a-1:a])[1],n=a[0]):(o=Math.max(d(r,i,n),1),n=c)}return null==o?n:n.every(o)}var h=Ke(Ze,ge),p=h.invert,_=h.domain,y=s(".%L"),v=s(":%S"),g=s("%I:%M"),m=s("%I %p"),x=s("%a %d"),b=s("%b %d"),w=s("%B"),M=s("%Y"),T=[[a,1,Yf],[a,5,5*Yf],[a,15,15*Yf],[a,30,30*Yf],[u,1,Bf],[u,5,5*Bf],[u,15,15*Bf],[u,30,30*Bf],[o,1,Hf],[o,3,3*Hf],[o,6,6*Hf],[o,12,12*Hf],[i,1,Xf],[i,2,2*Xf],[r,1,jf],[n,1,Vf],[n,3,3*Vf],[t,1,$f]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?_(Cs.call(t,zi)):_().map(Ei)},h.ticks=function(t,n){var e,r=_(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=l(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=_();return(t=l(t,e[0],e[e.length-1],n))?_(rr(e,t)):h},h.copy=function(){return Ge(h,Pi(t,n,r,i,o,u,a,c,s))},h}function Ui(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Li(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Di(t){function n(n){var o=(n-e)/(r-e);return t(i?Math.max(0,Math.min(1,o)):o)}var e=0,r=1,i=!1;return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.clamp=function(t){return arguments.length?(i=!!t,n):i},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Di(t).domain([e,r]).clamp(i)},tr(n)}function Ri(t){return function(){return t}}function qi(t){return t>=1?_l:t<=-1?-_l:Math.asin(t)}function Oi(t){return t.innerRadius}function Fi(t){return t.outerRadius}function Ii(t){return t.startAngle}function Yi(t){return t.endAngle}function Bi(t){return t&&t.padAngle}function Hi(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/hl(a*a+c*c),f=s*c,l=-s*a,h=t+f,d=n+l,p=e+f,_=r+l,y=(h+p)/2,v=(d+_)/2,g=p-h,m=_-d,x=g*g+m*m,b=i-o,w=h*_-p*d,M=(m<0?-1:1)*hl(sl(0,b*b*x-w*w)),T=(w*m-g*M)/x,k=(-w*g-m*M)/x,C=(w*m+g*M)/x,N=(-w*g+m*M)/x,A=T-y,S=k-v,E=C-y,z=N-v;return A*A+S*S>E*E+z*z&&(T=C,k=N),{cx:T,cy:k,x01:-f,y01:-l,x11:T*(i/b-1),y11:k*(i/b-1)}}function Xi(t){this._context=t}function ji(t){return new Xi(t)}function Vi(t){return t[0]}function $i(t){return t[1]}function Wi(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=ze())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=Vi,e=$i,r=Ri(!0),i=null,o=ji,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Ri(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:Ri(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t}function Zi(){function t(t){var n,f,l,h,d,p=t.length,_=!1,y=new Array(p),v=new Array(p);for(null==a&&(s=c(d=ze())),n=0;n<=p;++n){if(!(n<p&&u(h=t[n],n,t))===_)if(_=!_)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(y[l],v[l]);s.lineEnd(),s.areaEnd()}_&&(y[n]=+e(h,n,t),v[n]=+i(h,n,t),s.point(r?+r(h,n,t):y[n],o?+o(h,n,t):v[n]))}if(d)return s=null,d+""||null}function n(){return Wi().defined(u).curve(c).context(a)}var e=Vi,r=null,i=Ri(0),o=$i,u=Ri(!0),a=null,c=ji,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:Ri(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:Ri(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:Ri(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t}function Qi(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Ji(t){return t}function Gi(t){this._curve=t}function Ki(t){function n(n){return new Gi(t(n))}return n._curve=t,n}function to(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Ki(t)):n()._curve},t}function no(){return to(Wi().curve(vl))}function eo(){var t=Zi().curve(vl),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return to(e())},delete t.lineX0,t.lineEndAngle=function(){return to(r())},delete t.lineX1,t.lineInnerRadius=function(){return to(i())},delete t.lineY0,t.lineOuterRadius=function(){return to(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Ki(t)):n()._curve},t}function ro(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function io(t){return t.source}function oo(t){return t.target}function uo(t){function n(){var n,a=gl.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=ze()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=io,r=oo,i=Vi,o=$i,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:Ri(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:Ri(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function ao(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function co(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function so(t,n,e,r,i){var o=ro(n,e),u=ro(n,e=(e+i)/2),a=ro(r,e),c=ro(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function fo(){}function lo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ho(t){this._context=t}function po(t){this._context=t}function _o(t){this._context=t}function yo(t,n){this._basis=new ho(t),this._beta=n}function vo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function go(t,n){this._context=t,this._k=(1-n)/6}function mo(t,n){this._context=t,this._k=(1-n)/6}function xo(t,n){this._context=t,this._k=(1-n)/6}function bo(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>dl){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>dl){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function wo(t,n){this._context=t,this._alpha=n}function Mo(t,n){this._context=t,this._alpha=n}function To(t,n){this._context=t,this._alpha=n}function ko(t){this._context=t}function Co(t){return t<0?-1:1}function No(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Co(o)+Co(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Ao(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function So(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Eo(t){this._context=t}function zo(t){this._context=new Po(t)}function Po(t){this._context=t}function Uo(t){this._context=t}function Lo(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Do(t,n){this._context=t,this._t=n}function Ro(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function qo(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Oo(t,n){return t[n]}function Fo(t){var n=t.map(Io);return qo(t).sort(function(t,e){return n[t]-n[e]})}function Io(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function Yo(){return Ql||(Kl(Bo),Ql=Gl.now()+Jl)}function Bo(){Ql=0}function Ho(){this._call=this._time=this._next=null}function Xo(t,n,e){var r=new Ho;return r.restart(t,n,e),r}function jo(){Yo(),++jl;for(var t,n=Hl;n;)(t=Ql-n._time)>=0&&n._call.call(null,t),n=n._next;--jl}function Vo(){Ql=(Zl=Gl.now())+Jl,jl=Vl=0;try{jo()}finally{jl=0,function(){var t,n,e=Hl,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hl=n);Xl=t,Wo(r)}(),Ql=0}}function $o(){var t=Gl.now(),n=t-Zl;n>Wl&&(Jl-=n,Zl=t)}function Wo(t){if(!jl){Vl&&(Vl=clearTimeout(Vl));t-Ql>24?(t<1/0&&(Vl=setTimeout(Vo,t-Gl.now()-Jl)),$l&&($l=clearInterval($l))):($l||(Zl=Gl.now(),$l=setInterval($o,Wl)),jl=1,Kl(Vo))}}function Zo(t,n,e){var r=new Ho;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function Qo(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};(function(t,n,e){function r(c){var s,f,l,h;if(e.state!==rh)return o();for(s in a)if((h=a[s]).name===e.name){if(h.state===oh)return Zo(r);h.state===uh?(h.state=ch,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=ch,h.timer.stop(),delete a[s])}if(Zo(function(){e.state===oh&&(e.state=uh,e.timer.restart(i,e.delay,e.time),i(c))}),e.state=ih,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ih){for(e.state=oh,u=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=h);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=ah,1),i=-1,a=u.length;++i<a;)u[i].call(null,r);e.state===ah&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=ch,e.timer.stop(),delete a[n];for(var r in a)return;delete t.__transition}var u,a=t.__transition;a[n]=e,e.timer=Xo(function(t){e.state=rh,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)},0,e.time)})(t,e,{name:n,index:r,group:i,on:th,tween:nh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:eh})}function Jo(t,n){var e=Ko(t,n);if(e.state>eh)throw new Error("too late; already scheduled");return e}function Go(t,n){var e=Ko(t,n);if(e.state>ih)throw new Error("too late; already started");return e}function Ko(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function tu(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>ih&&e.state<ah,e.state=ch,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function nu(t,n,e){var r=t._id;return t.each(function(){var t=Go(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ko(t,r).value[n]}}function eu(t,n){var e;return("number"==typeof n?ge:n instanceof D?Hc:(e=D(n))?(n=e,Hc):xe)(t,n)}function ru(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function iu(t){return Ot().transition(t)}function ou(){return++fh}function uu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return hh.time=Yo(),hh;return e}function au(t){return function(){return t}}function cu(t){return t[0]}function su(t){return t[1]}function fu(){this._=null}function lu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function hu(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function du(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function pu(t){for(;t.L;)t=t.L;return t}function _u(t,n,e,r){var i=[null,null],o=gh.push(i)-1;return i.left=t,i.right=n,e&&vu(i,t,n,e),r&&vu(i,n,t,r),yh[t.index].halfedges.push(o),yh[n.index].halfedges.push(o),i}function yu(t,n,e){var r=[n,e];return r.left=t,r}function vu(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function gu(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=0,l=1,h=a[0]-c,d=a[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-s,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>f&&(f=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,s+f*d]),l<1&&(t[1]=[c+l*h,s+l*d]),!0)}}}}}function mu(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],d=f[0],p=f[1],_=(l+d)/2,y=(h+p)/2;if(p===h){if(_<n||_>=r)return;if(l>d){if(c){if(c[1]>=i)return}else c=[_,e];o=[_,i]}else{if(c){if(c[1]<e)return}else c=[_,i];o=[_,e]}}else if(u=(l-d)/(p-h),a=y-u*_,u<-1||u>1)if(l>d){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function xu(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function bu(t,n){return n[+(n.left!==t.site)]}function wu(t,n){return n[+(n.left===t.site)]}function Mu(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-wh)){var d=c*c+s*s,p=f*f+l*l,_=(l*d-s*p)/h,y=(c*p-f*d)/h,v=mh.pop()||new function(){lu(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=_+u,v.y=(v.cy=y+a)+Math.sqrt(_*_+y*y),t.circle=v;for(var g=null,m=vh._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){g=m.P;break}m=m.L}else{if(!m.R){g=m;break}m=m.R}vh.insert(g,v),g||(ph=v)}}}}function Tu(t){var n=t.circle;n&&(n.P||(ph=n.N),vh.remove(n),mh.push(n),lu(n),t.circle=null)}function ku(t){var n=xh.pop()||new function(){lu(this),this.edge=this.site=this.circle=null};return n.site=t,n}function Cu(t){Tu(t),_h.remove(t),xh.push(t),lu(t)}function Nu(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];Cu(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<bh&&Math.abs(r-c.circle.cy)<bh;)o=c.P,a.unshift(c),Cu(c),c=o;a.unshift(c),Tu(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<bh&&Math.abs(r-s.circle.cy)<bh;)u=s.N,a.push(s),Cu(s),s=u;a.push(s),Tu(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],vu(s.edge,c.site,s.site,i);c=a[0],(s=a[l-1]).edge=_u(c.site,s.site,null,i),Mu(c),Mu(s)}function Au(t){for(var n,e,r,i,o=t[0],u=t[1],a=_h._;a;)if((r=Su(a,u)-o)>bh)a=a.L;else{if(!((i=o-function(t,n){var e=t.N;if(e)return Su(e,n);var r=t.site;return r[1]===n?r[0]:1/0}(a,u))>bh)){r>-bh?(n=a.P,e=a):i>-bh?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}(function(t){yh[t.index]={site:t,halfedges:[]}})(t);var c=ku(t);if(_h.insert(n,c),n||e){if(n===e)return Tu(n),e=ku(n.site),_h.insert(c,e),c.edge=e.edge=_u(n.site,c.site),Mu(n),void Mu(e);if(e){Tu(n),Tu(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,d=t[1]-l,p=e.site,_=p[0]-f,y=p[1]-l,v=2*(h*y-d*_),g=h*h+d*d,m=_*_+y*y,x=[(y*g-d*m)/v+f,(h*m-_*g)/v+l];vu(e.edge,s,p,x),c.edge=_u(s,t,null,x),e.edge=_u(t,p,null,x),Mu(n),Mu(e)}else c.edge=_u(n.site,c.site)}}function Su(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function Eu(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function zu(t,n){return n[1]-t[1]||n[0]-t[0]}function Pu(t,n){var e,r,i,o=t.sort(zu).pop();for(gh=[],yh=new Array(t.length),_h=new fu,vh=new fu;;)if(i=ph,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Au(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Nu(i.arc)}if(function(){for(var t,n,e,r,i=0,o=yh.length;i<o;++i)if((t=yh[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=xu(t,gh[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];(function(t,n,e,r){for(var i,o=gh.length;o--;)mu(i=gh[o],t,n,e,r)&&gu(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>bh||Math.abs(i[0][1]-i[1][1])>bh)||delete gh[o]})(u,a,c,s),function(t,n,e,r){var i,o,u,a,c,s,f,l,h,d,p,_,y=yh.length,v=!0;for(i=0;i<y;++i)if(o=yh[i]){for(u=o.site,a=(c=o.halfedges).length;a--;)gh[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)p=(d=wu(o,gh[c[a]]))[0],_=d[1],l=(f=bu(o,gh[c[++a%s]]))[0],h=f[1],(Math.abs(p-l)>bh||Math.abs(_-h)>bh)&&(c.splice(a,0,gh.push(yu(u,d,Math.abs(p-t)<bh&&r-_>bh?[t,Math.abs(l-t)<bh?h:r]:Math.abs(_-r)<bh&&e-p>bh?[Math.abs(h-r)<bh?l:e,r]:Math.abs(p-e)<bh&&_-n>bh?[e,Math.abs(l-e)<bh?h:n]:Math.abs(_-n)<bh&&p-t>bh?[Math.abs(h-n)<bh?l:t,n]:null))-1),++s);s&&(v=!1)}if(v){var g,m,x,b=1/0;for(i=0,v=null;i<y;++i)(o=yh[i])&&(x=(g=(u=o.site)[0]-t)*g+(m=u[1]-n)*m)<b&&(b=x,v=o);if(v){var w=[t,n],M=[t,r],T=[e,r],k=[e,n];v.halfedges.push(gh.push(yu(u=v.site,w,M))-1,gh.push(yu(u,M,T))-1,gh.push(yu(u,T,k))-1,gh.push(yu(u,k,w))-1)}}for(i=0;i<y;++i)(o=yh[i])&&(o.halfedges.length||delete yh[i])}(u,a,c,s)}this.edges=gh,this.cells=yh,_h=vh=gh=yh=null}function Uu(t){return function(){return t}}function Lu(t,n,e){this.k=t,this.x=n,this.y=e}function Du(t){return t.__zoom||Mh}function Ru(){t.event.stopImmediatePropagation()}function qu(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Ou(){return!t.event.button}function Fu(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Iu(){return this.__zoom||Mh}function Yu(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function Bu(){return"ontouchstart"in this}function Hu(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var Xu=e(n),ju=Xu.right,Vu=Xu.left,$u=Array.prototype,Wu=$u.slice,Zu=$u.map,Qu=Math.sqrt(50),Ju=Math.sqrt(10),Gu=Math.sqrt(2),Ku=Array.prototype.slice,ta=1,na=2,ea=3,ra=4,ia=1e-6;T.prototype=k.prototype={constructor:T,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var oa=k.prototype;E.prototype=z.prototype={constructor:E,has:oa.has,add:function(t){return t+="",this["$"+t]=t,this},remove:oa.remove,clear:oa.clear,values:oa.keys,size:oa.size,empty:oa.empty,each:oa.each};var ua="\\s*([+-]?\\d+)\\s*",aa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sa=/^#([0-9a-f]{3})$/,fa=/^#([0-9a-f]{6})$/,la=new RegExp("^rgb\\("+[ua,ua,ua]+"\\)$"),ha=new RegExp("^rgb\\("+[ca,ca,ca]+"\\)$"),da=new RegExp("^rgba\\("+[ua,ua,ua,aa]+"\\)$"),pa=new RegExp("^rgba\\("+[ca,ca,ca,aa]+"\\)$"),_a=new RegExp("^hsl\\("+[aa,ca,ca]+"\\)$"),ya=new RegExp("^hsla\\("+[aa,ca,ca,aa]+"\\)$"),va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P(L,D,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),P(I,F,U(L,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),P(H,B,U(L,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new H(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new H(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new I(X(t>=240?t-240:t+120,i,r),X(t,i,r),X(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var ga=Math.PI/180,ma=180/Math.PI,xa=.95047,ba=1,wa=1.08883,Ma=4/29,Ta=6/29,ka=3*Ta*Ta,Ca=Ta*Ta*Ta;P($,V,U(L,{brighter:function(t){return new $(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new $(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=ba*Z(t),n=xa*Z(n),e=wa*Z(e),new I(Q(3.2404542*n-1.5371385*t-.4985314*e),Q(-.969266*n+1.8760108*t+.041556*e),Q(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),P(K,G,U(L,{brighter:function(t){return new K(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new K(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return j(this).rgb()}}));var Na=-.29227,Aa=-.90649,Sa=1.97294,Ea=Sa*Aa,za=1.78277*Sa,Pa=1.78277*Na- -.14861*Aa;P(nt,tt,U(L,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ga,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new I(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(Na*r+Aa*i)),255*(n+e*(Sa*r)),this.opacity)}}));var Ua={value:function(){}};rt.prototype=et.prototype={constructor:rt,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=it(r[e],t.name,n);else if(null==n)for(e in r)r[e]=it(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=function(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new rt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var La="http://www.w3.org/1999/xhtml",Da={svg:"http://www.w3.org/2000/svg",xhtml:La,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ra=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var qa=document.documentElement;if(!qa.matches){var Oa=qa.webkitMatchesSelector||qa.msMatchesSelector||qa.mozMatchesSelector||qa.oMatchesSelector;Ra=function(t){return function(){return Oa.call(this,t)}}}}var Fa=Ra;ht.prototype={constructor:ht,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ia="$";xt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ya={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(Ya={mouseenter:"mouseover",mouseleave:"mouseout"})}var Ba=[null];qt.prototype=Ot.prototype={constructor:qt,select:function(t){"function"!=typeof t&&(t=ct(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new qt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=ft(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new qt(r,i)},filter:function(t){"function"!=typeof t&&(t=Fa(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new qt(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var e=n?pt:dt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,d=t.call(f,f&&f.__data__,s,r),p=d.length,_=a[s]=new Array(p),y=u[s]=new Array(p);e(f,l,_,y,c[s]=new Array(h),d,n);for(var v,g,m=0,x=0;m<p;++m)if(v=_[m]){for(m>=x&&(x=m+1);!(g=y[x])&&++x<p;);v._next=g||null}}return u=new qt(u,r),u._enter=a,u._exit=c,u},enter:function(){return new qt(this._enter||this._groups.map(lt),this._parents)},exit:function(){return new qt(this._exit||this._groups.map(lt),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new qt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=_t);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new qt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=ot(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):vt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=gt(t+"");if(arguments.length<2){for(var r=mt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?bt:wt)(this,t)}}:n?function(t){return function(){bt(this,t)}}:function(t){return function(){wt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Mt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Tt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(kt)},lower:function(){return this.each(Ct)},append:function(t){var n="function"==typeof t?t:ut(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:ut(t),r=null==n?Nt:"function"==typeof n?n:ct(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(At)},clone:function(t){return this.select(t?Et:St)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Lt:Ut,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Rt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Rt(this,t,n)}})(t,n))}};var Ha=0;Yt.prototype=It.prototype={constructor:Yt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Jt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Xa,ja={},Va={},$a=34,Wa=10,Za=13,Qa=rn(","),Ja=Qa.parse,Ga=Qa.parseRows,Ka=Qa.format,tc=Qa.formatRows,nc=rn("\t"),ec=nc.parse,rc=nc.parseRows,ic=nc.format,oc=nc.formatRows,uc=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),ac=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),cc=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),sc=Math.PI,fc=sc/2,lc=4/11,hc=6/11,dc=8/11,pc=.75,_c=9/11,yc=10/11,vc=.9375,gc=21/22,mc=63/64,xc=1/lc/lc,bc=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),wc=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Mc=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),Tc=2*Math.PI,kc=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Tc);return r.amplitude=function(n){return t(n,e*Tc)},r.period=function(e){return t(n,e)},r}(1,.3),Cc=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Tc);return r.amplitude=function(n){return t(n,e*Tc)},r.period=function(e){return t(n,e)},r}(1,.3),Nc=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Tc);return r.amplitude=function(n){return t(n,e*Tc)},r.period=function(e){return t(n,e)},r}(1,.3),Ac={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return dn(100*t,n)},r:dn,s:function(t,n){var e=ln(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Xa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ln(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Sc=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;pn.prototype=_n.prototype,_n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Ec,zc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];gn({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),En.prototype=Cn.prototype={constructor:En,count:function(){return this.eachAfter(kn)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return Cn(this).eachBefore(An)}};var Pc=Array.prototype.slice,Uc="$",Lc={depth:-1},Dc={};ie.prototype=Object.create(En.prototype);var Rc,qc,Oc,Fc,Ic=(1+Math.sqrt(5))/2,Yc=function t(n){function e(t,e,r,i,o){ue(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ic),Bc=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,d=t.value;++l<h;){for(c=(a=u[l]).children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?Qn(a,e,r,i,r+=(o-r)*a.value/d):oe(a,e,r,e+=(i-e)*a.value/d,o),d-=a.value}else t._squarify=u=ue(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ic),Hc=function t(n){function e(t,n){var e=r((t=F(t)).r,(n=F(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=pe(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=de(n);return e.gamma=t,e}(1),Xc=_e(ce),jc=_e(se),Vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$c=new RegExp(Vc.source,"g"),Wc=180/Math.PI,Zc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Qc=Te(function(t){return"none"===t?Zc:(Rc||(Rc=document.createElement("DIV"),qc=document.documentElement,Oc=document.defaultView),Rc.style.transform=t,t=Oc.getComputedStyle(qc.appendChild(Rc),null).getPropertyValue("transform"),qc.removeChild(Rc),t=t.slice(7,-1).split(","),Me(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Jc=Te(function(t){return null==t?Zc:(Fc||(Fc=document.createElementNS("http://www.w3.org/2000/svg","g")),Fc.setAttribute("transform",t),(t=Fc.transform.baseVal.consolidate())?(t=t.matrix,Me(t.a,t.b,t.c,t.d,t.e,t.f)):Zc)},", ",")",")"),Gc=Math.SQRT2,Kc=2,ts=4,ns=1e-12,es=Ne(he),rs=Ne(pe),is=Ae(he),os=Ae(pe),us=Se(he),as=Se(pe),cs=Math.PI,ss=2*cs,fs=ss-1e-6;Ee.prototype=ze.prototype={constructor:Ee,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,d=r-u,p=a*a+c*c,_=h*h+d*d,y=Math.sqrt(p),v=Math.sqrt(l),g=i*Math.tan((cs-Math.acos((p+l-_)/(2*y*v)))/2),m=g/v,x=g/y;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*d)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%ss+ss),l>fs?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=cs)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ls=[].slice,hs={};De.prototype=Fe.prototype={constructor:De,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=ls.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),Re(this),this},abort:function(){return null==this._error&&qe(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},Oe(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Oe(this),this}};var ds=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Ie),ps=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Ie),_s=function t(n){function e(){var t=ps.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Ie),ys=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(Ie),vs=function t(n){function e(t){var e=ys.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Ie),gs=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Ie),ms=Be("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),xs=Be("application/json",function(t){return JSON.parse(t.responseText)}),bs=Be("text/plain",function(t){return t.responseText}),ws=Be("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),Ms=He("text/csv",Ja),Ts=He("text/tab-separated-values",ec),ks=Array.prototype,Cs=ks.map,Ns=ks.slice,As={name:"implicit"},Ss=[0,1],Es=new Date,zs=new Date,Ps=yr(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Ps.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?yr(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Ps:null};var Us=Ps.range,Ls=6e4,Ds=6048e5,Rs=yr(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),qs=Rs.range,Os=yr(function(t){t.setTime(Math.floor(t/Ls)*Ls)},function(t,n){t.setTime(+t+n*Ls)},function(t,n){return(n-t)/Ls},function(t){return t.getMinutes()}),Fs=Os.range,Is=yr(function(t){var n=t.getTimezoneOffset()*Ls%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Ys=Is.range,Bs=yr(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/864e5},function(t){return t.getDate()-1}),Hs=Bs.range,Xs=vr(0),js=vr(1),Vs=vr(2),$s=vr(3),Ws=vr(4),Zs=vr(5),Qs=vr(6),Js=Xs.range,Gs=js.range,Ks=Vs.range,tf=$s.range,nf=Ws.range,ef=Zs.range,rf=Qs.range,of=yr(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),uf=of.range,af=yr(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});af.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yr(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var cf=af.range,sf=yr(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Ls)},function(t,n){return(n-t)/Ls},function(t){return t.getUTCMinutes()}),ff=sf.range,lf=yr(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),hf=lf.range,df=yr(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),pf=df.range,_f=gr(0),yf=gr(1),vf=gr(2),gf=gr(3),mf=gr(4),xf=gr(5),bf=gr(6),wf=_f.range,Mf=yf.range,Tf=vf.range,kf=gf.range,Cf=mf.range,Nf=xf.range,Af=bf.range,Sf=yr(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ef=Sf.range,zf=yr(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yr(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Pf,Uf=zf.range,Lf={"-":"",_:" ",0:"0"},Df=/^\s*\d+/,Rf=/^%/,qf=/[\\^$*+?|[\]().{}]/g;Si({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Of="%Y-%m-%dT%H:%M:%S.%LZ",Ff=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(Of),If=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse(Of),Yf=1e3,Bf=60*Yf,Hf=60*Bf,Xf=24*Hf,jf=7*Xf,Vf=30*Xf,$f=365*Xf,Wf=Ui("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zf=Ui("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Qf=Ui("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Jf=Ui("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Gf=as(tt(300,.5,0),tt(-240,.5,1)),Kf=as(tt(-100,.75,.35),tt(80,1.5,.8)),tl=as(tt(260,.75,.35),tt(80,1.5,.8)),nl=tt(),el=Li(Ui("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),rl=Li(Ui("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),il=Li(Ui("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ol=Li(Ui("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),ul=Math.abs,al=Math.atan2,cl=Math.cos,sl=Math.max,fl=Math.min,ll=Math.sin,hl=Math.sqrt,dl=1e-12,pl=Math.PI,_l=pl/2,yl=2*pl;Xi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var vl=Ki(ji);Gi.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var gl=Array.prototype.slice,ml={draw:function(t,n){var e=Math.sqrt(n/pl);t.moveTo(e,0),t.arc(0,0,e,0,yl)}},xl={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},bl=Math.sqrt(1/3),wl=2*bl,Ml={draw:function(t,n){var e=Math.sqrt(n/wl),r=e*bl;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Tl=Math.sin(pl/10)/Math.sin(7*pl/10),kl=Math.sin(yl/10)*Tl,Cl=-Math.cos(yl/10)*Tl,Nl={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=kl*e,i=Cl*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=yl*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},Al={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},Sl=Math.sqrt(3),El={draw:function(t,n){var e=-Math.sqrt(n/(3*Sl));t.moveTo(0,2*e),t.lineTo(-Sl*e,-e),t.lineTo(Sl*e,-e),t.closePath()}},zl=Math.sqrt(3)/2,Pl=1/Math.sqrt(12),Ul=3*(Pl/2+1),Ll={draw:function(t,n){var e=Math.sqrt(n/Ul),r=e/2,i=e*Pl,o=r,u=e*Pl+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-zl*i,zl*r+-.5*i),t.lineTo(-.5*o-zl*u,zl*o+-.5*u),t.lineTo(-.5*a-zl*c,zl*a+-.5*c),t.lineTo(-.5*r+zl*i,-.5*i-zl*r),t.lineTo(-.5*o+zl*u,-.5*u-zl*o),t.lineTo(-.5*a+zl*c,-.5*c-zl*a),t.closePath()}},Dl=[ml,xl,Ml,Al,Nl,El,Ll];ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},po.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:lo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:lo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},yo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Rl=function t(n){function e(t){return 1===n?new ho(t):new yo(t,n)}return e.beta=function(n){return t(+n)},e}(.85);go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:vo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ql=function t(n){function e(t){return new go(t,n)}return e.tension=function(n){return t(+n)},e}(0);mo.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:vo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ol=function t(n){function e(t){return new mo(t,n)}return e.tension=function(n){return t(+n)},e}(0);xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Fl=function t(n){function e(t){return new xo(t,n)}return e.tension=function(n){return t(+n)},e}(0);wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:bo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Il=function t(n){function e(t){return n?new wo(t,n):new go(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Mo.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:bo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Yl=function t(n){function e(t){return n?new Mo(t,n):new mo(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Bl=function t(n){function e(t){return n?new To(t,n):new xo(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);ko.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:So(this,this._t0,Ao(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,So(this,Ao(this,e=No(this,t,n)),e);break;default:So(this,this._t0,e=No(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(zo.prototype=Object.create(Eo.prototype)).point=function(t,n){Eo.prototype.point.call(this,n,t)},Po.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Uo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Lo(t),i=Lo(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Do.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Hl,Xl,jl=0,Vl=0,$l=0,Wl=1e3,Zl=0,Ql=0,Jl=0,Gl="object"==typeof performance&&performance.now?performance:Date,Kl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};Ho.prototype=Xo.prototype={constructor:Ho,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Yo():+e)+(null==n?0:+n),this._next||Xl===this||(Xl?Xl._next=this:Hl=this,Xl=this),this._call=t,this._time=e,Wo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wo())}};var th=et("start","end","interrupt"),nh=[],eh=0,rh=1,ih=2,oh=3,uh=4,ah=5,ch=6,sh=Ot.prototype.constructor,fh=0,lh=Ot.prototype;ru.prototype=iu.prototype={constructor:ru,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ct(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,Qo(l[h],n,e,h,l,Ko(a,e)));return new ru(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ft(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,d=t.call(c,c.__data__,l,s),p=Ko(c,e),_=0,y=d.length;_<y;++_)(h=d[_])&&Qo(h,n,e,_,d,p);o.push(d),u.push(c)}return new ru(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=Fa(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new ru(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new ru(u,this._parents,this._name,this._id)},selection:function(){return new sh(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ou(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=Ko(u,n);Qo(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ru(r,this._parents,t,e)},call:lh.call,nodes:lh.nodes,node:lh.node,size:lh.size,empty:lh.empty,each:lh.each,on:function(t,n){var e=this._id;return arguments.length<2?Ko(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Jo:Go;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=ot(t),r="transform"===e?Jc:eu;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttribute(t)}})(e,r,nu(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=ot(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Qc:eu;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=vt(this,t),u=(this.style.removeProperty(t),vt(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var u=vt(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=vt(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}(t,r,nu(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=vt(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(nu(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ko(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Go(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Go(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Jo(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Jo(this,t).delay=n}})(n,t)):Ko(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Go(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Go(this,t).duration=n}})(n,t)):Ko(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Go(this,t).ease=n}}(n,t)):Ko(this.node(),n).ease}};var hh={time:null,delay:0,duration:250,ease:un};Ot.prototype.interrupt=function(t){return this.each(function(){tu(this,t)})},Ot.prototype.transition=function(t){var n,e;t instanceof ru?(n=t._id,t=t._name):(n=ou(),(e=hh).time=Yo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&Qo(u,t,n,s,a,e||uu(u,n));return new ru(r,this._parents,t,n)};var dh=[null];fu.prototype={constructor:fu,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=pu(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(hu(this,e),e=(t=e).U),e.C=!1,r.C=!0,du(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(du(this,e),e=(t=e).U),e.C=!1,r.C=!0,hu(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?pu(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,hu(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,du(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,hu(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,du(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,hu(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,du(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ph,_h,yh,vh,gh,mh=[],xh=[],bh=1e-6,wh=1e-12;Pu.prototype={constructor:Pu,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return bu(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,f=(s=n[i[c]]).left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&Eu(a,u,f)<0&&t.push([a.data,u.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}},Lu.prototype={constructor:Lu,scale:function(t){return 1===t?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mh=new Lu(1,0,0);Du.prototype=Lu.prototype,t.version="4.13.0",t.bisect=ju,t.bisectRight=ju,t.bisectLeft=Vu,t.ascending=n,t.bisector=e,t.cross=function(t,n,e){var i,o,u,a,c=t.length,s=n.length,f=new Array(c*s);for(null==e&&(e=r),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=e(a,n[o]);return f},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=u,t.extent=a,t.histogram=function(){function t(t){var i,o,u=t.length,a=new Array(u);for(i=0;i<u;++i)a[i]=n(t[i],i,t);var c=e(a),s=c[0],l=c[1],h=r(a,s,l);Array.isArray(h)||(h=d(s,l,h),h=f(Math.ceil(s/h)*h,Math.floor(l/h)*h,h));for(var p=h.length;h[0]<=s;)h.shift(),--p;for(;h[p-1]>l;)h.pop(),--p;var _,y=new Array(p+1);for(i=0;i<=p;++i)(_=y[i]=[]).x0=i>0?h[i-1]:s,_.x1=i<p?h[i]:l;for(i=0;i<u;++i)s<=(o=a[i])&&o<=l&&y[ju(h,o,0,p)].push(t[i]);return y}var n=s,e=a,r=p;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:c(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:c([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:Array.isArray(n)?c(Wu.call(n)):c(n),t):r},t},t.thresholdFreedmanDiaconis=function(t,e,r){return t=Zu.call(t,i).sort(n),Math.ceil((r-e)/(2*(_(t,.75)-_(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*u(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=p,t.max=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},t.mean=function(t,n){var e,r=t.length,o=r,u=-1,a=0;if(null==n)for(;++u<r;)isNaN(e=i(t[u]))?--o:a+=e;else for(;++u<r;)isNaN(e=i(n(t[u],u,t)))?--o:a+=e;if(o)return a/o},t.median=function(t,e){var r,o=t.length,u=-1,a=[];if(null==e)for(;++u<o;)isNaN(r=i(t[u]))||a.push(r);else for(;++u<o;)isNaN(r=i(e(t[u],u,t)))||a.push(r);return _(a.sort(n),.5)},t.merge=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e},t.min=y,t.pairs=function(t,n){null==n&&(n=r);for(var e=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);e<i;)u[e]=n(o,o=t[++e]);return u},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=_,t.range=f,t.scan=function(t,e){if(r=t.length){var r,i,o=0,u=0,a=t[u];for(null==e&&(e=n);++o<r;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,u=o);return 0===e(a,a)?u:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=l,t.tickIncrement=h,t.tickStep=d,t.transpose=v,t.variance=o,t.zip=function(){return v(arguments)},t.axisTop=function(t){return M(ta,t)},t.axisRight=function(t){return M(na,t)},t.axisBottom=function(t){return M(ea,t)},t.axisLeft=function(t){return M(ra,t)},t.nest=function(){function t(n,i,u,a){if(i>=o.length)return null!=e&&n.sort(e),null!=r?r(n):n;for(var c,s,f,l=-1,h=n.length,d=o[i++],p=k(),_=u();++l<h;)(f=p.get(c=d(s=n[l])+""))?f.push(s):p.set(c,[s]);return p.each(function(n,e){a(_,e,t(n,i,u,a))}),_}function n(t,e){if(++e>o.length)return t;var i,a=u[e-1];return null!=r&&e>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:n(t,e)})})),null!=a?i.sort(function(t,n){return a(t.key,n.key)}):i}var e,r,i,o=[],u=[];return i={object:function(n){return t(n,0,C,N)},map:function(n){return t(n,0,A,S)},entries:function(e){return n(t(e,0,A,S),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return u[o.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return r=t,i}}},t.set=z,t.map=k,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=D,t.rgb=F,t.hsl=B,t.lab=V,t.hcl=G,t.cubehelix=tt,t.dispatch=et,t.drag=function(){function n(t){t.on("mousedown.drag",e).filter(y).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&d.apply(this,arguments)){var n=c("mouse",p.apply(this,arguments),Xt,this,arguments);n&&(Ft(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),Wt(t.event.view),Vt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if($t(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}v.mouse("drag")}function i(){Ft(t.event.view).on("mousemove.drag mouseup.drag",null),Zt(t.event.view,l),$t(),v.mouse("end")}function o(){if(d.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=p.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,jt,this,arguments))&&(Vt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=v[r[n].identifier])&&($t(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=v[r[n].identifier])&&(Vt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=g.copy();if(Dt(new Jt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=_.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var d,p=f;switch(h){case"start":v[e]=t,d=m++;break;case"end":delete v[e],--m;case"drag":f=i(r,e),d=m}Dt(new Jt(n,h,a,e,d,f[0]+c,f[1]+s,f[0]-p[0],f[1]-p[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,d=Gt,p=Kt,_=tn,y=nn,v={},g=et("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(d="function"==typeof t?t:Qt(!!t),n):d},n.container=function(t){return arguments.length?(p="function"==typeof t?t:Qt(t),n):p},n.subject=function(t){return arguments.length?(_="function"==typeof t?t:Qt(t),n):_},n.touchable=function(t){return arguments.length?(y="function"==typeof t?t:Qt(!!t),n):y},n.on=function(){var t=g.on.apply(g,arguments);return t===g?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},t.dragDisable=Wt,t.dragEnable=Zt,t.dsvFormat=rn,t.csvParse=Ja,t.csvParseRows=Ga,t.csvFormat=Ka,t.csvFormatRows=tc,t.tsvParse=ec,t.tsvParseRows=rc,t.tsvFormat=ic,t.tsvFormatRows=oc,t.easeLinear=function(t){return+t},t.easeQuad=on,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=on,t.easeCubic=un,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=un,t.easePoly=cc,t.easePolyIn=uc,t.easePolyOut=ac,t.easePolyInOut=cc,t.easeSin=an,t.easeSinIn=function(t){return 1-Math.cos(t*fc)},t.easeSinOut=function(t){return Math.sin(t*fc)},t.easeSinInOut=an,t.easeExp=cn,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=cn,t.easeCircle=sn,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=sn,t.easeBounce=fn,t.easeBounceIn=function(t){return 1-fn(1-t)},t.easeBounceOut=fn,t.easeBounceInOut=function(t){return((t*=2)<=1?1-fn(1-t):fn(t-1)+1)/2},t.easeBack=Mc,t.easeBackIn=bc,t.easeBackOut=wc,t.easeBackInOut=Mc,t.easeElastic=Cc,t.easeElasticIn=kc,t.easeElasticOut=Cc,t.easeElasticInOut=Nc,t.formatDefaultLocale=gn,t.formatLocale=vn,t.formatSpecifier=pn,t.precisionFixed=mn,t.precisionPrefix=xn,t.precisionRound=bn,t.cluster=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(Mn,0)/t.length}(e),t.y=function(t){return 1+t.reduce(Tn,0)}(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(t),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=wn,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},t.hierarchy=Cn,t.pack=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(Vn(n)).eachAfter($n(i,.5)).eachBefore(Wn(1)):t.eachBefore(Vn(jn)).eachAfter($n(Hn,1)).eachAfter($n(i,t.r/Math.min(e,r))).eachBefore(Wn(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Hn;return t.radius=function(e){return arguments.length?(n=function(t){return null==t?null:Bn(t)}(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Xn(+n),t):i},t},t.packSiblings=function(t){return Yn(t),t},t.packEnclose=zn,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=e/o,t.eachBefore(function(t,n){return function(e){e.children&&Qn(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var i=e.x0,o=e.y0,u=e.x1-r,a=e.y1-r;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),e.x0=i,e.y0=o,e.x1=u,e.y1=a}}(e,o)),i&&t.eachBefore(Zn),t}var n=1,e=1,r=0,i=!1;return t.round=function(n){return arguments.length?(i=!!n,t):i},t.size=function(r){return arguments.length?(n=+r[0],e=+r[1],t):[n,e]},t.padding=function(n){return arguments.length?(r=+n,t):r},t},t.stratify=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new En(r),null!=(c=n(r,i,t))&&(c+="")&&(h[s=Uc+(a.id=c)]=s in h?Dc:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Uc+c]))throw new Error("missing: "+c);if(u===Dc)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Lc,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(Sn),o.parent=null,f>0)throw new Error("cycle");return o}var n=Jn,e=Gn;return t.id=function(e){return arguments.length?(n=Bn(e),t):n},t.parentId=function(n){return arguments.length?(e=Bn(n),t):e},t},t.tree=function(){function t(t){var c=function(t){for(var n,e,r,i,o,u=new ie(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new ie(r[i],i)),e.parent=n;return(u.parent=new ie(null,0)).children=[u],u}(t);if(c.eachAfter(n),c.parent.m=-c.z,c.eachBefore(e),a)t.eachBefore(r);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:i(s,f)/2,d=h-s.x,p=o/(f.x+h+d),_=u/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*_})}return t}function n(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){(function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)})(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,o=t,u=t,a=n,c=o.parent.children[0],s=o.m,f=u.m,l=a.m,h=c.m;a=ne(a),o=te(o),a&&o;)c=te(c),(u=ne(u)).a=t,(r=a.z+l-o.z-s+i(a._,o._))>0&&(ee(re(a,t,e),t,r),s+=r,f+=r),l+=a.m,s+=o.m,h+=c.m,f+=u.m;a&&!ne(u)&&(u.t=a,u.m+=l-f),o&&!te(c)&&(c.t=o,c.m+=s-h,e=t)}return e}(t,r,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*u}var i=Kn,o=1,u=1,a=null;return t.separation=function(n){return arguments.length?(i=n,t):i},t.size=function(n){return arguments.length?(a=!1,o=+n[0],u=+n[1],t):a?null:[o,u]},t.nodeSize=function(n){return arguments.length?(a=!0,o=+n[0],u=+n[1],t):a?[o,u]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Zn),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=Yc,r=!1,i=1,o=1,u=[0],a=Hn,c=Hn,s=Hn,f=Hn,l=Hn;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=Bn(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Xn(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Xn(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Xn(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Xn(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Xn(+n),t):l},t},t.treemapBinary=function(t,n,e,r,i){function o(t,n,e,r,i,u,a){if(t>=n-1){var s=c[t];return s.x0=r,s.y0=i,s.x1=u,void(s.y1=a)}for(var l=f[t],h=e/2+l,d=t+1,p=n-1;d<p;){var _=d+p>>>1;f[_]<h?d=_+1:p=_}h-f[d-1]<f[d]-h&&t+1<d&&--d;var y=f[d]-l,v=e-y;if(u-r>a-i){var g=(r*v+u*y)/e;o(t,d,y,r,i,g,a),o(d,n,v,g,i,u,a)}else{var m=(i*v+a*y)/e;o(t,d,y,r,i,u,m),o(d,n,v,r,m,u,a)}}var u,a,c=t.children,s=c.length,f=new Array(s+1);for(f[0]=a=u=0;u<s;++u)f[u+1]=a+=c[u].value;o(0,s,t.value,n,e,r,i)},t.treemapDice=Qn,t.treemapSlice=oe,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?oe:Qn)(t,n,e,r,i)},t.treemapSquarify=Yc,t.treemapResquarify=Bc,t.interpolate=be,t.interpolateArray=ye,t.interpolateBasis=ce,t.interpolateBasisClosed=se,t.interpolateDate=ve,t.interpolateNumber=ge,t.interpolateObject=me,t.interpolateRound=we,t.interpolateString=xe,t.interpolateTransformCss=Qc,t.interpolateTransformSvg=Jc,t.interpolateZoom=Ce,t.interpolateRgb=Hc,t.interpolateRgbBasis=Xc,t.interpolateRgbBasisClosed=jc,t.interpolateHsl=es,t.interpolateHslLong=rs,t.interpolateLab=function(t,n){var e=pe((t=V(t)).l,(n=V(n)).l),r=pe(t.a,n.a),i=pe(t.b,n.b),o=pe(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=is,t.interpolateHclLong=os,t.interpolateCubehelix=us,t.interpolateCubehelixLong=as,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=ze,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Ue),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Le(r),u=Le(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.sqrt(n*n+e*e);return c},t.queue=Fe,t.randomUniform=ds,t.randomNormal=ps,t.randomLogNormal=_s,t.randomBates=vs,t.randomIrwinHall=ys,t.randomExponential=gs,t.request=Ye,t.html=ms,t.json=xs,t.text=bs,t.xml=ws,t.csv=Ms,t.tsv=Ts,t.scaleBand=je,t.scalePoint=function(){return Ve(je().paddingInner(1))},t.scaleIdentity=er,t.scaleLinear=nr,t.scaleLog=fr,t.scaleOrdinal=Xe,t.scaleImplicit=As,t.scalePow=hr,t.scaleSqrt=function(){return hr().exponent(.5)},t.scaleQuantile=dr,t.scaleQuantize=pr,t.scaleThreshold=_r,t.scaleTime=function(){return Pi(af,of,Xs,Bs,Is,Os,Rs,Ps,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return Pi(zf,Sf,_f,df,lf,sf,Rs,Ps,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=Wf,t.schemeCategory20b=Zf,t.schemeCategory20c=Qf,t.schemeCategory20=Jf,t.interpolateCubehelixDefault=Gf,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return nl.h=360*t-100,nl.s=1.5-1.5*n,nl.l=.8-.9*n,nl+""},t.interpolateWarm=Kf,t.interpolateCool=tl,t.interpolateViridis=el,t.interpolateMagma=rl,t.interpolateInferno=il,t.interpolatePlasma=ol,t.scaleSequential=Di,t.create=function(t){return Ft(ut(t).call(document.documentElement))},t.creator=ut,t.local=It,t.matcher=Fa,t.mouse=Xt,t.namespace=ot,t.namespaces=Da,t.clientPoint=Ht,t.select=Ft,t.selectAll=function(t){return"string"==typeof t?new qt([document.querySelectorAll(t)],[document.documentElement]):new qt([null==t?[]:t],Ba)},t.selection=Ot,t.selector=ct,t.selectorAll=ft,t.style=vt,t.touch=jt,t.touches=function(t,n){null==n&&(n=Bt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Ht(t,n[e]);return i},t.window=yt,t.customEvent=Dt,t.arc=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-_l,d=u.apply(this,arguments)-_l,p=ul(d-h),_=d>h;if(c||(c=t=ze()),l<f&&(s=l,l=f,f=s),l>dl)if(p>yl-dl)c.moveTo(l*cl(h),l*ll(h)),c.arc(0,0,l,h,d,!_),f>dl&&(c.moveTo(f*cl(d),f*ll(d)),c.arc(0,0,f,d,h,_));else{var y,v,g=h,m=d,x=h,b=d,w=p,M=p,T=a.apply(this,arguments)/2,k=T>dl&&(i?+i.apply(this,arguments):hl(f*f+l*l)),C=fl(ul(l-f)/2,+r.apply(this,arguments)),N=C,A=C;if(k>dl){var S=qi(k/f*ll(T)),E=qi(k/l*ll(T));(w-=2*S)>dl?(S*=_?1:-1,x+=S,b-=S):(w=0,x=b=(h+d)/2),(M-=2*E)>dl?(E*=_?1:-1,g+=E,m-=E):(M=0,g=m=(h+d)/2)}var z=l*cl(g),P=l*ll(g),U=f*cl(b),L=f*ll(b);if(C>dl){var D=l*cl(m),R=l*ll(m),q=f*cl(x),O=f*ll(x);if(p<pl){var F=w>dl?function(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}(z,P,q,O,D,R,U,L):[U,L],I=z-F[0],Y=P-F[1],B=D-F[0],H=R-F[1],X=1/ll(function(t){return t>1?0:t<-1?pl:Math.acos(t)}((I*B+Y*H)/(hl(I*I+Y*Y)*hl(B*B+H*H)))/2),j=hl(F[0]*F[0]+F[1]*F[1]);N=fl(C,(f-j)/(X-1)),A=fl(C,(l-j)/(X+1))}}M>dl?A>dl?(y=Hi(q,O,z,P,l,A,_),v=Hi(D,R,U,L,l,A,_),c.moveTo(y.cx+y.x01,y.cy+y.y01),A<C?c.arc(y.cx,y.cy,A,al(y.y01,y.x01),al(v.y01,v.x01),!_):(c.arc(y.cx,y.cy,A,al(y.y01,y.x01),al(y.y11,y.x11),!_),c.arc(0,0,l,al(y.cy+y.y11,y.cx+y.x11),al(v.cy+v.y11,v.cx+v.x11),!_),c.arc(v.cx,v.cy,A,al(v.y11,v.x11),al(v.y01,v.x01),!_))):(c.moveTo(z,P),c.arc(0,0,l,g,m,!_)):c.moveTo(z,P),f>dl&&w>dl?N>dl?(y=Hi(U,L,D,R,f,-N,_),v=Hi(z,P,q,O,f,-N,_),c.lineTo(y.cx+y.x01,y.cy+y.y01),N<C?c.arc(y.cx,y.cy,N,al(y.y01,y.x01),al(v.y01,v.x01),!_):(c.arc(y.cx,y.cy,N,al(y.y01,y.x01),al(y.y11,y.x11),!_),c.arc(0,0,f,al(y.cy+y.y11,y.cx+y.x11),al(v.cy+v.y11,v.cx+v.x11),_),c.arc(v.cx,v.cy,N,al(v.y11,v.x11),al(v.y01,v.x01),!_))):c.arc(0,0,f,b,x,_):c.lineTo(U,L)}else c.moveTo(0,0);if(c.closePath(),t)return c=null,t+""||null}var n=Oi,e=Fi,r=Ri(0),i=null,o=Ii,u=Yi,a=Bi,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-pl/2;return[cl(r)*t,ll(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Ri(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:Ri(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:Ri(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ri(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ri(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:Ri(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t},t.area=Zi,t.line=Wi,t.pie=function(){function t(t){var a,c,s,f,l,h=t.length,d=0,p=new Array(h),_=new Array(h),y=+i.apply(this,arguments),v=Math.min(yl,Math.max(-yl,o.apply(this,arguments)-y)),g=Math.min(Math.abs(v)/h,u.apply(this,arguments)),m=g*(v<0?-1:1);for(a=0;a<h;++a)(l=_[p[a]=a]=+n(t[a],a,t))>0&&(d+=l);for(null!=e?p.sort(function(t,n){return e(_[t],_[n])}):null!=r&&p.sort(function(n,e){return r(t[n],t[e])}),a=0,s=d?(v-h*m)/d:0;a<h;++a,y=f)c=p[a],f=y+((l=_[c])>0?l*s:0)+m,_[c]={data:t[c],index:a,value:l,startAngle:y,endAngle:f,padAngle:g};return _}var n=Ji,e=Qi,r=null,i=Ri(0),o=Ri(yl),u=Ri(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Ri(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ri(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ri(+n),t):u},t},t.areaRadial=eo,t.radialArea=eo,t.lineRadial=no,t.radialLine=no,t.pointRadial=ro,t.linkHorizontal=function(){return uo(ao)},t.linkVertical=function(){return uo(co)},t.linkRadial=function(){var t=uo(so);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(r||(r=t=ze()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=Ri(ml),e=Ri(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:Ri(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},t.symbols=Dl,t.symbolCircle=ml,t.symbolCross=xl,t.symbolDiamond=Ml,t.symbolSquare=Al,t.symbolStar=Nl,t.symbolTriangle=El,t.symbolWye=Ll,t.curveBasisClosed=function(t){return new po(t)},t.curveBasisOpen=function(t){return new _o(t)},t.curveBasis=function(t){return new ho(t)},t.curveBundle=Rl,t.curveCardinalClosed=Ol,t.curveCardinalOpen=Fl,t.curveCardinal=ql,t.curveCatmullRomClosed=Yl,t.curveCatmullRomOpen=Bl,t.curveCatmullRom=Il,t.curveLinearClosed=function(t){return new ko(t)},t.curveLinear=ji,t.curveMonotoneX=function(t){return new Eo(t)},t.curveMonotoneY=function(t){return new zo(t)},t.curveNatural=function(t){return new Uo(t)},t.curveStep=function(t){return new Do(t,.5)},t.curveStepAfter=function(t){return new Do(t,1)},t.curveStepBefore=function(t){return new Do(t,0)},t.stack=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],d=f[o]=new Array(c),p=0;p<c;++p)d[p]=l=[0,+i(t[p],h,p,t)],l.data=t[p];d.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=Ri([]),e=qo,r=Ro,i=Oo;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:Ri(gl.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?qo:"function"==typeof n?n:Ri(gl.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?Ro:n,t):r},t},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Ro(t,n)}},t.stackOffsetDiverging=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},t.stackOffsetNone=Ro,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}Ro(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=(l-(f[u-1][1]||0))/2,d=0;d<a;++d){var p=t[n[d]];h+=(p[u][1]||0)-(p[u-1][1]||0)}c+=l,s+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,Ro(t,n)}},t.stackOrderAscending=Fo,t.stackOrderDescending=function(t){return Fo(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(Io),o=qo(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},t.stackOrderNone=qo,t.stackOrderReverse=function(t){return qo(t).reverse()},t.timeInterval=yr,t.timeMillisecond=Ps,t.timeMilliseconds=Us,t.utcMillisecond=Ps,t.utcMilliseconds=Us,t.timeSecond=Rs,t.timeSeconds=qs,t.utcSecond=Rs,t.utcSeconds=qs,t.timeMinute=Os,t.timeMinutes=Fs,t.timeHour=Is,t.timeHours=Ys,t.timeDay=Bs,t.timeDays=Hs,t.timeWeek=Xs,t.timeWeeks=Js,t.timeSunday=Xs,t.timeSundays=Js,t.timeMonday=js,t.timeMondays=Gs,t.timeTuesday=Vs,t.timeTuesdays=Ks,t.timeWednesday=$s,t.timeWednesdays=tf,t.timeThursday=Ws,t.timeThursdays=nf,t.timeFriday=Zs,t.timeFridays=ef,t.timeSaturday=Qs,t.timeSaturdays=rf,t.timeMonth=of,t.timeMonths=uf,t.timeYear=af,t.timeYears=cf,t.utcMinute=sf,t.utcMinutes=ff,t.utcHour=lf,t.utcHours=hf,t.utcDay=df,t.utcDays=pf,t.utcWeek=_f,t.utcWeeks=wf,t.utcSunday=_f,t.utcSundays=wf,t.utcMonday=yf,t.utcMondays=Mf,t.utcTuesday=vf,t.utcTuesdays=Tf,t.utcWednesday=gf,t.utcWednesdays=kf,t.utcThursday=mf,t.utcThursdays=Cf,t.utcFriday=xf,t.utcFridays=Nf,t.utcSaturday=bf,t.utcSaturdays=Af,t.utcMonth=Sf,t.utcMonths=Ef,t.utcYear=zf,t.utcYears=Uf,t.timeFormatDefaultLocale=Si,t.timeFormatLocale=wr,t.isoFormat=Ff,t.isoParse=If,t.now=Yo,t.timer=Xo,t.timerFlush=jo,t.timeout=Zo,t.interval=function(t,n,e){var r=new Ho,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Yo():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},t.transition=iu,t.active=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>rh&&e.name===n)return new ru([[t]],dh,n,+r)}return null},t.interrupt=tu,t.voronoi=function(){function t(t){return new Pu(t.map(function(r,i){var o=[Math.round(n(r,i,t)/bh)*bh,Math.round(e(r,i,t)/bh)*bh];return o.index=i,o.data=r,o}),r)}var n=cu,e=su,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:au(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:au(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function n(t){t.property("__zoom",Iu).on("wheel.zoom",c).on("mousedown.zoom",s).on("dblclick.zoom",f).filter(x).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,n){return(n=Math.max(b[0],Math.min(b[1],n)))===t.k?t:new Lu(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Lu(t.k,r,i)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,n,e){t.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=u(this,t),o=v.apply(this,t),a=e||i(o),c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=this.__zoom,f="function"==typeof n?n.apply(this,t):n,l=T(s.invert(a).concat(c/s.k),f.invert(a).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=l(t),e=c/n[2];t=new Lu(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function u(t,n){for(var e,r=0,i=k.length;r<i;++r)if((e=k[r]).that===t)return e;return new a(t,n)}function a(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=v.apply(t,n)}function c(){if(y.apply(this,arguments)){var t=u(this,arguments),n=this.__zoom,i=Math.max(b[0],Math.min(b[1],n.k*Math.pow(2,m.apply(this,arguments)))),o=Xt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===i)return;t.mouse=[o,n.invert(o)],tu(this),t.start()}qu(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},A),t.zoom("mouse",g(r(e(n,i),t.mouse[0],t.mouse[1]),t.extent,w))}}function s(){if(!_&&y.apply(this,arguments)){var n=u(this,arguments),e=Ft(t.event.view).on("mousemove.zoom",function(){if(qu(),!n.moved){var e=t.event.clientX-o,i=t.event.clientY-a;n.moved=e*e+i*i>S}n.zoom("mouse",g(r(n.that.__zoom,n.mouse[0]=Xt(n.that),n.mouse[1]),n.extent,w))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),Zt(t.event.view,n.moved),qu(),n.end()},!0),i=Xt(this),o=t.event.clientX,a=t.event.clientY;Wt(t.event.view),Ru(),n.mouse=[i,this.__zoom.invert(i)],tu(this),n.start()}}function f(){if(y.apply(this,arguments)){var i=this.__zoom,u=Xt(this),a=i.invert(u),c=i.k*(t.event.shiftKey?.5:2),s=g(r(e(i,c),u,a),v.apply(this,arguments),w);qu(),M>0?Ft(this).transition().duration(M).call(o,s,u):Ft(this).call(n.transform,s)}}function l(){if(y.apply(this,arguments)){var n,e,r,i,o=u(this,arguments),a=t.event.changedTouches,c=a.length;for(Ru(),e=0;e<c;++e)i=[i=jt(this,a,(r=a[e]).identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(p&&(p=clearTimeout(p),!o.touch1))return o.end(),void((i=Ft(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(p=setTimeout(function(){p=null},N),tu(this),o.start())}}function h(){var n,i,o,a,c=u(this,arguments),s=t.event.changedTouches,f=s.length;for(qu(),p&&(p=clearTimeout(p)),n=0;n<f;++n)o=jt(this,s,(i=s[n]).identifier),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=o:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=o);if(i=c.that.__zoom,c.touch1){var l=c.touch0[0],h=c.touch0[1],d=c.touch1[0],_=c.touch1[1],y=(y=d[0]-l[0])*y+(y=d[1]-l[1])*y,v=(v=_[0]-h[0])*v+(v=_[1]-h[1])*v;i=e(i,Math.sqrt(y/v)),o=[(l[0]+d[0])/2,(l[1]+d[1])/2],a=[(h[0]+_[0])/2,(h[1]+_[1])/2]}else{if(!c.touch0)return;o=c.touch0[0],a=c.touch0[1]}c.zoom("touch",g(r(i,o,a),c.extent,w))}function d(){var n,e,r=u(this,arguments),i=t.event.changedTouches,o=i.length;for(Ru(),_&&clearTimeout(_),_=setTimeout(function(){_=null},N),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var p,_,y=Ou,v=Fu,g=Hu,m=Yu,x=Bu,b=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],M=250,T=Ce,k=[],C=et("start","zoom","end"),N=500,A=150,S=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Iu),t!==e?o(t,n):e.interrupt().each(function(){u(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,o){n.transform(t,function(){var t=v.apply(this,arguments),n=this.__zoom,u=i(t),a=n.invert(u),c="function"==typeof o?o.apply(this,arguments):o;return g(r(e(n,c),u,a),t,w)})},n.translateBy=function(t,e,r){n.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),v.apply(this,arguments),w)})},n.translateTo=function(t,e,r){n.transform(t,function(){var t=v.apply(this,arguments),n=this.__zoom,o=i(t);return g(Mh.translate(o[0],o[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t,w)})},a.prototype={start:function(){return 1==++this.active&&(this.index=k.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(k.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Dt(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(n,t,this.that.__zoom),C.apply,C,[t,this.that,this.args])}},n.wheelDelta=function(t){return arguments.length?(m="function"==typeof t?t:Uu(+t),n):m},n.filter=function(t){return arguments.length?(y="function"==typeof t?t:Uu(!!t),n):y},n.touchable=function(t){return arguments.length?(x="function"==typeof t?t:Uu(!!t),n):x},n.extent=function(t){return arguments.length?(v="function"==typeof t?t:Uu([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):v},n.scaleExtent=function(t){return arguments.length?(b[0]=+t[0],b[1]=+t[1],n):[b[0],b[1]]},n.translateExtent=function(t){return arguments.length?(w[0][0]=+t[0][0],w[1][0]=+t[1][0],w[0][1]=+t[0][1],w[1][1]=+t[1][1],n):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},n.constrain=function(t){return arguments.length?(g=t,n):g},n.duration=function(t){return arguments.length?(M=+t,n):M},n.interpolate=function(t){return arguments.length?(T=t,n):T},n.on=function(){var t=C.on.apply(C,arguments);return t===C?n:t},n.clickDistance=function(t){return arguments.length?(S=(t=+t)*t,n):Math.sqrt(S)},n},t.zoomTransform=Du,t.zoomIdentity=Mh,Object.defineProperty(t,"__esModule",{value:!0})});
/* End of File include/javascript/d3-sugar/d3-sugar.min.js */

/**
 * @deprecated Since 11.3.0 - use chart.js instead
 */

/*
Copyright 2018 SugarCRM, Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@sugarcrm/d3-sugar")):"function"==typeof define&&define.amd?define(["exports","@sugarcrm/d3-sugar"],e):e(t.sucrose={},t.d3sugar)})(this,function(t,Pt){"use strict";function i(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}Pt=Pt&&Pt.hasOwnProperty("default")?Pt.default:Pt;var zt={identity:function(t){return t},functor:function t(e){return"function"==typeof e?e:function(){return e}},isFunction:function(t){var e;return t&&"[object Function]"=={}.toString.call(t)},rebind:function(t,e){for(var n=1,r=arguments.length,a;++n<r;)t[a=arguments[n]]=i(t,e,e[a]);return t},optionsFunc:function(t){return t&&Pt.map(t).each(function(t,e){var n=this[e],r=zt.toNative(t);zt.isFunction(n)&&(Array.isArray(r)?n.apply(r):n(r))}.bind(this)),this},windowSize:function(){var t={};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight):"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):(t.width=640,t.height=480),t},windowResize:function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0)},windowUnResize:function(t){window.detachEvent?window.detachEvent("onresize",t):window.removeEventListener&&window.removeEventListener("resize",t,!0)},resizeOnPrint:function(e){var t;window.matchMedia?window.matchMedia("print").addListener(function(t){t.matches&&e()}):window.attachEvent?window.attachEvent("onbeforeprint",e):window.onbeforeprint=e},unResizeOnPrint:function(e){var t;window.matchMedia?window.matchMedia("print").removeListener(function(t){t.matches&&e()}):window.detachEvent?window.detachEvent("onbeforeprint",e):window.onbeforeprint=null},getColor:function(n){return arguments.length?Array.isArray(n)?function(t,e){return t.color||n[e%n.length]}:"[object String]"===Object.prototype.toString.call(n)?function(t){return t.color||"#"+n.replace("#","")}:n:zt.defaultColor()},defaultColor:function(){var n=Pt.scaleOrdinal(Pt.schemeCategory20).range();return function(t,e){return t.color||n[e%n.length]}},getTextContrast:function(t,e,n){var r=t,a=Pt.lab(r),i=a.l,o=60<i?a.darker(4+(i-75)/25).l:a.brighter(4+(18-i)/25).l,l=Pt.lab(o,0,0),s=l.toString();return n&&n(a,l),s},customTheme:function(n,r,a){var i;return r=r||function(t){return t.key},a=a||Pt.scaleOrdinal(Pt.schemeCategory20).range(),i=a.length,function(t){var e=r(t);return i||(i=a.length),void 0!==n[e]?"function"==typeof n[e]?n[e]():n[e]:a[--i]}},colorLinearGradient:function(t,e,n,r,a){var i="lg_gradient_"+e,o;return a.select("#"+i).empty()&&("middle"===n.position?zt.createLinearGradient(i,n,a,[{offset:"0%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1},{offset:"20%","stop-color":Pt.rgb(r).toString(),"stop-opacity":1},{offset:"50%","stop-color":Pt.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"80%","stop-color":Pt.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1}]):zt.createLinearGradient(i,n,a,[{offset:"0%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1},{offset:"50%","stop-color":Pt.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":Pt.rgb(r).brighter().toString(),"stop-opacity":1}])),"url(#"+i+")"},createLinearGradient:function(t,e,n,r){var a="horizontal"===e.orientation?"0%":"100%",i="horizontal"===e.orientation?"100%":"0%",o,l,s=n.append("linearGradient");s.attr("id",t).attr("x1","0%").attr("y1","0%").attr("x2",a).attr("y2",i).attr("spreadMethod","pad");for(var c=0;c<r.length;c+=1)o=r[c],l=s.append("stop"),Object.getOwnPropertyNames(o).forEach(function(t){l.attr(t,o[t])})},colorRadialGradient:function(t,e,n,r,a){var i="rg_gradient_"+e,o;return a.select("#"+i).empty()&&zt.createRadialGradient(i,n,a,[{offset:n.s,"stop-color":Pt.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"100%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1}]),"url(#"+i+")"},createRadialGradient:function(t,e,n,r){var a,i,o;o=n.append("radialGradient").attr("id",t).attr("r",e.r).attr("cx",e.x).attr("cy",e.y).attr("gradientUnits",e.u).attr("spreadMethod","pad");for(var l=0;l<r.length;l+=1)a=r[l],i=o.append("stop"),Object.getOwnPropertyNames(a).forEach(function(t){i.attr(t,a[t])})},roundedRectangle:function(t,e,n,r,a){var i;return"M"+t+","+e+"h"+(n-2*a)+"a"+a+","+a+" 0 0 1 "+a+","+a+"v"+(r-2-2*a)+"a"+a+","+a+" 0 0 1 "+-a+","+a+"h"+(2*a-n)+"a"+-a+","+a+" 0 0 1 "+-a+","+-a+"v"+(2*a-r+2)+"a"+a+","+a+" 0 0 1 "+a+","+-a+"z"},dropShadow:function(t,e,n){var r=n||{},a=r.height||"130%",i=r.offset||2,o=r.blur||1,l,s;return e.select("#"+t).empty()&&((l=e.append("filter").attr("id",t).attr("height",a)).append("feOffset").attr("in","SourceGraphic").attr("result","offsetBlur").attr("dx",i).attr("dy",i),l.append("feColorMatrix").attr("in","offsetBlur").attr("result","matrixOut").attr("type","matrix").attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0"),l.append("feGaussianBlur").attr("in","matrixOut").attr("result","blurOut").attr("stdDeviation",o),(s=l.append("feMerge")).append("feMergeNode"),s.append("feMergeNode").attr("in","SourceGraphic")),"url(#"+t+")"},createTexture:function(t,e,n,r){var a="#sc-diagonalHatch-"+e,i="#sc-textureMask-"+e;return t.append("pattern").attr("id","sc-diagonalHatch-"+e).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).append("path").attr("d","M-1,1 l2,-2 M0,8 l8,-8 M7,9 l1,-1").attr("class","texture-line").attr("stroke","#fff").attr("stroke-linecap","square"),t.append("mask").attr("id","sc-textureMask-"+e).attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").append("rect").attr("x",n||0).attr("y",r||-1).attr("width","100%").attr("height","100%").attr("fill","url("+a+")"),i},stringSetLengths:function(t,e,n){var r=[],a=e.select(".tmp-text-strings").select("text");return a.empty()&&(a=e.append("g").attr("class","tmp-text-strings").append("text")),a.classed(n,!0),a.style("display","inline"),t.forEach(function(t){a.text(t),r.push(a.node().getBoundingClientRect().width)}),a.text("").attr("class","tmp-text-strings").style("display","none"),r},stringSetThickness:function(t,e,n){var r=[],a=e.select(".tmp-text-strings").select("text");return a.empty()&&(a=e.append("g").attr("class","tmp-text-strings").append("text")),a.classed(n,!0),a.style("display","inline"),t.forEach(function(t){a.text(t),r.push(a.node().getBoundingClientRect().height)}),a.text("").attr("class","tmp-text-strings").style("display","none"),r},maxStringSetLength:function(t,e,n,r){var a=zt.stringSetLengths(t,e,n,r);return Pt.max(a)},stringEllipsify:function(t,e,n){var r=e.select(".tmp-text-strings").select("text"),a=t,i=0,o=0,l=0;for(r.empty()&&(r=e.append("g").attr("class","tmp-text-strings").append("text")),r.style("display","inline"),r.text("..."),o=r.node().getBoundingClientRect().width,r.text(a),l=i=r.node().getBoundingClientRect().width;n<i&&30<i;)a=a.slice(0,-1),r.text(a),i=r.node().getBoundingClientRect().width+o;return r.text(""),a+(n<l?"...":"")},getTextBBox:function(t,e){var n=t.node().getBoundingClientRect(),r;return{width:e?n.width:parseInt(n.width,10),height:e?n.height:parseInt(n.height,10),top:e?n.top:parseInt(n.top,10),left:e?n.left:parseInt(n.left,10)}},strip:function(t){return t.replace(/(\s|&)/g,"")},isRTLChar:function(t){var e,n;return new RegExp("["+"֑-߿יִ-﷿ﹰ-ﻼ"+"]").test(t)},NaNtoZero:function(t){return zt.isNumeric(t)?t:0},polarToCartesian:function(t,e,n,r){var a=zt.angleToRadians(r),i,o;return[t+n*Math.cos(a),e+n*Math.sin(a)]},angleToRadians:function(t){return t*Math.PI/180},angleToDegrees:function(t){return 180*t/Math.PI},getAbsoluteXY:function(t){var e=document.documentElement,n=t.getBoundingClientRect(),r=e.scrollLeft+document.body.scrollLeft,a=e.scrollTop+document.body.scrollTop,i,o;return{left:n.left+r,top:n.top+a}},translation:function(t,e){return"translate("+t+","+e+")"},isNumeric:function(t){var e=parseFloat(t);return!isNaN(e)&&"number"==typeof e&&isFinite(e)},toNative:function(t){var e;return zt.isNumeric(parseFloat(t))?parseFloat(t):"true"===t||"false"!==t&&t},toBoolean:function(t){var e;return zt.isNumeric(parseFloat(t))?!!parseFloat(t):"true"===t||"false"!==t&&t},round:function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},countSigFigsAfter:function(t){var e=/^[^\d]*([\d.,\s]+)[^\d]*$/,n=t.toString().match(e)[1].replace(/[,\s]/,"."),r=0;return Math.floor(n)!==parseFloat(n)&&(r=parseFloat(n).toString().split(".").pop().length||0),r},countSigFigsBefore:function(t){return Math.floor(t).toString().replace(/0+$/g,"").length},siDecimal:function(t){return Math.pow(10,Math.floor(Math.log(t)*Math.LOG10E))},siValue:function(t){return zt.isNumeric(t)?zt.siDecimal(t):{y:1e-24,yocto:1e-24,z:1e-21,zepto:1e-21,a:1e-18,atto:1e-18,f:1e-15,femto:1e-15,p:1e-12,pico:1e-12,n:1e-9,nano:1e-9,"µ":1e-6,micro:1e-6,m:.001,milli:.001,k:1e3,kilo:1e3,M:1e6,mega:1e6,G:1e9,giga:1e9,T:1e12,tera:1e12,P:1e15,peta:1e15,E:1e18,exa:1e18,Z:1e21,zetta:1e21,Y:1e24,yotta:1e24}[t]||0;var e},numberFormat:function(t,e,n,r){var a,i,o,l,s,c;return a=parseFloat(t),i="boolean"==typeof n&&n,!zt.isNumeric(a)||0===a&&!i?t.toString():(o=zt.countSigFigsAfter(a),l=zt.isNumeric(e)?Math.floor(e):void 0!==r?r.precision:i?2:null,l=zt.isNumeric(l)?o&&i?l:Math.min(l,o):o,c=i?"$,":",",(s=void 0===r?Pt.format:Pt.formatLocale(r).format)(c+=o?"."+l+"f":"")(a))},numberFormatFixed:function(t,e,n,r){var a,i;return zt.isNumeric(t)?(n="boolean"==typeof n&&n,e=zt.isNumeric(e)?e:n?2:0,i=n?"$,":",",(a=void 0===r?Pt.format:Pt.formatLocale(r).format)(i+="."+e+"f")(t)):t.toString()},numberFormatSI:function(t,e,n,r){var a,i,o;if(!zt.isNumeric(t))return t;if(n="boolean"==typeof n&&n,e=zt.isNumeric(e)?e:0,a=void 0===r?Pt.format:Pt.formatLocale(r).format,o=zt.countSigFigsAfter(t),i=n?"$,":",",n&&o&&t<1e3)t=zt.round(t,e),o=zt.countSigFigsAfter(t),1===(e=Math.min(o,e))&&(e=2),i+="."+e+"f";else if(Math.abs(t)<1)i+=0==+t.toFixed(e)?".1s":"."+Math.min(e,o)+"f";else{if(!(Math.abs(t)<1e3)){if(a=void 0===r?Pt.formatPrefix:Pt.formatLocale(r).formatPrefix,0!==e){var l,s=a("."+e+"s",t)(t).split(".").pop().replace(/[^\d]+$/,"").match(/0+$/g);Array.isArray(s)&&(e-=s.pop().length)}return a(i+="."+e+"s",t)(t)}t=zt.round(t,e)}return a(i)(t)},numberFormatSIFixed:function(t,e,n,r,a){var i,o;return zt.isNumeric(t)?(n="boolean"==typeof n&&n,e=zt.isNumeric(e)?e:n?2:0,o=n?"$,":",",(i=void 0===r?Pt.formatPrefix:Pt.formatLocale(r).formatPrefix)(o+="."+e+"s",a=zt.siValue(a))(t)):t.toString()},numberFormatPercent:function(t,e,n){var r,a,i,o;return r=parseFloat(e),a=zt.isNumeric(r)&&0<r?100*t/r:100,o=n&&void 0!==n.precision?n.precision:1,(i=zt.numberFormat(a,o,!1,n))+"%"},daysInMonth:function(t,e){return new Date(e,t+1,0).getDate()},isValidDate:function(t){return!!t&&(t instanceof Date&&!isNaN(t.valueOf()))},parseDatetime:function(t){var e;return zt.isNumeric(Math.floor(t))&&4===t.toString().length?e=new Date(Math.floor(t)+"-1-1 GMT"):parseInt(t,10).toString()===t||parseInt(t,10)===t?e=new Date(parseInt(t,10)):(e=new Date(t),"Z"===t.toString().substr(-1)||-1!==t.toString().indexOf("GMT")||t.toString().match(/\d\d\d\d-\d\d-\d\dT/)||e.setUTCMilliseconds(e.getUTCMilliseconds()-6e4*e.getTimezoneOffset())),zt.isValidDate(e)||(e=t),e},getDateFormat:function(t,r){var e,n;return["multi","%x, %I:%M:%S.%L %p","%x, %I:%M:%S %p","%x, %I:%M %p","%x, %I %p","%x","%b %d","%B %Y","%Y"][t.length?Pt.min(t,function(t){!0===r&&t.setUTCMilliseconds(t.getUTCMilliseconds()+6e4*t.getTimezoneOffset());var e=new Date(t),n;return n=+Pt.timeSecond(t)<+e?1:+Pt.timeMinute(t)<+e?2:+Pt.timeHour(t)<+e?3:+Pt.timeDay(t)<+e?4:+Pt.timeMonth(t)<+e?5:+Pt.timeYear(t)<+e?7:8}):8]},getDateFormatUTC:function(t){var e,n;return["multi","%x, %I:%M:%S.%L %p","%x, %I:%M:%S %p","%x, %I:%M %p","%x, %I %p","%x","%b %d","%B %Y","%Y"][t.length?Pt.min(t,function(t){var e=new Date(t),n;return n=+Pt.utcSecond(t)<+e?1:+Pt.utcMinute(t)<+e?2:+Pt.utcHour(t)<+e?3:+Pt.utcDay(t)<+e?4:+Pt.utcMonth(t)<+e?5:+Pt.utcYear(t)<+e?7:8}):8]},multiFormat:function(t,e){return!1===e?zt.getDateFormat([t]):zt.getDateFormatUTC([t])},dateFormat:function(t,e,n){var r,a,i,o=zt.parseDatetime(t);return zt.isValidDate(o)?(n&&n.hasOwnProperty("utcFormat")?(a=n.utcFormat,i=e?-1!==e.indexOf("%")?e:zt.multiFormat(o):"%Y"):(r=zt.buildLocality(n),a=Pt.timeFormatLocale(r).utcFormat,i=e?-1!==e.indexOf("%")?e:r[e]||zt.multiFormat(o):"%Y"),a(i)(o)):t},buildLocality:function(t,e){var n=t||{},r=!!e,a=function(t){return t.join("|").split("|").map(function(t){return t?isNaN(t)?t:+t:""})},i={decimal:".",thousands:",",grouping:[3],currency:["$",""],precision:2,periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],date:"%b %-d, %Y",time:"%-I:%M:%S %p",dateTime:"%B %-d, %Y at %X GMT%Z",full:"%A, %c",long:"%c",medium:"%x, %X",short:"%-m/%-d/%y, %-I:%M %p",yMMMEd:"%a, %x",yMEd:"%a, %-m/%-d/%Y",yMMMMd:"%B %-d, %Y",yMMMd:"%x",yMd:"%-m/%-d/%Y",yMMMM:"%B %Y",yMMM:"%b %Y",MMMd:"%b %-d",MMMM:"%B",MMM:"%b",y:"%Y"};return Object.getOwnPropertyNames(n).forEach(function(t){var e=n[t];i[t]=r&&Array.isArray(e)?a(e):e}),i},displayNoData:function(t,e,n,r,a){var i=t?[]:[n],o=e.selectAll(".sc-no-data").data(i),l=o.enter().append("text").attr("class","sc-no-data").attr("dy","-.7em").style("text-anchor","middle"),s=e.selectAll(".sc-no-data").merge(l);return o.exit().remove(),!!i.length&&(s.attr("x",r).attr("y",a).text(zt.identity),e.selectAll(".sc-chart-wrap").remove(),!0)}},kt=function(){function r(t,n,r){return t.replace(/>\s+</gm,"><").replace(/{{(\w+)}}/gm,function(t,e){return n[e]||e}).replace(/{{str\s([\w.]+)}}/gm,function(t,e){return r.translate(e)})}return{show:function(t,e,n,r,a,i){var o=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div");return n=n||"s",r=r||5,l.className="tooltip-inner",s.className="tooltip-arrow",l.innerHTML=e,o.style.left=0,o.style.top=-1e3,o.style.opacity=0,o.className=(i||"sc-tooltip")+" tooltip xy-tooltip in",o.appendChild(l),o.appendChild(s),a.appendChild(o),kt.position(a,o,t,n,r),o.style.opacity=1,o},cleanup:function(){for(var t=document.getElementsByClassName("tooltip"),e=[],n=t.length;0<n;)-1!==t[n-=1].className.indexOf("xy-tooltip")&&(e.push(t[n]),t[n].style.transitionDelay="0 !important",t[n].style.opacity=0,t[n].className="sctooltip-pending-removal out");setTimeout(function(){for(var t;e.length;)(t=e.pop()).parentNode.removeChild(t)},500)},position:function(t,r,e,n,a){n=n||"s",a=a||5;var i=t.getBoundingClientRect(),o=[e.clientX-i.left,e.clientY-i.top],l=parseInt(r.offsetWidth,10),s=parseInt(r.offsetHeight,10),c=t.clientWidth,u=t.clientHeight,d=t.scrollLeft,f=t.scrollTop,h=r.className.replace(/ top| right| bottom| left/g,""),p,g;function m(){var t=o[0]-l/2;return t<d&&(t=d),c<t+l&&(t=c-l),t}function v(){var t=o[1]-s/2;return t<f&&(t=f),f+u<t+s&&(t=f-s),t}function y(t){var e=o[0]-l/2-t-5,n;r.getElementsByClassName("tooltip-arrow")[0].style.marginLeft=e+"px"}function b(t){var e=o[1]-s/2-t-5,n;r.getElementsByClassName("tooltip-arrow")[0].style.marginTop=e+"px"}switch(n){case"e":g=v(),p=o[0]-l-a,b(g),p<d?(p=o[0]+a,h+=" right"):h+=" left";break;case"w":g=v(),p=o[0]+a,b(g),c<p+l?(p=o[0]-l-a,h+=" left"):h+=" right";break;case"n":p=m(),g=o[1]+a,y(p),f+u<g+s?(g=o[1]-s-a,h+=" top"):h+=" bottom";break;case"s":p=m(),g=o[1]-s-a,y(p),g<f?(g=o[1]+a,h+=" bottom"):h+=" top"}r.style.left=p+"px",r.style.top=g+"px",r.className=h},single:function(t,e){var n;return r('<div class="tooltip-header">             <b>{{key}}</b>         </div>         <div class="tooltip-grid">             <p><span>{{label}}</span> <span>{{value}}</span></p>'+(void 0!==t.percent&&String(t.percent).length?"<p><span>{{str tooltip.percent}}</span> <span>{{percent}}%</span></p>":"")+"</div>"+(void 0!==t.msg&&t.msg.length?'<div class="tooltip-status"><i>{{msg}}</i></div>':""),t,e)},multi:function(t,e){var n;return r('<div class="tooltip-grid">             <p><span>{{groupName}}</span> <span>{{groupLabel}}</span></p>'+(void 0!==t.seriesName&&String(t.seriesName).length?"<p><span>{{seriesName}}</span> <span>{{seriesLabel}}</span></p>":"")+"<p><span>{{valueName}}</span> <span>{{valueLabel}}</span></p>"+(void 0!==t.percent&&String(t.percent).length?"<p><span>{{str tooltip.percent}}</span> <span>{{percent}}%</span></p>":"")+"</div>"+(void 0!==t.msg&&t.msg.length?'<div class="tooltip-status"><i>{{msg}}</i></div>':""),t,e)}}}(),c=function(){function i(r,a){var t=r?Object.getOwnPropertyNames(r):[];t.length&&t.forEach(function(t){var e=r[t];if("string"==typeof e||e instanceof String)a[t]=e.toString();else{var n=a[t]||(a[t]={});!(n instanceof Object)||n instanceof Date||n instanceof Function||i(e,n)}})}return function(t){var r={legend:{close:"Hide legend",open:"Show legend",noLabel:"undefined"},controls:{close:"Hide controls",open:"Show controls"},tooltip:{amount:"Amount",count:"Count",date:"Date",group:"Group",key:"Key",percent:"Percent"},noData:"No Data Available.",noLabel:"undefined",displayError:"The chart cannot be displayed due to its configuration.",translate:function(t){var e=t.split("."),n=r[e[0]];return"string"==typeof n?n:2===e.length?n[e[1]]:t}};return i(t,r),r}}();function v(){var tt=Pt.scaleLinear(),et=null,nt=!0,rt=!0,at="ltr",it="bottom",ot=!1,lt=!1,st=30,e=!1,ct=!0,ut=!1,dt=null,ft=null,n=4,ht=function(t){return t},pt=8,r,a,i,o,l,gt={top:0,right:0,bottom:0,left:0},mt=0,vt=Pt.axisBottom(),yt;function bt(t){return t.each(function(t){var e=Pt.select(this),d=vt.scale().copy(),f={top:0,right:0,bottom:0,left:0},h=B(),r=Math.abs(h[1]-h[0]);yt=yt||vt.scale();var o="left"===it||"right"===it,p="left"===it||"top"===it?-1:1,n=0,a=0,l=6,i=0,s=0,g=[],c={},u={},m={};mt=0,null!==ft?vt.ticks(ft):o?vt.ticks(Math.ceil(r/48)):vt.ticks(Math.ceil(r/100)),vt.tickFormat(function(t,e,n){return ht(t,e,n,"axis")}),st&&!zt.isNumeric(String(st))&&(st=30),ut&&(nt=!1);var v,y=e.selectAll("g.sc-wrap.sc-axis").data([t]).enter().append("g").attr("class","sc-wrap sc-axis").append("g").attr("class","sc-axis-inner"),b=e.select(".sc-axis-inner").merge(y);b.call(vt);var x=b.selectAll("g.tick"),w=nt?Pt.extent(tt.domain()):[],k=b.selectAll("g.sc-axisMaxMin").data(w),M=k.enter().append("g").attr("class","sc-axisMaxMin");k.exit().remove();var A=b.selectAll("g.sc-axisMaxMin").merge(M);M.append("text").style("opacity",1);var I=A.select("text"),C=b.selectAll("g.tick, g.sc-axisMaxMin").select("text").filter(function(t){return this.getBoundingClientRect().width}),S=et?[et]:[],F=b.selectAll("text.sc-axislabel").data(S),L=F.enter().append("text").attr("class","sc-axislabel");F.exit().remove();var D=b.selectAll("text.sc-axislabel").merge(L);D.text(zt.identity);var T=!1,E=!1,P=!1;if(o?(K(!0),C.style("text-anchor",W(dt||(Y()?"start":"end")))):(K(!1),Z(),X(1)&&(ot&&(K(!1),$(),Z(),$(),X(1)||(T=!0)),!T&&lt&&(K(!1),J(),Z(),J(),X(2)||(E=!0)),T||E||(st||(st=30),K(!0),o||(s=a/Math.sin(st*Math.PI/180)),Q(st),Z(st),Q(st),P=!0))),nt?x.each(function(t,e){var n=Pt.select(this),r=c["key-"+t.toString()],a=!1,i=d(t)===h[0]||d(t)===h[1];i?a=!0:void 0!==r&&(a=o?u.top-r.bottom+1<0||r.top-m.bottom<0:P?r.left-s/2<u.left||r.left+s/2>m.left:E?(r.left-l<u.right||r.right+l>m.left)&&(r.bottom===u.bottom||r.bottom<u.top||r.top>m.bottom):r.left-l<u.right||r.right+l>m.left),n.select("line").classed("extent",i),n.select("text").style("opacity",1-a)}):x.select("line").style("stroke-opacity",function(t){return d(t)===h[0+Y()]?0:null}),x.filter(function(t){return t<1e-10&&-1e-10<t&&d(t)!==h[0]&&d(t)!==h[1]}).select("line").classed("zero",rt),et){var z=o?ct?r/-2:(mt+pt)*p:r/2,N=o?ct?(mt+pt)*p:r/2:(mt+pt)*p;D.attr("x",z).attr("y",N).attr("dy",.355+.355*p+"em").attr("transform",o&&ct?"rotate(-90)":"").style("text-anchor",o&&!ct?W("end"):"middle"),D.each(function(t,e){i+=o?parseInt(this.getBoundingClientRect().width/1.3,10):parseInt(this.getBoundingClientRect().height/1.3,10)}),mt+=i+pt}function _(){return 1<d.range().length?Math.abs(d.range()[1]-d.range()[0]):0}function R(){return 1<d.range().length?Math.max(.25,1-zt.round(d.bandwidth()/_(),2)):0}function B(){return"function"==typeof d.rangeExtent?d.rangeExtent():d.range()}function O(){return ut?d.bandwidth():0}function H(){return ut?d.range()[0]:0}function V(){return H()/G()}function G(){var t=0,e;return ut?t=1<d.range().length?Math.abs(d.range()[1]-d.range()[0]):Pt.max(B())/2:(e=d.ticks(x.size()),t=d(e[e.length-1])-d(e[e.length-2])),t}function W(t){if("rtl"===at){if("start"===t)return"end";if("end"===t)return"start"}return t}function Y(){return"left"!==it&&"bottom"!==it}function q(t){t=t||1,mt=vt.tickPadding()+(o?n:a)*t}function j(){U(),n=Pt.max(g,function(t){return t.width}),a=Pt.max(g,function(t){return t.height})}function U(){g=[],c={},nt&&A.attr("transform",function(t,e){var n;return"translate("+(o?"0,"+d(t):d(t)+",0")+")"}),C.each(function(t,e){var n=this.getBoundingClientRect();0<n.width&&g.push({key:t,width:parseInt(n.width,10),height:parseInt(n.height,10),left:n.left,right:n.right,top:n.top,bottom:n.bottom})}),g.sort(function(t,e){return t.key-e.key}).forEach(function(t,e){t.index=e,c["key-"+t.key.toString()]=t}),u=g[0],m=g[g.length-1]}function X(t){U();for(var e=nt?2:t||1,n=nt?1:0,r=g.length-e;n<r;n+=1)if(g[n].right+l>g[n+t].left)return!0;return!1}function Z(t){var l=t?(t+180)%180:0,s=90<l,c=null,u=null;if(g.forEach(function(t,e){var n=null===c||t.left<=c,r=null===u||t.right>=u,a=0,i=0,o=0;(n||r)&&(o=l?t.width-6:t.width/2,a=d(t.key)+ut*O()/2,!n||l&&!s||(c=t.left,i=Math.abs(h[0]-a),f.left=Math.max(o-i,0)),!r||l&&s||(u=t.right,i=Math.abs(h[1]-a),f.right=Math.max(o-i,0)))}),!ut){var e=gt.right-Math.max(gt.right,f.right);e+=gt.left-Math.max(gt.left,f.left);var n=[h[0],h[1]+e];d.range(n),h=B(),r=Math.abs(h[1]-h[0]),vt.scale(d),b.call(vt)}}function K(){f={top:0,right:0,bottom:0,left:0},d=tt.copy(),h=B(),r=Math.abs(h[1]-h[0]),vt.scale(tt),b.call(vt),C.selectAll("tspan").remove(),C.attr("dy",o?".32em":.355+.355*p+"em").attr("x",o?vt.tickPadding()*p:0).attr("y",o?0:vt.tickPadding()*p).attr("transform","translate(0,0)").style("text-anchor","middle").style("opacity",1),I.text(function(t,e,n){return ht(t,e,n,"maxmin")}),j(),q()}function $(){var f=G();C.each(function(t,e,n){var r=ht(t,e,n,"no-ellipsis"),a=Pt.select(this),i=zt.isValidDate(zt.parseDatetime(r)),o=1===p?.71:-1,l=0,s=(r&&""!==r?i?r:r.replace("/","/ "):[]).split(" "),c=s.length;this.textContent="";var u,d=a.append("tspan").text(s[l]+" ").attr("dy",o+"em").attr("x",0);for(l+=1,o=1;l<c;)for(d=a.append("tspan").text(s[l]+" ").attr("dy",o+"em").attr("x",0),l+=1;l<c;){if(u=d.text(),d.text(u+" "+s[l]),!(this.getBoundingClientRect().width<=f)){d.text(u);break}l+=1}}),j(),q()}function J(){C.attr("transform",function(t,e){var n;return"translate(0,"+c["key-"+t.toString()].index%2*a+")"}),j(),q(2)}function Q(t){var e=(t+180)%180,n=90<e,r=(e-(n?180:0))*p,a=W(n?"end":"start"),i=Math.abs(Math.cos(t*Math.PI/180));C.attr("transform",function(t,e,n){return"translate(0,"+vt.tickPadding()*p+") rotate("+r+")"}).attr("y","0").style("text-anchor",a),j(),q()}yt=tt.copy(),(gt={top:f.top,right:f.right,bottom:f.bottom,left:f.left})[it]=mt,bt.resizeTickLines=function(t){b.selectAll("g.tick, g.sc-axisMaxMin").select("line").attr(o?"x2":"y2",t*p)},bt.labelThickness=function(){return i}}),bt}return bt.axis=vt,zt.rebind(bt,tt,"domain","range"),bt.width=function(t){return arguments.length?bt:mt},bt.height=function(t){return arguments.length?bt:mt},bt.margin=function(t){return arguments.length?(gt=t,bt):gt},bt.ticks=function(t){return arguments.length?(ft=t,bt):ft},bt.axisLabel=function(t){return arguments.length?(et=t,bt):et},bt.showMaxMin=function(t){return arguments.length?(nt=t,bt):nt},bt.highlightZero=function(t){return arguments.length?(rt=t,bt):rt},bt.wrapTicks=function(t){return arguments.length?(ot=t,bt):ot},bt.rotateTicks=function(t){return arguments.length?(st=t,bt):st},bt.staggerTicks=function(t){return arguments.length?(lt=t,bt):lt},bt.reduceXTicks=function(t){return arguments.length?(e=t,bt):e},bt.rotateYLabel=function(t){return arguments.length?(ct=t,bt):ct},bt.axisLabelDistance=function(t){return arguments.length?(pt=t,bt):pt},bt.textAnchor=function(t){return arguments.length?(dt=t,bt):dt},bt.direction=function(t){return arguments.length?(at=t,bt):at},bt.orient=function(t){return arguments.length?(vt="bottom"===(it=t)?Pt.axisBottom():"right"===it?Pt.axisRight():"left"===it?Pt.axisLeft():"top"===it?Pt.axisTop():Pt.axisBottom(),bt):it},bt.scale=function(t){return arguments.length?(tt=t,vt.scale(tt),ut="function"==typeof tt.padding,zt.rebind(bt,tt,"domain","range"),bt):tt},bt.valueFormat=function(t){return arguments.length?(ht=t,bt):ht||vt.tickFormat()},bt.tickFormat=function(t){return arguments.length?(r=t,vt.tickFormat(t),bt):r||vt.tickFormat()},bt.tickValues=function(t){return arguments.length?(a=t,vt.tickValues(t),bt):a},bt.tickSize=function(t){return arguments.length?(i=t,vt.tickSize(t),bt):i},bt.tickPadding=function(t){return arguments.length?(n=t,vt.tickPadding(t),bt):n},bt.tickSizeInner=function(t){return arguments.length?(o=t,vt.tickSizeInner(t),bt):o},bt.tickSizeOuter=function(t){return arguments.length?(l=t,vt.tickSizeOuter(t),bt):l},bt}function r(){var Q={top:0,right:0,bottom:0,left:0},tt=960,et=500,nt=Math.floor(1e4*Math.random()),e=function(t){return(t.series||t).key},rt=function(t,e){return(t.series||t).value},at=function(t,e){return(t.series||t).count},it=function(t){return e(t)},ot=function(t){return rt(t)},lt=function(t){return isNaN(at(t))?"":" ("+at(t)+")"},n=zt.buildLocality(),r="ltr",a=0,st=0,ct=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},ut=zt.colorLinearGradient,dt=ct,ft=!1,ht=function(t,e){return"sc-series sc-series-"+t.seriesIndex},pt=.3,gt=Pt.scaleLinear(),mt=null,vt=[0],yt=!0,bt=75,xt=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),wt=0,kt=0,Mt=0;function At(t){return t.each(function(o){var c=tt-Q.left-Q.right,u=et-Q.top-Q.bottom,l=Pt.select(this),m=5,s=5,v=0,d=0,y=0;function t(){wt=B(y),kt=O(),Mt=H(y)}function e(){var n=R(kt,wt),r=0,t=4,a=wt-2*pt*kt,i=kt;o.forEach(function(t,e){t.values.forEach(function(t){t._height=0<d?_(n*t.value/d,a):0,t._height<4?(r+=t._height-4,t._height=4):r<0&&4<t._height+r&&(t._height+=r,r=0),t._base=a,t._bottom=i,t._top=t._bottom-t._height,a+=2*pt*t._height,i-=t._height})});var e=mt||Pt.extent(Pt.merge(o.map(function(t){return t.values.map(function(t){return t._top})})).concat(vt));gt.domain(e).range([kt,0])}d=Pt.sum(o,function(t){return t.value}),t(),e();var n,r=l.selectAll("g.sc-wrap").data([o]).enter().append("g").attr("class","sc-wrap sc-funnel"),a=l.select(".sc-wrap.sc-funnel").merge(r),i=r.append("defs"),f=a.select("defs");if(a.attr("transform",zt.translation(Q.left,Q.top)),ft)var h=zt.createTexture(i,nt);At.gradientFill=function(t,e,n){var r=nt+"-"+e,a=ct(t,e);return ut(t,r,n,a,f)};var p=a.selectAll(".sc-series").data(o,function(t){return t.seriesIndex}),g=p.enter().append("g").attr("class","sc-series");p.exit().remove();var b=a.selectAll(".sc-series").merge(g);g.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",1).on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)}),b.attr("class",function(t){return ht(t,t.seriesIndex)}).attr("fill",function(t){return dt(t,t.seriesIndex)}).classed("sc-active",function(t){return"active"===t.active}).classed("sc-inactive",function(t){return"inactive"===t.active}),b.transition().duration(st).style("stroke-opacity",1).style("fill-opacity",1);var x=b.selectAll("g.sc-slice").data(function(t){return t.values},function(t){return t.seriesIndex});x.exit().remove();var w=x.enter().append("g").attr("class","sc-slice"),k=b.selectAll("g.sc-slice").merge(w);w.append("polygon").attr("class","sc-base"),k.select("polygon.sc-base").attr("points",function(t){return N(t,0,wt)}),ft&&(w.append("polygon").attr("class","sc-texture").style("mask","url("+h+")"),k.select("polygon.sc-texture").attr("points",function(t){return N(t,0,wt)})),w.on("mouseover",function(t,e){Pt.select(this).classed("hover",!0);var n=D(Pt.event,t,e);xt.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;xt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){Pt.select(this).classed("hover",!1),xt.call("elementMouseout",this)}).on("click",function(t,e){Pt.event.stopPropagation();var n=D(Pt.event,t,e);xt.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=D(Pt.event,t,e);xt.call("elementDblClick",this,n)});var M=b.selectAll(".sc-label-value").data(function(t){return t.values},function(t){return t.seriesIndex});M.exit().remove();var A=M.enter().append("g").attr("class","sc-label-value"),I=b.selectAll("g.sc-label-value").merge(A);I.attr("transform","translate("+Mt+",0)");var C=I.filter(".sc-label-side");function S(){I.selectAll("polyline").remove(),I.selectAll("rect").remove(),I.selectAll("text").remove(),I.append("rect").attr("class","sc-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("pointer-events","none").style("stroke-width",0).style("fill-opacity",0),I.append("text").text(it).call(K,"sc-label",.85,"middle",X),I.select(".sc-label").call(E,yt?T:P,V,function(t,e){K(t,"sc-label",e,"middle",X)}),I.append("text").text(ot).call(K,"sc-value",.85,"middle",X),I.select(".sc-value").append("tspan").text(lt),I.call($).call(Y).call(J),I.classed("sc-label-side",function(t){return t.tooTall||t.tooWide})}function F(){var e=0,t=0,n,r,a,i;(C=I.filter(".sc-label-side")).selectAll(".sc-label").remove(),C.selectAll("rect").remove(),C.selectAll("polyline").remove();var o=!1;window.SUGAR&&window.SUGAR.hasOwnProperty("App","utils")&&(o=window.SUGAR.App.utils.isDarkMode());var l=o?"#9ba1a6":"#6f777b";for(C.append("text").text(it).call(K,"sc-label",.85,"start",l),C.select(".sc-label").call(E,yt?T:P,yt?G:z,function(t,e){K(t,"sc-label",e,"start",l)}),C.call($),C.select(".sc-value").style("text-anchor","start").style("fill",l),C.call(q),a=(n=C.nodes()).length-1;0<=a;a-=1)if(t=Pt.select(n[a]).data()[0]){if(!e){t.labelBottom=t.labelTop+t.labelHeight+s,e=t.labelBottom;continue}t.labelTop=Math.max(e,t.labelTop),t.labelBottom=t.labelTop+t.labelHeight+s,e=t.labelBottom}if(e&&e-s>Pt.max(gt.range())){for(r=e=0,i=(n=C.nodes()).length;r<i;r+=1)if(t=Pt.select(n[r]).data()[0]){if(!e){t.labelBottom=kt-1,t.labelTop=t.labelBottom-t.labelHeight,e=t.labelTop;continue}t.labelBottom=Math.min(e,t.labelBottom),t.labelTop=t.labelBottom-t.labelHeight-s,e=t.labelTop}e<0&&C.each(function(t){t.labelTop-=e,t.labelBottom-=e})}e=0,C.call(U)}function L(){S(),F()}function D(t,e,n){return{id:nt,key:it(e),value:rt(e),count:at(e),data:e,series:e.series,seriesIndex:e.series.seriesIndex,e:t}}function T(t,e,n,r){var a=e.text(),i=parseFloat(e.attr("dy")),o,l=a.split(/\s+/).reverse(),s=[],c=0,u=n(t,0),d=Pt.select(e.node().parentNode);for(e.text(null);o=l.pop();)s.push(o),e.text(s.join(" ")),e.node().getBoundingClientRect().width>u&&1<s.length&&(s.pop(),e.text(s.join(" ")),s=[o],(e=d.append("text")).text(o).call(r,1.1*++c+i))}function E(t,n,r,a){t.each(function(t){var e=Pt.select(this);n(t,e,r,a)})}function P(t,e,n,r){var a=e.text(),i=parseFloat(e.attr("dy")),o=n(t);e.text(zt.stringEllipsify(a,l,o)).call(r,i)}function z(t){var e=Math.max(c-u/1.1,bt),n=t._bottom,r,a=e+n*pt,i=Math.abs(t.labelBottom-n),o,l,s=a-(m+i*pt+m+m);return Math.max(s,bt)}function N(t,e,n){var r=t._bottom,a=t._top,i=n/2-pt*r,o=n/2-pt*a,l=Mt;return Mt-i+","+r*e+" "+(Mt-o)+","+a*e+" "+(Mt+o)+","+a*e+" "+(Mt+i)+","+r*e}function _(t,e){var n=e/pt/2;return Math.abs(Math.sqrt(t/pt+n*n))-n}function R(t,e){return t*(e-t*pt)}function B(t){return Math.round(Math.max(Math.min(u/1.1,c-t),40))}function O(){return Math.min(1.1*wt,(wt-wt*pt)/(2*pt))}function H(t){return wt/2+t}function V(t){var e,n;return wt-(t._bottom-t._height/2)*pt*2}function G(t,e){var n,r;return Math.max((c-wt)/2,e)+t._top*pt}function W(t){return Pt.select(t).node().getBoundingClientRect()}function Y(t){t.each(function(t){var e=W(this);t.labelHeight=e.height,t.labelWidth=e.width,t.labelTop=t._bottom-t._height/2-t.labelHeight/2,t.labelBottom=t.labelTop+t.labelHeight+s,t.tooWide=t.labelWidth>V(t),t.tooTall=t.labelHeight>t._height-4})}function q(t){t.each(function(t){var e=W(this);t.labelHeight=e.height,t.labelWidth=e.width,t.labelTop=t._top,t.labelBottom=t.labelTop+t.labelHeight+s})}function j(t){for(var e=t.size(),n=t.nodes(),r=n.length-1;0<=r;--r){var a=Pt.select(n[r]),i=a.data()[0],o=r<e-1?Pt.select(n[r+1]).data()[0]:null,l=r?Pt.select(n[r-1]).data()[0]:null,s=Math.round(i.labelHeight)+.5,c=Math.round(i._bottom-i.labelTop)-.5,u=o?o.labelWidth-(i.labelBottom-o.labelBottom)*pt:0,d=i.labelWidth,f=l&&s<c?l.labelWidth:0,h=Math.round(Math.max(u,d,f))+m,p=Math.round(G(i,y))-v-m,g="0,"+s+" "+h+","+s+" "+(h+Math.abs(s-c)*pt)+","+c+" "+p+","+c;i.labelWidth=h,a.attr("points",g)}}function U(t){var e=(c-wt)/2,i=0;t.each(function(t){var e=t._bottom,n=Math.abs(t.labelBottom+m-e)*pt,r=e*pt,a=t.labelWidth+n+3*m-r;i<=a&&(i=a)}),(i=Math.round(10*i)/10)<=0?y=v=e:0<i&&i<e?(v=e-i,y=e):(v=0,y=i)}function X(t,e,n){var r=t.series||t,a=r.seriesIndex||e,i=dt(r),o="inherit"===i?Pt.select("."+ht(r,a).split(" ").join(".")).style("color"):i;return zt.getTextContrast(o,a)}function Z(t){return zt.isRTLChar(t.slice(-1))?"rtl":"ltr"}function K(t,e,n,r,a){t.attr("x",0).attr("y",0).attr("dy",n+"em").attr("class",e).attr("direction",function(){return"ltr"}).style("pointer-events","none").style("text-anchor",r).style("fill",a)}function $(t){t.each(function(t){var e=Pt.select(this),n,r=.85+(e.selectAll(".sc-label").size()+1)-1+"em";e.select(".sc-value").attr("dy",r)})}function J(t){t.each(function(t,e){var n;Pt.select(this).select(".sc-label-box").attr("x",(t.labelWidth+6)/-2).attr("y",-2).attr("width",t.labelWidth+6).attr("height",t.labelHeight+4).attr("rx",2).attr("ry",2).style("fill-opacity",1)})}L(),t(),e(),L(),t(),e(),L(),t(),e(),k.select(".sc-base").attr("points",function(t){return N(t,1,wt)}),ft&&k.selectAll(".sc-texture").attr("points",function(t){return N(t,1,wt)}).style("fill",X),I.attr("transform",function(t){var e,n;return"translate("+(t.tooTall?0:Mt)+","+(t.tooTall?0:t.labelTop)+")"}),C.attr("transform",function(t){return"translate("+v+","+t.labelTop+")"}),C.append("polyline").attr("class","sc-label-leader").style("fill-opacity",0).style("stroke","#999").style("stroke-width",1).style("stroke-opacity",.5),C.selectAll("polyline").call(j)}),At}return At.dispatch=xt,At.id=function(t){return arguments.length?(nt=t,At):nt},At.color=function(t){return arguments.length?(ct=t,At):ct},At.fill=function(t){return arguments.length?(dt=t,At):dt},At.classes=function(t){return arguments.length?(ht=t,At):ht},At.gradient=function(t){return arguments.length?(ut=t,At):ut},At.margin=function(t){return arguments.length?(Q.top=void 0!==t.top?t.top:Q.top,Q.right=void 0!==t.right?t.right:Q.right,Q.bottom=void 0!==t.bottom?t.bottom:Q.bottom,Q.left=void 0!==t.left?t.left:Q.left,At):Q},At.width=function(t){return arguments.length?(tt=t,At):tt},At.height=function(t){return arguments.length?(et=t,At):et},At.getKey=function(t){return arguments.length?(e=t,At):e},At.getValue=function(t){return arguments.length?(rt=t,At):rt},At.getCount=function(t){return arguments.length?(at=t,At):at},At.fmtKey=function(t){return arguments.length?(it=t,At):it},At.fmtValue=function(t){return arguments.length?(ot=t,At):ot},At.fmtCount=function(t){return arguments.length?(lt=t,At):lt},At.direction=function(t){return arguments.length?(r=t,At):r},At.delay=function(t){return arguments.length?(a=t,At):a},At.duration=function(t){return arguments.length?(st=t,At):st},At.locality=function(t){return arguments.length?(n=zt.buildLocality(t),At):n},At.textureFill=function(t){return arguments.length?(ft=t,At):ft},At.yScale=function(t){return arguments.length?(gt=t,At):gt},At.yDomain=function(t){return arguments.length?(mt=t,At):mt},At.forceY=function(t){return arguments.length?(vt=t,At):vt},At.wrapLabels=function(t){return arguments.length?(yt=t,At):yt},At.minLabelWidth=function(t){return arguments.length?(bt=t,At):bt},At}function o(){var V={top:0,right:0,bottom:0,left:0},G=null,W=null,Y=Math.floor(1e4*Math.random()),e=function(t){return t.key},n=function(t){return zt.isNumeric(t.y)?parseFloat(t.y):null},r=function(t){return t.hasOwnProperty("key")?t.key:t},a=function(t){return zt.isNumeric(t.value)?t.value:n(t)},i=function(t){return zt.isNumeric(t.count)?t.count:t},o=function(t){return r(t)},l=function(t){return a(t)},s=function(t){return(" ("+i(t)+")").replace(" ()","")},c=zt.buildLocality(),u="ltr",d=0,q=0,j=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},U=zt.colorRadialGradient,X=j,Z=function(t,e){return"sc-slice sc-series-"+t.seriesIndex},K=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),$=50,f=!0,J=!0,Q=.01,tt=5,h=5,et=90,nt=0,rt=0,at=0,it=-90,ot=90,lt=10;function st(t){return t.each(function(t){var e=G-V.left-V.right,n=W-V.top-V.bottom,r=Pt.select(this),i=Math.min(e/2,n)/((100+lt)/100),a=ot-it,o=Pt.scaleLinear().range([0,1]).domain([rt,at]),l=function(t){return t*i/100},s,c=r.selectAll("g.sc-wrap").data([t]).enter().append("g").attr("class","sc-wrap sc-gauge"),u=r.select(".sc-wrap.sc-gauge").merge(c),d=c.append("defs"),f=u.select("defs");c.append("g").attr("class","sc-group");var h=u.select(".sc-group");c.append("g").attr("class","sc-labels");var p=u.select(".sc-labels");c.append("g").attr("class","sc-pointer");var g=u.select(".sc-pointer"),m=c.append("g").attr("class","sc-odometer"),v=u.select(".sc-odometer");u.attr("transform","translate("+(V.left/2+V.right/2+l(lt))+","+(V.top+l(lt))+")"),st.gradientFill=function(t,e){var n=Y+"-"+e,r={x:0,y:0,r:i,s:$/100,u:"userSpaceOnUse"},a=j(t,e);return U(t,n,r,a,f)},h.attr("transform",O);var y=h.selectAll(".sc-series").data(t),b=y.enter().append("g").attr("class","sc-series");y.exit().remove();var x=h.selectAll(".sc-series").merge(b);b.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)}),x.attr("class",function(t){return Z(t,t.seriesIndex)}).attr("fill",function(t){return X(t,t.seriesIndex)}).classed("sc-active",function(t){return"active"===t.active}).classed("sc-inactive",function(t){return"inactive"===t.active});var w=Pt.arc().innerRadius(l($)).outerRadius(i).startAngle(R).endAngle(B),k=x.selectAll("g.sc-slice").data(function(t){return t.values},function(t){return t.seriesIndex});k.exit().remove();var M=k.enter().append("g").attr("class","sc-slice"),A=x.selectAll("g.sc-slice").merge(M);function I(t,e,n){return{point:e,index:n,e:Pt.event,id:Y}}M.append("path").attr("class","sc-base").attr("d",w).on("mouseover",function(t,e){Pt.select(this).classed("hover",!0);var n=I(Pt.event,t,e);K.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;K.call("elementMousemove",this,n)}).on("mouseout",function(t,e){Pt.select(this).classed("hover",!1),K.call("elementMouseout",this)}).on("click",function(t,e){Pt.event.stopPropagation();var n=I(Pt.event,t,e);K.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=I(Pt.event,t,e);K.call("elementDblClick",this,n)}),A.select(".sc-base").attr("d",w).style("stroke-opacity",1);var C=[{x:0,y:rt,y0:rt,y1:rt}].concat(t.map(function(t){return t.values[0]}));p.attr("transform",O);var S=p.selectAll("text").data(C),F=S.enter().append("text"),L;if(S.exit().remove(),p.selectAll("text").merge(F).attr("transform",function(t){return"rotate("+_(t.y1)+") translate(0,"+(l(-1.5)-i)+")"}).text(function(t){return t.y1}).style("fill-opacity",H).style("text-anchor","middle").style("font-size",l(.6)+"em"),J){var D=[[Math.round(l(tt)/2),0],[0,-Math.round(l(et))],[-Math.round(l(tt)/2),0],[0,Math.round(l(tt))],[Math.round(l(tt)/2),0]];g.attr("transform",O);var T=g.selectAll("path").data([D]),E=T.enter().append("path").attr("transform","rotate("+it+")");T.exit().remove();var P=g.selectAll("path").merge(E);P.attr("d",Pt.line()),m.append("text").attr("class","sc-odom sc-odomText").attr("x",0).attr("y",0).style("text-anchor","middle").style("stroke","none").style("fill","black"),v.select(".sc-odomText").style("font-size",l(.7)+"em").text(nt),m.insert("path",".sc-odomText").attr("class","sc-odom sc-odomBox").attr("fill","#EFF").attr("stroke","black").attr("stroke-width","2px").attr("opacity",.8),v.call(N)}else g.selectAll("path").remove(),v.select(".sc-odomText").remove(),v.select(".sc-odomBox").remove();function z(t){nt=t,P.transition().duration(q).ease(Pt.easeElastic).attr("transform","rotate("+_(t)+")"),v.select(".sc-odomText").text(nt),v.call(N)}function N(t){var e=t.select(".sc-odomText").node().getBoundingClientRect();t.select(".sc-odomBox").attr("d",zt.roundedRectangle(-e.width/2,-e.height+l(1.5),e.width+l(4),e.height+l(2),l(2))),t.attr("transform","translate("+i+","+(V.top+l(70)+e.height)+")")}function _(t){return it+o(t)*a}function R(t){return zt.angleToRadians(_(t.y0))}function B(t){return zt.angleToRadians(_(t.y1))}function O(){return"translate("+i+","+i+")"}function H(t,e){var n=(B(t)-R(t))/(2*Math.PI);return 0===e||Q<n?1:0}st.setGaugePointer=z}),st}return st.dispatch=K,st.id=function(t){return arguments.length?(Y=t,st):Y},st.color=function(t){return arguments.length?(j=t,st):j},st.fill=function(t){return arguments.length?(X=t,st):X},st.classes=function(t){return arguments.length?(Z=t,st):Z},st.gradient=function(t){return arguments.length?(U=t,st):U},st.margin=function(t){return arguments.length?(V.top=void 0!==t.top?t.top:V.top,V.right=void 0!==t.right?t.right:V.right,V.bottom=void 0!==t.bottom?t.bottom:V.bottom,V.left=void 0!==t.left?t.left:V.left,st):V},st.width=function(t){return arguments.length?(G=t,st):G},st.height=function(t){return arguments.length?(W=t,st):W},st.x=function(t){return arguments.length?(e=t,st):e},st.y=function(t){return arguments.length?(n=zt.functor(t),st):n},st.getKey=function(t){return arguments.length?(r=t,st):r},st.getValue=function(t){return arguments.length?(a=t,st):a},st.getCount=function(t){return arguments.length?(i=t,st):i},st.fmtKey=function(t){return arguments.length?(o=t,st):o},st.fmtValue=function(t){return arguments.length?(l=t,st):l},st.fmtCount=function(t){return arguments.length?(s=t,st):s},st.direction=function(t){return arguments.length?(u=t,st):u},st.delay=function(t){return arguments.length?(d=t,st):d},st.duration=function(t){return arguments.length?(q=t,st):q},st.locality=function(t){return arguments.length?(c=zt.buildLocality(t),st):c},st.showLabels=function(t){return arguments.length?(f=t,st):f},st.labelThreshold=function(t){return arguments.length?(Q=t,st):Q},st.ringWidth=function(t){return arguments.length?($=t,st):$},st.pointerWidth=function(t){return arguments.length?(tt=t,st):tt},st.pointerTailLength=function(t){return arguments.length?(h=t,st):h},st.pointerHeadLength=function(t){return arguments.length?(et=t,st):et},st.setPointer=function(t){return arguments.length?(st.setGaugePointer(t),st):st.setGaugePointer},st.showPointer=function(t){return arguments.length?(J=t,st):J},st.minValue=function(t){return arguments.length?(rt=t,st):rt},st.maxValue=function(t){return arguments.length?(at=t,st):at},st.minAngle=function(t){return arguments.length?(it=t,st):it},st.maxAngle=function(t){return arguments.length?(ot=t,st):ot},st.labelInset=function(t){return arguments.length?(lt=t,st):lt},st}function z(){var q={top:10,right:10,bottom:15,left:10},e=0,j=0,U="right",y="ltr",X="start",Z=6,K=2*Z,$=10,J=12,Q=5,tt=!0,et=!1,nt=!1,rt=!1,at=3,b=!1,x=c(),it=Math.floor(1e4*Math.random()),w=function(t){return 0<t.key.length||!isNaN(parseFloat(t.key))&&zt.isNumeric(t.key)?t.key:x.noLabel},k=function(t){return zt.defaultColor()(t,t.seriesIndex)},M=function(t){return"sc-series sc-series-"+t.seriesIndex},A=Pt.dispatch("legendClick","legendMouseover","legendMouseout","toggleMenu","closeMenu"),ot=0,lt=!1,st=!0,ct=0,ut=function(){};function dt(t){return t.each(function(t){var e=Pt.select(this),C=[],S=0,F=0,L="",D="start"===X,T="rtl"===y,E=J*(D?1:.6),P=$+(D?K+Q:0);if(!t||!t.length||!t.filter(function(t){return!t.values||t.values.length}).length)return dt;var n=t.filter(function(t){return t.hasOwnProperty("seriesIndex")}).length;t.filter(function(t){return!t.hasOwnProperty("seriesIndex")}).map(function(t){t.seriesIndex=n,n+=1}),b=!0,L=t[0].type&&"bar"!==t[0].type?"line":"bar",U=T&&"center"!==U?"left"===U?"right":"left":U;var r,a=e.selectAll("g.sc-wrap").data([t]).enter().append("g").attr("class","sc-wrap sc-menu"),i=e.select("g.sc-wrap").merge(a);i.attr("transform","translate(0,0)");var o=a.append("defs"),l=i.select("defs");o.append("clipPath").attr("id","sc-edge-clip-"+it).append("rect");var z=i.select("#sc-edge-clip-"+it+" rect");a.append("rect").attr("class","sc-menu-background");var N=i.select(".sc-menu-background"),_=zt.dropShadow("menu_back_"+it,l,{blur:2});a.append("text").attr("class","sc-menu-link");var R=i.select(".sc-menu-link"),s=a.append("g").attr("class","sc-menu-mask"),B=i.select(".sc-menu-mask");s.append("g").attr("class","sc-group");var O=i.select(".sc-group"),c=O.selectAll(".sc-series").data(zt.identity,function(t){return t.seriesIndex});c.exit().remove();var u=c.enter().append("g").attr("class","sc-series").on("mouseover",function(t){A.call("legendMouseover",this,t)}).on("mouseout",function(t){A.call("legendMouseout",this,t)}).on("click",function(t){Pt.event.preventDefault(),Pt.event.stopPropagation(),A.call("legendClick",this,t)}),H=O.selectAll(".sc-series").merge(u);H.attr("class",M).attr("fill",k).attr("stroke",k);var d=u.append("rect").attr("x",(K+Q)/-2).attr("y",(K+E)/-2).attr("width",K+Q).attr("height",K+E).style("fill","#FFE").style("stroke-width",0).style("opacity",.1),V=H.selectAll("rect").merge(d),f=u.selectAll("circle").data(function(t){return"line"===L?[t,t]:[t]});f.exit().remove();var h=f.enter().append("circle").attr("r",Z).style("stroke-width","2px"),G=H.selectAll("circle").merge(h),p=u.selectAll("line").data("line"===L?function(t){return[t]}:[]);p.exit().remove();var g=p.enter().append("line").attr("x0",0).attr("y0",0).attr("y1",0).style("stroke-width","4px"),W=H.selectAll("line").merge(g),m=u.append("text").attr("dx",0),Y=H.selectAll("text").merge(m);function v(){N.style("opacity",.9*ot).style("display",ot?"inline":"none"),O.style("opacity",ot).style("display",ot?"inline":"none"),R.text(1===ot?x.close:x.open)}Y.attr("dy",D?".36em":".71em").text(w),z.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0),N.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0).style("opacity",0).style("pointer-events","all").on("click",function(){Pt.event.stopPropagation()}),R.text(1===ot?x.close:x.open).attr("text-anchor","left"===U?T?"end":"start":T?"start":"end").attr("dy",".36em").attr("dx",0).style("opacity",0).on("click",function(t,e){Pt.event.preventDefault(),Pt.event.stopPropagation(),A.call("toggleMenu",this,t,e)}),H.classed("disabled",function(t){return t.disabled}),dt.calcMaxWidth=function(){return C=[],O.style("display","inline"),Y.each(function(){var t=Pt.select(this).node().getBoundingClientRect().width;C.push(Math.max(Math.floor(t),"line"===L?50:20))}),dt.width(Pt.sum(C)+C.length*P-$),dt.width()},dt.getLineHeight=function(){var t;return O.style("display","inline"),Math.floor(Y.node().getBoundingClientRect().height)},dt.arrange=function(t){function n(t){return C[t]+P}function e(t){return C[t]+P-$}function r(t){return t?1:-1}0===C.length&&this.calcMaxWidth();var a=C.length,i=1,o=a,l=[],s=[],c=t-q.left-q.right,u=j,d=0,f=this.getLineHeight(),h=K+(D?0:f)+E,p=7,g=7,m=7,v=7,y=0,b=0,x,w,k;if(tt){for(;0<o;){for(l=[],x=0;x<a;x+=1)n(x)>(l[x%o]||0)&&(l[x%o]=n(x));if(Pt.sum(l)-$<c)break;o-=1}for(o=o||1,i=Math.ceil(a/o),d=Pt.sum(l)-$,x=0;x<a;x+=1)w=x%o,D?0===w?y=T?d:0:y+=l[w-1]*r(!T):0===w?y=(T?d:0)+(l[w]-$)/2*r(!T):y+=(l[w-1]+l[w])/2*r(!T),b=Math.floor(x/o)*h,s[x]={x:y,y:b}}else if(T)for(y=c,x=0;x<a;x+=1)y-e(x)<0&&(d=Math.max(d,e(x)),y=c,x&&(i+=1)),y-e(x)>d&&(d=y-e(x)),s[x]={x:y,y:(i-1)*(E+K)},y-=n(x);else for(x=y=0;x<a;x+=1)x&&y+e(x)>c&&(y=0,i+=1),y+e(x)>d&&(d=y+e(x)),s[x]={x:y,y:(i-1)*(E+K)},y+=n(x);if(!nt&&(et||i<=at)){switch(ot=0,lt=rt=!1,dt.width(q.left+d+q.right).height(q.top+i*h-E+q.bottom),U){case"left":k=0;break;case"center":k=(t-dt.width())/2;break;case"right":k=0}z.attr("y",0).attr("width",dt.width()).attr("height",dt.height()),N.attr("x",k).attr("width",dt.width()).attr("height",dt.height()).attr("rx",0).attr("ry",0).attr("filter","none").style("display","inline").style("opacity",0),B.attr("clip-path","none").attr("transform",function(){var t,e;return"translate("+(k+q.left+(D?Z*r(!T):0))+","+(q.top+p)+")"}),O.style("opacity",1).style("display","inline"),H.attr("transform",function(t){var e=s[t.seriesIndex];return"translate("+e.x+","+e.y+")"}),V.attr("x",function(t){var e=0;return D?(e=(K+$)/2*r(T),e-=T?n(t.seriesIndex):0):e=n(t.seriesIndex)/-2,e}).attr("width",function(t){return n(t.seriesIndex)}).attr("height",h),G.attr("r",function(t){return"dash"===t.type?0:Z}).attr("transform",function(t,e){var n;return"translate("+(D||"bar"===L?0:3*Z*r(e))+",0)"}),W.attr("x1",function(t){return"dash"===t.type?8*Z:4*Z}).attr("transform",function(t){var e;return"translate("+Z*("dash"===t.type?-4:-2)+",0)"}).style("stroke-dasharray",function(t){return"dash"===t.type?"8, 8":"none"}).style("stroke-dashoffset",-4),Y.attr("dy",D?".36em":".71em").attr("text-anchor",X).attr("transform",function(){var t,e;return"translate("+(D?(Z+Q)*r(!T):0)+","+(D?0:(K+E)/2)+")"})}else lt=rt=!0,dt.width(v+Pt.max(C)+K+Q+g).height(q.top+K+q.top),S=p+K*a+J*(a-1)+m,F=Math.min(u-dt.height(),S),z.attr("x",.5-p-Z).attr("y",.5-p-Z).attr("width",dt.width()).attr("height",F),N.attr("x",.5).attr("y",.5+dt.height()).attr("width",dt.width()).attr("height",F).attr("rx",2).attr("ry",2).attr("filter",_).style("opacity",.9*ot).style("display",ot?"inline":"none"),R.attr("transform",function(){var t,e;return"translate("+("left"===U?.5:.5+dt.width())+","+(q.top+Z)+")"}).style("opacity",1),B.attr("clip-path","url(#sc-edge-clip-"+it+")").attr("transform",function(){var t,e;return"translate("+(v+Z)+","+(dt.height()+p+Z)+")"}),O.style("opacity",ot).style("display",ot?"inline":"none").attr("transform",function(){var t;return"translate("+(T?Pt.max(C)+Z:0)+",0)"}),H.attr("transform",function(t,e){var n;return"translate(0,"+e*(K+J)+")"}),V.attr("x",function(t){var e=(K+$)/2*r(T);return e-=T?n(t.seriesIndex):0}).attr("width",function(t){return n(t.seriesIndex)}).attr("height",K+E),G.attr("r",function(t){return"dash"===t.type?0:"line"===t.type?Z-2:Z}).attr("transform",""),W.attr("x1",16).attr("transform","translate(-8,0)").style("stroke-dasharray",function(t){return"dash"===t.type?"6, 4, 6":"none"}).style("stroke-dashoffset",0),Y.attr("text-anchor","start").attr("dy",".36em").attr("transform",function(){var t;return"translate("+(Z+Q)*r(!T)+",0)"});if(st){var M=F-S,A=function(t){if(t){var e=Pt.zoom().on("zoom",I);N.call(e),O.call(e)}else N.on(".zoom",null),O.on(".zoom",null)},I=function(){var t=Pt.event,e,n=0,r=0,a=0,i="";!t||"click"!==t.type&&"zoom"!==t.type||(e=t.sourceEvent,"zoom"===t.type&&e&&("wheel"===e.type?(n=-e.deltaX,r=-e.deltaY,a=ct+(Math.abs(n)>Math.abs(r)?n:r)):"mousemove"===e.type?(n=e.movementX,r=e.movementY,a=ct+(Math.abs(n)>Math.abs(r)?n:r)):"touchmove"===e.type&&(n=t.transform.x,r=t.transform.y,a=Math.abs(n)>Math.abs(r)?n:r)),ct=Math.min(Math.max(a,M),0),i="translate("+(T?Pt.max(C)+Z:0)+","+ct+")",(0<a||a<M)&&ut(Math.abs(r)>Math.abs(n)?r:0),O.attr("transform",i))};A(lt)}},A.on("toggleMenu",function(){Pt.event.stopPropagation(),ot=1-ot,v()}),A.on("closeMenu",function(){1===ot&&(ot=0,v())})}),dt}return dt.dispatch=A,dt.margin=function(t){return arguments.length?(q.top=void 0!==t.top?t.top:q.top,q.right=void 0!==t.right?t.right:q.right,q.bottom=void 0!==t.bottom?t.bottom:q.bottom,q.left=void 0!==t.left?t.left:q.left,dt):q},dt.width=function(t){return arguments.length?(e=Math.round(t),dt):e},dt.height=function(t){return arguments.length?(j=Math.round(t),dt):j},dt.id=function(t){return arguments.length?(it=t,dt):it},dt.key=function(t){return arguments.length?(w=t,dt):w},dt.color=function(t){return arguments.length?(k=zt.getColor(t),dt):k},dt.classes=function(t){return arguments.length?(M=t,dt):M},dt.align=function(t){return arguments.length?(U=t,dt):U},dt.position=function(t){return arguments.length?(X=t,dt):X},dt.showAll=function(t){return arguments.length?(et=t,dt):et},dt.showMenu=function(t){return arguments.length?(nt=t,dt):nt},dt.collapsed=function(){return rt},dt.rowsCount=function(t){return arguments.length?(at=t,dt):at},dt.spacing=function(t){return arguments.length?(J=t,dt):J},dt.gutter=function(t){return arguments.length?($=t,dt):$},dt.radius=function(t){return arguments.length?(Z=t,dt):Z},dt.strings=function(t){return arguments.length?(x=t,dt):x},dt.equalColumns=function(t){return arguments.length?(tt=t,dt):tt},dt.enabled=function(t){return arguments.length?(b=t,dt):b},dt.direction=function(t){return arguments.length?(y=t,dt):y},dt}function l(){var y=960,b=500,x=null,w=z(),k=z(),M="",A=[],I=[],C=!1,S=!1,F=!1,L="left",D="right",T="ltr",E=c();function P(t){return t.each(function(){var t=Pt.select(this),e=t.select(".sc-chart-wrap"),n=e.select(".sc-title-wrap"),r=e.select(".sc-controls-wrap"),a=e.select(".sc-legend-wrap"),i=x.margin(),o=0,l=0,s=0,c=0,u=0,d={width:0,height:0,top:0,left:0},f=0,h=0,p=0;if(C=C&&M&&0<M.length,n.select(".sc-title").remove(),C&&(n.append("text").attr("class","sc-title").attr("x","rtl"===T?y:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black").text(M),(d=zt.getTextBBox(n.select(".sc-title"),!0)).top-=t.node().getBoundingClientRect().top,f=d.height),S&&(w.id("controls_"+x.id()).strings(E.controls).color(["#444"]).align(L).height(b-f),r.datum(A).call(w),s=w.calcMaxWidth()),F&&(k.id("legend_"+x.id()).strings(E.legend).align(D).height(b-f),a.datum(I).call(k),c=k.calcMaxWidth()),u=y/(s+c),s=Math.floor(s*u),c=Math.floor(c*u),S&&(w.arrange(s),c=y-w.width()),F&&(k.arrange(c),s=y-k.width()),S&&(o="rtl"===T?y-w.width():0,l=C?d.height-i.top+d.top:0-w.margin().top,r.attr("transform",zt.translation(o,l)),h=w.height()-(C?0:w.margin().top)),F){var g=zt.getTextBBox(a.select(".sc-menu-link")),m=y-d.width-6,v=!!(C&&!S&&k.collapsed()&&m>g.width);o="rtl"===T||!k.collapsed()&&"center"===D?0:y-k.width(),v?(l=d.height-k.height()/2-g.height/2,l-=i.top-d.top):l=C?d.height-i.top+d.top:0-k.margin().top,a.attr("transform",zt.translation(o,l)),p=v?k.margin().bottom:k.height()-(C?0:k.margin().top)}P.getHeight=function(){var t;return f+Math.max(h,p,10)}}),P}return P.controls=w,P.legend=k,P.chart=function(t){return arguments.length?(x=t,P):x},P.width=function(t){return arguments.length?(y=t,P):y},P.height=function(t){return arguments.length?(b=t,P):b},P.title=function(t){return arguments.length?(M=t,P):M},P.controlsData=function(t){return arguments.length?(A=t,P):A},P.legendData=function(t){return arguments.length?(I=t,P):I},P.showTitle=function(t){return arguments.length?(C=t,P):C},P.showControls=function(t){return arguments.length?(S=t,P):S},P.showLegend=function(t){return arguments.length?(F=t,P):F},P.alignControls=function(t){return arguments.length?(L=t,P):L},P.alignLegend=function(t){return arguments.length?(D=t,P):D},P.direction=function(t){return arguments.length?(T=t,k.direction(t),w.direction(t),P):T},P.strings=function(t){return arguments.length?(E=c(t),k.strings(E.legend),w.strings(E.controls),P):E},P}function a(){var k=Math.floor(1e5*Math.random()),M=960,A=500,I={top:0,right:0,bottom:0,left:0},C=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},S=zt.colorRadialGradient,F=C,L=function(t,e){return"sc-series sc-series-"+t.seriesIndex},D=Pt.scaleLinear(),T=Pt.scaleLinear(),E=Pt.scaleLinear(),P=function(t){return t.x},z=function(t){return t.y},N=function(t){return t.size||1},_=[],R=[],B=[],O=null,H=null,V=null,G=[1*Math.PI,25*Math.PI],W=function(t,e){return Math.sqrt(E(N(t,e))/Math.PI)},Y=function(t,e){return E(N(t,e))},q=function(t){return t.shape||"circle"},e=zt.buildLocality(),j=!0,U=!0,X=function(t){return!t.notActive},Z=!1,K=.1,n="ltr",$=!1,r=0,J=0,Q=!0,tt=!0,et=!1,nt=Pt.dispatch("elementClick","elementMouseover","elementMouseout","elementMousemove"),rt=!1,at,it,ot,lt,st=!1;function ct(t){return t.each(function(s){var n=M-I.left-I.right,r=A-I.top-I.bottom,e=Pt.select(this),t=Pt.transition("scatter").duration(J).ease(Pt.easeLinear);st=!0;var a=O&&H&&V?[]:Pt.merge(s.map(function(t){return t.values.map(function(t,e){return{x:P(t,e),y:z(t,e),size:N(t,e)}})}));function i(){if(D.domain(O||Pt.extent(a.map(P).concat(_))),T.domain(H||Pt.extent(a.map(z).concat(R))),Z&&s[0])if(-1===K){var t=Math.sqrt(G[1]/Math.PI);D.range([0+t,n-t]),T.range([r-t,0+t])}else K<1?(D.range([(n*K+n)/(2*s[0].values.length),n-n*(1+K)/(2*s[0].values.length)]),T.range([r,0])):(D.range([K,n-K]),T.range([r-K,K]));else D.range([0,n]),T.range([r,0]);rt&&T.nice(),et=D.domain()[0]===D.domain()[1]||T.domain()[0]===T.domain()[1],D.domain()[0]===D.domain()[1]&&(D.domain()[0]?D.domain([D.domain()[0]-.1*D.domain()[0],D.domain()[1]+.1*D.domain()[1]]):D.domain([-1,1])),T.domain()[0]===T.domain()[1]&&(T.domain()[0]?T.domain([T.domain()[0]-.1*T.domain()[0],T.domain()[1]+.1*T.domain()[1]]):T.domain([-1,1])),E.domain(V||Pt.extent(a.map(function(t){return t.size}).concat(B))).range(G),E.domain().length<2&&E.domain([0,E.domain()]),at=at||D,it=it||T,ot=ot||E}ct.resetDimensions=function(t,e){A=e,n=(M=t)-I.left-I.right,r=e-I.top-I.bottom,i()},i();var o,l=e.selectAll("g.sc-wrap.sc-scatter").data([s]).enter().append("g").attr("class","sc-wrap sc-scatter"),c=e.select(".sc-wrap.sc-scatter").merge(l),u=l.append("defs"),d=c.select("defs");l.append("g").attr("class","sc-group");var f=c.select(".sc-group");l.append("g").attr("class","sc-point-paths");var h=c.select(".sc-point-paths");c.classed("sc-single-point",et).attr("transform",zt.translation(I.left,I.top)),u.append("clipPath").attr("id","sc-edge-clip-"+k).append("rect"),u.append("clipPath").attr("id","sc-points-clip-"+k).attr("class","sc-point-clips"),d.select("#sc-edge-clip-"+k+" rect").attr("width",n).attr("height",r),c.attr("clip-path",$?"url(#sc-edge-clip-"+k+")":""),ct.gradientFill=function(t,e){var n=k+"-"+e,r={x:.5,y:.5,r:.5,s:0,u:"objectBoundingBox"},a=C(t,e);return S(t,n,r,a,d)};var p=f.selectAll(".sc-series").data(zt.identity,function(t){return t.seriesIndex}),g=p.enter().append("g").attr("class","sc-series").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),m=f.selectAll(".sc-series").merge(g),v,y,b;function x(t,e,n,r){var a;return{pointIndex:n,point:e,seriesIndex:r.seriesIndex,series:r,groupIndex:e.group,id:k,e:t}}function w(){if(!U)return!1;if(!0===Q){var n=Pt.merge(s.map(function(t,i){return t.values.map(function(t,e){var n=P(t,e),r=z(t,e),a=t.group;return[D(n)+1e-4*Math.random(),T(r)+1e-4*Math.random(),t,i,a,e]}).filter(function(t,e){return X(t[4],e)})}));n.length<=3&&(n.push([D.range()[0]-20,T.range()[0]-20,null,null,null,null]),n.push([D.range()[1]+20,T.range()[1]+20,null,null,null,null]),n.push([D.range()[0]-20,T.range()[0]+20,null,null,null,null]),n.push([D.range()[1]+20,T.range()[1]-20,null,null,null,null]));try{var t=Pt.voronoi().extent([[-10,-10],[M+10,A+10]]).polygons(n).map(function(t,e){return{data:t,seriesIndex:n[e][3],groupIndex:n[e][4],pointIndex:n[e][5]}}).filter(function(t){return null!==t.seriesIndex})}catch(t){Q=!1,console.warn("Sucrose: [ERROR] D3 Voronoi paths in line chart are disabled due to error.")}}if(Q){if(tt){var e=c.select("#sc-points-clip-"+k).selectAll("circle").data(n),r=e.enter().append("circle"),a=c.select("#sc-points-clip-"+k).selectAll("circle").merge(r);e.exit().remove(),a.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",function(t,e){return t[2]?W(t[2],e):25}),h.attr("clip-path","url(#sc-points-clip-"+k+")")}var i=h.selectAll("path").data(t),o=i.enter().append("path").attr("class",function(t,e){return"sc-path-"+e}),l=h.selectAll("path").merge(o);i.exit().remove(),l.attr("d",function(t){return t?"M"+t.data.join("L")+"Z":null}).on("mouseover",function(t){var e=s[t.seriesIndex],n=t.pointIndex,r=e.values[n];if(st||!e)return 0;var a=x(Pt.event,r,n,e);nt.call("elementMouseover",this,a)}).on("mousemove",function(t){var e=Pt.event;nt.call("elementMousemove",this,e)}).on("mouseout",function(t){var e=s[t.seriesIndex],n=t.pointIndex,r=e.values[n];if(st||!e)return 0;var a=x(Pt.event,r,n,e);nt.call("elementMouseout",this,a)}).on("click",function(t){var e=s[t.seriesIndex],n=t.pointIndex,r=e.values[n];if(st||!e)return 0;var a=x(Pt.event,r,n,e);nt.call("elementClick",this,a)})}else m.selectAll(".sc-point").style("pointer-events","auto").on("mouseover",function(t,e){var n=Pt.select(this.parentNode).datum(),r=n.values[e];if(st||!n)return 0;var a=x(Pt.event,r,e,n);nt.call("elementMouseover",this,a)}).on("mousemove",function(t,e){var n=Pt.event;nt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){var n=Pt.select(this.parentNode).datum(),r=n.values[e];if(st||!n)return 0;var a=x(Pt.event,r,e,n);nt.call("elementMouseout",this,a)}).on("click",function(t,e){var n=Pt.select(this.parentNode).datum(),r=n.values[e];if(st||!n)return 0;var a=x(Pt.event,r,e,n);nt.call("elementClick",this,a)});st=!1}m.attr("class",function(t,e){return L(t,t.seriesIndex)}).attr("fill",function(t,e){return F(t,t.seriesIndex)}).attr("stroke",function(t,e){return F(t,t.seriesIndex)}).classed("hover",function(t){return t.hover}),m.transition(t).style("stroke-opacity",1).style("fill-opacity",1),p.exit().transition(t).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),j?(y=(v=m.selectAll("circle.sc-point").data(function(t){return t.values})).enter().append("circle").attr("class",function(t,e){return"sc-point sc-enter sc-point-"+e}).attr("r",W),(b=m.selectAll(".sc-point").merge(y)).filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("cx",function(t,e){return D(P(t,e))}).attr("cy",function(t,e){return T(0)}),b.transition(t).attr("cx",function(t,e){return D(P(t,e))}).attr("cy",function(t,e){return T(z(t,e))}).on("end",function(t){Pt.select(this).classed("sc-enter",!1).classed("sc-active",function(t){return"active"===t.active})}),p.exit().transition(t).selectAll(".sc-point").attr("cx",function(t,e){return D(P(t,e))}).attr("cy",function(t,e){return T(0)}).remove()):(y=(v=m.selectAll("path.sc-point").data(function(t){return t.values})).enter().append("path").attr("class",function(t,e){return"sc-point sc-enter sc-point-"+e}).attr("d",Pt.symbol().type(q).size(Y)),(b=m.selectAll(".sc-point").merge(y)).filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("transform",function(t,e){return"translate("+at(P(t,e))+","+T(0)+")"}),b.transition(t).attr("transform",function(t,e){return"translate("+D(P(t,e))+","+T(z(t,e))+")"}).attr("d",Pt.symbol().type(q).size(Y)).on("end",function(t){Pt.select(this).classed("sc-enter",!1).classed("active",function(t){return"active"===t.active})}),p.exit().transition(t).selectAll(".sc-point").attr("transform",function(t,e){return"translate("+D(P(t,e))+","+T(0)+")"}).remove()),clearTimeout(lt),lt=setTimeout(w,300),at=D.copy(),it=T.copy(),ot=E.copy(),nt.on("elementMouseover.point",function(t){U&&e.select(".sc-series-"+t.seriesIndex+" .sc-point-"+t.pointIndex).classed("hover",!0)}),nt.on("elementMouseout.point",function(t){U&&e.select(".sc-series-"+t.seriesIndex+" .sc-point-"+t.pointIndex).classed("hover",!1)})}),ct}return ct.dispatch=nt,ct.id=function(t){return arguments.length?(k=t,ct):k},ct.color=function(t){return arguments.length?(C=t,ct):C},ct.fill=function(t){return arguments.length?(F=t,ct):F},ct.classes=function(t){return arguments.length?(L=t,ct):L},ct.gradient=function(t){return arguments.length?(S=t,ct):S},ct.x=function(t){return arguments.length?(P=zt.functor(t),ct):P},ct.y=function(t){return arguments.length?(z=zt.functor(t),ct):z},ct.z=function(t){return arguments.length?(N=zt.functor(t),ct):N},ct.xScale=function(t){return arguments.length?(D=t,ct):D},ct.yScale=function(t){return arguments.length?(T=t,ct):T},ct.zScale=function(t){return arguments.length?(E=t,ct):E},ct.xDomain=function(t){return arguments.length?(O=t,ct):O},ct.yDomain=function(t){return arguments.length?(H=t,ct):H},ct.zDomain=function(t){return arguments.length?(V=t,ct):V},ct.forceX=function(t){return arguments.length?(_=t,ct):_},ct.forceY=function(t){return arguments.length?(R=t,ct):R},ct.forceZ=function(t){return arguments.length?(B=t,ct):B},ct.size=function(t){return arguments.length?(N=zt.functor(t),ct):N},ct.sizeRange=function(t){return arguments.length?(G=t,ct):G},ct.sizeDomain=function(t){return arguments.length?(V=t,ct):V},ct.forceSize=function(t){return arguments.length?(B=t,ct):B},ct.margin=function(t){if(!arguments.length)return I;for(var e in t)t.hasOwnProperty(e)&&(I[e]=t[e]);return ct},ct.width=function(t){return arguments.length?(M=t,ct):M},ct.height=function(t){return arguments.length?(A=t,ct):A},ct.interactive=function(t){return arguments.length?(U=t,ct):U},ct.pointActive=function(t){return arguments.length?(X=t,ct):X},ct.padData=function(t){return arguments.length?(Z=t,ct):Z},ct.padDataOuter=function(t){return arguments.length?(K=t,ct):K},ct.clipEdge=function(t){return arguments.length?($=t,ct):$},ct.clipVoronoi=function(t){return arguments.length?(tt=t,ct):tt},ct.useVoronoi=function(t){return arguments.length?(!1===(Q=t)&&(tt=!1),ct):Q},ct.circleRadius=function(t){return arguments.length?(W=t,ct):W},ct.clipRadius=function(t){return arguments.length?(W=t,ct):W},ct.shape=function(t){return arguments.length?(q=t,ct):q},ct.onlyCircles=function(t){return arguments.length?(j=t,ct):j},ct.singlePoint=function(t){return arguments.length?(et=t,ct):et},ct.delay=function(t){return arguments.length?(r=t,ct):r},ct.duration=function(t){return arguments.length?(J=t,ct):J},ct.direction=function(t){return arguments.length?(n=t,ct):n},ct.nice=function(t){return arguments.length?(rt=t,ct):rt},ct.locality=function(t){return arguments.length?(e=zt.buildLocality(t),ct):e},ct}function y(){var I=a(),C={top:0,right:0,bottom:0,left:0},S=960,F=500,L=function(t){return t.x},D=function(t){return t.y},T,E,P=function(t,e){return!isNaN(D(t,e))&&null!==D(t,e)},z=function(t){return t&&t.area||!1},N="linear",_=!1,e=0,R=0,B=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},O=null,n=B,H=function(t,e){return"sc-series sc-series-"+t.seriesIndex};function V(t){return t.each(function(t){var e=Pt.select(this),n=S-C.left-C.right,r=F-C.top-C.bottom,a="linear"===N?Pt.curveLinear:"cardinal"===N?Pt.curveCardinal:"monotone"===N?Pt.curveMonotoneX:"basis"===N?Pt.curveBasis:Pt.curveNatural,i=Pt.area().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y0(function(t,e){return E(D(t,e))}).y1(function(t,e){return E(E.domain()[0]<=0?0<=E.domain()[1]?0:E.domain()[1]:E.domain()[0])}),o=Pt.area().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y0(function(t,e){return E(0)}).y1(function(t,e){return E(E.domain()[0]<=0?0<=E.domain()[1]?0:E.domain()[1]:E.domain()[0])}),l=Pt.transition("points").duration(R).ease(Pt.easeLinear),s=I.id();O=function(t,e,n){return zt.colorLinearGradient(t,I.id()+"-"+e,n,B(t,e),d.select("defs"))},T=I.xScale(),E=I.yScale(),V.resetDimensions=function(t,e){F=e,n=(S=t)-C.left-C.right,r=e-C.top-C.bottom,I.resetDimensions(t,e)};var c,u=e.selectAll("g.sc-wrap.sc-line").data([t]).enter().append("g").attr("class","sc-wrap sc-line"),d=e.select(".sc-wrap.sc-line").merge(u),f=u.append("defs");u.append("g").attr("class","sc-group");var h=d.select(".sc-group");u.append("g").attr("class","sc-scatter-wrap");var p=d.select(".sc-scatter-wrap");d.attr("transform",zt.translation(C.left,C.top)),f.append("clipPath").attr("id","sc-edge-clip-"+s).append("rect"),d.select("#sc-edge-clip-"+s+" rect").attr("width",n).attr("height",r),d.attr("clip-path",_?"url(#sc-edge-clip-"+s+")":""),p.attr("clip-path",_?"url(#sc-edge-clip-"+s+")":"");var g=h.selectAll("g.sc-series").data(t,function(t){return t.seriesIndex}),m=g.enter().append("g").attr("class","sc-series").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),v=h.selectAll(".sc-series").merge(m);v.classed("hover",function(t){return t.hover}).attr("class",H).attr("fill",B).attr("stroke",B),v.transition(l).style("stroke-opacity",1).style("fill-opacity",.5),g.exit().transition(l).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),I.clipEdge(_).width(n).height(r),p.call(I);var y=v.selectAll("path.sc-area").data(function(t){return z(t)?[t]:[]}),b=y.enter().append("path").attr("class","sc-area sc-enter"),x=v.selectAll(".sc-area").merge(b);function w(r){return r.values&&r.values.length?1<r.values.length?[r.values]:[T.domain().map(function(t,e){if(Array.isArray(r.values[0]))return[t,r.values[0][1]];var n=JSON.parse(JSON.stringify(r.values[0]));return n.x=t,n})]:[null];var t}x.filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("d",function(t){return o.apply(this,[t.values])}),x.transition(l).attr("d",function(t){return i.apply(this,[t.values])}).on("end",function(t){Pt.select(this).classed("sc-enter",!1)}),y.exit().remove(),g.exit().transition(l).selectAll(".sc-area").attr("d",function(t){return o.apply(this,[t.values])}).remove();var k,M=v.selectAll("path.sc-line").data(w,function(t){return t.seriesIndex}).enter().append("path").attr("class","sc-line sc-enter"),A=v.selectAll(".sc-line").merge(M);A.filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("d",Pt.line().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y(function(t,e){return E(0)})),A.transition(l).attr("d",Pt.line().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y(function(t,e){return E(D(t,e))})).on("end",function(t){Pt.select(this).classed("sc-enter",!1)}),g.exit().transition(l).selectAll(".sc-line").attr("d",Pt.line().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y(function(t,e){return E(0)})).remove()}),V}return V.dispatch=I.dispatch,V.scatter=I,zt.rebind(V,I,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","useVoronoi","clipVoronoi","clipRadius","padData","padDataOuter","singlePoint","direction","nice","locality"),V.color=function(t){return arguments.length?(B=t,I.color(B),V):B},V.fill=function(t){return arguments.length?(n=t,I.fill(n),V):n},V.classes=function(t){return arguments.length?(H=t,I.classes(H),V):H},V.gradient=function(t){return arguments.length?(O=t,V):O},V.margin=function(t){if(!arguments.length)return C;for(var e in t)t.hasOwnProperty(e)&&(C[e]=t[e]);return V},V.width=function(t){return arguments.length?(S=t,V):S},V.height=function(t){return arguments.length?(F=t,V):F},V.x=function(t){return arguments.length?(L=t,I.x(t),V):L},V.y=function(t){return arguments.length?(D=t,I.y(t),V):D},V.delay=function(t){return arguments.length?(e=t,V):e},V.duration=function(t){return arguments.length?(R=t,I.duration(t),V):R},V.clipEdge=function(t){return arguments.length?(_=t,V):_},V.interpolate=function(t){return arguments.length?(N=t,V):N},V.defined=function(t){return arguments.length?(P=t,V):P},V.isArea=function(t){return arguments.length?(z=zt.functor(t),V):z},V}function b(){var at={top:0,right:0,bottom:0,left:0},it=960,ot=500,lt=Pt.scaleBand(),st=Pt.scaleLinear(),ct=Math.floor(1e4*Math.random()),ut=function(t){return t.x},dt=function(t){return t.y},ft=function(t,e,n){return n||t},ht=function(t,e){return ft(t.y,e,t.label)},e=zt.buildLocality(),pt=[],gt=[0],mt=!0,n,vt=!1,yt=!1,bt=!0,xt=60,wt="ltr",kt=!1,r=0,a=0,i=null,o=null,Mt=!1,At=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},It=zt.colorLinearGradient,Ct=At,St=!1,l=null,Ft=function(t,e){return"sc-series sc-series-"+t.seriesIndex},Lt=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),Dt,Tt;function Et(t){return t.each(function(i){var t=Pt.select(this),f=it-at.left-at.right,h=ot-at.top-at.bottom,e=bt?"width":"height",n=bt?"height":"width",r=bt?"x":"y",a=bt?"y":"x",p=0,g=0,o=0,l=i.length-1,m=!1,v=!1,u=vt,y=!1,b=[],x=0,w=[],k=[],s=[];function d(t){return t?1:-1}function M(t){return t.reverse().filter(function(t,e,n){return-1===n.indexOf(t,e+1)}).reverse()}if(u&&(mt?"top"!==u&&!0!==u||(u="end"):"total"===u?u="top":!0===u&&(u="end"),m=bt,y="total"===u||"top"===u),mt&&(s=[],i[0].values.map(function(t,n){var r=0,a=0;i.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y0=a-(bt?0:e.size),a-=e.size):(e.y0=r+(bt?e.size:0),r+=e.size)}),s[n]={neg:{label:ft(a,n),y:a},pos:{label:ft(r,n),y:r}}})),Et.resetDimensions=function(t,e){ot=e,f=(it=t)-at.left-at.right,h=e-at.top-at.bottom,A()},k=Pt.merge(i.map(function(t){return t.values})),p=i.length,g=i[0].values.length,vt){i.forEach(function(t,e){t.values.forEach(function(t,e){t.label=ht(t)})}),w="total"===u?Pt.merge(s.map(function(t){return[t.neg,t.pos]})):k,b=zt.stringSetLengths(w.map(ht),t,"sc-label-value"),x=zt.stringSetThickness(["Xy"],t,"sc-label-value")[0];var c=Pt.extent(i.map(function(t,e){return t.seriesIndex}));o=c[0],l=c[1]}function A(){var t=t||M(k.map(ut).concat(pt)),e=bt?f:h,n=bt?h:f,r=mt?xt:xt*p+xt,a=xt*(mt?.25:1),i=Math.max(.25,(e-g*r-a)/(2*r));lt.domain(t).range([0,e]).paddingInner(yt?.3:.25).paddingOuter(i);var o=o||Pt.extent(k.map(function(t){var e=t.y0+(bt?0:t.y),n=t.y0+(bt?t.y:0);return mt?0<t.y?e:n:t.y}).concat(gt)),l=bt?[n,0]:[0,n];if(st.domain(o).range(l),vt&&(m=bt&&Pt.max(b)+8>G(),v=m||!bt),y){var s=0,c=n,u=0,d=0;a=bt?m?2:-2:2,w.forEach(function(t,e){var n=v?b[e]:x,r=parseFloat(t.y),a=st(r),i=0;bt&&0<r||!bt&&r<0?(i=a-n)<s&&(d=n,s=i):c<(i=a+n)&&(u=n,c=i)}),bt?st.range([n-(st.domain()[0]<0?u+a+2:0),0<st.domain()[1]?d+a:0]):st.range([st.domain()[0]<0?d+a+4:0,n-(0<st.domain()[1]?u+a:0)])}Mt&&st.nice(),Dt=Dt||lt,Tt=Tt||st}A();var I,C=t.selectAll("g.sc-wrap.sc-multibar").data([i]).enter().append("g").attr("class","sc-wrap sc-multibar"),S=t.select(".sc-wrap.sc-multibar").merge(C),F=C.append("defs"),L=S.select("defs");if(S.attr("transform",zt.translation(at.left,at.top)),kt&&(F.append("clipPath").attr("id","sc-edge-clip-"+ct).append("rect"),L.select("#sc-edge-clip-"+ct+" rect").attr("width",f).attr("height",h)),S.attr("clip-path",kt?"url(#sc-edge-clip-"+ct+")":""),St)var D=zt.createTexture(F,ct);Et.gradientFill=function(t,e,n){var r=ct+"-"+e,a=At(t,e);return It(t,r,n,a,L)};var T=Ct===At,E=S.selectAll(".sc-series").data(zt.identity),P=E.enter().append("g").attr("class",Ft).style("stroke-opacity",1e-6).style("fill-opacity",1e-6);E.exit().remove();var z=S.selectAll(".sc-series").merge(P);z.attr("fill",Ct).attr("class",Ft).classed("hover",function(t){return t.hover}).classed("sc-active",function(t){return"active"===t.active}).classed("sc-inactive",function(t){return"inactive"===t.active}).style("stroke-opacity",1).style("fill-opacity",1),z.on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)});var N=z.selectAll(".sc-bar").data(function(t){return t.values}),_=N.enter().append("g").attr("class","sc-bar");N.exit().remove();var R=z.selectAll(".sc-bar").merge(_);_.append("rect").attr("class","sc-base").style("fill","inherit").attr("x",0).attr("y",0),St&&_.append("rect").attr("class","sc-texture").attr("x",0).attr("y",0).style("mask","url("+D+")"),_.append("rect").attr("class","sc-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("fill","transparent").style("stroke-width",0).style("fill-opacity",0);var B=R.select(".sc-label-box");_.append("text").attr("class","sc-label-value");var O=R.select(".sc-label-value");function H(t,e){var n=Ct(t),r="inherit"===n?Pt.select("."+Ft(t,e).split(" ").join(".")).style("color"):n;return zt.getTextContrast(r,e)}function V(t,e){return Math.max(Math.round(Math.abs(st(dt(t,e))-st(0))),0)}function G(){return lt.bandwidth()/(mt?1:i.length)}function W(t,e){var n;return"translate("+(n=mt?{x:Math.round(lt(ut(t,e))),y:Math.round(st(t.y0))}:{x:Math.round(t.seri*G()+lt(ut(t,e))),y:Math.round(dt(t,e)<0?st(bt?0:dt(t,e)):st(bt?dt(t,e):0))})[r]+","+n[a]+")"}function Y(t,e){var n="total"===u?s[e][dt(t,e)<0?"neg":"pos"]:t;return ht(n)}function q(t,e){var n=this.getBoundingClientRect(),r=Math.floor(n.width),a=Math.floor(n.height);t.labelWidth=t.labelWidth||(m?a:r)+4,t.labelHeight=t.labelHeight||(m?r:a),t.barLength=V(t,e),t.barThickness=G()}function j(t,e){var n="middle",r=dt(t,e)<0;if(v){switch(u){case"start":n=r?"end":"start";break;case"middle":n="middle";break;case"end":n=r?"start":"end";break;case"top":case"total":n=r?"end":"start"}n="rtl"===wt&&"middle"!==n?"start"===n?"end":"start":n}else n="middle";return n}function U(t,e){var n=0,r=dt(t,e)<0?-1:1,a=r<0,i=(4+2*v)*r;if(bt&&!m)n=t.barThickness/2;else switch(u){case"start":n=t.barLength*(a-m)+i;break;case"middle":n=t.barLength*(m?-1:1)/2;break;case"end":n=t.barLength*(!m-a)-i;break;case"top":case"total":n=t.barLength*(!m-a)+2*r}return n}function X(t,e){var n=0,r=dt(t,e)<0?-1:1,a=r<0,i=(t.labelHeight/2+(4+2*m)*!y)*r;if(v)n=t.barThickness/2;else switch(u){case"start":n=t.barLength*(1-a)-i;break;case"middle":n=t.barLength/2;break;case"end":n=t.barLength*(0+a)+i;break;case"top":case"total":n=t.barLength*(0+a)-i}return n}function Z(t,e,n){return y?"#000":H(t,e)}function K(t,e){if(y){if("total"===u&&mt){var n=dt(t,e);return n<0&&s[e].neg.y===t.y0+(bt?n:0)||0<=n&&s[e].pos.y===t.y0+(bt?0:n)?1:0}return 1}var r=t.barLength<(v?t.labelWidth:t.labelHeight)+8,a=t.barThickness<(v?t.labelHeight:t.labelWidth)+4;return r||a?0:1}function $(t,e){return Q(t,e,!0)}function J(t,e){return Q(t,e,!1)}function Q(t,e,n){var r,a,i,o,l,s,c;if(a=(r=0)<=dt(t,e),i=4*d(n)*d(a),o=n===a?0:1,!n^bt)r=(t.barThickness-(v?t.labelHeight:t.labelWidth))/2;else switch(s=t.barLength-(v?t.labelWidth:t.labelHeight),u){case"start":r=s*(0+o)+i;break;case"middle":r=s/2;break;case"end":r=s*(1-o)-i;break;case"top":case"total":l=m===n?t.labelHeight:t.labelWidth,r=t.barLength*(1-o)-l*(0+o)}return r}function tt(t){return m?t.labelHeight:t.labelWidth}function et(t){return m?t.labelWidth:t.labelHeight}function nt(t,e){return y?"#fff":At(t,e)}function rt(t,e,n){return{pointIndex:n,point:e,seriesIndex:e.seriesIndex,series:i[e.seri],groupIndex:e.groupIndex,id:ct,e:t}}R.attr("class",function(t,e){return"sc-bar "+(dt(t,e)<0?"negative":"positive")}).classed("sc-active",function(t){return"active"===t.active}).attr("transform",W).style("display",function(t,e){return 0!==V(t,e)?"inline":"none"}),R.select("rect.sc-base").attr(r,0).attr(n,V).attr(e,G),St&&R.select("rect.sc-texture").attr(r,0).attr(n,V).attr(e,G).style("fill",H),vt?(O.text(Y).attr("transform","rotate("+(0-90*m)+")").each(q),O.attr("dy","0.35em").attr("text-anchor",j).attr("x",U).attr("y",X).style("fill",Z).style("fill-opacity",K),B.attr("x",$).attr("y",J).attr("width",tt).attr("height",et).style("fill",nt).style("fill-opacity",K)):(O.text("").style("fill-opacity",0),R.select("rect.label-box").style("fill-opacity",0)),R.on("mouseover",function(t,e){var n=rt(Pt.event,t,e);Lt.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;Lt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){var n=rt(Pt.event,t,e);Lt.call("elementMouseout",this,n)}).on("click",function(t,e){Pt.event.stopPropagation();var n=rt(Pt.event,t,e);Lt.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=rt(Pt.event,t,e);Lt.call("elementDblClick",this,n)}),Dt=lt.copy(),Tt=st.copy()}),Et}return Et.dispatch=Lt,Et.color=function(t){return arguments.length?(At=t,Et):At},Et.fill=function(t){return arguments.length?(Ct=t,Et):Ct},Et.classes=function(t){return arguments.length?(Ft=t,Et):Ft},Et.gradient=function(t){return arguments.length?(It=t,Et):It},Et.x=function(t){return arguments.length?(ut=t,Et):ut},Et.y=function(t){return arguments.length?(dt=t,Et):dt},Et.margin=function(t){if(!arguments.length)return at;for(var e in t)t.hasOwnProperty(e)&&(at[e]=t[e]);return Et},Et.width=function(t){return arguments.length?(it=t,Et):it},Et.height=function(t){return arguments.length?(ot=t,Et):ot},Et.xScale=function(t){return arguments.length?(lt=t,Et):lt},Et.yScale=function(t){return arguments.length?(st=t,Et):st},Et.xDomain=function(t){return arguments.length?(i=t,Et):i},Et.yDomain=function(t){return arguments.length?(o=t,Et):o},Et.forceX=function(t){return arguments.length?(pt=t,Et):pt},Et.forceY=function(t){return arguments.length?(gt=t,Et):gt},Et.stacked=function(t){return arguments.length?(mt=t,Et):mt},Et.barColor=function(t){return arguments.length?(l=zt.getColor(t),Et):l},Et.disabled=function(t){return arguments.length?(n=t,Et):n},Et.id=function(t){return arguments.length?(ct=t,Et):ct},Et.delay=function(t){return arguments.length?(r=t,Et):r},Et.duration=function(t){return arguments.length?(a=t,Et):a},Et.clipEdge=function(t){return arguments.length?(kt=t,Et):kt},Et.showValues=function(t){return arguments.length?(vt=isNaN(parseInt(t,10))?t:!!parseInt(t,10),Et):vt},Et.valueFormat=function(t){return arguments.length?(ft=t,Et):ft},Et.withLine=function(t){return arguments.length?(yt=t,Et):yt},Et.vertical=function(t){return arguments.length?(bt=t,Et):bt},Et.baseDimension=function(t){return arguments.length?(xt=t,Et):xt},Et.direction=function(t){return arguments.length?(wt=t,Et):wt},Et.textureFill=function(t){return arguments.length?(St=t,Et):St},Et.nice=function(t){return arguments.length?(Mt=t,Et):Mt},Et.locality=function(t){return arguments.length?(e=zt.buildLocality(t),Et):e},Et}function s(){var j={top:0,right:0,bottom:0,left:0},U=500,X=500,Z=Math.floor(1e4*Math.random()),e=function(t){return(t.series||t).key},K=function(t,e){return(t.series||t).value},$=function(t,e){return(t.series||t).count},J=function(t){return e(t)},n=function(t){return K(t)},r=function(t){return isNaN($(t))?"":" ("+$(t)+")"},a=zt.buildLocality(),Q="ltr",i=0,o=0,tt=function(t,e){return zt.defaultColor()(t.series,t.seriesIndex)},et=zt.colorRadialGradient,nt=tt,rt=!1,at=function(t,e){return"sc-series sc-series-"+t.seriesIndex},it=!0,ot=!0,lt=!0,st=!0,ct=.01,ut=!1,dt=!1,ft=!1,ht=20,pt=5,l=360,s=0,gt=.447,mt=75,vt=250,yt=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),bt=function(t,e){var n=t.selectAll(".sc-hole-container").data(e),r;n.enter().append("g").attr("class","sc-hole-container").append("text").text(e).attr("class","sc-pie-hole-value").attr("dy",".35em").attr("text-anchor","middle").style("font-size","50px"),n.exit().remove()},xt=function(t){return t.startAngle*l/360+zt.angleToRadians(s)},wt=function(t){return t.endAngle*(l/360)+zt.angleToRadians(s)},kt=function(t){return null},Mt=Pt.pie().sort(null).value(K);function At(t){return t.each(function(t){var b=U-j.left-j.right,e=X-j.top-j.bottom,s=Pt.select(this),d=[],n=!(!it||!lt);n&&(d=zt.stringSetLengths(t.map(J),s,"sc-label"));var r,a=s.selectAll("g.sc-wrap").data([t]).enter().append("g").attr("class","sc-wrap sc-pie"),i=s.select(".sc-wrap.sc-pie").merge(a),o=a.append("defs"),l=i.select("defs");a.append("g").attr("class","sc-group");var c=i.select(".sc-group");a.append("g").attr("class","sc-hole-wrap");var u=i.select(".sc-hole-wrap");if(i.attr("transform",zt.translation(j.left,j.top)),rt)var f=zt.createTexture(o,Z,-b/2,-e/2);At.gradientFill=function(t,e){var n=Z+"-"+e,r={x:0,y:0,r:T,s:ut?100*gt+"%":"0%",u:"userSpaceOnUse"},a=tt(t,e);return et(t,n,r,a,l)};var h=c.selectAll(".sc-series").data(Mt),p=h.enter().append("g").attr("class","sc-series");h.exit().remove();var g=c.selectAll(".sc-series").merge(p);p.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)}),g.attr("class",function(t){return at(t.data,t.data.seriesIndex)}).attr("fill",function(t){return nt(t.data,t.data.seriesIndex)}).classed("sc-active",function(t){return"active"===t.data.active}).classed("sc-inactive",function(t){return"inactive"===t.data.active});var m=g.selectAll("g.sc-slice").data(function(n,r){return n.data.values.map(function(t,e){return t.endAngle=n.endAngle,t.padAngle=n.padAngle,t.startAngle=n.startAngle,t.index=r,t})},function(t){return t.seriesIndex});m.exit().remove();var v=m.enter().append("g").attr("class","sc-slice"),y=g.selectAll("g.sc-slice").merge(v);v.append("path").attr("class","sc-base").each(function(t,e){this._current=t}),rt&&v.append("path").attr("class","sc-texture").each(function(t,e){this._current=t}).style("mask","url("+f+")"),v.on("mouseover",function(t,e){Pt.select(this).classed("hover",!0);var n=B(Pt.event,t,e);yt.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;yt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){Pt.select(this).classed("hover",!1),yt.call("elementMouseout",this)}).on("click",function(t,e){Pt.event.stopPropagation();var n=B(Pt.event,t,e);yt.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=B(Pt.event,t,e);yt.call("elementDblClick",this,n)}),v.append("g").attr("class","sc-label").attr("transform","translate(0,0)"),v.select(".sc-label").append("rect").style("fill-opacity",0).style("stroke-opacity",0),v.select(".sc-label").append("text").style("fill-opacity",0),v.append("polyline").attr("class","sc-label-leader").style("stroke-opacity",0);var x=b/2,w=e/2,k=[],M=[],A=0,I=n?5:0,C=ht+pt,S=0;y.select(".sc-base").call(O,x,w),u.call(bt,dt?[dt]:[]),dt&&0<(S=V())&&(I+=S,A-=S/2);var F=b/2,L=e/2;n&&(ht=Math.max(Math.min(Math.min(H())/12,20),10)),kt(At)&&(mt=kt(At),vt=kt(At));var D=Math.min(Math.max(H(),mt),vt),T=D-(n?ht:0),E,P;L+=((Pt.max(M)-Pt.min(M))/2+Pt.min(M))*((D+A)/L)+A/2;var z=(Pt.max(k)-Pt.min(k))/2-Pt.max(k),N;F+=z*(D/F),c.attr("transform","translate("+F+","+L+")"),u.attr("transform","translate("+F+","+L+")"),c.select(f).attr("x",-T/2).attr("y",-T/2);var _=Pt.arc().innerRadius(ut?T*gt:0).outerRadius(T).startAngle(xt).endAngle(wt),R=Pt.arc().innerRadius(0).outerRadius(T).startAngle(xt).endAngle(wt);function B(t,e,n){return{id:Z,key:J(e),value:K(e),count:$(e),data:e,series:e.series,seriesIndex:e.series.seriesIndex,e:t}}function O(t,s,c){var u=[],d=[],f=2*Math.PI,h=0,p=Math.PI/2,g=Math.PI,m=3*Math.PI/2,v=0;function y(t){return(t+v)%f}t.each(function(t,e){var n=0===xt(t)?0:(xt(t)+f)%f,r=0===wt(t)?0:(wt(t)+f)%f,a=Math.round(1e4*Math.sin(n))/1e4,i=Math.round(1e4*Math.sin(r))/1e4,o=Math.round(1e4*Math.cos(n))/1e4,l=Math.round(1e4*Math.cos(r))/1e4;v=r<n?f-n:0,r===n?(n=0,r=f):(n=y(n),r=y(r)),h=y(h),p=y(p),g=y(g),m=y(m),n%f!=0&&r%f!=0||(d.push(c),ut&&d.push(c*gt)),n<=p&&p<=r&&(u.push(s),ut&&u.push(s*gt)),n<=g&&g<=r&&(d.push(-c),ut&&d.push(-c*gt)),n<=m&&m<=r&&(u.push(-s),ut&&u.push(-s*gt)),u.push(s*a),u.push(s*i),ut?(u.push(s*gt*a),u.push(s*gt*i)):u.push(0),d.push(c*o),d.push(c*l),ut?(d.push(c*gt*o),d.push(c*gt*l)):d.push(0)}),k=Pt.extent(u),M=Pt.extent(d),x*=b/(Pt.max(k)-Pt.min(k)),w*=e/(Pt.max(M)-Pt.min(M))}function H(){var c=[x],u=[w+ht],t;return g.select(".sc-base").each(function(t,e){if(G(t)){var n=(xt(t)+wt(t))/2,r=Math.sin(n),a=Math.cos(n),i=x-C-d[e],o=w-I,l=r?i/r:i,s=a?o/a:o;c.push(l),u.push(s)}}),Pt.min(c.concat(u).concat([]),function(t){return Math.abs(t)})}function V(){var t=.3*u.node().getBoundingClientRect().height,e=Math.abs(w*Pt.min(M)),n;return Math.round(t-e)}function G(t){var e=(wt(t)-xt(t))/(2*Math.PI);return ct<e?1:0}function W(t,e){var n=2*Math.PI,r=((xt(t)+wt(t))/2+n)%n;return 0<r&&r<Math.PI?1:-1}function Y(t){ut||(t.innerRadius=0);var n=Pt.interpolate(this._current,t);return this._current=n(0),function(t){var e=n(t);return _(e)}}function q(t){t.innerRadius=0;var e=Pt.interpolate({startAngle:0,endAngle:0},t);return function(t){return _(e(t))}}lt&&(!ut||st?R.innerRadius(D).outerRadius(D):R.outerRadius(T*gt)),y.select(".sc-base").attr("d",_).style("stroke-opacity",function(t){return xt(t)===wt(t)?0:1}),rt&&y.select(".sc-texture").attr("d",_).style("stroke-opacity",function(t){return xt(t)===wt(t)?0:1}).style("fill",function(t,e){var n=t.series||t,r=n.seriesIndex||e,a=nt(n),i="inherit"===a?Pt.select("."+at(n,r).split(" ").join(".")).style("color"):a;return zt.getTextContrast(i,r)}),it?(y.select(".sc-label").attr("transform",function(t){if(ft){t.outerRadius=T+10,t.innerRadius=T+15;var e=(xt(t)+wt(t))/2*(180/Math.PI);return e+=90*W(t,R),"translate("+R.centroid(t)+") rotate("+e+")"}var n=R.centroid(t),r=ot?(ht+pt)*W(t,R):0;return"translate("+[n[0]+r,n[1]]+")"}),y.select(".sc-label text").text(J).attr("dy",".35em").style("fill","#555").style("fill-opacity",G).style("text-anchor",function(t){if(!lt)return"middle";var e=1===W(t,R)?"start":"end";return"rtl"===Q&&(e="start"===e?"end":"start"),e}),y.each(function(t,e){var n,r,a,i,o,l;(d[e]>mt||D===mt)&&(n=(xt(t)+wt(t))/2,r=Math.abs(Math.sin(n)),a=d[t.index],(o=b/2-F+b/2-(i=D*r+ht+pt+a))<0&&(l=zt.stringEllipsify(J(t),s,a+o),Pt.select(this).select("text").text(l)))}),lt?ot&&y.select(".sc-label-leader").attr("points",function(t){if(!G(t))return"0,0 0,0";var e=Pt.arc().innerRadius(T).outerRadius(T).startAngle(xt).endAngle(wt),n=ot?ht*W(t,e):0,r=e.centroid(t),a=R.centroid(t),i;return r+" "+a+" "+[a[0]+n,a[1]]}).style("stroke","#AAA").style("fill","none").style("stroke-opacity",G):y.select(".sc-label").each(function(t){if(G(t)){var e=Pt.select(this),n=e.select("text").node().getBoundingClientRect();e.select("rect").attr("rx",3).attr("ry",3).attr("width",n.width+10).attr("height",n.height+10).attr("transform",function(){return"translate("+[n.x-5,n.y-5]+")"}).style("fill","#FFF").style("fill-opacity",G)}})):(y.select(".sc-label-leader").style("stroke-opacity",0),y.select(".sc-label rect").style("fill-opacity",0),y.select(".sc-label text").style("fill-opacity",0))}),At}return At.dispatch=yt,At.id=function(t){return arguments.length?(Z=t,At):Z},At.color=function(t){return arguments.length?(tt=t,At):tt},At.fill=function(t){return arguments.length?(nt=t,At):nt},At.classes=function(t){return arguments.length?(at=t,At):at},At.gradient=function(t){return arguments.length?(et=t,At):et},At.margin=function(t){return arguments.length?(j.top=void 0!==t.top?t.top:j.top,j.right=void 0!==t.right?t.right:j.right,j.bottom=void 0!==t.bottom?t.bottom:j.bottom,j.left=void 0!==t.left?t.left:j.left,At):j},At.width=function(t){return arguments.length?(U=t,At):U},At.height=function(t){return arguments.length?(X=t,At):X},At.getKey=function(t){return arguments.length?(e=t,At):e},At.getValue=function(t){return arguments.length?(K=t,At):K},At.getCount=function(t){return arguments.length?($=t,At):$},At.fmtKey=function(t){return arguments.length?(J=t,At):J},At.fmtValue=function(t){return arguments.length?(n=t,At):n},At.fmtCount=function(t){return arguments.length?(r=t,At):r},At.direction=function(t){return arguments.length?(Q=t,At):Q},At.delay=function(t){return arguments.length?(i=t,At):i},At.duration=function(t){return arguments.length?(o=t,At):o},At.locality=function(t){return arguments.length?(a=zt.buildLocality(t),At):a},At.textureFill=function(t){return arguments.length?(rt=t,At):rt},At.showLabels=function(t){return arguments.length?(it=t,At):it},At.labelSunbeamLayout=function(t){return arguments.length?(ft=t,At):ft},At.donutLabelsOutside=function(t){return arguments.length?(st=t,At):st},At.pieLabelsOutside=function(t){return arguments.length?(lt=t,At):lt},At.showLeaders=function(t){return arguments.length?(ot=t,At):ot},At.donut=function(t){return arguments.length?(ut=t,At):ut},At.hole=function(t){return arguments.length?(dt=t,At):dt},At.holeFormat=function(t){return arguments.length?(bt=zt.functor(t),At):bt},At.donutRatio=function(t){return arguments.length?(gt=t,At):gt},At.startAngle=function(t){return arguments.length?(xt=t,At):xt},At.endAngle=function(t){return arguments.length?(wt=t,At):wt},At.labelThreshold=function(t){return arguments.length?(ct=t,At):ct},At.arcDegrees=function(t){return arguments.length?(l=Math.max(Math.min(t,360),1),At):l},At.rotateDegrees=function(t){return arguments.length?(s=t%360,At):s},At.minRadius=function(t){return arguments.length?(mt=t,At):mt},At.maxRadius=function(t){return arguments.length?(vt=t,At):vt},At.fixedRadius=function(t){return arguments.length?(kt=zt.functor(t),At):kt},At}function u(){var S,F={},L,D,T,E,P,z,N;function _(e,n,r,c){var a=e.select("defs"),i=n.select("defs"),l=r.select(".sc-axis-wrap.sc-axis-x"),s=r.select(".sc-bars-wrap"),o,u,d,f,h=0;function t(){if(N){var t=Pt.zoom().on("zoom",P);r.call(t),u.call(t)}else r.on("zoom",null),u.on("zoom",null)}function p(){i.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-back-gradient-prev-"+S);var t=i.select("#sc-back-gradient-prev-"+S);i.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-back-gradient-more-"+S);var e=i.select("#sc-back-gradient-more-"+S);t.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",0),t.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1),e.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0),e.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",1),i.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-fore-gradient-prev-"+S);var n=i.select("#sc-fore-gradient-prev-"+S);i.append("linearGradient").attr("class","sc-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0).attr("id","sc-fore-gradient-more-"+S);var r=i.select("#sc-fore-gradient-more-"+S);n.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",0),n.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1),r.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0),r.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",1),a.selectAll(".sc-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0)}function g(){a.selectAll(".sc-scroll-gradient").attr("x2",L?1:0).attr("y2",L?0:1)}function m(){i.append("clipPath").attr("class","sc-scroll-mask").attr("id","sc-edge-clip-"+S).append("rect"),o=a.select(".sc-scroll-mask rect")}function v(){r.attr("clip-path",N?"url(#sc-edge-clip-"+S+")":"")}function y(t,e){o.attr("x",L?2:-F.left).attr("y",L?0:2).attr("width",t+(L?-2:F.left)).attr("height",e+(L?F.bottom:-2))}function b(){n.select(".sc-background-wrap").append("rect").attr("class","sc-scroll-target").attr("fill","transparent"),u=e.select(".sc-scroll-target")}function x(t,e,n,r){u.attr("x",t).attr("y",e).attr("width",n).attr("height",r)}function w(){var t=n.select(".sc-background-wrap").append("g").attr("class","sc-back-shadow-wrap");t.append("rect").attr("class","sc-back-shadow-prev"),t.append("rect").attr("class","sc-back-shadow-more"),d=e.select(".sc-back-shadow-wrap")}function k(){var t=L?"width":"height";d.select("rect.sc-back-shadow-prev").attr("fill",N?"url(#sc-back-gradient-prev-"+S+")":"transparent").attr(t,7),d.select("rect.sc-back-shadow-more").attr("fill",N?"url(#sc-back-gradient-more-"+S+")":"transparent").attr(t,7)}function M(t,e,n,r,a,i){d.select(".sc-back-shadow-prev").attr("x",t).attr("y",e).attr(a,i),d.select(".sc-back-shadow-more").attr("x",t+(L?n-5:1)).attr("y",e+(L?0:r-6)).attr(a,i)}function A(){var t=n.select(".sc-background-wrap").insert("g").attr("class","sc-fore-shadow-wrap");t.append("rect").attr("class","sc-fore-shadow-prev"),t.append("rect").attr("class","sc-fore-shadow-more"),f=e.select(".sc-fore-shadow-wrap")}function I(){var t=L?"width":"height";f.select(".sc-fore-shadow-prev").attr("fill",N?"url(#sc-fore-gradient-prev-"+S+")":"transparent").attr(t,20),f.select(".sc-fore-shadow-more").attr("fill",N?"url(#sc-fore-gradient-more-"+S+")":"transparent").attr(t,20)}function C(t,e,n,r){f.select(".sc-fore-shadow-prev").attr("x",t+(L?1:0)).attr("y",e+(L?0:1)).attr(n,r),f.select(".sc-fore-shadow-more").attr("x",t+(L?E-17:0)).attr("y",e+(L?0:E-19)).attr(n,r)}return p(),m(),b(),w(),A(),_.render=function(){t(),g(),v(),k(),I()},_.resize=function(t,e){var n,r,a,i,o,l,s;h=t,z=e,_.render(),N&&(n=c.labelThickness()+c.tickPadding()/2,r=L?F.left:n,a=F.top,i=D+(L?0:F[c.orient()]-n),o=T+(L?F[c.orient()]-n:0),l=L?"height":"width",s=L?o:i,y(D,T),x(r,a,i,o),M(r,a,D,T,l,s),C(r,a,l,s))},_.pan=function(t){var e=Pt.event,n,r=0,a=0,i=0,o="";return!e||"click"!==e.type&&"zoom"!==e.type?0:(n=e.sourceEvent,"zoom"===e.type&&n&&("wheel"===n.type?(r=-n.deltaX,a=-n.deltaY,i=h+(Math.abs(r)>Math.abs(a)?r:a)):"mousemove"===n.type?(r=n.movementX,a=n.movementY,i=h+(Math.abs(r)>Math.abs(a)?r:a)):"touchmove"===n.type&&(r=e.transform.x,a=e.transform.y,i=Math.abs(r)>Math.abs(a)?r:a)),h=Math.min(Math.max(i,t),-1),o="translate("+(L?h+",0":"0,"+h)+")",(0<i||i<t)&&z(Math.abs(a)>Math.abs(r)?a:0),f.attr("transform",o),s.attr("transform",o),l.select(".sc-wrap.sc-axis").attr("transform",o),h)},_}return _.id=function(t){return arguments.length?(S=t,_):S},_.margin=function(t){return arguments.length?(F.top=void 0!==t.top?t.top:F.top,F.right=void 0!==t.right?t.right:F.right,F.bottom=void 0!==t.bottom?t.bottom:F.bottom,F.left=void 0!==t.left?t.left:F.left,_):F},_.width=function(t){return arguments.length?(D=t,_):D},_.height=function(t){return arguments.length?(T=t,_):T},_.vertical=function(t){return arguments.length?(L=t,_):L},_.minDimension=function(t){return arguments.length?(E=t,_):E},_.panHandler=function(t){return arguments.length?(P=zt.functor(t),_):P},_.enable=function(t){return arguments.length?(N=t,_):N},_}var e={axis:v,funnel:r,gauge:o,headers:l,line:y,menu:z,multibar:b,pie:s,scatter:a,scroller:u};function n(){var E={top:10,right:10,bottom:10,left:10},P=null,z=null,e="ltr",n=0,N=0,_=!0,R={},B=c(),O=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),H=function(t){return t.x},V=function(t){return t.y},G=[0],W=function(t){return t.y},Y=function(t){return t.y},q=function(t,e,n,r,a){var i=n||t;return r?(a=a&&0===a.indexOf("%")?a:"MM",zt.dateFormat(i,a,tt.locality())):i},j=function(t,e,n,r,a){return a=isNaN(a)?2:a,zt.numberFormatSI(n,a,r,tt.locality())},i=function(t,e){var n=t.series.key,r=t.point.x,a;return"<h3>"+n+"</h3><p>"+t.point.y+" on "+r+"</p>"},U=function(t,e,n,r){},X=a(),Z=l(),K=v(),$=v(),J=null,Q=function(t,e,n){var r=i(t,n),a=t.value<0?"n":"s";return kt.show(t.e,r,a,null,e)};function tt(t){return t.each(function(t){var e=this,f=Pt.select(this),n="bubble",r=t&&t.properties||{},a=t&&t.data||[],h=parseInt(f.style("width"),10),p=parseInt(f.style("height"),10),g=P,m=z,i="datetime"===r.xDataType||!1,o="currency"===r.yDataType||!1,v,l,y,b,s,x,c=function(t,e,n,r){return q(t,e,t,i,"%B")},u=function(t,e,n,r){var a=s&&Array.isArray(s)&&s[e].key||t,i=Math.max(.2*g,75);return isNaN(a)?zt.stringEllipsify(a,f,i):j(t,e,a,o)},d=[];function w(t,e){var n=t&&t.length,r=(h-E.left-E.right)/2+E.left,a=(p-E.top-E.bottom)/2+E.top;return zt.displayNoData(n,f,e||B.noData,r,a)}if(tt.update=function(){f.transition().duration(N).call(tt)},tt.container=this,w(a))return tt;function k(t){var e=Pt.extent(Pt.merge(t.map(function(t){return t.values.map(function(t,e){return Pt.timeParse("%Y-%m-%d")(H(t))})}))),n;return[Pt.timeMonth.floor(e[0]),Pt.timeDay.offset(Pt.timeMonth.ceil(e[1]),-1)]}function M(t){function e(t){return 32-new Date(t.getFullYear(),t.getMonth(),32).getDate()}var n,r;return Pt.timeMonth.range(t[0],t[1]).map(function(t){return Pt.timeDay.offset(Pt.timeMonth.floor(t),e(t)/2-1)})}function A(t){var e=Pt.nest().key(W).entries(t),n=1e3/e.length,r=x,a=[0,1],i=[0,1],o=Pt.scaleLinear().domain(a).range(i),l=[],s=0;return e.map(function(e,t){return e.total=0,e.values=e.values.sort(function(t,e){return e.y<t.y?-1:e.y>t.y?1:0}).map(function(t){return e.total+=t.y,t}),e.group=t,e}).sort(function(t,e){return t.total<e.total?-1:t.total>e.total?1:0}).map(function(e,t){return s+=e.total,a=Pt.extent(e.values.map(function(t){return t.y})),i=[n*t+r,n*(t+1)-r],o.domain(a).range(i),e.values=e.values.map(function(t){return t.group=e.group,t.opportunity=t.y,t.y=o(t.opportunity),t}),l.push({key:e.key,y:Pt.min(e.values.map(function(t){return t.y}))}),e}),l}R.disabled=a.map(function(t){return!!t.disabled}),l=Pt.nest().key(Y).entries(a),v=l.sort(function(t,e){return parseInt(t.key,10)<parseInt(e.key,10)?-1:parseInt(t.key,10)>parseInt(e.key,10)?1:0}).map(function(t,e){return t.seriesIndex=e,t.classes=t.values[0].classes,t.color=t.values[0].color,t}),x=Math.sqrt(X.sizeRange()[1]/Math.PI),Z.chart(tt).title(r.title).controlsData(d).legendData(v),Z.legend.key(function(t){return t.key+"%"}),y=k(v),s=A(a),b=Pt.extent(Pt.merge(v.map(function(t){return t.values.map(function(t,e){return V(t,e)})})).concat(G)),K.orient("bottom").scale(X.xScale()).valueFormat(c).ticks(Pt.timeMonths,1).tickValues(M(y)).tickSize(0).tickPadding(4).highlightZero(!1).showMaxMin(!1),$.orient("left").scale(X.yScale()).valueFormat(u).ticks(s.length).tickValues(s.map(function(t,e){return s[e].y})).tickPadding(7).highlightZero(!1).showMaxMin(!1);var I,C=f.selectAll("g.sc-chart-wrap").data([v]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),S=f.select(".sc-chart-wrap").merge(C);C.append("defs"),C.append("g").attr("class","sc-background-wrap");var F=S.select(".sc-background-wrap");C.append("g").attr("class","sc-title-wrap"),C.append("g").attr("class","sc-axis-wrap sc-axis-x");var L=S.select(".sc-axis-wrap.sc-axis-x");C.append("g").attr("class","sc-axis-wrap sc-axis-y");var D=S.select(".sc-axis-wrap.sc-axis-y");C.append("g").attr("class","sc-bubble-wrap");var T=S.select(".sc-bubble-wrap");C.append("g").attr("class","sc-controls-wrap"),C.append("g").attr("class","sc-legend-wrap"),S.attr("transform",zt.translation(E.left,E.top)),C.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-E.left).attr("y",-E.top).attr("fill","#FFF"),tt.render=function(){var t,e,n,r,a,i,o=0,l=0;if(h=parseInt(f.style("width"),10),p=parseInt(f.style("height"),10),e=z||p||400,g=(t=P||h||960)-E.left-E.right,m=e-E.top-E.bottom,r=g-(n={top:0,right:0,bottom:0,left:0}).left-n.right,a=m-n.top-n.bottom,F.select(".sc-background").attr("width",t).attr("height",e),Z.width(g).height(m),f.call(Z),i=Z.getHeight(),n.top+=i,n.top+=x,(a=m-n.top-n.bottom)<100)return w(null,B.displayError),tt;X.width(r).height(a).id(tt.id()).xDomain(y).yDomain(b),T.datum(v.filter(function(t){return!t.disabled})).transition().duration(N).call(X);var s={top:0,right:0,bottom:0,left:0},c={top:0,right:0,bottom:0,left:0};function u(){n.left=Math.max(c.left,s.left),n.right=Math.max(c.right,s.right),n.top=Math.max(c.top,s.top)+i,n.bottom=Math.max(c.bottom,s.bottom)}function d(){r=g-n.left-n.right,a=m-n.top-n.bottom,X.resetDimensions(r,a)}$.margin(n),D.call($),s=$.margin(),u(),d(),K.tickSize(0).margin(n),L.call(K),c=K.margin(),u(),d(),$.tickSize(-r,0).margin(n),D.call($),D.select("path.domain").attr("d","M0,0V0.5H0V"+a),T.transition().duration(tt.delay()).call(X),o=n.left,l=n.top+("bottom"===K.orient()?a:0),L.attr("transform",zt.translation(o,l)),o=n.left+("left"===$.orient()?0:r),l=n.top,D.attr("transform",zt.translation(o,l)),T.attr("transform",zt.translation(n.left,n.top))},tt.render(),Z.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,v.filter(function(t){return!t.disabled}).length||v.forEach(function(t){t.disabled=!1,f.selectAll(".sc-series").classed("disabled",!1)}),R.disabled=v.map(function(t){return!!t.disabled}),O.call("stateChange",this,R),tt.update()}),O.on("tooltipShow",function(t){_&&(J=Q(t,e.parentNode,r))}),O.on("tooltipMove",function(t){J&&kt.position(e.parentNode,J,t,"s")}),O.on("tooltipHide",function(){_&&kt.cleanup()}),O.on("changeState",function(n){void 0!==n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),R.disabled=n.disabled),tt.update()}),O.on("chartClick",function(){O.call("tooltipHide",this),Z.controls.enabled()&&Z.controls.dispatch.call("closeMenu",this),Z.legend.enabled()&&Z.legend.dispatch.call("closeMenu",this)}),X.dispatch.on("elementClick",function(t){O.call("chartClick",this),U(a,t,tt)}),f.on("click",function(){Pt.event.stopPropagation(),O.call("chartClick",this)})}),tt}return X.padData(!0).padDataOuter(-1).size(function(t){return t.y}).sizeRange([256,1024]).singlePoint(!0),Z.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),X.dispatch.on("elementMouseover.tooltip",function(t){O.call("tooltipShow",this,t)}),X.dispatch.on("elementMousemove.tooltip",function(t){O.call("tooltipMove",this,t)}),X.dispatch.on("elementMouseout.tooltip",function(){O.call("tooltipHide",this)}),tt.dispatch=O,tt.scatter=X,tt.legend=Z.legend,tt.controls=Z.controls,tt.xAxis=K,tt.xAxisLabel=K.axisLabel,tt.yAxis=$,tt.yAxisLabel=$.axisLabel,tt.options=zt.optionsFunc.bind(tt),zt.rebind(tt,X,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality"),zt.rebind(tt,X,"size","zScale","sizeDomain","forceSize","interactive","clipVoronoi","clipRadius"),zt.rebind(tt,Z,"showTitle","showControls","showLegend"),zt.rebind(tt,K,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks"),tt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return t.classes?"inherit":t.color||zt.defaultColor()(t,t.seriesIndex)},a=function(t){var e;return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){return X.gradientFill(t,t.seriesIndex)}:n;return X.color(n),X.fill(i),X.classes(a),Z.legend.color(n),Z.legend.classes(a),tt},tt.margin=function(t){if(!arguments.length)return E;for(var e in t)t.hasOwnProperty(e)&&(E[e]=t[e]);return tt},tt.width=function(t){return arguments.length?(P=t,tt):P},tt.height=function(t){return arguments.length?(z=t,tt):z},tt.tooltips=function(t){return arguments.length?(_=t,tt):_},tt.tooltipContent=function(t){return arguments.length?(i=t,tt):i},tt.state=function(t){return arguments.length?(R=t,O.call("stateChange",this,R),tt):R},tt.strings=function(t){return arguments.length?(B=c(t),Z.strings(B),tt):B},tt.direction=function(t){return arguments.length?(e=t,X.direction(t),K.direction(t),$.direction(t),Z.direction(t),tt):e},tt.duration=function(t){return arguments.length?(N=t,X.duration(t),tt):N},tt.delay=function(t){return arguments.length?(n=t,X.delay(t),tt):n},tt.xValueFormat=function(t){return arguments.length?(q=t,tt):q},tt.yValueFormat=function(t){return arguments.length?(j=t,tt):j},tt.seriesClick=function(t){return arguments.length?(U=t,tt):U},tt.groupBy=function(t){return arguments.length?(W=t,tt):W},tt.filterBy=function(t){return arguments.length?(Y=t,tt):Y},tt}function d(){var y={top:10,right:10,bottom:10,left:10},b=null,x=null,e="ltr",n=0,w=0,k=!0,M={},A=!0,I=c(),C=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),S=r(),F=l(),L=[],D=null,a=function(t,e){var n=S.getValue()(t),r=e.total?(100*n/e.total).toFixed(1):100,a="currency"===e.yDataType,i={key:S.fmtKey()(t),label:a?I.tooltip.amount:I.tooltip.count,value:zt.numberFormat(n,2,a,P.locality()),percent:zt.numberFormat(r,2,!1,P.locality())};return kt.single(i,I)},T=function(t,e,n){var r=a(t,n);return kt.show(t.e,r,null,null,e)},E=function(t,e,n){};function P(t){return t.each(function(t){var e=this,s=Pt.select(this),n="funnel",r=t&&t.properties||{},a=t&&t.data||null,c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),i="datetime"===r.xDataType||!1,o="currency"===r.yDataType||!1;function d(t,e){var n=t&&t.length,r=(c-y.left-y.right)/2+y.left,a=(u-y.top-y.bottom)/2+y.top;return zt.displayNoData(n,s,e||I.noData,r,a)}if(P.update=function(){s.transition().duration(w).call(P)},P.container=this,d(a))return P;P.setActiveState=function(t,e){t.active=e},P.clearActive=function(e){a.forEach(function(t){P.setActiveState(t,e||"")}),delete M.active},P.seriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&(A?(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",P.clearActive("active"===n?"inactive":""),P.setActiveState(e,n),M.active=a.map(function(t){return"active"===t.active})):P.dataSeriesActivate({series:e}))},P.dataSeriesActivate=function(t){var e=t.series;e.active=e.active&&"inactive"!==e.active?"inactive":"active","active"===e.active&&a.filter(function(t){return"active"!==t.active}).forEach(function(t){return t.active="inactive",t}),a.filter(function(t){return"active"===t.active}).length||P.clearActive()},a.forEach(function(n,t){n.seriesIndex=t,n.values||(n.value?isNaN(n.value)||(n.values=[{x:0,y:parseInt(n.value,10)}]):n.values=[]),n.values.forEach(function(t,e){t.index=e,t.series=n,void 0===t.value&&(t.value=t.y)}),n.key=n.key||I.noLabel,n.value=n.value||Pt.sum(n.values,function(t){return t.value}),n.count=n.count||n.values.length,n.disabled=n.disabled||0===n.value});var f=a.filter(function(t){return!t.disabled});if(f.length||(f=[{values:[]}]),r.count=Pt.sum(f,function(t){return t.count}),r.total=Pt.sum(f,function(t){return t.value}),M.disabled=a.map(function(t){return!!t.disabled}),!r.total)return d(),P;F.chart(P).title(r.title).controlsData(L).legendData(a);var l,h=s.selectAll("g.sc-chart-wrap").data([f]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),p=s.select(".sc-chart-wrap").merge(h);h.append("defs");var g=p.select("defs");h.append("g").attr("class","sc-background-wrap");var m=p.select(".sc-background-wrap");h.append("g").attr("class","sc-title-wrap"),h.append("g").attr("class","sc-funnel-wrap");var v=p.select(".sc-funnel-wrap");h.append("g").attr("class","sc-controls-wrap"),h.append("g").attr("class","sc-legend-wrap"),p.attr("transform",zt.translation(y.left,y.top)),h.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-y.left).attr("y",-y.top).attr("fill","#FFF"),P.render=function(){var t,e,n,r,a,i,o,l;if(c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),e=x||u||400,n=(t=b||c||960)-y.left-y.right,r=e-y.top-y.bottom,i=n-(a={top:0,right:0,bottom:0,left:0}).left-a.right,o=r-a.top-a.bottom,m.select(".sc-background").attr("width",t).attr("height",e),F.width(n).height(r),s.call(F),l=F.getHeight(),a.top+=l,(o=r-a.top-a.bottom)<100)return d(null,I.displayError),P;S.width(i).height(o),v.datum(f).attr("transform",zt.translation(a.left,a.top)).transition().duration(w).call(S)},P.render(),F.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,t.active=!1,a.filter(function(t){return!t.disabled}).length||a.forEach(function(t){t.disabled=!1}),a.filter(function(t){return"active"===t.active}).length||a.forEach(function(t){t.active=""}),M.disabled=a.map(function(t){return!!t.disabled}),C.call("stateChange",this,M),P.update()}),C.on("tooltipShow",function(t){k&&(D=T(t,e.parentNode,r))}),C.on("tooltipMove",function(t){D&&kt.position(e.parentNode,D,t)}),C.on("tooltipHide",function(){k&&kt.cleanup()}),C.on("changeState",function(n){void 0!==n.disabled&&(f.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),P.update()}),C.on("chartClick",function(){F.controls.enabled()&&F.controls.dispatch.call("closeMenu",this),F.legend.enabled()&&F.legend.dispatch.call("closeMenu",this)}),S.dispatch.on("elementClick",function(t){C.call("chartClick",this),E(a,t,P)})}),P}return F.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),S.dispatch.on("elementMouseover.tooltip",function(t){C.call("tooltipShow",this,t)}),S.dispatch.on("elementMousemove.tooltip",function(t){C.call("tooltipMove",this,t)}),S.dispatch.on("elementMouseout.tooltip",function(){C.call("tooltipHide",this)}),P.dispatch=C,P.funnel=S,P.legend=F.legend,P.controls=F.controls,P.options=zt.optionsFunc.bind(P),zt.rebind(P,S,"id","color","fill","classes","gradient","locality","textureFill"),zt.rebind(P,S,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount"),zt.rebind(P,S,"yScale","yDomain","forceY","wrapLabels","minLabelWidth"),zt.rebind(P,F,"showTitle","showControls","showLegend"),P.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t,e){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t,e){var n=t.seriesIndex*(r.step||1)%14;return n=(9<n?"":"0")+n,"sc-series sc-series-"+t.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){var n={orientation:r.orientation||"vertical",position:r.position||"middle"};return S.gradientFill(t,t.seriesIndex,n)}:n;return S.color(n),S.fill(i),S.classes(a),F.legend.color(n),F.legend.classes(a),P},P.margin=function(t){if(!arguments.length)return y;for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);return P},P.width=function(t){return arguments.length?(b=t,P):b},P.height=function(t){return arguments.length?(x=t,P):x},P.tooltips=function(t){return arguments.length?(k=t,P):k},P.tooltipContent=function(t){return arguments.length?(a=t,P):a},P.state=function(t){return arguments.length?(M=t,C.call("stateChange",this,M),P):M},P.strings=function(t){return arguments.length?(I=c(t),F.strings(I),P):I},P.direction=function(t){return arguments.length?(e=t,S.direction(t),F.direction(t),P):e},P.duration=function(t){return arguments.length?(w=t,S.duration(t),P):w},P.delay=function(t){return arguments.length?(n=t,S.delay(t),P):n},P.seriesClick=function(t){return arguments.length?(E=t,P):E},P}function f(){var y={top:10,right:10,bottom:10,left:10},b=null,x=null,e="ltr",n=0,w=0,k=!0,M={},A=c(),I=Pt.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),C=o(),S=l(),F=[],L=null,a=function(t,e){var n=C.fmtKey()(t.point.series),r=C.getCount()(t.point.series),a;return"<h3>"+n+"</h3><p>"+C.getValue()(t.point.series)+" on "+r+"</p>"},D=function(t,e,n){var r=a(t,n);return kt.show(t.e,r,null,null,e)};function T(t){return t.each(function(t){var e=this,s=Pt.select(this),n="gauge",c=t&&t.properties||{},r=t&&t.data||null,u=parseInt(s.style("width"),10),d=parseInt(s.style("height"),10),a="datetime"===c.xDataType||!1,i="currency"===c.yDataType||!1;function f(t,e){var n=t&&t.length,r=(u-y.left-y.right)/2+y.left,a=(d-y.top-y.bottom)/2+y.top;return zt.displayNoData(n,s,e||A.noData,r,a)}if(T.update=function(){s.transition().duration(w).call(T)},T.container=this,f(r))return T;var o=0;C.minValue(o),r.forEach(function(n,t){var r=C.getValue()(n);n.seriesIndex=t,r||n.values?zt.isNumeric(n.value)&&(n.values=[{x:0,y:r}]):n.values=[],n.values.forEach(function(t,e){t.index=e,t.series=n,t.y0=o,t.y1=o+r}),n.value=r||Pt.sum(n.values,function(t){return C.getValue()(t)}),n.count=n.count||n.values.length,n.disabled=n.disabled||0===n.value,o+=r});var h=r.filter(function(t,e){return!t.disabled});if(c.count=Pt.sum(h,function(t){return t.count}),C.maxValue(o),M.disabled=r.map(function(t){return!!t.disabled}),f(h))return T;S.chart(T).title(c.title).controlsData(F).legendData(r);var l,p=s.selectAll("g.sc-chart-wrap").data([h]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),g=s.select(".sc-chart-wrap").merge(p);p.append("defs"),p.append("g").attr("class","sc-background-wrap");var m=g.select(".sc-background-wrap");p.append("g").attr("class","sc-title-wrap"),p.append("g").attr("class","sc-gauge-wrap");var v=g.select(".sc-gauge-wrap");p.append("g").attr("class","sc-controls-wrap"),p.append("g").attr("class","sc-legend-wrap"),g.attr("transform",zt.translation(y.left,y.top)),p.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-y.left).attr("y",-y.top).attr("fill","#FFF"),T.render=function(){var t,e,n,r,a,i,o,l;if(u=parseInt(s.style("width"),10),d=parseInt(s.style("height"),10),e=x||d||400,n=(t=b||u||960)-y.left-y.right,r=e-y.top-y.bottom,i=n-(a={top:0,right:0,bottom:0,left:0}).left-a.right,o=r-a.top-a.bottom,m.select(".sc-background").attr("width",t).attr("height",e),S.width(n).height(r),s.call(S),l=S.getHeight(),a.top+=l,(o=r-a.top-a.bottom)<100)return f(null,A.displayError),T;C.width(i).height(o),v.datum(h).attr("transform",zt.translation(a.left,a.top)).transition().duration(w).call(C),C.setPointer(c.value)},T.render(),I.on("tooltipShow",function(t){k&&(L=D(t,e.parentNode,c))}),I.on("tooltipMove",function(t){L&&kt.position(e.parentNode,L,t)}),I.on("tooltipHide",function(){k&&kt.cleanup()}),I.on("changeState",function(n){void 0!==n.disabled&&(h.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),T.update()}),I.on("chartClick",function(){S.controls.enabled()&&S.controls.dispatch.call("closeMenu",this),S.legend.enabled()&&S.legend.dispatch.call("closeMenu",this)})}),T}return S.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),C.dispatch.on("elementMouseover.tooltip",function(t){I.call("tooltipShow",this,t)}),C.dispatch.on("elementMousemove.tooltip",function(t){I.call("tooltipMove",this,t)}),C.dispatch.on("elementMouseout.tooltip",function(){I.call("tooltipHide",this)}),T.dispatch=I,T.gauge=C,T.legend=S.legend,T.controls=S.controls,T.options=zt.optionsFunc.bind(T),zt.rebind(T,C,"id","x","y","color","fill","classes","gradient","locality"),zt.rebind(T,C,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount"),zt.rebind(T,C,"showLabels","showPointer","setPointer","ringWidth","labelThreshold","maxValue","minValue"),zt.rebind(T,S,"showTitle","showControls","showLegend"),T.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t,e){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t,e){var n=t.seriesIndex*(r.step||1)%14;return n=(9<n?"":"0")+n,"sc-series sc-series-"+t.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){return C.gradientFill(t,t.seriesIndex)}:n;return C.color(n),C.fill(i),C.classes(a),S.legend.color(n),S.legend.classes(a),T},T.margin=function(t){if(!arguments.length)return y;for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);return T},T.width=function(t){return arguments.length?(b=t,T):b},T.height=function(t){return arguments.length?(x=t,T):x},T.tooltips=function(t){return arguments.length?(k=t,T):k},T.tooltipContent=function(t){return arguments.length?(a=t,T):a},T.state=function(t){return arguments.length?(M=t,T):M},T.strings=function(t){return arguments.length?(A=c(t),S.strings(A),T):A},T.direction=function(t){return arguments.length?(e=t,C.direction(t),S.direction(t),T):e},T.duration=function(t){return arguments.length?(w=t,C.duration(t),T):w},T.delay=function(t){return arguments.length?(n=t,C.delay(t),T):n},T}function h(){var j={top:10,right:10,bottom:10,left:10},U=null,X=null,e="ltr",n=0,Z=0,K=!0,$={},J=c(),Q=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),tt=3,et={},nt=function(t,e,n,r,a){var i=n||t,o;return r?(o=a&&0===a.indexOf("%")?a:"%x",zt.dateFormat(i,o,et)):i},rt=function(t,e,n,r,a){return zt.numberFormatSIFixed(t,r,n,et,a)},i=function(t,e){var n=t.group||{},r=t.point.x,a=t.point.y,i="datetime"===e.xDataType,o="currency"===e.yDataType,l={seriesName:e.seriesName||J.tooltip.key,seriesLabel:t.series.key,groupName:e.groupName||(i?J.tooltip.date:J.tooltip.group),groupLabel:nt(r,t.pointIndex,n.label,i,"%x"),valueName:o?J.tooltip.amount:J.tooltip.count,valueLabel:zt.numberFormat(a,null,o,et)},s;return t.group&&zt.isNumeric(t.group._height)&&(s=Math.abs(100*a/t.group._height).toFixed(1),l.percent=zt.numberFormat(s,2,!1,et)),kt.multi(l,J)},at=function(t,e,n,r){},it=y(),ot=l(),lt=v(),st=v(),ct=null,ut=function(t,e,n){var r=i(t,n),a=t.value<0?"n":"s";return kt.show(t.e,r,a,null,e)};function dt(t){return t.each(function(t){var e=this,g=Pt.select(this),n="line",r=t&&t.properties||{},a=t&&t.data||null,m=parseInt(g.style("width"),10),v=parseInt(g.style("height"),10),y=U,b=X,o="datetime"===r.xDataType||!1,i="numeric"===r.xDataType||!1,l="currency"===r.yDataType||!1,s=r.groups,c=Array.isArray(s)&&0<s.length,u=[],d=0,f=!1,x=[],h=0,p=0,w=it.padData()?tt:0,k=!1,M=[{key:"Linear",disabled:"linear"!==it.interpolate()},{key:"Basis",disabled:"basis"!==it.interpolate()},{key:"Monotone",disabled:"monotone"!==it.interpolate()},{key:"Cardinal",disabled:"cardinal"!==it.interpolate()},{key:"Line",disabled:!0===it.isArea()()},{key:"Area",disabled:!1===it.isArea()()}];function A(t,e){var n=t&&t.length&&t.filter(function(t){return!t.disabled&&Array.isArray(t.values)&&t.values.length}).length,r=(m-j.left-j.right)/2+j.left,a=(v-j.top-j.bottom)/2+j.top;return zt.displayNoData(n,g,e||J.noData,r,a)}if(dt.update=function(){g.transition().duration(Z).call(dt)},dt.setActiveState=function(t,e){t.active=e,t.values.forEach(function(t){t.active=e})},dt.clearActive=function(e){a.forEach(function(t){dt.setActiveState(t,e||"")}),delete $.active},dt.cellActivate=function(t){var e=a[t.seriesIndex].values[t.pointIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",dt.clearActive(),e.active=n)},dt.seriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",dt.clearActive("active"===n?"inactive":""),dt.setActiveState(e,n),$.active=a.map(function(t){return"active"===t.active}))},dt.dataSeriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&("active"===(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"inactive")?dt.seriesActivate(t):dt.clearActive())},dt.container=this,A(a))return dt;if(et=dt.locality(),a.forEach(function(t,e){t.seriesIndex=e,t.key=t.key||J.noLabel,t.total=Pt.sum(t.values,function(t,e){return t.group=c?t.x-1:e,t.y}),t.disabled=t.disabled||0===t.total}),h=(x=a.filter(function(t){return!t.disabled}).map(function(t,e){return t.seri=e,t})).length,A(x))return dt;function I(t){u=t.map(function(t){return t.label}),d=u.length,f=0<d}c?(s.forEach(function(n,r){var t=void 0===n.label||""===n.label?J.noLabel:o?zt.isNumeric(n.label)||-1!==n.label.indexOf("GMT")?new Date(n.label):new Date(n.label+" GMT"):n.label;n.group=r,n.label=t,n.total=0,x.forEach(function(t,e){t.values.filter(function(t,e){return t.group===r}).forEach(function(t,e){n.total+=t.y})})}),I(s),p=Pt.sum(s,function(t){return t.total})):(u=Pt.merge(x.map(function(t){return t.values})).reduce(function(t,e){return-1===t.indexOf(e.x)&&t.push(e.x),t},[]).map(function(t,e){return o?new Date(t):t}),d=Math.min(Math.ceil(innerWidth/100),u.length),p=Pt.sum(x,function(t){return t.total}));var C=75,S=null,F=null,L=null,D={axis:null,maxmin:null};function T(t,e){var n=e.map(function(t){return Pt.select(t).datum()}),r=Pt.max(Pt.extent(n),function(t){return zt.siDecimal(Math.abs(t))}),a=Pt.max(n,function(t){var e=Pt.formatPrefix(".2s",r)(t);return zt.countSigFigsAfter(e)});return"maxmin"===t&&D.axis&&(a=Math.max(D.axis.precision,a)),D[t]={decimal:r,precision:a},D[t]}o&&(S=zt.getDateFormatUTC(u)),F=function(t,e,n,r){var a=f?u[e]:t,i=nt(t,e,a,o,S);return"no-ellipsis"===r?i:zt.stringEllipsify(i,g,C)},L=function(t,e,n,r){var a=D[r]||T(r,n);return rt(t,e,l,a.precision,a.decimal)},$.disabled=x.map(function(t){return!!t.disabled}),$.interpolate=it.interpolate(),$.isArea=it.isArea()(),ot.chart(dt).title(r.title).controlsData(M).legendData(a),k=1===Pt.max(x,function(t){return t.values.length});var E=Math.pow(tt,2)*Math.PI*(k?3:1);if(it.xScale(o?Pt.scaleTime():Pt.scaleLinear()).singlePoint(k).size(E).sizeRange([E,E]).sizeDomain([E,E]),k){var P=Pt.merge(x.map(function(t){return t.values.map(function(t,e){return it.x()(t,e)})})).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]).sort(function(t,e){return t-e}),z=Pt.extent(P),N=1*(o&&!u.length?864e5:1),_=Pt.merge(x.map(function(t){return t.values.map(function(t,e){return it.y()(t,e)})})),R=Pt.extent(_),B=1===x.length?2:Math.min((R[1]-R[0])/x.length,R[0]);it.xDomain([z[0]-N,z[1]+N]).yDomain([R[0]-B,R[1]+B]),lt.orient("bottom").ticks(P.length).tickValues(P).highlightZero(!1).showMaxMin(!1),st.orient("left").ticks(k?5:null).highlightZero(!1).showMaxMin(!1)}else it.xDomain(null).yDomain(null),lt.orient("bottom").tickValues(f?Pt.range(1,d+1):null).ticks(f?d:null).highlightZero(!1).showMaxMin(!f),st.orient("left").ticks(null).highlightZero(!0).showMaxMin(!0);lt.scale(it.xScale()).tickPadding(6).valueFormat(F),st.scale(it.yScale()).tickPadding(6).valueFormat(L);var O,H=g.selectAll("g.sc-chart-wrap").data([x]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),V=g.select(".sc-chart-wrap").merge(H);H.append("defs"),H.append("g").attr("class","sc-background-wrap");var G=V.select(".sc-background-wrap");H.append("g").attr("class","sc-title-wrap"),H.append("g").attr("class","sc-axis-wrap sc-axis-x");var W=V.select(".sc-axis-wrap.sc-axis-x");H.append("g").attr("class","sc-axis-wrap sc-axis-y");var Y=V.select(".sc-axis-wrap.sc-axis-y");H.append("g").attr("class","sc-line-wrap");var q=V.select(".sc-line-wrap");H.append("g").attr("class","sc-controls-wrap"),H.append("g").attr("class","sc-legend-wrap"),V.attr("transform",zt.translation(j.left,j.top)),H.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-j.left).attr("y",-j.top).attr("fill","#FFF"),dt.render=function(){var t,e,n,r,a,i,o=0,l=0;if(m=parseInt(g.style("width"),10),v=parseInt(g.style("height"),10),e=X||v||400,y=(t=U||m||960)-j.left-j.right,b=e-j.top-j.bottom,r=y-(n={top:0,right:0,bottom:0,left:0}).left-n.right,a=b-n.top-n.bottom,G.select(".sc-background").attr("width",t).attr("height",e),C=Math.max(.2*y,75),ot.width(y).height(b),g.call(ot),i=ot.getHeight(),n.top+=i,(a=b-n.top-n.bottom)<100)return A(null,J.displayError),dt;function s(t){return"width"===t?r:"height"===t?a:0}it.width(s("width")).height(s("height")),q.datum(x).call(it);var c={top:0,right:0,bottom:0,left:0},u={top:0,right:0,bottom:0,left:0};function d(){u=lt.margin(),c=st.margin(),n.left=Math.max(u.left,c.left),n.right=Math.max(u.right,c.right),n.top=Math.max(u.top,c.top),n.bottom=Math.max(u.bottom,c.bottom),f()}function f(){r=y-n.left-n.right,a=b-i-n.top-n.bottom,it.resetDimensions(s("width"),s("height"))}function h(){st.tickSize(w-r,0).margin(n),Y.call(st),d()}function p(){lt.tickSize(w-a,0).margin(n),W.call(lt),d()}h(),p(),h(),p(),h(),q.transition().duration(Z).call(it),n.top+=i,o=n.left,l=n.top+("bottom"===lt.orient()?a:0),W.attr("transform",zt.translation(o,l)),o=n.left+("left"===st.orient()?0:r),l=n.top,Y.attr("transform",zt.translation(o,l)),q.attr("transform",zt.translation(n.left,n.top))},dt.render(),ot.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,a.filter(function(t){return!t.disabled}).length||a.forEach(function(t){t.disabled=!1}),$.disabled=a.map(function(t){return!!t.disabled}),t.active="inactive",t.values.forEach(function(t){t.active="inactive"}),a.filter(function(t){return"active"===t.active}).length||dt.clearActive(),$.active=a.map(function(t){return!!t.active}),dt.update(),Q.call("stateChange",this,$)}),ot.controls.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(M.forEach(function(t){t.disabled=!0}),t.disabled=!1,t.key){case"Basis":it.interpolate("basis");break;case"Linear":it.interpolate("linear");break;case"Monotone":it.interpolate("monotone");break;case"Cardinal":it.interpolate("cardinal");break;case"Line":it.isArea(!1);break;case"Area":it.isArea(!0)}$.interpolate=it.interpolate(),$.isArea=it.isArea(),dt.update(),Q.call("stateChange",this,$)}}),Q.on("tooltipShow",function(t){K&&(f&&(t.group=s[t.groupIndex]),ct=ut(t,e.parentNode,r))}),Q.on("tooltipMove",function(t){ct&&kt.position(e.parentNode,ct,t,"s")}),Q.on("tooltipHide",function(){K&&kt.cleanup()}),Q.on("changeState",function(n){void 0!==n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),$.disabled=n.disabled),void 0!==n.interpolate&&(it.interpolate(n.interpolate),$.interpolate=n.interpolate),void 0!==n.isArea&&(it.isArea(n.isArea),$.isArea=n.isArea),dt.update()}),Q.on("chartClick",function(){ot.controls.enabled()&&ot.controls.dispatch.call("closeMenu",this),ot.legend.enabled()&&ot.legend.dispatch.call("closeMenu",this)}),it.dispatch.on("elementClick",function(t){f&&t.groupIndex&&(t.group=s[t.groupIndex]),Q.call("chartClick",this),it.dispatch.call("elementMouseout",this,t),at(a,t,dt,u)}),g.on("click",function(){Pt.event.stopPropagation(),Q.call("chartClick",this)})}),dt}return it.clipEdge(!0),ot.showTitle(!0).showControls(!0).showLegend(!0),it.dispatch.on("elementMouseover.tooltip",function(t){Q.call("tooltipShow",this,t)}),it.dispatch.on("elementMousemove.tooltip",function(t){Q.call("tooltipMove",this,t)}),it.dispatch.on("elementMouseout.tooltip",function(t){Q.call("tooltipHide",this,t)}),dt.dispatch=Q,dt.lines=it,dt.legend=ot.legend,dt.controls=ot.controls,dt.xAxis=lt,dt.xAxisLabel=lt.axisLabel,dt.yAxis=st,dt.yAxisLabel=st.axisLabel,dt.options=zt.optionsFunc.bind(dt),zt.rebind(dt,it,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality"),zt.rebind(dt,it,"defined","isArea","interpolate","size","clipVoronoi","useVoronoi","interactive","nice"),zt.rebind(dt,ot,"showTitle","showControls","showLegend"),zt.rebind(dt,lt,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks"),dt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){var e;return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}return it.color(n),it.fill(n),it.classes(a),ot.legend.color(n),ot.legend.classes(a),dt},dt.margin=function(t){if(!arguments.length)return j;for(var e in t)t.hasOwnProperty(e)&&(j[e]=t[e]);return dt},dt.width=function(t){return arguments.length?(U=t,dt):U},dt.height=function(t){return arguments.length?(X=t,dt):X},dt.tooltips=function(t){return arguments.length?(K=t,dt):K},dt.tooltipContent=function(t){return arguments.length?(i=t,dt):i},dt.state=function(t){return arguments.length?($=t,Q.call("stateChange",this,$),dt):$},dt.strings=function(t){return arguments.length?(J=c(t),ot.strings(J),dt):J},dt.direction=function(t){return arguments.length?(e=t,it.direction(t),lt.direction(t),st.direction(t),ot.direction(t),dt):e},dt.duration=function(t){return arguments.length?(Z=t,it.duration(t),dt):Z},dt.delay=function(t){return arguments.length?(n=t,it.delay(t),dt):n},dt.xValueFormat=function(t){return arguments.length?(nt=t,dt):nt},dt.yValueFormat=function(t){return arguments.length?(rt=t,dt):rt},dt.seriesClick=function(t){return arguments.length?(at=t,dt):at},dt.pointRadius=function(t){return arguments.length?(tt=t,dt):tt},dt}var yt=function(){function C(t){return t[0]}function S(t){return t[1]}function F(t){return t.x}function L(t){return t.y}function D(t,e){return e}function T(t){return t}function p(t){return t.hasOwnProperty("value")||t.hasOwnProperty("y")}function r(t){return Array.isArray(t.values)&&t.values.length}function g(t){return r(t)&&1===t.values.length}function E(t,e){var n;return-1!==["multibar","line","area","pie","funnel","gauge"].indexOf(t)&&Array.isArray(e)&&0<e.filter(function(t){return r(t)||p(t)}).length}function P(t,e){var n;return-1!==["multibar","line","area"].indexOf(t)&&Array.isArray(e)&&0<e.length}function z(t){return Array.isArray(t)&&0<t.length&&Array.isArray(t[0])}function N(t){return Array.isArray(t)&&0<t.length&&p(t[0])}function _(t){return void 0!==t&&String(t.hasOwnProperty("label")?t.label:t).toString()||e}function R(t){return void 0!==t&&t.hasOwnProperty("key")?String(t.key).toString()||e:_(t)}function B(t,e){t.hasOwnProperty("disabled")&&(e.disabled=t.disabled),t.hasOwnProperty("color")&&(e.color=t.color),t.hasOwnProperty("classes")&&(e.classes=t.classes)}var e=c().translate("noLabel"),t=function(t,e,n){var r=t.properties?Array.isArray(t.properties)?t.properties[0]:t.properties:{},a=[],i=[],o=[],l=!1,s=!1,c=!1,u="datetime"===r.xDataType||!1,d="numeric"===r.xDataType||!1,f=!1,h,p,g,m;function v(t,e){var n={group:e+1,label:_(t)};return t.values&&(n.total=y(t)),n}function y(t){var e=0;return t.hasOwnProperty("value")?e=t.value:t.hasOwnProperty("y")?e=t.y:t.hasOwnProperty("values")?e=Pt.sum(t.values,m):zt.isNumeric(t)&&(e=t),e}function b(t,e){var n=s?t:{};return n.x=g(t,e),n.y=m(t,e),n}function x(a,t){return t.values.map(function(t,e){var n=s?t:{},r=p(t,e)+p(a.values[e],e);return n.x=g(t,e),n.y=parseFloat(r),n})}function w(t){var e,n;return n=t.values.map(b),B(t,e={key:R(t),values:n}),e}function k(t,r,e){var n,a;return a=e.map(function(t,e){var n=t.values[0];return r===e?b(n,e):{x:g(n,e),y:0}}),B(t,n={key:R(t),values:a}),n}function M(t,e){var n,r;return r=[b(t.values[e]||t.values[0],e)],B(t,n={key:R(t),values:r}),n}function A(t,e){var n,r;n=t.keys||e.shift().splice(1),o=[],r=Pt.transpose(e.map(function(t,e){var n=t.shift();return u||d||o.push(v(n,e)),t.map(function(t){return u||d?[n,t]:[e+1,t]})})),a=n.map(function(t,e){return{key:t,values:r[e]}})}if(z(t.values)?A(r,t.values):t.values?(a=t.values,o=t.label||[]):(a=t.data,o=r.groups||r.labels||r.label||[]),f=P(e,o),E(e,a)){switch(l=z(a[0].values),s=N(a[0].values),c=O(a,o,h=l?C:s?F:D,p=l?S:s?L:T),g=f?function(t,e){return e+1}:u?function(t,e){var n,r,a;return"string"==typeof(r=4===(n=h(t,e)).toString().length?"1/1/"+n.toString():n)&&-1===r.indexOf("GMT")&&(r+=" GMT"),(a=new Date(r)).valueOf()}:d?function(t,e){return parseFloat(h(t,e))}:function(t,e){return h(t,e)},m=function(t,e){return parseFloat(p(t,e))},e){case"multibar":"basic"===n?(i=1===a.length?a.map(w):[{key:r.key||"Series 0",values:a.reduce(x)}],r.colorLength=i[0].values.length):i=c?a.map(M):a.map(w);break;case"gauge":case"pie":i=a.map(function(t){var e;return B(t,e={key:R(t),value:y(t)}),e});break;case"funnel":i=a.reverse().map(function(t,e){var n,r;return n=Pt.sum(t.values,p),B(t,r={key:R(t),values:[{series:e,x:0,y:n,y0:0}]}),r});break;case"area":case"line":i=a.map(w)}h=F,p=L,P(e,o)?r.groups=o.map(v):delete r.groups,r.hasOwnProperty("colorLength")||(r.colorLength=i.length),i.forEach(function(t,e){t.seriesIndex=e,t.total=y(t),t.total||(t.disabled=!0)})}else switch(e){case"bubble":if(t.data)r=t.properties,i=t.data;else{var I={"Negotiation/Review":"Negotiat./Review","Perception Analysis":"Percept. Analysis","Proposal/Price Quote":"Proposal/Quote","Id. Decision Makers":"Id. Deciders"};r={title:"Bubble Chart Data",yDataType:"string",xDataType:"datetime",colorLength:t.records.length},i=t.records.map(function(t){return{id:t.id,x:t.date_closed,y:Math.round(parseInt(t.likely_case,10)/parseFloat(t.base_rate)),shape:"circle",account_name:t.account_name,assigned_user_name:t.assigned_user_name,sales_stage:t.sales_stage,sales_stage_short:I[t.sales_stage]||t.sales_stage,probability:parseInt(t.probability,10),base_amount:parseInt(t.likely_case,10),currency_symbol:"$"}})}break;case"pareto":r=t.properties,i=t.data}return{properties:r,data:i}},O=function(r,a,i,o){var n=null,l=null,s=Array.isArray(a)&&0<a.length&&a.length===r.length;function c(t,r){return t.reduce(function(t,e){return e.values.reduce(function(t,e){var n=r(e);return-1===t.indexOf(n)&&t.push(n),t},t)},[]).length===t.length}function u(t,e){return t.length===t[0].values.length&&t.filter(function(t){return t.values.filter(function(t){return 0!==e(t)}).length<=1}).length===t.length}function d(t,e,n){return R(t)===_(e[n])}function f(t,e){return null===n?c(t,e):n}function h(t,e){return null===l?u(t,e):l}return r.reduce(function(t,e,n){return!!t&&(p(e)||g(e)&&(s&&d(e,a,n)||f(r,i))||(!s||d(e,a,n))&&h(r,o))},!0)};return t.areValuesDiscrete=O,t}();function p(){var q={top:10,right:10,bottom:10,left:10},j=null,U=null,e="ltr",n=0,X=0,Z=!0,K={},$=c(),J=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),Q=!0,tt=!0,et=!0,nt=function(t){},rt={},at=function(t,e,n,r,a){var i=n||t,o;return r?(o=a&&0===a.indexOf("%")?a:"%x",zt.dateFormat(i,o,rt)):i},it=function(t,e,n,r,a){return zt.numberFormatSIFixed(t,r,n,rt,a)},ot=function(t,e,n,r){return n||zt.numberFormatSI(t,0,r,rt)},i=function(t,e){var n=t.group||{},r=t.point.x,a=t.point.y,i="datetime"===e.xDataType,o="currency"===e.yDataType,l={seriesName:e.seriesName||$.tooltip.key,seriesLabel:t.series.key,groupName:e.groupName||(i?$.tooltip.date:$.tooltip.group),groupLabel:at(r,t.pointIndex,n.label,i,"%x"),valueName:o?$.tooltip.amount:$.tooltip.count,valueLabel:zt.numberFormat(a,null,o,rt)},s;return t.group&&zt.isNumeric(t.group._height)&&(s=Math.abs(100*a/t.group._height).toFixed(1),l.percent=zt.numberFormat(s,2,!1,rt)),kt.multi(l,$)},lt=function(t,e,n,r){},st=b(),ct=l(),ut=v(),dt=v(),ft=!1,ht=0,pt=u().id(st.id()),gt=null,mt=function(t,e,n){var r=i(t,n),a=t.value<0?Q?"n":"e":Q?"s":"w";return kt.show(t.e,r,a,null,e)};function vt(t){return t.each(function(t){var e=this,x=Pt.select(this),n=Q?"multibar":"multibar-horizontal",r=t&&t.properties||{},w=t&&t.data||null,k=parseInt(x.style("width"),10),M=parseInt(x.style("height"),10),A=j,I=U,o="datetime"===r.xDataType||!1,a="numeric"===r.xDataType||!1,i="currency"===r.yDataType||!1,l=r.groups,s=Array.isArray(l)&&0<l.length,c=[],C=0,u=!1,d=!1,S=[],F=0,f=0,L=st.stacked()&&Q?72:32,h=[{key:"Grouped",disabled:st.stacked()},{key:"Stacked",disabled:!st.stacked()}];function D(t,e){var n=t&&t.length&&t.filter(function(t){return!t.disabled&&Array.isArray(t.values)&&t.values.length}).length,r=(k-q.left-q.right)/2+q.left,a=(M-q.top-q.bottom)/2+q.top;return zt.displayNoData(n,x,e||$.noData,r,a)}if(vt.update=function(){x.transition().duration(X).call(vt)},vt.setActiveState=function(t,e){t.active=e,t.values.forEach(function(t){t.active=e})},vt.clearActive=function(e){w.forEach(function(t){vt.setActiveState(t,e||"")}),delete K.active},vt.cellActivate=function(t){var e=w[t.seriesIndex].values[t.pointIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",vt.clearActive(),e.active=n)},vt.seriesActivate=function(t){var e=t.series||w[t.seriesIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",vt.clearActive("active"===n?"inactive":""),vt.setActiveState(e,n),K.active=w.map(function(t){return"active"===t.active}))},vt.dataSeriesActivate=function(t){var e=t.series||w[t.seriesIndex],n;e&&("active"===(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"inactive")?vt.seriesActivate(t):vt.clearActive())},vt.container=this,D(w))return vt;function p(t,e){var n={x:t.x,y:t.y};return void 0!==t.label&&(n.label=t.label),t.active&&(n.active=t.active),n}if(rt=vt.locality(),w.forEach(function(t,e){t._values||(t._values=t.values.map(p)),t.seriesIndex=e,t.key=t.key||$.noLabel,t.total=Pt.sum(t._values,function(t,e){return t.y}),t.disabled=t.disabled||0===t.total}),S=w.filter(function(t){return!t.disabled}).map(function(r,t){return r.seri=t,r.values=r._values.map(function(t,e){var n=p(t,e);return n.groupIndex=o||a?e:t.x-1,n.seriesIndex=r.seriesIndex,n.seri=r.seri,n.color=r.color||"",n}),r}),F=S.length,D(S))return vt;function g(t){c=t.map(function(t){return t.label}),C=c.length,u=0<C}if(s?l.forEach(function(t,e){var n=void 0===t.label||""===t.label?$.noLabel:o?zt.isNumeric(t.label)||-1!==t.label.indexOf("GMT")?new Date(t.label):new Date(t.label+" GMT"):t.label;t.group=e,t.label=n,t.total=0,t._height=0}):l=S[0].values.map(function(t,e){return{group:e,label:o?new Date(t.x):t.x,total:0,_height:0}}),g(l),d=yt.areValuesDiscrete(S,l,st.x(),st.y()),l.forEach(function(n,r){var a=0,i=0;S.forEach(function(t,e){t.values.filter(function(t,e){return t.groupIndex===r}).forEach(function(t,e){t.size=Math.abs(t.y),n._height+=t.size,n.total+=t.y,t.y<0?(t.y0=(d?0:i)-(Q?0:t.size),i-=t.size):(t.y0=(d?0:a)+(Q?t.size:0),a+=t.size)})}),n.neg={label:ot(i),y:i},n.pos={label:ot(a),y:a}}),et&&(g(l.filter(function(t,e){return 0!==t._height})),S.forEach(function(t,e){return t.values=t.values.filter(function(t,e){return 0!==l[t.groupIndex]._height}).map(function(t,e){return t}),t}),D(S)))return vt;f=Pt.sum(l,function(t){return t.total});var T=75,m=null,v=null,y=null,b=null,E=0,P=0===Pt.max(Pt.merge(S.map(function(t){return t.values.map(function(t){var e=st.y()(t);return zt.countSigFigsAfter(e)})})));P&&(E=Pt.max(l,function(t){return t.total}));var z={axis:null,maxmin:null};function N(t,e){var n=e.map(function(t){return Pt.select(t).datum()}),r=Pt.max(Pt.extent(n),function(t){return zt.siDecimal(Math.abs(t))}),a=Pt.max(n,function(t){var e=Pt.formatPrefix(".2s",r)(t);return zt.countSigFigsAfter(e)});return"maxmin"===t&&z.axis&&(a=Math.max(z.axis.precision,a)),z[t]={decimal:r,precision:a},z[t]}o&&(m=zt.getDateFormatUTC(c)),v=function(t,e,n,r){var a=u?c[e]:t,i=at(t,e,a,o,m);return"no-ellipsis"===r?i:zt.stringEllipsify(i,x,T)},y=function(t,e,n,r){var a=z[r]||N(r,n);return it(t,e,i,a.precision,a.decimal)},b=function(t,e,n){return ot(t,e,n,i)},K.disabled=S.map(function(t){return!!t.disabled}),K.active=S.map(function(t){return"active"===t.active}),K.stacked=st.stacked(),ct.chart(vt).title(r.title).controlsData(h).legendData(w),st.valueFormat(b),ut.orient(Q?"bottom":"left").scale(st.xScale()).valueFormat(v).tickSize(0).tickPadding(4).highlightZero(!1).showMaxMin(!1),dt.orient(Q?"left":"bottom").scale(st.yScale()).valueFormat(y).tickPadding(4).showMaxMin(!0);var _,R=x.selectAll("g.sc-chart-wrap").data([S]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),B=x.select(".sc-chart-wrap").merge(R);R.append("defs");var O=B.select("defs");R.append("g").attr("class","sc-background-wrap");var H=B.select(".sc-background-wrap");R.append("g").attr("class","sc-title-wrap"),R.append("g").attr("class","sc-axis-wrap sc-axis-y");var V=B.select(".sc-axis-wrap.sc-axis-y");R.append("g").attr("class","sc-scroll-wrap");var G=B.select(".sc-scroll-wrap");R.select(".sc-scroll-wrap").append("g").attr("class","sc-axis-wrap sc-axis-x");var W=B.select(".sc-axis-wrap.sc-axis-x");R.select(".sc-scroll-wrap").append("g").attr("class","sc-bars-wrap");var Y=B.select(".sc-bars-wrap");R.append("g").attr("class","sc-controls-wrap"),R.append("g").attr("class","sc-legend-wrap"),B.attr("transform",zt.translation(q.left,q.top)),tt?pt(B,R,G,ut):R.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-q.left).attr("y",-q.top).attr("fill","#FFF"),vt.render=function(){var t,e,n,r,a,i,o=0,l=0;if(k=parseInt(x.style("width"),10),M=parseInt(x.style("height"),10),e=U||M||400,A=(t=j||k||960)-q.left-q.right,I=e-q.top-q.bottom,r=A-(n={top:0,right:0,bottom:0,left:0}).left-n.right,a=I-n.top-n.bottom,H.select(".sc-background").attr("width",t).attr("height",e),ct.width(A).height(I),x.call(ct),i=ct.getHeight(),n.top+=i,(a=I-n.top-n.bottom)<100)return D(null,$.displayError),vt;var s=K.stacked?L:L*F+L,c=L*(K.stacked?.25:1),u=C*s+c;function d(t){return"width"===t?Q&&tt?Math.max(r,u):r:"height"===t?!Q&&tt?Math.max(a,u):a:0}T=Math.max(Q?2*L:.2*A,75),st.vertical(Q).baseDimension(L).disabled(w.map(function(t){return t.disabled})).width(d("width")).height(d("height")),Y.datum(S).call(st);var f={top:0,right:0,bottom:0,left:0},h={top:0,right:0,bottom:0,left:0};function p(){h=ut.margin(),f=dt.margin(),n.left=Math.max(h.left,f.left),n.right=Math.max(h.right,f.right),n.top=Math.max(h.top,f.top),n.bottom=Math.max(h.bottom,f.bottom),g()}function g(){r=A-n.left-n.right,a=I-i-n.top-n.bottom,st.resetDimensions(d("width"),d("height"))}function m(){dt.ticks(P&&E<10?E:a/48).tickSize(Q?-r:-a,0).margin(n),V.call(dt),p()}function v(){ut.tickSize(0).margin(n),W.call(ut),p()}if(m(),v(),m(),v(),m(),Y.transition().duration(X).call(st),n.top+=i,o=Q||"left"===ut.orient()?0:r,l=Q&&"bottom"===ut.orient()?a+2:-2,W.attr("transform",zt.translation(o,l)),o=n.left+(Q||"bottom"===dt.orient()?0:r),l=n.top+(Q||"left"===dt.orient()?0:a),V.attr("transform",zt.translation(o,l)),G.attr("transform",zt.translation(n.left,n.top)),tt){ft=(Q?r:a)<u,W.select(".sc-axislabel").attr("x",(Q?r:-a)/2);var y=(Q?r:a)-u,b=function(){var t;J.call("tooltipHide",this),ht=pt.pan(y),t=Q?r-2*ht:2*ht-a,t/=2,W.select(".sc-axislabel").attr("x",t)};pt.enable(ft).width(r).height(a).margin(n).minDimension(u).vertical(Q).panHandler(b).resize(ht,nt),pt.panHandler()()}},vt.render(),ct.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,w.filter(function(t){return!t.disabled}).length||w.forEach(function(t){t.disabled=!1}),K.disabled=w.map(function(t){return!!t.disabled}),t.active="inactive",t.values.forEach(function(t){t.active="inactive"}),w.filter(function(t){return"active"===t.active}).length||vt.clearActive(),K.active=w.map(function(t){return!!t.active}),vt.update(),J.call("stateChange",this,K)}),ct.controls.dispatch.on("legendClick",function(t,e){t.disabled&&(h.forEach(function(t){t.disabled=!0}),t.disabled=!1,st.stacked("Grouped"!==t.key),K.stacked=st.stacked(),vt.update(),J.call("stateChange",this,K))}),J.on("tooltipShow",function(t){Z&&(u&&(t.group=l[t.groupIndex]),gt=mt(t,e.parentNode,r))}),J.on("tooltipMove",function(t){gt&&kt.position(e.parentNode,gt,t,Q?"s":"w")}),J.on("tooltipHide",function(){Z&&kt.cleanup()}),J.on("changeState",function(n){void 0!==n.disabled&&(w.forEach(function(t,e){t.disabled=n.disabled[e]}),K.disabled=n.disabled),void 0!==n.active&&(w.forEach(function(e,t){e.active=n.active[t]?"active":"inactive",e.values.forEach(function(t){t.active=e.active})}),K.active=n.active,w.filter(function(t){return"active"===t.active}).length||vt.clearActive()),void 0!==n.stacked&&(st.stacked(n.stacked),K.stacked=n.stacked),vt.update()}),J.on("chartClick",function(){ct.controls.enabled()&&ct.controls.dispatch.call("closeMenu",this),ct.legend.enabled()&&ct.legend.dispatch.call("closeMenu",this)}),st.dispatch.on("elementClick",function(t){u&&t.groupIndex&&(t.group=l[t.groupIndex]),J.call("chartClick",this),lt(w,t,vt,c)}),x.on("click",function(){Pt.event.stopPropagation(),J.call("chartClick",this)})}),vt}return ct.showTitle(!0).showControls(!0).showLegend(!0),st.dispatch.on("elementMouseover.tooltip",function(t){J.call("tooltipShow",this,t)}),st.dispatch.on("elementMousemove.tooltip",function(t){J.call("tooltipMove",this,t)}),st.dispatch.on("elementMouseout.tooltip",function(t){J.call("tooltipHide",this,t)}),vt.dispatch=J,vt.multibar=st,vt.legend=ct.legend,vt.controls=ct.controls,vt.xAxis=ut,vt.xAxisLabel=ut.axisLabel,vt.yAxis=dt,vt.yAxisLabel=dt.axisLabel,vt.options=zt.optionsFunc.bind(vt),zt.rebind(vt,st,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality"),zt.rebind(vt,st,"stacked","showValues","nice","textureFill"),zt.rebind(vt,ct,"showTitle","showControls","showLegend"),zt.rebind(vt,ut,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks"),vt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t){var e={orientation:r.orientation||(Q?"vertical":"horizontal"),position:r.position||"middle"};return st.gradientFill(t,t.seriesIndex,e)}:n;return st.color(n),st.fill(i),st.classes(a),ct.legend.color(n),ct.legend.classes(a),vt},vt.margin=function(t){if(!arguments.length)return q;for(var e in t)t.hasOwnProperty(e)&&(q[e]=t[e]);return vt},vt.width=function(t){return arguments.length?(j=t,vt):j},vt.height=function(t){return arguments.length?(U=t,vt):U},vt.tooltips=function(t){return arguments.length?(Z=t,vt):Z},vt.tooltipContent=function(t){return arguments.length?(i=t,vt):i},vt.state=function(t){return arguments.length?(K=t,J.call("stateChange",this,K),vt):K},vt.strings=function(t){return arguments.length?($=c(t),ct.strings($),vt):$},vt.direction=function(t){return arguments.length?(e=t,st.direction(t),ut.direction(t),dt.direction(t),ct.direction(t),vt):e},vt.duration=function(t){return arguments.length?(X=t,st.duration(t),vt):X},vt.delay=function(t){return arguments.length?(n=t,st.delay(t),vt):n},vt.valueFormat=function(t){return arguments.length?(ot=t,vt):ot},vt.xValueFormat=function(t){return arguments.length?(at=t,vt):at},vt.yValueFormat=function(t){return arguments.length?(it=t,vt):it},vt.seriesClick=function(t){return arguments.length?(lt=t,vt):lt},vt.vertical=function(t){return arguments.length?(Q=t,vt):Q},vt.allowScroll=function(t){return arguments.length?(tt=t,vt):tt},vt.hideEmptyGroups=function(t){return arguments.length?(et=t,vt):et},vt.overflowHandler=function(t){return arguments.length?(nt=zt.functor(t),vt):nt},vt}function g(){var e={barLegend:{close:"Hide bar legend",open:"Show bar legend",noLabel:"undefined"},lineLegend:{close:"Hide line legend",open:"Show line legend",noLabel:"undefined"}},nt={top:10,right:10,bottom:10,left:10},rt=null,at=null,it=!1,ot=!0,lt="ltr",st=!0,n=!1,r=0,a=0,u={},ct=c(e),d=function(t){return t.x},f=function(t){return t.y},i=zt.buildLocality(),ut=Pt.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),h=function(t,e,n,r){return r?zt.dateFormat(n,"%x",wt.locality()):n},p=function(t,e,n,r){var a=2;return zt.numberFormatSI(t,2,r,wt.locality())},dt=p,ft=b().stacked(!0).clipEdge(!1).withLine(!0).nice(!1),ht=y().color(function(t,e){return"#FFF"}).fill(function(t,e){return"#FFF"}).useVoronoi(!1).nice(!1),pt=y().useVoronoi(!1).color("data").nice(!1),gt=v(),mt=v(),vt=z().align("left").position("middle"),yt=z().align("right").position("middle"),bt=null,l=function(t,e,n,r,a){return"<p><b>"+t+"</b></p><p><b>"+n+"</b></p><p><b>"+e+"%</b></p>"},s=function(t,e,n,r,a){return"<p><p>"+t+": <b>"+n+"</b></p>"},o=function(t,e,n,r,a){return"<p>"+r.key+": <b>"+n+"</b></p>"},g=function(t,e,n){var r=t.series.key,a=(100*t.point.y/n[t.pointIndex].t).toFixed(1),i=pt.y()(t.point,t.pointIndex),o="bar"===t.series.type?l(r,a,i,t,wt):s(r,a,i,t,wt);return kt.show(t.e,o,"s",null,e)},xt=function(t,e){var n=o(t.key,0,t.val,t,wt);return kt.show(t.e,n,"s",null,e)},m=function(t,e,n,r){};function wt(t){return t.each(function(t){var R=this,B=Pt.select(this),O="pareto",H=t&&t.properties||{},V=t&&t.data||null,G=parseInt(B.style("width"),10),W=parseInt(B.style("height"),10),Y=Math.pow(6,2)*Math.PI,l="datetime"===H.xDataType||!1,a="currency"===H.yDataType||!1,s=ft.stacked()?72:32,e=function(t,e,n,r){var a=c&&Array.isArray(c)&&c[e]||t,i=h(t,e,a,l),o=Math.max(2*s,75);return r?i:zt.stringEllipsify(i,B,o)},n=function(t,e,n,r){return p(t,e,null,a)},q,j;function r(t,e){var n=t&&t.length&&t.filter(function(t){return!t.disabled&&Array.isArray(t.values)&&t.values.length}).length,r=(G-nt.left-nt.right)/2+nt.left,a=(W-nt.top-nt.bottom)/2+nt.top;return zt.displayNoData(n,B,e||ct.noData,r,a)}if(wt.update=function(){B.transition().call(wt)},wt.container=this,r(V))return wt;wt.dataSeriesActivate=function(t){var e=t.series;e.active=e.active&&"inactive"!==e.active?"inactive":"active",e.values.map(function(t){t.active=e.active}),"active"===e.active&&V.filter(function(t){return"active"!==t.active}).map(function(t){return t.active="inactive",t.values.map(function(t){t.active="inactive"}),t}),V.filter(function(t){return"active"===t.active}).length||V.map(function(t){return t.active="",t.values.map(function(t){t.active=""}),B.selectAll(".sc-series").classed("sc-inactive",!1),t}),B.call(wt)},V.forEach(function(t,e){t._values||(t._values=t.values.map(function(t,e){return{x:Array.isArray(t)?t[0]:t.x,y:Array.isArray(t)?t[1]:t.y}}))});var U=V.filter(function(t){return!t.type||"bar"===t.type}).map(function(n,r){return n.seriesIndex=r,n.values=n._values.map(function(t,e){return{group:e,seriesIndex:n.seriesIndex,color:void 0!==n.color?n.color:"",x:ft.x()(t,e),y:ft.y()(t,e),y0:t.y+(0<r?V[n.seriesIndex-1].values[e].y0:0),active:void 0!==n.active?n.active:""}}),n.key=n.key||ct.noLabel,n.total=Pt.sum(n._values,function(t,e){return t.y}),n.disabled=n.disabled||0===n.total,n}).filter(function(t){return!t.disabled}).map(function(n,t){return n.seri=t,n.values.forEach(function(t,e){t.seri=n.seri}),n});if(r(U))return wt;var X=V.filter(function(t){return"line"===t.type}).map(function(n,t){return n.seriesIndex=t,ft.stacked()?(n.values.forEach(function(t){t.y=0}),U.map(function(t){t.values.map(function(t,e){n.values[e].y+=ft.y()(t,e)})}),n.values.forEach(function(t,e){0<e&&(t.y+=n.values[e-1].y)})):n.values=n._values.map(function(t,e){return{seriesIndex:n.seriesIndex,color:void 0!==n.color?n.color:"",x:pt.x()(t,e)+.25*(n.seriesIndex-e),y:pt.y()(t,e)}}),n}).filter(function(t){return!t.disabled}).map(function(n,t){return n.seri=t,n.values.forEach(function(t,e){t.seri=n.seri}),n}),i=H.groupData,c=i.map(function(t){return[].concat(t.l)[0]||ct.noLabel}),Z=H.quota||0,K=H.quotaLabel||"",$=H.targetQuota||0,J=H.targetQuotaLabel||"",Q=V.filter(function(t){return!t.type||"bar"===t.type}),tt=V.filter(function(t){return"line"===t.type});tt.push({key:K,type:"dash",color:"#444",seriesIndex:tt.length,values:{seriesIndex:tt.length,x:0,y:0}}),0<$&&tt.push({key:J,type:"dash",color:"#777",seriesIndex:tt.length,values:{seriesIndex:tt.length+1,x:0,y:0}});var o=V.filter(function(t){return!t.disabled}).map(function(t){return t._values.map(function(t,e){return d(t,e)})}),et=V.map(function(t){return t._values.map(function(t,e){return f(t,e)})});it=it&&H.title&&H.title.length,q=ft.xScale(),j=ft.yScale(),gt.orient("bottom").scale(q).valueFormat(e).tickSize(0).tickPadding(4).highlightZero(!1).showMaxMin(!1),mt.orient("left").scale(j).valueFormat(n).tickPadding(7).showMaxMin(!0),wt.render=function(){var t,e,n,r,a,i,o;G=parseInt(B.style("width"),10),W=parseInt(B.style("height"),10),e=at||W||400,n=(t=rt||G||960)-nt.left-nt.right,r=e-nt.top-nt.bottom,o=r-(a={top:0,right:0,bottom:0,left:0}).top-a.bottom,i=n-a.left-a.right;var l=0,s=0,c=0,u=0,d={width:0,height:0},f,h=B.selectAll("g.sc-chart-wrap").data([V]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+O),p=B.select(".sc-chart-wrap").merge(h);h.append("defs"),h.append("g").attr("class","sc-background-wrap");var g=p.select(".sc-background-wrap");h.append("g").attr("class","sc-title-wrap");var m=p.select(".sc-title-wrap");h.append("g").attr("class","sc-axis-wrap sc-axis-x");var v=p.select(".sc-axis-wrap.sc-axis-x");h.append("g").attr("class","sc-axis-wrap sc-axis-y");var y=p.select(".sc-axis-wrap.sc-axis-y");h.append("g").attr("class","sc-bars-wrap");var b=p.select(".sc-bars-wrap");h.append("g").attr("class","sc-quota-wrap");var x=p.select(".sc-quota-wrap");h.append("g").attr("class","sc-lines-wrap1");var w=p.select(".sc-lines-wrap1");h.append("g").attr("class","sc-lines-wrap2");var k=p.select(".sc-lines-wrap2");h.append("g").attr("class","sc-legend-wrap sc-bar-legend");var M=p.select(".sc-legend-wrap.sc-bar-legend");h.append("g").attr("class","sc-legend-wrap sc-line-legend");var A=p.select(".sc-legend-wrap.sc-line-legend"),I=!1;window.SUGAR&&window.SUGAR.hasOwnProperty("App","utils")&&(I=window.SUGAR.App.utils.isDarkMode());var C=I?"#000000":"#ffffff";p.attr("transform",zt.translation(nt.left,nt.top)),h.select(".sc-background-wrap").append("rect").attr("x",-nt.left).attr("y",-nt.top).attr("width",t).attr("height",e).attr("fill",C),m.select(".sc-title").remove(),it&&(m.append("text").attr("class","sc-title").attr("x","rtl"===lt?n:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black").text(H.title),d=zt.getTextBBox(m.select(".sc-title")),u+=d.height),ot&&(vt.id("barlegend_"+wt.id()).strings(ct.barLegend).align("left").height(r-a.top),M.datum(Q).call(vt),l=vt.calcMaxWidth(),yt.id("linelegend_"+wt.id()).strings(ct.lineLegend).align("right").height(r-a.top),A.datum(tt).call(yt),s=yt.calcMaxWidth(),c=n/(l+s),vt.arrange(Math.floor(c*l)),yt.arrange(Math.floor(c*s)),M.attr("transform","translate("+("rtl"===lt?n-vt.width():0)+","+a.top+")"),A.attr("transform","translate("+("rtl"===lt?0:n-yt.width())+","+a.top+")")),u+=Math.max(vt.height(),yt.height())+4,o=r-u-a.top-a.bottom;var S=Math.max(Pt.max(Pt.merge(et)),Z,$||0),F=[0,10*Math.ceil(.1*S)];ft.width(i).height(o).forceY(F).id(wt.id()),b.datum(U).call(ft);var L=q(1)+q.bandwidth()/(ft.stacked()||1===X.length?2:4);ht.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o).forceY(F).useVoronoi(!1).id("outline_"+wt.id()),pt.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o).forceY(F).useVoronoi(!1).size(Y).sizeRange([Y,Y]).sizeDomain([Y,Y]).id("foreground_"+wt.id()),w.datum(X).call(ht),k.datum(X).call(pt),v.call(gt),y.style("opacity",U.length?1:0).call(mt);var D=gt.margin(),T=mt.margin(),E=0,P=14;function z(){a.left=Math.max(E,D.left,T.left),a.right=Math.max(D.right,T.right),a.top=Math.max(D.top,T.top)+u,a.bottom=Math.max(D.bottom,T.bottom),N()}function N(){i=n-a.left-a.right,o=r-a.top-a.bottom,ft.resetDimensions(i,o)}x.selectAll("line").remove(),y.selectAll("text.sc-quota-value").remove(),y.selectAll("text.sc-target-quota-value").remove(),0<$&&(x.append("line").attr("class","sc-quota-target").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j($)+")").style("stroke-dasharray","8, 8"),x.append("line").datum({key:J,val:$}).attr("class","sc-quota-target sc-quota-background").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j($)+")"),y.append("text").text(dt($,2,!0)).attr("class","sc-target-quota-value").attr("dy",".36em").attr("dx","0").attr("text-anchor","rtl"===lt?"start":"end").attr("transform","translate("+(0-mt.tickPadding())+","+j($)+")"),E=Math.round(p.select("text.sc-target-quota-value").node().getBoundingClientRect().width+mt.tickPadding())),0<Z&&(x.append("line").attr("class","sc-quota-line").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j(Z)+")").style("stroke-dasharray","8, 8"),x.append("line").datum({key:K,val:Z}).attr("class","sc-quota-line sc-quota-background").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j(Z)+")"),y.append("text").text(dt(Z,2,!0)).attr("class","sc-quota-value").attr("dy",".36em").attr("dx","0").attr("text-anchor","rtl"===lt?"start":"end").attr("transform","translate("+-mt.tickPadding()+","+j(Z)+")"),E=Math.max(E,Math.round(p.select("text.sc-quota-value").node().getBoundingClientRect().width+mt.tickPadding()))),z(),ft.width(i).height(o),b.call(ft),v.call(gt),y.call(mt),L=q(1)+q.bandwidth()/(ft.stacked()?2:2*X.length),D=gt.margin(),T=mt.margin(),z();var _=zt.translation(a.left,a.top);ft.width(i).height(o),b.attr("transform",_).call(ft),ht.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o),pt.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o),w.attr("transform",_).call(ht),k.attr("transform",_).call(pt),x.attr("transform",_).selectAll("line").attr("x2",i),v.attr("transform","translate("+a.left+","+("bottom"===gt.orient()?o+a.top:a.top)+")").call(gt),mt.ticks(Math.ceil(o/48)).tickSize(-i,0),y.attr("transform","translate("+("left"===mt.orient()?a.left:a.left+i)+","+a.top+")").call(mt),0<$&&(x.selectAll("line.sc-quota-target").attr("x2",i).attr("transform","translate(0,"+j($)+")"),y.select("text.sc-target-quota-value").attr("transform","translate("+(0-mt.tickPadding())+","+j($)+")"),P=Math.round(parseInt(p.select("text.sc-target-quota-value").node().getBoundingClientRect().height,10)/1.15),y.selectAll("g.tick, g.sc-axisMaxMin").each(function(t,e){Math.abs(j(t)-j($))<=P&&Pt.select(this).style("opacity",0)})),0<Z&&(x.selectAll("line.sc-quota-line").attr("x2",i).attr("transform","translate(0,"+j(Z)+")"),y.select("text.sc-quota-value").attr("transform","translate("+(0-mt.tickPadding())+","+j(Z)+")"),P=Math.round(parseInt(p.select("text.sc-quota-value").node().getBoundingClientRect().height,10)/1.15),y.selectAll("g.tick, g.sc-axisMaxMin").each(function(t,e){Math.abs(j(t)-j(Z))<=P&&Pt.select(this).style("opacity",0)}),0<$&&Math.abs(j(Z)-j($))<=P&&y.select(".sc-target-quota-value").style("opacity",0)),x.selectAll("line.sc-quota-background").on("mouseover",function(t){if(st){var e={val:t.val,key:t.key,e:Pt.event};bt=xt(e,R.parentNode)}}).on("mousemove",function(){var t=Pt.event;ut.call("tooltipMove",this,t)}).on("mouseout",function(){ut.call("tooltipHide",this)})},wt.render(),vt.dispatch.on("legendClick",function(t,e){var n=t.seriesIndex;t.disabled=!t.disabled,wt.stacked()||V.filter(function(t){return t.seriesIndex===n&&"line"===t.type}).map(function(t){return t.disabled=!t.disabled,t}),V.filter(function(t){return!t.disabled&&"bar"===t.type}).length||V.map(function(t){return t.disabled=!1,t}),B.call(wt)}),ut.on("tooltipShow",function(t){st&&(bt=g(t,R.parentNode,i))}),ut.on("tooltipMove",function(t){bt&&kt.position(R.parentNode,bt,t,"s")}),ut.on("tooltipHide",function(){st&&kt.cleanup()}),ut.on("changeState",function(n){void 0!==n.disabled&&(V.forEach(function(t,e){t.disabled=n.disabled[e]}),u.disabled=n.disabled),void 0!==n.stacked&&(ft.stacked(n.stacked),u.stacked=n.stacked),B.transition().call(wt)}),ut.on("chartClick",function(){vt.enabled()&&vt.dispatch.call("closeMenu",this),yt.enabled()&&yt.dispatch.call("closeMenu",this)}),ft.dispatch.on("elementClick",function(t){ut.call("chartClick",this),m(V,t,wt,B)})}),wt}return pt.dispatch.on("elementMouseover.tooltip",function(t){ut.call("tooltipShow",this,t)}),pt.dispatch.on("elementMousemove.tooltip",function(t){ut.call("tooltipMove",this,t)}),pt.dispatch.on("elementMouseout.tooltip",function(){ut.call("tooltipHide",this)}),ft.dispatch.on("elementMouseover.tooltip",function(t){ut.call("tooltipShow",this,t)}),ft.dispatch.on("elementMousemove.tooltip",function(t){ut.call("tooltipMove",this,t)}),ft.dispatch.on("elementMouseout.tooltip",function(){ut.call("tooltipHide",this)}),wt.dispatch=ut,wt.linesBackground=ht,wt.lines=pt,wt.multibar=ft,wt.barLegend=vt,wt.lineLegend=yt,wt.xAxis=gt,wt.xAxisLabel=gt.axisLabel,wt.yAxis=mt,wt.yAxisLabel=mt.axisLabel,wt.options=zt.optionsFunc.bind(wt),zt.rebind(wt,ft,"id","xScale","yScale","xDomain","yDomain","forceY","color","fill","classes","gradient"),zt.rebind(wt,ft,"stacked","showValues","valueFormat","nice","textureFill"),zt.rebind(wt,gt,"rotateTicks","staggerTicks","wrapTicks","reduceXTicks"),wt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex},i=function(t,e){var n=r.lineColor?r.lineColor:{c1:"#1A8221",c2:"#62B464",l:1};return t.color||Pt.interpolateHsl(Pt.rgb(n.c1),Pt.rgb(n.c2))(t.seriesIndex/2)},o=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.barColor.c1),Pt.rgb(r.barColor.c2))(t.seriesIndex/r.barColor.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)},o=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return t.classes?"inherit":t.color||zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")},o=function(t){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var l=r.gradient?function(t){var e={orientation:r.orientation||"vertical",position:r.position||"middle"};return ft.gradientFill(t,t.seriesIndex,e)}:n;return ft.color(n),ft.fill(l),ft.classes(a),pt.color(i),pt.fill(i),pt.classes(o),vt.color(n),vt.classes(a),yt.color(i),yt.classes(o),wt},wt.x=function(t){return arguments.length?(d=t,pt.x(t),ft.x(t),wt):d},wt.y=function(t){return arguments.length?(f=t,pt.y(t),ft.y(t),wt):f},wt.margin=function(t){if(!arguments.length)return nt;for(var e in t)t.hasOwnProperty(e)&&(nt[e]=t[e]);return wt},wt.width=function(t){return arguments.length?(rt=t,wt):rt},wt.height=function(t){return arguments.length?(at=t,wt):at},wt.showTitle=function(t){return arguments.length?(it=t,wt):it},wt.showLegend=function(t){return arguments.length?(ot=t,wt):ot},wt.tooltipBar=function(t){return arguments.length?(l=t,wt):l},wt.tooltipLine=function(t){return arguments.length?(s=t,wt):s},wt.tooltipQuota=function(t){return arguments.length?(o=t,wt):o},wt.tooltips=function(t){return arguments.length?(st=t,wt):st},wt.clipEdge=function(t){return arguments.length?(n=t,ft.clipEdge(t),ht.clipEdge(t),pt.clipEdge(t),wt):n},wt.state=function(t){return arguments.length?(u=t,wt):u},wt.strings=function(t){return arguments.length?(t.barLegend||(t.barLegend=e.barLegend),t.lineLegend||(t.lineLegend=e.lineLegend),ct=c(t),vt.strings(ct.barLegend),yt.strings(ct.lineLegend),wt):ct},wt.direction=function(t){return arguments.length?(lt=t,ft.direction(t),gt.direction(t),mt.direction(t),vt.direction(t),yt.direction(t),wt):lt},wt.duration=function(t){return arguments.length?(a=t,ft.duration(t),ht.duration(t),pt.duration(t),wt):a},wt.delay=function(t){return arguments.length?(r=t,ft.delay(t),ht.delay(t),pt.delay(t),wt):r},wt.seriesClick=function(t){return arguments.length?(m=t,wt):m},wt.colorFill=function(t){return wt},wt.xValueFormat=function(t){return arguments.length?(h=t,wt):h},wt.yValueFormat=function(t){return arguments.length?(p=t,wt):p},wt.quotaValueFormat=function(t){return arguments.length?(dt=t,wt):dt},wt.locality=function(t){return arguments.length?(i=zt.buildLocality(t),ft.locality(t),ht.locality(t),wt):i},wt}function m(){var y={top:10,right:10,bottom:10,left:10},b=null,x=null,e="ltr",n=0,w=0,k=!0,M={},A=!0,I=c(),C=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),S=s(),F=l(),L=[],D=null,a=function(t,e){var n=S.getValue()(t),r=e.total?(100*n/e.total).toFixed(1):100,a="currency"===e.yDataType,i={key:S.fmtKey()(t),label:a?I.tooltip.amount:I.tooltip.count,value:zt.numberFormat(n,2,a,P.locality()),percent:zt.numberFormat(r,2,!1,P.locality())};return kt.single(i,I)},T=function(t,e,n){var r=a(t,n);return kt.show(t.e,r,null,null,e)},E=function(t,e,n){};function P(t){return t.each(function(t){var e=this,s=Pt.select(this),n="pie",r=t&&t.properties||{},a=t&&t.data||null,c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),i="datetime"===r.xDataType||!1,o="currency"===r.yDataType||!1;function d(t,e){var n=t&&t.length,r=(c-y.left-y.right)/2+y.left,a=(u-y.top-y.bottom)/2+y.top;return zt.displayNoData(n,s,e||I.noData,r,a)}if(P.update=function(){s.transition().duration(w).call(P)},P.container=this,d(a))return P;P.setActiveState=function(t,e){t.active=e},P.clearActive=function(e){a.forEach(function(t){P.setActiveState(t,e||"")}),delete M.active},P.seriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&(A?(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",P.clearActive("active"===n?"inactive":""),P.setActiveState(e,n),M.active=a.map(function(t){return"active"===t.active})):P.dataSeriesActivate({series:e}))},P.dataSeriesActivate=function(t){var e=t.series;e.active=e.active&&"inactive"!==e.active?"inactive":"active","active"===e.active&&a.filter(function(t){return"active"!==t.active}).forEach(function(t){return t.active="inactive",t}),a.filter(function(t){return"active"===t.active}).length||P.clearActive()},a.forEach(function(n,r){n.seriesIndex=r,n.values||(n.value?isNaN(n.value)||(n.values=[{x:0,y:parseInt(n.value,10)}]):n.values=[]),n.values.forEach(function(t,e){t.index=r,t.series=n,void 0===t.value&&(t.value=t.y)}),n.key=n.key||I.noLabel,n.value=n.value||Pt.sum(n.values,function(t){return t.value}),n.count=n.count||n.values.length,n.disabled=n.disabled||0===n.value});var f=a.filter(function(t){return!t.disabled});if(f.length||(f=[{values:[]}]),r.count=Pt.sum(f,function(t){return t.count}),r.total=Pt.sum(f,function(t){return t.value}),M.disabled=a.map(function(t){return!!t.disabled}),!r.total)return d(),P;F.chart(P).title(r.title).controlsData(L).legendData(a);var l,h=s.selectAll("g.sc-chart-wrap").data([f]).enter().append("g").attr("class","sc-chart-wrap sc-chart-pie"),p=s.select(".sc-chart-wrap").merge(h);h.append("defs");var g=p.select("defs");h.append("g").attr("class","sc-background-wrap");var m=p.select(".sc-background-wrap");h.append("g").attr("class","sc-title-wrap"),h.append("g").attr("class","sc-pie-wrap");var v=p.select(".sc-pie-wrap");h.append("g").attr("class","sc-controls-wrap"),h.append("g").attr("class","sc-legend-wrap"),p.attr("transform",zt.translation(y.left,y.top)),h.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-y.left).attr("y",-y.top).attr("fill","#FFF"),P.render=function(){var t,e,n,r,a,i,o,l;if(c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),e=x||u||400,n=(t=b||c||960)-y.left-y.right,r=e-y.top-y.bottom,i=n-(a={top:0,right:0,bottom:0,left:0}).left-a.right,o=r-a.top-a.bottom,m.select(".sc-background").attr("width",t).attr("height",e),F.width(n).height(r),s.call(F),l=F.getHeight(),a.top+=l,(o=r-a.top-a.bottom)<100)return d(null,I.displayError),P;S.width(i).height(o),v.datum(f).attr("transform",zt.translation(a.left,a.top)).transition().duration(w).call(S)},P.render(),F.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,t.active=!1,a.filter(function(t){return!t.disabled}).length||a.forEach(function(t){t.disabled=!1}),a.filter(function(t){return"active"===t.active}).length||a.forEach(function(t){t.active=""}),M.disabled=a.map(function(t){return!!t.disabled}),C.call("stateChange",this,M),P.update()}),C.on("tooltipShow",function(t){k&&(D=T(t,e.parentNode,r))}),C.on("tooltipMove",function(t){D&&kt.position(e.parentNode,D,t)}),C.on("tooltipHide",function(){k&&kt.cleanup()}),C.on("changeState",function(n){void 0!==n.disabled&&(f.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),P.update()}),C.on("chartClick",function(){F.controls.enabled()&&F.controls.dispatch.call("closeMenu",this),F.legend.enabled()&&F.legend.dispatch.call("closeMenu",this)}),S.dispatch.on("elementClick",function(t){C.call("chartClick",this),E(a,t,P)})}),P}return F.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),S.dispatch.on("elementMouseover.tooltip",function(t){C.call("tooltipShow",this,t)}),S.dispatch.on("elementMousemove.tooltip",function(t){C.call("tooltipMove",this,t)}),S.dispatch.on("elementMouseout.tooltip",function(){C.call("tooltipHide",this)}),P.dispatch=C,P.pie=S,P.legend=F.legend,P.controls=F.controls,P.options=zt.optionsFunc.bind(P),zt.rebind(P,S,"id","color","fill","classes","gradient","locality","textureFill"),zt.rebind(P,S,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount"),zt.rebind(P,S,"showLabels","showLeaders","donutLabelsOutside","pieLabelsOutside","labelThreshold"),zt.rebind(P,S,"arcDegrees","rotateDegrees","minRadius","maxRadius","fixedRadius","startAngle","endAngle","donut","hole","holeFormat","donutRatio"),zt.rebind(P,F,"showTitle","showControls","showLegend"),P.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t,e){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t,e){var n=t.seriesIndex*(r.step||1)%14;return n=(9<n?"":"0")+n,"sc-series sc-series-"+t.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){return S.gradientFill(t,t.seriesIndex)}:n;return S.color(n),S.fill(i),S.classes(a),F.legend.color(n),F.legend.classes(a),P},P.margin=function(t){if(!arguments.length)return y;for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);return P},P.width=function(t){return arguments.length?(b=t,P):b},P.height=function(t){return arguments.length?(x=t,P):x},P.tooltips=function(t){return arguments.length?(k=t,P):k},P.tooltipContent=function(t){return arguments.length?(a=t,P):a},P.state=function(t){return arguments.length?(M=t,P):M},P.strings=function(t){return arguments.length?(I=c(t),F.strings(I),P):I},P.direction=function(t){return arguments.length?(e=t,S.direction(t),F.direction(t),P):e},P.duration=function(t){return arguments.length?(w=t,S.duration(t),P):w},P.delay=function(t){return arguments.length?(n=t,S.delay(t),P):n},P.seriesClick=function(t){return arguments.length?(E=t,P):E},P}function x(){var p={top:10,right:10,bottom:10,left:10},e=null,n=null,D=6,T=0,g={min:.25,max:2},E={width:100,height:50},r="../img/",P=function(t){return'<div class="sc-tree-node"></div>'},z=function(t){},N=function(t){},_=function(t){},R=!1,B=Math.floor(1e4*Math.random()),a=function(t,e){return zt.defaultColor()(t,e)},i=function(t,e){return a(t,e)},O=function(t,e){t.y=e},H=function(t,e){t.data.x0=e},V=function(t,e){t.data.y0=e},G=function(t){return R?t.y:t.x},W=function(t){return R?t.x:t.y},Y=function(t){return R?t.data.y0:t.data.x0},q=function(t){return R?t.data.x0:t.data.y0},j=function(t){return t.id||t.data.id},U=function(t){return"card-"+j(t)},o=!1,X=!0,l=!0,t=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function Z(t){return t.each(function(t){var s=Pt.select(this),m=t,v=Pt.transition("tree").duration(T).ease(Pt.easeLinear),y=null,b=null,x=null,d=null,e=Pt.tree().size([null,null]).nodeSize([R?E.height:E.width,1]).separation(function t(e,n){return e.parent,n.parent,1}),c={width:parseInt(s.style("width"),10)-p.left-p.right,height:parseInt(s.style("height"),10)-p.top-p.bottom},n,r=s.selectAll("g.sc-chart-wrap").data([1]).enter().append("g").attr("class","sc-chart-wrap sc-chart-tree"),f=s.select(".sc-chart-wrap").merge(r),a=r.append("defs"),w=f.select("defs").merge(a),k=zt.dropShadow("node_back_"+B,w,{blur:2});a.append("clipPath").attr("id","sc-edge-clip-"+B).append("rect");var u=w.select("#sc-edge-clip-"+B+" rect");u.attr("width",c.width).attr("height",c.height).attr("x",p.left).attr("y",p.top),f.attr("clip-path",X?"url(#sc-edge-clip-"+B+")":""),r.append("rect").attr("class","sc-chart-background").attr("width",c.width).attr("height",c.height).attr("transform",zt.translation(p.left,p.top)).style("fill","transparent");var h=f.select(".sc-chart-background"),i=r.append("g").attr("class","sc-tree-wrap"),o=f.select(".sc-tree-wrap");i.append("g").attr("class","sc-wrap sc-tree");var M=f.select(".sc-wrap.sc-tree");function A(t){y=Pt.hierarchy(t,function(t){return t.children}),e(y),(b=y.descendants()).forEach(function(t){O(t,2*t.depth*(R?E.width:E.height))}),x=b.slice(1)}function I(t){H(t,G(t)),V(t,W(t)),t.children&&t.children.length&&t.children.forEach(I)}function C(t,e){var n=W(t)-(R?0:E.height-3*D),r=G(t)-(R?E.width-2*D:0),a=W(e),i=G(e),o,l,s,c;return"M"+r+","+n+"C"+(R?(r+i)/2:r)+","+(R?n:(n+a)/2)+" "+(R?(r+i)/2:i)+","+(R?a:(n+a)/2)+" "+i+","+a}function l(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null)}function S(t){l(t.data),Z.update(t)}function F(t){var e;return"node-"+j(t)}function L(t){var e;return"link-"+(t.parent?j(t.parent):0)+"-"+j(t)}Z.setZoom=function(){d=Pt.zoom().scaleExtent([g.min,g.max]).on("zoom",function(){o.attr("transform","translate("+Pt.event.transform.x+","+Pt.event.transform.y+")scale("+Pt.event.transform.k+")"),z(Pt.event.transform.k)})},Z.unsetZoom=function(t){d.on("zoom",null)},Z.resetZoom=function(){f.call(d.transform,Pt.zoomIdentity)},Z.orientation=function(t){R="horizontal"===t||!R,e.nodeSize([R?E.height:E.width,1]),Z.update(y)},Z.showall=function(){function e(t){t._children&&t._children.length&&(t.children=t._children,t._children=null),t.children&&t.children.length&&t.children.forEach(e)}e(m=t),Z.update(y)},Z.zoomStep=function(t){var e,n=Pt.zoomTransform(f.node()).k+t;return this.zoomLevel(n)},Z.zoomLevel=function(t){var e=Pt.zoomTransform(f.node()),n=Math.min(Math.max(t,g.min),g.max),r=e.k,a=[e.x,e.y],i=h.node().getBoundingClientRect(),o=[i.width,i.height],l=[(o[0]-o[0]*n)/2,(o[1]-o[1]*n)/2],s=[n*(a[0]-(o[0]-o[0]*r)/2)/r,n*(a[1]-(o[1]-o[1]*r)/2)/r],c=[l[0]+s[0],l[1]+s[1]],u=Pt.zoomIdentity.translate(c[0],c[1]).scale(n);return f.call(d.transform,u),n},Z.zoomScale=function(){var t;return Pt.zoomTransform(f.node()).k},Z.filter=function(e){var n=!1;function r(t){j(t)===e?(m=t,n=!0):!n&&t.children&&t.children.forEach(r)}r(t),Z.update(y)},Z.update=function(n){var e={x:0,y:0};function t(t){if(j(n)===j(y))return C(y,y);var e={x:Y(n),y:q(n)};return C(e,e)}function r(t){return C(t,t.parent)}function a(){return C(e,e)}A(m);var i=(R?D-E.width:E.width/-2)+"px",o=(R?(D-E.height)/2:2*D-E.height)+"px",l=M.selectAll("g.sc-card").data(b,j),s,c,u,d,f;(s=l.enter().insert("g").attr("class","sc-card").attr("id",F).attr("opacity",function(t){return j(n)===j(t)?1:0}).attr("transform",function(t){return j(n)===j(y)?"translate("+G(y)+","+W(y)+")":"translate("+(R?q(n):Y(n))+","+(R?Y(n):q(n))+")"})).each(function(t){var e,n;w.select("#"+U(t)).empty()&&(n=(e=w.append("svg").attr("class","sc-foreign-object").attr("id",U(t)).attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("x",i).attr("y",o).attr("width",E.width+"px").attr("height",E.height+"px").attr("viewBox","0 0 "+E.width+" "+E.height).attr("xml:space","preserve")).append("g").attr("class","sc-tree-node-content").attr("transform","translate("+D+","+D+")"),P(n,t,E.width-2*D,E.height-3*D))}),s.append("use").attr("xlink:href",function(t){return"#"+U(t)}).attr("filter",k).on("click",_),(c=M.selectAll("g.sc-card").merge(s)).transition(v).duration(T).attr("opacity",1).attr("transform",function(t){return j(n)===j(t)&&(e={x:R?W(t):G(t),y:R?G(t):W(t)}),"translate("+G(t)+","+W(t)+")"}).on("end",N),(u=l.exit().transition(v).duration(T).attr("opacity",0).attr("transform",function(t){return"translate("+Y(n)+","+q(n)+")"}).remove()).selectAll(".sc-expcoll").style("stroke-opacity",1e-6),w.selectAll(".sc-foreign-object").attr("x",i).attr("y",o),(d=s.append("g").attr("class","sc-expcoll").style("opacity",1e-6).on("click",S)).append("circle").attr("class","sc-circ-back").attr("r",D),d.append("line").attr("class","sc-line-vert").attr("x1",0).attr("y1",.5-D).attr("x2",0).attr("y2",D-.5).style("stroke","#bbb"),d.append("line").attr("class","sc-line-hrzn").attr("x1",.5-D).attr("y1",0).attr("x2",D-.5).attr("y2",0).style("stroke","#fff"),(f=M.selectAll("g.sc-expcoll").merge(d)).style("opacity",function(t){return t.data.children&&t.data.children.length||t.data._children&&t.data._children.length?1:0}),f.select(".sc-circ-back").style("fill",function(t){return t.data._children&&t.data._children.length?"#777":t.data.children?"#bbb":"none"}),f.select(".sc-line-vert").style("stroke",function(t){return t.data._children&&t.data._children.length?"#fff":"#bbb"});var h=M.selectAll("path.link").data(x,L),p=h.enter().insert("path","g").attr("d",t).attr("class","link").attr("id",L).attr("opacity",0),g;(g=M.selectAll("path.link").merge(p)).transition(v).duration(T).attr("d",r).attr("opacity",1),h.exit().transition(v).duration(T).attr("d",a).attr("opacity",0).remove(),I(y),Z.resize(j(n)===j(y))},Z.render=function(){Z.resize(!0)},Z.resize=function(t){t=void 0===t||t,Z.resetZoom(),c={width:parseInt(s.style("width"),10)-p.left-p.right,height:parseInt(s.style("height"),10)-p.top-p.bottom};var e=[Math.abs(Pt.min(b,G))+Math.abs(Pt.max(b,G))+E.width,Math.abs(Pt.min(b,W))+Math.abs(Pt.max(b,W))+E.height],n=c.width/e[0],r=c.height/e[1],a=Pt.min([n,r]),i=[Math.abs(Pt.min(b,G))+(n<r?0:(c.width/a-e[0])/2),Math.abs(Pt.min(b,W))+(n<r?(c.height/a-e[1])/2:0)],o=[E.width/(R?1:2),E.height/(R?2:1)],l=[(i[0]+o[0])*a+p.left/(R?2:1),(i[1]+o[1])*a+p.top/(R?1:2)];u.attr("width",c.width).attr("height",c.height),h.attr("width",c.width).attr("height",c.height),M.transition(v).duration(t?0:T).attr("transform","translate("+l+")scale("+a+")")},Z.setZoom(),f.call(d),A(m),I(y),Z.update(y)}),Z}return Z.dispatch=t,Z.options=zt.optionsFunc.bind(Z),Z.id=function(t){return arguments.length?(B=t,Z):B},Z.margin=function(t){return arguments.length?(p=t,Z):p},Z.width=function(t){return arguments.length?(e=t,Z):e},Z.height=function(t){return arguments.length?(n=t,Z):n},Z.x=function(t){return arguments.length?(G=t,Z):G},Z.y=function(t){return arguments.length?(W=zt.functor(t),Z):W},Z.showLabels=function(t){return arguments.length?(l=t,Z):l},Z.color=function(t){return arguments.length?(a=t,Z):a},Z.fill=function(t){return arguments.length?(i=t,Z):i},Z.useClass=function(t){return arguments.length?(o=t,Z):o},Z.radius=function(t){return arguments.length?(D=t,Z):D},Z.duration=function(t){return arguments.length?(T=t,Z):T},Z.zoomExtents=function(t){return arguments.length?(g=t,Z):g},Z.zoomCallback=function(t){return arguments.length?(z=t,Z):z},Z.nodeSize=function(t){return arguments.length?(E=t,Z):E},Z.nodeImgPath=function(t){return arguments.length?(r=t,Z):r},Z.nodeRenderer=function(t){return arguments.length?(P=t,Z):P},Z.nodeCallback=function(t){return arguments.length?(N=t,Z):N},Z.nodeClick=function(t){return arguments.length?(_=t,Z):_},Z.horizontal=function(t){return arguments.length?(R=t,Z):R},Z.getId=function(t){return arguments.length?(j=t,Z):j},Z.getCardId=function(t){return arguments.length?(U=t,Z):U},Z}var w={bubbleChart:n,funnelChart:d,gaugeChart:f,lineChart:h,multibarChart:p,paretoChart:g,pieChart:m,treeChart:x},k="0.8.3",M="sgr",A=!1;t.version=k,t.build=M,t.development=A,t.utility=zt,t.tooltip=kt,t.language=c,t.models=e,t.charts=w,t.transform=yt,Object.defineProperty(t,"__esModule",{value:!0})});

/* End of File include/javascript/sucrose/sucrose.min.js */

(function(app){app.error=_.extend(app.error);function backToLogin(bDismiss){if(bDismiss){app.alert.dismissAll();}
if(app.api.isAuthenticated()){app.api.resetAuth();}
app.trigger('app:logout');app.router.login();}
function showErrorPage(status,dismiss){if(dismiss){app.alert.dismissAll();}
app.controller.loadView({layout:"error",errorType:status,module:"Error",create:true});}
function processAuthenticatedUserError(key,title,msg){var isAuthenticated=app.api.isAuthenticated();backToLogin(true);if(isAuthenticated){alertUser(key,title,msg);}}
function alertUser(key,title,msg){app.alert.show(key,{level:'error',messages:app.lang.get(msg),title:app.lang.get(title)});}
app.events.on('app:sync:error',function(error){if(error.status!==0){if(app.config.idmModeEnabled&&error.code==='idm_nonrecoverable_error'){return;}
backToLogin(true);}
alertUser('sync_failure','ERR_SYNC_FAILED',(error&&error.message)||'LBL_INVALID_412_RESPONSE');});app.events.on('app:sync:public:error',function(error){app.alert.dismissAll();alertUser('public_sync_failure','Unable to load the application.');});app.error.handleNeedLoginError=function(error){backToLogin(true);alertUser('needs_login_error','LBL_INVALID_CREDS_TITLE',error.message);};app.error.handleInvalidGrantError=function(error){processAuthenticatedUserError('invalid_grant_error','LBL_INVALID_GRANT_TITLE','LBL_INVALID_GRANT');};app.error.handleInvalidClientError=function(error){backToLogin(true);alertUser("invalid_client_error","LBL_AUTH_FAILED_TITLE","LBL_AUTH_FAILED");};app.error.handleInvalidRequestError=function(error){backToLogin(true);alertUser("invalid_request_error","LBL_INVALID_REQUEST_TITLE","LBL_INVALID_REQUEST");};app.error.handleUnspecified400Error=function(error){showErrorPage('400');};app.error.handleTimeoutError=function(error){app.alert.dismissAll();alertUser("timeout_error","LBL_REQUEST_TIMEOUT_TITLE","LBL_REQUEST_TIMEOUT");};app.error.handleUnauthorizedError=function(error){if(app.config.idmModeEnabled&&error.code==='idm_nonrecoverable_error'){app.alert.dismissAll();app.router.logout();alertUser('unauthorized_request_error','LBL_UNAUTHORIZED_TITLE','LBL_UNAUTHORIZED');}else{processAuthenticatedUserError('unauthorized_request_error','LBL_UNAUTHORIZED_TITLE','LBL_UNAUTHORIZED');}};app.error.handleForbiddenError=function(error){var message;if(error.code!="not_authorized"){app.alert.dismissAll();}
if(error.code=="portal_not_configured"){backToLogin(true);}
message=Handlebars.Utils.escapeExpression(error.message)||"LBL_RESOURCE_UNAVAILABLE";app.logger.error(app.lang.get(message));};app.error.handleNotFoundError=function(error,model,options){var layout=app.controller.layout||{};if((options&&options.context!=layout.context)||(model&&layout.context&&layout.context.get("model")&&layout.context.get("model")!=model)){return;}
if(!layout||!_.isObject(layout.error)||!_.isFunction(layout.error.handleNotFoundError)||layout.error.handleNotFoundError(error,model,options)!==false){showErrorPage("404");}};app.error.handleMethodNotAllowedError=function(error){backToLogin(true);alertUser("not_allowed_error","LBL_METHOD_NOT_ALLOWED_TITLE","LBL_METHOD_NOT_ALLOWED");};app.error.handleMethodConflictError=function(error){app.logger.error('Data conflict detected.');};app.error.handleValidationError=function(error){var layout=app.controller.layout,message;if(!_.isObject(layout.error)||!_.isFunction(layout.error.handleValidationError)||layout.error.handleValidationError(error)!==false){if(error instanceof app.data.beanModel){return;}
message=Handlebars.Utils.escapeExpression(error.message)||"LBL_PRECONDITION_MISSING";alertUser("validation_error","LBL_PRECONDITION_MISSING_TITLE",message);error.handled=true;}};app.error.handleHeaderPreconditionFailed=function(error,b,c,d){if(!app.isSynced){return;}
if(!error||error.code!=='metadata_out_of_date'){return;}
var responseText=JSON.parse(error.responseText);var newHash=responseText&&responseText.metadata_hash;var userHash=responseText&&responseText.user_hash;var afterSync=error.request.state&&error.request.state.loadingAfterSync;var sentHash=error.request.params.headers['X-Metadata-Hash'];var sentUserHash=error.request.params.headers['X-Userpref-Hash'];var currentHash=app.metadata.getHash();var currentUserHash=app.user.get('_hash');if(((!newHash&&afterSync)||(newHash===currentHash&&sentHash===currentHash))&&((!userHash&&afterSync)||(userHash===currentUserHash&&sentUserHash===currentUserHash))){app.logger.fatal('A request returned the error code "metadata_out_of_date" for no reason.');app.alert.show('invalid_412',{level:'error',messages:['LBL_INVALID_412_RESPONSE']});app.api.resetAuth();app.router.refresh();return;}
app.sync();};app.error.handleMethodFailureError=function(error){error.handled=true;if(error.code=="request_failure"){showErrorPage("422");}else{alertUser("precondtion_failure_error","LBL_PRECONDITION_MISSING_TITLE","LBL_PRECONDITION_MISSING");}};app.error.handleServerError=function(error){if(error.payload&&error.payload.url){if(app.acl.hasAccess('admin','Administration')){app.router.navigate(error.payload.url,{trigger:true,replace:true});return;}}
app.controller.loadView({layout:"error",errorType:error.status||"500",module:"Error",error:error,create:true});};})(SUGAR.App);
/* End of File include/javascript/sugar7/error.js */

var _inputFocused=null;if(Modernizr.touch){$(document).on('blur','input, textarea',function(){_inputFocused=setTimeout(function(){window.scrollTo(document.body.scrollLeft,document.body.scrollTop);},0);});$(document).on('focus','input, textarea',function(){clearTimeout(_inputFocused);});}
/* End of File include/javascript/sugar7/touch.js */

(function($){if(typeof $.fn.each2=="undefined"){$.extend($.fn,{each2:function(c){var j=$([0]),i=-1,l=this.length;while(++i<l&&(j.context=j[0]=this[i])&&c.call(j[0],i,j)!==false);return this;}});}})(jQuery);(function($,undefined){"use strict";if(window.Select2!==undefined){return;}
var AbstractSelect2,SingleSelect2,MultiSelect2,nextUid,sizer,lastMousePosition={x:0,y:0},$document,scrollBarDimensions,KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(k){k=k.which?k.which:k;switch(k){case KEY.LEFT:case KEY.RIGHT:case KEY.UP:case KEY.DOWN:return true;}
return false;},isControl:function(e){var k=e.which;switch(k){case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true;}
if(e.metaKey)return true;return false;},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123;}},MEASURE_SCROLLBAR_TEMPLATE="<div class='select2-measure-scrollbar'></div>",DIACRITICS={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03C9":"\u03C9","\u03C2":"\u03C3"};$document=$(document);nextUid=(function(){var counter=1;return function(){return counter++;};}());function reinsertElement(element){var placeholder=$(document.createTextNode(''));element.before(placeholder);placeholder.before(element);placeholder.remove();}
function stripDiacritics(str){function match(a){return DIACRITICS[a]||a;}
return str.replace(/[^\u0000-\u007E]/g,match);}
function indexOf(value,array){var i=0,l=array.length;for(;i<l;i=i+1){if(equal(value,array[i]))return i;}
return-1;}
function measureScrollbar(){var $template=$(MEASURE_SCROLLBAR_TEMPLATE);$template.appendTo(document.body);var dim={width:$template.width()-$template[0].clientWidth,height:$template.height()-$template[0].clientHeight};$template.remove();return dim;}
function equal(a,b){if(a===b)return true;if(a===undefined||b===undefined)return false;if(a===null||b===null)return false;if(a.constructor===String)return a+''===b+'';if(b.constructor===String)return b+''===a+'';return false;}
function splitVal(string,separator,transform){var val,i,l;if(string===null||string.length<1)return[];val=string.split(separator);for(i=0,l=val.length;i<l;i=i+1)val[i]=transform(val[i]);return val;}
function getSideBorderPadding(element){return element.outerWidth(false)-element.width();}
function installKeyUpChangeEvent(element){var key="keyup-change-value";element.on("keydown",function(){if($.data(element,key)===undefined){$.data(element,key,element.val());}});element.on("keyup",function(){var val=$.data(element,key);if(val!==undefined&&element.val()!==val){$.removeData(element,key);element.trigger("keyup-change");}});}
function installFilteredMouseMove(element){element.on("mousemove",function(e){var lastpos=lastMousePosition;if(lastpos===undefined||lastpos.x!==e.pageX||lastpos.y!==e.pageY){$(e.target).trigger("mousemove-filtered",e);}});}
function debounce(quietMillis,fn,ctx){ctx=ctx||undefined;var timeout;return function(){var args=arguments;window.clearTimeout(timeout);timeout=window.setTimeout(function(){fn.apply(ctx,args);},quietMillis);};}
function installDebouncedScroll(threshold,element){var notify=debounce(threshold,function(e){element.trigger("scroll-debounced",e);});element.on("scroll",function(e){if(indexOf(e.target,element.get())>=0)notify(e);});}
function focus($el){if($el[0]===document.activeElement)return;window.setTimeout(function(){var el=$el[0],pos=$el.val().length,range;$el.focus();var isVisible=(el.offsetWidth>0||el.offsetHeight>0);if(isVisible&&el===document.activeElement){if(el.setSelectionRange){el.setSelectionRange(pos,pos);}
else if(el.createTextRange){range=el.createTextRange();range.collapse(false);range.select();}}},0);}
function getCursorInfo(el){el=$(el)[0];var offset=0;var length=0;if('selectionStart'in el){offset=el.selectionStart;length=el.selectionEnd-offset;}else if('selection'in document){el.focus();var sel=document.selection.createRange();length=document.selection.createRange().text.length;sel.moveStart('character',-el.value.length);offset=sel.text.length-length;}
return{offset:offset,length:length};}
function killEvent(event){event.preventDefault();event.stopPropagation();}
function killEventImmediately(event){event.preventDefault();event.stopImmediatePropagation();}
function measureTextWidth(e){if(!sizer){var style=e[0].currentStyle||window.getComputedStyle(e[0],null);sizer=$(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:style.fontSize,fontFamily:style.fontFamily,fontStyle:style.fontStyle,fontWeight:style.fontWeight,letterSpacing:style.letterSpacing,textTransform:style.textTransform,whiteSpace:"nowrap"});sizer.attr("class","select2-sizer");$(document.body).append(sizer);}
sizer.text(e.val());return sizer.width();}
function syncCssClasses(dest,src,adapter){var classes,replacements=[],adapted;classes=$.trim(dest.attr("class"));if(classes){classes=''+classes;$(classes.split(/\s+/)).each2(function(){if(this.indexOf("select2-")===0){replacements.push(this);}});}
classes=$.trim(src.attr("class"));if(classes){classes=''+classes;$(classes.split(/\s+/)).each2(function(){if(this.indexOf("select2-")!==0){adapted=adapter(this);if(adapted){replacements.push(adapted);}}});}
dest.attr("class",replacements.join(" "));}
function markMatch(text,term,markup,escapeMarkup){var match=stripDiacritics(text.toUpperCase()).indexOf(stripDiacritics(term.toUpperCase())),tl=term.length;if(match<0){markup.push(escapeMarkup(text));return;}
markup.push(escapeMarkup(text.substring(0,match)));markup.push("<span class='select2-match'>");markup.push(escapeMarkup(text.substring(match,match+tl)));markup.push("</span>");markup.push(escapeMarkup(text.substring(match+tl,text.length)));}
function defaultEscapeMarkup(markup){var replace_map={'\\':'&#92;','&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;',"/":'&#47;'};return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replace_map[match];});}
function ajax(options){var timeout,handler=null,quietMillis=options.quietMillis||100,ajaxUrl=options.url,self=this;return function(query){window.clearTimeout(timeout);timeout=window.setTimeout(function(){var data=options.data,url=ajaxUrl,transport=options.transport||$.fn.select2.ajaxDefaults.transport,deprecated={type:options.type||'GET',cache:options.cache||false,jsonpCallback:options.jsonpCallback||undefined,dataType:options.dataType||"json"},params=$.extend({},$.fn.select2.ajaxDefaults.params,deprecated);data=data?data.call(self,query.term,query.page,query.context):null;url=(typeof url==='function')?url.call(self,query.term,query.page,query.context):url;if(handler&&typeof handler.abort==="function"){handler.abort();}
if(options.params){if($.isFunction(options.params)){$.extend(params,options.params.call(self));}else{$.extend(params,options.params);}}
$.extend(params,{url:url,dataType:options.dataType,data:data,success:function(data){var results=options.results(data,query.page,query);query.callback(results);},error:function(jqXHR,textStatus,errorThrown){var results={hasError:true,jqXHR:jqXHR,textStatus:textStatus,errorThrown:errorThrown};query.callback(results);}});handler=transport.call(self,params);},quietMillis);};}
function local(options){var data=options,dataText,tmp,text=function(item){return""+item.text;};if($.isArray(data)){tmp=data;data={results:tmp};}
if($.isFunction(data)===false){tmp=data;data=function(){return tmp;};}
var dataItem=data();if(dataItem.text){text=dataItem.text;if(!$.isFunction(text)){dataText=dataItem.text;text=function(item){return item[dataText];};}}
return function(query){var t=query.term,filtered={results:[]},process;if(t===""){query.callback(data());return;}
process=function(datum,collection){var group,attr;datum=datum[0];if(datum.children){group={};for(attr in datum){if(datum.hasOwnProperty(attr))group[attr]=datum[attr];}
group.children=[];$(datum.children).each2(function(i,childDatum){process(childDatum,group.children);});if(group.children.length||query.matcher(t,text(group),datum)){collection.push(group);}}else{if(query.matcher(t,text(datum),datum)){collection.push(datum);}}};$(data().results).each2(function(i,datum){process(datum,filtered.results);});query.callback(filtered);};}
function tags(data){var isFunc=$.isFunction(data);return function(query){var t=query.term,filtered={results:[]};var result=isFunc?data(query):data;if($.isArray(result)){$(result).each(function(){var isObject=this.text!==undefined,text=isObject?this.text:this;if(t===""||query.matcher(t,text)){filtered.results.push(isObject?this:{id:this,text:this});}});query.callback(filtered);}};}
function checkFormatter(formatter,formatterName){if($.isFunction(formatter))return true;if(!formatter)return false;if(typeof(formatter)==='string')return true;throw new Error(formatterName+" must be a string, function, or falsy value");}
function evaluate(val,context){if($.isFunction(val)){var args=Array.prototype.slice.call(arguments,2);return val.apply(context,args);}
return val;}
function countResults(results){var count=0;$.each(results,function(i,item){if(item.children){count+=countResults(item.children);}else{count++;}});return count;}
function defaultTokenizer(input,selection,selectCallback,opts){var original=input,dupe=false,token,index,i,l,separator;if(!opts.createSearchChoice||!opts.tokenSeparators||opts.tokenSeparators.length<1)return undefined;while(true){index=-1;for(i=0,l=opts.tokenSeparators.length;i<l;i++){separator=opts.tokenSeparators[i];index=input.indexOf(separator);if(index>=0)break;}
if(index<0)break;token=input.substring(0,index);input=input.substring(index+separator.length);if(token.length>0){token=opts.createSearchChoice.call(this,token,selection);if(token!==undefined&&token!==null&&opts.id(token)!==undefined&&opts.id(token)!==null){dupe=false;for(i=0,l=selection.length;i<l;i++){if(equal(opts.id(token),opts.id(selection[i]))){dupe=true;break;}}
if(!dupe)selectCallback(token);}}}
if(original!==input)return input;}
function cleanupJQueryElements(){var self=this;$.each(arguments,function(i,element){self[element].remove();self[element]=null;});}
function clazz(SuperClass,methods){var constructor=function(){};constructor.prototype=new SuperClass;constructor.prototype.constructor=constructor;constructor.prototype.parent=SuperClass.prototype;constructor.prototype=$.extend(constructor.prototype,methods);return constructor;}
AbstractSelect2=clazz(Object,{bind:function(func){var self=this;return function(){func.apply(self,arguments);};},init:function(opts){var results,search,resultsSelector=".select2-results";this.opts=opts=this.prepareOpts(opts);this.id=opts.id;if(opts.element.data("select2")!==undefined&&opts.element.data("select2")!==null){opts.element.data("select2").destroy();}
this.container=this.createContainer();this.liveRegion=$('.select2-hidden-accessible');if(this.liveRegion.length==0){this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);}
this.containerId="s2id_"+(opts.element.attr("id")||"autogen"+nextUid());this.containerEventName=this.containerId.replace(/([.])/g,'_').replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,'\\$1');this.container.attr("id",this.containerId);this.container.attr("title",opts.element.attr("title"));this.body=$(document.body);syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",opts.element.attr("style"));this.container.css(evaluate(opts.containerCss,this.opts.element));this.container.addClass(evaluate(opts.containerCssClass,this.opts.element));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",killEvent);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(evaluate(opts.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",killEvent);this.results=results=this.container.find(resultsSelector);this.search=search=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",killEvent);installFilteredMouseMove(this.results);this.dropdown.on("mousemove-filtered",resultsSelector,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",resultsSelector,this.bind(function(event){this._touchEvent=true;this.highlightUnderEvent(event);}));this.dropdown.on("touchmove",resultsSelector,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",resultsSelector,this.bind(this.clearTouchMoved));this.dropdown.on('click',this.bind(function(event){if(this._touchEvent){this._touchEvent=false;this.selectHighlighted();}}));installDebouncedScroll(80,this.results);this.dropdown.on("scroll-debounced",resultsSelector,this.bind(this.loadMoreIfNeeded));$(this.container).on("change",".select2-input",function(e){e.stopPropagation();});$(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation();});if($.fn.mousewheel){results.mousewheel(function(e,delta,deltaX,deltaY){var top=results.scrollTop();if(deltaY>0&&top-deltaY<=0){results.scrollTop(0);killEvent(e);}else if(deltaY<0&&results.get(0).scrollHeight-results.scrollTop()+deltaY<=results.height()){results.scrollTop(results.get(0).scrollHeight-results.height());killEvent(e);}});}
installKeyUpChangeEvent(search);search.on("keyup-change input paste",this.bind(this.updateResults));search.on("focus",function(){search.addClass("select2-focused");});search.on("blur",function(){search.removeClass("select2-focused");});this.dropdown.on("mouseup",resultsSelector,this.bind(function(e){if($(e.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(e);this.selectHighlighted(e);}}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation();});this.nextSearchTerm=undefined;if($.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource();}
if(opts.maximumInputLength!==null){this.search.attr("maxlength",opts.maximumInputLength);}
var disabled=opts.element.prop("disabled");if(disabled===undefined)disabled=false;this.enable(!disabled);var readonly=opts.element.prop("readonly");if(readonly===undefined)readonly=false;this.readonly(readonly);scrollBarDimensions=scrollBarDimensions||measureScrollbar();this.autofocus=opts.element.prop("autofocus");opts.element.prop("autofocus",false);if(this.autofocus)this.focus();this.search.attr("placeholder",opts.searchInputPlaceholder);},destroy:function(){var element=this.opts.element,select2=element.data("select2"),self=this;this.close();if(element.length&&element[0].detachEvent&&self._sync){element.each(function(){if(self._sync){this.detachEvent("onpropertychange",self._sync);}});}
if(this.propertyObserver){this.propertyObserver.disconnect();this.propertyObserver=null;}
this._sync=null;if(select2!==undefined){select2.container.remove();select2.liveRegion.remove();select2.dropdown.remove();element.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){element.attr({tabindex:this.elementTabIndex});}else{element.removeAttr("tabindex");}
element.show();}
cleanupJQueryElements.call(this,"container","liveRegion","dropdown","results","search");},optionToData:function(element){if(element.is("option")){return{id:element.prop("value"),text:element.text(),element:element.get(),css:element.attr("class"),disabled:element.prop("disabled"),locked:equal(element.attr("locked"),"locked")||equal(element.data("locked"),true)};}else if(element.is("optgroup")){return{text:element.attr("label"),children:[],element:element.get(),css:element.attr("class")};}},prepareOpts:function(opts){var element,select,idKey,ajaxUrl,self=this;element=opts.element;if(element.get(0).tagName.toLowerCase()==="select"){this.select=select=opts.element;}
if(select){$.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in opts){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}});}
opts=$.extend({},{populateResults:function(container,results,query){var populate,id=this.opts.id,liveRegion=this.liveRegion;populate=function(results,container,depth){var i,l,result,selectable,disabled,compound,node,label,innerContainer,formatted;results=opts.sortResults(results,container,query);var nodes=[];for(i=0,l=results.length;i<l;i=i+1){result=results[i];disabled=(result.disabled===true);selectable=(!disabled)&&(id(result)!==undefined);compound=result.children&&result.children.length>0;node=$("<li></li>");node.addClass("select2-results-dept-"+depth);node.addClass("select2-result");node.addClass(selectable?"select2-result-selectable":"select2-result-unselectable");if(disabled){node.addClass("select2-disabled");}
if(compound){node.addClass("select2-result-with-children");}
node.addClass(self.opts.formatResultCssClass(result));node.attr("role","presentation");label=$(document.createElement("div"));label.addClass("select2-result-label");label.attr("id","select2-result-label-"+nextUid());label.attr("role","option");formatted=opts.formatResult(result,label,query,self.opts.escapeMarkup);if(formatted!==undefined){label.html(formatted);node.append(label);}
if(compound){innerContainer=$("<ul></ul>");innerContainer.addClass("select2-result-sub");populate(result.children,innerContainer,depth+1);node.append(innerContainer);}
node.data("select2-data",result);nodes.push(node[0]);}
container.append(nodes);liveRegion.text(opts.formatMatches(results.length));};populate(results,container,0);}},$.fn.select2.defaults,opts);if(typeof(opts.id)!=="function"){idKey=opts.id;opts.id=function(e){return e[idKey];};}
if($.isArray(opts.element.data("select2Tags"))){if("tags"in opts){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+opts.element.attr("id");}
opts.tags=opts.element.data("select2Tags");}
if(select){opts.query=this.bind(function(query){var data={results:[],more:false},term=query.term,children,placeholderOption,process;process=function(element,collection){var group;if(element.is("option")){if(query.matcher(term,element.text(),element)){collection.push(self.optionToData(element));}}else if(element.is("optgroup")){group=self.optionToData(element);element.children().each2(function(i,elm){process(elm,group.children);});if(group.children.length>0){collection.push(group);}}};children=element.children();if(this.getPlaceholder()!==undefined&&children.length>0){placeholderOption=this.getPlaceholderOption();if(placeholderOption){children=children.not(placeholderOption);}}
children.each2(function(i,elm){process(elm,data.results);});query.callback(data);});opts.id=function(e){return e.id;};}else{if(!("query"in opts)){if("ajax"in opts){ajaxUrl=opts.element.data("ajax-url");if(ajaxUrl&&ajaxUrl.length>0){opts.ajax.url=ajaxUrl;}
opts.query=ajax.call(opts.element,opts.ajax);}else if("data"in opts){opts.query=local(opts.data);}else if("tags"in opts){opts.query=tags(opts.tags);if(opts.createSearchChoice===undefined){opts.createSearchChoice=function(term){return{id:$.trim(term),text:$.trim(term)};};}
if(opts.initSelection===undefined){opts.initSelection=function(element,callback){var data=[];$(splitVal(element.val(),opts.separator,opts.transformVal)).each(function(){var obj={id:this,text:this},tags=opts.tags;if($.isFunction(tags))tags=tags();$(tags).each(function(){if(equal(this.id,obj.id)){obj=this;return false;}});data.push(obj);});callback(data);};}}}}
if(typeof(opts.query)!=="function"){throw"query function not defined for Select2 "+opts.element.attr("id");}
if(opts.createSearchChoicePosition==='top'){opts.createSearchChoicePosition=function(list,item){list.unshift(item);};}
else if(opts.createSearchChoicePosition==='bottom'){opts.createSearchChoicePosition=function(list,item){list.push(item);};}
else if(typeof(opts.createSearchChoicePosition)!=="function"){throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";}
return opts;},monitorSource:function(){var el=this.opts.element,observer,self=this;el.on("change.select2",this.bind(function(e){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection();}}));this._sync=this.bind(function(){var disabled=el.prop("disabled");if(disabled===undefined)disabled=false;this.enable(!disabled);var readonly=el.prop("readonly");if(readonly===undefined)readonly=false;this.readonly(readonly);if(this.container){syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(evaluate(this.opts.containerCssClass,this.opts.element));}
if(this.dropdown){syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(evaluate(this.opts.dropdownCssClass,this.opts.element));}});if(el.length&&el[0].attachEvent){el.each(function(){this.attachEvent("onpropertychange",self._sync);});}
observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!==undefined){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null;}
this.propertyObserver=new observer(function(mutations){$.each(mutations,self._sync);});this.propertyObserver.observe(el.get(0),{attributes:true,subtree:false});}},triggerSelect:function(data){var evt=$.Event("select2-selecting",{val:this.id(data),object:data,choice:data});this.opts.element.trigger(evt);return!evt.isDefaultPrevented();},triggerChange:function(details){details=details||{};details=$.extend({},details,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(details);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange)
this.opts.element.blur();},isInterfaceEnabled:function(){return this.enabledInterface===true;},enableInterface:function(){var enabled=this._enabled&&!this._readonly,disabled=!enabled;if(enabled===this.enabledInterface)return false;this.container.toggleClass("select2-container-disabled",disabled);this.close();this.enabledInterface=enabled;return true;},enable:function(enabled){if(enabled===undefined)enabled=true;if(this._enabled===enabled)return;this._enabled=enabled;this.opts.element.prop("disabled",!enabled);this.enableInterface();},disable:function(){this.enable(false);},readonly:function(enabled){if(enabled===undefined)enabled=false;if(this._readonly===enabled)return;this._readonly=enabled;this.opts.element.prop("readonly",enabled);this.enableInterface();},opened:function(){return(this.container)?this.container.hasClass("select2-dropdown-open"):false;},positionDropdown:function(){var $dropdown=this.dropdown,container=this.container,offset=container.offset(),height=container.outerHeight(false),width=container.outerWidth(false),dropHeight=$dropdown.outerHeight(false),$window=$(window),windowWidth=$window.width(),windowHeight=$window.height(),viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,dropLeft=offset.left,enoughRoomBelow=dropTop+dropHeight<=viewportBottom,enoughRoomAbove=(offset.top-dropHeight)>=$window.scrollTop(),dropWidth=$dropdown.outerWidth(false),enoughRoomOnRight=function(){return dropLeft+dropWidth<=viewPortRight;},enoughRoomOnLeft=function(){return offset.left+viewPortRight+container.outerWidth(false)>dropWidth;},aboveNow=$dropdown.hasClass("select2-drop-above"),bodyOffset,above,changeDirection,css,resultsListNode;if(aboveNow){above=true;if(!enoughRoomAbove&&enoughRoomBelow){changeDirection=true;above=false;}}else{above=false;if(!enoughRoomBelow&&enoughRoomAbove){changeDirection=true;above=true;}}
if(changeDirection){$dropdown.hide();offset=this.container.offset();height=this.container.outerHeight(false);width=this.container.outerWidth(false);dropHeight=$dropdown.outerHeight(false);viewPortRight=$window.scrollLeft()+windowWidth;viewportBottom=$window.scrollTop()+windowHeight;dropTop=offset.top+height;dropLeft=offset.left;dropWidth=$dropdown.outerWidth(false);$dropdown.show();this.focusSearch();}
if(this.opts.dropdownAutoWidth){resultsListNode=$('.select2-results',$dropdown)[0];$dropdown.addClass('select2-drop-auto-width');$dropdown.css('width','');dropWidth=$dropdown.outerWidth(false)+(resultsListNode.scrollHeight===resultsListNode.clientHeight?0:scrollBarDimensions.width);dropWidth>width?width=dropWidth:dropWidth=width;dropHeight=$dropdown.outerHeight(false);}
else{this.container.removeClass('select2-drop-auto-width');}
if(this.body.css('position')!=='static'){bodyOffset=this.body.offset();dropTop-=bodyOffset.top;dropLeft-=bodyOffset.left;}
if(!enoughRoomOnRight()&&enoughRoomOnLeft()){dropLeft=offset.left+this.container.outerWidth(false)-dropWidth;}
css={left:dropLeft,width:width};if(above){css.top=offset.top-dropHeight;css.bottom='auto';this.container.addClass("select2-drop-above");$dropdown.addClass("select2-drop-above");}
else{css.top=dropTop;css.bottom='auto';this.container.removeClass("select2-drop-above");$dropdown.removeClass("select2-drop-above");}
css=$.extend(css,evaluate(this.opts.dropdownCss,this.opts.element));$dropdown.css(css);},shouldOpen:function(){var event;if(this.opened())return false;if(this._enabled===false||this._readonly===true)return false;event=$.Event("select2-opening");this.opts.element.trigger(event);return!event.isDefaultPrevented();},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above");},open:function(){if(!this.shouldOpen())return false;this.opening();$document.on("mousemove.select2Event",function(e){lastMousePosition.x=e.pageX;lastMousePosition.y=e.pageY;});return true;},opening:function(){var cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid,mask;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body.children().last()[0]){this.dropdown.detach().appendTo(this.body);}
mask=$("#select2-drop-mask");if(mask.length===0){mask=$(document.createElement("div"));mask.attr("id","select2-drop-mask").attr("class","select2-drop-mask");mask.hide();mask.appendTo(this.body);mask.on("mousedown touchstart click",function(e){reinsertElement(mask);var dropdown=$("#select2-drop"),self;if(dropdown.length>0){self=dropdown.data("select2");if(self.opts.selectOnBlur){self.selectHighlighted({noFocus:true});}
self.close();e.preventDefault();e.stopPropagation();}});}
if(this.dropdown.prev()[0]!==mask[0]){this.dropdown.before(mask);}
$("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");mask.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var that=this;this.container.parents().add(window).each(function(){$(this).on(resize+" "+scroll+" "+orient,function(e){if(that.opened())that.positionDropdown();});});},close:function(){if(!this.opened())return;var cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.parents().add(window).each(function(){$(this).off(scroll).off(resize).off(orient);});this.clearDropdownAlignmentPreference();$("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();$document.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger($.Event("select2-close"));},externalSearch:function(term){this.open();this.search.val(term);this.updateResults(false);},clearSearch:function(){},getMaximumSelectionSize:function(){return evaluate(this.opts.maximumSelectionSize,this.opts.element);},ensureHighlightVisible:function(){var results=this.results,children,index,child,hb,rb,y,more,topOffset;index=this.highlight();if(index<0)return;if(index==0){results.scrollTop(0);return;}
children=this.findHighlightableChoices().find('.select2-result-label');child=$(children[index]);topOffset=(child.offset()||{}).top||0;hb=topOffset+child.outerHeight(true);if(index===children.length-1){more=results.find("li.select2-more-results");if(more.length>0){hb=more.offset().top+more.outerHeight(true);}}
rb=results.offset().top+results.outerHeight(false);if(hb>rb){results.scrollTop(results.scrollTop()+(hb-rb));}
y=topOffset-results.offset().top;if(y<0&&child.css('display')!='none'){results.scrollTop(results.scrollTop()+y);}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)");},moveHighlight:function(delta){var choices=this.findHighlightableChoices(),index=this.highlight();while(index>-1&&index<choices.length){index+=delta;var choice=$(choices[index]);if(choice.hasClass("select2-result-selectable")&&!choice.hasClass("select2-disabled")&&!choice.hasClass("select2-selected")){this.highlight(index);break;}}},highlight:function(index){var choices=this.findHighlightableChoices(),choice,data;if(arguments.length===0){return indexOf(choices.filter(".select2-highlighted")[0],choices.get());}
if(index>=choices.length)index=choices.length-1;if(index<0)index=0;this.removeHighlight();choice=$(choices[index]);choice.addClass("select2-highlighted");this.search.attr("aria-activedescendant",choice.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();this.liveRegion.text(choice.text());data=choice.data("select2-data");if(data){this.opts.element.trigger({type:"select2-highlight",val:this.id(data),choice:data});}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted");},touchMoved:function(){this._touchMoved=true;},clearTouchMoved:function(){this._touchMoved=false;},countSelectableResults:function(){return this.findHighlightableChoices().length;},highlightUnderEvent:function(event){var el=$(event.target).closest(".select2-result-selectable");if(el.length>0&&!el.is(".select2-highlighted")){var choices=this.findHighlightableChoices();this.highlight(choices.index(el));}else if(el.length==0){this.removeHighlight();}},loadMoreIfNeeded:function(){var results=this.results,more=results.find("li.select2-more-results"),below,page=this.resultsPage+1,self=this,term=this.search.val(),context=this.context;if(more.length===0)return;below=more.offset().top-results.offset().top-results.height();if(below<=this.opts.loadMorePadding){more.addClass("select2-active");this.opts.query({element:this.opts.element,term:term,page:page,context:context,matcher:this.opts.matcher,callback:this.bind(function(data){if(!self.opened())return;self.opts.populateResults.call(this,results,data.results,{term:term,page:page,context:context});self.postprocessResults(data,false,false);if(data.more===true){more.detach().appendTo(results).html(self.opts.escapeMarkup(evaluate(self.opts.formatLoadMore,self.opts.element,page+1)));window.setTimeout(function(){self.loadMoreIfNeeded();},10);}else{more.remove();}
self.positionDropdown();self.resultsPage=page;self.context=data.context;this.opts.element.trigger({type:"select2-loaded",items:data});})});}},tokenize:function(){},updateResults:function(initial){var search=this.search,results=this.results,opts=this.opts,data,self=this,input,term=search.val(),lastTerm=$.data(this.container,"select2-last-term"),queryNumber;if(initial!==true&&lastTerm&&equal(term,lastTerm))return;$.data(this.container,"select2-last-term",term);if(initial!==true&&(this.showSearchInput===false||!this.opened())){return;}
function postRender(){search.removeClass("select2-active");self.positionDropdown();if(results.find('.select2-no-results,.select2-selection-limit,.select2-searching').length){self.liveRegion.text(results.text());}
else{self.liveRegion.text(self.opts.formatMatches(results.find('.select2-result-selectable:not(".select2-selected")').length));}}
function render(html){results.html(html);postRender();}
queryNumber=++this.queryCount;var maxSelSize=this.getMaximumSelectionSize();if(maxSelSize>=1){data=this.data();if($.isArray(data)&&data.length>=maxSelSize&&checkFormatter(opts.formatSelectionTooBig,"formatSelectionTooBig")){render("<li class='select2-selection-limit'>"+evaluate(opts.formatSelectionTooBig,opts.element,maxSelSize)+"</li>");return;}}
if(search.val().length<opts.minimumInputLength){if(checkFormatter(opts.formatInputTooShort,"formatInputTooShort")){render("<li class='select2-no-results'>"+evaluate(opts.formatInputTooShort,opts.element,search.val(),opts.minimumInputLength)+"</li>");}else{render("");}
if(initial&&this.showSearch)this.showSearch(true);return;}
if(opts.maximumInputLength&&search.val().length>opts.maximumInputLength){if(checkFormatter(opts.formatInputTooLong,"formatInputTooLong")){render("<li class='select2-no-results'>"+evaluate(opts.formatInputTooLong,opts.element,search.val(),opts.maximumInputLength)+"</li>");}else{render("");}
return;}
if(opts.formatSearching&&this.findHighlightableChoices().length===0){render("<li class='select2-searching'>"+evaluate(opts.formatSearching,opts.element)+"</li>");}
search.addClass("select2-active");this.removeHighlight();input=this.tokenize();if(input!=undefined&&input!=null){search.val(input);}
this.resultsPage=1;opts.query({element:opts.element,term:search.val(),page:this.resultsPage,context:null,matcher:opts.matcher,callback:this.bind(function(data){var def;if(queryNumber!=this.queryCount){return;}
if(!this.opened()){this.search.removeClass("select2-active");return;}
if(data.hasError!==undefined&&checkFormatter(opts.formatAjaxError,"formatAjaxError")){render("<li class='select2-ajax-error'>"+evaluate(opts.formatAjaxError,opts.element,data.jqXHR,data.textStatus,data.errorThrown)+"</li>");return;}
this.context=(data.context===undefined)?null:data.context;if(this.opts.createSearchChoice&&search.val()!==""){def=this.opts.createSearchChoice.call(self,search.val(),data.results);if(def!==undefined&&def!==null&&self.id(def)!==undefined&&self.id(def)!==null){if($(data.results).filter(function(){return equal(self.id(this),self.id(def));}).length===0){this.opts.createSearchChoicePosition(data.results,def);}}}
if(data.results.length===0&&checkFormatter(opts.formatNoMatches,"formatNoMatches")){render("<li class='select2-no-results'>"+evaluate(opts.formatNoMatches,opts.element,search.val())+"</li>");return;}
results.empty();self.opts.populateResults.call(this,results,data.results,{term:search.val(),page:this.resultsPage,context:null});if(data.more===true&&checkFormatter(opts.formatLoadMore,"formatLoadMore")){results.append("<li class='select2-more-results'>"+opts.escapeMarkup(evaluate(opts.formatLoadMore,opts.element,this.resultsPage))+"</li>");window.setTimeout(function(){self.loadMoreIfNeeded();},10);}
this.postprocessResults(data,initial);postRender();this.opts.element.trigger({type:"select2-loaded",items:data});})});},cancel:function(){this.close();},blur:function(){if(this.opts.selectOnBlur)
this.selectHighlighted({noFocus:true});this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur();}
this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");},focusSearch:function(){focus(this.search);},selectHighlighted:function(options){if(this._touchMoved){this.clearTouchMoved();return;}
var index=this.highlight(),highlighted=this.results.find(".select2-highlighted"),data=highlighted.closest('.select2-result').data("select2-data");if(data){this.highlight(index);this.onSelect(data,options);}else if(options&&options.noFocus){this.close();}},getPlaceholder:function(){var placeholderOption;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((placeholderOption=this.getPlaceholderOption())!==undefined?placeholderOption.text():undefined);},getPlaceholderOption:function(){if(this.select){var firstOption=this.select.children('option').first();if(this.opts.placeholderOption!==undefined){return(this.opts.placeholderOption==="first"&&firstOption)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select));}else if($.trim(firstOption.text())===""&&firstOption.val()===""){return firstOption;}}},initContainerWidth:function(){function resolveContainerWidth(){var style,attrs,matches,i,l,attr;if(this.opts.width==="off"){return null;}else if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?'auto':this.opts.element.outerWidth(false)+'px';}else if(this.opts.width==="copy"||this.opts.width==="resolve"){style=this.opts.element.attr('style');if(style!==undefined){attrs=style.split(';');for(i=0,l=attrs.length;i<l;i=i+1){attr=attrs[i].replace(/\s/g,'');matches=attr.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(matches!==null&&matches.length>=1)
return matches[1];}}
if(this.opts.width==="resolve"){style=this.opts.element.css('width');if(style.indexOf("%")>0)return style;return(this.opts.element.outerWidth(false)===0?'auto':this.opts.element.outerWidth(false)+'px');}
return null;}else if($.isFunction(this.opts.width)){return this.opts.width();}else{return this.opts.width;}};var width=resolveContainerWidth.call(this);if(width!==null){this.container.css("width",width);}}});SingleSelect2=clazz(AbstractSelect2,{createContainer:function(){var container=$(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return container;},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled());}},opening:function(){var el,range,len;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true);}
this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val());}
if(this.opts.shouldFocusInput(this)){this.search.focus();el=this.search.get(0);if(el.createTextRange){range=el.createTextRange();range.collapse(false);range.select();}else if(el.setSelectionRange){len=this.search.val().length;el.setSelectionRange(len,len);}}
if(this.search.val()===""){if(this.nextSearchTerm!=undefined){this.search.val(this.nextSearchTerm);this.search.select();}}
this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger($.Event("select2-open"));},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus();}},focus:function(){if(this.opened()){this.close();}else{this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus();}}},isFocused:function(){return this.container.hasClass("select2-container-active");},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus();}},destroy:function(){$("label[for='"+this.focusser.attr('id')+"']").attr('for',this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);cleanupJQueryElements.call(this,"selection","focusser");},initContainer:function(){var selection,container=this.container,dropdown=this.dropdown,idSuffix=nextUid(),elementLabel;if(this.opts.minimumResultsForSearch<0){this.showSearch(false);}else{this.showSearch(true);}
this.selection=selection=container.find(".select2-choice");this.focusser=container.find(".select2-focusser");selection.find(".select2-chosen").attr("id","select2-chosen-"+idSuffix);this.focusser.attr("aria-labelledby","select2-chosen-"+idSuffix);this.results.attr("id","select2-results-"+idSuffix);this.search.attr("aria-owns","select2-results-"+idSuffix);this.focusser.attr("id","s2id_autogen"+idSuffix);elementLabel=$("label[for='"+this.opts.element.attr("id")+"']");this.opts.element.focus(this.bind(function(){this.focus();}));this.focusser.prev().text(elementLabel.text()).attr('for',this.focusser.attr('id'));var originalTitle=this.opts.element.attr("title");this.opts.element.attr("title",(originalTitle||elementLabel.text()));this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr('id')+'_search');this.search.prev().text($("label[for='"+this.focusser.attr('id')+"']").text()).attr('for',this.search.attr('id'));this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(229==e.keyCode)return;if(e.which===KEY.PAGE_UP||e.which===KEY.PAGE_DOWN){killEvent(e);return;}
switch(e.which){case KEY.UP:case KEY.DOWN:this.moveHighlight((e.which===KEY.UP)?-1:1);killEvent(e);return;case KEY.ENTER:this.selectHighlighted();killEvent(e);return;case KEY.TAB:this.selectHighlighted({noFocus:true});return;case KEY.ESC:this.cancel(e);killEvent(e);return;}}));this.search.on("blur",this.bind(function(e){if(document.activeElement===this.body.get(0)){window.setTimeout(this.bind(function(){if(this.opened()){this.search.focus();}}),0);}}));this.focusser.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return;}
if(this.opts.openOnEnter===false&&e.which===KEY.ENTER){killEvent(e);return;}
if(e.which==KEY.DOWN||e.which==KEY.UP||(e.which==KEY.ENTER&&this.opts.openOnEnter)){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;this.open();killEvent(e);return;}
if(e.which==KEY.DELETE||e.which==KEY.BACKSPACE){if(this.opts.allowClear){this.clear();}
killEvent(e);return;}}));installKeyUpChangeEvent(this.focusser);this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){e.stopPropagation();if(this.opened())return;this.open();}}));selection.on("mousedown touchstart","abbr",this.bind(function(e){if(!this.isInterfaceEnabled()){return;}
this.clear();killEventImmediately(e);this.close();if(this.selection){this.selection.focus();}}));selection.on("mousedown touchstart",this.bind(function(e){reinsertElement(selection);if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
if(this.opened()){this.close();}else if(this.isInterfaceEnabled()){this.open();}
killEvent(e);}));dropdown.on("mousedown touchstart",this.bind(function(){if(this.opts.shouldFocusInput(this)){this.search.focus();}}));selection.on("focus",this.bind(function(e){killEvent(e);}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.container.addClass("select2-container-active");})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger($.Event("select2-blur"));}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.container.addClass("select2-container-active");}));this.initContainerWidth();this.opts.element.hide();this.setPlaceholder();},clear:function(triggerChange){var data=this.selection.data("select2-data");if(data){var evt=$.Event("select2-clearing");this.opts.element.trigger(evt);if(evt.isDefaultPrevented()){return;}
var placeholderOption=this.getPlaceholderOption();this.opts.element.val(placeholderOption?placeholderOption.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(triggerChange!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(data),choice:data});this.triggerChange({removed:data});}}},initSelection:function(){var selected;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder();}else{var self=this;this.opts.initSelection.call(null,this.opts.element,function(selected){if(selected!==undefined&&selected!==null){self.updateSelection(selected);self.close();self.setPlaceholder();self.nextSearchTerm=self.opts.nextSearchTerm(selected,self.search.val());}});}},isPlaceholderOptionSelected:function(){var placeholderOption;if(this.getPlaceholder()===undefined)return false;return((placeholderOption=this.getPlaceholderOption())!==undefined&&placeholderOption.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===undefined)||(this.opts.element.val()===null);},prepareOpts:function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;if(opts.element.get(0).tagName.toLowerCase()==="select"){opts.initSelection=function(element,callback){var selected=element.find("option").filter(function(){return this.selected&&!this.disabled});callback(self.optionToData(selected));};}else if("data"in opts){opts.initSelection=opts.initSelection||function(element,callback){var id=element.val();var match=null;opts.query({matcher:function(term,text,el){var is_match=equal(id,opts.id(el));if(is_match){match=el;}
return is_match;},callback:!$.isFunction(callback)?$.noop:function(){callback(match);}});};}
return opts;},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===undefined){return undefined;}}
return this.parent.getPlaceholder.apply(this,arguments);},setPlaceholder:function(){var placeholder=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&placeholder!==undefined){if(this.select&&this.getPlaceholderOption()===undefined)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(placeholder));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear");}},postprocessResults:function(data,initial,noHighlightUpdate){var selected=0,self=this,showSearchInput=true;this.findHighlightableChoices().each2(function(i,elm){if(equal(self.id(elm.data("select2-data")),self.opts.element.val())){selected=i;return false;}});if(noHighlightUpdate!==false){if(initial===true&&selected>=0){this.highlight(selected);}else{this.highlight(0);}}
if(initial===true){var min=this.opts.minimumResultsForSearch;if(min>=0){this.showSearch(countResults(data.results)>=min);}}},showSearch:function(showSearchInput){if(this.showSearchInput===showSearchInput)return;this.showSearchInput=showSearchInput;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!showSearchInput);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!showSearchInput);$(this.dropdown,this.container).toggleClass("select2-with-searchbox",showSearchInput);},onSelect:function(data,options){if(!this.triggerSelect(data)){return;}
var old=this.opts.element.val(),oldData=this.data();this.opts.element.val(this.id(data));this.updateSelection(data);this.opts.element.trigger({type:"select2-selected",val:this.id(data),choice:data});this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val());this.close();if((!options||!options.noFocus)&&this.opts.shouldFocusInput(this)){this.focusser.focus();}
if(!equal(old,this.id(data))){this.triggerChange({added:data,removed:oldData});}},updateSelection:function(data){var container=this.selection.find(".select2-chosen"),formatted,cssClass;this.selection.data("select2-data",data);container.empty();if(data!==null){formatted=this.opts.formatSelection(data,container,this.opts.escapeMarkup);}
if(formatted!==undefined){container.append(formatted);}
cssClass=this.opts.formatSelectionCssClass(data,container);if(cssClass!==undefined){container.addClass(cssClass);}
this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==undefined){this.container.addClass("select2-allowclear");}},val:function(){var val,triggerChange=false,data=null,self=this,oldData=this.data();if(arguments.length===0){return this.opts.element.val();}
val=arguments[0];if(arguments.length>1){triggerChange=arguments[1];}
if(this.select){this.select.val(val).find("option").filter(function(){return this.selected}).each2(function(i,elm){data=self.optionToData(elm);return false;});this.updateSelection(data);this.setPlaceholder();if(triggerChange){this.triggerChange({added:data,removed:oldData});}}else{if(!val&&val!==0){this.clear(triggerChange);return;}
if(this.opts.initSelection===undefined){throw new Error("cannot call val() if initSelection() is not defined");}
this.opts.element.val(val);this.opts.initSelection(this.opts.element,function(data){self.opts.element.val(!data?"":self.id(data));self.updateSelection(data);self.setPlaceholder();if(triggerChange){self.triggerChange({added:data,removed:oldData});}});}},clearSearch:function(){this.search.val("");this.focusser.val("");},data:function(value){var data,triggerChange=false;if(arguments.length===0){data=this.selection.data("select2-data");if(data==undefined)data=null;return data;}else{if(arguments.length>1){triggerChange=arguments[1];}
if(!value){this.clear(triggerChange);}else{data=this.data();this.opts.element.val(!value?"":this.id(value));this.updateSelection(value);if(triggerChange){this.triggerChange({added:value,removed:data});}}}}});MultiSelect2=clazz(AbstractSelect2,{createContainer:function(){var container=$(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return container;},prepareOpts:function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;if(opts.element.get(0).tagName.toLowerCase()==="select"){opts.initSelection=function(element,callback){var data=[];element.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(i,elm){data.push(self.optionToData(elm));});callback(data);};}else if("data"in opts){opts.initSelection=opts.initSelection||function(element,callback){var ids=splitVal(element.val(),opts.separator,opts.transformVal);var matches=[];opts.query({matcher:function(term,text,el){var is_match=$.grep(ids,function(id){return equal(id,opts.id(el));}).length;if(is_match){matches.push(el);}
return is_match;},callback:!$.isFunction(callback)?$.noop:function(){var ordered=[];for(var i=0;i<ids.length;i++){var id=ids[i];for(var j=0;j<matches.length;j++){var match=matches[j];if(equal(id,opts.id(match))){ordered.push(match);matches.splice(j,1);break;}}}
callback(ordered);}});};}
return opts;},selectChoice:function(choice){var selected=this.container.find(".select2-search-choice-focus");if(selected.length&&choice&&choice[0]==selected[0]){}else{if(selected.length){this.opts.element.trigger("choice-deselected",selected);}
selected.removeClass("select2-search-choice-focus");if(choice&&choice.length){this.close();choice.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",choice);}}},destroy:function(){$("label[for='"+this.search.attr('id')+"']").attr('for',this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);cleanupJQueryElements.call(this,"searchContainer","selection");},initContainer:function(){var selector=".select2-choices",selection;this.searchContainer=this.container.find(".select2-search-field");this.selection=selection=this.container.find(selector);var _this=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(e){_this.search[0].focus();_this.selectChoice($(this));});this.search.attr("id","s2id_autogen"+nextUid());this.search.prev().text($("label[for='"+this.opts.element.attr("id")+"']").text()).attr('for',this.search.attr('id'));this.opts.element.focus(this.bind(function(){this.focus();}));this.search.on("input paste",this.bind(function(){if(this.search.attr('placeholder')&&this.search.val().length==0)return;if(!this.isInterfaceEnabled())return;if(!this.opened()){this.open();}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;++this.keydowns;var selected=selection.find(".select2-search-choice-focus");var prev=selected.prev(".select2-search-choice:not(.select2-locked)");var next=selected.next(".select2-search-choice:not(.select2-locked)");var pos=getCursorInfo(this.search);if(selected.length&&(e.which==KEY.LEFT||e.which==KEY.RIGHT||e.which==KEY.BACKSPACE||e.which==KEY.DELETE||e.which==KEY.ENTER)){var selectedChoice=selected;if(e.which==KEY.LEFT&&prev.length){selectedChoice=prev;}
else if(e.which==KEY.RIGHT){selectedChoice=next.length?next:null;}
else if(e.which===KEY.BACKSPACE){if(this.unselect(selected.first())){this.search.width(10);selectedChoice=prev.length?prev:next;}}else if(e.which==KEY.DELETE){if(this.unselect(selected.first())){this.search.width(10);selectedChoice=next.length?next:null;}}else if(e.which==KEY.ENTER){selectedChoice=null;}
this.selectChoice(selectedChoice);killEvent(e);if(!selectedChoice||!selectedChoice.length){this.open();}
return;}else if(((e.which===KEY.BACKSPACE&&this.keydowns==1)||e.which==KEY.LEFT)&&(pos.offset==0&&!pos.length)){this.selectChoice(selection.find(".select2-search-choice:not(.select2-locked)").last());killEvent(e);return;}else{this.selectChoice(null);}
if(this.opened()){switch(e.which){case KEY.UP:case KEY.DOWN:this.moveHighlight((e.which===KEY.UP)?-1:1);killEvent(e);return;case KEY.ENTER:this.selectHighlighted();killEvent(e);return;case KEY.TAB:this.selectHighlighted({noFocus:true});this.close();return;case KEY.ESC:this.cancel(e);killEvent(e);return;}}
if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.BACKSPACE||e.which===KEY.ESC){return;}
if(e.which===KEY.ENTER){if(this.opts.openOnEnter===false){return;}else if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey){return;}}
this.open();if(e.which===KEY.PAGE_UP||e.which===KEY.PAGE_DOWN){killEvent(e);}
if(e.which===KEY.ENTER){killEvent(e);}}));this.search.on("keyup",this.bind(function(e){this.keydowns=0;this.resizeSearch();}));this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened())this.clearSearch();e.stopImmediatePropagation();this.opts.element.trigger($.Event("select2-blur"));}));this.container.on("click",selector,this.bind(function(e){if(!this.isInterfaceEnabled())return;if($(e.target).closest(".select2-search-choice").length>0){return;}
this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.open();this.focusSearch();e.preventDefault();}));this.container.on("focus",selector,this.bind(function(){if(!this.isInterfaceEnabled())return;if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder();}));this.initContainerWidth();this.opts.element.hide();this.clearSearch();},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled());}},initSelection:function(){var data;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch();}
if(this.select||this.opts.element.val()!==""){var self=this;this.opts.initSelection.call(null,this.opts.element,function(data){if(data!==undefined&&data!==null){self.updateSelection(data);self.close();self.clearSearch();}});}},clearSearch:function(){var placeholder=this.getPlaceholder(),maxWidth=this.getMaxSearchWidth();if(placeholder!==undefined&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(placeholder).addClass("select2-default");this.search.width(maxWidth>0?maxWidth:this.container.css("width"));}else{this.search.val("").width(10);}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default");}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();if(this.search.val()===""){if(this.nextSearchTerm!=undefined){this.search.val(this.nextSearchTerm);this.search.select();}}
this.updateResults(true);if(this.opts.shouldFocusInput(this)){this.search.focus();}
this.opts.element.trigger($.Event("select2-open"));},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments);},focus:function(){this.close();this.search.focus();},isFocused:function(){return this.search.hasClass("select2-focused");},updateSelection:function(data){var ids=[],filtered=[],self=this;$(data).each(function(){if(indexOf(self.id(this),ids)<0){ids.push(self.id(this));filtered.push(this);}});data=filtered;this.selection.find(".select2-search-choice").remove();$(data).each(function(){self.addSelectedChoice(this);});self.postprocessResults();},tokenize:function(){var input=this.search.val();input=this.opts.tokenizer.call(this,input,this.data(),this.bind(this.onSelect),this.opts);if(input!=null&&input!=undefined){this.search.val(input);if(input.length>0){this.open();}}},onSelect:function(data,options){if(!this.triggerSelect(data)||data.text===""){return;}
this.addSelectedChoice(data);this.opts.element.trigger({type:"selected",val:this.id(data),choice:data});this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val());this.clearSearch();this.updateResults();if(this.select||!this.opts.closeOnSelect)this.postprocessResults(data,false,this.opts.closeOnSelect===true);if(this.opts.closeOnSelect){this.close();this.search.width(10);}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true);}else{if(this.nextSearchTerm!=undefined){this.search.val(this.nextSearchTerm);this.updateResults();this.search.select();}}
this.positionDropdown();}else{this.close();this.search.width(10);}}
this.triggerChange({added:data});if(!options||!options.noFocus)
this.focusSearch();},cancel:function(){this.close();this.focusSearch();},addSelectedChoice:function(data){var enableChoice=!data.locked,enabledItem=$("<li class='select2-search-choice'>"+"    <div></div>"+"    <a href='#' class='select2-search-choice-close' tabindex='-1'></a>"+"</li>"),disabledItem=$("<li class='select2-search-choice select2-locked'>"+"<div></div>"+"</li>");var choice=enableChoice?enabledItem:disabledItem,id=this.id(data),val=this.getVal(),formatted,cssClass;formatted=this.opts.formatSelection(data,choice.find("div"),this.opts.escapeMarkup);if(formatted!=undefined){choice.find("div").replaceWith($("<div></div>").html(formatted));}
cssClass=this.opts.formatSelectionCssClass(data,choice.find("div"));if(cssClass!=undefined){choice.addClass(cssClass);}
if(enableChoice){choice.find(".select2-search-choice-close").on("mousedown",killEvent).on("click dblclick",this.bind(function(e){if(!this.isInterfaceEnabled())return;this.unselect($(e.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");killEvent(e);this.close();this.focusSearch();})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");}));}
choice.data("select2-data",data);choice.insertBefore(this.searchContainer);val.push(id);this.setVal(val);},unselect:function(selected){var val=this.getVal(),data,index;selected=selected.closest(".select2-search-choice");if(selected.length===0){throw"Invalid argument: "+selected+". Must be .select2-search-choice";}
data=selected.data("select2-data");if(!data){return;}
var evt=$.Event("select2-removing");evt.val=this.id(data);evt.choice=data;this.opts.element.trigger(evt);if(evt.isDefaultPrevented()){return false;}
while((index=indexOf(this.id(data),val))>=0){val.splice(index,1);this.setVal(val);if(this.select)this.postprocessResults();}
selected.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(data),choice:data});this.triggerChange({removed:data});return true;},postprocessResults:function(data,initial,noHighlightUpdate){var val=this.getVal(),choices=this.results.find(".select2-result"),compound=this.results.find(".select2-result-with-children"),self=this;choices.each2(function(i,choice){var id=self.id(choice.data("select2-data"));if(indexOf(id,val)>=0){choice.addClass("select2-selected");choice.find(".select2-result-selectable").addClass("select2-selected");}});compound.each2(function(i,choice){if(!choice.is('.select2-result-selectable')&&choice.find(".select2-result-selectable:not(.select2-selected)").length===0){choice.addClass("select2-selected");}});if(this.highlight()==-1&&noHighlightUpdate!==false&&this.opts.closeOnSelect===true){self.highlight(0);}
if(!this.opts.createSearchChoice&&!choices.filter('.select2-result:not(.select2-selected)').length>0){if(!data||data&&!data.more&&this.results.find(".select2-no-results").length===0){if(checkFormatter(self.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+evaluate(self.opts.formatNoMatches,self.opts.element,self.search.val())+"</li>");}}}},getMaxSearchWidth:function(){return this.selection.width()-getSideBorderPadding(this.search);},resizeSearch:function(){var minimumWidth,left,maxWidth,containerLeft,searchWidth,sideBorderPadding=getSideBorderPadding(this.search);minimumWidth=measureTextWidth(this.search)+10;left=this.search.offset().left;maxWidth=this.selection.width();containerLeft=this.selection.offset().left;searchWidth=maxWidth-(left-containerLeft)-sideBorderPadding;if(searchWidth<minimumWidth){searchWidth=maxWidth-sideBorderPadding;}
if(searchWidth<40){searchWidth=maxWidth-sideBorderPadding;}
if(searchWidth<=0){searchWidth=minimumWidth;}
this.search.width(Math.floor(searchWidth));},getVal:function(){var val;if(this.select){val=this.select.val();return val===null?[]:val;}else{val=this.opts.element.val();return splitVal(val,this.opts.separator,this.opts.transformVal);}},setVal:function(val){var unique;if(this.select){this.select.val(val);}else{unique=[];$(val).each(function(){if(indexOf(this,unique)<0)unique.push(this);});this.opts.element.val(unique.length===0?"":unique.join(this.opts.separator));}},buildChangeDetails:function(old,current){var current=current.slice(0),old=old.slice(0);for(var i=0;i<current.length;i++){for(var j=0;j<old.length;j++){if(equal(this.opts.id(current[i]),this.opts.id(old[j]))){current.splice(i,1);if(i>0){i--;}
old.splice(j,1);j--;}}}
return{added:current,removed:old};},val:function(val,triggerChange){var oldData,self=this;if(arguments.length===0){return this.getVal();}
oldData=this.data();if(!oldData.length)oldData=[];if(!val&&val!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(triggerChange){this.triggerChange({added:this.data(),removed:oldData});}
return;}
this.setVal(val);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(triggerChange){this.triggerChange(this.buildChangeDetails(oldData,this.data()));}}else{if(this.opts.initSelection===undefined){throw new Error("val() cannot be called if initSelection() is not defined");}
this.opts.initSelection(this.opts.element,function(data){var ids=$.map(data,self.id);self.setVal(ids);self.updateSelection(data);self.clearSearch();if(triggerChange){self.triggerChange(self.buildChangeDetails(oldData,self.data()));}});}
this.clearSearch();},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");}
this.search.width(0);this.searchContainer.hide();},onSortEnd:function(){var val=[],self=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){val.push(self.opts.id($(this).data("select2-data")));});this.setVal(val);this.triggerChange();},data:function(values,triggerChange){var self=this,ids,old;if(arguments.length===0){return this.selection.children(".select2-search-choice").map(function(){return $(this).data("select2-data");}).get();}else{old=this.data();if(!values){values=[];}
ids=$.map(values,function(e){return self.opts.id(e);});this.setVal(ids);this.updateSelection(values);this.clearSearch();if(triggerChange){this.triggerChange(this.buildChangeDetails(old,this.data()));}}}});$.fn.select2=function(){var args=Array.prototype.slice.call(arguments,0),opts,select2,method,value,multiple,allowedMethods=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],valueMethods=["opened","isFocused","container","dropdown"],propertyMethods=["val","data"],methodsMap={search:"externalSearch"};this.each(function(){if(args.length===0||typeof(args[0])==="object"){opts=args.length===0?{}:$.extend({},args[0]);opts.element=$(this);if(opts.element.get(0).tagName.toLowerCase()==="select"){multiple=opts.element.prop("multiple");}else{multiple=opts.multiple||false;if("tags"in opts){opts.multiple=multiple=true;}}
select2=multiple?new window.Select2["class"].multi():new window.Select2["class"].single();select2.init(opts);}else if(typeof(args[0])==="string"){if(indexOf(args[0],allowedMethods)<0){throw"Unknown method: "+args[0];}
value=undefined;select2=$(this).data("select2");if(select2===undefined)return;method=args[0];if(method==="container"){value=select2.container;}else if(method==="dropdown"){value=select2.dropdown;}else{if(methodsMap[method])method=methodsMap[method];value=select2[method].apply(select2,args.slice(1));}
if(indexOf(args[0],valueMethods)>=0||(indexOf(args[0],propertyMethods)>=0&&args.length==1)){return false;}}else{throw"Invalid arguments to select2 plugin: "+args;}});return(value===undefined)?this:value;};$.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(result,container,query,escapeMarkup){var markup=[];markMatch(this.text(result),query.term,markup,escapeMarkup);return markup.join("");},transformVal:function(val){return $.trim(val);},formatSelection:function(data,container,escapeMarkup){return data?escapeMarkup(this.text(data)):undefined;},sortResults:function(results,container,query){return results;},formatResultCssClass:function(data){return data.css;},formatSelectionCssClass:function(data,container){return undefined;},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==undefined?null:e.id;},text:function(e){if(e&&this.data&&this.data.text){if($.isFunction(this.data.text)){return this.data.text(e);}else{return e[this.data.text];}}else{return e.text;}},matcher:function(term,text){return stripDiacritics(''+text).toUpperCase().indexOf(stripDiacritics(''+term).toUpperCase())>=0;},separator:",",tokenSeparators:[],tokenizer:defaultTokenizer,escapeMarkup:defaultEscapeMarkup,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(c){return c;},adaptDropdownCssClass:function(c){return null;},nextSearchTerm:function(selectedObject,currentSearchTerm){return undefined;},searchInputPlaceholder:'',createSearchChoicePosition:'top',shouldFocusInput:function(instance){var supportsTouchEvents=(('ontouchstart'in window)||(navigator.msMaxTouchPoints>0));if(!supportsTouchEvents){return true;}
if(instance.opts.minimumResultsForSearch<0){return false;}
return true;}};$.fn.select2.locales=[];$.fn.select2.locales['en']={formatMatches:function(matches){if(matches===1){return"One result is available, press enter to select it.";}return matches+" results are available, use up and down arrow keys to navigate.";},formatNoMatches:function(){return"No matches found";},formatAjaxError:function(jqXHR,textStatus,errorThrown){return"Loading failed";},formatInputTooShort:function(input,min){var n=min-input.length;return"Please enter "+n+" or more character"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Please delete "+n+" character"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"You can only select "+limit+" item"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Loading more results…";},formatSearching:function(){return"Searching…";}};$.extend($.fn.select2.defaults,$.fn.select2.locales['en']);$.fn.select2.ajaxDefaults={transport:$.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:ajax,local:local,tags:tags},util:{debounce:debounce,markMatch:markMatch,escapeMarkup:defaultEscapeMarkup,stripDiacritics:stripDiacritics},"class":{"abstract":AbstractSelect2,"single":SingleSelect2,"multi":MultiSelect2}};}(jQuery));
/* End of File include/javascript/select2/select2.js */

(function($){$(function(){if(!window.Select2){return;}
var originalDestroy=window.Select2.class.abstract.prototype.destroy;_.extend(window.Select2.class.abstract.prototype,{destroy:function(){originalDestroy.call(this);var mask=$('#select2-drop-mask');mask.remove();}});});})(jQuery);
/* End of File include/javascript/sugar7/plugins/Select2.js */

/*!
 * jquery-timepicker v1.11.14 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 * Copyright (c) 2015 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 * License: MIT
 */
(function(factory){if(typeof exports==="object"&&exports&&typeof module==="object"&&module&&module.exports===exports){factory(require("jquery"));}else if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}})(function($){var _ONE_DAY=86400;var _lang={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"};var _DEFAULTS={appendTo:"body",className:null,closeOnWindowScroll:false,disableTextInput:false,disableTimeRanges:[],disableTouchKeyboard:false,durationTime:null,forceRoundTime:false,maxTime:null,minTime:null,noneOption:false,orientation:"l",roundingFunction:function(seconds,settings){if(seconds===null){return null;}else if(typeof settings.step!=="number"){return seconds;}else{var offset=seconds%(settings.step*60);var start=settings.minTime||0;offset-=start%(settings.step*60);if(offset>=settings.step*30){seconds+=settings.step*60-offset;}else{seconds-=offset;}
return _moduloSeconds(seconds,settings);}},scrollDefault:null,selectOnBlur:false,show2400:false,showDuration:false,showOn:["click","focus"],showOnFocus:true,step:30,stopScrollPropagation:false,timeFormat:"g:ia",typeaheadHighlight:true,useSelect:false,wrapHours:true};var methods={init:function(options){return this.each(function(){var self=$(this);var attributeOptions=[];for(var key in _DEFAULTS){if(self.data(key)){attributeOptions[key]=self.data(key);}}
var settings=$.extend({},_DEFAULTS,options,attributeOptions);if(settings.lang){_lang=$.extend(_lang,settings.lang);}
settings=_parseSettings(settings);self.data("timepicker-settings",settings);self.addClass("ui-timepicker-input");if(settings.useSelect){_render(self);}else{self.prop("autocomplete","off");if(settings.showOn){for(var i in settings.showOn){self.on(settings.showOn[i]+".timepicker",methods.show);}}
self.on("change.timepicker",_formatValue);self.on("keydown.timepicker",_keydownhandler);self.on("keyup.timepicker",_keyuphandler);if(settings.disableTextInput){self.on("keydown.timepicker",_disableTextInputHandler);}
self.on("cut.timepicker",_keyuphandler);self.on("paste.timepicker",_keyuphandler);_formatValue.call(self.get(0),null,"initial");}});},show:function(e){var self=$(this);var settings=self.data("timepicker-settings");if(e){e.preventDefault();}
if(settings.useSelect){self.data("timepicker-list").focus();return;}
if(_hideKeyboard(self)){self.blur();}
var list=self.data("timepicker-list");if(self.prop("readonly")){return;}
if(!list||list.length===0||typeof settings.durationTime==="function"){_render(self);list=self.data("timepicker-list");}
if(_isVisible(list)){return;}
self.data("ui-timepicker-value",self.val());_setSelected(self,list);methods.hide();list.show();var listOffset={};if(settings.orientation.match(/r/)){listOffset.left=self.offset().left+
self.outerWidth()-
list.outerWidth()+
parseInt(list.css("marginLeft").replace("px",""),10);}else{listOffset.left=self.offset().left+
parseInt(list.css("marginLeft").replace("px",""),10);}
var verticalOrientation;if(settings.orientation.match(/t/)){verticalOrientation="t";}else if(settings.orientation.match(/b/)){verticalOrientation="b";}else if(self.offset().top+self.outerHeight(true)+list.outerHeight()>$(window).height()+$(window).scrollTop()){verticalOrientation="t";}else{verticalOrientation="b";}
if(verticalOrientation=="t"){list.addClass("ui-timepicker-positioned-top");listOffset.top=self.offset().top-
list.outerHeight()+
parseInt(list.css("marginTop").replace("px",""),10);}else{list.removeClass("ui-timepicker-positioned-top");listOffset.top=self.offset().top+
self.outerHeight()+
parseInt(list.css("marginTop").replace("px",""),10);}
list.offset(listOffset);var selected=list.find(".ui-timepicker-selected");if(!selected.length){var timeInt=_time2int(_getTimeValue(self));if(timeInt!==null){selected=_findRow(self,list,timeInt);}else if(settings.scrollDefault){selected=_findRow(self,list,settings.scrollDefault());}}
if(!selected.length||selected.hasClass("ui-timepicker-disabled")){selected=list.find("li:not(.ui-timepicker-disabled):first");}
if(selected&&selected.length){var topOffset=list.scrollTop()+selected.position().top-selected.outerHeight();list.scrollTop(topOffset);}else{list.scrollTop(0);}
if(settings.stopScrollPropagation){$(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var currentScroll=$(this).scrollTop();$(this).scrollTop(currentScroll+e.originalEvent.deltaY);});}
$(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",_closeHandler);$(window).on("resize.ui-timepicker",_closeHandler);if(settings.closeOnWindowScroll){$(document).on("scroll.ui-timepicker",_closeHandler);}
self.trigger("showTimepicker");return this;},hide:function(e){var self=$(this);var settings=self.data("timepicker-settings");if(settings&&settings.useSelect){self.blur();}
$(".ui-timepicker-wrapper").each(function(){var list=$(this);if(!_isVisible(list)){return;}
var self=list.data("timepicker-input");var settings=self.data("timepicker-settings");if(settings&&settings.selectOnBlur){_selectValue(self);}
list.hide();self.trigger("hideTimepicker");});return this;},option:function(key,value){if(typeof key=="string"&&typeof value=="undefined"){return $(this).data("timepicker-settings")[key];}
return this.each(function(){var self=$(this);var settings=self.data("timepicker-settings");var list=self.data("timepicker-list");if(typeof key=="object"){settings=$.extend(settings,key);}else if(typeof key=="string"){settings[key]=value;}
settings=_parseSettings(settings);self.data("timepicker-settings",settings);_formatValue.call(self.get(0),{type:"change"},"initial");if(list){list.remove();self.data("timepicker-list",false);}
if(settings.useSelect){_render(self);}});},getSecondsFromMidnight:function(){return _time2int(_getTimeValue(this));},getTime:function(relative_date){var self=this;var time_string=_getTimeValue(self);if(!time_string){return null;}
var offset=_time2int(time_string);if(offset===null){return null;}
if(!relative_date){relative_date=new Date();}
var time=new Date(relative_date);time.setHours(offset / 3600);time.setMinutes((offset%3600)/ 60);time.setSeconds(offset%60);time.setMilliseconds(0);return time;},isVisible:function(){var self=this;var list=self.data("timepicker-list");return!!(list&&_isVisible(list));},setTime:function(value){var self=this;var settings=self.data("timepicker-settings");if(settings.forceRoundTime){var prettyTime=_roundAndFormatTime(_time2int(value),settings);}else{var prettyTime=_int2time(_time2int(value),settings);}
if(value&&prettyTime===null&&settings.noneOption){prettyTime=value;}
_setTimeValue(self,prettyTime,"initial");_formatValue.call(self.get(0),{type:"change"},"initial");if(self.data("timepicker-list")){_setSelected(self,self.data("timepicker-list"));}
return this;},remove:function(){var self=this;if(!self.hasClass("ui-timepicker-input")){return;}
var settings=self.data("timepicker-settings");self.removeAttr("autocomplete","off");self.removeClass("ui-timepicker-input");self.removeData("timepicker-settings");self.off(".timepicker");if(self.data("timepicker-list")){self.data("timepicker-list").remove();}
if(settings.useSelect){self.show();}
self.removeData("timepicker-list");return this;}};function _isVisible(elem){var el=elem[0];return el.offsetWidth>0&&el.offsetHeight>0;}
function _parseSettings(settings){if(settings.minTime){settings.minTime=_time2int(settings.minTime);}
if(settings.maxTime){settings.maxTime=_time2int(settings.maxTime);}
if(settings.durationTime&&typeof settings.durationTime!=="function"){settings.durationTime=_time2int(settings.durationTime);}
if(settings.scrollDefault=="now"){settings.scrollDefault=function(){return settings.roundingFunction(_time2int(new Date()),settings);};}else if(settings.scrollDefault&&typeof settings.scrollDefault!="function"){var val=settings.scrollDefault;settings.scrollDefault=function(){return settings.roundingFunction(_time2int(val),settings);};}else if(settings.minTime){settings.scrollDefault=function(){return settings.roundingFunction(settings.minTime,settings);};}
if($.type(settings.timeFormat)==="string"&&settings.timeFormat.match(/[gh]/)){settings._twelveHourTime=true;}
if(settings.showOnFocus===false&&settings.showOn.indexOf("focus")!=-1){settings.showOn.splice(settings.showOn.indexOf("focus"),1);}
if(settings.disableTimeRanges.length>0){for(var i in settings.disableTimeRanges){settings.disableTimeRanges[i]=[_time2int(settings.disableTimeRanges[i][0]),_time2int(settings.disableTimeRanges[i][1])];}
settings.disableTimeRanges=settings.disableTimeRanges.sort(function(a,b){return a[0]-b[0];});for(var i=settings.disableTimeRanges.length-1;i>0;i--){if(settings.disableTimeRanges[i][0]<=settings.disableTimeRanges[i-1][1]){settings.disableTimeRanges[i-1]=[Math.min(settings.disableTimeRanges[i][0],settings.disableTimeRanges[i-1][0]),Math.max(settings.disableTimeRanges[i][1],settings.disableTimeRanges[i-1][1])];settings.disableTimeRanges.splice(i,1);}}}
return settings;}
function _render(self){var settings=self.data("timepicker-settings");var list=self.data("timepicker-list");if(list&&list.length){list.remove();self.data("timepicker-list",false);}
if(settings.useSelect){list=$("<select />",{class:"ui-timepicker-select"});if(self.attr('name')){list.attr('name','ui-timepicker-'+self.attr('name'));}
var wrapped_list=list;}else{list=$("<ul />",{class:"ui-timepicker-list"});var wrapped_list=$("<div />",{class:"ui-timepicker-wrapper",tabindex:-1});wrapped_list.css({display:"none",position:"absolute"}).append(list);}
if(settings.noneOption){if(settings.noneOption===true){settings.noneOption=settings.useSelect?"Time...":"None";}
if($.isArray(settings.noneOption)){for(var i in settings.noneOption){if(parseInt(i,10)==i){var noneElement=_generateNoneElement(settings.noneOption[i],settings.useSelect);list.append(noneElement);}}}else{var noneElement=_generateNoneElement(settings.noneOption,settings.useSelect);list.append(noneElement);}}
if(settings.className){wrapped_list.addClass(settings.className);}
if((settings.minTime!==null||settings.durationTime!==null)&&settings.showDuration){var stepval=typeof settings.step=="function"?"function":settings.step;wrapped_list.addClass("ui-timepicker-with-duration");wrapped_list.addClass("ui-timepicker-step-"+settings.step);}
var durStart=settings.minTime;if(typeof settings.durationTime==="function"){durStart=_time2int(settings.durationTime());}else if(settings.durationTime!==null){durStart=settings.durationTime;}
var start=settings.minTime!==null?settings.minTime:0;var end=settings.maxTime!==null?settings.maxTime:start+_ONE_DAY-1;if(end<start){end+=_ONE_DAY;}
if(end===_ONE_DAY-1&&$.type(settings.timeFormat)==="string"&&settings.show2400){end=_ONE_DAY;}
var dr=settings.disableTimeRanges;var drCur=0;var drLen=dr.length;var stepFunc=settings.step;if(typeof stepFunc!="function"){stepFunc=function(){return settings.step;};}
for(var i=start,j=0;i<=end;j++,i+=stepFunc(j)*60){var timeInt=i;var timeString=_int2time(timeInt,settings);if(settings.useSelect){var row=$("<option />",{value:timeString});row.text(timeString);}else{var row=$("<li />");row.addClass(timeInt%_ONE_DAY<_ONE_DAY / 2?"ui-timepicker-am":"ui-timepicker-pm");row.data("time",_moduloSeconds(timeInt,settings));row.text(timeString);}
if((settings.minTime!==null||settings.durationTime!==null)&&settings.showDuration){var durationString=_int2duration(i-durStart,settings.step);if(settings.useSelect){row.text(row.text()+" ("+durationString+")");}else{var duration=$("<span />",{class:"ui-timepicker-duration"});duration.text(" ("+durationString+")");row.append(duration);}}
if(drCur<drLen){if(timeInt>=dr[drCur][1]){drCur+=1;}
if(dr[drCur]&&timeInt>=dr[drCur][0]&&timeInt<dr[drCur][1]){if(settings.useSelect){row.prop("disabled",true);}else{row.addClass("ui-timepicker-disabled");}}}
list.append(row);}
wrapped_list.data("timepicker-input",self);self.data("timepicker-list",wrapped_list);if(settings.useSelect){if(self.val()){list.val(_roundAndFormatTime(_time2int(self.val()),settings));}
list.on("focus",function(){$(this).data("timepicker-input").trigger("showTimepicker");});list.on("blur",function(){$(this).data("timepicker-input").trigger("hideTimepicker");});list.on("change",function(){_setTimeValue(self,$(this).val(),"select");});_setTimeValue(self,list.val(),"initial");self.hide().after(list);}else{var appendTo=settings.appendTo;if(typeof appendTo==="string"){appendTo=$(appendTo);}else if(typeof appendTo==="function"){appendTo=appendTo(self);}
appendTo.append(wrapped_list);_setSelected(self,list);list.on("mousedown click","li",function(e){self.off("focus.timepicker");self.on("focus.timepicker-ie-hack",function(){self.off("focus.timepicker-ie-hack");self.on("focus.timepicker",methods.show);});if(!_hideKeyboard(self)){self[0].focus();}
list.find("li").removeClass("ui-timepicker-selected");$(this).addClass("ui-timepicker-selected");if(_selectValue(self)){self.trigger("hideTimepicker");list.on("mouseup.timepicker click.timepicker","li",function(e){list.off("mouseup.timepicker click.timepicker");wrapped_list.hide();});}});}}
function _generateNoneElement(optionValue,useSelect){var label,className,value;if(typeof optionValue=="object"){label=optionValue.label;className=optionValue.className;value=optionValue.value;}else if(typeof optionValue=="string"){label=optionValue;value='';}else{$.error("Invalid noneOption value");}
if(useSelect){return $("<option />",{value:value,class:className,text:label});}else{return $("<li />",{class:className,text:label}).data("time",String(value));}}
function _roundAndFormatTime(seconds,settings){seconds=settings.roundingFunction(seconds,settings);if(seconds!==null){return _int2time(seconds,settings);}}
function _closeHandler(e){if(e.target==window){return;}
var target=$(e.target);if(target.closest(".ui-timepicker-input").length||target.closest(".ui-timepicker-wrapper").length){return;}
methods.hide();$(document).unbind(".ui-timepicker");$(window).unbind(".ui-timepicker");}
function _hideKeyboard(self){var settings=self.data("timepicker-settings");return((window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&settings.disableTouchKeyboard);}
function _findRow(self,list,value){if(!value&&value!==0){return false;}
var settings=self.data("timepicker-settings");var out=false;var value=settings.roundingFunction(value,settings);list.find("li").each(function(i,obj){var jObj=$(obj);if(typeof jObj.data("time")!="number"){return;}
if(jObj.data("time")==value){out=jObj;return false;}});return out;}
function _setSelected(self,list){list.find("li").removeClass("ui-timepicker-selected");var settings=self.data("timepicker-settings");var timeValue=_time2int(_getTimeValue(self),settings);if(timeValue===null){return;}
var selected=_findRow(self,list,timeValue);if(selected){var topDelta=selected.offset().top-list.offset().top;if(topDelta+selected.outerHeight()>list.outerHeight()||topDelta<0){list.scrollTop(list.scrollTop()+selected.position().top-selected.outerHeight());}
if(settings.forceRoundTime||selected.data("time")===timeValue){selected.addClass("ui-timepicker-selected");}}}
function _formatValue(e,origin){if(origin=="timepicker"){return;}
var self=$(this);if(this.value===""){_setTimeValue(self,null,origin);return;}
if(self.is(":focus")&&(!e||e.type!="change")){return;}
var settings=self.data("timepicker-settings");var seconds=_time2int(this.value,settings);if(seconds===null){self.trigger("timeFormatError");return;}
var rangeError=false;if(settings.minTime!==null&&settings.maxTime!==null&&(seconds<settings.minTime||seconds>settings.maxTime)){rangeError=true;}
$.each(settings.disableTimeRanges,function(){if(seconds>=this[0]&&seconds<this[1]){rangeError=true;return false;}});if(settings.forceRoundTime){var roundSeconds=settings.roundingFunction(seconds,settings);if(roundSeconds!=seconds){seconds=roundSeconds;origin=null;}}
var prettyTime=_int2time(seconds,settings);if(rangeError){if(_setTimeValue(self,prettyTime,"error")||(e&&e.type=="change")){self.trigger("timeRangeError");}}else{_setTimeValue(self,prettyTime,origin);}}
function _getTimeValue(self){if(self.is("input")){return self.val();}else{return self.data("ui-timepicker-value");}}
function _setTimeValue(self,value,source){if(self.is("input")){self.val(value);var settings=self.data("timepicker-settings");if(settings.useSelect&&source!="select"&&self.data("timepicker-list")){self.data("timepicker-list").val(_roundAndFormatTime(_time2int(value),settings));}}
if(self.data("ui-timepicker-value")!=value){self.data("ui-timepicker-value",value);if(source=="select"){self.trigger("selectTime").trigger("changeTime").trigger("change","timepicker");}else if(["error","initial"].indexOf(source)==-1){self.trigger("changeTime");}
return true;}else{if(["error","initial"].indexOf(source)==-1){self.trigger("selectTime");}
return false;}}
function _disableTextInputHandler(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault();}}
function _keydownhandler(e){var self=$(this);var list=self.data("timepicker-list");if(!list||!_isVisible(list)){if(e.keyCode==40){methods.show.call(self.get(0));list=self.data("timepicker-list");if(!_hideKeyboard(self)){self.focus();}}else{return true;}}
switch(e.keyCode){case 13:if(_selectValue(self)){_formatValue.call(self.get(0),{type:"change"});methods.hide.apply(this);}
e.preventDefault();return false;case 38:var selected=list.find(".ui-timepicker-selected");if(!selected.length){list.find("li").each(function(i,obj){if($(obj).position().top>0){selected=$(obj);return false;}});selected.addClass("ui-timepicker-selected");}else if(!selected.is(":first-child")){selected.removeClass("ui-timepicker-selected");selected.prev().addClass("ui-timepicker-selected");if(selected.prev().position().top<selected.outerHeight()){list.scrollTop(list.scrollTop()-selected.outerHeight());}}
return false;case 40:selected=list.find(".ui-timepicker-selected");if(selected.length===0){list.find("li").each(function(i,obj){if($(obj).position().top>0){selected=$(obj);return false;}});selected.addClass("ui-timepicker-selected");}else if(!selected.is(":last-child")){selected.removeClass("ui-timepicker-selected");selected.next().addClass("ui-timepicker-selected");if(selected.next().position().top+2*selected.outerHeight()>list.outerHeight()){list.scrollTop(list.scrollTop()+selected.outerHeight());}}
return false;case 27:list.find("li").removeClass("ui-timepicker-selected");methods.hide();break;case 9:methods.hide();break;default:return true;}}
function _keyuphandler(e){var self=$(this);var list=self.data("timepicker-list");var settings=self.data("timepicker-settings");if(!list||!_isVisible(list)||settings.disableTextInput){return true;}
if(e.type==="paste"||e.type==="cut"){setTimeout(function(){if(settings.typeaheadHighlight){_setSelected(self,list);}else{list.hide();}},0);return;}
switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:if(settings.typeaheadHighlight){_setSelected(self,list);}else{list.hide();}
break;}}
function _selectValue(self){var settings=self.data("timepicker-settings");var list=self.data("timepicker-list");var timeValue=null;var cursor=list.find(".ui-timepicker-selected");if(cursor.hasClass("ui-timepicker-disabled")){return false;}
if(cursor.length){timeValue=cursor.data("time");}
if(timeValue!==null){if(typeof timeValue!="string"){timeValue=_int2time(timeValue,settings);}
_setTimeValue(self,timeValue,"select");}
return true;}
function _int2duration(seconds,step){seconds=Math.abs(seconds);var minutes=Math.round(seconds / 60),duration=[],hours,mins;if(minutes<60){duration=[minutes,_lang.mins];}else{hours=Math.floor(minutes / 60);mins=minutes%60;if(step==30&&mins==30){hours+=_lang.decimal+5;}
duration.push(hours);duration.push(hours==1?_lang.hr:_lang.hrs);if(step!=30&&mins){duration.push(mins);duration.push(_lang.mins);}}
return duration.join(" ");}
function _int2time(timeInt,settings){if(typeof timeInt!="number"){return null;}
var seconds=parseInt(timeInt%60),minutes=parseInt((timeInt / 60)%60),hours=parseInt((timeInt /(60*60))%24);var time=new Date(1970,0,2,hours,minutes,seconds,0);if(isNaN(time.getTime())){return null;}
if($.type(settings.timeFormat)==="function"){return settings.timeFormat(time);}
var output="";var hour,code;for(var i=0;i<settings.timeFormat.length;i++){code=settings.timeFormat.charAt(i);switch(code){case"a":output+=time.getHours()>11?_lang.pm:_lang.am;break;case"A":output+=time.getHours()>11?_lang.PM:_lang.AM;break;case"g":hour=time.getHours()%12;output+=hour===0?"12":hour;break;case"G":hour=time.getHours();if(timeInt===_ONE_DAY)hour=settings.show2400?24:0;output+=hour;break;case"h":hour=time.getHours()%12;if(hour!==0&&hour<10){hour="0"+hour;}
output+=hour===0?"12":hour;break;case"H":hour=time.getHours();if(timeInt===_ONE_DAY)hour=settings.show2400?24:0;output+=hour>9?hour:"0"+hour;break;case"i":var minutes=time.getMinutes();output+=minutes>9?minutes:"0"+minutes;break;case"s":seconds=time.getSeconds();output+=seconds>9?seconds:"0"+seconds;break;case"\\":i++;output+=settings.timeFormat.charAt(i);break;default:output+=code;}}
return output;}
function _time2int(timeString,settings){if(timeString===""||timeString===null)return null;if(typeof timeString=="object"){return(timeString.getHours()*3600+
timeString.getMinutes()*60+
timeString.getSeconds());}
if(typeof timeString!="string"){return timeString;}
timeString=timeString.toLowerCase().replace(/[\s\.]/g,"");if(timeString.slice(-1)=="a"||timeString.slice(-1)=="p"){timeString+="m";}
var ampmRegex="("+
_lang.am.replace(".","")+"|"+
_lang.pm.replace(".","")+"|"+
_lang.AM.replace(".","")+"|"+
_lang.PM.replace(".","")+")?";var pattern=new RegExp("^"+
ampmRegex+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+
ampmRegex+"$");var time=timeString.match(pattern);if(!time){return null;}
var hour=parseInt(time[2]*1,10);var ampm=time[1]||time[5];var hours=hour;var minutes=time[3]*1||0;var seconds=time[4]*1||0;if(hour<=12&&ampm){var isPm=ampm==_lang.pm||ampm==_lang.PM;if(hour==12){hours=isPm?12:0;}else{hours=hour+(isPm?12:0);}}else if(settings){var t=hour*3600+minutes*60+seconds;if(t>=_ONE_DAY+(settings.show2400?1:0)){if(settings.wrapHours===false){return null;}
hours=hour%24;}}
var timeInt=hours*3600+minutes*60+seconds;if(hour<12&&!ampm&&settings&&settings._twelveHourTime&&settings.scrollDefault){var delta=timeInt-settings.scrollDefault();if(delta<0&&delta>=_ONE_DAY /-2){timeInt=(timeInt+_ONE_DAY / 2)%_ONE_DAY;}}
return timeInt;}
function _pad2(n){return("0"+n).slice(-2);}
function _moduloSeconds(seconds,settings){if(seconds==_ONE_DAY&&settings.show2400){return seconds;}
return seconds%_ONE_DAY;}
$.fn.timepicker=function(method){if(!this.length)return this;if(methods[method]){if(!this.hasClass("ui-timepicker-input")){return this;}
return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==="object"||!method){return methods.init.apply(this,arguments);}else{$.error("Method "+method+" does not exist on jQuery.timepicker");}};});
/* End of File include/javascript/jquery/jquery.timepicker.js */

(function(){if(jQuery&&jQuery.jstree){return;}
var is_ie6=false,is_ie7=false,is_ff2=false;(function($){"use strict";$.vakata={};$.vakata.css={get_css:function(rule_name,delete_flag,sheet){rule_name=rule_name.toLowerCase();var css_rules=sheet.cssRules||sheet.rules,j=0;do{if(css_rules.length&&j>css_rules.length+5){return false;}
if(css_rules[j].selectorText&&css_rules[j].selectorText.toLowerCase()==rule_name){if(delete_flag===true){if(sheet.removeRule){sheet.removeRule(j);}
if(sheet.deleteRule){sheet.deleteRule(j);}
return true;}
else{return css_rules[j];}}}
while(css_rules[++j]);return false;},add_css:function(rule_name,sheet){if($.jstree.css.get_css(rule_name,false,sheet)){return false;}
if(sheet.insertRule){sheet.insertRule(rule_name+' { }',0);}else{sheet.addRule(rule_name,null,0);}
return $.vakata.css.get_css(rule_name);},remove_css:function(rule_name,sheet){return $.vakata.css.get_css(rule_name,true,sheet);},add_sheet:function(opts){var tmp=false,is_new=true;if(opts.str){if(opts.title){tmp=$("style[id='"+opts.title+"-stylesheet']")[0];}
if(tmp){is_new=false;}
else{tmp=document.createElement("style");tmp.setAttribute('type',"text/css");if(opts.title){tmp.setAttribute("id",opts.title+"-stylesheet");}}
if(tmp.styleSheet){if(is_new){document.getElementsByTagName("head")[0].appendChild(tmp);tmp.styleSheet.cssText=opts.str;}
else{tmp.styleSheet.cssText=tmp.styleSheet.cssText+" "+opts.str;}}
else{tmp.appendChild(document.createTextNode(opts.str));document.getElementsByTagName("head")[0].appendChild(tmp);}
return tmp.sheet||tmp.styleSheet;}
if(opts.url){if(document.createStyleSheet){try{tmp=document.createStyleSheet(opts.url);}catch(e){}}
else{tmp=document.createElement('link');tmp.rel='stylesheet';tmp.type='text/css';tmp.media="all";tmp.href=opts.url;document.getElementsByTagName("head")[0].appendChild(tmp);return tmp.styleSheet;}}}};var instances=[],focused_instance=-1,plugins={},prepared_move={};$.fn.jstree=function(settings){var isMethodCall=(typeof settings=='string'),args=Array.prototype.slice.call(arguments,1),returnValue=this;if(isMethodCall){if(settings.substring(0,1)=='_'){return returnValue;}
this.each(function(){var instance=instances[$.data(this,"jstree_instance_id")],methodValue=(instance&&$.isFunction(instance[settings]))?instance[settings].apply(instance,args):instance;if(typeof methodValue!=="undefined"&&(settings.indexOf("is_")===0||(methodValue!==true&&methodValue!==false))){returnValue=methodValue;return false;}});}
else{this.each(function(){var instance_id=$.data(this,"jstree_instance_id"),a=[],b=settings?$.extend({},true,settings):{},c=$(this),s=false,t=[];a=a.concat(args);if(c.data("jstree")){a.push(c.data("jstree"));}
b=a.length?$.extend.apply(null,[true,b].concat(a)):b;if(typeof instance_id!=="undefined"&&instances[instance_id]){instances[instance_id].destroy();}
instance_id=parseInt(instances.push({}),10)-1;$.data(this,"jstree_instance_id",instance_id);b.plugins=$.isArray(b.plugins)?b.plugins:$.jstree.defaults.plugins.slice();b.plugins.unshift("core");b.plugins=b.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");s=$.extend(true,{},$.jstree.defaults,b);s.plugins=b.plugins;$.each(plugins,function(i,val){if($.inArray(i,s.plugins)===-1){s[i]=null;delete s[i];}
else{t.push(i);}});s.plugins=t;s.settings=b.settings||$.jstree.settings;instances[instance_id]=new $.jstree._instance(instance_id,$(this).addClass("jstree jstree-"+instance_id),s);$.each(instances[instance_id]._get_settings().plugins,function(i,val){instances[instance_id].data[val]={};});$.each(instances[instance_id]._get_settings().plugins,function(i,val){if(plugins[val]){plugins[val].__init.apply(instances[instance_id]);}});setTimeout(function(){if(instances[instance_id]){instances[instance_id].init();}},0);});}
return returnValue;};$.jstree={settings:{},defaults:{plugins:[]},_focused:function(){return instances[focused_instance]||null;},_reference:function(needle){if(instances[needle]){return instances[needle];}
var o=$(needle);if(!o.length&&typeof needle==="string"){o=$("#"+needle);}
if(!o.length){return null;}
return instances[o.closest(".jstree").data("jstree_instance_id")]||null;},_instance:function(index,container,settings){this.data={core:{}};this.get_settings=function(){return $.extend(true,{},settings);};this._get_settings=function(){return settings;};this.get_index=function(){return index;};this.get_container=function(){return container;};this.get_container_ul=function(){return container.children("ul:eq(0)");};this._set_settings=function(s){settings=$.extend(true,{},settings,s);};},_fn:{},plugin:function(pname,pdata){pdata=$.extend({},{__init:$.noop,__destroy:$.noop,_fn:{},defaults:false},pdata);plugins[pname]=pdata;$.jstree.defaults[pname]=pdata.defaults;$.each(pdata._fn,function(i,val){val.plugin=pname;val.old=$.jstree._fn[i];$.jstree._fn[i]=function(){var rslt,func=val,args=Array.prototype.slice.call(arguments),evnt=new $.Event("before.jstree"),rlbk=false;if(this.data.core.locked===true&&i!=="unlock"&&i!=="is_locked"){return;}
do{if(func&&func.plugin&&$.inArray(func.plugin,this._get_settings().plugins)!==-1){break;}
func=func.old;}while(func);if(!func){return;}
if(i.indexOf("_")===0){rslt=func.apply(this,args);}
else{rslt=this.get_container().triggerHandler(evnt,{"func":i,"inst":this,"args":args,"plugin":func.plugin});if(rslt===false){return;}
if(typeof rslt!=="undefined"){args=rslt;}
rslt=func.apply($.extend({},this,{__callback:function(data){this.get_container().triggerHandler(i+'.jstree',{"inst":this,"args":args,"rslt":data,"rlbk":rlbk});},__rollback:function(){rlbk=this.get_rollback();return rlbk;},__call_old:function(replace_arguments){return func.old.apply(this,(replace_arguments?Array.prototype.slice.call(arguments,1):args));}}),args);}
return rslt;};$.jstree._fn[i].old=val.old;$.jstree._fn[i].plugin=pname;});},rollback:function(rb){if(rb){if(!$.isArray(rb)){rb=[rb];}
$.each(rb,function(i,val){instances[val.i].set_rollback(val.h,val.d);});}}};$.jstree._fn=$.jstree._instance.prototype={};$(function(){var u=navigator.userAgent.toLowerCase(),v=(u.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,'0'])[1],css_string=''+'.jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } '+'.jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } '+'.jstree-rtl li { margin-left:0; margin-right:18px; } '+'.jstree > ul > li { margin-left:0px; } '+'.jstree-rtl > ul > li { margin-right:0px; } '+'.jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } '+'.jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } '+'.jstree a:focus { outline: none; } '+'.jstree a > ins { height:16px; width:16px; } '+'.jstree a > .jstree-icon { margin-right:3px; } '+'.jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } '+'li.jstree-open > ul { display:block; } ';if(/msie/.test(u)&&parseInt(v,10)==6){is_ie6=true;try{document.execCommand("BackgroundImageCache",false,true);}catch(err){}
css_string+=''+'.jstree li { height:18px; margin-left:0; margin-right:0; } '+'.jstree li li { margin-left:18px; } '+'.jstree-rtl li li { margin-left:0px; margin-right:18px; } '+'li.jstree-open ul { display:block; } '+'.jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } '+'.jstree li a ins { height:16px; width:16px; margin-right:3px; } '+'.jstree-rtl li a ins { margin-right:0px; margin-left:3px; } ';}
if(/msie/.test(u)&&parseInt(v,10)==7){is_ie7=true;css_string+='.jstree li a { border-width:0 !important; padding:0px 2px !important; } ';}
if(!/compatible/.test(u)&&/mozilla/.test(u)&&parseFloat(v,10)<1.9){is_ff2=true;css_string+=''+'.jstree ins { display:-moz-inline-box; } '+'.jstree li { line-height:12px; } '+'.jstree a { display:-moz-inline-box; } '+'.jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ';}
$.vakata.css.add_sheet({str:css_string,title:"jstree"});});$.jstree.plugin("core",{__init:function(){this.data.core.locked=false;this.data.core.to_open=this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load;},defaults:{html_titles:false,animation:500,initially_open:[],initially_load:[],open_parents:true,notify_plugins:true,rtl:false,load_open:false,strings:{loading:" ",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl){this.get_container().addClass("jstree-rtl").css("direction","rtl");}
this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>");this.data.core.li_height=this._get_settings().settings.liHeight||this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",$.proxy(function(event){event.preventDefault();event.currentTarget.blur();if(!$(event.currentTarget).hasClass("jstree-loading")){this.select_node(event.currentTarget,true,event);}},this)).bind("mousedown.jstree",$.proxy(function(){this.set_focus();},this)).bind("dblclick.jstree",function(event){var sel;if(document.selection&&document.selection.empty){document.selection.empty();}
else{if(window.getSelection){sel=window.getSelection();try{sel.removeAllRanges();sel.collapse();}catch(err){}}}});if(this._get_settings().core.notify_plugins){this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1){o=this.get_container_ul();}
if(!o.length){return;}
o.find("li").each(function(){var th=$(this);if(th.data("jstree")){$.each(th.data("jstree"),function(plugin,values){if(t.data[plugin]&&$.isFunction(t["_"+plugin+"_notify"])){t["_"+plugin+"_notify"].call(t,th,values);}});}});},this));}
if(this._get_settings().core.load_open){this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1){o=this.get_container_ul();}
if(!o.length){return;}
o.find("li.jstree-open:not(:has(ul))").each(function(){t.load_node(this,$.noop,$.noop);});},this));}
this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes();});},destroy:function(){var i,n=this.get_index(),s=this._get_settings(),_this=this;$.each(s.plugins,function(i,val){try{plugins[val].__destroy.apply(_this);}catch(err){}});this.__callback();if(this.is_focused()){for(i in instances){if(instances.hasOwnProperty(i)&&i!=n){instances[i].set_focus();break;}}}
if(n===focused_instance){focused_instance=-1;}
this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,'');});$(document).unbind(".jstree-"+n).undelegate(".jstree-"+n);instances[n]=null;delete instances[n];},_core_notify:function(n,data){if(data.opened){this.open_node(n,false,true);}},lock:function(){this.data.core.locked=true;this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7");this.__callback({});},unlock:function(){this.data.core.locked=false;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({});},is_locked:function(){return this.data.core.locked;},save_opened:function(){var _this=this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){if(this.id){_this.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"));}});this.__callback(_this.data.core.to_open);},save_loaded:function(){},reload_nodes:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(!is_callback){this.data.core.reopen=false;this.data.core.refreshing=true;this.data.core.to_open=$.map($.makeArray(this.data.core.to_open),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});this.data.core.to_load=$.map($.makeArray(this.data.core.to_load),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});if(this.data.core.to_open.length){this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open);}}
if(this.data.core.to_load.length){$.each(this.data.core.to_load,function(i,val){if(val=="#"){return true;}
if($(val).length){current.push(val);}
else{remaining.push(val);}});if(current.length){this.data.core.to_load=remaining;$.each(current,function(i,val){if(!_this._is_loaded(val)){_this.load_node(val,function(){_this.reload_nodes(true);},function(){_this.reload_nodes(true);});done=false;}});}}
if(this.data.core.to_open.length){$.each(this.data.core.to_open,function(i,val){_this.open_node(val,false,true);});}
if(done){if(this.data.core.reopen){clearTimeout(this.data.core.reopen);}
this.data.core.reopen=setTimeout(function(){_this.__callback({},_this);},50);this.data.core.refreshing=false;this.reopen();}},reopen:function(){var _this=this;if(this.data.core.to_open.length){$.each(this.data.core.to_open,function(i,val){_this.open_node(val,false,true);});}
this.__callback({});},refresh:function(obj){var _this=this;this.save_opened();if(!obj){obj=-1;}
obj=this._get_node(obj);if(!obj){obj=-1;}
if(obj!==-1){obj.children("UL").remove();}
else{this.get_container_ul().empty();}
this.load_node(obj,function(){_this.__callback({"obj":obj});_this.reload_nodes();});},loaded:function(){this.__callback();},set_focus:function(){if(this.is_focused()){return;}
var f=$.jstree._focused();if(f){f.unset_focus();}
this.get_container().addClass("jstree-focused");focused_instance=this.get_index();this.__callback();},is_focused:function(){return focused_instance==this.get_index();},unset_focus:function(){if(this.is_focused()){this.get_container().removeClass("jstree-focused");focused_instance=-1;}
this.__callback();},_get_node:function(obj){var $obj=$(obj,this.get_container());if($obj.is(".jstree")||obj==-1){return-1;}
$obj=$obj.closest("li",this.get_container());return $obj.length?$obj:false;},_get_next:function(obj,strict){obj=this._get_node(obj);if(obj===-1){return this.get_container().find("> ul > li:first-child");}
if(!obj.length){return false;}
if(strict){return(obj.nextAll("li").size()>0)?obj.nextAll("li:eq(0)"):false;}
if(obj.hasClass("jstree-open")){return obj.find("li:eq(0)");}
else if(obj.nextAll("li").size()>0){return obj.nextAll("li:eq(0)");}
else{return obj.parentsUntil(".jstree","li").next("li").eq(0);}},_get_prev:function(obj,strict){obj=this._get_node(obj);if(obj===-1){return this.get_container().find("> ul > li:last-child");}
if(!obj.length){return false;}
if(strict){return(obj.prevAll("li").length>0)?obj.prevAll("li:eq(0)"):false;}
if(obj.prev("li").length){obj=obj.prev("li").eq(0);while(obj.hasClass("jstree-open")){obj=obj.children("ul:eq(0)").children("li:last");}
return obj;}
else{var o=obj.parentsUntil(".jstree","li:eq(0)");return o.length?o:false;}},_get_parent:function(obj){obj=this._get_node(obj);if(obj==-1||!obj.length){return false;}
var o=obj.parentsUntil(".jstree","li:eq(0)");return o.length?o:-1;},_get_children:function(obj){obj=this._get_node(obj);if(obj===-1){return this.get_container().children("ul:eq(0)").children("li");}
if(!obj.length){return false;}
return obj.children("ul:eq(0)").children("li");},get_path:function(obj,id_mode){var p=[],_this=this;obj=this._get_node(obj);if(obj===-1||!obj||!obj.length){return false;}
obj.parentsUntil(".jstree","li").each(function(){p.push(id_mode?this.id:_this.get_text(this));});p.reverse();p.push(id_mode?obj.attr("id"):this.get_text(obj));return p;},_get_string:function(key){return this._get_settings().core.strings[key]||key;},is_open:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-open");},is_closed:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-closed");},is_leaf:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-leaf");},correct_state:function(obj){obj=this._get_node(obj);if(!obj||obj===-1){return false;}
obj.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({"obj":obj});},open_node:function(obj,callback,skip_animation){obj=this._get_node(obj);if(!obj.length){return false;}
if(!obj.hasClass("jstree-closed")){if(callback){callback.call();}return false;}
var s=skip_animation||is_ie6?0:this._get_settings().core.animation,t=this;if(!this._is_loaded(obj)){obj.children("a").addClass("jstree-loading");this.load_node(obj,function(){t.open_node(obj,callback,skip_animation);},callback);}
else{if(this._get_settings().core.open_parents){obj.parentsUntil(".jstree",".jstree-closed").each(function(){t.open_node(this,false,true);});}
if(s){obj.children("ul").css("display","none");}
obj.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading");if(s){obj.children("ul").stop(true,true).slideDown(s,function(){this.style.display="";t.after_open(obj);});}
else{t.after_open(obj);}
this.__callback({"obj":obj});if(callback){callback.call();}}},after_open:function(obj){this.__callback({"obj":obj});},close_node:function(obj,skip_animation){obj=this._get_node(obj);var s=skip_animation||is_ie6?0:this._get_settings().core.animation,t=this;if(!obj.length||!obj.hasClass("jstree-open")){return false;}
if(s){obj.children("ul").attr("style","display:block !important");}
obj.removeClass("jstree-open").addClass("jstree-closed");if(s){obj.children("ul").stop(true,true).slideUp(s,function(){this.style.display="";t.after_close(obj);});}
else{t.after_close(obj);}
this.__callback({"obj":obj});},after_close:function(obj){this.__callback({"obj":obj});},toggle_node:function(obj){obj=this._get_node(obj);if(obj.hasClass("jstree-closed")){return this.open_node(obj);}
if(obj.hasClass("jstree-open")){return this.close_node(obj);}},open_all:function(obj,do_animation,original_obj){obj=obj?this._get_node(obj):-1;if(!obj||obj===-1){obj=this.get_container_ul();}
if(original_obj){obj=obj.find("li.jstree-closed");}
else{original_obj=obj;if(obj.is(".jstree-closed")){obj=obj.find("li.jstree-closed").andSelf();}
else{obj=obj.find("li.jstree-closed");}}
var _this=this;obj.each(function(){var __this=this;if(!_this._is_loaded(this)){_this.open_node(this,function(){_this.open_all(__this,do_animation,original_obj);},!do_animation);}
else{_this.open_node(this,false,!do_animation);}});if(original_obj.find('li.jstree-closed').length===0){this.__callback({"obj":original_obj});}},close_all:function(obj,do_animation){var _this=this;obj=obj?this._get_node(obj):this.get_container();if(!obj||obj===-1){obj=this.get_container_ul();}
obj.find("li.jstree-open").andSelf().each(function(){_this.close_node(this,!do_animation);});this.__callback({"obj":obj});},clean_node:function(obj){obj=obj&&obj!=-1?$(obj):this.get_container_ul();obj=obj.is("li")?obj.find("li").andSelf():obj.find("li");obj.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");obj.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({"obj":obj});},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(true),d:this.data};},set_rollback:function(html,data){this.get_container().empty().append(html);this.data=data;this.__callback();},load_node:function(obj,s_call,e_call){this.__callback({"obj":obj});},_is_loaded:function(obj){return true;},create_node:function(obj,position,js,callback,is_loaded){obj=this._get_node(obj);position=typeof position==="undefined"?"last":position;var d=$("<li />"),p=this._get_settings(),s=p.core,tmp;if(obj!==-1&&!obj.length){return false;}
if(!is_loaded&&!this._is_loaded(obj)){this.load_node(obj,function(){this.create_node(obj,position,js,callback,true);});return false;}
this.__rollback();if(typeof js==="string"){js={"data":js};}
if(!js){js={};}
if(js.attr){d.attr(js.attr);}
if(js.metadata){d.data(js.metadata);}
if(js.state){d.addClass("jstree-"+js.state);}
if(!js.data){js.data=this._get_string("new_node");}
if(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp);}
$.each(js.data,function(i,m){tmp=$("<a />");if($.isFunction(m)){m=m.call(this,js);}
if(typeof m=="string"){tmp.attr('href','#')[s.html_titles?"html":"text"](m);}
else{if(!m.attr){m.attr={};}
if(!m.attr.href){m.attr.href='#';}
tmp.attr(m.attr)[s.html_titles?"html":"text"](m.title);if(m.language){tmp.addClass(m.language);}}
tmp.attr('data-action','jstree-select');tmp.prepend("<ins class='jstree-icon' data-action='jstree-toggle'>&#160;</ins>");if(!m.icon&&js.icon){m.icon=js.icon;}
if(m.icon){if(m.icon.indexOf("/")===-1){tmp.children("ins").addClass(m.icon);}
else{tmp.children("ins").css("background","url('"+m.icon+"') center center no-repeat");}}
d.append(tmp);if(p.settings.showMenu===true){var link='<a class="btn jstree-addnode" href="javascript:void(0);" title="" data-original-title="Add" data-action="jstree-addnode">'+' <span class="fa fa-plus"></span>'+'</a>',optmp='<div class="btn-group btn-group-justified pull-right">'+link+'<a class="btn jstree-contextmenu" href="javascript:void(0);" title="" data-original-title="Actions" data-action="jstree-contextmenu">'+' <span class="fa fa-caret-down"></span>'+'</a>'+'</div>';d.append(optmp);}});d.prepend("<ins class='jstree-icon' data-action='jstree-toggle'>&#160;</ins>");if(obj===-1){obj=this.get_container();if(position==="before"){position="first";}
if(position==="after"){position="last";}}
switch(position){case"before":obj.before(d);tmp=this._get_parent(obj);break;case"after":obj.after(d);tmp=this._get_parent(obj);break;case"inside":case"first":if(!obj.children("ul").length){obj.append("<ul />");}
obj.children("ul").prepend(d);tmp=obj;break;case"last":if(!obj.children("ul").length){obj.append("<ul />");}
obj.children("ul").append(d);tmp=obj;break;default:if(!obj.children("ul").length){obj.append("<ul />");}
if(!position){position=0;}
tmp=obj.children("ul").children("li").eq(position);if(tmp.length){tmp.before(d);}
else{obj.children("ul").append(d);}
tmp=obj;break;}
if(tmp===-1||tmp.get(0)===this.get_container().get(0)){tmp=-1;}
this.clean_node(tmp);this.__callback({"obj":d,"parent":tmp});if(callback){callback.call(this,d);}
return d;},get_text:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
var s=this._get_settings().core.html_titles;obj=obj.children("a:eq(0)");if(s){obj=obj.clone();obj.children("INS").remove();return obj.html();}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];return obj.nodeValue;}},set_text:function(obj,val){obj=this._get_node(obj);if(!obj.length){return false;}
obj=obj.children("a:eq(0)");if(this._get_settings().core.html_titles){var tmp=obj.children("INS").clone();obj.html(val).prepend(tmp);this.__callback({"obj":obj,"name":val});return true;}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];this.__callback({"obj":obj,"name":val});return(obj.nodeValue=val);}},rename_node:function(obj,val){obj=this._get_node(obj);this.__rollback();if(obj&&obj.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))){this.__callback({"obj":obj,"name":val});}},delete_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
this.__rollback();var p=this._get_parent(obj),prev=$([]),t=this;obj.each(function(){prev=prev.add(t._get_prev(this));});obj=obj.detach();if(p!==-1&&p.find("> ul > li").length===0){p.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");}
this.clean_node(p);this.__callback({"obj":obj,"prev":prev,"parent":p});return obj;},prepare_move:function(o,r,pos,cb,is_cb){var p={};p.ot=$.jstree._reference(o)||this;p.o=p.ot._get_node(o);p.r=r===-1?-1:this._get_node(r);p.p=(typeof pos==="undefined"||pos===false)?"last":pos;if(!is_cb&&prepared_move.o&&prepared_move.o[0]===p.o[0]&&prepared_move.r[0]===p.r[0]&&prepared_move.p===p.p){this.__callback(prepared_move);if(cb){cb.call(this,prepared_move);}
return;}
p.ot=$.jstree._reference(p.o)||this;p.rt=$.jstree._reference(p.r)||this;if(p.r===-1||!p.r){p.cr=-1;switch(p.p){case"first":case"before":case"inside":p.cp=0;break;case"after":case"last":p.cp=p.rt.get_container().find(" > ul > li").length;break;default:p.cp=p.p;break;}}
else{if(!/^(before|after)$/.test(p.p)&&!this._is_loaded(p.r)){return this.load_node(p.r,function(){this.prepare_move(o,r,pos,cb,true);});}
switch(p.p){case"before":p.cp=p.r.index();p.cr=p.rt._get_parent(p.r);break;case"after":p.cp=p.r.index()+1;p.cr=p.rt._get_parent(p.r);break;case"inside":case"first":p.cp=0;p.cr=p.r;break;case"last":p.cp=p.r.find(" > ul > li").length;p.cr=p.r;break;default:p.cp=p.p;p.cr=p.r;break;}}
p.np=p.cr==-1?p.rt.get_container():p.cr;p.op=p.ot._get_parent(p.o);p.cop=p.o.index();if(p.op===-1){p.op=p.ot?p.ot.get_container():this.get_container();}
if(!/^(before|after)$/.test(p.p)&&p.op&&p.np&&p.op[0]===p.np[0]&&p.o.index()<p.cp){p.cp++;}
p.or=p.np.find(" > ul > li:nth-child("+(p.cp+1)+")");prepared_move=p;this.__callback(prepared_move);if(cb){cb.call(this,prepared_move);}},check_move:function(){var obj=prepared_move,ret=true,r=obj.r===-1?this.get_container():obj.r;if(!obj||!obj.o||obj.or[0]===obj.o[0]){return false;}
if(obj.op&&obj.np&&obj.op[0]===obj.np[0]&&obj.cp-1===obj.o.index()){return false;}
obj.o.each(function(){if(r.parentsUntil(".jstree","li").andSelf().index(this)!==-1){ret=false;return false;}});return ret;},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){if(!is_prepared){return this.prepare_move(obj,ref,position,function(p){this.move_node(p,false,false,is_copy,true,skip_check);});}
if(is_copy){prepared_move.cy=true;}
if(!skip_check&&!this.check_move()){return false;}
this.__rollback();var o=false;if(is_copy){o=obj.o.clone(true);o.find("*[id]").andSelf().each(function(){if(this.id){this.id="copy_"+this.id;}});}
else{o=obj.o;}
if(obj.or.length){obj.or.before(o);}
else{if(!obj.np.children("ul").length){$("<ul />").appendTo(obj.np);}
obj.np.children("ul:eq(0)").append(o);}
try{obj.ot.clean_node(obj.op);obj.rt.clean_node(obj.np);if(!obj.op.find("> ul > li").length){obj.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove();}}catch(e){}
if(is_copy){prepared_move.cy=true;prepared_move.oc=o;}
this.__callback(prepared_move);return prepared_move;},_get_move:function(){return prepared_move;}}});})(jQuery);(function($){var scrollbar_width,e1,e2;$(function(){if(/msie/.test(navigator.userAgent.toLowerCase())){e1=$('<textarea cols="10" rows="2"></textarea>').css({position:'absolute',top:-1000,left:0}).appendTo('body');e2=$('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:'absolute',top:-1000,left:0}).appendTo('body');scrollbar_width=e1.width()-e2.width();e1.add(e2).remove();}
else{e1=$('<div />').css({width:100,height:100,overflow:'auto',position:'absolute',top:-1000,left:0}).prependTo('body').append('<div />').find('div').css({width:'100%',height:200});scrollbar_width=100-e1.width();e1.parent().remove();}});$.jstree.plugin("ui",{__init:function(){this.data.ui.selected=$();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",$.proxy(function(event){event.preventDefault();event.currentTarget.blur();if(!$(event.currentTarget).hasClass("jstree-loading")){this.select_node(event.currentTarget,true,event);}},this)).delegate("a","mouseenter.jstree",$.proxy(function(event){if(!$(event.currentTarget).hasClass("jstree-loading")){this.hover_node(event.target);}},this)).delegate("a","mouseleave.jstree",$.proxy(function(event){if(!$(event.currentTarget).hasClass("jstree-loading")){this.dehover_node(event.target);}},this)).bind("reopen.jstree",$.proxy(function(){this.reselect();},this)).bind("get_rollback.jstree",$.proxy(function(){this.dehover_node();this.save_selected();},this)).bind("set_rollback.jstree",$.proxy(function(){this.reselect();},this)).bind("close_node.jstree",$.proxy(function(event,data){var s=this._get_settings().ui,obj=this._get_node(data.rslt.obj),clk=(obj&&obj.length)?obj.children("ul").find("a.jstree-clicked"):$(),_this=this;if(s.selected_parent_close===false||!clk.length){return;}
clk.each(function(){_this.deselect_node(this);if(s.selected_parent_close==="select_parent"){_this.select_node(obj);}});},this)).bind("delete_node.jstree",$.proxy(function(event,data){var s=this._get_settings().ui.select_prev_on_delete,obj=this._get_node(data.rslt.obj),clk=(obj&&obj.length)?obj.find("a.jstree-clicked"):$(),_this=this;clk.each(function(){_this.deselect_node(this);});if(s&&clk.length){data.rslt.prev.each(function(){if(this.parentNode){_this.select_node(this);return false;}});}},this)).bind("move_node.jstree",$.proxy(function(event,data){if(data.rslt.cy){data.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked");}},this));},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:true,select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(obj,allow_multiple){if(typeof obj==="undefined"||obj===null){return allow_multiple?this.data.ui.selected:this.data.ui.last_selected;}
var $obj=this.get_container().find(obj);if($obj.is(".jstree")||obj==-1){return-1;}
$obj=$obj.closest("li",this.get_container());return $obj.length?$obj:false;},_ui_notify:function(n,data){if(data.selected){this.select_node(n,false);}},save_selected:function(){var _this=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){if(this.id){_this.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"));}});this.__callback(this.data.ui.to_select);},reselect:function(){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});$.each(s,function(i,val){if(val&&val!=="#"){_this.select_node(val);}});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode;});this.__callback();},refresh:function(obj){this.save_selected();return this.__call_old();},hover_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
if(!obj.hasClass("jstree-hovered")){this.dehover_node();}
this.data.ui.hovered=obj.children("a").addClass("jstree-hovered").parent();this._fix_scroll(obj);this.__callback({"obj":obj});},dehover_node:function(){var obj=this.data.ui.hovered,p;if(!obj||!obj.length){return false;}
p=obj.children("a").removeClass("jstree-hovered").parent();if(this.data.ui.hovered[0]===p[0]){this.data.ui.hovered=null;}
this.__callback({"obj":obj});},select_node:function(obj,check,e){obj=this._get_node(obj);if(obj==-1||!obj||!obj.length){return false;}
var s=this._get_settings().ui,is_multiple=(s.select_multiple_modifier=="on"||(s.select_multiple_modifier!==false&&e&&e[s.select_multiple_modifier+"Key"])),is_range=(s.select_range_modifier!==false&&e&&e[s.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==obj[0]&&this.data.ui.last_selected.parent()[0]===obj.parent()[0]),is_selected=this.is_selected(obj),proceed=true,t=this;if(check){if(s.disable_selecting_children&&is_multiple&&((obj.parentsUntil(".jstree","li").children("a.jstree-clicked").length)||(obj.children("ul").find("a.jstree-clicked:eq(0)").length))){return false;}
proceed=false;switch(!0){case(is_range):this.data.ui.last_selected.addClass("jstree-last-selected");obj=obj[obj.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf();if(s.select_limit==-1||obj.length<s.select_limit){this.data.ui.last_selected.removeClass("jstree-last-selected");this.data.ui.selected.each(function(){if(this!==t.data.ui.last_selected[0]){t.deselect_node(this);}});is_selected=false;proceed=true;}
else{proceed=false;}
break;case(is_selected&&!is_multiple):this.deselect_all();is_selected=false;proceed=true;break;case(!is_selected&&!is_multiple):if(s.select_limit==-1||s.select_limit>0){this.deselect_all();proceed=true;}
break;case(is_selected&&is_multiple):this.deselect_node(obj);break;case(!is_selected&&is_multiple):if(s.select_limit==-1||this.data.ui.selected.length+1<=s.select_limit){proceed=true;}
break;}}
if(proceed&&!is_selected){if(!is_range){this.data.ui.last_selected=obj;}
obj.children("a").addClass("jstree-clicked");if(s.selected_parent_open){obj.parents(".jstree-closed").each(function(){t.open_node(this,false,true);});}
this.data.ui.selected=this.data.ui.selected.add(obj);this._fix_scroll(obj.eq(0));this.__callback({"obj":obj,"e":e});}},_fix_scroll:function(obj){var c=this.get_container()[0],t;if(c.scrollHeight>c.offsetHeight){obj=this._get_node(obj);if(!obj||obj===-1||!obj.length||!obj.is(":visible")){return;}
t=obj.offset().top-this.get_container().offset().top;if(t<0){c.scrollTop=c.scrollTop+t-1;}
if(t+this.data.core.li_height+(c.scrollWidth>c.offsetWidth?scrollbar_width:0)>c.offsetHeight){c.scrollTop=c.scrollTop+(t-c.offsetHeight+this.data.core.li_height+1+(c.scrollWidth>c.offsetWidth?scrollbar_width:0));}}},deselect_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
if(this.is_selected(obj)){obj.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(obj);if(this.data.ui.last_selected.get(0)===obj.get(0)){this.data.ui.last_selected=this.data.ui.selected.eq(0);}
this.__callback({"obj":obj});}},toggle_select:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
if(this.is_selected(obj)){this.deselect_node(obj);}
else{this.select_node(obj);}},is_selected:function(obj){return this.data.ui.selected.index(this._get_node(obj))>=0;},get_selected:function(context){return context?$(context).find("a.jstree-clicked").parent():this.data.ui.selected;},deselect_all:function(context){var ret=context?$(context).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();ret.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=$([]);this.data.ui.last_selected=false;this.__callback({"obj":ret});}}});$.jstree.defaults.plugins.push("ui");})(jQuery);(function($){$.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",$.proxy(function(e,data){if(this._get_settings().crrm.move.open_onmove){var t=this;data.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){t.open_node(this,false,true);});}},this));},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,default_position:"last",check_move:function(m){return true;}}},_fn:{_show_input:function(obj,mode,callback){obj=this._get_node(obj);var rtl=this._get_settings().core.rtl,w=this._get_settings().crrm.input_width_limit,w1=obj.children("ins").width(),w2=obj.find("> a:visible > ins").width()*obj.find("> a:visible > ins").length,t=this.get_text(obj),h1=$("<div />",{css:{"position":"absolute","top":"-200px","left":(rtl?"0px":"-1000px"),"visibility":"hidden"}}).appendTo("body"),h2=obj.css("position","relative").append($("<input />",{"value":t,'data-mode':mode||'add',"class":"jstree-rename-input","css":{"padding":"0","border":"1px solid silver","position":"absolute","left":(rtl?"auto":(w1+w2+4)+"px"),"right":(rtl?(w1+w2+4)+"px":"auto"),"top":"0px","height":(this.data.core.li_height-2)+"px","lineHeight":(this.data.core.li_height-2)+"px","width":"150px"},"blur":$.proxy(function(){var i=obj.children(".jstree-rename-input"),v=i.val();if($(i).attr('data-mode')==='delete'){this.remove(obj);return false;}
if(v===""){v=t;}
h1.remove();i.remove();this.set_text(obj,t);this.rename_node(obj,v);callback.call(this,obj,v,t);obj.css("position","");},this),"keyup":function(event){var key=event.keyCode||event.which;if(key==27){$(this).attr('data-mode')==='add'?$(this).attr('data-mode','delete'):this.value=t;this.blur();return;}
else if(key==13){this.blur();return;}
else{h2.width(Math.min(h1.text("pW"+this.value).width(),w));}},"keypress":function(event){var key=event.keyCode||event.which;if(key==13){return false;}}})).children(".jstree-rename-input");this.get_container().triggerHandler("show_input.jstree",{"obj":obj,"h1":h1,"h2":h2,"w":w,"t":t});this.set_text(obj,"");h1.css({fontFamily:h2.css('fontFamily')||'',fontSize:h2.css('fontSize')||'',fontWeight:h2.css('fontWeight')||'',fontStyle:h2.css('fontStyle')||'',fontStretch:h2.css('fontStretch')||'',fontVariant:h2.css('fontVariant')||'',letterSpacing:h2.css('letterSpacing')||'',wordSpacing:h2.css('wordSpacing')||''});h2.width(Math.min(h1.text("pW"+h2[0].value).width(),w))[0].select();},rename:function(obj){obj=this._get_node(obj);this.__rollback();var f=this.__callback;this._show_input(obj,'edit',function(obj,new_name,old_name){f.call(this,{"obj":obj,"new_name":new_name,"old_name":old_name});});},create:function(obj,position,js,callback,skip_rename,silent){var t,_this=this,silent=silent||false;obj=this._get_node(obj);if(!obj){obj=-1;}
this.__rollback();t=this.create_node(obj,position,js,function(t){var p=this._get_parent(t),pos=$(t).index();if(callback){callback.call(this,t);}
if(p.length&&p.hasClass("jstree-closed")&&!silent){this.open_node(p,false,true);}
if(!skip_rename){this._show_input(t,'add',function(obj,new_name,old_name){_this.__callback({"obj":obj,"name":new_name,"parent":p,"position":pos});});}
else{_this.__callback({"obj":t,"name":this.get_text(t),"parent":p,"position":pos});}});return t;},remove:function(obj){obj=this._get_node(obj,true);var p=this._get_parent(obj),prev=this._get_prev(obj);this.__rollback();obj=this.delete_node(obj);if(obj!==false){this.__callback({"obj":obj,"prev":prev,"parent":p});}},check_move:function(){if(!this.__call_old()){return false;}
var s=this._get_settings().crrm.move;if(!s.check_move.call(this,this._get_move())){return false;}
return true;},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){var s=this._get_settings().crrm.move;if(!is_prepared){if(typeof position==="undefined"){position=s.default_position;}
if(position==="inside"&&!s.default_position.match(/^(before|after)$/)){position=s.default_position;}
return this.__call_old(true,obj,ref,position,is_copy,false,skip_check);}
if(s.always_copy===true||(s.always_copy==="multitree"&&obj.rt.get_index()!==obj.ot.get_index())){is_copy=true;}
this.__call_old(true,obj,ref,position,is_copy,true,skip_check);},cut:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length){return false;}
this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=obj;this.__callback({"obj":obj});},copy:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length){return false;}
this.data.crrm.ct_nodes=false;this.data.crrm.cp_nodes=obj;this.__callback({"obj":obj});},paste:function(obj){obj=this._get_node(obj);if(!obj||!obj.length){return false;}
var nodes=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes){return false;}
if(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,obj);this.data.crrm.ct_nodes=false;}
if(this.data.crrm.cp_nodes){this.move_node(this.data.crrm.cp_nodes,obj,false,true);}
this.__callback({"obj":obj,"nodes":nodes});}}});})(jQuery);(function($){var themes_loaded=[];$.jstree._themes=false;$.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",$.proxy(function(){var s=this._get_settings().themes;this.data.themes.dots=s.dots;this.data.themes.icons=s.icons;},this)).bind("loaded.jstree",$.proxy(function(){if(!this.data.themes.dots){this.hide_dots();}
else{this.show_dots();}
if(!this.data.themes.icons){this.hide_icons();}
else{this.show_icons();}},this));},defaults:{theme:"default",url:false,dots:true,icons:true},_fn:{set_theme:function(theme_name,theme_url){if(!theme_name){return false;}
if(!theme_url){theme_url=$.jstree._themes+theme_name+'/style.css';}
if($.inArray(theme_url,themes_loaded)==-1){$.vakata.css.add_sheet({"url":theme_url});themes_loaded.push(theme_url);}
if(this.data.themes.theme!=theme_name){this.get_container().removeClass('jstree-'+this.data.themes.theme);this.data.themes.theme=theme_name;}
this.get_container().addClass('jstree-'+theme_name);if(!this.data.themes.dots){this.hide_dots();}
else{this.show_dots();}
if(!this.data.themes.icons){this.hide_icons();}
else{this.show_icons();}
this.__callback();},get_theme:function(){return this.data.themes.theme;},show_dots:function(){this.data.themes.dots=true;this.get_container().children("ul").removeClass("jstree-no-dots");},hide_dots:function(){this.data.themes.dots=false;this.get_container().children("ul").addClass("jstree-no-dots");},toggle_dots:function(){if(this.data.themes.dots){this.hide_dots();}else{this.show_dots();}},show_icons:function(){this.data.themes.icons=true;this.get_container().children("ul").removeClass("jstree-no-icons");},hide_icons:function(){this.data.themes.icons=false;this.get_container().children("ul").addClass("jstree-no-icons");},toggle_icons:function(){if(this.data.themes.icons){this.hide_icons();}else{this.show_icons();}}}});$(function(){if($.jstree._themes===false){$("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)){$.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+'themes/';return false;}});}
if($.jstree._themes===false){$.jstree._themes="themes/";}});$.jstree.defaults.plugins.push("themes");})(jQuery);(function($){var bound=[];function exec(i,event){var f=$.jstree._focused(),tmp;if(f&&f.data&&f.data.hotkeys&&f.data.hotkeys.enabled){tmp=f._get_settings().hotkeys[i];if(tmp){return tmp.call(f,event);}}}
$.jstree.plugin("hotkeys",{__init:function(){if(typeof $.hotkeys==="undefined"){throw"jsTree hotkeys: jQuery hotkeys plugin not included.";}
if(!this.data.ui){throw"jsTree hotkeys: jsTree UI plugin not included.";}
$.each(this._get_settings().hotkeys,function(i,v){if(v!==false&&$.inArray(i,bound)==-1){$(document).bind("keydown",i,function(event){return exec(i,event);});bound.push(i);}});this.get_container().bind("lock.jstree",$.proxy(function(){if(this.data.hotkeys.enabled){this.data.hotkeys.enabled=false;this.data.hotkeys.revert=true;}},this)).bind("unlock.jstree",$.proxy(function(){if(this.data.hotkeys.revert){this.data.hotkeys.enabled=true;}},this));this.enable_hotkeys();},defaults:{"up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},"ctrl+up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},"shift+up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},"down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},"ctrl+down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},"shift+down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},"left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass("jstree-open")){this.close_node(o);}
else{this.hover_node(this._get_prev(o));}}
return false;},"ctrl+left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass("jstree-open")){this.close_node(o);}
else{this.hover_node(this._get_prev(o));}}
return false;},"shift+left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass("jstree-open")){this.close_node(o);}
else{this.hover_node(this._get_prev(o));}}
return false;},"right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass("jstree-closed")){this.open_node(o);}
else{this.hover_node(this._get_next(o));}}
return false;},"ctrl+right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass("jstree-closed")){this.open_node(o);}
else{this.hover_node(this._get_next(o));}}
return false;},"shift+right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass("jstree-closed")){this.open_node(o);}
else{this.hover_node(this._get_next(o));}}
return false;},"space":function(){if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").click();}
return false;},"ctrl+space":function(event){event.type="click";if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").trigger(event);}
return false;},"shift+space":function(event){event.type="click";if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").trigger(event);}
return false;},"f2":function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected);},"del":function(){this.remove(this.data.ui.hovered||this._get_node(null));}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=true;},disable_hotkeys:function(){this.data.hotkeys.enabled=false;}}});})(jQuery);(function($){$.jstree.plugin("json_data",{__init:function(){var s=this._get_settings().json_data;if(s.progressive_unload){this.get_container().bind("after_close.jstree",function(e,data){data.rslt.obj.children("ul").remove();});}},defaults:{data:false,ajax:false,correct_state:true,progressive_render:false,progressive_unload:false},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_json(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){var s=this._get_settings().json_data;obj=this._get_node(obj);return obj==-1||!obj||(!s.ajax&&!s.progressive_render&&!$.isFunction(s.data))||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").length>0;},refresh:function(obj){obj=this._get_node(obj);var s=this._get_settings().json_data;if(obj&&obj!==-1&&s.progressive_unload&&($.isFunction(s.data)||!!s.ajax)){obj.removeData("jstree_children");}
return this.__call_old();},load_node_json:function(obj,s_call,e_call){var s=this.get_settings().json_data,d,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1&&(s.progressive_render||s.progressive_unload)&&!obj.is(".jstree-open, .jstree-leaf")&&obj.children("ul").children("li").length===0&&obj.data("jstree_children")){d=this._parse_json(obj.data("jstree_children"),obj);if(d){obj.append(d);if(!s.progressive_unload){obj.removeData("jstree_children");}}
this.clean_node(obj);if(s_call){s_call.call(this);}
return;}
if(obj&&obj!==-1){if(obj.data("jstree_is_loading")){return;}
else{obj.data("jstree_is_loading",true);}}
switch(!0){case(!s.data&&!s.ajax):throw"Neither data nor ajax settings supplied.";case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){d=this._parse_json(d,obj);if(!d){if(obj===-1||!obj){if(s.correct_state){this.get_container().children("ul").empty();}}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);}}
if(e_call){e_call.call(this);}}
else{if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.append(d).children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}},this));break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){d=this._parse_json(s.data,obj);if(d){this.get_container().children("ul").empty().append(d.children());this.clean_node();}
else{if(s.correct_state){this.get_container().children("ul").empty();}}}
if(s_call){s_call.call(this);}
break;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):error_func=function(x,t,e){var ef=this.get_settings().json_data.ajax.error;if(ef){ef.call(this,x,t,e);}
if(obj!=-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state){this.correct_state(obj);}}
else{if(t==="success"&&s.correct_state){this.get_container().children("ul").empty();}}
if(e_call){e_call.call(this);}};success_func=function(d,t,x){var sf=this.get_settings().json_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
if(d===""||(d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")||(!$.isArray(d)&&!$.isPlainObject(d))){return error_func.call(this,x,t,"");}
d=this._parse_json(d,obj);if(d){if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.append(d).children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}
else{if(obj===-1||!obj){if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType="json";}
if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}
$.ajax(s.ajax);break;}},_parse_json:function(js,obj,is_callback){var d=false,p=this._get_settings(),s=p.json_data,t=p.core.html_titles,tmp,i,j,ul1,ul2;if(!js){return d;}
if(s.progressive_unload&&obj&&obj!==-1){obj.data("jstree_children",d);}
if($.isArray(js)){d=$();if(!js.length){return false;}
for(i=0,j=js.length;i<j;i++){tmp=this._parse_json(js[i],obj,true);if(tmp.length){d=d.add(tmp);}}}
else{if(typeof js=="string"){js={data:js};}
if(!js.data&&js.data!==""){return d;}
d=$("<li />");if(js.attr){d.attr(js.attr);}
if(js.metadata){d.data(js.metadata);}
if(js.state){d.addClass("jstree-"+js.state);}
if(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp);}
$.each(js.data,function(i,m){tmp=$("<a />");if($.isFunction(m)){m=m.call(this,js);}
if(typeof m=="string"){tmp.attr('href','#')[t?"html":"text"](m);}
else{if(!m.attr){m.attr={};}
if(!m.attr.href){m.attr.href='#';}
tmp.attr(m.attr)[t?"html":"text"](m.title);if(m.language){tmp.addClass(m.language);}}
tmp.attr('data-action','jstree-select');tmp.prepend("<ins class='jstree-icon _parse_json_inner'>&#160;</ins>");if(!m.icon&&js.icon){m.icon=js.icon;}
if(m.icon){if(m.icon.indexOf("/")===-1){tmp.children("ins").addClass(m.icon);}
else{tmp.children("ins").css("background","url('"+m.icon+"') center center no-repeat");}}
d.append(tmp);if(p.settings.showMenu===true){var link='<a class="btn jstree-addnode" href="javascript:void(0);" title="" data-original-title="Add" data-action="jstree-addnode">'+' <span class="fa fa-plus"></span>'+'</a>',optmp='<div class="btn-group btn-group-justified pull-right">'+link+'<a class="btn jstree-contextmenu" href="javascript:void(0);" title="" data-original-title="Actions" data-action="jstree-contextmenu">'+' <span class="fa fa-caret-down"></span>'+'</a>'+'</div>';d.append(optmp);}});d.prepend("<ins class='jstree-icon _parse_json_outer' data-action='jstree-toggle'>&#160;</ins>");if(js.children){if(s.progressive_render&&js.state!=="open"){d.addClass("jstree-closed").data("jstree_children",js.children);}
else{if(s.progressive_unload){d.data("jstree_children",js.children);}
if($.isArray(js.children)&&js.children.length){tmp=this._parse_json(js.children,obj,true);if(tmp.length){ul2=$("<ul />");ul2.append(tmp);d.append(ul2);}}}}}
if(!is_callback){ul1=$("<ul />");ul1.append(d);d=ul1;}
return d;},get_json:function(obj,li_attr,a_attr,is_callback){var result=[],s=this._get_settings(),_this=this,tmp1,tmp2,li,a,t,lang;obj=this._get_node(obj);if(!obj||obj===-1){obj=this.get_container().find("> ul > li");}
li_attr=$.isArray(li_attr)?li_attr:["id","class"];if(!is_callback&&this.data.types){li_attr.push(s.types.type_attr);}
a_attr=$.isArray(a_attr)?a_attr:[];obj.each(function(){li=$(this);tmp1={data:[]};if(li_attr.length){tmp1.attr={};}
$.each(li_attr,function(i,v){tmp2=li.attr(v);if(tmp2&&tmp2.length&&tmp2.replace(/jstree[^ ]*/ig,'').length){tmp1.attr[v]=(" "+tmp2).replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");}});if(li.hasClass("jstree-open")){tmp1.state="open";}
if(li.hasClass("jstree-closed")){tmp1.state="closed";}
if(li.data()){tmp1.metadata=li.data();}
a=li.children("a");a.each(function(){t=$(this);if(a_attr.length||$.inArray("languages",s.plugins)!==-1||t.children("ins").get(0).style.backgroundImage.length||(t.children("ins").get(0).className&&t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').length)){lang=false;if($.inArray("languages",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length){$.each(s.languages,function(l,lv){if(t.hasClass(lv)){lang=lv;return false;}});}
tmp2={attr:{},title:_this.get_text(t,lang)};$.each(a_attr,function(k,z){tmp2.attr[z]=(" "+(t.attr(z)||"")).replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");});if($.inArray("languages",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length){$.each(s.languages,function(k,z){if(t.hasClass(z)){tmp2.language=z;return true;}});}
if(t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\s+$/ig,"").length){tmp2.icon=t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");}
if(t.children("ins").get(0).style.backgroundImage.length){tmp2.icon=t.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","");}}
else{tmp2=_this.get_text(t);}
if(a.length>1){tmp1.data.push(tmp2);}
else{tmp1.data=tmp2;}});li=li.find("> ul > li");if(li.length){tmp1.children=_this.get_json(li,li_attr,a_attr,true);}
result.push(tmp1);});return result;}}});})(jQuery);(function($){$.jstree.plugin("languages",{__init:function(){this._load_css();},defaults:[],_fn:{set_lang:function(i){var langs=this._get_settings().languages,st=false,selector=".jstree-"+this.get_index()+' a';if(!$.isArray(langs)||langs.length===0){return false;}
if($.inArray(i,langs)==-1){if(!!langs[i]){i=langs[i];}
else{return false;}}
if(i==this.data.languages.current_language){return true;}
st=$.vakata.css.get_css(selector+"."+this.data.languages.current_language,false,this.data.languages.language_css);if(st!==false){st.style.display="none";}
st=$.vakata.css.get_css(selector+"."+i,false,this.data.languages.language_css);if(st!==false){st.style.display="";}
this.data.languages.current_language=i;this.__callback(i);return true;},get_lang:function(){return this.data.languages.current_language;},_get_string:function(key,lang){var langs=this._get_settings().languages,s=this._get_settings().core.strings;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;}
if(s[lang]&&s[lang][key]){return s[lang][key];}
if(s[key]){return s[key];}
return key;},get_text:function(obj,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size()){return false;}
var langs=this._get_settings().languages,s=this._get_settings().core.html_titles;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;obj=obj.children("a."+lang);}
else{obj=obj.children("a:eq(0)");}
if(s){obj=obj.clone();obj.children("INS").remove();return obj.html();}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];return obj.nodeValue;}},set_text:function(obj,val,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size()){return false;}
var langs=this._get_settings().languages,s=this._get_settings().core.html_titles,tmp;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;obj=obj.children("a."+lang);}
else{obj=obj.children("a:eq(0)");}
if(s){tmp=obj.children("INS").clone();obj.html(val).prepend(tmp);this.__callback({"obj":obj,"name":val,"lang":lang});return true;}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];this.__callback({"obj":obj,"name":val,"lang":lang});return(obj.nodeValue=val);}},_load_css:function(){var langs=this._get_settings().languages,str="/* languages css */",selector=".jstree-"+this.get_index()+' a',ln;if($.isArray(langs)&&langs.length){this.data.languages.current_language=langs[0];for(ln=0;ln<langs.length;ln++){str+=selector+"."+langs[ln]+" {";if(langs[ln]!=this.data.languages.current_language){str+=" display:none; ";}
str+=" } ";}
this.data.languages.language_css=$.vakata.css.add_sheet({'str':str,'title':"jstree-languages"});}},create_node:function(obj,position,js,callback){var t=this.__call_old(true,obj,position,js,function(t){var langs=this._get_settings().languages,a=t.children("a"),ln;if($.isArray(langs)&&langs.length){for(ln=0;ln<langs.length;ln++){if(!a.is("."+langs[ln])){t.append(a.eq(0).clone().removeClass(langs.join(" ")).addClass(langs[ln]));}}
a.not("."+langs.join(", .")).remove();}
if(callback){callback.call(this,t);}});return t;}}});})(jQuery);(function($){$.jstree.plugin("cookies",{__init:function(){if(typeof $.cookie==="undefined"){throw"jsTree cookie: jQuery cookie plugin not included.";}
var s=this._get_settings().cookies,tmp;if(!!s.save_loaded){tmp=$.cookie(s.save_loaded);if(tmp&&tmp.length){this.data.core.to_load=tmp.split(",");}}
if(!!s.save_opened){tmp=$.cookie(s.save_opened);if(tmp&&tmp.length){this.data.core.to_open=tmp.split(",");}}
if(!!s.save_selected){tmp=$.cookie(s.save_selected);if(tmp&&tmp.length&&this.data.ui){this.data.ui.to_select=tmp.split(",");}}
this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",$.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",$.proxy(function(e){if(this._get_settings().cookies.auto_save){this.save_cookie((e.handleObj.namespace+e.handleObj.type).replace("jstree",""));}},this));},this));},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:true,cookie_options:{}},_fn:{save_cookie:function(c){if(this.data.core.refreshing){return;}
var s=this._get_settings().cookies;if(!c){if(s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(","),s.cookie_options);}
if(s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(","),s.cookie_options);}
if(s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(","),s.cookie_options);}
return;}
switch(c){case"open_node":case"close_node":if(!!s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(","),s.cookie_options);}
if(!!s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(","),s.cookie_options);}
break;case"select_node":case"deselect_node":if(!!s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(","),s.cookie_options);}
break;}}}});})(jQuery);(function($){$.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var obj=this._get_node(data.rslt.obj);obj=obj===-1?this.get_container().children("ul"):obj.children("ul");this.sort(obj);},this)).bind("rename_node.jstree create_node.jstree create.jstree",$.proxy(function(e,data){this.sort(data.rslt.obj.parent());},this)).bind("move_node.jstree",$.proxy(function(e,data){var m=data.rslt.np==-1?this.get_container():data.rslt.np;this.sort(m.children("ul"));},this));},defaults:function(a,b){return this.get_text(a)>this.get_text(b)?1:-1;},_fn:{sort:function(obj){var s=this._get_settings().sort,t=this;obj.append($.makeArray(obj.children("li")).sort($.proxy(s,t)));obj.find("> li > ul").each(function(){t.sort($(this));});this.clean_node(obj);}}});})(jQuery);(function($){var o=false,r=false,m=false,ml=false,sli=false,sti=false,dir1=false,dir2=false,last_pos=false;$.vakata.dnd={is_down:false,is_drag:false,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(e,data,html){if($.vakata.dnd.is_drag){$.vakata.drag_stop({});}
try{e.currentTarget.unselectable="on";e.currentTarget.onselectstart=function(){return false;};if(e.currentTarget.style){e.currentTarget.style.MozUserSelect="none";}}catch(err){}
$.vakata.dnd.init_x=e.pageX;$.vakata.dnd.init_y=e.pageY;$.vakata.dnd.user_data=data;$.vakata.dnd.is_down=true;$.vakata.dnd.helper=$("<div id='vakata-dragged' />").html(html);$(document).bind("mousemove",$.vakata.dnd.drag);$(document).bind("mouseup",$.vakata.dnd.drag_stop);return false;},drag:function(e){if(!$.vakata.dnd.is_down){return;}
if(!$.vakata.dnd.is_drag){if(Math.abs(e.pageX-$.vakata.dnd.init_x)>5||Math.abs(e.pageY-$.vakata.dnd.init_y)>5){$.vakata.dnd.helper.appendTo("body");$.vakata.dnd.is_drag=true;$(document).triggerHandler("drag_start.vakata",{"event":e,"data":$.vakata.dnd.user_data});}
else{return;}}
if(e.type==="mousemove"){var d=$(document),t=d.scrollTop(),l=d.scrollLeft();if(e.pageY-t<20){if(sti&&dir1==="down"){clearInterval(sti);sti=false;}
if(!sti){dir1="up";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()-$.vakata.dnd.scroll_spd);},150);}}
else{if(sti&&dir1==="up"){clearInterval(sti);sti=false;}}
if($(window).height()-(e.pageY-t)<20){if(sti&&dir1==="up"){clearInterval(sti);sti=false;}
if(!sti){dir1="down";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()+$.vakata.dnd.scroll_spd);},150);}}
else{if(sti&&dir1==="down"){clearInterval(sti);sti=false;}}
if(e.pageX-l<20){if(sli&&dir2==="right"){clearInterval(sli);sli=false;}
if(!sli){dir2="left";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()-$.vakata.dnd.scroll_spd);},150);}}
else{if(sli&&dir2==="left"){clearInterval(sli);sli=false;}}
if($(window).width()-(e.pageX-l)<20){if(sli&&dir2==="left"){clearInterval(sli);sli=false;}
if(!sli){dir2="right";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()+$.vakata.dnd.scroll_spd);},150);}}
else{if(sli&&dir2==="right"){clearInterval(sli);sli=false;}}}
$.vakata.dnd.helper.css({left:(e.pageX+$.vakata.dnd.helper_left)+"px",top:(e.pageY+$.vakata.dnd.helper_top)+"px"});$(document).triggerHandler("drag.vakata",{"event":e,"data":$.vakata.dnd.user_data});},drag_stop:function(e){if(sli){clearInterval(sli);}
if(sti){clearInterval(sti);}
$(document).unbind("mousemove",$.vakata.dnd.drag);$(document).unbind("mouseup",$.vakata.dnd.drag_stop);$(document).triggerHandler("drag_stop.vakata",{"event":e,"data":$.vakata.dnd.user_data});$.vakata.dnd.helper.remove();$.vakata.dnd.init_x=0;$.vakata.dnd.init_y=0;$.vakata.dnd.user_data={};$.vakata.dnd.is_down=false;$.vakata.dnd.is_drag=false;}};$(function(){var css_string='#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ';$.vakata.css.add_sheet({str:css_string,title:"vakata"});});$.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false,mto:false};this.get_container().bind("mouseenter.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.themes){m.attr("class","jstree-"+this.data.themes.theme);if(ml){ml.attr("class","jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme);}
if(e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target){var tr=$.jstree._reference(e.target),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{"o":o,"r":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");}}
else{tr.prepare_move(o,tr.get_container(),"last");if(tr.check_move()){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");}}}}},this)).bind("mouseup.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target){var tr=$.jstree._reference(e.currentTarget),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{"o":o,"r":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true){tr._get_settings().dnd.drag_finish.call(this,{"o":o,"r":tr.get_container(),is_root:true});}}
else{tr.move_node(o,tr.get_container(),"last",e[tr._get_settings().dnd.copy_modifier+"Key"]);}}},this)).bind("mouseleave.jstree",$.proxy(function(e){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id==="jstree-marker-line"){return false;}
if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}
if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}
if($.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");}}},this)).bind("mousemove.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){var cnt=this.get_container()[0];if(e.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
this.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft+=$.vakata.dnd.scroll_spd;},cnt),100);}
else if(e.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
this.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft-=$.vakata.dnd.scroll_spd;},cnt),100);}
else{if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}}
if(e.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
this.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop+=$.vakata.dnd.scroll_spd;},cnt),100);}
else if(e.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
this.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop-=$.vakata.dnd.scroll_spd;},cnt),100);}
else{if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}}}},this)).bind("scroll.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&m&&ml){m.hide();ml.hide();}},this)).delegate("a","mousedown.jstree",$.proxy(function(e){if(e.which===1){this.start_drag(e.currentTarget,e);return false;}},this)).delegate("a","mouseenter.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){this.dnd_enter(e.currentTarget);}},this)).delegate("a","mousemove.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(!r||!r.length||r.children("a")[0]!==e.currentTarget){this.dnd_enter(e.currentTarget);}
if(typeof this.data.dnd.off.top==="undefined"){this.data.dnd.off=$(e.target).offset();}
this.data.dnd.w=(e.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0){this.data.dnd.w+=this.data.core.li_height;}
this.dnd_show();}},this)).delegate("a","mouseleave.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id==="jstree-marker-line"){return false;}
if(m){m.hide();}
if(ml){ml.hide();}
this.data.dnd.mto=setTimeout((function(t){return function(){t.dnd_leave(e);};})(this),0);}},this)).delegate("a","mouseup.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){this.dnd_finish(e);}},this));$(document).bind("drag_stop.vakata",$.proxy(function(){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}
if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}
if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.i1=false;this.data.dnd.i2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;if(m){m.css({"top":"-2000px"});}
if(ml){ml.css({"top":"-2000px"});}},this)).bind("drag_start.vakata",$.proxy(function(e,data){if(data.data.jstree){var et=$(data.event.target);if(et.closest(".jstree").hasClass("jstree-"+this.get_index())){this.dnd_enter(et);}}},this));var s=this._get_settings().dnd;if(s.drag_target){$(document).delegate(s.drag_target,"mousedown.jstree-"+this.get_index(),$.proxy(function(e){o=e.target;$.vakata.dnd.drag_start(e,{jstree:true,obj:e.target},"<ins class='jstree-icon'></ins>"+$(e.target).text());if(this.data.themes){if(m){m.attr("class","jstree-"+this.data.themes.theme);}
if(ml){ml.attr("class","jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var cnt=this.get_container();this.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.foreign=true;e.preventDefault();},this));}
if(s.drop_target){$(document).delegate(s.drop_target,"mouseenter.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{"o":o,"r":$(e.target),"e":e})){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");}},this)).delegate(s.drop_target,"mouseleave.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active){$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");}},this)).delegate(s.drop_target,"mouseup.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&$.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){this._get_settings().dnd.drop_finish.call(this,{"o":o,"r":$(e.target),"e":e});}},this));}},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(data){return true;},drop_finish:$.noop,drag_target:".jstree-draggable",drag_finish:$.noop,drag_check:function(data){return{after:false,before:false,inside:true};}},_fn:{dnd_prepare:function(){if(!r||!r.length){return;}
this.data.dnd.off=r.offset();if(this._get_settings().core.rtl){this.data.dnd.off.right=this.data.dnd.off.left+r.width();}
if(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,{"o":o,"r":r});this.data.dnd.after=a.after;this.data.dnd.before=a.before;this.data.dnd.inside=a.inside;this.data.dnd.prepared=true;return this.dnd_show();}
this.prepare_move(o,r,"before");this.data.dnd.before=this.check_move();this.prepare_move(o,r,"after");this.data.dnd.after=this.check_move();if(this._is_loaded(r)){this.prepare_move(o,r,"inside");this.data.dnd.inside=this.check_move();}
else{this.data.dnd.inside=false;}
this.data.dnd.prepared=true;return this.dnd_show();},dnd_show:function(){if(!this.data.dnd.prepared){return;}
var o=["before","inside","after"],r=false,rtl=this._get_settings().core.rtl,pos;if(this.data.dnd.w<this.data.core.li_height/3){o=["before","inside","after"];}
else if(this.data.dnd.w<=this.data.core.li_height*2/3){o=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"];}
else{o=["after","inside","before"];}
$.each(o,$.proxy(function(i,val){if(this.data.dnd[val]){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");r=val;return false;}},this));if(r===false){$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");}
pos=rtl?(this.data.dnd.off.right-18):(this.data.dnd.off.left+10);switch(r){case"before":m.css({"left":pos+"px","top":(this.data.dnd.off.top-6)+"px"}).show();if(ml){ml.css({"left":(pos+8)+"px","top":(this.data.dnd.off.top-1)+"px"}).show();}
break;case"after":m.css({"left":pos+"px","top":(this.data.dnd.off.top+this.data.core.li_height-6)+"px"}).show();if(ml){ml.css({"left":(pos+8)+"px","top":(this.data.dnd.off.top+this.data.core.li_height-1)+"px"}).show();}
break;case"inside":m.css({"left":pos+(rtl?-4:4)+"px","top":(this.data.dnd.off.top+this.data.core.li_height/2-7)+"px"}).show();if(ml){ml.hide();}
break;default:m.hide();if(ml){ml.hide();}
break;}
last_pos=r;return r;},dnd_open:function(){this.data.dnd.to2=false;this.open_node(r,$.proxy(this.dnd_prepare,this),true);},dnd_finish:function(e){if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside){this._get_settings().dnd.drag_finish.call(this,{"o":o,"r":r,"p":last_pos});}}
else{this.dnd_prepare();this.move_node(o,r,last_pos,e[this._get_settings().dnd.copy_modifier+"Key"]);}
o=false;r=false;m.hide();if(ml){ml.hide();}},dnd_enter:function(obj){if(this.data.dnd.mto){clearTimeout(this.data.dnd.mto);this.data.dnd.mto=false;}
var s=this._get_settings().dnd;this.data.dnd.prepared=false;r=this._get_node(obj);if(s.check_timeout){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}
this.data.dnd.to1=setTimeout($.proxy(this.dnd_prepare,this),s.check_timeout);}
else{this.dnd_prepare();}
if(s.open_timeout){if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}
if(r&&r.length&&r.hasClass("jstree-closed")){this.data.dnd.to2=setTimeout($.proxy(this.dnd_open,this),s.open_timeout);}}
else{if(r&&r.length&&r.hasClass("jstree-closed")){this.dnd_open();}}},dnd_leave:function(e){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");m.hide();if(ml){ml.hide();}
if(r&&r[0]===e.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false;}
if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);this.data.dnd.to2=false;}}},start_drag:function(obj,e){o=this._get_node(obj);if(this.data.ui&&this.is_selected(o)){o=this._get_node(null,true);}
var dt=o.length>1?this._get_string("multiple_selection"):this.get_text(o),cnt=this.get_container();if(!this._get_settings().core.html_titles){dt=dt.replace(/</ig,"&lt;").replace(/>/ig,"&gt;");}
$.vakata.dnd.drag_start(e,{jstree:true,obj:o},"<ins class='jstree-icon'></ins>"+dt);if(this.data.themes){if(m){m.attr("class","jstree-"+this.data.themes.theme);}
if(ml){ml.attr("class","jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme);}
this.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.active=true;}}});$(function(){var css_string=''+'#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; '+' -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; '+'} '+'#vakata-dragged .jstree-ok { background:green; } '+'#vakata-dragged .jstree-invalid { background:red; } '+'#jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } '+'#jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43; '+' cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666; '+' -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; '+'}'+'';$.vakata.css.add_sheet({str:css_string,title:"jstree"});m=$("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(e){m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false;}).appendTo("body");ml=$("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(e){if(r&&r.length){r.children("a").trigger(e);e.preventDefault();e.stopImmediatePropagation();return false;}}).bind("mouseleave",function(e){var rt=$(e.relatedTarget);if(rt.is(".jstree")||rt.closest(".jstree").length===0){if(r&&r.length){r.children("a").trigger(e);m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false;}}}).appendTo("body");$(document).bind("drag_start.vakata",function(e,data){if(data.data.jstree){m.show();if(ml){ml.show();}}});$(document).bind("drag_stop.vakata",function(e,data){if(data.data.jstree){m.hide();if(ml){ml.hide();}}});});})(jQuery);(function($){$.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;if(this.data.ui&&this.data.checkbox.noui){this.select_node=this.deselect_node=this.deselect_all=$.noop;this.get_selected=this.get_checked;}
this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",$.proxy(function(e,data){this._prepare_checkboxes(data.rslt.obj);},this)).bind("loaded.jstree",$.proxy(function(e){this._prepare_checkboxes();},this)).delegate((this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox"),"click.jstree",$.proxy(function(e){e.preventDefault();if(this._get_node(e.target).hasClass("jstree-checked")){this.uncheck_node(e.target);}
else{this.check_node(e.target);}
if(this.data.ui&&this.data.checkbox.noui){this.save_selected();if(this.data.cookies){this.save_cookie("select_node");}}
else{e.stopImmediatePropagation();return false;}},this));},defaults:{override_ui:false,two_state:false,real_checkboxes:false,checked_parent_open:true,real_checkboxes_names:function(n){return[("check_"+(n[0].id||Math.ceil(Math.random()*10000))),1];}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove();},_fn:{_checkbox_notify:function(n,data){if(data.checked){this.check_node(n,false);}},_prepare_checkboxes:function(obj){obj=!obj||obj==-1?this.get_container().find("> ul > li"):this._get_node(obj);if(obj===false){return;}
var c,_this=this,t,ts=this._get_settings().checkbox.two_state,rc=this._get_settings().checkbox.real_checkboxes,rcn=this._get_settings().checkbox.real_checkboxes_names;obj.each(function(){t=$(this);c=t.is("li")&&(t.hasClass("jstree-checked")||(rc&&t.children(":checked").length))?"jstree-checked":"jstree-unchecked";t.find("li").andSelf().each(function(){var $t=$(this),nm;$t.children("a"+(_this.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(ts?"jstree-unchecked":c);if(rc){if(!$t.children(":checkbox").length){nm=rcn.call(_this,$t);$t.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+nm[0]+"' name='"+nm[0]+"' value='"+nm[1]+"' />");}
else{$t.children(":checkbox").addClass("jstree-real-checkbox");}}
if(!ts){if(c==="jstree-checked"||$t.hasClass("jstree-checked")||$t.children(':checked').length){$t.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",true);}}
else{if($t.hasClass("jstree-checked")||$t.children(':checked').length){$t.addClass("jstree-checked").children(":checkbox").prop("checked",true);}}});});if(!ts){obj.find(".jstree-checked").parent().parent().each(function(){_this._repair_state(this);});}},change_state:function(obj,state){obj=this._get_node(obj);var coll=false,rc=this._get_settings().checkbox.real_checkboxes;if(!obj||obj===-1){return false;}
state=(state===false||state===true)?state:obj.hasClass("jstree-checked");if(this._get_settings().checkbox.two_state){if(state){obj.removeClass("jstree-checked").addClass("jstree-unchecked");if(rc){obj.children(":checkbox").prop("checked",false);}}
else{obj.removeClass("jstree-unchecked").addClass("jstree-checked");if(rc){obj.children(":checkbox").prop("checked",true);}}}
else{if(state){coll=obj.find("li").andSelf();if(!coll.filter(".jstree-checked, .jstree-undetermined").length){return false;}
coll.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(rc){coll.children(":checkbox").prop("checked",false);}}
else{coll=obj.find("li").andSelf();if(!coll.filter(".jstree-unchecked, .jstree-undetermined").length){return false;}
coll.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(rc){coll.children(":checkbox").prop("checked",true);}
if(this.data.ui){this.data.ui.last_selected=obj;}
this.data.checkbox.last_selected=obj;}
obj.parentsUntil(".jstree","li").each(function(){var $this=$(this);if(state){if($this.children("ul").children("li.jstree-checked, li.jstree-undetermined").length){$this.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(rc){$this.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false);}
return false;}
else{$this.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(rc){$this.children(":checkbox").prop("checked",false);}}}
else{if($this.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length){$this.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(rc){$this.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false);}
return false;}
else{$this.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(rc){$this.children(":checkbox").prop("checked",true);}}}});}
if(this.data.ui&&this.data.checkbox.noui){this.data.ui.selected=this.get_checked();}
this.__callback(obj);return true;},check_node:function(obj){if(this.change_state(obj,false)){obj=this._get_node(obj);if(this._get_settings().checkbox.checked_parent_open){var t=this;obj.parents(".jstree-closed").each(function(){t.open_node(this,false,true);});}
this.__callback({"obj":obj});}},uncheck_node:function(obj){if(this.change_state(obj,true)){this.__callback({"obj":this._get_node(obj)});}},check_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");coll.each(function(){_this.change_state(this,false);});this.__callback();},uncheck_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");coll.each(function(){_this.change_state(this,true);});this.__callback();},is_checked:function(obj){obj=this._get_node(obj);return obj.length?obj.is(".jstree-checked"):false;},get_checked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(".jstree-checked"):obj.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked");},get_unchecked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(".jstree-unchecked"):obj.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked");},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes");},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes");},_repair_state:function(obj){obj=this._get_node(obj);if(!obj.length){return;}
if(this._get_settings().checkbox.two_state){obj.find('li').andSelf().not('.jstree-checked').removeClass('jstree-undetermined').addClass('jstree-unchecked').children(':checkbox').prop('checked',true);return;}
var rc=this._get_settings().checkbox.real_checkboxes,a=obj.find("> ul > .jstree-checked").length,b=obj.find("> ul > .jstree-undetermined").length,c=obj.find("> ul > li").length;if(c===0){if(obj.hasClass("jstree-undetermined")){this.change_state(obj,false);}}
else if(a===0&&b===0){this.change_state(obj,true);}
else if(a===c){this.change_state(obj,false);}
else{obj.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(rc){obj.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false);}}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});this.deselect_all();$.each(s,function(i,val){_this.check_node(val);});this.__callback();}
else{this.__call_old();}},save_loaded:function(){var _this=this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){if(this.id){_this.data.core.to_load.push("#"+this.id);}});}}});$(function(){var css_string='.jstree .jstree-real-checkbox { display:none; } ';$.vakata.css.add_sheet({str:css_string,title:"jstree"});});})(jQuery);(function($){$.vakata.xslt=function(xml,xsl,callback){var rs="",xm,xs,processor,support;if(document.recalc){xm=document.createElement('xml');xs=document.createElement('xml');xm.innerHTML=xml;xs.innerHTML=xsl;$("body").append(xm).append(xs);setTimeout((function(xm,xs,callback){return function(){callback.call(null,xm.transformNode(xs.XMLDocument));setTimeout((function(xm,xs){return function(){$(xm).remove();$(xs).remove();};})(xm,xs),200);};})(xm,xs,callback),100);return true;}
if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor==="undefined"){xml=new DOMParser().parseFromString(xml,"text/xml");xsl=new DOMParser().parseFromString(xsl,"text/xml");}
if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor!=="undefined"){processor=new XSLTProcessor();support=$.isFunction(processor.transformDocument)?(typeof window.XMLSerializer!=="undefined"):true;if(!support){return false;}
xml=new DOMParser().parseFromString(xml,"text/xml");xsl=new DOMParser().parseFromString(xsl,"text/xml");if($.isFunction(processor.transformDocument)){rs=document.implementation.createDocument("","",null);processor.transformDocument(xml,xsl,rs,null);callback.call(null,new XMLSerializer().serializeToString(rs));return true;}
else{processor.importStylesheet(xsl);rs=processor.transformToFragment(xml,document);callback.call(null,$("<div />").append(rs).html());return true;}}
return false;};var xsl={'nest':'<'+'?xml version="1.0" encoding="utf-8" ?>'+'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" >'+'<xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" />'+'<xsl:template match="/">'+' <xsl:call-template name="nodes">'+'  <xsl:with-param name="node" select="/root" />'+' </xsl:call-template>'+'</xsl:template>'+'<xsl:template name="nodes">'+' <xsl:param name="node" />'+' <ul>'+' <xsl:for-each select="$node/item">'+'  <xsl:variable name="children" select="count(./item) &gt; 0" />'+'  <li>'+'   <xsl:attribute name="class">'+'    <xsl:if test="position() = last()">jstree-last </xsl:if>'+'    <xsl:choose>'+'     <xsl:when test="@state = \'open\'">jstree-open </xsl:when>'+'     <xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>'+'     <xsl:otherwise>jstree-leaf </xsl:otherwise>'+'    </xsl:choose>'+'    <xsl:value-of select="@class" />'+'   </xsl:attribute>'+'   <xsl:for-each select="@*">'+'    <xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">'+'     <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'    </xsl:if>'+'   </xsl:for-each>'+' <ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>'+'   <xsl:for-each select="content/name">'+'    <a>'+'    <xsl:attribute name="href">'+'     <xsl:choose>'+'     <xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>'+'     <xsl:otherwise>#</xsl:otherwise>'+'     </xsl:choose>'+'    </xsl:attribute>'+'    <xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>'+'    <xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>'+'    <xsl:for-each select="@*">'+'     <xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">'+'      <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'     </xsl:if>'+'    </xsl:for-each>'+'     <ins>'+'      <xsl:attribute name="class">jstree-icon '+'       <xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>'+'      </xsl:attribute>'+'      <xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>'+'      <xsl:text>&#xa0;</xsl:text>'+'     </ins>'+'     <xsl:copy-of select="./child::node()" />'+'    </a>'+'   </xsl:for-each>'+'   <xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>'+'  </li>'+' </xsl:for-each>'+' </ul>'+'</xsl:template>'+'</xsl:stylesheet>','flat':'<'+'?xml version="1.0" encoding="utf-8" ?>'+'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" >'+'<xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" />'+'<xsl:template match="/">'+' <ul>'+' <xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">'+'  <xsl:call-template name="nodes">'+'   <xsl:with-param name="node" select="." />'+'   <xsl:with-param name="is_last" select="number(position() = last())" />'+'  </xsl:call-template>'+' </xsl:for-each>'+' </ul>'+'</xsl:template>'+'<xsl:template name="nodes">'+' <xsl:param name="node" />'+' <xsl:param name="is_last" />'+' <xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />'+' <li>'+' <xsl:attribute name="class">'+'  <xsl:if test="$is_last = true()">jstree-last </xsl:if>'+'  <xsl:choose>'+'   <xsl:when test="@state = \'open\'">jstree-open </xsl:when>'+'   <xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>'+'   <xsl:otherwise>jstree-leaf </xsl:otherwise>'+'  </xsl:choose>'+'  <xsl:value-of select="@class" />'+' </xsl:attribute>'+' <xsl:for-each select="@*">'+'  <xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">'+'  <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'  </xsl:if>'+' </xsl:for-each>'+' <ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>'+' <xsl:for-each select="content/name">'+'  <a>'+'  <xsl:attribute name="href">'+'   <xsl:choose>'+'   <xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>'+'   <xsl:otherwise>#</xsl:otherwise>'+'   </xsl:choose>'+'  </xsl:attribute>'+'  <xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>'+'  <xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>'+'  <xsl:for-each select="@*">'+'   <xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">'+'    <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'   </xsl:if>'+'  </xsl:for-each>'+'   <ins>'+'    <xsl:attribute name="class">jstree-icon '+'     <xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>'+'    </xsl:attribute>'+'    <xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>'+'    <xsl:text>&#xa0;</xsl:text>'+'   </ins>'+'   <xsl:copy-of select="./child::node()" />'+'  </a>'+' </xsl:for-each>'+' <xsl:if test="$children">'+'  <ul>'+'  <xsl:for-each select="//item[@parent_id=$node/attribute::id]">'+'   <xsl:call-template name="nodes">'+'    <xsl:with-param name="node" select="." />'+'    <xsl:with-param name="is_last" select="number(position() = last())" />'+'   </xsl:call-template>'+'  </xsl:for-each>'+'  </ul>'+' </xsl:if>'+' </li>'+'</xsl:template>'+'</xsl:stylesheet>'},escape_xml=function(string){return string.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&apos;');};$.jstree.plugin("xml_data",{defaults:{data:false,ajax:false,xsl:"flat",clean_node:false,correct_state:true,get_skip_empty:false,get_include_preamble:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_xml(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){var s=this._get_settings().xml_data;obj=this._get_node(obj);return obj==-1||!obj||(!s.ajax&&!$.isFunction(s.data))||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").size()>0;},load_node_xml:function(obj,s_call,e_call){var s=this.get_settings().xml_data,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1){if(obj.data("jstree_is_loading")){return;}
else{obj.data("jstree_is_loading",true);}}
switch(!0){case(!s.data&&!s.ajax):throw"Neither data nor ajax settings supplied.";case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){this.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d);obj.removeData("jstree_is_loading");}
if(s.clean_node){this.clean_node(obj);}
if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}}},this));},this));break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){this.parse_xml(s.data,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);this.get_container().children("ul").empty().append(d.children());if(s.clean_node){this.clean_node(obj);}
if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}},this));}
break;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):error_func=function(x,t,e){var ef=this.get_settings().xml_data.ajax.error;if(ef){ef.call(this,x,t,e);}
if(obj!==-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state){this.correct_state(obj);}}
else{if(t==="success"&&s.correct_state){this.get_container().children("ul").empty();}}
if(e_call){e_call.call(this);}};success_func=function(d,t,x){d=x.responseText;var sf=this.get_settings().xml_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
if(d===""||(d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")){return error_func.call(this,x,t,"");}
this.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d);obj.removeData("jstree_is_loading");}
if(s.clean_node){this.clean_node(obj);}
if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}}},this));};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType="xml";}
if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}
$.ajax(s.ajax);break;}},parse_xml:function(xml,callback){var s=this._get_settings().xml_data;$.vakata.xslt(xml,xsl[s.xsl],callback);},get_xml:function(tp,obj,li_attr,a_attr,is_callback){var result="",s=this._get_settings(),_this=this,tmp1,tmp2,li,a,lang;if(!tp){tp="flat";}
if(!is_callback){is_callback=0;}
obj=this._get_node(obj);if(!obj||obj===-1){obj=this.get_container().find("> ul > li");}
li_attr=$.isArray(li_attr)?li_attr:["id","class"];if(!is_callback&&this.data.types&&$.inArray(s.types.type_attr,li_attr)===-1){li_attr.push(s.types.type_attr);}
a_attr=$.isArray(a_attr)?a_attr:[];if(!is_callback){if(s.xml_data.get_include_preamble){result+='<'+'?xml version="1.0" encoding="UTF-8"?'+'>';}
result+="<root>";}
obj.each(function(){result+="<item";li=$(this);$.each(li_attr,function(i,v){var t=li.attr(v);if(!s.xml_data.get_skip_empty||typeof t!=="undefined"){result+=" "+v+"=\""+escape_xml((" "+(t||"")).replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+"\"";}});if(li.hasClass("jstree-open")){result+=" state=\"open\"";}
if(li.hasClass("jstree-closed")){result+=" state=\"closed\"";}
if(tp==="flat"){result+=" parent_id=\""+escape_xml(is_callback)+"\"";}
result+=">";result+="<content>";a=li.children("a");a.each(function(){tmp1=$(this);lang=false;result+="<name";if($.inArray("languages",s.plugins)!==-1){$.each(s.languages,function(k,z){if(tmp1.hasClass(z)){result+=" lang=\""+escape_xml(z)+"\"";lang=z;return false;}});}
if(a_attr.length){$.each(a_attr,function(k,z){var t=tmp1.attr(z);if(!s.xml_data.get_skip_empty||typeof t!=="undefined"){result+=" "+z+"=\""+escape_xml((" "+t||"").replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+"\"";}});}
if(tmp1.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\s+$/ig,"").length){result+=' icon="'+escape_xml(tmp1.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"';}
if(tmp1.children("ins").get(0).style.backgroundImage.length){result+=' icon="'+escape_xml(tmp1.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,"").replace(/"/ig,""))+'"';}
result+=">";result+="<![CDATA["+_this.get_text(tmp1,lang)+"]]>";result+="</name>";});result+="</content>";tmp2=li[0].id||true;li=li.find("> ul > li");if(li.length){tmp2=_this.get_xml(tp,li,li_attr,a_attr,tmp2);}
else{tmp2="";}
if(tp=="nest"){result+=tmp2;}
result+="</item>";if(tp=="flat"){result+=tmp2;}});if(!is_callback){result+="</root>";}
return result;}}});})(jQuery);(function($){$.expr[':'].jstree_contains=function(a,i,m){return(a.textContent||a.innerText||"").toLowerCase().indexOf(m[3].toLowerCase())>=0;};$.expr[':'].jstree_title_contains=function(a,i,m){return(a.getAttribute("title")||"").toLowerCase().indexOf(m[3].toLowerCase())>=0;};$.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=$();if(this._get_settings().search.show_only_matches){this.get_container().bind("search.jstree",function(e,data){$(this).children("ul").find("li").hide().removeClass("jstree-last");data.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){$(this).children("li:visible").eq(-1).addClass("jstree-last");});}).bind("clear_search.jstree",function(){$(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1);});}},defaults:{ajax:false,search_method:"jstree_contains",show_only_matches:false},_fn:{search:function(str,skip_async){if($.trim(str)===""){this.clear_search();return;}
var s=this.get_settings().search,t=this,error_func=function(){},success_func=function(){};this.data.search.str=str;if(!skip_async&&s.ajax!==false&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0){this.search.supress_callback=true;error_func=function(){};success_func=function(d,t,x){var sf=this.get_settings().search.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
this.data.search.to_open=d;this._search_open();};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,str);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,str);}
if(!s.ajax.data){s.ajax.data={"search_string":str};}
if(!s.ajax.dataType||/^json/.exec(s.ajax.dataType)){s.ajax.dataType="json";}
$.ajax(s.ajax);return;}
if(this.data.search.result.length){this.clear_search();}
this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+(s.search_method)+"("+this.data.search.str+")");this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){t.open_node(this,false,true);});this.__callback({nodes:this.data.search.result,str:str});},clear_search:function(str){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=$();},_search_open:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(this.data.search.to_open.length){$.each(this.data.search.to_open,function(i,val){if(val=="#"){return true;}
if($(val).length&&$(val).is(".jstree-closed")){current.push(val);}
else{remaining.push(val);}});if(current.length){this.data.search.to_open=remaining;$.each(current,function(i,val){_this.open_node(val,function(){_this._search_open(true);});});done=false;}}
if(done){this.search(this.data.search.str,true);}}}});})(jQuery);(function($){$.vakata.context={hide_on_mouseleave:false,cnt:$("<div id='vakata-contextmenu' />"),vis:false,tgt:false,par:false,func:false,data:false,rtl:false,show:function(s,t,x,y,d,p,rtl){$.vakata.context.rtl=!!rtl;var html=$.vakata.context.parse(s),h,w;if(!html){return;}
$.vakata.context.vis=true;$.vakata.context.tgt=t;$.vakata.context.par=p||t||null;$.vakata.context.data=d||null;$.vakata.context.cnt.html(html).css({"visibility":"hidden","display":"block","left":0,"top":0});if($.vakata.context.hide_on_mouseleave){$.vakata.context.cnt.one("mouseleave",function(e){$.vakata.context.hide();});}
h=$.vakata.context.cnt.height();w=$.vakata.context.cnt.width();if(x+w>$(document).width()){x=$(document).width()-(w+5);$.vakata.context.cnt.find("li > ul").addClass("right");}
if(y+h>$(document).height()){y=y-(h+t[0].offsetHeight);$.vakata.context.cnt.find("li > ul").addClass("bottom");}
$.vakata.context.cnt.css({"left":x,"top":y}).find("li:has(ul)").bind("mouseenter",function(e){var w=$(document).width(),h=$(document).height(),ul=$(this).children("ul").show();if(w!==$(document).width()){ul.toggleClass("right");}
if(h!==$(document).height()){ul.toggleClass("bottom");}}).bind("mouseleave",function(e){$(this).children("ul").hide();}).end().css({"visibility":"visible"}).show();$(document).triggerHandler("context_show.vakata");},hide:function(){$.vakata.context.vis=false;$.vakata.context.cnt.attr("class","").css({"visibility":"hidden"});$(document).triggerHandler("context_hide.vakata");},parse:function(s,is_callback){if(!s){return false;}
var str="",tmp=false,was_sep=true;if(!is_callback){$.vakata.context.func={};}
str+="<ul>";$.each(s,function(i,val){if(!val){return true;}
$.vakata.context.func[i]=val.action;if(!was_sep&&val.separator_before){str+="<li class='vakata-separator vakata-separator-before'></li>";}
was_sep=false;str+="<li class='"+(val._class||"")+(val._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";if(val.icon&&val.icon.indexOf("/")===-1){str+=" class='"+val.icon+"' ";}
if(val.icon&&val.icon.indexOf("/")!==-1){str+=" style='background:url("+val.icon+") center center no-repeat;' ";}
str+=">&#160;</ins><a href='#' rel='"+i+"'"+(typeof(val.id)!=="undefined"?" data-id='"+val.id+"'":'')+">";if(val.submenu){str+="<span style='float:"+($.vakata.context.rtl?"left":"right")+";'>&raquo;</span>";}
str+=val.label+"</a>";if(val.submenu){tmp=$.vakata.context.parse(val.submenu,true);if(tmp){str+=tmp;}}
str+="</li>";if(val.separator_after){str+="<li class='vakata-separator vakata-separator-after'></li>";was_sep=true;}});str=str.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");str+="</ul>";$(document).triggerHandler("context_parse.vakata");return str.length>10?str:false;},exec:function(i){if($.isFunction($.vakata.context.func[i])){$.vakata.context.func[i].call($.vakata.context.data,$.vakata.context.par);return true;}
else{return false;}}};$(function(){var css_string=''+'#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ffffff; border:1px solid silver; z-index:10000; *width:180px; } '+'#vakata-contextmenu ul { min-width:180px; *width:180px; } '+'#vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } '+'#vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } '+'#vakata-contextmenu li:hover { background: #e4f0fa; } '+'#vakata-contextmenu li a { padding: 6px; line-height:17px; display:block; text-decoration:none; margin: 0px; } '+'#vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } '+'#vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { /*background:gray; color:white;*/ } '+'#vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; /*background:#ebebeb;*/ border:1px solid silver; } '+'#vakata-contextmenu .right { right:100%; left:auto; } '+'#vakata-contextmenu .bottom { bottom:-1px; top:auto; } '+'#vakata-contextmenu li.vakata-separator, #vakata-contextmenu li ul li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin: 0px; background: #eeeeee; /* border-top:1px solid #fefefe; */ padding:0; } ';$.vakata.css.add_sheet({str:css_string,title:"vakata"});$.vakata.context.cnt.delegate("a","click",function(e){e.preventDefault();}).delegate("a","mouseup",function(e){if(!$(this).parent().hasClass("jstree-contextmenu-disabled")&&$.vakata.context.exec($(this).attr("rel"))){$.vakata.context.hide();}
else{$(this).blur();}}).delegate("a","mouseover",function(){$.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover");}).appendTo("body");$(document).bind("mousedown",function(e){if($.vakata.context.vis&&!$.contains($.vakata.context.cnt[0],e.target)){$.vakata.context.hide();}});if(typeof $.hotkeys!=="undefined"){$(document).bind("keydown","up",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();if(!o.length){o=$.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last();}
o.addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","down",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();if(!o.length){o=$.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first();}
o.addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","right",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","left",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","esc",function(e){$.vakata.context.hide();e.preventDefault();}).bind("keydown","space",function(e){$.vakata.context.cnt.find(".vakata-hover").last().children("a").click();e.preventDefault();});}});$.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",$.proxy(function(e){e.preventDefault();if(!$(e.currentTarget).hasClass("jstree-loading")){this.show_contextmenu(e.currentTarget,e.pageX,e.pageY);}},this)).bind("destroy.jstree",$.proxy(function(){if(this.data.contextmenu){$.vakata.context.hide();}},this));$(document).bind("context_hide.vakata",$.proxy(function(){this.data.contextmenu=false;},this));},defaults:{select_node:false,show_at_node:true,items:function(o,cb){return{"create":{"separator_before":false,"separator_after":true,"label":"Create","action":function(obj){this.create(obj);}},"rename":{"separator_before":false,"separator_after":false,"label":"Rename","action":function(obj){this.rename(obj);}},"remove":{"separator_before":false,"icon":false,"separator_after":false,"label":"Delete","action":function(obj){if(this.is_selected(obj)){this.remove();}else{this.remove(obj);}}},"ccp":{"separator_before":true,"icon":false,"separator_after":false,"label":"Edit","action":false,"submenu":{"cut":{"separator_before":false,"separator_after":false,"label":"Cut","action":function(obj){this.cut(obj);}},"copy":{"separator_before":false,"icon":false,"separator_after":false,"label":"Copy","action":function(obj){this.copy(obj);}},"paste":{"separator_before":false,"icon":false,"separator_after":false,"label":"Paste","action":function(obj){this.paste(obj);}}}}};}},_fn:{show_contextmenu:function(obj,x,y){obj=this._get_node(obj);var s=this.get_settings().contextmenu,a=obj.children("a:visible:eq(0)"),o=false,i=false;if(s.select_node&&this.data.ui&&!this.is_selected(obj)){this.deselect_all();this.select_node(obj,true);}
if(s.show_at_node||typeof x==="undefined"||typeof y==="undefined"){o=a.offset();x=o.left;y=o.top+this.data.core.li_height;}
i=obj.data("jstree")&&obj.data("jstree").contextmenu?obj.data("jstree").contextmenu:s.items;if($.isFunction(i)){i=i.call(this,obj);}
this.data.contextmenu=true;$.vakata.context.show(i,a,x,y,this,obj,this._get_settings().core.rtl);if(this.data.themes){$.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context");}}}});})(jQuery);(function($){$.jstree.plugin("types",{__init:function(){var s=this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",$.proxy(function(){var types=s.types,attr=s.type_attr,icons_css="",_this=this;$.each(types,function(i,tp){$.each(tp,function(k,v){if(!/^(max_depth|max_children|icon|valid_children)$/.test(k)){_this.data.types.attach_to.push(k);}});if(!tp.icon){return true;}
if(tp.icon.image||tp.icon.position){if(i=="default"){icons_css+='.jstree-'+_this.get_index()+' a > .jstree-icon { ';}
else{icons_css+='.jstree-'+_this.get_index()+' li['+attr+'="'+i+'"] > a > .jstree-icon { ';}
if(tp.icon.image){icons_css+=' background-image:url('+tp.icon.image+'); ';}
if(tp.icon.position){icons_css+=' background-position:'+tp.icon.position+'; ';}
else{icons_css+=' background-position:0 0; ';}
icons_css+='} ';}});if(icons_css!==""){$.vakata.css.add_sheet({'str':icons_css,title:"jstree-types"});}},this)).bind("before.jstree",$.proxy(function(e,data){var s,t,o=this._get_settings().types.use_data?this._get_node(data.args[0]):false,d=o&&o!==-1&&o.length?o.data("jstree"):false;if(d&&d.types&&d.types[data.func]===false){e.stopImmediatePropagation();return false;}
if($.inArray(data.func,this.data.types.attach_to)!==-1){if(!data.args[0]||(!data.args[0].tagName&&!data.args[0].jquery)){return;}
s=this._get_settings().types.types;t=this._get_type(data.args[0]);if(((s[t]&&typeof s[t][data.func]!=="undefined")||(s["default"]&&typeof s["default"][data.func]!=="undefined"))&&this._check(data.func,data.args[0])===false){e.stopImmediatePropagation();return false;}}},this));if(is_ie6){this.get_container().bind("load_node.jstree set_type.jstree",$.proxy(function(e,data){var r=data&&data.rslt&&data.rslt.obj&&data.rslt.obj!==-1?this._get_node(data.rslt.obj).parent():this.get_container_ul(),c=false,s=this._get_settings().types;$.each(s.types,function(i,tp){if(tp.icon&&(tp.icon.image||tp.icon.position)){c=i==="default"?r.find("li > a > .jstree-icon"):r.find("li["+s.type_attr+"='"+i+"'] > a > .jstree-icon");if(tp.icon.image){c.css("backgroundImage","url("+tp.icon.image+")");}
c.css("backgroundPosition",tp.icon.position||"0 0");}});},this));}},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:false,type_attr:"rel",types:{"default":{"max_children":-1,"max_depth":-1,"valid_children":"all"}}},_fn:{_types_notify:function(n,data){if(data.type&&this._get_settings().types.use_data){this.set_type(data.type,n);}},_get_type:function(obj){obj=this._get_node(obj);return(!obj||!obj.length)?false:obj.attr(this._get_settings().types.type_attr)||"default";},set_type:function(str,obj){obj=this._get_node(obj);var ret=(!obj.length||!str)?false:obj.attr(this._get_settings().types.type_attr,str);if(ret){this.__callback({obj:obj,type:str});}
return ret;},_check:function(rule,obj,opts){obj=this._get_node(obj);var v=false,t=this._get_type(obj),d=0,_this=this,s=this._get_settings().types,data=false;if(obj===-1){if(!!s[rule]){v=s[rule];}
else{return;}}
else{if(t===false){return;}
data=s.use_data?obj.data("jstree"):false;if(data&&data.types&&typeof data.types[rule]!=="undefined"){v=data.types[rule];}
else if(!!s.types[t]&&typeof s.types[t][rule]!=="undefined"){v=s.types[t][rule];}
else if(!!s.types["default"]&&typeof s.types["default"][rule]!=="undefined"){v=s.types["default"][rule];}}
if($.isFunction(v)){v=v.call(this,obj);}
if(rule==="max_depth"&&obj!==-1&&opts!==false&&s.max_depth!==-2&&v!==0){obj.children("a:eq(0)").parentsUntil(".jstree","li").each(function(i){if(s.max_depth!==-1&&s.max_depth-(i+1)<=0){v=0;return false;}
d=(i===0)?v:_this._check(rule,this,false);if(d!==-1&&d-(i+1)<=0){v=0;return false;}
if(d>=0&&(d-(i+1)<v||v<0)){v=d-(i+1);}
if(s.max_depth>=0&&(s.max_depth-(i+1)<v||v<0)){v=s.max_depth-(i+1);}});}
return v;},check_move:function(){if(!this.__call_old()){return false;}
var m=this._get_move(),s=m.rt._get_settings().types,mc=m.rt._check("max_children",m.cr),md=m.rt._check("max_depth",m.cr),vc=m.rt._check("valid_children",m.cr),ch=0,d=1,t;if(vc==="none"){return false;}
if($.isArray(vc)&&m.ot&&m.ot._get_type){m.o.each(function(){if($.inArray(m.ot._get_type(this),vc)===-1){d=false;return false;}});if(d===false){return false;}}
if(s.max_children!==-2&&mc!==-1){ch=m.cr===-1?this.get_container().find("> ul > li").not(m.o).length:m.cr.find("> ul > li").not(m.o).length;if(ch+m.o.length>mc){return false;}}
if(s.max_depth!==-2&&md!==-1){d=0;if(md===0){return false;}
if(typeof m.o.d==="undefined"){t=m.o;while(t.length>0){t=t.find("> ul > li");d++;}
m.o.d=d;}
if(md-m.o.d<0){return false;}}
return true;},create_node:function(obj,position,js,callback,is_loaded,skip_check){if(!skip_check&&(is_loaded||this._is_loaded(obj))){var p=(typeof position=="string"&&position.match(/^before|after$/i)&&obj!==-1)?this._get_parent(obj):this._get_node(obj),s=this._get_settings().types,mc=this._check("max_children",p),md=this._check("max_depth",p),vc=this._check("valid_children",p),ch;if(typeof js==="string"){js={data:js};}
if(!js){js={};}
if(vc==="none"){return false;}
if($.isArray(vc)){if(!js.attr||!js.attr[s.type_attr]){if(!js.attr){js.attr={};}
js.attr[s.type_attr]=vc[0];}
else{if($.inArray(js.attr[s.type_attr],vc)===-1){return false;}}}
if(s.max_children!==-2&&mc!==-1){ch=p===-1?this.get_container().find("> ul > li").length:p.find("> ul > li").length;if(ch+1>mc){return false;}}
if(s.max_depth!==-2&&md!==-1&&(md-1)<0){return false;}}
return this.__call_old(true,obj,position,js,callback,is_loaded,skip_check);}}});})(jQuery);(function($){$.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(true);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3;}).remove();},defaults:{data:false,ajax:false,correct_state:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_html(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){obj=this._get_node(obj);return obj==-1||!obj||(!this._get_settings().html_data.ajax&&!$.isFunction(this._get_settings().html_data.data))||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").size()>0;},load_node_html:function(obj,s_call,e_call){var d,s=this.get_settings().html_data,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1){if(obj.data("jstree_is_loading")){return;}
else{obj.data("jstree_is_loading",true);}}
switch(!0){case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){if(d&&d!==""&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")!==""){d=$(d);if(!d.is("ul")){d=$("<ul />").append(d);}
if(obj==-1||!obj){this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}},this));break;case(!s.data&&!s.ajax):if(!obj||obj==-1){this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node();}
if(s_call){s_call.call(this);}
break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){d=$(s.data);if(!d.is("ul")){d=$("<ul />").append(d);}
this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node();}
if(s_call){s_call.call(this);}
break;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):obj=this._get_node(obj);error_func=function(x,t,e){var ef=this.get_settings().html_data.ajax.error;if(ef){ef.call(this,x,t,e);}
if(obj!=-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state){this.correct_state(obj);}}
else{if(t==="success"&&s.correct_state){this.get_container().children("ul").empty();}}
if(e_call){e_call.call(this);}};success_func=function(d,t,x){var sf=this.get_settings().html_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
if(d===""||(d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")){return error_func.call(this,x,t,"");}
if(d){d=$(d);if(!d.is("ul")){d=$("<ul />").append(d);}
if(obj==-1||!obj){this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType="html";}
if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}
$.ajax(s.ajax);break;}}}});$.jstree.defaults.plugins.push("html_data");})(jQuery);(function($){$.jstree.plugin("themeroller",{__init:function(){var s=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(e){if(!$(e.currentTarget).hasClass("jstree-loading")){$(this).addClass(s.item_h);}}).delegate("a","mouseleave.jstree",function(){$(this).removeClass(s.item_h);}).bind("init.jstree",$.proxy(function(e,data){data.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh");this._themeroller(data.inst.get_container().find("> ul > li"));},this)).bind("open_node.jstree create_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.obj);},this)).bind("loaded.jstree refresh.jstree",$.proxy(function(e){this._themeroller();},this)).bind("close_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.obj);},this)).bind("delete_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.parent);},this)).bind("correct_state.jstree",$.proxy(function(e,data){data.rslt.obj.children("ins.jstree-icon").removeClass(s.opened+" "+s.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_open+" "+s.item_clsd).addClass(s.item_leaf||"jstree-no-icon");},this)).bind("select_node.jstree",$.proxy(function(e,data){data.rslt.obj.children("a").addClass(s.item_a);},this)).bind("deselect_node.jstree deselect_all.jstree",$.proxy(function(e,data){this.get_container().find("a."+s.item_a).removeClass(s.item_a).end().find("a.jstree-clicked").addClass(s.item_a);},this)).bind("dehover_node.jstree",$.proxy(function(e,data){data.rslt.obj.children("a").removeClass(s.item_h);},this)).bind("hover_node.jstree",$.proxy(function(e,data){this.get_container().find("a."+s.item_h).not(data.rslt.obj).removeClass(s.item_h);data.rslt.obj.children("a").addClass(s.item_h);},this)).bind("move_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.o);this._themeroller(data.rslt.op);},this));},__destroy:function(){var s=this._get_settings().themeroller,c=["ui-icon"];$.each(s,function(i,v){v=v.split(" ");if(v.length){c=c.concat(v);}});this.get_container().removeClass("ui-widget-content").find("."+c.join(", .")).removeClass(c.join(" "));},_fn:{_themeroller:function(obj){var s=this._get_settings().themeroller;obj=!obj||obj==-1?this.get_container_ul():this._get_node(obj).parent();obj.find("li.jstree-closed").children("ins.jstree-icon").removeClass(s.opened).addClass("ui-icon "+s.closed).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_leaf+" "+s.item_open).addClass(s.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(s.closed).addClass("ui-icon "+s.opened).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_leaf+" "+s.item_clsd).addClass(s.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(s.closed+" ui-icon "+s.opened).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_clsd+" "+s.item_open).addClass(s.item_leaf||"jstree-no-icon");}},defaults:{"opened":"ui-icon-triangle-1-se","closed":"ui-icon-triangle-1-e","item":"ui-state-default","item_h":"ui-state-hover","item_a":"ui-state-active","item_open":"ui-icon-folder-open","item_clsd":"ui-icon-folder-collapsed","item_leaf":"ui-icon-document"}});$(function(){var css_string=''+'.jstree-themeroller .ui-icon { overflow:visible; } '+'.jstree-themeroller a { padding:0 2px; } '+'.jstree-themeroller .jstree-no-icon { display:none; }';$.vakata.css.add_sheet({str:css_string,title:"jstree"});});})(jQuery);(function($){$.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",$.proxy(function(e,data){var nms=[],res=true,p,t;if(data.func=="move_node"){if(data.args[4]===true){if(data.args[0].o&&data.args[0].o.length){data.args[0].o.children("a").each(function(){nms.push($(this).text().replace(/^\s+/g,""));});res=this._check_unique(nms,data.args[0].np.find("> ul > li").not(data.args[0].o),"move_node");}}}
if(data.func=="create_node"){if(data.args[4]||this._is_loaded(data.args[0])){p=this._get_node(data.args[0]);if(data.args[1]&&(data.args[1]==="before"||data.args[1]==="after")){p=this._get_parent(data.args[0]);if(!p||p===-1){p=this.get_container();}}
if(typeof data.args[2]==="string"){nms.push(data.args[2]);}
else if(!data.args[2]||!data.args[2].data){nms.push(this._get_string("new_node"));}
else{nms.push(data.args[2].data);}
res=this._check_unique(nms,p.find("> ul > li"),"create_node");}}
if(data.func=="rename_node"){nms.push(data.args[1]);t=this._get_node(data.args[0]);p=this._get_parent(t);if(!p||p===-1){p=this.get_container();}
res=this._check_unique(nms,p.find("> ul > li").not(t),"rename_node");}
if(!res){e.stopPropagation();return false;}},this));},defaults:{error_callback:$.noop},_fn:{_check_unique:function(nms,p,func){var cnms=[];p.children("a").each(function(){cnms.push($(this).text().replace(/^\s+/g,""));});if(!cnms.length||!nms.length){return true;}
cnms=cnms.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");if((cnms.length+nms.length)!=cnms.concat(nms).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length){this._get_settings().unique.error_callback.call(null,nms,p,func);return false;}
return true;},check_move:function(){if(!this.__call_old()){return false;}
var p=this._get_move(),nms=[];if(p.o&&p.o.length){p.o.children("a").each(function(){nms.push($(this).text().replace(/^\s+/g,""));});return this._check_unique(nms,p.np.find("> ul > li").not(p.o),"check_move");}
return true;}}});})(jQuery);(function($){$.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui){throw"jsTree wholerow: jsTree UI plugin not included.";}
this.data.wholerow.html=false;this.data.wholerow.to=false;this.get_container().bind("init.jstree",$.proxy(function(e,data){this._get_settings().core.animation=0;},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",$.proxy(function(e,data){this._prepare_wholerow_span(data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1);},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",$.proxy(function(e,data){if(this.data.to){clearTimeout(this.data.to);}
this.data.to=setTimeout((function(t,o){return function(){t._prepare_wholerow_ul(o);};})(this,data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1),0);},this)).bind("deselect_all.jstree",$.proxy(function(e,data){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""));},this)).bind("select_node.jstree deselect_node.jstree ",$.proxy(function(e,data){data.rslt.obj.each(function(){var ref=data.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+(parseInt((($(this).offset().top-data.inst.get_container().offset().top+data.inst.get_container()[0].scrollTop)/ data.inst.data.core.li_height),10))+")");ref.children("a").attr("class",data.rslt.obj.children("a").attr("class"));});},this)).bind("hover_node.jstree dehover_node.jstree",$.proxy(function(e,data){this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));if(e.type==="hover_node"){var ref=this.get_container().find(" > .jstree-wholerow li:visible:eq("+(parseInt(((data.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/ this.data.core.li_height),10))+")");ref.children("a").attr("class",data.rslt.obj.children(".jstree-hovered").attr("class"));}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(e){var n=$(e.currentTarget);if(e.target.tagName==="A"||(e.target.tagName==="INS"&&n.closest("li").is(".jstree-open, .jstree-closed"))){return;}
n.closest("li").children("a:visible:eq(0)").click();e.stopImmediatePropagation();}).delegate("li","mouseover.jstree",$.proxy(function(e){e.stopImmediatePropagation();if($(e.currentTarget).children(".jstree-hovered, .jstree-clicked").length){return false;}
this.hover_node(e.currentTarget);return false;},this)).delegate("li","mouseleave.jstree",$.proxy(function(e){if($(e.currentTarget).children("a").hasClass("jstree-hovered").length){return;}
this.dehover_node(e.currentTarget);},this));if(is_ie7||is_ie6){$.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"});}},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();this.get_container().find(".jstree-wholerow-span").remove();},_fn:{_prepare_wholerow_span:function(obj){obj=!obj||obj==-1?this.get_container().find("> ul > li"):this._get_node(obj);if(obj===false){return;}
obj.each(function(){$(this).find("li").andSelf().each(function(){var $t=$(this);if($t.children(".jstree-wholerow-span").length){return true;}
$t.prepend("<span class='jstree-wholerow-span' style='width:"+($t.parentsUntil(".jstree","li").length*18)+"px;'>&#160;</span>");});});},_prepare_wholerow_ul:function(){var o=this.get_container().children("ul").eq(0),h=o.html();o.addClass("jstree-wholerow-real");if(this.data.wholerow.last_html!==h){this.data.wholerow.last_html=h;this.get_container().children(".jstree-wholerow").remove();this.get_container().append(o.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(o.parent()[0].scrollWidth).css("top",(o.height()+(is_ie7?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id");}).end());}}}});$(function(){var css_string=''+'.jstree .jstree-wholerow-real { position:relative; z-index:1; } '+'.jstree .jstree-wholerow-real li { cursor:pointer; } '+'.jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } '+'.jstree .jstree-wholerow { position:relative; z-index:0; height:0; } '+'.jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } '+'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } '+'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }'+'.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }'+'.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } '+'.jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }';if(is_ff2){css_string+=''+'.jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } '+'.jstree .jstree-wholerow-real a { border-color:transparent !important; } ';}
if(is_ie7||is_ie6){css_string+=''+'.jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } '+'.jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ';}
$.vakata.css.add_sheet({str:css_string,title:"jstree"});});})(jQuery);(function($){var nodeInterface=["getChildren","getChildrenCount","getAttr","getName","getProps"],validateInterface=function(obj,inter){var valid=true;obj=obj||{};inter=[].concat(inter);$.each(inter,function(i,v){if(!$.isFunction(obj[v])){valid=false;return false;}});return valid;};$.jstree.plugin("model",{__init:function(){if(!this.data.json_data){throw"jsTree model: jsTree json_data plugin not included.";}
this._get_settings().json_data.data=function(n,b){var obj=(n==-1)?this._get_settings().model.object:n.data("jstree_model");if(!validateInterface(obj,nodeInterface)){return b.call(null,false);}
if(this._get_settings().model.async){obj.getChildren($.proxy(function(data){this.model_done(data,b);},this));}
else{this.model_done(obj.getChildren(),b);}};},defaults:{object:false,id_prefix:false,async:false},_fn:{model_done:function(data,callback){var ret=[],s=this._get_settings(),_this=this;if(!$.isArray(data)){data=[data];}
$.each(data,function(i,nd){var r=nd.getProps()||{};r.attr=nd.getAttr()||{};if(nd.getChildrenCount()){r.state="closed";}
r.data=nd.getName();if(!$.isArray(r.data)){r.data=[r.data];}
if(_this.data.types&&$.isFunction(nd.getType)){r.attr[s.types.type_attr]=nd.getType();}
if(r.attr.id&&s.model.id_prefix){r.attr.id=s.model.id_prefix+r.attr.id;}
if(!r.metadata){r.metadata={};}
r.metadata.jstree_model=nd;ret.push(r);});callback.call(null,ret);}}});})(jQuery);})();
/* End of File include/javascript/jquery/jquery.jstree.js */

(function($){$.jstree.plugin('state',{__init:function(){this.get_container().one((this.data.ui?'reselect':'reopen')+'.jstree',$.proxy(function(){this.get_container().bind('open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree',$.proxy(function(e){if(this._get_settings().state.auto_save){this.save_state((e.handleObj.namespace+e.handleObj.type).replace('jstree',''));}},this));},this));},defaults:{save_loaded:'jstree_load',save_opened:'jstree_open',save_selected:'jstree_select',auto_save:true,options:{},storage:$.cookie},_fn:{save_state:function(event){if(this.data.core.refreshing){return;}
var s=this._get_settings().state;if(!event){if(s.save_loaded){this.save_loaded();s.storage(s.save_loaded,this.data.core.to_load.join(','),s.options);}
if(s.save_opened){this.save_opened();s.storage(s.save_opened,this.data.core.to_open.join(','),s.options);}
if(s.save_selected&&this.data.ui){this.save_selected();s.storage(s.save_selected,this.data.ui.to_select.join(','),s.options);}
return;}
switch(event){case'open_node':case'close_node':if(!!s.save_opened){this.save_opened();s.storage(s.save_opened,this.data.core.to_open.join(','),s.options);}
if(!!s.save_loaded){this.save_loaded();s.storage(s.save_loaded,this.data.core.to_load.join(','),s.options);}
break;case'select_node':case'deselect_node':if(!!s.save_selected&&this.data.ui){this.save_selected();s.storage(s.save_selected,this.data.ui.to_select.join(','),s.options);}
break;}},load_state:function(){var s=this._get_settings().state,tmp,rslt={load:[],open:[],select:[]};if(!!s.save_loaded){tmp=s.storage(s.save_loaded);if(tmp&&tmp.length){this.data.core.to_load=tmp.split(',');rslt.load=this.data.core.to_load;this.reload_nodes(false);}}
if(!!s.save_opened){tmp=s.storage(s.save_opened);if(tmp&&tmp.length){this.data.core.to_open=tmp.split(',');rslt.open=this.data.core.to_open;this.reopen();}}
if(!!s.save_selected){tmp=s.storage(s.save_selected);if(tmp&&tmp.length&&this.data.ui){this.data.ui.to_select=tmp.split(',');rslt.select=this.data.core.to_select;this.reselect();}}
$.each(rslt,function(rsltInd,rsltValue){$.each(rsltValue,function(ind,value){rslt[rsltInd][ind]=value.replace('#','');});});this.__callback(rslt);}}});})(jQuery);
/* End of File include/javascript/jquery/jstree.state.js */

!function($){"use strict"
var PopoverExt=function(element,options){this.init('popoverext',element,options);}
PopoverExt.prototype=$.extend({},$.fn.popover.Constructor.prototype,{constructor:PopoverExt,init:function(type,element,options){var eventIn,eventOut;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.enabled=true;if(this.options.trigger!='manual'){eventIn=this.options.trigger=='hover'?'mouseenter':'focus';eventOut=this.options.trigger=='hover'?'mouseleave':'blur';this.$element.on(eventIn,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut,this.options.selector,$.proxy(this.leave,this));}
var $tip=this.tip();this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle();},setContent:function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent(),footer=this.getFooter();$tip.find('.popover-title')[$.type(title)=='object'?'append':'html'](title);$tip.find('.popover-content > *')[$.type(content)=='object'?'append':'html'](content);$tip.find('.popover-footer')[$.type(footer)=='object'?'append':'html'](footer);$tip.removeClass('fade top bottom left right in');},hasContent:function(){return this.getTitle()||this.getContent();},setId:function(){var $tip;if(this.options.id){$tip=this.tip();$tip.attr("id",this.$element.attr("id")+"Popover");}},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp;if(this.hasContent()&&this.enabled){$tip=this.tip();this.setContent();this.setId();if(this.options.animation){$tip.addClass('fade');}
placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;inside=/in/.test(placement);$tip.remove().css({top:0,left:0,display:'block'}).appendTo(inside?this.$element:document.body);if(this.options.hideOnBlur){$tip.attr("tabindex","-1").on("blur",$.proxy(this.hide,this)).trigger("focus");}
pos=this.getPosition(inside);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight;switch(inside?placement.split(' ')[1]:placement){case'bottom':tp={top:pos.top+pos.height+this.options.topOffset,left:pos.left+pos.width / 2-actualWidth / 2};break;case'bottom left':tp={top:pos.top+pos.height+this.options.topOffset,left:pos.left+this.options.leftOffset};break;case'bottom right':tp={top:pos.top+pos.height+this.options.topOffset,left:(pos.left+pos.width)-actualWidth-this.options.leftOffset};break;case'top':tp={top:pos.top-actualHeight+this.options.topOffset,left:pos.left+(pos.width / 2-actualWidth / 2)+this.options.leftOffset};break;case'top right':tp={top:pos.top-actualHeight+this.options.topOffset,left:(pos.left+pos.width)-actualWidth-this.options.leftOffset};break;case'top left':tp={top:pos.top-actualHeight+this.options.topOffset,left:pos.left+this.options.leftOffset};break;case'left':tp={top:pos.top+pos.height / 2-actualHeight / 2,left:pos.left-actualWidth};break;case'right':tp={top:pos.top+pos.height / 2-actualHeight / 2,left:pos.left+pos.width};break;}
$tip.css(tp).addClass(placement).addClass('in');if(this.options.fixed==true){$tip.css("position","fixed");}}
this.options.onShow();},getFooter:function(){var footer,$e=this.$element,o=this.options;footer=$e.attr('data-footer')||(typeof o.content=='function'?o.footer.call($e[0]):o.footer);footer=footer.toString().replace(/(^\s*|\s*$)/,"");return footer;}})
$.fn.popoverext=function(option){return this.each(function(){var $this=$(this),data=$this.data('popoverext'),options=typeof option=='object'&&option;if(!data)$this.data('popoverext',(data=new PopoverExt(this,options)))
if(typeof option=='string')data[option]();})}
$.fn.popoverext.Constructor=PopoverExt
$.fn.popoverext.defaults=$.extend({},$.fn.popover.defaults,{fixed:false,template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div><div class="popover-footer"></div></div></div>',id:false,footer:'',onShow:$.empty,leftOffset:0,topOffset:0,hideOnBlur:false})}(window.jQuery);
/* End of File include/javascript/jquery/jquery.popoverext.js */

(function($){$.fn.noUiSlider=function(method,options){function neg(a){return a<0;}
function abs(a){return Math.abs(a);}
function roundTo(a,b){return Math.round(a / b)*b;}
function dup(a){return jQuery.extend(true,{},a);}
var defaults,methods,helpers,options=options||[],functions,touch=('ontouchstart'in document.documentElement);defaults={'handles':2,'connect':true,'scale':[0,100],'start':[25,75],'to':0,'handle':0,'change':'','end':'','step':false,'save':false,'click':true};helpers={scale:function(a,b,c){var d=b[0],e=b[1];if(neg(d)){a=a+abs(d);e=e+abs(d);}else{a=a-d;e=e-d;}
return(a*c)/e;},deScale:function(a,b,c){var d=b[0],e=b[1];e=neg(d)?e+abs(d):e-d;return((a*e)/c)+d;},connect:function(api){if(api.connect){if(api.handles.length>1){api.connect.css({'left':api.low.left(),'right':(api.slider.innerWidth()-api.up.left())});}else{api.low?api.connect.css({'left':api.low.left(),'right':0}):api.connect.css({'left':0,'right':(api.slider.innerWidth()-api.up.left())});}}},left:function(){return parseFloat($(this).css('left'));},call:function(f,t,n){if(typeof(f)=="function"){f.call(t,n)}},bounce:function(api,n,c,handle){var go=false;if(handle.is(api.up)){if(api.low&&n<api.low.left()){n=api.low.left();go=true;}}else{if(api.up&&n>api.up.left()){n=api.up.left();go=true;}}
if(n>api.slider.innerWidth()){n=api.slider.innerWidth()
go=true;}else if(n<0){n=0;go=true;}
return[n,go];}};methods={init:function(){return this.each(function(){var s,slider,api;slider=$(this).css('position','relative');api=new Object();api.options=$.extend(defaults,options);s=api.options;typeof s.start=='object'?1:s.start=[s.start];api.slider=slider;api.low=$('<div class="noUi-handle noUi-lowerHandle"><div></div></div>');api.up=$('<div class="noUi-handle noUi-upperHandle"><div></div></div>');api.connect=$('<div class="noUi-midBar"></div>');s.connect?api.connect.appendTo(api.slider):api.connect=false;if(s.knobs){s.handles=s.knobs;}
if(s.handles===1){if(s.connect===true||s.connect==='lower'){api.low=false;api.up=api.up.appendTo(api.slider);api.handles=[api.up];}else if(s.connect==='upper'||!s.connect){api.low=api.low.prependTo(api.slider);api.up=false;api.handles=[api.low];}}else{api.low=api.low.prependTo(api.slider);api.up=api.up.appendTo(api.slider);api.handles=[api.low,api.up];}
if(api.low){api.low.left=helpers.left;}
if(api.up){api.up.left=helpers.left;}
api.slider.children().css('position','absolute');$.each(api.handles,function(index){$(this).css({'left':helpers.scale(s.start[index],api.options.scale,api.slider.innerWidth()),'zIndex':index+1}).children().bind(touch?'touchstart.noUi':'mousedown.noUi',functions.start);});if(s.click){api.slider.click(functions.click).find('*:not(.noUi-midBar)').click(functions.flse);}
helpers.connect(api);api.options=s;api.slider.data('api',api);});},move:function(){var api,bounce,to,handle,scale;api=dup($(this).data('api'));api.options=$.extend(api.options,options);if(api.options.knob){api.options.handle=api.options.knob;}
handle=api.options.handle;handle=api.handles[handle=='lower'||handle==0||typeof handle=='undefined'?0:1];bounce=helpers.bounce(api,helpers.scale(api.options.to,api.options.scale,api.slider.innerWidth()),handle.left(),handle);handle.css('left',bounce[0]);if((handle.is(api.up)&&handle.left()==0)||(handle.is(api.low)&&handle.left()==api.slider.innerWidth())){handle.css('zIndex',parseInt(handle.css('zIndex'))+2);}
if(options.save===true){api.options.scale=options.scale;$(this).data('api',api);}
helpers.connect(api);helpers.call(api.options.change,api.slider,'move');helpers.call(api.options.end,api.slider,'move');},value:function(){var val1,val2,api;api=dup($(this).data('api'));api.options=$.extend(api.options,options);val1=api.low?Math.round(helpers.deScale(api.low.left(),api.options.scale,api.slider.innerWidth())):false;val2=api.up?Math.round(helpers.deScale(api.up.left(),api.options.scale,api.slider.innerWidth())):false;if(options.save){api.options.scale=options.scale;$(this).data('api',api);}
return[val1,val2];},api:function(){return $(this).data('api');},disable:function(){return this.each(function(){$(this).addClass('disabled');});},enable:function(){return this.each(function(){$(this).removeClass('disabled');});}},functions={start:function(e){if(!$(this).parent().parent().hasClass('disabled')){e.preventDefault();$('body').bind('selectstart.noUi',functions.flse);$(this).addClass('noUi-activeHandle');$(document).bind(touch?'touchmove.noUi':'mousemove.noUi',functions.move);touch?$(this).bind('touchend.noUi',functions.end):$(document).bind('mouseup.noUi',functions.end);}},move:function(e){var a,b,h,api,go=false,handle,bounce;h=$('.noUi-activeHandle');api=h.parent().parent().data('api');handle=h.parent().is(api.low)?api.low:api.up;a=e.pageX-Math.round(api.slider.offset().left);if(isNaN(a)){a=e.originalEvent.touches[0].pageX-Math.round(api.slider.offset().left);}
b=handle.left();bounce=helpers.bounce(api,a,b,handle);a=bounce[0];go=bounce[1];if(api.options.step&&!go){var v1=api.options.scale[0];var v2=api.options.scale[1];if(neg(v2)){v2=abs(v1-v2);}
var con=helpers.scale(api.options.step,[0,v2+abs(v1)],api.slider.innerWidth());if(Math.abs(b-a)>=con){a=a<b?b-con:b+con;go=true;}}else{go=true;}
if(a===b){go=false;}
if(go){handle.css('left',a);if((handle.is(api.up)&&handle.left()==0)||(handle.is(api.low)&&handle.left()==api.slider.innerWidth())){handle.css('zIndex',parseInt(handle.css('zIndex'))+2);}
helpers.connect(api);helpers.call(api.options.change,api.slider,'slide');}},end:function(){var h,api;h=$('.noUi-activeHandle');api=h.parent().parent().data('api');$(document).add('body').add(h.removeClass('noUi-activeHandle').parent()).unbind('.noUi');helpers.call(api.options.end,api.slider,'slide');},click:function(e){if(!$(this).hasClass('disabled')){var api=$(this).data('api');var s=api.options;var c=e.pageX-api.slider.offset().left;c=s.step?roundTo(c,helpers.scale(s.step,s.scale,api.slider.innerWidth())):c;if(api.low&&api.up){c<((api.low.left()+api.up.left())/2)?api.low.css("left",c):api.up.css("left",c);}else{api.handles[0].css('left',c);}
helpers.connect(api);helpers.call(s.change,api.slider,'click');helpers.call(s.end,api.slider,'click');}},flse:function(){return false;}}
if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('No such method: '+method);}};})(jQuery);
/* End of File include/javascript/jquery/jquery.nouislider.js */

/*! NProgress (c) 2013, Rico Sta. Cruz
 *  http://ricostacruz.com/nprogress */;(function(factory){if(typeof module==='function'){module.exports=factory();}else if(typeof define==='function'&&define.amd){define(factory);}else{this.NProgress=factory();}})(function(){var NProgress={};NProgress.version='0.1.3';var Settings=NProgress.settings={minimum:0.08,easing:'ease',positionUsing:'',speed:200,trickle:true,trickleRate:0.02,trickleSpeed:800,showSpinner:true,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};NProgress.configure=function(options){var key,value;for(key in options){value=options[key];if(value!==undefined&&options.hasOwnProperty(key))Settings[key]=value;}
return this;};NProgress.status=null;NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1);NProgress.status=(n===1?null:n);var progress=NProgress.render(!started),bar=progress.querySelector(Settings.barSelector),speed=Settings.speed,ease=Settings.easing;progress.offsetWidth;queue(function(next){if(Settings.positionUsing==='')Settings.positionUsing=NProgress.getPositioningCSS();css(bar,barPositionCSS(n,speed,ease));if(n===1){css(progress,{transition:'none',opacity:1});progress.offsetWidth;setTimeout(function(){css(progress,{transition:'all '+speed+'ms linear',opacity:0});setTimeout(function(){NProgress.remove();next();},speed);},speed);}else{setTimeout(next,speed);}});return this;};NProgress.isStarted=function(){return typeof NProgress.status==='number';};NProgress.start=function(){if(!NProgress.status)NProgress.set(0);var work=function(){setTimeout(function(){if(!NProgress.status)return;NProgress.trickle();work();},Settings.trickleSpeed);};if(Settings.trickle)work();return this;};NProgress.done=function(force){if(!force&&!NProgress.status)return this;return NProgress.inc(0.3+0.5*Math.random()).set(1);};NProgress.inc=function(amount){var n=NProgress.status;if(!n){return NProgress.start();}else{if(typeof amount!=='number'){amount=(1-n)*clamp(Math.random()*n,0.1,0.95);}
n=clamp(n+amount,0,0.994);return NProgress.set(n);}};NProgress.trickle=function(){return NProgress.inc(Math.random()*Settings.trickleRate);};(function(){var initial=0,current=0;NProgress.promise=function($promise){if(!$promise||$promise.state()=="resolved"){return this;}
if(current==0){NProgress.start();}
initial++;current++;$promise.always(function(){current--;if(current==0){initial=0;NProgress.done();}else{NProgress.set((initial-current)/ initial);}});return this;};})();NProgress.render=function(fromStart){if(NProgress.isRendered())return document.getElementById('nprogress');addClass(document.documentElement,'nprogress-busy');var progress=document.createElement('div');progress.id='nprogress';progress.innerHTML=Settings.template;var bar=progress.querySelector(Settings.barSelector),perc=fromStart?'-100':toBarPerc(NProgress.status||0),spinner;css(bar,{transition:'all 0 linear',transform:'translate3d('+perc+'%,0,0)'});if(!Settings.showSpinner){spinner=progress.querySelector(Settings.spinnerSelector);spinner&&removeElement(spinner);}
document.body.appendChild(progress);return progress;};NProgress.remove=function(){removeClass(document.documentElement,'nprogress-busy');var progress=document.getElementById('nprogress');progress&&removeElement(progress);};NProgress.isRendered=function(){return!!document.getElementById('nprogress');};NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style;var vendorPrefix=('WebkitTransform'in bodyStyle)?'Webkit':('MozTransform'in bodyStyle)?'Moz':('msTransform'in bodyStyle)?'ms':('OTransform'in bodyStyle)?'O':'';if(vendorPrefix+'Perspective'in bodyStyle){return'translate3d';}else if(vendorPrefix+'Transform'in bodyStyle){return'translate';}else{return'margin';}};function clamp(n,min,max){if(n<min)return min;if(n>max)return max;return n;}
function toBarPerc(n){return(-1+n)*100;}
function barPositionCSS(n,speed,ease){var barCSS;if(Settings.positionUsing==='translate3d'){barCSS={transform:'translate3d('+toBarPerc(n)+'%,0,0)'};}else if(Settings.positionUsing==='translate'){barCSS={transform:'translate('+toBarPerc(n)+'%,0)'};}else{barCSS={'margin-left':toBarPerc(n)+'%'};}
barCSS.transition='all '+speed+'ms '+ease;return barCSS;}
var queue=(function(){var pending=[];function next(){var fn=pending.shift();if(fn){fn(next);}}
return function(fn){pending.push(fn);if(pending.length==1)next();};})();var css=(function(){var cssPrefixes=['Webkit','O','Moz','ms'],cssProps={};function camelCase(string){return string.replace(/^-ms-/,'ms-').replace(/-([\da-z])/gi,function(match,letter){return letter.toUpperCase();});}
function getVendorProp(name){var style=document.body.style;if(name in style)return name;var i=cssPrefixes.length,capName=name.charAt(0).toUpperCase()+name.slice(1),vendorName;while(i--){vendorName=cssPrefixes[i]+capName;if(vendorName in style)return vendorName;}
return name;}
function getStyleProp(name){name=camelCase(name);return cssProps[name]||(cssProps[name]=getVendorProp(name));}
function applyCss(element,prop,value){prop=getStyleProp(prop);element.style[prop]=value;}
return function(element,properties){var args=arguments,prop,value;if(args.length==2){for(prop in properties){value=properties[prop];if(value!==undefined&&properties.hasOwnProperty(prop))applyCss(element,prop,value);}}else{applyCss(element,args[1],args[2]);}}})();function hasClass(element,name){var list=typeof element=='string'?element:classList(element);return list.indexOf(' '+name+' ')>=0;}
function addClass(element,name){var oldList=classList(element),newList=oldList+name;if(hasClass(oldList,name))return;element.className=newList.substring(1);}
function removeClass(element,name){var oldList=classList(element),newList;if(!hasClass(element,name))return;newList=oldList.replace(' '+name+' ',' ');element.className=newList.substring(1,newList.length-1);}
function classList(element){return(' '+(element.className||'')+' ').replace(/\s+/gi,' ');}
function removeElement(element){element&&element.parentNode&&element.parentNode.removeChild(element);}
return NProgress;});
/* End of File include/javascript/nprogress/nprogress.js */

(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?factory():typeof define==='function'&&define.amd?define(factory):(factory());}(this,(function(){'use strict';function finallyConstructor(callback){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value;});},function(reason){return constructor.resolve(callback()).then(function(){return constructor.reject(reason);});});}
var setTimeoutFunc=setTimeout;function noop(){}
function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments);};}
function Promise(fn){if(!(this instanceof Promise))
throw new TypeError('Promises must be constructed via new');if(typeof fn!=='function')throw new TypeError('not a function');this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this);}
function handle(self,deferred){while(self._state===3){self=self._value;}
if(self._state===0){self._deferreds.push(deferred);return;}
self._handled=true;Promise._immediateFn(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return;}
var ret;try{ret=cb(self._value);}catch(e){reject(deferred.promise,e);return;}
resolve(deferred.promise,ret);});}
function resolve(self,newValue){try{if(newValue===self)
throw new TypeError('A promise cannot be resolved with itself.');if(newValue&&(typeof newValue==='object'||typeof newValue==='function')){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return;}else if(typeof then==='function'){doResolve(bind(then,newValue),self);return;}}
self._state=1;self._value=newValue;finale(self);}catch(e){reject(self,e);}}
function reject(self,newValue){self._state=2;self._value=newValue;finale(self);}
function finale(self){if(self._state===2&&self._deferreds.length===0){Promise._immediateFn(function(){if(!self._handled){Promise._unhandledRejectionFn(self._value);}});}
for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i]);}
self._deferreds=null;}
function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==='function'?onFulfilled:null;this.onRejected=typeof onRejected==='function'?onRejected:null;this.promise=promise;}
function doResolve(fn,self){var done=false;try{fn(function(value){if(done)return;done=true;resolve(self,value);},function(reason){if(done)return;done=true;reject(self,reason);});}catch(ex){if(done)return;done=true;reject(self,ex);}}
Promise.prototype['catch']=function(onRejected){return this.then(null,onRejected);};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom;};Promise.prototype['finally']=finallyConstructor;Promise.all=function(arr){return new Promise(function(resolve,reject){if(!arr||typeof arr.length==='undefined')
throw new TypeError('Promise.all accepts an array');var args=Array.prototype.slice.call(arr);if(args.length===0)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&(typeof val==='object'||typeof val==='function')){var then=val.then;if(typeof then==='function'){then.call(val,function(val){res(i,val);},reject);return;}}
args[i]=val;if(--remaining===0){resolve(args);}}catch(ex){reject(ex);}}
for(var i=0;i<args.length;i++){res(i,args[i]);}});};Promise.resolve=function(value){if(value&&typeof value==='object'&&value.constructor===Promise){return value;}
return new Promise(function(resolve){resolve(value);});};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value);});};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject);}});};Promise._immediateFn=(typeof setImmediate==='function'&&function(fn){setImmediate(fn);})||function(fn){setTimeoutFunc(fn,0);};Promise._unhandledRejectionFn=function _unhandledRejectionFn(err){if(typeof console!=='undefined'&&console){console.warn('Possible Unhandled Promise Rejection:',err);}};var globalNS=(function(){if(typeof self!=='undefined'){return self;}
if(typeof window!=='undefined'){return window;}
if(typeof global!=='undefined'){return global;}
throw new Error('unable to locate global object');})();if(!('Promise'in globalNS)){globalNS['Promise']=Promise;}else if(!globalNS.Promise.prototype['finally']){globalNS.Promise.prototype['finally']=finallyConstructor;}})));
/* End of File sidecar/node_modules/promise-polyfill/dist/polyfill.js */

(function(){const hasSelf=typeof self!=='undefined';const hasDocument=typeof document!=='undefined';const envGlobal=hasSelf?self:global;let baseUrl;if(hasDocument){const baseEl=document.querySelector('base[href]');if(baseEl)
baseUrl=baseEl.href;}
if(!baseUrl&&typeof location!=='undefined'){baseUrl=location.href.split('#')[0].split('?')[0];const lastSepIndex=baseUrl.lastIndexOf('/');if(lastSepIndex!==-1)
baseUrl=baseUrl.slice(0,lastSepIndex+1);}
const backslashRegEx=/\\/g;function resolveIfNotPlainOrUrl(relUrl,parentUrl){if(relUrl.indexOf('\\')!==-1)
relUrl=relUrl.replace(backslashRegEx,'/');if(relUrl[0]==='/'&&relUrl[1]==='/'){return parentUrl.slice(0,parentUrl.indexOf(':')+1)+relUrl;}
else if(relUrl[0]==='.'&&(relUrl[1]==='/'||relUrl[1]==='.'&&(relUrl[2]==='/'||relUrl.length===2&&(relUrl+='/'))||relUrl.length===1&&(relUrl+='/'))||relUrl[0]==='/'){const parentProtocol=parentUrl.slice(0,parentUrl.indexOf(':')+1);let pathname;if(parentUrl[parentProtocol.length+1]==='/'){if(parentProtocol!=='file:'){pathname=parentUrl.slice(parentProtocol.length+2);pathname=pathname.slice(pathname.indexOf('/')+1);}
else{pathname=parentUrl.slice(8);}}
else{pathname=parentUrl.slice(parentProtocol.length+(parentUrl[parentProtocol.length]==='/'));}
if(relUrl[0]==='/')
return parentUrl.slice(0,parentUrl.length-pathname.length-1)+relUrl;const segmented=pathname.slice(0,pathname.lastIndexOf('/')+1)+relUrl;const output=[];let segmentIndex=-1;for(let i=0;i<segmented.length;i++){if(segmentIndex!==-1){if(segmented[i]==='/'){output.push(segmented.slice(segmentIndex,i+1));segmentIndex=-1;}}
else if(segmented[i]==='.'){if(segmented[i+1]==='.'&&(segmented[i+2]==='/'||i+2===segmented.length)){output.pop();i+=2;}
else if(segmented[i+1]==='/'||i+1===segmented.length){i+=1;}
else{segmentIndex=i;}}
else{segmentIndex=i;}}
if(segmentIndex!==-1)
output.push(segmented.slice(segmentIndex));return parentUrl.slice(0,parentUrl.length-pathname.length)+output.join('');}}
function resolveUrl(relUrl,parentUrl){return resolveIfNotPlainOrUrl(relUrl,parentUrl)||(relUrl.indexOf(':')!==-1?relUrl:resolveIfNotPlainOrUrl('./'+relUrl,parentUrl));}
function objectAssign(to,from){for(let p in from)
to[p]=from[p];return to;}
function resolveAndComposePackages(packages,outPackages,baseUrl,parentMap,parentUrl){for(let p in packages){const resolvedLhs=resolveIfNotPlainOrUrl(p,baseUrl)||p;const rhs=packages[p];if(typeof rhs!=='string')
continue;const mapped=resolveImportMap(parentMap,resolveIfNotPlainOrUrl(rhs,baseUrl)||rhs,parentUrl);if(!mapped)
targetWarning(p,rhs,'bare specifier did not resolve');else
outPackages[resolvedLhs]=mapped;}}
function resolveAndComposeImportMap(json,baseUrl,parentMap){const outMap={imports:objectAssign({},parentMap.imports),scopes:objectAssign({},parentMap.scopes)};if(json.imports)
resolveAndComposePackages(json.imports,outMap.imports,baseUrl,parentMap,null);if(json.scopes)
for(let s in json.scopes){const resolvedScope=resolveUrl(s,baseUrl);resolveAndComposePackages(json.scopes[s],outMap.scopes[resolvedScope]||(outMap.scopes[resolvedScope]={}),baseUrl,parentMap,resolvedScope);}
return outMap;}
function getMatch(path,matchObj){if(matchObj[path])
return path;let sepIndex=path.length;do{const segment=path.slice(0,sepIndex+1);if(segment in matchObj)
return segment;}while((sepIndex=path.lastIndexOf('/',sepIndex-1))!==-1)}
function applyPackages(id,packages){const pkgName=getMatch(id,packages);if(pkgName){const pkg=packages[pkgName];if(pkg===null)return;if(id.length>pkgName.length&&pkg[pkg.length-1]!=='/')
targetWarning(pkgName,pkg,"should have a trailing '/'");else
return pkg+id.slice(pkgName.length);}}
function targetWarning(match,target,msg){console.warn("Package target "+msg+", resolving target '"+target+"' for "+match);}
function resolveImportMap(importMap,resolvedOrPlain,parentUrl){let scopeUrl=parentUrl&&getMatch(parentUrl,importMap.scopes);while(scopeUrl){const packageResolution=applyPackages(resolvedOrPlain,importMap.scopes[scopeUrl]);if(packageResolution)
return packageResolution;scopeUrl=getMatch(scopeUrl.slice(0,scopeUrl.lastIndexOf('/')),importMap.scopes);}
return applyPackages(resolvedOrPlain,importMap.imports)||resolvedOrPlain.indexOf(':')!==-1&&resolvedOrPlain;}
const hasSymbol=typeof Symbol!=='undefined';const toStringTag=hasSymbol&&Symbol.toStringTag;const REGISTRY=hasSymbol?Symbol():'@';function SystemJS(){this[REGISTRY]={};}
const systemJSPrototype=SystemJS.prototype;systemJSPrototype.prepareImport=function(){};systemJSPrototype.import=function(id,parentUrl){const loader=this;return Promise.resolve(loader.prepareImport()).then(function(){return loader.resolve(id,parentUrl);}).then(function(id){const load=getOrCreateLoad(loader,id);return load.C||topLevelLoad(loader,load);});};systemJSPrototype.createContext=function(parentId){return{url:parentId};};systemJSPrototype.onload=function(){};function loadToId(load){return load.id;}
function triggerOnload(loader,load,err){loader.onload(err,load.id,load.d&&load.d.map(loadToId));if(err)
throw err;}
let lastRegister;systemJSPrototype.register=function(deps,declare){lastRegister=[deps,declare];};systemJSPrototype.getRegister=function(){const _lastRegister=lastRegister;lastRegister=undefined;return _lastRegister;};function getOrCreateLoad(loader,id,firstParentUrl){let load=loader[REGISTRY][id];if(load)
return load;const importerSetters=[];const ns=Object.create(null);if(toStringTag)
Object.defineProperty(ns,toStringTag,{value:'Module'});let instantiatePromise=Promise.resolve().then(function(){return loader.instantiate(id,firstParentUrl);}).then(function(registration){if(!registration)
throw Error('Module '+id+' did not instantiate');function _export(name,value){load.h=true;let changed=false;if(typeof name!=='object'){if(!(name in ns)||ns[name]!==value){ns[name]=value;changed=true;}}
else{for(let p in name){let value=name[p];if(!(p in ns)||ns[p]!==value){ns[p]=value;changed=true;}}
if(name.__esModule){ns.__esModule=name.__esModule;}}
if(changed)
for(let i=0;i<importerSetters.length;i++)
importerSetters[i](ns);return value;}
const declared=registration[1](_export,registration[1].length===2?{import:function(importId){return loader.import(importId,id);},meta:loader.createContext(id)}:undefined);load.e=declared.execute||function(){};return[registration[0],declared.setters||[]];});instantiatePromise=instantiatePromise.catch(function(err){triggerOnload(loader,load,err);});const linkPromise=instantiatePromise.then(function(instantiation){return Promise.all(instantiation[0].map(function(dep,i){const setter=instantiation[1][i];return Promise.resolve(loader.resolve(dep,id)).then(function(depId){const depLoad=getOrCreateLoad(loader,depId,id);return Promise.resolve(depLoad.I).then(function(){if(setter){depLoad.i.push(setter);if(depLoad.h||!depLoad.I)
setter(depLoad.n);}
return depLoad;});})})).then(function(depLoads){load.d=depLoads;});});linkPromise.catch(function(err){load.e=null;load.er=err;});return load=loader[REGISTRY][id]={id:id,i:importerSetters,n:ns,I:instantiatePromise,L:linkPromise,h:false,d:undefined,e:undefined,er:undefined,E:undefined,C:undefined};}
function instantiateAll(loader,load,loaded){if(!loaded[load.id]){loaded[load.id]=true;return Promise.resolve(load.L).then(function(){return Promise.all(load.d.map(function(dep){return instantiateAll(loader,dep,loaded);}));})}}
function topLevelLoad(loader,load){return load.C=instantiateAll(loader,load,{}).then(function(){return postOrderExec(loader,load,{});}).then(function(){return load.n;});}
const nullContext=Object.freeze(Object.create(null));function postOrderExec(loader,load,seen){if(seen[load.id])
return;seen[load.id]=true;if(!load.e){if(load.er)
throw load.er;if(load.E)
return load.E;return;}
let depLoadPromises;load.d.forEach(function(depLoad){{try{const depLoadPromise=postOrderExec(loader,depLoad,seen);if(depLoadPromise){depLoadPromise.catch(function(err){triggerOnload(loader,load,err);});(depLoadPromises=depLoadPromises||[]).push(depLoadPromise);}}
catch(err){triggerOnload(loader,load,err);}}});if(depLoadPromises)
return Promise.all(depLoadPromises).then(doExec);return doExec();function doExec(){try{let execPromise=load.e.call(nullContext);if(execPromise){execPromise=execPromise.then(function(){load.C=load.n;load.E=null;triggerOnload(loader,load,null);},function(err){triggerOnload(loader,load,err);});return load.E=load.E||execPromise;}
load.C=load.n;triggerOnload(loader,load,null);}
catch(err){triggerOnload(loader,load,err);load.er=err;throw err;}
finally{load.L=load.I=undefined;load.e=null;}}}
envGlobal.System=new SystemJS();let importMap={imports:{},scopes:{}},importMapPromise;if(hasDocument){Array.prototype.forEach.call(document.querySelectorAll('script[type="systemjs-importmap"][src]'),function(script){script._j=fetch(script.src).then(function(res){return res.json();});});}
systemJSPrototype.prepareImport=function(){if(!importMapPromise){importMapPromise=Promise.resolve();if(hasDocument)
Array.prototype.forEach.call(document.querySelectorAll('script[type="systemjs-importmap"]'),function(script){importMapPromise=importMapPromise.then(function(){return(script._j||script.src&&fetch(script.src).then(function(resp){return resp.json();})||Promise.resolve(JSON.parse(script.innerHTML))).then(function(json){importMap=resolveAndComposeImportMap(json,script.src||baseUrl,importMap);});});});}
return importMapPromise;};systemJSPrototype.resolve=function(id,parentUrl){parentUrl=parentUrl||baseUrl;return resolveImportMap(importMap,resolveIfNotPlainOrUrl(id,parentUrl)||id,parentUrl)||throwUnresolved(id,parentUrl);};function throwUnresolved(id,parentUrl){throw Error("Unable to resolve specifier '"+id+(parentUrl?"' from "+parentUrl:"'"));}
const systemRegister=systemJSPrototype.register;systemJSPrototype.register=function(deps,declare){systemRegister.call(this,deps,declare);};systemJSPrototype.createScript=function(url){const script=document.createElement('script');script.charset='utf-8';script.async=true;script.crossOrigin='anonymous';script.src=url;return script;};let lastWindowErrorUrl,lastWindowError;if(hasDocument)
window.addEventListener('error',function(evt){lastWindowErrorUrl=evt.filename;lastWindowError=evt.error;});systemJSPrototype.instantiate=function(url,firstParentUrl){const loader=this;return new Promise(function(resolve,reject){const script=systemJSPrototype.createScript(url);script.addEventListener('error',function(){reject(Error('Error loading '+url+(firstParentUrl?' from '+firstParentUrl:'')));});script.addEventListener('load',function(){document.head.removeChild(script);if(lastWindowErrorUrl===url){reject(lastWindowError);}
else{resolve(loader.getRegister());}});document.head.appendChild(script);});};if(hasDocument){window.addEventListener('DOMContentLoaded',loadScriptModules);loadScriptModules();}
function loadScriptModules(){Array.prototype.forEach.call(document.querySelectorAll('script[type=systemjs-module]'),function(script){if(script.src){System.import(script.src.slice(0,7)==='import:'?script.src.slice(7):resolveUrl(script.src,baseUrl));}});}
if(hasSelf&&typeof importScripts==='function')
systemJSPrototype.instantiate=function(url){const loader=this;return new Promise(function(resolve,reject){try{importScripts(url);}
catch(e){reject(e);}
resolve(loader.getRegister());});};(function(global){const systemJSPrototype=global.System.constructor.prototype;const isIE=navigator.userAgent.indexOf('Trident')!==-1;let firstGlobalProp,secondGlobalProp,lastGlobalProp;function getGlobalProp(){let cnt=0;let lastProp;for(let p in global){if(!global.hasOwnProperty(p)||(!isNaN(p)&&p<global.length)||(isIE&&global[p]&&global[p].parent===window))
continue;if(cnt===0&&p!==firstGlobalProp||cnt===1&&p!==secondGlobalProp)
return p;cnt++;lastProp=p;}
if(lastProp!==lastGlobalProp)
return lastProp;}
function noteGlobalProps(){firstGlobalProp=secondGlobalProp=undefined;for(let p in global){if(!global.hasOwnProperty(p)||(!isNaN(p)&&p<global.length)||(isIE&&global[p]&&global[p].parent===window))
continue;if(!firstGlobalProp)
firstGlobalProp=p;else if(!secondGlobalProp)
secondGlobalProp=p;lastGlobalProp=p;}
return lastGlobalProp;}
const impt=systemJSPrototype.import;systemJSPrototype.import=function(id,parentUrl){noteGlobalProps();return impt.call(this,id,parentUrl);};const emptyInstantiation=[[],function(){return{}}];const getRegister=systemJSPrototype.getRegister;systemJSPrototype.getRegister=function(){const lastRegister=getRegister.call(this);if(lastRegister)
return lastRegister;const globalProp=getGlobalProp();if(!globalProp)
return emptyInstantiation;let globalExport;try{globalExport=global[globalProp];}
catch(e){return emptyInstantiation;}
return[[],function(_export){return{execute:function(){_export({default:globalExport,__useDefault:true});}};}];};})(typeof self!=='undefined'?self:global);(function(global){const systemJSPrototype=global.System.constructor.prototype;const instantiate=systemJSPrototype.instantiate;const moduleTypesRegEx=/\.(css|html|json|wasm)$/;systemJSPrototype.shouldFetch=function(url){const path=url.split('?')[0].split('#')[0];const ext=path.slice(path.lastIndexOf('.'));return ext.match(moduleTypesRegEx);};systemJSPrototype.fetch=function(url){return fetch(url);};systemJSPrototype.instantiate=function(url,parent){const loader=this;if(this.shouldFetch(url)){return this.fetch(url).then(function(res){if(!res.ok)
throw Error(res.status+' '+res.statusText+', loading '+url+(parent?' from '+parent:''));const contentType=res.headers.get('content-type');if(contentType.match(/^(text|application)\/(x-)?javascript(;|$)/)){return res.text().then(function(source){(0,eval)(source);return loader.getRegister();});}
else if(contentType.match(/^application\/json(;|$)/)){return res.text().then(function(source){return[[],function(_export){return{execute:function(){_export('default',JSON.parse(source));}};}];});}
else if(contentType.match(/^text\/css(;|$)/)){return res.text().then(function(source){return[[],function(_export){return{execute:function(){const stylesheet=new CSSStyleSheet();stylesheet.replaceSync(source);_export('default',stylesheet);}};}];});}
else if(contentType.match(/^application\/wasm(;|$)/)){return(WebAssembly.compileStreaming?WebAssembly.compileStreaming(res):res.arrayBuffer().then(WebAssembly.compile)).then(function(module){const deps=[];const setters=[];const importObj={};if(WebAssembly.Module.imports)
WebAssembly.Module.imports(module).forEach(function(impt){const key=impt.module;if(deps.indexOf(key)===-1){deps.push(key);setters.push(function(m){importObj[key]=m;});}});return[deps,function(_export){return{setters:setters,execute:function(){return WebAssembly.instantiate(module,importObj).then(function(instance){_export(instance.exports);});}};}];});}
else{throw new Error('Unknown module type "'+contentType+'"');}});}
return instantiate.apply(this,arguments);};})(typeof self!=='undefined'?self:global);const toStringTag$1=typeof Symbol!=='undefined'&&Symbol.toStringTag;systemJSPrototype.get=function(id){const load=this[REGISTRY][id];if(load&&load.e===null&&!load.E){if(load.er)
return null;return load.n;}};systemJSPrototype.set=function(id,module){let ns;if(toStringTag$1&&module[toStringTag$1]==='Module'){ns=module;}
else{ns=Object.assign(Object.create(null),module);if(toStringTag$1)
Object.defineProperty(ns,toStringTag$1,{value:'Module'});}
const done=Promise.resolve(ns);const load=this[REGISTRY][id]||(this[REGISTRY][id]={id:id,i:[],h:false,d:[],e:null,er:undefined,E:undefined});if(load.e||load.E)
return false;Object.assign(load,{n:ns,I:undefined,L:undefined,C:done});return ns;};systemJSPrototype.has=function(id){const load=this[REGISTRY][id];return!!load;};systemJSPrototype.delete=function(id){const registry=this[REGISTRY];const load=registry[id];if(!load||load.e!==null||load.E)
return false;let importerSetters=load.i;if(load.d)
load.d.forEach(function(depLoad){const importerIndex=depLoad.i.indexOf(load);if(importerIndex!==-1)
depLoad.i.splice(importerIndex,1);});delete registry[id];return function(){const load=registry[id];if(!load||!importerSetters||load.e!==null||load.E)
return false;importerSetters.forEach(function(setter){load.i.push(setter);setter(load.n);});importerSetters=null;};};const iterator=typeof Symbol!=='undefined'&&Symbol.iterator;systemJSPrototype.entries=function(){const loader=this,keys=Object.keys(loader[REGISTRY]);let index=0,ns,key;const result={next:function(){while((key=keys[index++])!==undefined&&(ns=loader.get(key))===undefined);return{done:key===undefined,value:key!==undefined&&[key,ns]};}};result[iterator]=function(){return this};return result;};}());
/* End of File include/javascript/systemjs/system.js */

(function(app){var findDashboardPreviewLayout=function(meta,layoutName,targetLayout,layoutMeta){if(meta.name&&meta.name===layoutName){targetLayout=meta;return targetLayout;}
if(_.isArray(meta)){var len=meta.length;for(var i=0;i<len;i++){if(_.isArray(meta[i])||_.isObject(meta[i])){targetLayout=findDashboardPreviewLayout(meta[i],layoutName,targetLayout,layoutMeta);}
if(!_.isEmpty(targetLayout)){return targetLayout;}}}else{for(var prop in meta){if(_.isArray(meta[prop])||_.isObject(meta[prop])){targetLayout=findDashboardPreviewLayout(meta[prop],layoutName,targetLayout,layoutMeta);if(!_.isEmpty(targetLayout)){return targetLayout;}}}}};var addCompToLayout=function(metadata,targetModule,targetLayout,def,fieldsToAdd){var modMeta=metadata.modules[targetModule];var layoutPieces=targetLayout.split('-');var hasLayoutInModule;var dashPrevLayout;var meta;var layoutName;var view;if(def.view.name&&def.view.name.indexOf('LBL_')!==-1){def.view.name=app.lang.get(def.view.name,targetModule);}
if(def.view.description&&def.view.description.indexOf('LBL_')!==-1){def.view.description=app.lang.get(def.view.description,targetModule);}
if(modMeta){modMeta.layouts=modMeta.layouts||{};meta=modMeta.layouts[targetLayout];hasLayoutInModule=!!meta;if(layoutPieces.length===2&&_.contains(['record','list','multiline'],layoutPieces[0])&&layoutPieces[1]==='field'){var layoutName=_fixViewName(layoutPieces[0]);var layoutEventName=layoutName==='list'?'recordlist':layoutName;if(layoutName&&_.isUndefined(modMeta.views[layoutName])){return;}
view=modMeta.views[layoutName];_.each(fieldsToAdd,function(field){field.src=def.view.src;var metaField=_findFieldInMeta(field,view);if(metaField){_.extend(metaField,field);}else if(!_.isUndefined(field.panelIndex)&&!_.isUndefined(field.fieldIndex)){_spliceFieldIntoMeta(field,view,field.panelIndex,field.fieldIndex);view.meta.hasExternalFields=true;}},this);app.events.trigger('sugarApp:'+targetModule+':'+layoutEventName+':updated',fieldsToAdd);}else if(layoutPieces.length===2&&(layoutPieces[1]==='dashboard'||layoutPieces[1]==='preview')){layoutName=layoutPieces[0]==='list'?'records':'record';meta=app.metadata.getLayout(targetModule,layoutName);dashPrevLayout=findDashboardPreviewLayout(meta,layoutPieces[1]+'-pane',{});if(dashPrevLayout){dashPrevLayout.components.push(def);if(!modMeta.layouts[layoutName]){modMeta.layouts[layoutName]={};}
if(!modMeta.layouts[layoutName].meta){modMeta.layouts[layoutName].meta={};}
if(!modMeta.layouts[layoutName].meta.components){modMeta.layouts[layoutName].meta.components=[];}
metadata.modules[targetModule].layouts[layoutName].meta.components=meta.components;App.metadata.set(metadata);}else{App.logger.warn('The '+layoutName+' layout for the '+targetModule+' does not contain a '+
layoutPieces[1]+'-pane component inside the layout.');}}else if(!hasLayoutInModule){modMeta.layouts[targetLayout]={meta:app.metadata.getLayout('',targetLayout)||{components:[]}};modMeta.layouts[targetLayout].meta.components.push(def);app.events.trigger('sugarApp:'+targetModule+':'+targetLayout+':updated');}else{if(!meta.meta){meta.meta={};}
if(!meta.meta.components){meta.meta.components=[];}
meta.meta.components.push(def);}}};var _findFieldInMeta=function(fieldDef,viewMeta){var found=null;if(_.isUndefined(fieldDef)||_.isUndefined(viewMeta)){return null;}
_.some(viewMeta.meta.panels,function(panel){return _.some(panel.fields,function(metaField){if(metaField.subfields){return _.some(metaField.subfields,function(subField){if(subField.name===fieldDef.name){found=subField;return true;}});}else if(metaField.name===fieldDef.name){found=metaField;return true;}});});return found;};var _fixViewName=function(name){var nameMap={multiline:'multi-line-list',};return nameMap[name]||name;};var _spliceFieldIntoMeta=function(fieldDef,viewMeta,panelIndex,fieldIndex){var panels=viewMeta.meta.panels;var panel=panelIndex>panels.length?panels[panels.length-1]:panels[panelIndex];var fields=panel.fields;delete fieldDef.panelIndex;delete fieldDef.fieldIndex;if(fieldIndex<fields.length){fields.splice(fieldIndex,0,fieldDef);}else{fields.push(fieldDef);}};app.metadata.addSyncTask(function(metadata,options){if(!app.config.catalogEnabled){return;}
var catalogUrl=app.config.catalogUrl;if(options.getPublic){return Promise.resolve();}
if(catalogUrl&&catalogUrl!==''&&_.isString(catalogUrl)){if(!(catalogUrl.indexOf('http://')===0||catalogUrl.indexOf('https://')===0)){catalogUrl='https://'+catalogUrl;}
catalogUrl=catalogUrl.match(/^.+\:\/\/[^\/]+/)[0]+'/catalog?isAuthorized=true';var getCatalog=function(onSuccess,onError,onLogin){$.ajax({url:catalogUrl,headers:{'X-IDM-ACCESS-TOKEN':app.api.getOAuthToken()},xhrFields:{withCredentials:true,cors:true},contentType:'application/json; charset=utf-8',dataType:'json',crossDomain:true,success:function(catalog){if(catalog.loginRedirect&&onLogin){onLogin(catalog.loginRedirect);}else{onSuccess(catalog);}},error:function(error){onError(error);}});};var addCatalogToLayout=function(catalog){if(!catalog||!catalog.layouts){return;}
_.each(catalog.layouts,function(def){if(def.module&&def.layout){catalog.type='external-app';addCompToLayout(metadata,def.module,def.layout,{view:catalog},def.fields);}});};var updateManifest=function(catalog){if(catalog.customValidityCheck){return System.import(catalog.src).then(function(mod){var props=Object.getOwnPropertyNames(mod).filter(function(name){return name.substr(0,2)!=='__';});if(mod.default&&(props.length===1||mod.__useDefault)){mod=mod.default;}
return mod.updateManifest(catalog);}).then(function(result){if(_.isObject(result)){return result;}else if(result){return catalog;}else{return null;}}).catch(function(err){console.error('Failed to test module validity',err);return null;});}else{return Promise.resolve(catalog);}};return new Promise(function(res,error){var serverInfo=App.metadata.getServerInfo();var fetchAppLayout=function(app){$.ajax({url:app.src,dataType:'json',data:{flavor:serverInfo.flavor,tenantId:App.config.tenant,version:serverInfo.version,licenses:App.user.attributes.licenses},xhrFields:{withCredentials:true},crossDomain:true,contentType:'application/json; charset=utf-8',mode:'cors',success:function(catalog){updateManifest(catalog).then(function(manifest){if(manifest.apps){_.each(manifest.apps,function(app){var catEntry=_.pick(manifest,'clientFileName','scope','src','srn','version');catEntry=_.extend(catEntry,app);updateManifest(catEntry).then(addCatalogToLayout);},this);}else{addCatalogToLayout(manifest);}});},error:function(error){console.error(error);}});};var handleCatalog=function(catalog){_.each(catalog.apps,function(app){fetchAppLayout(app);});res();};var onError=function(err){app.logger.error(err.message);res();};getCatalog(handleCatalog,onError,function(loginUrl){var iframe=document.createElement('iframe');var cleanup=function(){iframe.parentElement.removeChild(iframe);window.removeEventListener('message',eventCallback);};var eventCallback=function(event){var iframeOrigin=window.location.href.match(/^.+\:\/\/[^\/]+/)[0];if(event.origin===iframeOrigin){cleanup();getCatalog(handleCatalog,onError,function(url){var err='Unable to authenticate with catalog service: Second Login URL:'+url;app.logger.error(err);res();});}};iframe.onload=function(){console.log('loaded before we got the event ',arguments);cleanup();res();};iframe.src=loginUrl;iframe.style='display:none;\n'+'position: absolute;\n'+'width: 500px;\n'+'height: 500px;\n'+'top: calc(50% - 250px);\n'+'left: calc(50% - 250px);';window.addEventListener('message',eventCallback);document.body.appendChild(iframe);});});}
return Promise.resolve();});})(SUGAR.App);
/* End of File include/javascript/sugar7/external-apps.js */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).singleSpa={})}(this,function(t){"use strict";var n=Object.freeze({get start(){return Mt},get ensureJQuerySupport(){return pt},get setBootstrapMaxTime(){return j},get setMountMaxTime(){return C},get setUnmountMaxTime(){return M},get setUnloadMaxTime(){return I},get registerApplication(){return Pt},get getMountedApps(){return yt},get getAppStatus(){return Et},get unloadApplication(){return St},get checkActivityFunctions(){return Tt},get getAppNames(){return bt},get declareChildApplication(){return Ot},get unloadChildApplication(){return Nt},get navigateToUrl(){return et},get triggerAppChange(){return Dt},get addErrorHandler(){return s},get removeErrorHandler(){return f},get mountRootParcel(){return V},get NOT_LOADED(){return p},get LOADING_SOURCE_CODE(){return m},get NOT_BOOTSTRAPPED(){return d},get BOOTSTRAPPING(){return h},get NOT_MOUNTED(){return v},get MOUNTING(){return g},get UPDATING(){return y},get MOUNTED(){return w},get UNMOUNTING(){return b},get SKIP_BECAUSE_BROKEN(){return O}}),e=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var r=function(){try{var t=new e("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?e:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,n){var e=document.createEvent("CustomEvent");return n?e.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):e.initCustomEvent(t,!1,!1,void 0),e}:function(t,n){var e=document.createEventObject();return e.type=t,n?(e.bubbles=Boolean(n.bubbles),e.cancelable=Boolean(n.cancelable),e.detail=n.detail):(e.bubbles=!1,e.cancelable=!1,e.detail=void 0),e};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){i(t,n,e[n])})}return t}var u=[];function c(t,n){var e=l(t,n);u.length?u.forEach(function(t){return t(e)}):setTimeout(function(){throw e})}function s(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");u.push(t)}function f(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");var n=!1;return u=u.filter(function(e){var r=e===t;return n=n||r,!r}),n}function l(t,n){var e,r=n.unmountThisParcel?"Parcel":"Application",o="".concat(r," '").concat(n.name,"' died in status ").concat(n.status,": ");if(t instanceof Error){try{t.message=o+t.message}catch(t){}e=t}else{console.warn("While ".concat(n.status,", '").concat(n.name,"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."));try{e=Error(o+JSON.stringify(t))}catch(n){e=t}}return e.appName=n.name,e.name=n.name,e}var p="NOT_LOADED",m="LOADING_SOURCE_CODE",d="NOT_BOOTSTRAPPED",h="BOOTSTRAPPING",v="NOT_MOUNTED",g="MOUNTING",w="MOUNTED",y="UPDATING",b="UNMOUNTING",E="UNLOADING",O="SKIP_BECAUSE_BROKEN";function P(t){return t.status===w}function T(t){return!P(t)}function A(t){return t.status!==p&&t.status!==m}function N(t){return!A(t)}function S(t){try{return t.activeWhen(window.location)}catch(n){c(n,t),t.status=O}}function U(t){try{return!t.activeWhen(window.location)}catch(n){c(n,t),t.status=O}}function _(t){return t!==O&&(!t||t.status!==O)}function x(t){return t.name}var D={bootstrap:{millis:4e3,dieOnTimeout:!1},mount:{millis:3e3,dieOnTimeout:!1},unmount:{millis:3e3,dieOnTimeout:!1},unload:{millis:3e3,dieOnTimeout:!1}};function j(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("bootstrap max time must be a positive integer number of milliseconds");D.bootstrap={millis:t,dieOnTimeout:n}}function C(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("mount max time must be a positive integer number of milliseconds");D.mount={millis:t,dieOnTimeout:n}}function M(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unmount max time must be a positive integer number of milliseconds");D.unmount={millis:t,dieOnTimeout:n}}function I(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unload max time must be a positive integer number of milliseconds");D.unload={millis:t,dieOnTimeout:n}}function L(t,n,e){var r=1e3;return new Promise(function(o,i){var a=!1,u=!1;function c(t){if(!a)if(!0===t)u=!0,e.dieOnTimeout?i("".concat(n," did not resolve or reject for ").concat(e.millis," milliseconds")):console.error("".concat(n," did not resolve or reject for ").concat(e.millis," milliseconds -- we're no longer going to warn you about it."));else if(!u){var o=t,s=o*r;console.warn("".concat(n," did not resolve or reject within ").concat(s," milliseconds")),s+r<e.millis&&setTimeout(function(){return c(o+1)},r)}}t.then(function(t){a=!0,o(t)}).catch(function(t){a=!0,i(t)}),setTimeout(function(){return c(1)},r),setTimeout(function(){return c(!0)},e.millis)})}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a({},D,t)}function G(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return t[e];return null}function R(t){return t&&("function"==typeof t||(n=t,Array.isArray(n)&&!G(n,function(t){return"function"!=typeof t})));var n}function k(t,n){return 0===(t=Array.isArray(t)?t:[t]).length&&(t=[function(){return Promise.resolve()}]),function(e){return new Promise(function(r,o){!function i(a){var u=t[a](e);q(u)?u.then(function(){a===t.length-1?r():i(a+1)}).catch(o):o("".concat(n," at index ").concat(a," did not return a promise"))}(0)})}}function q(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function W(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return t.status!==d?t:(t.status=h,L(t.bootstrap(Y(t)),"Bootstrapping appOrParcel '".concat(t.name,"'"),t.timeouts.bootstrap).then(function(){return t.status=v,t}).catch(function(e){if(t.status=O,n)throw l(e,t);return c(e,t),t}))})}function K(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){if(t.status!==w)return t;t.status=b;var e=Object.keys(t.parcels).map(function(n){return t.parcels[n].unmountThisParcel()});return Promise.all(e).then(r,function(e){return r().then(function(){var r=Error(e.message);if(n){var o=l(r,t);throw t.status=O,o}c(r,t),t.status=O})}).then(function(){return t});function r(){return L(t.unmount(Y(t)),"Unmounting application ".concat(t.name,"'"),t.timeouts.unmount).then(function(){t.status=v}).catch(function(e){if(n){var r=l(e,t);throw t.status=O,r}c(e,t),t.status=O})}})}var F=!1,H=!1;function $(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return t.status!==v?t:(F||(window.dispatchEvent(new r("single-spa:before-first-mount")),F=!0),L(t.mount(Y(t)),"Mounting application '".concat(t.name,"'"),t.timeouts.mount).then(function(){return t.status=w,H||(window.dispatchEvent(new r("single-spa:first-mount")),H=!0),t}).catch(function(e){return t.status=w,K(t).then(r,r);function r(){if(n){var r=l(e,t);throw t.status=O,r}return c(e,t),t.status=O,t}}))})}var J=0,Q={parcels:{}};function V(){return z.apply(Q,arguments)}function z(t,n){var e=this;if(!t||"object"!==o(t)&&"function"!=typeof t)throw Error("Cannot mount parcel without a config object or config loading function");if(t.name&&"string"!=typeof t.name)throw Error("Parcel name must be a string, if provided");if("object"!==o(n))throw Error("Parcel ".concat(name," has invalid customProps -- must be an object"));if(!n.domElement)throw Error("Parcel ".concat(name," cannot be mounted without a domElement provided as a prop"));var r,i=J++,a="function"==typeof t,u=a?t:function(){return Promise.resolve(t)},c={id:i,parcels:{},status:a?m:d,customProps:n,parentName:e.name,unmountThisParcel:function(){if(c.status!==w)throw Error("Cannot unmount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return K(c,!0).then(function(t){return c.parentName&&delete e.parcels[c.id],t}).then(function(t){return f(t),t}).catch(function(t){throw c.status=O,p(t),t})}};e.parcels[i]=c;var s=u();if(!s||"function"!=typeof s.then)throw Error("When mounting a parcel, the config loading function must return a promise that resolves with the parcel config");var f,p,h=(s=s.then(function(t){if(!t)throw Error("When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config");var n=t.name||"parcel-".concat(i);if(!R(t.bootstrap))throw Error("Parcel ".concat(n," must have a valid bootstrap function"));if(!R(t.mount))throw Error("Parcel ".concat(n," must have a valid mount function"));if(!R(t.unmount))throw Error("Parcel ".concat(n," must have a valid unmount function"));if(t.update&&!R(t.update))throw Error("Parcel ".concat(n," provided an invalid update function"));var e=k(t.bootstrap),o=k(t.mount),a=k(t.unmount);c.status=d,c.name=n,c.bootstrap=e,c.mount=o,c.unmount=a,c.timeouts=B(t.timeouts),t.update&&(c.update=k(t.update),r.update=function(t){return c.customProps=t,X(function(t){return Promise.resolve().then(function(){if(t.status!==w)throw Error("Cannot update parcel '".concat(t.name,"' because it is not mounted"));return t.status=y,L(t.update(Y(t)),"Updating parcel '".concat(t.name,"'"),t.timeouts.mount).then(function(){return t.status=w,t}).catch(function(n){var e=l(n,t);throw t.status=O,e})})}(c))})})).then(function(){return W(c,!0)}),g=h.then(function(){return $(c,!0)}),b=new Promise(function(t,n){f=t,p=n});return r={mount:function(){return X(Promise.resolve().then(function(){if(c.status!==v)throw Error("Cannot mount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return e.parcels[i]=c,$(c)}))},unmount:function(){return X(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:X(s),bootstrapPromise:X(h),mountPromise:X(g),unmountPromise:X(b)}}function X(t){return t.then(function(){return null})}function Y(t){var e=a({},t.customProps,{name:t.name,mountParcel:z.bind(t),singleSpa:n});return t.unmountThisParcel&&(e.unmountSelf=t.unmountThisParcel),e}function Z(t){return Promise.resolve().then(function(){return t.status!==p?t:(t.status=m,Promise.resolve().then(function(){var e=t.loadImpl(Y(t));if(!q(e))throw Error("single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(t.name,"', loadingFunction, activityFunction)"));return e.then(function(e){var r;return"object"!==o(n=e)&&(r="does not export anything"),R(n.bootstrap)||(r="does not export a bootstrap function or array of functions"),R(n.mount)||(r="does not export a mount function or array of functions"),R(n.unmount)||(r="does not export an unmount function or array of functions"),r?(c(r,t),t.status=O,t):(n.devtools&&n.devtools.overlays&&(t.devtools.overlays=a({},t.devtools.overlays,n.devtools.overlays)),t.status=d,t.bootstrap=k(n.bootstrap,"App '".concat(t.name,"' bootstrap function")),t.mount=k(n.mount,"App '".concat(t.name,"' mount function")),t.unmount=k(n.unmount,"App '".concat(t.name,"' unmount function")),t.unload=k(n.unload||[],"App '".concat(t.name,"' unload function")),t.timeouts=B(n.timeouts),t)})}).catch(function(n){return c(n,t),t.status=O,t}));var n})}var tt={hashchange:[],popstate:[]},nt=["hashchange","popstate"];function et(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)n=t;else if(this&&this.href)n=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error("singleSpaNavigate must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag");n=t.currentTarget.href,t.preventDefault()}var r=ft(window.location.href),o=ft(n);if(0===n.indexOf("#"))window.location.hash="#"+o.anchor;else if(r.host!==o.host&&o.host){if(e.isTestingEnv)return{wouldHaveReloadedThePage:!0};window.location.href=n}else!function(t,n){return n===t||n==="/"+t}(o.path,r.path)?window.history.pushState(null,null,n):window.location.hash="#"+o.anchor}function rt(t){var n=this;if(t){var e=t[0].type;nt.indexOf(e)>=0&&tt[e].forEach(function(e){e.apply(n,t)})}}function ot(){jt([],arguments)}window.addEventListener("hashchange",ot),window.addEventListener("popstate",ot);var it=window.addEventListener,at=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&nt.indexOf(t)>=0)||G(tt[t],function(t){return t===n}))return it.apply(this,arguments);tt[t].push(n)},window.removeEventListener=function(t,n){if(!("function"==typeof n&&nt.indexOf(t)>=0))return at.apply(this,arguments);tt[t]=tt[t].filter(function(t){return t!==n})};var ut=window.history.pushState;window.history.pushState=function(t){var n=ut.apply(this,arguments);return ot(st(t)),n};var ct=window.history.replaceState;function st(t){try{return new PopStateEvent("popstate",{state:t})}catch(e){var n=document.createEvent("PopStateEvent");return n.initPopStateEvent("popstate",!1,!1,t),n}}function ft(t){for(var n={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e=n.parser.strict.exec(t),r={},o=14;o--;)r[n.key[o]]=e[o]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(t,e,o){e&&(r[n.q.name][e]=o)}),r}window.history.replaceState=function(t){var n=ct.apply(this,arguments);return ot(st(t)),n},window.singleSpaNavigate=et;var lt=!1;function pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!lt){var n=t.fn.on,e=t.fn.off;t.fn.on=function(t,e){return mt.call(this,n,window.addEventListener,t,e,arguments)},t.fn.off=function(t,n){return mt.call(this,e,window.removeEventListener,t,n,arguments)},lt=!0}}function mt(t,n,e,r,o){return"string"!=typeof e?t.apply(this,o):(e.split(/\s+/).forEach(function(t){nt.indexOf(t)>=0&&(n(t,r),e=e.replace(t,""))}),""===e.trim()?this:t.apply(this,o))}var dt={};function ht(t){return Promise.resolve().then(function(){var n=dt[t.name];return n?t.status===p?(vt(t,n),t):t.status===E?n.promise.then(function(){return t}):t.status!==v?t:(t.status=E,L(t.unload(Y(t)),"Unloading application '".concat(t.name,"'"),t.timeouts.unload).then(function(){return vt(t,n),t}).catch(function(e){return function(t,n,e){delete dt[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,c(e,t),t.status=O,n.reject(e)}(t,n,e),t})):t})}function vt(t,n){delete dt[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=p,n.resolve()}function gt(t,n,e,r){dt[t.name]={app:t,resolve:e,reject:r},Object.defineProperty(dt[t.name],"promise",{get:n})}var wt=[];function yt(){return wt.filter(P).map(x)}function bt(){return wt.map(x)}function Et(t){var n=G(wt,function(n){return n.name===t});return n?n.status:null}function Ot(t,n,e){return console.warn('declareChildApplication is deprecated and will be removed in the next major version, use "registerApplication" instead'),Pt(t,n,e)}function Pt(t,n,e){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof t||0===t.length)throw Error("The first argument must be a non-empty string 'appName'");if(-1!==bt().indexOf(t))throw Error("There is already an app declared with name ".concat(t));if("object"!==o(i)||Array.isArray(i))throw Error("customProps must be an object");if(!n)throw Error("The application or loading function is required");if(r="function"!=typeof n?function(){return Promise.resolve(n)}:n,"function"!=typeof e)throw Error("The activeWhen argument must be a function");wt.push({name:t,loadImpl:r,activeWhen:e,status:p,parcels:{},devtools:{overlays:{options:{},selectors:[]}},customProps:i}),pt(),jt()}function Tt(t){for(var n=[],e=0;e<wt.length;e++)wt[e].activeWhen(t)&&n.push(wt[e].name);return n}function At(){return wt.filter(_).filter(N).filter(S)}function Nt(t,n){return console.warn('unloadChildApplication is deprecated and will be removed in the next major version, use "unloadApplication" instead'),St(t,n)}function St(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error("unloadApplication requires a string 'appName'");var e=G(wt,function(n){return n.name===t});if(!e)throw Error("Could not unload application '".concat(t,"' because no such application has been registered"));var r,o=function(t){return dt[t]}(e.name);if(n&&n.waitForUnmount){if(o)return o.promise;var i=new Promise(function(t,n){gt(e,function(){return i},t,n)});return i}return o?(r=o.promise,Ut(e,o.resolve,o.reject)):r=new Promise(function(t,n){gt(e,function(){return r},t,n),Ut(e,t,n)}),r}function Ut(t,n,e){K(t).then(ht).then(function(){n(),setTimeout(function(){jt()})}).catch(e)}var _t=!1,xt=[];function Dt(){return jt()}function jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(_t)return new Promise(function(t,e){xt.push({resolve:t,reject:e,eventArguments:n})});_t=!0;var e=!0;return Ct?Promise.resolve().then(function(){window.dispatchEvent(new r("single-spa:before-routing-event",a()));var n=Object.keys(dt).map(function(t){return dt[t].app}).filter(T).map(ht),u=wt.filter(_).filter(P).filter(U).map(K).map(function(t){return t.then(ht)}),c=u.concat(n);c.length>0&&(e=!1);var s=Promise.all(c),f=At(),l=f.map(function(t){return Z(t).then(W).then(function(t){return s.then(function(){return $(t)})})});l.length>0&&(e=!1);var p=wt.filter(_).filter(T).filter(A).filter(S).filter(function(t){return f.indexOf(t)<0}).map(function(t){return W(t).then(function(){return s}).then(function(){return $(t)})});return p.length>0&&(e=!1),s.catch(function(t){throw i(),t}).then(function(){return i(),Promise.all(l.concat(p)).catch(function(n){throw t.forEach(function(t){return t.reject(n)}),n}).then(function(){return o(!1)})})}):Promise.resolve().then(function(){var t=At().map(Z);return t.length>0&&(e=!1),Promise.all(t).then(o).catch(function(t){throw i(),t})});function o(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=yt();n&&i(),t.forEach(function(t){return t.resolve(o)});try{var u=e?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new r(u,a())),window.dispatchEvent(new r("single-spa:routing-event",a()))}catch(t){setTimeout(function(){throw t})}if(_t=!1,xt.length>0){var c=xt;xt=[],jt(c)}return o}function i(){t.forEach(function(t){rt(t.eventArguments)}),rt(n)}function a(){var t={detail:{}};return n&&n[0]&&(t.detail.originalEvent=n[0]),t}}var Ct=!1;function Mt(){Ct=!0,jt()}setTimeout(function(){Ct||console.warn("singleSpa.start() has not been called, ".concat(5e3,"ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted. See https://github.com/CanopyTax/single-spa/blob/master/docs/single-spa-api.md#start"))},5e3);var It={getRawAppData:function(){return[].concat(wt)},reroute:jt,NOT_LOADED:p,toLoadPromise:Z,toBootstrapPromise:W,unregisterApplication:function(t){if(!wt.find(function(n){return n.name===t}))throw Error("Cannot unregister application '".concat(t,"' because no such application has been registered"));return St(t).then(function(){var n=wt.findIndex(function(n){return n.name===t});wt.splice(n,1)})}};window&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=It),t.BOOTSTRAPPING=h,t.LOADING_SOURCE_CODE=m,t.MOUNTED=w,t.MOUNTING=g,t.NOT_BOOTSTRAPPED=d,t.NOT_LOADED=p,t.NOT_MOUNTED=v,t.SKIP_BECAUSE_BROKEN=O,t.UNMOUNTING=b,t.UPDATING=y,t.addErrorHandler=s,t.checkActivityFunctions=Tt,t.declareChildApplication=Ot,t.ensureJQuerySupport=pt,t.getAppNames=bt,t.getAppStatus=Et,t.getMountedApps=yt,t.mountRootParcel=V,t.navigateToUrl=et,t.registerApplication=Pt,t.removeErrorHandler=f,t.setBootstrapMaxTime=j,t.setMountMaxTime=C,t.setUnloadMaxTime=I,t.setUnmountMaxTime=M,t.start=Mt,t.triggerAppChange=Dt,t.unloadApplication=St,t.unloadChildApplication=Nt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=single-spa.min.js.map

/* End of File include/javascript/single-spa/single-spa.min.js */

(function($){"use strict";$.fn.select2.locales=[];$.fn.select2.locales['ar']={formatNoMatches:function(){return"لم يتم العثور على مطابقات";},formatInputTooShort:function(input,min){var n=min-input.length;if(n==1){return"الرجاء إدخال حرف واحد على الأكثر";}return n==2?"الرجاء إدخال حرفين على الأكثر":"الرجاء إدخال "+n+" على الأكثر";},formatInputTooLong:function(input,max){var n=input.length-max;if(n==1){return"الرجاء إدخال حرف واحد على الأقل";}return n==2?"الرجاء إدخال حرفين على الأقل":"الرجاء إدخال "+n+" على الأقل ";},formatSelectionTooBig:function(limit){if(limit==1){return"يمكنك أن تختار إختيار واحد فقط";}return limit==2?"يمكنك أن تختار إختيارين فقط":"يمكنك أن تختار "+limit+" إختيارات فقط";},formatLoadMore:function(pageNumber){return"تحميل المزيد من النتائج…";},formatSearching:function(){return"البحث…";}};$.fn.select2.locales['az']={formatMatches:function(matches){return matches+" nəticə mövcuddur, hərəkət etdirmək üçün yuxarı və aşağı düymələrindən istifadə edin.";},formatNoMatches:function(){return"Nəticə tapılmadı";},formatInputTooShort:function(input,min){var n=min-input.length;return n+" simvol daxil edin";},formatInputTooLong:function(input,max){var n=input.length-max;return n+" simvol silin";},formatSelectionTooBig:function(limit){return"Sadəcə "+limit+" element seçə bilərsiniz";},formatLoadMore:function(pageNumber){return"Daha çox nəticə yüklənir…";},formatSearching:function(){return"Axtarılır…";}};$.fn.select2.locales['bg']={formatNoMatches:function(){return"Няма намерени съвпадения";},formatInputTooShort:function(input,min){var n=min-input.length;return"Моля въведете още "+n+" символ"+(n>1?"а":"");},formatInputTooLong:function(input,max){var n=input.length-max;return"Моля въведете с "+n+" по-малко символ"+(n>1?"а":"");},formatSelectionTooBig:function(limit){return"Можете да направите до "+limit+(limit>1?" избора":" избор");},formatLoadMore:function(pageNumber){return"Зареждат се още…";},formatSearching:function(){return"Търсене…";}};$.fn.select2.locales['ca']={formatNoMatches:function(){return"No s'ha trobat cap coincidència";},formatInputTooShort:function(input,min){var n=min-input.length;return"Introduïu "+n+" caràcter"+(n==1?"":"s")+" més";},formatInputTooLong:function(input,max){var n=input.length-max;return"Introduïu "+n+" caràcter"+(n==1?"":"s")+"menys";},formatSelectionTooBig:function(limit){return"Només podeu seleccionar "+limit+" element"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"S'estan carregant més resultats…";},formatSearching:function(){return"S'està cercant…";}};var smallNumbersCs={2:function(masc){return(masc?"dva":"dvě");},3:function(){return"tři";},4:function(){return"čtyři";}};$.fn.select2.locales['cs']={formatNoMatches:function(){return"Nenalezeny žádné položky";},formatInputTooShort:function(input,min){var n=min-input.length;if(n==1){return"Prosím zadejte ještě jeden znak";}else if(n<=4){return"Prosím zadejte ještě další "+smallNumbersCs[n](true)+" znaky";}else{return"Prosím zadejte ještě dalších "+n+" znaků";}},formatInputTooLong:function(input,max){var n=input.length-max;if(n==1){return"Prosím zadejte o jeden znak méně";}else if(n<=4){return"Prosím zadejte o "+smallNumbersCs[n](true)+" znaky méně";}else{return"Prosím zadejte o "+n+" znaků méně";}},formatSelectionTooBig:function(limit){if(limit==1){return"Můžete zvolit jen jednu položku";}else if(limit<=4){return"Můžete zvolit maximálně "+smallNumbersCs[limit](false)+" položky";}else{return"Můžete zvolit maximálně "+limit+" položek";}},formatLoadMore:function(pageNumber){return"Načítají se další výsledky…";},formatSearching:function(){return"Vyhledávání…";}};$.fn.select2.locales['da']={formatNoMatches:function(){return"Ingen resultater fundet";},formatInputTooShort:function(input,min){var n=min-input.length;return"Angiv venligst "+n+" tegn mere";},formatInputTooLong:function(input,max){var n=input.length-max;return"Angiv venligst "+n+" tegn mindre";},formatSelectionTooBig:function(limit){return"Du kan kun vælge "+limit+" emne"+(limit===1?"":"r");},formatLoadMore:function(pageNumber){return"Indlæser flere resultater…";},formatSearching:function(){return"Søger…";}};$.fn.select2.locales['de']={formatNoMatches:function(){return"Keine Übereinstimmungen gefunden";},formatInputTooShort:function(input,min){var n=min-input.length;return"Bitte "+n+" Zeichen mehr eingeben";},formatInputTooLong:function(input,max){var n=input.length-max;return"Bitte "+n+" Zeichen weniger eingeben";},formatSelectionTooBig:function(limit){return"Sie können nur "+limit+" Eintr"+(limit===1?"ag":"äge")+" auswählen";},formatLoadMore:function(pageNumber){return"Lade mehr Ergebnisse…";},formatSearching:function(){return"Suche…";},formatMatches:function(matches){return matches+" Ergebnis "+(matches>1?"se":"")+" verfügbar, zum Navigieren die Hoch-/Runter-Pfeiltasten verwenden.";}};$.fn.select2.locales['el']={formatNoMatches:function(){return"Δεν βρέθηκαν αποτελέσματα";},formatInputTooShort:function(input,min){var n=min-input.length;return"Παρακαλούμε εισάγετε "+n+" περισσότερο"+(n>1?"υς":"")+" χαρακτήρ"+(n>1?"ες":"α");},formatInputTooLong:function(input,max){var n=input.length-max;return"Παρακαλούμε διαγράψτε "+n+" χαρακτήρ"+(n>1?"ες":"α");},formatSelectionTooBig:function(limit){return"Μπορείτε να επιλέξετε μόνο "+limit+" αντικείμεν"+(limit>1?"α":"ο");},formatLoadMore:function(pageNumber){return"Φόρτωση περισσότερων…";},formatSearching:function(){return"Αναζήτηση…";}};$.fn.select2.locales['en']={formatMatches:function(matches){if(matches===1){return"One result is available, press enter to select it.";}return matches+" results are available, use up and down arrow keys to navigate.";},formatNoMatches:function(){return"No matches found";},formatInputTooShort:function(input,min){var n=min-input.length;return"Please enter "+n+" or more character"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Please delete "+n+" character"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"You can only select "+limit+" item"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Loading more results…";},formatSearching:function(){return"Searching…";}};$.fn.select2.locales['es']={formatMatches:function(matches){if(matches===1){return"Un resultado disponible, presione enter para seleccionarlo.";}return matches+" resultados disponibles, use las teclas de dirección para navegar.";},formatNoMatches:function(){return"No se encontraron resultados";},formatInputTooShort:function(input,min){var n=min-input.length;return"Por favor, introduzca "+n+" car"+(n==1?"ácter":"acteres");},formatInputTooLong:function(input,max){var n=input.length-max;return"Por favor, elimine "+n+" car"+(n==1?"ácter":"acteres");},formatSelectionTooBig:function(limit){return"Sólo puede seleccionar "+limit+" elemento"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Cargando más resultados…";},formatSearching:function(){return"Buscando…";},formatAjaxError:function(){return"La carga falló";}};$.fn.select2.locales['et']={formatNoMatches:function(){return"Tulemused puuduvad";},formatInputTooShort:function(input,min){var n=min-input.length;return"Sisesta "+n+" täht"+(n==1?"":"e")+" rohkem";},formatInputTooLong:function(input,max){var n=input.length-max;return"Sisesta "+n+" täht"+(n==1?"":"e")+" vähem";},formatSelectionTooBig:function(limit){return"Saad vaid "+limit+" tulemus"+(limit==1?"e":"t")+" valida";},formatLoadMore:function(pageNumber){return"Laen tulemusi..";},formatSearching:function(){return"Otsin..";}};$.fn.select2.locales['fa']={formatMatches:function(matches){return matches+" نتیجه موجود است، کلیدهای جهت بالا و پایین را برای گشتن استفاده کنید.";},formatNoMatches:function(){return"نتیجه‌ای یافت نشد.";},formatInputTooShort:function(input,min){var n=min-input.length;return"لطفاً "+n+" نویسه بیشتر وارد نمایید";},formatInputTooLong:function(input,max){var n=input.length-max;return"لطفاً "+n+" نویسه را حذف کنید.";},formatSelectionTooBig:function(limit){return"شما فقط می‌توانید "+limit+" مورد را انتخاب کنید";},formatLoadMore:function(pageNumber){return"در حال بارگیری موارد بیشتر…";},formatSearching:function(){return"در حال جستجو…";}};$.fn.select2.locales['fi']={formatNoMatches:function(){return"Ei tuloksia";},formatInputTooShort:function(input,min){var n=min-input.length;return"Ole hyvä ja anna "+n+" merkkiä lisää";},formatInputTooLong:function(input,max){var n=input.length-max;return"Ole hyvä ja anna "+n+" merkkiä vähemmän";},formatSelectionTooBig:function(limit){return"Voit valita ainoastaan "+limit+" kpl";},formatLoadMore:function(pageNumber){return"Ladataan lisää tuloksia…";},formatSearching:function(){return"Etsitään…";}};$.fn.select2.locales['fr']={formatMatches:function(matches){return matches+" résultats sont disponibles, utilisez les flèches haut et bas pour naviguer.";},formatNoMatches:function(){return"Aucun résultat trouvé";},formatInputTooShort:function(input,min){var n=min-input.length;return"Saisissez "+n+" caractère"+(n==1?"":"s")+" supplémentaire"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Supprimez "+n+" caractère"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"Vous pouvez seulement sélectionner "+limit+" élément"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Chargement de résultats supplémentaires…";},formatSearching:function(){return"Recherche en cours…";}};$.fn.select2.locales['he']={formatNoMatches:function(){return"לא נמצאו התאמות";},formatInputTooShort:function(input,min){var n=min-input.length;return"נא להזין עוד "+n+" תווים נוספים";},formatInputTooLong:function(input,max){var n=input.length-max;return"נא להזין פחות "+n+" תווים";},formatSelectionTooBig:function(limit){return"ניתן לבחור "+limit+" פריטים";},formatLoadMore:function(pageNumber){return"טוען תוצאות נוספות…";},formatSearching:function(){return"מחפש…";}};$.fn.select2.locales['hr']={formatNoMatches:function(){return"Nema rezultata";},formatInputTooShort:function(input,min){return"Unesite još"+(min-input.length);},formatInputTooLong:function(input,max){return"Unesite"+(input.length-max)+" manje";},formatSelectionTooBig:function(limit){return"Maksimalan broj odabranih stavki je "+limit;},formatLoadMore:function(pageNumber){return"Učitavanje rezultata…";},formatSearching:function(){return"Pretraga…";}};$.fn.select2.locales['hu']={formatNoMatches:function(){return"Nincs találat.";},formatInputTooShort:function(input,min){var n=min-input.length;return"Túl rövid. Még "+n+" karakter hiányzik.";},formatInputTooLong:function(input,max){var n=input.length-max;return"Túl hosszú. "+n+" karakterrel több, mint kellene.";},formatSelectionTooBig:function(limit){return"Csak "+limit+" elemet lehet kiválasztani.";},formatLoadMore:function(pageNumber){return"Töltés…";},formatSearching:function(){return"Keresés…";}};$.fn.select2.locales['id']={formatNoMatches:function(){return"Tidak ada data yang sesuai";},formatInputTooShort:function(input,min){var n=min-input.length;return"Masukkan "+n+" huruf lagi"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Hapus "+n+" huruf"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"Anda hanya dapat memilih "+limit+" pilihan"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Mengambil data…";},formatSearching:function(){return"Mencari…";}};$.fn.select2.locales['it']={formatNoMatches:function(){return"Nessuna corrispondenza trovata";},formatInputTooShort:function(input,min){var n=min-input.length;return"Inserisci ancora "+n+" caratter"+(n==1?"e":"i");},formatInputTooLong:function(input,max){var n=input.length-max;return"Inserisci "+n+" caratter"+(n==1?"e":"i")+" in meno";},formatSelectionTooBig:function(limit){return"Puoi selezionare solo "+limit+" element"+(limit==1?"o":"i");},formatLoadMore:function(pageNumber){return"Caricamento in corso…";},formatSearching:function(){return"Ricerca…";}};$.fn.select2.locales['ja']={formatNoMatches:function(){return"該当なし";},formatInputTooShort:function(input,min){var n=min-input.length;return"後"+n+"文字入れてください";},formatInputTooLong:function(input,max){var n=input.length-max;return"検索文字列が"+n+"文字長すぎます";},formatSelectionTooBig:function(limit){return"最多で"+limit+"項目までしか選択できません";},formatLoadMore:function(pageNumber){return"読込中･･･";},formatSearching:function(){return"検索中･･･";}};$.fn.select2.locales['ko']={formatNoMatches:function(){return"결과 없음";},formatInputTooShort:function(input,min){var n=min-input.length;return"너무 짧습니다. "+n+"글자 더 입력해주세요.";},formatInputTooLong:function(input,max){var n=input.length-max;return"너무 깁니다. "+n+"글자 지워주세요.";},formatSelectionTooBig:function(limit){return"최대 "+limit+"개까지만 선택하실 수 있습니다.";},formatLoadMore:function(pageNumber){return"불러오는 중…";},formatSearching:function(){return"검색 중…";}};$.fn.select2.locales['lt']={formatNoMatches:function(){return"Atitikmenų nerasta";},formatInputTooShort:function(input,min){return"Įrašykite dar"+characterLt(min-input.length);},formatInputTooLong:function(input,max){return"Pašalinkite"+characterLt(input.length-max);},formatSelectionTooBig:function(limit){return"Jūs galite pasirinkti tik "+limit+" element"+((limit%100>9&&limit%100<21)||limit%10==0?"ų":limit%10>1?"us":"ą");},formatLoadMore:function(pageNumber){return"Kraunama daugiau rezultatų…";},formatSearching:function(){return"Ieškoma…";}};function characterLt(n){return" "+n+" simbol"+((n%100>9&&n%100<21)||n%10==0?"ių":n%10>1?"ius":"į");}
$.fn.select2.locales['lv']={formatNoMatches:function(){return"Sakritību nav";},formatInputTooShort:function(input,min){var n=min-input.length;return"Lūdzu ievadiet vēl "+n+" simbol"+(n==11?"us":n%10==1?"u":"us");},formatInputTooLong:function(input,max){var n=input.length-max;return"Lūdzu ievadiet par "+n+" simbol"+(n==11?"iem":n%10==1?"u":"iem")+" mazāk";},formatSelectionTooBig:function(limit){return"Jūs varat izvēlēties ne vairāk kā "+limit+" element"+(limit==11?"us":limit%10==1?"u":"us");},formatLoadMore:function(pageNumber){return"Datu ielāde…";},formatSearching:function(){return"Meklēšana…";}};$.fn.select2.locales['mk']={formatNoMatches:function(){return"Нема пронајдено совпаѓања";},formatInputTooShort:function(input,min){var n=min-input.length;return"Ве молиме внесете уште "+n+" карактер"+(n==1?"":"и");},formatInputTooLong:function(input,max){var n=input.length-max;return"Ве молиме внесете "+n+" помалку карактер"+(n==1?"":"и");},formatSelectionTooBig:function(limit){return"Можете да изберете само "+limit+" ставк"+(limit==1?"а":"и");},formatLoadMore:function(pageNumber){return"Вчитување резултати…";},formatSearching:function(){return"Пребарување…";}};$.fn.select2.locales['nb']={formatMatches:function(matches){if(matches===1){return"Ett resultat er tilgjengelig, trykk enter for å velge det.";}return matches+" resultater er tilgjengelig. Bruk piltastene opp og ned for å navigere.";},formatNoMatches:function(){return"Ingen treff";},formatInputTooShort:function(input,min){var n=min-input.length;return"Vennligst skriv inn "+n+(n>1?" flere tegn":" tegn til");},formatInputTooLong:function(input,max){var n=input.length-max;return"Vennligst fjern "+n+" tegn";},formatSelectionTooBig:function(limit){return"Du kan velge maks "+limit+" elementer";},formatLoadMore:function(pageNumber){return"Laster flere resultater …";},formatSearching:function(){return"Søker …";}};$.fn.select2.locales['nl']={formatNoMatches:function(){return"Geen resultaten gevonden";},formatInputTooShort:function(input,min){var n=min-input.length;return"Vul nog "+n+" karakter"+(n==1?"":"s")+" in";},formatInputTooLong:function(input,max){var n=input.length-max;return"Haal "+n+" karakter"+(n==1?"":"s")+" weg";},formatSelectionTooBig:function(limit){return"Maximaal "+limit+" item"+(limit==1?"":"s")+" toegestaan";},formatLoadMore:function(pageNumber){return"Meer resultaten laden…";},formatSearching:function(){return"Zoeken…";}};$.fn.select2.locales['pl']={formatNoMatches:function(){return"Brak wyników";},formatInputTooShort:function(input,min){return"Wpisz co najmniej"+characterPl(min-input.length,"znak","i");},formatInputTooLong:function(input,max){return"Wpisana fraza jest za długa o"+characterPl(input.length-max,"znak","i");},formatSelectionTooBig:function(limit){return"Możesz zaznaczyć najwyżej"+characterPl(limit,"element","y");},formatLoadMore:function(pageNumber){return"Ładowanie wyników…";},formatSearching:function(){return"Szukanie…";}};function characterPl(n,word,pluralSuffix){var suffix='';if(n>1&&n<5){suffix=pluralSuffix;}else if(n==0||n>=5){suffix='ów';}
return" "+n+" "+word+suffix;}
$.fn.select2.locales['pt-BR']={formatNoMatches:function(){return"Nenhum resultado encontrado";},formatAjaxError:function(){return"Erro na busca";},formatInputTooShort:function(input,min){var n=min-input.length;return"Digite "+(min==1?"":"mais")+" "+n+" caracter"+(n==1?"":"es");},formatInputTooLong:function(input,max){var n=input.length-max;return"Apague "+n+" caracter"+(n==1?"":"es");},formatSelectionTooBig:function(limit){return"Só é possível selecionar "+limit+" elemento"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Carregando mais resultados…";},formatSearching:function(){return"Buscando…";}};$.fn.select2.locales['pt-PT']={formatNoMatches:function(){return"Nenhum resultado encontrado";},formatInputTooShort:function(input,min){var n=min-input.length;return"Introduza "+n+" car"+(n==1?"ácter":"acteres");},formatInputTooLong:function(input,max){var n=input.length-max;return"Apague "+n+" car"+(n==1?"ácter":"acteres");},formatSelectionTooBig:function(limit){return"Só é possível selecionar "+limit+" elemento"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"A carregar mais resultados…";},formatSearching:function(){return"A pesquisar…";}};$.fn.select2.locales['ro']={formatNoMatches:function(){return"Nu a fost găsit nimic";},formatInputTooShort:function(input,min){var n=min-input.length;return"Vă rugăm să introduceți incă "+n+" caracter"+(n==1?"":"e");},formatInputTooLong:function(input,max){var n=input.length-max;return"Vă rugăm să introduceți mai puțin de "+n+" caracter"+(n==1?"":"e");},formatSelectionTooBig:function(limit){return"Aveți voie să selectați cel mult "+limit+" element"+(limit==1?"":"e");},formatLoadMore:function(pageNumber){return"Se încarcă…";},formatSearching:function(){return"Căutare…";}};$.fn.select2.locales['rs']={formatNoMatches:function(){return"Ništa nije pronađeno";},formatInputTooShort:function(input,min){var n=min-input.length;return"Ukucajte bar još "+n+" simbol"+(n%10==1&&n%100!=11?"":"a");},formatInputTooLong:function(input,max){var n=input.length-max;return"Obrišite "+n+" simbol"+(n%10==1&&n%100!=11?"":"a");},formatSelectionTooBig:function(limit){return"Možete izabrati samo "+limit+" stavk"+(limit%10==1&&limit%100!=11?"u":(limit%10>=2&&limit%10<=4&&(limit%100<12||limit%100>14)?"e":"i"));},formatLoadMore:function(pageNumber){return"Preuzimanje još rezultata…";},formatSearching:function(){return"Pretraga…";}};$.fn.select2.locales['ru']={formatNoMatches:function(){return"Совпадений не найдено";},formatInputTooShort:function(input,min){return"Пожалуйста, введите еще хотя бы"+(min-input.length);},formatInputTooLong:function(input,max){return"Пожалуйста, введите на"+(input.length-max)+" меньше";},formatSelectionTooBig:function(limit){return"Вы можете выбрать не более "+limit+" элемент"+(limit%10==1&&limit%100!=11?"а":"ов");},formatLoadMore:function(pageNumber){return"Загрузка данных…";},formatSearching:function(){return"Поиск…";}};var smallNumbersSk={2:function(masc){return(masc?"dva":"dve");},3:function(){return"tri";},4:function(){return"štyri";}};$.fn.select2.locales['sk']={formatNoMatches:function(){return"Nenašli sa žiadne položky";},formatInputTooShort:function(input,min){var n=min-input.length;if(n==1){return"Prosím, zadajte ešte jeden znak";}else if(n<=4){return"Prosím, zadajte ešte ďalšie "+smallNumbersSk[n](true)+" znaky";}else{return"Prosím, zadajte ešte ďalších "+n+" znakov";}},formatInputTooLong:function(input,max){var n=input.length-max;if(n==1){return"Prosím, zadajte o jeden znak menej";}else if(n>=2&&n<=4){return"Prosím, zadajte o "+smallNumbersSk[n](true)+" znaky menej";}else{return"Prosím, zadajte o "+n+" znakov menej";}},formatSelectionTooBig:function(limit){if(limit==1){return"Môžete zvoliť len jednu položku";}else if(limit>=2&&limit<=4){return"Môžete zvoliť najviac "+smallNumbersSk[limit](false)+" položky";}else{return"Môžete zvoliť najviac "+limit+" položiek";}},formatLoadMore:function(pageNumber){return"Načítavajú sa ďalšie výsledky…";},formatSearching:function(){return"Vyhľadávanie…";}};$.fn.select2.locales['sv']={formatNoMatches:function(){return"Inga träffar";},formatInputTooShort:function(input,min){var n=min-input.length;return"Var god skriv in "+n+(n>1?" till tecken":" tecken till");},formatInputTooLong:function(input,max){var n=input.length-max;return"Var god sudda ut "+n+" tecken";},formatSelectionTooBig:function(limit){return"Du kan max välja "+limit+" element";},formatLoadMore:function(pageNumber){return"Laddar fler resultat…";},formatSearching:function(){return"Söker…";}};$.fn.select2.locales['th']={formatNoMatches:function(){return"ไม่พบข้อมูล";},formatInputTooShort:function(input,min){var n=min-input.length;return"โปรดพิมพ์เพิ่มอีก "+n+" ตัวอักษร";},formatInputTooLong:function(input,max){var n=input.length-max;return"โปรดลบออก "+n+" ตัวอักษร";},formatSelectionTooBig:function(limit){return"คุณสามารถเลือกได้ไม่เกิน "+limit+" รายการ";},formatLoadMore:function(pageNumber){return"กำลังค้นข้อมูลเพิ่ม…";},formatSearching:function(){return"กำลังค้นข้อมูล…";}};$.fn.select2.locales['tr']={formatNoMatches:function(){return"Sonuç bulunamadı";},formatInputTooShort:function(input,min){var n=min-input.length;return"En az "+n+" karakter daha girmelisiniz";},formatInputTooLong:function(input,max){var n=input.length-max;return n+" karakter azaltmalısınız";},formatSelectionTooBig:function(limit){return"Sadece "+limit+" seçim yapabilirsiniz";},formatLoadMore:function(pageNumber){return"Daha fazla…";},formatSearching:function(){return"Aranıyor…";}};$.fn.select2.locales['uk']={formatMatches:function(matches){return characterUk(matches,"результат")+" знайдено, використовуйте клавіші зі стрілками вверх та вниз для навігації.";},formatNoMatches:function(){return"Нічого не знайдено";},formatInputTooShort:function(input,min){return"Введіть буль ласка ще "+characterUk(min-input.length,"символ");},formatInputTooLong:function(input,max){return"Введіть буль ласка на "+characterUk(input.length-max,"символ")+" менше";},formatSelectionTooBig:function(limit){return"Ви можете вибрати лише "+characterUk(limit,"елемент");},formatLoadMore:function(pageNumber){return"Завантаження даних…";},formatSearching:function(){return"Пошук…";}};function characterUk(n,word){return n+" "+word+(n%10<5&&n%10>0&&(n%100<5||n%100>19)?n%10>1?"и":"":"ів");}
$.fn.select2.locales['zh-CN']={formatNoMatches:function(){return"没有找到匹配项";},formatInputTooShort:function(input,min){var n=min-input.length;return"请再输入"+n+"个字符";},formatInputTooLong:function(input,max){var n=input.length-max;return"请删掉"+n+"个字符";},formatSelectionTooBig:function(limit){return"你只能选择最多"+limit+"项";},formatLoadMore:function(pageNumber){return"加载结果中…";},formatSearching:function(){return"搜索中…";}};$.fn.select2.locales['zh-TW']={formatNoMatches:function(){return"沒有找到相符的項目";},formatInputTooShort:function(input,min){var n=min-input.length;return"請再輸入"+n+"個字元";},formatInputTooLong:function(input,max){var n=input.length-max;return"請刪掉"+n+"個字元";},formatSelectionTooBig:function(limit){return"你只能選擇最多"+limit+"項";},formatLoadMore:function(pageNumber){return"載入中…";},formatSearching:function(){return"搜尋中…";}};})(jQuery);
/* End of File include/javascript/select2/language.js */

!function(e,a){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?a(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],a):a(e.moment)}(this,function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,a,_){return e<12?_?"vm":"VM":_?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),e.defineLocale("ar-dz",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u0623\u062d_\u0625\u062b_\u062b\u0644\u0627_\u0623\u0631_\u062e\u0645_\u062c\u0645_\u0633\u0628".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:4}}),e.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}});var a={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},i={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},_=function(n){return function(e,a,_,s){var d=r(e),t=i[n][r(e)];return 2===d&&(t=t[a?0:1]),t.replace(/%d/i,e)}},s=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];e.defineLocale("ar-ly",{months:s,monthsShort:s,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:_("s"),ss:_("s"),m:_("m"),mm:_("m"),h:_("h"),hh:_("h"),d:_("d"),dd:_("d"),M:_("M"),MM:_("M"),y:_("y"),yy:_("y")},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return a[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),e.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:6,doy:12}});var d={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},t={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};e.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return t[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return d[e]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}}),e.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}});var n={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},m={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},o=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},u={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},l=function(n){return function(e,a,_,s){var d=o(e),t=u[n][o(e)];return 2===d&&(t=t[a?0:1]),t.replace(/%d/i,e)}},M=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];e.defineLocale("ar",{months:M,monthsShort:M,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:l("s"),ss:l("s"),m:l("m"),mm:l("m"),h:l("h"),hh:l("h"),d:l("d"),dd:l("d"),M:l("M"),MM:l("M"),y:l("y"),yy:l("y")},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return m[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return n[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}});var L={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};function Y(e,a,_){var s,d;return"m"===_?a?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===_?a?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":e+" "+(s=+e,d={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:a?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[_].split("_"),s%10==1&&s%100!=11?d[0]:2<=s%10&&s%10<=4&&(s%100<10||20<=s%100)?d[1]:d[2])}e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"birne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,a,_){return e<4?"gec\u0259":e<12?"s\u0259h\u0259r":e<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-\u0131nc\u0131";var a=e%10;return e+(L[a]||L[e%100-a]||L[100<=e?100:null])},week:{dow:1,doy:7}}),e.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:Y,mm:Y,h:Y,hh:Y,d:"\u0434\u0437\u0435\u043d\u044c",dd:Y,M:"\u043c\u0435\u0441\u044f\u0446",MM:Y,y:"\u0433\u043e\u0434",yy:Y},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,a,_){return e<4?"\u043d\u043e\u0447\u044b":e<12?"\u0440\u0430\u043d\u0456\u0446\u044b":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-\u044b":e+"-\u0456";case"D":return e+"-\u0433\u0430";default:return e}},week:{dow:1,doy:7}}),e.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u043d\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var a=e%10,_=e%100;return 0===e?e+"-\u0435\u0432":0===_?e+"-\u0435\u043d":10<_&&_<20?e+"-\u0442\u0438":1===a?e+"-\u0432\u0438":2===a?e+"-\u0440\u0438":7===a||8===a?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var h={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},y={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};e.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09c0_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2_\u0986\u0997_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u0983_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return y[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return h[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===a&&4<=e||"\u09a6\u09c1\u09aa\u09c1\u09b0"===a&&e<5||"\u09ac\u09bf\u0995\u09be\u09b2"===a?e+12:e},meridiem:function(e,a,_){return e<4?"\u09b0\u09be\u09a4":e<10?"\u09b8\u0995\u09be\u09b2":e<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}});var c={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},k={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};function p(e,a,_){var s,d,t;return e+" "+(s={mm:"munutenn",MM:"miz",dd:"devezh"}[_],2!==e?s:void 0!==(t={m:"v",b:"v",d:"z"})[(d=s).charAt(0)]?t[d.charAt(0)]+d.substring(1):d)}function D(e,a,_){var s=e+" ";switch(_){case"ss":return s+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return a?"jedna minuta":"jedne minute";case"mm":return s+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return a?"jedan sat":"jednog sata";case"hh":return s+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return s+=1===e?"dan":"dana";case"MM":return s+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return s+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(e){return k[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return c[e]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===a&&4<=e||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===a&&e<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===a?e+12:e},meridiem:function(e,a,_){return e<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":e<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":e<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":e<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}}),e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:p,h:"un eur",hh:"%d eur",d:"un devezh",dd:p,M:"ur miz",MM:p,y:"ur bloaz",yy:function(e){switch(function e(a){return 9<a?e(a%10):a}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){return e+(1===e?"a\xf1":"vet")},week:{dow:1,doy:4}}),e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:D,m:D,mm:D,h:D,hh:D,d:"dan",dd:D,M:"mjesec",MM:D,y:"godinu",yy:D},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,a){var _=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8";return"w"!==a&&"W"!==a||(_="a"),e+_},week:{dow:1,doy:4}});var T="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),f="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),g=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],w=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function H(e){return 1<e&&e<5&&1!=~~(e/10)}function b(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return a||s?d+(H(e)?"sekundy":"sekund"):d+"sekundami";break;case"m":return a?"minuta":s?"minutu":"minutou";case"mm":return a||s?d+(H(e)?"minuty":"minut"):d+"minutami";break;case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?d+(H(e)?"hodiny":"hodin"):d+"hodinami";break;case"d":return a||s?"den":"dnem";case"dd":return a||s?d+(H(e)?"dny":"dn\xed"):d+"dny";break;case"M":return a||s?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return a||s?d+(H(e)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):d+"m\u011bs\xedci";break;case"y":return a||s?"rok":"rokem";case"yy":return a||s?d+(H(e)?"roky":"let"):d+"lety";break}}function S(e,a,_,s){var d={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?d[_][0]:d[_][1]}function v(e,a,_,s){var d={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?d[_][0]:d[_][1]}function j(e,a,_,s){var d={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?d[_][0]:d[_][1]}e.defineLocale("cs",{months:T,monthsShort:f,monthsRegex:w,monthsShortRegex:w,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:g,longMonthsParse:g,shortMonthsParse:g,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:b,ss:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(e){return e+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(e)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}}),e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var a="";return 20<e?a=40===e||50===e||60===e||80===e||100===e?"fed":"ain":0<e&&(a=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+a},week:{dow:1,doy:4}}),e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:S,mm:"%d Minuten",h:S,hh:"%d Stunden",d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:v,mm:"%d Minuten",h:v,hh:"%d Stunden",d:v,dd:v,M:v,MM:v,y:v,yy:v},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:j,mm:"%d Minuten",h:j,hh:"%d Stunden",d:j,dd:j,M:j,MM:j,y:j,yy:j},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var x=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],P=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];e.defineLocale("dv",{months:x,monthsShort:x,weekdays:P,weekdaysShort:P,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return"\u0789\u078a"===e},meridiem:function(e,a,_){return e<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:7,doy:12}}),e.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(e,a){return e?"string"==typeof a&&/D/.test(a.substring(0,a.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(e,a,_){return 11<e?_?"\u03bc\u03bc":"\u039c\u039c":_?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(e){return"\u03bc"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,a){var _,s=this._calendarEl[e],d=a&&a.hours();return((_=s)instanceof Function||"[object Function]"===Object.prototype.toString.call(_))&&(s=s.apply(a)),s.replace("{}",d%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}}),e.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")}}),e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")}}),e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_a\u016dg_sep_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,a,_){return 11<e?_?"p.t.m.":"P.T.M.":_?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var W="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),A="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),O=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],E=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?A[e.month()]:W[e.month()]:W},monthsRegex:E,monthsShortRegex:E,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:O,longMonthsParse:O,shortMonthsParse:O,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});var F="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),z="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),J=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],I=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?z[e.month()]:F[e.month()]:F},monthsRegex:I,monthsShortRegex:I,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:J,longMonthsParse:J,shortMonthsParse:J,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}});var N="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),R="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),K=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],C=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function G(e,a,_,s){var d={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[e+" minuti",e+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[e+" tunni",e+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[e+" kuu",e+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[e+" aasta",e+" aastat"]};return a?d[_][2]?d[_][2]:d[_][1]:s?d[_][0]:d[_][1]}e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?R[e.month()]:N[e.month()]:N},monthsRegex:C,monthsShortRegex:C,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:K,longMonthsParse:K,shortMonthsParse:K,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:G,ss:G,m:G,mm:G,h:G,hh:G,d:G,dd:"%d p\xe4eva",M:G,MM:G,y:G,yy:G},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var B={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},q={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};e.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,a,_){return e<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"\u062b\u0627\u0646\u06cc\u0647 d%",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,function(e){return q[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return B[e]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}});var U="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),$=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",U[7],U[8],U[9]];function Q(e,a,_,s){var d,t,n="";switch(_){case"s":return s?"muutaman sekunnin":"muutama sekunti";case"ss":return s?"sekunnin":"sekuntia";case"m":return s?"minuutin":"minuutti";case"mm":n=s?"minuutin":"minuuttia";break;case"h":return s?"tunnin":"tunti";case"hh":n=s?"tunnin":"tuntia";break;case"d":return s?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":n=s?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return s?"kuukauden":"kuukausi";case"MM":n=s?"kuukauden":"kuukautta";break;case"y":return s?"vuoden":"vuosi";case"yy":n=s?"vuoden":"vuotta";break}return t=s,n=((d=e)<10?t?$[d]:U[d]:d)+" "+n}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:Q,ss:Q,m:Q,mm:Q,h:Q,hh:Q,d:Q,dd:Q,M:Q,MM:Q,y:Q,yy:Q},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),e.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}}),e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,a){switch(a){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var V="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Z="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?Z[e.month()]:V[e.month()]:V},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});e.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","M\xe9itheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deaireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean\xe1","Feab","M\xe1rt","Aibr","Beal","M\xe9it","I\xfail","L\xfana","Me\xe1n","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Satharn"],weekdaysShort:["Dom","Lua","M\xe1i","C\xe9a","D\xe9a","hAo","Sat"],weekdaysMin:["Do","Lu","M\xe1","Ce","D\xe9","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xed",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}});function X(e,a,_,s){var d={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voranim",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return a?d[_][0]:d[_][1]}e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:X,ss:X,m:X,mm:X,h:X,hh:X,d:X,dd:X,M:X,MM:X,y:X,yy:X},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,a){switch(a){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,a){return 12===e&&(e=0),"rati"===a?e<4?e:e+12:"sokalli"===a?e:"donparam"===a?12<e?e:e+12:"sanje"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}});var ee={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},ae={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};e.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ac7\u0ab9\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(e){return e.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(e){return ae[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ee[e]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0ab0\u0abe\u0aa4"===a?e<4?e:e+12:"\u0ab8\u0ab5\u0abe\u0ab0"===a?e:"\u0aac\u0aaa\u0acb\u0ab0"===a?10<=e?e:e+12:"\u0ab8\u0abe\u0a82\u0a9c"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0ab0\u0abe\u0aa4":e<10?"\u0ab8\u0ab5\u0abe\u0ab0":e<17?"\u0aac\u0aaa\u0acb\u0ab0":e<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}}),e.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":e+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":e+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":e+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":e%10==0&&10!==e?e+" \u05e9\u05e0\u05d4":e+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(e){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(e)},meridiem:function(e,a,_){return e<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":e<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":e<12?_?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":e<18?_?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}});var _e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},se={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function de(e,a,_){var s=e+" ";switch(_){case"ss":return s+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return a?"jedna minuta":"jedne minute";case"mm":return s+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return a?"jedan sat":"jednog sata";case"hh":return s+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return s+=1===e?"dan":"dana";case"MM":return s+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return s+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hi",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return se[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return _e[e]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924"===a?e<4?e:e+12:"\u0938\u0941\u092c\u0939"===a?e:"\u0926\u094b\u092a\u0939\u0930"===a?10<=e?e:e+12:"\u0936\u093e\u092e"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0930\u093e\u0924":e<10?"\u0938\u0941\u092c\u0939":e<17?"\u0926\u094b\u092a\u0939\u0930":e<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}}),e.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:de,m:de,mm:de,h:de,hh:de,d:"dan",dd:de,M:"mjesec",MM:de,y:"godinu",yy:de},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var te="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function ne(e,a,_,s){var d=e;switch(_){case"s":return s||a?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return d+(s||a)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(s||a?" perc":" perce");case"mm":return d+(s||a?" perc":" perce");case"h":return"egy"+(s||a?" \xf3ra":" \xf3r\xe1ja");case"hh":return d+(s||a?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(s||a?" nap":" napja");case"dd":return d+(s||a?" nap":" napja");case"M":return"egy"+(s||a?" h\xf3nap":" h\xf3napja");case"MM":return d+(s||a?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(s||a?" \xe9v":" \xe9ve");case"yy":return d+(s||a?" \xe9v":" \xe9ve")}return""}function re(e){return(e?"":"[m\xfalt] ")+"["+te[this.day()]+"] LT[-kor]"}function ie(e){return e%100==11||e%10!=1}function me(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return ie(e)?d+(a||s?"sek\xfandur":"sek\xfandum"):d+"sek\xfanda";case"m":return a?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return ie(e)?d+(a||s?"m\xedn\xfatur":"m\xedn\xfatum"):a?d+"m\xedn\xfata":d+"m\xedn\xfatu";case"hh":return ie(e)?d+(a||s?"klukkustundir":"klukkustundum"):d+"klukkustund";case"d":return a?"dagur":s?"dag":"degi";case"dd":return ie(e)?a?d+"dagar":d+(s?"daga":"d\xf6gum"):a?d+"dagur":d+(s?"dag":"degi");case"M":return a?"m\xe1nu\xf0ur":s?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return ie(e)?a?d+"m\xe1nu\xf0ir":d+(s?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):a?d+"m\xe1nu\xf0ur":d+(s?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return a||s?"\xe1r":"\xe1ri";case"yy":return ie(e)?d+(a||s?"\xe1r":"\xe1rum"):d+(a||s?"\xe1r":"\xe1ri")}}e.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,a,_){return e<12?!0===_?"de":"DE":!0===_?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return re.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return re.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:ne,ss:ne,m:ne,mm:ne,h:ne,hh:ne,d:ne,dd:ne,M:ne,MM:ne,y:ne,yy:ne},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return e<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":e<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":e<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,a){switch(a){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-\u056b\u0576":e+"-\u0580\u0564";default:return e}},week:{dow:1,doy:7}}),e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"siang"===a?11<=e?e:e+12:"sore"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:me,ss:me,m:me,mm:me,h:"klukkustund",hh:me,d:me,dd:me,M:me,MM:me,y:me,yy:me},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("ja",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,a,_){return e<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(e){return e.week()<this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(e){return this.week()<e.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}}),e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,a){return 12===e&&(e=0),"enjing"===a?e:"siyang"===a?11<=e?e:e+12:"sonten"===a||"ndalu"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),e.defineLocale("ka",{months:{standalone:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),format:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_")},monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,"\u10e8\u10d8"):e+"\u10e8\u10d8"},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):void 0},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-\u10da\u10d8":e<20||e<=100&&e%20==0||e%100==0?"\u10db\u10d4-"+e:e+"-\u10d4"},week:{dow:1,doy:7}});var oe={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};e.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){return e+(oe[e]||oe[e%10]||oe[100<=e?100:null])},week:{dow:1,doy:7}});var ue={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},le={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};e.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(e){return"\u179b\u17d2\u1784\u17b6\u1785"===e},meridiem:function(e,a,_){return e<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(e){return e.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(e){return le[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ue[e]})},week:{dow:1,doy:4}});var Me={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},Le={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};e.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(e){return e.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(e){return Le[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Me[e]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===a?e<4?e:e+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===a?e:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===a?10<=e?e:e+12:"\u0cb8\u0c82\u0c9c\u0cc6"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":e<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":e<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":e<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(e){return e+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}}),e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,a,_){return e<12?"\uc624\uc804":"\uc624\ud6c4"}});var Ye={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},he={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},ye=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];e.defineLocale("ku",{months:ye,monthsShort:ye,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(e){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(e)},meridiem:function(e,a,_){return e<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return he[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Ye[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}});var ce={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};function ke(e,a,_,s){var d={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return a?d[_][0]:d[_][1]}function pe(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var a=e%10;return pe(0===a?e/10:a)}if(e<1e4){for(;10<=e;)e/=10;return pe(e)}return pe(e/=1e3)}e.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(e){return e+(ce[e]||ce[e%10]||ce[100<=e?100:null])},week:{dow:1,doy:7}}),e.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return pe(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return pe(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:ke,mm:"%d Minutten",h:ke,hh:"%d Stonnen",d:ke,dd:"%d Deeg",M:ke,MM:"%d M\xe9int",y:ke,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===e},meridiem:function(e,a,_){return e<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return"\u0e97\u0eb5\u0ec8"+e}});var De={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function Te(e,a,_,s){return a?ge(_)[0]:s?ge(_)[1]:ge(_)[2]}function fe(e){return e%10==0||10<e&&e<20}function ge(e){return De[e].split("_")}function we(e,a,_,s){var d=e+" ";return 1===e?d+Te(0,a,_[0],s):a?d+(fe(e)?ge(_)[1]:ge(_)[0]):s?d+ge(_)[1]:d+(fe(e)?ge(_)[1]:ge(_)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(e,a,_,s){return a?"kelios sekund\u0117s":s?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:we,m:Te,mm:we,h:Te,hh:we,d:Te,dd:we,M:Te,MM:we,y:Te,yy:we},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var He={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function be(e,a,_){return _?a%10==1&&a%100!=11?e[2]:e[3]:a%10==1&&a%100!=11?e[0]:e[1]}function Se(e,a,_){return e+" "+be(He[_],e,a)}function ve(e,a,_){return be(He[_],e,a)}e.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(e,a){return a?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:Se,m:ve,mm:Se,h:ve,hh:Se,d:ve,dd:Se,M:ve,MM:Se,y:ve,yy:Se},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var je={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,a){return 1===e?a[0]:2<=e&&e<=4?a[1]:a[2]},translate:function(e,a,_){var s=je.words[_];return 1===_.length?a?s[0]:s[1]:e+" "+je.correctGrammaticalCase(e,s)}};function xe(e,a,_,s){switch(_){case"s":return a?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return e+(a?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return e+(a?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return e+(a?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return e+(a?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return e+(a?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return e+(a?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return e}}e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:je.translate,m:je.translate,mm:je.translate,h:je.translate,hh:je.translate,d:"dan",dd:je.translate,M:"mjesec",MM:je.translate,y:"godinu",yy:je.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u043e\u0441\u043b\u0435 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var a=e%10,_=e%100;return 0===e?e+"-\u0435\u0432":0===_?e+"-\u0435\u043d":10<_&&_<20?e+"-\u0442\u0438":1===a?e+"-\u0432\u0438":2===a?e+"-\u0440\u0438":7===a||8===a?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),e.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===a&&4<=e||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===a||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===a?e+12:e},meridiem:function(e,a,_){return e<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":e<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":e<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":e<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}}),e.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(e){return"\u04ae\u0425"===e},meridiem:function(e,a,_){return e<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:xe,ss:xe,m:xe,mm:xe,h:xe,hh:xe,d:xe,dd:xe,M:xe,MM:xe,y:xe,yy:xe},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+" \u04e9\u0434\u04e9\u0440";default:return e}}});var Pe={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},We={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function Ae(e,a,_,s){var d="";if(a)switch(_){case"s":d="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":d="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":d="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":d="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":d="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":d="%d \u0924\u093e\u0938";break;case"d":d="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":d="%d \u0926\u093f\u0935\u0938";break;case"M":d="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":d="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":d="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":d="%d \u0935\u0930\u094d\u0937\u0947";break}else switch(_){case"s":d="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":d="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":d="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":d="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":d="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":d="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":d="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":d="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":d="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":d="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":d="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":d="%d \u0935\u0930\u094d\u0937\u093e\u0902";break}return d.replace(/%d/i,e)}e.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:Ae,ss:Ae,m:Ae,mm:Ae,h:Ae,hh:Ae,d:Ae,dd:Ae,M:Ae,MM:Ae,y:Ae,yy:Ae},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return We[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Pe[e]})},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924\u094d\u0930\u0940"===a?e<4?e:e+12:"\u0938\u0915\u093e\u0933\u0940"===a?e:"\u0926\u0941\u092a\u093e\u0930\u0940"===a?10<=e?e:e+12:"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0930\u093e\u0924\u094d\u0930\u0940":e<10?"\u0938\u0915\u093e\u0933\u0940":e<17?"\u0926\u0941\u092a\u093e\u0930\u0940":e<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}}),e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"tengahari"===a?11<=e?e:e+12:"petang"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"tengahari"===a?11<=e?e:e+12:"petang"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});var Oe={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},Ee={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};e.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(e){return Ee[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Oe[e]})},week:{dow:1,doy:4}}),e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Fe={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},ze={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};e.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return ze[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Fe[e]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924\u093f"===a?e<4?e:e+12:"\u092c\u093f\u0939\u093e\u0928"===a?e:"\u0926\u093f\u0909\u0901\u0938\u094b"===a?10<=e?e:e+12:"\u0938\u093e\u0901\u091d"===a?e+12:void 0},meridiem:function(e,a,_){return e<3?"\u0930\u093e\u0924\u093f":e<12?"\u092c\u093f\u0939\u093e\u0928":e<16?"\u0926\u093f\u0909\u0901\u0938\u094b":e<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}});var Je="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Ie="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ne=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Re=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?Ie[e.month()]:Je[e.month()]:Je},monthsRegex:Re,monthsShortRegex:Re,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ne,longMonthsParse:Ne,shortMonthsParse:Ne,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});var Ke="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Ce="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ge=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Be=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?Ce[e.month()]:Ke[e.month()]:Ke},monthsRegex:Be,monthsShortRegex:Be,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ge,longMonthsParse:Ge,shortMonthsParse:Ge,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_m\xe5n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var qe={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},Ue={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};e.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(e){return e.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(e){return Ue[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return qe[e]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0a30\u0a3e\u0a24"===a?e<4?e:e+12:"\u0a38\u0a35\u0a47\u0a30"===a?e:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===a?10<=e?e:e+12:"\u0a38\u0a3c\u0a3e\u0a2e"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0a30\u0a3e\u0a24":e<10?"\u0a38\u0a35\u0a47\u0a30":e<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":e<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}});var $e="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),Qe="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_");function Ve(e){return e%10<5&&1<e%10&&~~(e/10)%10!=1}function Ze(e,a,_){var s=e+" ";switch(_){case"ss":return s+(Ve(e)?"sekundy":"sekund");case"m":return a?"minuta":"minut\u0119";case"mm":return s+(Ve(e)?"minuty":"minut");case"h":return a?"godzina":"godzin\u0119";case"hh":return s+(Ve(e)?"godziny":"godzin");case"MM":return s+(Ve(e)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return s+(Ve(e)?"lata":"lat")}}function Xe(e,a,_){var s=" ";return(20<=e%100||100<=e&&e%100==0)&&(s=" de "),e+s+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[_]}function ea(e,a,_){var s,d;return"m"===_?a?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+(s=+e,d={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[_].split("_"),s%10==1&&s%100!=11?d[0]:2<=s%10&&s%10<=4&&(s%100<10||20<=s%100)?d[1]:d[2])}e.defineLocale("pl",{months:function(e,a){return e?""===a?"("+Qe[e.month()]+"|"+$e[e.month()]+")":/D MMMM/.test(a)?Qe[e.month()]:$e[e.month()]:$e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Ze,m:Ze,mm:Ze,h:Ze,hh:Ze,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:Ze,y:"rok",yy:Ze},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"}),e.defineLocale("pt",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:Xe,m:"un minut",mm:Xe,h:"o or\u0103",hh:Xe,d:"o zi",dd:Xe,M:"o lun\u0103",MM:Xe,y:"un an",yy:Xe},week:{dow:1,doy:7}});var aa=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];e.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:aa,longMonthsParse:aa,shortMonthsParse:aa,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:ea,m:ea,mm:ea,h:"\u0447\u0430\u0441",hh:ea,d:"\u0434\u0435\u043d\u044c",dd:ea,M:"\u043c\u0435\u0441\u044f\u0446",MM:ea,y:"\u0433\u043e\u0434",yy:ea},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,a,_){return e<4?"\u043d\u043e\u0447\u0438":e<12?"\u0443\u0442\u0440\u0430":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":return e+"-\u0439";case"D":return e+"-\u0433\u043e";case"w":case"W":return e+"-\u044f";default:return e}},week:{dow:1,doy:4}});var _a=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],sa=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];e.defineLocale("sd",{months:_a,monthsShort:_a,weekdays:sa,weekdaysShort:sa,weekdaysMin:sa,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}}),e.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(e){return"\u0db4.\u0dc0."===e||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===e},meridiem:function(e,a,_){return 11<e?_?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":_?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}});var da="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),ta="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function na(e){return 1<e&&e<5}function ra(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return a||s?d+(na(e)?"sekundy":"sek\xfand"):d+"sekundami";break;case"m":return a?"min\xfata":s?"min\xfatu":"min\xfatou";case"mm":return a||s?d+(na(e)?"min\xfaty":"min\xfat"):d+"min\xfatami";break;case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?d+(na(e)?"hodiny":"hod\xedn"):d+"hodinami";break;case"d":return a||s?"de\u0148":"d\u0148om";case"dd":return a||s?d+(na(e)?"dni":"dn\xed"):d+"d\u0148ami";break;case"M":return a||s?"mesiac":"mesiacom";case"MM":return a||s?d+(na(e)?"mesiace":"mesiacov"):d+"mesiacmi";break;case"y":return a||s?"rok":"rokom";case"yy":return a||s?d+(na(e)?"roky":"rokov"):d+"rokmi";break}}function ia(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"nekaj sekund":"nekaj sekundami";case"ss":return d+=1===e?a?"sekundo":"sekundi":2===e?a||s?"sekundi":"sekundah":e<5?a||s?"sekunde":"sekundah":"sekund";case"m":return a?"ena minuta":"eno minuto";case"mm":return d+=1===e?a?"minuta":"minuto":2===e?a||s?"minuti":"minutama":e<5?a||s?"minute":"minutami":a||s?"minut":"minutami";case"h":return a?"ena ura":"eno uro";case"hh":return d+=1===e?a?"ura":"uro":2===e?a||s?"uri":"urama":e<5?a||s?"ure":"urami":a||s?"ur":"urami";case"d":return a||s?"en dan":"enim dnem";case"dd":return d+=1===e?a||s?"dan":"dnem":2===e?a||s?"dni":"dnevoma":a||s?"dni":"dnevi";case"M":return a||s?"en mesec":"enim mesecem";case"MM":return d+=1===e?a||s?"mesec":"mesecem":2===e?a||s?"meseca":"mesecema":e<5?a||s?"mesece":"meseci":a||s?"mesecev":"meseci";case"y":return a||s?"eno leto":"enim letom";case"yy":return d+=1===e?a||s?"leto":"letom":2===e?a||s?"leti":"letoma":e<5?a||s?"leta":"leti":a||s?"let":"leti"}}e.defineLocale("sk",{months:da,monthsShort:ta,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:ra,ss:ra,m:ra,mm:ra,h:ra,hh:ra,d:ra,dd:ra,M:ra,MM:ra,y:ra,yy:ra},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:ia,ss:ia,m:ia,mm:ia,h:ia,hh:ia,d:ia,dd:ia,M:ia,MM:ia,y:ia,yy:ia},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,a,_){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ma={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(e,a){return 1===e?a[0]:2<=e&&e<=4?a[1]:a[2]},translate:function(e,a,_){var s=ma.words[_];return 1===_.length?a?s[0]:s[1]:e+" "+ma.correctGrammaticalCase(e,s)}};e.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:ma.translate,m:ma.translate,mm:ma.translate,h:ma.translate,hh:ma.translate,d:"\u0434\u0430\u043d",dd:ma.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:ma.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:ma.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var oa={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,a){return 1===e?a[0]:2<=e&&e<=4?a[1]:a[2]},translate:function(e,a,_){var s=oa.words[_];return 1===_.length?a?s[0]:s[1]:e+" "+oa.correctGrammaticalCase(e,s)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:oa.translate,m:oa.translate,mm:oa.translate,h:oa.translate,hh:oa.translate,d:"dan",dd:oa.translate,M:"mesec",MM:oa.translate,y:"godinu",yy:oa.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,a,_){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,a){return 12===e&&(e=0),"ekuseni"===a?e:"emini"===a?11<=e?e:e+12:"entsambama"===a||"ebusuku"===a?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"e":1===a?"a":2===a?"a":"e")},week:{dow:1,doy:4}}),e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var ua={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},la={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};e.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"\u0bb5\u0ba4\u0bc1"},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(e){return la[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ua[e]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,a,_){return e<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":e<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":e<10?" \u0b95\u0bbe\u0bb2\u0bc8":e<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":e<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":e<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(e,a){return 12===e&&(e=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===a?e<2?e:e+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===a||"\u0b95\u0bbe\u0bb2\u0bc8"===a?e:"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===a&&10<=e?e:e+12},week:{dow:0,doy:6}}),e.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===a?e<4?e:e+12:"\u0c09\u0c26\u0c2f\u0c02"===a?e:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===a?10<=e?e:e+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":e<10?"\u0c09\u0c26\u0c2f\u0c02":e<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":e<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}}),e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}});var Ma={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};e.defineLocale("tg",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u041f\u0430\u0433\u043e\u04b3 \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0448\u0430\u0431"===a?e<4?e:e+12:"\u0441\u0443\u0431\u04b3"===a?e:"\u0440\u04ef\u0437"===a?11<=e?e:e+12:"\u0431\u0435\u0433\u043e\u04b3"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0448\u0430\u0431":e<11?"\u0441\u0443\u0431\u04b3":e<16?"\u0440\u04ef\u0437":e<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(e){return e+(Ma[e]||Ma[e%10]||Ma[100<=e?100:null])},week:{dow:1,doy:7}}),e.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e},meridiem:function(e,a,_){return e<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}}),e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});var La="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function Ya(e,a,_,s){var d=function(e){var a=Math.floor(e%1e3/100),_=Math.floor(e%100/10),s=e%10,d="";0<a&&(d+=La[a]+"vatlh");0<_&&(d+=(""!==d?" ":"")+La[_]+"maH");0<s&&(d+=(""!==d?" ":"")+La[s]);return""===d?"pagh":d}(e);switch(_){case"ss":return d+" lup";case"mm":return d+" tup";case"hh":return d+" rep";case"dd":return d+" jaj";case"MM":return d+" jar";case"yy":return d+" DIS"}}e.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var a=e;return a=-1!==e.indexOf("jaj")?a.slice(0,-3)+"leS":-1!==e.indexOf("jar")?a.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?a.slice(0,-3)+"nem":a+" pIq"},past:function(e){var a=e;return a=-1!==e.indexOf("jaj")?a.slice(0,-3)+"Hu\u2019":-1!==e.indexOf("jar")?a.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?a.slice(0,-3)+"ben":a+" ret"},s:"puS lup",ss:Ya,m:"wa\u2019 tup",mm:Ya,h:"wa\u2019 rep",hh:Ya,d:"wa\u2019 jaj",dd:Ya,M:"wa\u2019 jar",MM:Ya,y:"wa\u2019 DIS",yy:Ya},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ha={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};function ya(e,a,_,s){var d={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[e+" m\xeduts",e+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[e+" \xfeoras",e+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return s?d[_][0]:a?d[_][0]:d[_][1]}function ca(e,a,_){var s,d;return"m"===_?a?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===_?a?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":e+" "+(s=+e,d={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:a?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[_].split("_"),s%10==1&&s%100!=11?d[0]:2<=s%10&&s%10<=4&&(s%100<10||20<=s%100)?d[1]:d[2])}function ka(e){return function(){return e+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}e.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e,a){switch(a){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'\u0131nc\u0131";var _=e%10;return e+(ha[_]||ha[e%100-_]||ha[100<=e?100:null])}},week:{dow:1,doy:7}}),e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,a,_){return 11<e?_?"d'o":"D'O":_?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:ya,ss:ya,m:ya,mm:ya,h:ya,hh:ya,d:ya,dd:ya,M:ya,MM:ya,y:ya,yy:ya},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),e.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}}),e.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===a||"\u0633\u06d5\u06be\u06d5\u0631"===a||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===a?e:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===a||"\u0643\u06d5\u0686"===a?e+12:11<=e?e:e+12},meridiem:function(e,a,_){var s=100*e+a;return s<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":s<900?"\u0633\u06d5\u06be\u06d5\u0631":s<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":s<1230?"\u0686\u06c8\u0634":s<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return e+"-\u06be\u06d5\u067e\u062a\u06d5";default:return e}},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:7}}),e.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(e,a){var _={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===e?_.nominative.slice(1,7).concat(_.nominative.slice(0,1)):e?_[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(a)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(a)?"genitive":"nominative"][e.day()]:_.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:ka("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:ka("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:ka("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:ka("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return ka("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return ka("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:ca,m:ca,mm:ca,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:ca,d:"\u0434\u0435\u043d\u044c",dd:ca,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:ca,y:"\u0440\u0456\u043a",yy:ca},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,a,_){return e<4?"\u043d\u043e\u0447\u0456":e<12?"\u0440\u0430\u043d\u043a\u0443":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":case"w":case"W":return e+"-\u0439";case"D":return e+"-\u0433\u043e";default:return e}},week:{dow:1,doy:7}});var pa=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],Da=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];return e.defineLocale("ur",{months:pa,monthsShort:pa,weekdays:Da,weekdaysShort:Da,weekdaysMin:Da,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}}),e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),e.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}}),e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,a,_){return e<12?_?"sa":"SA":_?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),e.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}}),e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:11<=e?e:e+12},meridiem:function(e,a,_){var s=100*e+a;return s<600?"\u51cc\u6668":s<900?"\u65e9\u4e0a":s<1130?"\u4e0a\u5348":s<1230?"\u4e2d\u5348":s<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}}),e.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,_){var s=100*e+a;return s<600?"\u51cc\u6668":s<900?"\u65e9\u4e0a":s<1130?"\u4e0a\u5348":s<1230?"\u4e2d\u5348":s<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),e.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,_){var s=100*e+a;return s<600?"\u51cc\u6668":s<900?"\u65e9\u4e0a":s<1130?"\u4e0a\u5348":s<1230?"\u4e2d\u5348":s<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),e.locale("en"),e});
/* End of File sidecar/node_modules/moment/min/locales.min.js */

!function(){var e=function(e){"use strict";function t(e){if(e.paused||e.ended||m)return!1;try{c.clearRect(0,0,h,l),c.drawImage(e,0,0,h,l)}catch(o){}p=setTimeout(t,O.duration,e),L.setIcon(s)}function o(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,o,n){return t+t+o+o+n+n});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:!1}function n(e,t){var o,n={};for(o in e)n[o]=e[o];for(o in t)n[o]=t[o];return n}function r(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden}e=e?e:{};var i,a,l,h,s,c,f,d,u,y,g,m,w,x,p,b={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1};w={},w.ff="undefined"!=typeof InstallTrigger,w.chrome=!!window.chrome,w.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,w.ie=/*@cc_on!@*/!1,w.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,w.supported=w.chrome||w.ff||w.opera;var v=[];g=function(){},d=m=!1;var C=function(){i=n(b,e),i.bgColor=o(i.bgColor),i.textColor=o(i.textColor),i.position=i.position.toLowerCase(),i.animation=O.types[""+i.animation]?i.animation:b.animation;var t=i.position.indexOf("up")>-1,r=i.position.indexOf("left")>-1;if(t||r)for(var d=0;d<O.types[""+i.animation].length;d++){var u=O.types[""+i.animation][d];t&&(u.y=u.y<.6?u.y-.4:u.y-2*u.y+(1-u.w)),r&&(u.x=u.x<.6?u.x-.4:u.x-2*u.x+(1-u.h)),O.types[""+i.animation][d]=u}i.type=M[""+i.type]?i.type:b.type,a=L.getIcon(),s=document.createElement("canvas"),f=document.createElement("img"),a.hasAttribute("href")?(f.setAttribute("src",a.getAttribute("href")),f.onload=function(){l=f.height>0?f.height:32,h=f.width>0?f.width:32,s.height=l,s.width=h,c=s.getContext("2d"),I.ready()}):(f.setAttribute("src",""),l=32,h=32,f.height=l,f.width=h,s.height=l,s.width=h,c=s.getContext("2d"),I.ready())},I={};I.ready=function(){d=!0,I.reset(),g()},I.reset=function(){d&&(v=[],u=!1,y=!1,c.clearRect(0,0,h,l),c.drawImage(f,0,0,h,l),L.setIcon(s),window.clearTimeout(x),window.clearTimeout(p))},I.start=function(){if(d&&!y){var e=function(){u=v[0],y=!1,v.length>0&&(v.shift(),I.start())};if(v.length>0){y=!0;var t=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(e){e in v[0].options&&(i[e]=v[0].options[e])}),O.run(v[0].options,function(){e()},!1)};u?O.run(u.options,function(){t()},!0):t()}}};var M={},T=function(e){return e.n="number"==typeof e.n?Math.abs(0|e.n):e.n,e.x=h*e.x,e.y=l*e.y,e.w=h*e.w,e.h=l*e.h,e.len=(""+e.n).length,e};M.circle=function(e){e=T(e);var t=!1;2===e.len?(e.x=e.x-.4*e.w,e.w=1.4*e.w,t=!0):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w,t=!0),c.clearRect(0,0,h,l),c.drawImage(f,0,0,h,l),c.beginPath(),c.font=i.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+i.fontFamily,c.textAlign="center",t?(c.moveTo(e.x+e.w/2,e.y),c.lineTo(e.x+e.w-e.h/2,e.y),c.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2),c.lineTo(e.x+e.w,e.y+e.h-e.h/2),c.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h),c.lineTo(e.x+e.h/2,e.y+e.h),c.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2),c.lineTo(e.x,e.y+e.h/2),c.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)):c.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI),c.fillStyle="rgba("+i.bgColor.r+","+i.bgColor.g+","+i.bgColor.b+","+e.o+")",c.fill(),c.closePath(),c.beginPath(),c.stroke(),c.fillStyle="rgba("+i.textColor.r+","+i.textColor.g+","+i.textColor.b+","+e.o+")","number"==typeof e.n&&e.n>999?c.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):c.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),c.closePath()},M.rectangle=function(e){e=T(e);var t=!1;2===e.len?(e.x=e.x-.4*e.w,e.w=1.4*e.w,t=!0):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w,t=!0),c.clearRect(0,0,h,l),c.drawImage(f,0,0,h,l),c.beginPath(),c.font=i.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+i.fontFamily,c.textAlign="center",c.fillStyle="rgba("+i.bgColor.r+","+i.bgColor.g+","+i.bgColor.b+","+e.o+")",c.fillRect(e.x,e.y,e.w,e.h),c.fillStyle="rgba("+i.textColor.r+","+i.textColor.g+","+i.textColor.b+","+e.o+")","number"==typeof e.n&&e.n>999?c.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):c.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),c.closePath()};var E=function(e,t){t=("string"==typeof t?{animation:t}:t)||{},g=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};if("animation"in t&&O.types[""+t.animation]&&(n.options.animation=""+t.animation),"type"in t&&M[""+t.type]&&(n.options.type=""+t.type),["bgColor","textColor"].forEach(function(e){e in t&&(n.options[e]=o(t[e]))}),["fontStyle","fontFamily"].forEach(function(e){e in t&&(n.options[e]=t[e])}),v.push(n),v.length>100)throw"Too many badges requests in queue.";I.start()}else I.reset()}catch(r){throw"Error setting badge. Message: "+r.message}},d&&g()},A=function(e){g=function(){try{var t=e.width,o=e.height,n=document.createElement("img"),r=o/l>t/h?t/h:o/l;n.setAttribute("src",e.getAttribute("src")),n.height=o/r,n.width=t/r,c.clearRect(0,0,h,l),c.drawImage(n,0,0,h,l),L.setIcon(s)}catch(i){throw"Error setting image. Message: "+i.message}},d&&g()},U=function(e){g=function(){try{if("stop"===e)return m=!0,I.reset(),void(m=!1);e.addEventListener("play",function(){t(this)},!1)}catch(o){throw"Error setting video. Message: "+o.message}},d&&g()},R=function(e){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(e){return e}),w.supported){var o=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,g=function(){try{if("stop"===e)return m=!0,I.reset(),void(m=!1);o=document.createElement("video"),o.width=h,o.height=l,navigator.getUserMedia({video:!0,audio:!1},function(e){o.src=URL.createObjectURL(e),o.play(),t(o)},function(){})}catch(n){throw"Error setting webcam. Message: "+n.message}},d&&g()}},L={};L.getIcon=function(){var e=!1,t="",o=function(){for(var e=document.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length,o=t-1;o>=0;o--)if(/(^|\s)icon(\s|$)/i.test(e[o].getAttribute("rel")))return e[o];return!1};if(i.element?e=i.element:i.elementId?(e=document.getElementById(i.elementId),e.setAttribute("href",e.getAttribute("src"))):(e=o(),e===!1&&(e=document.createElement("link"),e.setAttribute("rel","icon"),document.getElementsByTagName("head")[0].appendChild(e))),t=i.elementId?e.src:e.href,"data:"!==t.substr(0,5)&&-1===t.indexOf(document.location.hostname))throw new Error("Error setting favicon. Favicon image is on different domain (Icon: "+t+", Domain: "+document.location.hostname+")");return e.setAttribute("type","image/png"),e},L.setIcon=function(e){var t=e.toDataURL("image/png");if(i.element)i.element.setAttribute("src",t);else if(i.elementId)document.getElementById(i.elementId).setAttribute("src",t);else if(w.ff||w.opera){var o=a;a=document.createElement("link"),w.opera&&a.setAttribute("rel","icon"),a.setAttribute("rel","icon"),a.setAttribute("type","image/png"),document.getElementsByTagName("head")[0].appendChild(a),a.setAttribute("href",t),o.parentNode&&o.parentNode.removeChild(o)}else a.setAttribute("href",t)};var O={};return O.duration=40,O.types={},O.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],O.run=function(e,t,o,a){var l=O.types[r()?"none":i.animation];return a=o===!0?"undefined"!=typeof a?a:l.length-1:"undefined"!=typeof a?a:0,t=t?t:function(){},a<l.length&&a>=0?(M[i.type](n(e,l[a])),x=setTimeout(function(){o?a-=1:a+=1,O.run(e,t,o,a)},O.duration),L.setIcon(s),void 0):void t()},C(),{badge:E,video:U,image:A,webcam:R,reset:I.reset,browser:{supported:w.supported}}};"undefined"!=typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:this.Favico=e}();
/* End of File include/javascript/favicon.js */

if(typeof(SUGAR)=='undefined')SUGAR={};if(typeof(SUGAR.util)=='undefined')SUGAR.util={};if(typeof(SUGAR.expressions)=='undefined')SUGAR.expressions={};(function(){SUGAR.util.extend=SUGAR.util.extend||(SUGAR.App?SUGAR.App.utils.extendFrom:null);var SEE=SUGAR.expressions.Expression=function(context){this.context=context;};SEE.INFINITY=-1;SEE.STRING_TYPE="string";SEE.NUMERIC_TYPE="number";SEE.DATE_TYPE="date";SEE.TIME_TYPE="time";SEE.BOOLEAN_TYPE="boolean";SEE.ENUM_TYPE="enum";SEE.RELATE_TYPE="relate";SEE.GENERIC_TYPE="generic";SEE.TRUE="true";SEE.FALSE="false";SEE.isTruthy=function(v){return _.isString(v)?(v=="1"||v==SEE.TRUE):!!v;};SUGAR.expressions.NumericConstants={pi:3.14159265,e:2.718281828459045}
SEE.prototype.init=function(params){if(params instanceof Array&&params.length==1){this.params=params[0];}
else{this.params=params;}
this.validateParameters();};SEE.prototype.getParameters=function(){if(!this.params){return this.params;}
var params,param,result=[],types=this.getParameterTypes(),oneParam=this.getParamCount()==1,type,i;if(oneParam||(!_.isArray(this.params)&&_.isObject(this.params))){params=[this.params];}else{params=this.params;}
if(!(types instanceof Array)){type=types;types=[];for(i=0;i<params.length;i++){types.push(type);}}
var map=this.constructor.TYPE_CAST_MAP;for(i=0;i<params.length;i++){param=params[i];if(param instanceof SEE){type=SEP.prototype.getType(param);if(type!=types[i]&&types[i]in map){param=new SUGAR.expressions[map[types[i]]](param,this.context);}}
result.push(param);}
if(oneParam){result=result.shift();}
return result;};SEE.prototype.validateParameters=function(){var params=this.params;var count=this.getParamCount();var types=this.getParameterTypes();if(typeof(count)!='number'){throw(this.getClass()+": Number of paramters required must be a number");}
if(typeof(types)!='string'&&!(types instanceof Array)){throw(this.getClass()+": Parameter types must be valid and match the parameter count");}
if(types instanceof Array&&count!=SEE.INFINITY&&count!=types.length){throw(this.getClass()+": Parameter types must be valid and match the parameter count");}
if(typeof(types)=='string'){if(SEE.TYPE_MAP[types]==null){throw(this.getClass()+": Invalid type requirement '"+types+"'");}}else{for(var i=0;i<types.length;i++){if(typeof(SEE.TYPE_MAP[types[i]])=='undefined'){throw(this.getClass()+": Invalid type requirement '"+types[i]+"'");}}}
if(count==0&&typeof(params)=='undefined'){return;}
if(count==1&&this.isProperType(params,types)){return;}
if(count>1&&!(params instanceof Array)){throw(this.getClass()+": Requires exactly "+count+" parameter(s)");}
if(count==1&&params instanceof Array){throw(this.getClass()+": Requires exactly 1 parameter");}
if(count!=SEE.INFINITY&&params instanceof Array&&params.length!=count){throw(this.getClass()+": Requires exactly "+count+" parameter(s)");}
if(typeof(types)=='string'){if(!(params instanceof Array)){if(this.isProperType(params,types)){return;}
throw(this.getClass()+": Parameter must be of type '"+types+"'");}
for(var i=0;i<params.length;i++){if(!this.isProperType(params[i],types)){throw(this.getClass()+": All parameters must be of type '"+types+"'");}}}
else{if(!(params instanceof Array)){if(this.isProperType(params,types[0])){return;}
throw(this.getClass()+": Parameter must be of type '"+types[0]+"'");}
for(var i=0;i<types.length;i++){if(!this.isProperType(params[i],types[i])){throw(this.getClass()+": The parameter at index "+i+" must be of type "+types[i]);}}}};SEE.prototype.getParamCount=function(){return SEE.INFINITY;};SEE.prototype.isProperType=function(variable,type){var see=SEE;if(type instanceof Array){return false;}
var c=see.TYPE_MAP[type];if(typeof(c)=='undefined'||c==null||c==''){return false;}
if(variable instanceof c||variable instanceof see.TYPE_MAP.generic||type==see.GENERIC_TYPE)
return true;if(variable instanceof see){variable=variable.evaluate();}
switch(type){case see.STRING_TYPE:return(typeof(variable)=='string'||typeof(variable)=='number'||variable instanceof see.TYPE_MAP[see.NUMERIC_TYPE]);break;case see.NUMERIC_TYPE:return(typeof(variable)=='number'||SUGAR.expressions.isNumeric(variable));break;case see.BOOLEAN_TYPE:return variable==see.TRUE||variable==see.FALSE||variable===1||variable===0||variable==='1'||variable==='0'||variable==='';break;case see.DATE_TYPE:case see.TIME_TYPE:if(variable===null||variable===''||(typeof(variable)=='string'&&SUGAR.util.DateUtils.guessFormat(variable)))
return true;break;case see.RELATE_TYPE:return true;break;}
return false;};SEE.prototype.evaluate=function(){};SEE.prototype.getClass=function(exp){for(var i in SUGAR.FunctionMap){if(typeof SUGAR.FunctionMap[i]=="function"&&SUGAR.FunctionMap[i].prototype&&this instanceof SUGAR.FunctionMap[i])
return i;}
return false;};SEE.prototype.getParameterTypes=function(){};SUGAR.expressions.GenericExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.GenericExpression,SEE,{getParameterTypes:function(){return SEE.GENERIC_TYPE;}});SUGAR.expressions.NumericExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.NumericExpression,SEE,{getParameterTypes:function(){return SEE.NUMERIC_TYPE;}});SUGAR.expressions.StringExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.StringExpression,SEE,{getParameterTypes:function(){return SEE.STRING_TYPE;}});SUGAR.expressions.BooleanExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.BooleanExpression,SEE,{getParameterTypes:function(){return SEE.BOOLEAN_TYPE;}});SUGAR.expressions.EnumExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.EnumExpression,SEE,{getParameterTypes:function(){return SEE.ENUM_TYPE;}});SUGAR.expressions.DateExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.DateExpression,SEE,{getParameterTypes:function(){return SEE.DATE_TYPE;}});SUGAR.expressions.TimeExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.TimeExpression,SEE,{getParameterTypes:function(){return SEE.TIME_TYPE;}});SUGAR.expressions.RelateExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.RelateExpression,SEE,{getParameterTypes:function(){return SEE.GENERIC_TYPE;}});SEE.TYPE_MAP={"number":SUGAR.expressions.NumericExpression,"string":SUGAR.expressions.StringExpression,"date":SUGAR.expressions.DateExpression,"time":SUGAR.expressions.TimeExpression,"boolean":SUGAR.expressions.BooleanExpression,"enum":SUGAR.expressions.EnumExpression,"relate":SUGAR.expressions.RelateExpression,"generic":SUGAR.expressions.GenericExpression};SEE.TYPE_CAST_MAP={"number":"ValueOfExpression","string":"DefineStringExpression"};SUGAR.expressions.ConstantExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.ConstantExpression,SUGAR.expressions.NumericExpression,{evaluate:function(){return this.getParameters();},getParamCount:function(){return 1;}});SUGAR.expressions.StringLiteralExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.StringLiteralExpression,SUGAR.expressions.StringExpression,{evaluate:function(){return this.getParameters();},getParamCount:function(){return 1;}});SUGAR.expressions.FalseExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.FalseExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return SEE.FALSE;},getParamCount:function(){return 0;}});SUGAR.expressions.TrueExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.TrueExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return SEE.TRUE;},getParamCount:function(){return 0;}});var SEP=SUGAR.expressions.ExpressionParser=function(){};SEP.prototype.getFieldsFromExpression=function(expression){return _.map(expression.match(/\$(\w+)/g),function(match){return match.replace(/\$/g,'');});}
SEP.prototype._generateRange=function(prefix,start,end){var str="";var i=parseInt(start);if(typeof(end)=='undefined')
while(this.getElement(prefix+''+i)!=null)
str+='$'+prefix+''+(i++)+',';else
for(;i<=end;i++){var t=prefix+''+i;if(this.getElement(t)!=null)
str+='$'+t+',';}
return str.substring(0,str.length-1);}
SEP.prototype._valueReplace=function(val){if(!(/^\$.*$/).test(val)){return val;}
return this.getValue(val.substring(1));}
SEP.prototype._performRangeReplace=function(expression){var isInQuotes=false;var prev;var inRange;for(var i=0;;i++){if(i==expression.length)break;var ch=expression.charAt(i);if(ch=='"'&&prev!='\\')isInQuotes=!isInQuotes;if(!isInQuotes&&ch=='%'){inRange=true;var loc_start=expression.indexOf('[',i+1);var loc_comma=expression.indexOf(',',loc_start);var loc_end=expression.indexOf(']',loc_start);if(loc_start<0||loc_end<0)throw("Invalid range syntax");var prefix=expression.substring(i+1,loc_start);var start,end;if(loc_comma>-1&&loc_comma<loc_end){start=expression.substring(loc_start+1,loc_comma);end=expression.substring(loc_comma+1,loc_end);}else{start=expression.substring(loc_start+1,loc_end);}
if(loc_comma>-1&&loc_comma<loc_end)end=expression.substring(loc_comma+1,loc_end);var result=this._generateRange(prefix,this._valueReplace(start),this._valueReplace(end));if(typeof(end)=='undefined')
expression=expression.replace('%'+prefix+'['+start+']',result);else
expression=expression.replace('%'+prefix+'['+start+','+end+']',result);i=i+result.length-1;}
prev=ch;}
return expression;}
SEP.prototype.validate=function(expr){if(typeof(expr)!='string')throw"ExpressionParser requires a string expression.";var fixed=this.toConstant(expr);if(fixed!=null&&typeof(fixed)!='undefined')
return true;if((/^[\w\-]+\(.*\)$/).exec(expr)==null){throw("Syntax Error (Expression Format Incorrect '"+expr+"' )");}
if(expr.indexOf('(')<0)
throw("Syntax Error (No opening paranthesis found)");return true;}
SEP.prototype.tokenize=function(expr){var fixed=this.toConstant(expr);if(fixed!=null&&typeof(fixed)!='undefined'){return{type:"constant",returnType:this.getType(fixed),value:fixed.evaluate()}}
if(/^[$]\w+$/.test(expr)){return{type:"variable",name:expr.trim().substr(1)}}
if(/^[$]\w+\.\w+$/.test(expr)){expr=expr.trim();return{type:"variable",name:expr.substr(1,expr.indexOf('.')-1),relate:expr.substr(expr.indexOf('.')+1)}}
var open_paren_loc=expr.indexOf('(');if(open_paren_loc<1)
throw(expr+": Syntax Error, no open parentheses found");if(expr.charAt(expr.length-1)!=')')
throw(expr+": Syntax Error, no close parentheses found");var func=expr.substring(0,open_paren_loc);var params=expr.substring(open_paren_loc+1,expr.length-1);var level=0;var length=params.length;var argument="";var args=new Array();var currChar=null;var lastCharRead=null;var justReadString=false;var justReadComma=false;var isInQuotes=false;var isPrevCharBK=false;for(var i=0;i<=length;i++){lastCharRead=currChar;justReadComma=false;if(i==length){argument=argument.trim();if(argument!="")
args[args.length]=this.tokenize(argument);break;}
isPrevCharBK=(lastCharRead=='\\');currChar=params.charAt(i);if(isInQuotes&&currChar!='"'&&!isPrevCharBK){argument+=currChar;continue;}
if(currChar=='"'&&!isPrevCharBK&&level==0){if(isInQuotes){var end_reg=params.indexOf(",",i);if(end_reg<0)end_reg=params.length-1;var start_reg=(i<length-1?i+1:length-1);var temp=params.substring(start_reg,end_reg);if((/^\s*$/).exec(temp)==null)
throw(func+": Syntax Error (Improperly Terminated String '"+temp+"')"+(start_reg)+" "+end_reg);}
isInQuotes=!isInQuotes;}
if(currChar=='('){level++;}else if(currChar==')'){level--;}
else if(currChar==','&&level==0){argument=argument.trim();if(argument=="")
throw("Syntax Error: Unexpected ','");args[args.length]=this.tokenize(argument);argument="";justReadComma=true;continue;}
argument+=currChar;}
if(isInQuotes)throw("Syntax Error (Unterminated String Literal)");if(level!=0)throw("Syntax Error (Incorrectly Matched Parantheses)");if(justReadComma)throw("Syntax Error (No parameter after comma near <b>"+func+"</b>)");return{type:"function",name:func.trim(),args:args}}
SEP.prototype.getType=function(variable){for(var type in SEE.TYPE_MAP){if(variable instanceof SEE.TYPE_MAP[type]){return type;}}
return false;};SEP.prototype.evaluate=function(expr,context){if(typeof(expr)!='string')throw"ExpressionParser requires a string expression.";expr=expr.replace(/^\s+|\s+$|\n/g,"");var fixed=this.toConstant(expr);if(fixed!=null&&typeof(fixed)!='undefined')
return fixed;if(expr.match(/^\$\w+$/)){if(typeof(context)=="undefined")
throw("Syntax Error: variable "+expr+" without context");return context.getValue(expr.substring(1));}
if(expr.match(/^\$\w+\.\w+$/)){return context.getRelatedValue(expr.substr(1,expr.indexOf('.')-1),expr.substr(expr.indexOf('.')+1));}
if((/^[\w\-]+\(.*\)$/).exec(expr)==null){throw("Syntax Error (Expression Format Incorrect '"+expr+"' )");}
var open_paren_loc=expr.indexOf('(');if(open_paren_loc<0)
throw("Syntax Error (No opening paranthesis found)");var func=expr.substring(0,open_paren_loc);if(SUGAR.FunctionMap[func]==null)
throw(func+": No such function defined");var params=expr.substring(open_paren_loc+1,expr.length-1);var level=0;var length=params.length;var argument="";var args=new Array();var currChar=null;var lastCharRead=null;var justReadString=false;var isInQuotes=false;var isPrevCharBK=false;var isInVar=false;if(length>0){for(var i=0;i<=length;i++){lastCharRead=currChar;if(i==length){args[args.length]=this.evaluate(argument,context);break;}
isPrevCharBK=(lastCharRead=='\\');currChar=params.charAt(i);if(isInQuotes&&currChar!='"'&&!isPrevCharBK){argument+=currChar;continue;}
if(isInVar&&(currChar==" "||currChar==","))
isInVar=false;if(currChar=='"'&&!isPrevCharBK&&level==0){if(isInQuotes){var end_reg=params.indexOf(",",i);if(end_reg<0)end_reg=params.length-1;var start_reg=(i<length-1?i+1:length-1);var temp=params.substring(start_reg,end_reg);if((/^\s*$/).exec(temp)==null)
throw(func+": Syntax Error (Improperly Terminated String '"+temp+"')"+(start_reg)+" "+end_reg);}
isInQuotes=!isInQuotes;}
if(currChar=='$'&&!isPrevCharBK&&!isInQuotes&&level==0){if(isInVar)
throw(func+": Syntax Error (unexpeted '$' in  '"+argument+"')");else{isInVar=true;}}
if(currChar=='('){level++;}else if(currChar==')'){level--;}
else if(currChar==','&&level==0){args[args.length]=this.evaluate(argument,context);argument="";continue;}
argument+=currChar;}}
if(isInQuotes)throw("Syntax Error (Unterminated String Literal)");if(level!=0)throw("Syntax Error (Incorrectly Matched Parantheses)");return new SUGAR.FunctionMap[func](args,context);}
SEP.prototype.toConstant=function(expr){if(isFinite(expr)&&!isNaN(parseFloat(expr))){return new SUGAR.expressions.ConstantExpression(parseFloat(expr));}
var fixed=SUGAR.expressions.NumericConstants[expr];if(fixed!=null&&typeof(fixed)!='undefined')
return new SUGAR.expressions.ConstantExpression(parseFloat(fixed));if((/^"[\s\S]*"$/).exec(expr)!=null){expr=expr.substring(1,expr.length-1);return new SUGAR.expressions.StringLiteralExpression(expr);}
if(expr==''){return new SUGAR.expressions.StringLiteralExpression(expr);}
if(expr=="true"){return new SUGAR.expressions.TrueExpression();}else if(expr=="false"){return new SUGAR.expressions.FalseExpression();}
if((/^(0[0-9]|1[0-2])\/([0-2][0-9]|3[0-1])\/[0-3][0-9]{3,3}$/).exec(expr)!=null){var month=parseFloat(expr.substring(0,2));var day=parseFloat(expr.substring(3,2));var year=parseFloat(expr.substring(6,4));return new SUGAR.expressions.DateExpression([month,day,year]);}
if((/^([0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9]$/).exec(expr)!=null){var hour=parseFloat(expr.substring(0,2));var minute=parseFloat(expr.substring(3,2));var second=parseFloat(expr.substring(6,2));return new SUGAR.expressions.TimeExpression([hour,minute,second]);}
return null;};SEP.prototype.getRelatedFieldsFromFormula=function(expr,actionTarget){var fields=[],relateFunctions=['related','count','rollupSum','rollupMax','rollupMin','rollupAve','rollupAvg','rollupCurrencySum','rollupConditionalSum','countConditional','maxRelatedDate','rollupConditionalMinDate'];var recurseTokens=function(t,actionTarget){if(t.type=="variable"&&t.relate){fields.push({type:"related",link:t.name,relate:t.relate});}else if(t.type=="function"&&relateFunctions.indexOf(t.name)!=-1){switch(t.name){case"related":if(t.args[1].type=="constant")
fields.push({type:"related",link:t.args[0].name,relate:t.args[1].value});break;case'rollupConditionalSum':var field={type:'rollupConditionalSum',link:t.args[0].name,relate:t.args[1].value,condition_field:t.args[2].value};if(t.args[3].type=='function'){var condVals=[];for(var i=0;i<t.args[3].args.length;i++){condVals.push('"'+t.args[3].args[i].value+'"');}
field.condition_expr=t.args[3].name+'('+condVals.join(',')+')';}else{field.condition_expr=t.args[3].value;}
fields.push(field);break;case'rollupConditionalMinDate':var field={type:'rollupConditionalMinDate',link:t.args[0].name,relate:t.args[1].value};var parseConditions=function(conditions){if(conditions.type=='function'){var conditionList=[];for(var i=0;i<conditions.args.length;i++){conditionList.push(conditions.args[i].value);}
return conditionList;}else{return conditions.value;}}
field.conditionFields=parseConditions(t.args[2]);field.conditionValues=parseConditions(t.args[3]);fields.push(field);break;case'countConditional':var field={target:actionTarget,type:'countConditional',link:t.args[0].name,condition_field:t.args[1].value};if(t.args[2].type=='function'){var condVals=[];for(var i=0;i<t.args[2].args.length;i++){condVals.push('"'+t.args[2].args[i].value+'"');}
field.condition_expr=t.args[2].name+'('+condVals.join(',')+')';}else{field.condition_expr=t.args[2].value;}
fields.push(field);break;case"count":fields.push({type:"count",link:t.args[0].name});break;default:if(t.args[1].type=="constant"){fields.push({type:t.name,link:t.args[0].name,relate:t.args[1].value});}}}else if(t.type=="function"){for(var i=0;i<t.args.length;i++){recurseTokens(t.args[i],actionTarget);}}}
try{var t=this.tokenize(expr);recurseTokens(t,actionTarget);}
catch(e){}
return fields;}
var SEC=SUGAR.expressions.ExpressionContext=function(){}
SEC.prototype.getValue=function(varname){return"";}
SEC.prototype.setValue=function(varname,value){return"";}
SEC.prototype.addListener=function(varname,callback,scope){return"";}
SEC.prototype.getRelatedValue=function(linkField,relField){return new SUGAR.RelatedFieldExpression([new SUGAR.expressions.StringLiteralExpression(linkField),new SUGAR.expressions.StringLiteralExpression(relField)]);}
SUGAR.expressions.isNumeric=function(str){if(typeof(str)!='number'&&typeof(str)!='string'){return false;}
str=SUGAR.expressions.unFormatNumber(str);return(isFinite(str)&&!isNaN(parseFloat(str)));};SUGAR.expressions.unFormatNumber=function(num){if(typeof num=='string'){var SE=SUGAR.expressions;var ts=",",ds=".";if(SE.userPrefs){ts=SE.userPrefs.num_grp_sep;ds=SE.userPrefs.dec_sep;};num=SE.replaceAll(num,ts,"");num=SE.replaceAll(num,ds,".");}
return num;};SUGAR.expressions.replaceAll=function(haystack,needle,rpl){if(needle==rpl||haystack==""||needle=="")return haystack;var str=haystack;while(str.indexOf(needle)>-1){str=str.replace(needle,rpl);}
return str;};SUGAR.util.DateUtils={parse:function(date,oldFormat){if(date instanceof Date)
return date;if(oldFormat=="user"){if(SUGAR.expressions.userPrefs&&SUGAR.expressions.userPrefs.datef){oldFormat=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef;}else{oldFormat=SUGAR.util.DateUtils.guessFormat(date);}}
if(oldFormat==null||oldFormat==""){oldFormat=SUGAR.util.DateUtils.guessFormat(date);}
if(oldFormat==false){if(/^\d+$/.test(date))
return new Date(date);return false;}
var jsDate=new Date("Jan 1, 1970 00:00:00");var part="";var dateRemain=date.trim();oldFormat=oldFormat.trim()+" ";for(var j=0;j<oldFormat.length;j++){var c=oldFormat.charAt(j);if(c==':'||c=='/'||c=='-'||c=='.'||c==" "||c=='a'||c=="A"||c=="T"){var i=dateRemain.indexOf(c);if(i==-1)i=dateRemain.length;var v=dateRemain.substring(0,i);dateRemain=dateRemain.substring(i+1);switch(part){case'm':if(!(v>0&&v<13))return false;jsDate.setMonth(v-1);break;case'd':if(!(v>0&&v<32))return false;jsDate.setDate(v);break;case'Y':if(!(v>0))return false;jsDate.setYear(v);break;case'h':var timeformat=oldFormat.substring(oldFormat.length-4);if(timeformat.toLowerCase()=="i a "||timeformat.toLowerCase()==c+"ia "){if(dateRemain.substring(dateRemain.length-2).toLowerCase()=='pm'){v=v*1;if(v<12){v+=12;}}}
case'H':jsDate.setHours(v);break;case'i':v=v.substring(0,2);jsDate.setMinutes(v);break;}
part="";}else{part=c;}}
return jsDate;},guessFormat:function(date){if(typeof date!="string")
return false;var time="";var dateTimeSep;if(date.indexOf(" ")!=-1){dateTimeSep=" ";}else if(date.indexOf("T")!=-1){dateTimeSep="T";}
if(dateTimeSep){time=date.substring(date.indexOf(dateTimeSep)+1,date.length);date=date.substring(0,date.indexOf(dateTimeSep));}
var dateSep="/";if(date.indexOf("/")!=-1){}
else if(date.indexOf("-")!=-1){dateSep="-";}
else if(date.indexOf(".")!=-1){dateSep=".";}
else{return false;}
var dateParts=date.split(dateSep);var dateFormat="";var jsDate=new Date("Jan 1, 1970 00:00:00");if(dateParts[0].length==4){dateFormat="Y"+dateSep+"m"+dateSep+"d";}
else if(dateParts[2].length==4){dateFormat="m"+dateSep+"d"+dateSep+"Y";}
else{return false;}
if(time!=""){var timeFormat="";var timeSep=":";if(time.indexOf(".")==2){timeSep=".";}
if(time.indexOf(" ")!=-1){var timeParts=time.split(" ");if(timeParts[1]=="am"||timeParts[1]=="pm"){return dateFormat+dateTimeSep+"h"+timeSep+"i a";}else if(timeParts[1]=="AM"||timeParts[1]=="PM"){return dateFormat+dateTimeSep+"h"+timeSep+"i A";}}
else{var timeEnd=time.substring(time.length-2,time.length);if(timeEnd=="AM"||timeEnd=="PM"){return dateFormat+dateTimeSep+"h"+timeSep+"iA";}
if(timeEnd=="am"||timeEnd=="pm"){return dateFormat+dateTimeSep+"h"+timeSep+"iA";}
return dateFormat+dateTimeSep+"H"+timeSep+"i";}}
return dateFormat;},formatDate:function(date,useTime,format){if(!format&&SUGAR.expressions.userPrefs.datef&&SUGAR.expressions.userPrefs.timef){if(useTime)
format=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef;else
format=SUGAR.expressions.userPrefs.datef;}
var out="";for(var i=0;i<format.length;i++){var c=format.charAt(i);switch(c){case'm':var m=date.getMonth()+1;out+=m<10?"0"+m:m;break;case'd':var d=date.getDate();out+=d<10?"0"+d:d;break;case'Y':out+=date.getFullYear();break;case'H':case'h':var h=date.getHours();if(c=="h")h=h>12?h-12:h;out+=h<10?"0"+h:h;break;case'i':var m=date.getMinutes();out+=m<10?"0"+m:m;break;case'a':if(date.getHours()<12)
out+="am";else
out+="pm";break;case'A':if(date.getHours()<12)
out+="AM";else
out+="PM";break;default:out+=c;}}
return out;},roundTime:function(date){var min=date.getMinutes();if(min<1){min=0;}
else if(min<16){min=15;}
else if(min<31){min=30;}
else if(min<46){min=45;}
else{min=0;date.setHours(date.getHours()+1)}
date.setMinutes(min);return date;},getUserTime:function(){var date=new Date();if(SUGAR.expressions.userPrefs&&typeof(SUGAR.expressions.userPrefs.gmt_offset)!='undefined'){var offset=SUGAR.expressions.userPrefs.gmt_offset;date.setMinutes(date.getMinutes()+(date.getTimezoneOffset()+offset));}
return date;}};})();
/* End of File sidecar/lib/sugarlogic/expressions.js */

(function(){SUGAR.forms=SUGAR.forms||{};SUGAR.forms.animation=SUGAR.forms.animation||{};var SE=SUGAR.expressions;var App=SUGAR.App||App;var SEC=SE.SidecarExpressionContext=function(view,model,collection){this.view=view;if(collection instanceof App.data.beanCollection){this.collection=collection;}else{this.collection=view.collection||view.context.get('collection');}
this.model=model||view.model||view.context.get('model');};App.utils.extendFrom(SEC,SE.ExpressionContext,{dispose:function(){if(!this.view.disposed){var scContext=this.view.context;_.each(this.dependencies,function(dep){scContext.off('list:editrow:fire',null,dep);});}},initialize:function(depsMeta,isCreate){var relatedFields=[];var isCreate=isCreate||false;let scContext=this.view.context;let isCreateSubpanel=scContext.get('isCreateSubpanel');this.dependencies=[];var updateCollection=_.bind(function(models,trigger){_.each(models,function(model){if(trigger.dependency.testOnLoad||model.isNew()||isCreateSubpanel){trigger.context.isOnLoad=true;trigger.context.inCollection=true;SUGAR.forms.Trigger.fire.apply(trigger,[model]);trigger.context.isOnLoad=null;trigger.context.inCollection=null;}},this);},this);_.each(depsMeta,function(dep){var newDep=SUGAR.forms.Dependency.fromMeta(dep,this);if(newDep){relatedFields=_.union(relatedFields,newDep.getRelatedFields());this.dependencies.push(newDep);}},this);this._setupLinks(relatedFields);_.each(this.dependencies,function(newDep){if(scContext.isCreate()||newDep.fireLinkOnlyDependency()||isCreate){SUGAR.forms.Trigger.fire.apply(newDep.trigger);this.view.trigger('sugarlogic:initialize');}
if(newDep.testOnLoad){scContext.on('list:editrow:fire',function(){scContext.isOnLoad=true;SUGAR.forms.Trigger.fire.apply(this.trigger,arguments);scContext.isOnLoad=null;},newDep);}
if(this.collection instanceof SUGAR.App.data.beanCollection){this.collection.on('sync',function(synced,syncData){var models;var ids;if(synced instanceof SUGAR.App.data.beanCollection){ids=_.pluck(syncData,'id');models=synced.filter(function(model){return _.contains(ids,model.id);});_.defer(updateCollection,models,newDep.trigger);}else{updateCollection([synced],newDep.trigger);}},this);this.collection.on('add',function(model){updateCollection([model],newDep.trigger)},this);updateCollection(this.collection.models,newDep.trigger);}},this);this._requestRollups(relatedFields);this.view.on('render',function(){_.each(this.dependencies,function(dep){if(scContext.isCreate()||dep.fireLinkOnlyDependency()){SUGAR.forms.Trigger.fire.apply(dep.trigger);this.view.trigger('sugarlogic:initialize');}},this);},this);},getValue:function(varname){var value=this.model.get(varname),def=this.model.fields[varname],result;if(!def){SUGAR.App.logger.warn('Attempted to get a value for field '+varname
+' which is not a field in '+this.model.module);}
if(def&&def.type=='link'){value=varname;}
if(typeof(value)=="string"){value=value.replace(/\n/g,"");if((/^(\s*)$/).exec(value)!=null||value===""){result=SEC.parser.toConstant('""');}
else if((def.type!=='currency'&&def.type!=='enum')&&SE.isNumeric(value)){result=SEC.parser.toConstant(SE.unFormatNumber(value));}else if(def.type=="date"||def.type=="datetime"){value=App.date.stripIsoTimeDelimterAndTZ(value);value=App.date.parse(value);value.type=def.type;result=this.getDateExpression(value);}
else{result=SEC.parser.toConstant('"'+value+'"');}}else if(Array.isArray(value)){result=this.getEnumExpression(value);}else if(typeof(value)=="object"&&value!=null&&value.getTime){result=this.getDateExpression(value);}else if(typeof(value)=="number"){result=SEC.parser.toConstant(""+value);}else if(_.isBoolean(value)){result=value?new SUGAR.expressions.TrueExpression():new SUGAR.expressions.FalseExpression();}else{result=SEC.parser.toConstant('""');}
return result;},setValue:function(varname,value){if(typeof(this.model.fields[varname])!='object'){return;}
var targetDef=this.model.fields[varname];this.lockedFields=this.lockedFields||[];if(typeof(value)=='object'&&value.length>0&&targetDef.type!='multienum'){value=value.join(', ');}else if(value&&targetDef.type==='date'){value=App.date(value).formatServer(true);}else if(value&&targetDef.type==='datetimecombo'){value=App.date(value).format();}
if(targetDef.type=='bool'&&_.isString(value)){value=SUGAR.expressions.Expression.isTruthy(value);}
if(value&&(targetDef.type==='decimal'||targetDef.type==='float')){value=App.utils.formatNumber(value,targetDef.round||6,targetDef.precision||6,null,null);}
if(_.isString(value)&&targetDef.len&&value.length>targetDef.len){var self=this;value=value.substring(0,targetDef.len);this.model.once('change:'+varname,function(){var msg=SUGAR.App.lang.getAppString('LBL_FIELD_TRIMMED');SUGAR.forms.markField(varname,self.getElement(varname),msg);});}else if(SUGAR.forms.markedField[varname]){SUGAR.forms.unmarkField(varname,this.getElement(varname));}
if(!this.lockedFields[varname]){this.lockedFields[varname]=true;var el=this.getElement(varname);if(el){SUGAR.forms.FlashField($(el).parents('[data-fieldname="'+varname+'"]'),null,varname);}
var ret=this.model.set(varname,value);this.lockedFields=[];return ret;}},addListener:function(varname,callback,scope){if(this.collection){this.collection.off("change:"+varname,callback,scope);this.collection.on("change:"+varname,callback,scope);}
if(this.model){this.model.off("change:"+varname,callback,scope);this.model.on("change:"+varname,callback,scope);}},getElement:function(varname){var field=this.getField(varname);if(field&&field.el)
return field.el;},getField:function(varname){return this.view.getField(varname,this.model);},addClass:function(varname,css_class,includeLabel){var def=this.view.getFieldMeta(varname,true),props=includeLabel?["css_class","cell_css"]:["css_class"],el=this.getElement(varname),parent=$(el).closest('div.record-cell');_.each(props,function(prop){if(!def[prop]){def[prop]=css_class;}else if(def[prop].indexOf(css_class)==-1){def[prop]+=" "+css_class;}});this.view.setFieldMeta(varname,def);$(el).addClass(css_class);if(!def._isChild&&includeLabel&&parent){parent.addClass(css_class);}},removeClass:function(varname,css_class,includeLabel){var def=this.view.getFieldMeta(varname,true),field=this.view.getField(varname),props=includeLabel?["css_class","cell_css"]:["css_class"],el=this.getElement(varname),parent=$(el).closest('div.record-cell');_.each([field.def,def],function(d){_.each(props,function(prop){if(d[prop]&&d[prop].indexOf(css_class)!=-1){var defProp=(" "+d[prop]+" ").replace(new RegExp(' '+css_class+' '),"");d[prop]=defProp.trim();}});});this.view.setFieldMeta(varname,def);$(el).removeClass(css_class);if(!def._isChild&&includeLabel&&parent){parent.removeClass(css_class);parent.find("."+css_class).removeClass(css_class);}},getLink:function(variable){var model=this.model;if(model&&model.fields&&model.fields[variable])
return model.fields[variable];},showError:function(variable,error){},clearError:function(variable){},setStyle:function(variable,styles){},setRelatedFields:function(fields,silent,model){silent=!!silent;model=model||this.model;for(var link in fields){var linkVar=this._linkValueVarname(link),currValue=model.get(linkVar),forceChangeEvent=!!currValue,value=currValue||{};_.each(fields[link],function(values,type){if(_.isObject(values)){values=_.mapObject(values,function(val){return _.isArray(val)?_.object(val):val;});value[type]=_.extend(value[type]||{},values);}else{value[type]=values;}});var toSet={};toSet[linkVar]=value;model.set(toSet,{silent:silent});if(!silent&&forceChangeEvent){model.trigger("change:"+link,model);}}},getRelatedFieldValues:function(fields,module,record,silent){var self=this,api=App.api,model=record instanceof App.data.beanModel?record:this.model;if(fields.length>0){module=module||model.module||this.view.context.get('module');record=_.isString(record)?record:model.get("id");for(var i=0;i<fields.length;i++){var link=fields[i].link,toSet={};if(fields[i].type=="related"){var linkDef=model.fields[link];if(linkDef&&linkDef.id_name&&linkDef.module){var relId=model.get(linkDef.id_name);if(relId){fields[i].relId=relId
fields[i].relModule=linkDef.module;}}}
if(fields[i].relate){toSet[link]={};toSet[link][fields[i].type]={};toSet[link][fields[i].type][fields[i].relate]="";self.setRelatedFields(toSet,true,model);}}
var data={id:record,action:"related"};var params={module:module,fields:self._getUniqueFieldsList(fields)};api.call('create',api.buildURL('ExpressionEngine','related',data),_.extend(data,params),{success:function(resp){self.setRelatedFields(resp,silent,model);return resp;}});}
return null;},_getUniqueFieldsList:function(fieldsList){var newFieldsList=[];for(var i=0;i<fieldsList.length;i++){var fieldAlreadyExists=_.find(newFieldsList,function(field){return _.isEqual(field,fieldsList[i]);});if(!fieldAlreadyExists){newFieldsList.push(fieldsList[i]);}}
return newFieldsList;},updateRelatedFieldValue:function(link,ftype,field,value,isNew){var linkValues=this.model.get(this._linkValueVarname(link))||{},isNew=isNew||false,newValues={};if(!_.isUndefined(linkValues[ftype])||isNew){if(!field){linkValues[ftype]=value;}else if(!isNew&&!_.isUndefined(linkValues[ftype][field])){linkValues[ftype][field]=value;}else if(isNew){if(_.isUndefined(linkValues[ftype])){linkValues[ftype]={};}
linkValues[ftype][field]=value;}}
newValues[link]=linkValues;this.setRelatedFields(newValues,true);},_linkValueVarname:function(link){return'_'+link+'-rel_exp_values';},getRelatedCollectionValues:function(model,link,ftype,field){model=model||this.model;var linkValues=model.get(this._linkValueVarname(link))||{};var fieldVal=field+'_values';if(ftype){if(linkValues[ftype]&&linkValues[ftype][fieldVal]){return linkValues[ftype][fieldVal];}
return[];}
return linkValues;},updateRelatedCollectionValues:function(model,link,ftype,field,relModel,operation){model=model||this.model;var link=this._linkValueVarname(link);var linkValues=model.get(link)||{};var fTypes=[ftype];var fields=[field];if(!ftype){fTypes=_.keys(linkValues);}
_.each(fTypes,function(fType){if(fType=='related'){return;}
if(!field){fields=_.filter(_.keys(linkValues[fType]),function(field){return field.substr(-7)!='_values';});}
_.each(fields,function(field){var fieldVal=field+'_values';var isCurrency=relModel.fields[field]&&relModel.fields[field].type==='currency';var current=linkValues[fType]&&linkValues[fType][fieldVal]||{};if(!_.isEmpty(current)&&operation=='remove'){if(relModel.id in current){delete current[relModel.id];}
if(relModel.cid in current){delete current[relModel.cid];}}
if(!operation||operation=='add'){if(current[relModel.cid]&&relModel.id){delete current[relModel.cid];}
var id=relModel.id?relModel.id:relModel.cid;var value=relModel.get(field);if(isCurrency&&relModel.has(field)&&relModel.has('currency_id')&&!_.isUndefined(value)){value=App.currency.convertToBase(value,relModel.get('currency_id'));}
if(!_.isUndefined(value)){current[id]=value;}}
linkValues[fType]=linkValues[fType]||{};linkValues[fType][fieldVal]=current;},this);},this);model.set(link,linkValues);},getRelatedField:function(link,ftype,field){var linkVar=this._linkValueVarname(link);var linkValues=this.model.get(linkVar)||{};if(ftype=="related"&&!this.inCollection){return this._handleRelateExpression(link,field);}
if(typeof(linkValues[ftype])!="undefined"){if(!field){return linkValues[ftype];}else if(typeof(linkValues[ftype][field])!="undefined"){return linkValues[ftype][field];}}
if(this.inCollection){linkValues[ftype]=linkValues[ftype]||{};linkValues[ftype][field]=linkValues[ftype][field]||"";this.model.set(linkVar,linkValues,{silent:true});return"";}
if(this.model.isNew()){return"";}
var params={link:link,type:ftype};if(field){params.relate=field;}
this.getRelatedFieldValues([params]);linkValues=this.model.get(linkVar)||{};if(!_.isUndefined(linkValues[ftype])){if(!field){return linkValues[ftype];}else if(!_.isUndefined(linkValues[ftype][field])){return linkValues[ftype][field];}}
return'';},_handleRelateExpression:function(link,field){this.view.context.set("model",this.model);var isSubpanel=this.view.context.get('isSubpanel')===true;if(isSubpanel){var relContext=this.view.context.parent;}else{var relContext=this.view.context.getChildContext({link:link});}
relContext.prepare();var col=relContext.get("collection"),fields=relContext.get('fields')||[],self=this,rField=_.find(this.model.fields,function(def){return(def.type&&def.type=="relate"&&def.id_name&&def.link&&def.link==link)})||{},relModel=relContext.get("model");if(relContext.isDataFetched()&&!relContext.get("modelId")){relModel=col.length>0?col.models[0]:null;}
var idName=this.model.get(rField.id_name);var differentModel=relModel&&relModel.get('id')!==idName;var relationID;if(!_.isEmpty(rField)&&(!idName||differentModel)&&!isSubpanel){relContext.set({model:null});relContext.resetLoadFlag();if(!idName){return"";}}
if(_.isUndefined(this.view._loadedRelatedFields)){this.view._loadedRelatedFields={};}
if(idName){relationID=idName;}else{var relationship=this.model.fields[link].relationship;relationID=relationship?relationship:'';}
var cachedKey=link+'_'+field+'_'+relationID;if(field&&(!relContext.isDataFetched()||(relModel&&_.isUndefined(relModel.get(field))&&!relModel.getFetchRequest()))&&!this.view._loadedRelatedFields.hasOwnProperty(cachedKey)){_.each(fields,_.bind(function(iterField){var fieldCacheKey=link+'_'+iterField+'_'+relationID;this.view._loadedRelatedFields[fieldCacheKey]=fieldCacheKey;},this));if(!_.contains(fields,field)){fields.push(field);}
this._loadRelatedData(link,fields,relContext,rField);if(rField.id_name){this.addListener(rField.id_name,function(){this.view._loadedRelatedFields={};},this);}}
else if(relModel){var value=relModel.get(field);if(value){var def=relModel.fields[field];if(def.type=="date"||def.type=="datetime"){value=App.date.stripIsoTimeDelimterAndTZ(value);value=App.date.parse(value);value.type=def.type;}}
return value;}else if(!col.page){var model=this.model;SUGAR.App.utils.doWhen(function(){return col.page>0},function(){model.trigger("change:"+link,model);});}
return"";},getDateExpression:function(date){var d=new SE.DateExpression("");d.evaluate=function(){return this.value};d.value=date;return d;},getEnumExpression:function(array){var e=new SE.EnumExpression("");e.evaluate=function(){return this.value};e.value=array;return e;},_loadRelatedData:function(link,fields,relContext,rField){var self=this;if(!_.isEmpty(rField)&&this.model.get(rField.id_name)){var modelId=this.model.get(rField.id_name),model=relContext.get("model")||SUGAR.App.data.createRelatedBean(this.model,this.model.get(rField.id_name),link);relContext.set({modelId:modelId,model:model});}else{if(_.isEmpty(this.model.get("id")))
return"";}
relContext.prepare();relContext.set({'fields':_.union(relContext.get("fields")||[],fields),skipFetch:false});if(relContext.isDataFetched()){relContext.resetLoadFlag();}
var model=this.model;relContext.loadData({relate:_.isEmpty(rField),success:function(){model.trigger("change:"+link,model);}});},_setupLinks:function(relatedFields){_.each(relatedFields,function(field){if(field.link&&field.relate&&(field.type==="related"||field.type==="rollupSum")){var relContext=this.view.context.getChildContext({link:field.link});if(relContext){relContext.set("fields",_.union(relContext.get("fields")||[],[field.relate]));}}},this);},_requestRollups:function(relatedFields,model){model=model||this.model;if(!model.isNew()){this.getRelatedFieldValues(relatedFields,model.module,model,true);}},fireOnLoad:function(dep){},getAppListStrings:function(list){return SUGAR.App.lang.getAppListStrings(list);},parseDate:function(date,type){return SUGAR.App.date.parse(date);},setFieldDisabled:function(target,disabled){disabled=(_.isUndefined(disabled))?true:disabled;var field=this.getField(target);if(field){field.setDisabled(disabled,{trigger:true});if(_.isEqual(disabled,false)&&!_.isEqual(field.currentState,'edit')&&_.isEqual(this.view.currentState,'edit')&&!_.isEqual(this.view.inlineEditMode,true)){field.setMode('edit');this.view.editableFields.push(field);}
if(_.isFunction(this.view.setEditableFields)){this.view.setEditableFields();}}},setFieldRequired:function(target,required){required=SUGAR.expressions.Expression.isTruthy(required);var field=this.view.getField(target,this.model);if(field){field.def.required=required;field.render();}},setAssignedUserName:function(target,username){if(this.model.has('assigned_user_name')&&this.model.has('assigned_user_id')){var self=this,options={},usersCollection=SUGAR.App.data.createBeanCollection('Users');options.filter={filter:[{user_name:username}]}
options.success=function(collection){var userModel=collection.first();if(userModel){self.model.set({'assigned_user_name':userModel.get('full_name'),'assigned_user_id':userModel.get('id')});var field=self.view.getField(target,self.model);if(field&&field.el){SUGAR.forms.FlashField(field.el,null,target);}}}
options.error=function(){SUGAR.App.alert.show('server-error',{level:'error',title:SUGAR.App.lang.get('ERR_GENERIC_TITLE'),messages:SUGAR.App.lang.get('ERR_ASSIGNTO_ACTION')});}
usersCollection.fetch({fields:['full_name'],limit:1,params:options.filter,success:options.success,error:options.error});}},setModel:function(model){this.model=model;},setRelatedModel:function(model){this.relatedModel=model;},add:function(start,add){return SUGAR.App.math.add(start,add,6,true);},subtract:function(start,subtract){return SUGAR.App.math.sub(start,subtract,6,true);},multiply:function(start,multiply){return SUGAR.App.math.mul(start,multiply,6,true);},divide:function(start,divide){return SUGAR.App.math.div(start,divide,6,true);},round:function(start,precision){return SUGAR.App.math.round(start,precision,true);},getNestedCollectionFromModel:function(linkName,model){var nestedCollection;model=model||this.model;var collectionFields=_.pluck(model.fieldsOfType('collection'),'name');if(!_.isEmpty(collectionFields)){var collectionField=_.chain(collectionFields).filter(function(f){return _.contains(model.fields[f].links,linkName);},this).value();if(_.size(collectionField)===1){var cf=_.first(collectionField);if(model.has(cf)){nestedCollection=model.get(cf);if(!(nestedCollection instanceof SUGAR.App.data.beanCollection)){nestedCollection=undefined;}}else{nestedCollection=cf;}}}
return nestedCollection;},getLinkContext:function(view,linkName){var LinkContext=view.context.getChildContext({link:linkName});LinkContext.prepare();return LinkContext;}});SEC.parser=new SUGAR.expressions.ExpressionParser();SEC.evalVariableExpression=function(expression,view){return SEC.parser.evaluate(expression,new SEC(view));}
SUGAR.forms.Dependency=function(trigger,actions,falseActions,testOnLoad,context){this.actions=actions;this.falseActions=falseActions;this.context=context;this.testOnLoad=testOnLoad;this.trigger=trigger;trigger.setContext(this.context);trigger.setDependency(this);if(testOnLoad){context.fireOnLoad(this);}}
SUGAR.forms.Dependency.fromMeta=function(meta,context){var condition=meta.trigger||'true',triggerFields=meta.triggerFields||SE.ExpressionParser.prototype.getFieldsFromExpression(condition),relatedFields=meta.relatedFields||[],actions=meta.actions||[],falseActions=meta.notActions||[],onLoad=meta.onload||false,isNew=context.model&&_.isEmpty(context.model.get('id')),actionObjects=[],falseActionObjects=[];if(_.isEmpty(triggerFields)&&!onLoad&&!isNew)
return null;if(_.isEmpty(actions)&&_.isEmpty(falseActions))
return null;_.each(actions,function(actionDef){if(!actionDef.action||!SUGAR.forms[actionDef.action+'Action'])
return;var addAction=true;if(actionDef.action==='SetValue'&&actionDef.params.target){addAction=SUGAR.App.acl.hasAccess('edit',this.model.module,undefined,actionDef.params.target);}
if(addAction){actionObjects.push(new SUGAR.forms[actionDef.action+'Action'](actionDef.params));}},context);_.each(falseActions,function(actionDef){if(!actionDef.action||!SUGAR.forms[actionDef.action+'Action'])
return;var addAction=true;if(actionDef.action==='SetValue'&&actionDef.params.target){addAction=SUGAR.App.acl.hasAccess('edit',this.model.module,undefined,actionDef.params.target);}
if(addAction){falseActionObjects.push(new SUGAR.forms[actionDef.action+'Action'](actionDef.params));}},context);return new SUGAR.forms.Dependency(new SUGAR.forms.Trigger(triggerFields,condition,context,relatedFields),actionObjects,falseActionObjects,onLoad,context);};SUGAR.forms.Dependency.prototype.fireLinkOnlyDependency=function(){if(!this.testOnLoad){return false;}
var fire=true;if(this.context.model.fields){_.each(this.trigger.variables,function(field){fire=(fire&&this.context.model.fields[field]&&this.context.model.fields[field].type=="link");},this);}
return fire;}
SUGAR.forms.Dependency.prototype.fire=function(undo){if(this.context.view.disposed||!this.context.view.context){return;}
try{var model=this.context.model;this.lastTriggeredActions=this.lastTriggeredActions||[];if(model.inSync&&!this.testOnLoad){return;}
var actions=this.actions;if(undo&&this.falseActions!=null)
actions=this.falseActions;_.each(this.lastTriggeredActions,function(action){this.context.view.off(null,null,action);},this);if(actions instanceof SUGAR.forms.AbstractAction)
actions=[actions];for(var i in actions){var action=actions[i];if(typeof action.exec=="function"){action.setContext(this.context);action.exec();if(this.testOnLoad&&action.afterRender){if(this.context.view.action==='list'){this.context.view.on('render',function(){var prevModel=action.context.model;action.context.setModel(model);action.exec();action.context.setModel(prevModel);},this);}}}}
this.lastTriggeredActions=actions;}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log('ERROR: '+e);}
return;}};SUGAR.forms.Dependency.prototype.getRelatedFields=function(){var parser=SEC.parser,fields=parser.getRelatedFieldsFromFormula(this.trigger.condition);var parse=function(actions){if(actions instanceof SUGAR.forms.AbstractAction){actions=[actions];}
for(var i in actions){var action=actions[i],actionTarget=action.target||undefined;if(typeof action.exec=="function"){for(var p in action){if(typeof action[p]=="string"&&action[p].indexOf('$')>-1){fields=$.merge(fields,parser.getRelatedFieldsFromFormula(action[p],actionTarget));}}}}}
parse(this.actions);parse(this.falseActions);return fields;}
SUGAR.forms.AbstractAction=function(target){this.target=target;};SUGAR.forms.AbstractAction.prototype.exec=function(){}
SUGAR.forms.AbstractAction.prototype.setContext=function(context){this.context=context;}
SUGAR.forms.AbstractAction.prototype.evalExpression=function(exp,context){context=context||this.context;return SEC.parser.evaluate(exp,context).evaluate();}
SUGAR.forms.AbstractAction.prototype.canSetValue=function(context){if(context.options&&context.options.revert){return false;}
let isCreateSubpanel=context.view&&context.view.context&&context.view.context.get('isCreateSubpanel');if(context.isOnLoad&&!context.model.isNew()&&!isCreateSubpanel){return false;}
return true;};SUGAR.forms.Trigger=function(variables,condition,context,relatedFields){this.variables=variables;this.condition=condition;this.context=context;this.relatedFields=relatedFields||[];this.dependency={};};SUGAR.forms.Trigger.prototype._findRelatedCollection=function(link_name,model){model=model||this.context.model;var varContextCollection=this.context.getNestedCollectionFromModel(link_name,model);if(_.isUndefined(varContextCollection)){var varContext=this.context.getLinkContext(this.context.view,link_name);if(varContext&&varContext.has('collection')){varContextCollection=varContext.get('collection');}}
return varContextCollection;};SUGAR.forms.Trigger.prototype._attachListeners=function(){if(!(this.variables instanceof Array)){this.variables=[this.variables];}
for(var i=0;i<this.variables.length;i++){this.context.addListener(this.variables[i],SUGAR.forms.Trigger.fire,this,true);}
var models=[this.context.model];if(this.context.useCollection){models=this.context.collection.models;this.context.collection.off('add',null,this);this.context.collection.off('remove',null,this);this.context.collection.on('add',function(model,collection,options){this._attachCollectionListeners(model);},this);this.context.collection.on('remove',function(model,collection,options){_.each(model._relatedCollections,function(collection){collection.off(null,null,this);})
model.off(null,null,this);},this);}
_.each(models,function(model){this._attachCollectionListeners(model);},this);};SUGAR.forms.Trigger.prototype._attachCollectionListeners=function(model,triggerLink,relModel){var relFields=this.relatedFields,linkFields=[],changingField,isRemoveEvent=false;triggerLink=triggerLink||false;_.each(this.dependency.getRelatedFields(),function(field){linkFields[field.link]=_.union(linkFields[field.link]||[],[field.relate]);});var colChangeCallback=_.bind(function(relModel,value,event){if(value!==null&&!_.isUndefined(value)){_.find(relModel.changed,function(v,k){if(_.contains(relFields,k)&&v===value){changingField=k;return true;}});}else if(event&&event.type=='remove'){this.context.isRemoveEvent=true;}
if(event&&event.link){this.context.updateRelatedCollectionValues(model,event.link,null,null,relModel,event.type);}
var prevModel=this.context.model;this.context.model=model;this.context.changingField=changingField;SUGAR.forms.Trigger.fire.call(this,relModel,null,{fromRelated:true,changingField:changingField,isRemoveEvent:isRemoveEvent});this.context.model=prevModel;delete this.context.isRemoveEvent
delete this.context.changingField;},this);for(var i=0;i<this.variables.length;i++){var link=this.variables[i];var linkRelatedFields=linkFields[link]||[];var varContextCollection=this._findRelatedCollection(link,model);if(varContextCollection instanceof Backbone.Collection){varContextCollection.off('add',null,this);varContextCollection.on('add',function(relModel){colChangeCallback(relModel,null,{type:'add',link:link});},this);varContextCollection.off('remove',null,this);varContextCollection.on('remove',function(relModel){colChangeCallback(relModel,null,{type:'remove',link:link});},this);if(!_.isEmpty(linkRelatedFields)){var events='change:'+_.unique(linkRelatedFields).join(' change:');varContextCollection.off(events,null,this);varContextCollection.on(events,colChangeCallback,this);}}else if(_.isString(varContextCollection)){model.once('change:'+varContextCollection,function(parentModel,changedRelatedModel){this._attachListeners();if(_.isObject(changedRelatedModel)&&_.intersection(_.keys(changedRelatedModel.changed),relFields).length>0){SUGAR.forms.Trigger.fire.call(this,model);}},this);return varContextCollection;}}
if(triggerLink&&_.contains(this.variables,triggerLink)){colChangeCallback(relModel,null,'add');}};SUGAR.forms.Trigger.prototype.setDependency=function(dep){this.dependency=dep;this._attachListeners();}
SUGAR.forms.Trigger.prototype.setContext=function(context){this.context=context;}
SUGAR.forms.Trigger.fire=function(model,value,options){options=options||{};var evaluation,val,prevModel,prevRelatedModel;if(model){var fromRelated=options.fromRelated||false;if(!fromRelated&&model){prevModel=this.context.model;this.context.setModel(model);}else if(fromRelated){prevRelatedModel=this.context.relatedModel;this.context.setRelatedModel(model);}}
this.context.options=options;try{evaluation=SEC.parser.evaluate(this.condition,this.context);}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log('ERROR:'+e+'; in Condition: '+this.condition);}}
if(!_.isUndefined(evaluation)){val=evaluation.evaluate();}
if(val==SUGAR.expressions.Expression.TRUE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(false);}}else if(val==SUGAR.expressions.Expression.FALSE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(true);}}
if(!fromRelated&&model){this.context.setModel(prevModel);}
if(fromRelated){this.context.setRelatedModel(prevModel);}};SUGAR.forms.flashInProgress={};SUGAR.forms.markedField={};SUGAR.forms.exclamationMarkTemplate=Handlebars.compile('<span class="warning-tooltip add-on" data-container="body" rel="tooltip" title="{{this}}"><i class="fa fa-warning"></i></span>');SUGAR.forms.FlashField=function(field,to_color,key){if(typeof(field)=='undefined'||(!key&&!field.id))
return;key=key||field.id;if(SUGAR.forms.flashInProgress[key])
return;SUGAR.forms.flashInProgress[key]=true;let $field=$(field);if(!$field.length){return;}
to_color=to_color||'#FF8F8F';let original=window.getComputedStyle($field[0],null).getPropertyValue('background-color');$field.css('backgroundColor',original);$field.animate({backgroundColor:to_color},200,function(){$field.animate({backgroundColor:original},200,function(){delete SUGAR.forms.flashInProgress[key];});});};SUGAR.forms.markField=function(key,el,text){if(SUGAR.forms.markedField[key])
return;if(!el)
return;var field=$(el).parents('[data-fieldname="'+key+'"]');var $ftag=$(el).children();field.addClass('warning');var $tooltip=$(SUGAR.forms.exclamationMarkTemplate(text));var isWrapped=$ftag.parent().hasClass('input-append');if(!isWrapped){$ftag.wrap('<div class="input-append warning">');}
$ftag.parent().addClass('warning');$ftag.after($tooltip);SUGAR.forms.markedField[key]=$tooltip;};SUGAR.forms.unmarkField=function(key,el){if(!SUGAR.forms.markedField[key])
return;if(!el)
return;var field=$(el).parents('[data-fieldname="'+key+'"]');field.removeClass('warning');SUGAR.forms.markedField[key].remove();SUGAR.forms.markedField[key]=null;};SE.plugin={onAttach:function(){this.on('init',function(){this.startSugarLogic();},this);},startSugarLogic:function(){this._slCtx=this.initSugarLogic();Object.defineProperty(this,'slContext',{get:function(){SUGAR.App.logger.warn('`View.slContext` has been deprecated since 7.9.');return this._slCtx;},configurable:true,enumerable:true,});this.context.addFields(this._getDepFields());},initSugarLogic:function(model,dependencies,isCreate){model=model||this.model;this._dependencies=dependencies||this.getApplicableDeps();isCreate=isCreate||false;var slContext=new SUGAR.expressions.SidecarExpressionContext(this,model,this.collection);if(_.isEmpty(this._dependencies)){return slContext;}
slContext.initialize(this._dependencies,isCreate);return slContext;},_getDepFields:function(){var fields;var getFields=SE.ExpressionParser.prototype.getFieldsFromExpression;var deps=this.getApplicableDeps();_.each(deps,function(dep){if(dep.trigger){fields=_.union(fields,getFields(dep.trigger));}
_.each(dep.actions,function(action){_.each(action.params,function(param){if(_.isString(param)){fields=_.union(fields,getFields(param));}});});});if(this.model){fields=_.filter(fields,function(field){return this.model.fields&&this.model.fields[field]&&this.model.fields[field].type!=='link';},this);}
return fields;},getApplicableDeps:function(){var meta=_.extend({},this.meta,this.options.meta),modDeps=SUGAR.App.metadata.getModule(this.context.get("module"),"dependencies"),action=(_.contains(this.plugins,'Editable')||this.name=='edit'||this.name=='create')?"edit":"view",deps=meta.dependencies;if(!_.isEmpty(modDeps)){var filteredModDeps=_.filter(modDeps,function(dep){if(_.contains(dep.hooks,"all")||_.contains(dep.hooks,action)){return true;}
return false;});deps=(!_.isEmpty(deps))?_.union(deps,filteredModDeps):filteredModDeps;}
return deps;},stopSugarLogic:function(){this.off(null,null,this._slCtx);this.model&&this.model.off(null,null,this._slCtx);this.collection&&this.collection.off(null,null,this._slCtx);_.each(this._slCtx.dependencies,function(dep){this.context.off('list:editrow:fire',null,dep);_.each(dep.actions,function(action){this.off(null,null,action);},this);},this);},onDetach:function(){this.stopSugarLogic();},};if(SUGAR.App&&SUGAR.App.plugins){SUGAR.App.plugins.register('SugarLogic','view',SE.plugin);}else if(console.error){console.error("unable to find the plugin manager");}})();
/* End of File sidecar/lib/sugarlogic/sidecarExpressionContext.js */

(function register(app){app.events.on('app:init',function init(){function AssignRecord(def){this.def=def;}
AssignRecord.prototype.fetchAndApplyChanges=function(model,updatedFields){let changes=model.changedAttributes();changes=_.omit(changes,_.keys(updatedFields));changes=_.omit(changes,['date_modified']);model.fetch({complete:function reapplyChanges(){model.set(changes);}});},AssignRecord.prototype.run=function(opts,currentExecution){let actionDef=this.def;let newUserId=actionDef.properties.id;let useUserName=actionDef.properties.name;let recordModel=opts.recordModel;if(!this.hasEditAccess(opts.recordModel)){app.alert.show('alert_no_access',{level:'error',title:app.lang.get('ERR_NO_VIEW_ACCESS_TITLE'),messages:app.lang.get('ERR_NO_VIEW_ACCESS_ACTION'),autoClose:true,autoCloseDelay:5000});currentExecution.nextAction();return;};let updatedFields={assigned_user_id:newUserId,assigned_user_name:useUserName};let patchModel=app.data.createBean(recordModel.module,_.assign({id:recordModel.get('id'),},updatedFields));patchModel.save({},{showAlerts:true,success:_.bind(function successSave(){this.fetchAndApplyChanges(recordModel,updatedFields);currentExecution.nextAction();},this),error:_.bind(function errorSave(){this.fetchAndApplyChanges(recordModel,updatedFields);currentExecution.nextAction();},this)});};AssignRecord.prototype.hasEditAccess=function(model){let hasAccess=app.acl.hasAccessToModel('edit',model)&&app.acl.hasAccessToModel('edit',model,'assigned_user_id')&&app.acl.hasAccessToModel('edit',model,'assigned_user_name');return hasAccess;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{AssignRecord:AssignRecord});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/AssignRecordAction.js */

(function register(app){app.events.on('app:init',function init(){function ComposeEmail(def){this.def=def;}
ComposeEmail.prototype.run=function(opts,currentExecution){const recordModel=opts.recordModel;const def=this.def;const properties=def.properties;const pmseTemplatePath='actionButton/evaluateBPMEmailTemplate';const emailTemplatePath='actionButton/evaluateEmailTemplate';const templateId=properties.id;const usePmseTemplate=app.utils.isTruthy(properties.pmse);const templatePath=usePmseTemplate?pmseTemplatePath:emailTemplatePath;const requestType='create';const callbacks={success:_.bind(function loadEmailDrawer(emailData){if(this.getEmailClientType()==='sugar'){this.composeEmailBySugarClient(recordModel,templateId,emailData,currentExecution);}else{this.composeEmailByExternalClient(recordModel,emailData,currentExecution);}},this)};const requestMeta=this.createRequestParamForSugarClient(recordModel,properties);const apiUrl=app.api.buildURL(templatePath,requestType,requestMeta,{});app.api.call(requestType,apiUrl,requestMeta,null,callbacks);};ComposeEmail.prototype.getEmailClientType=function(){const emailType=app.user.get('preferences').email_client_preference.type;return emailType;};ComposeEmail.prototype.composeEmailByExternalClient=function(recordModel,emailData,currentExecution){var emailBody=emailData.body.replace(/\n/g,'\r\n').replace(/<p>/g,'\r\n').replace(/(<([^>]+)>)/ig,'');var emailToAddresses='';if(emailData.emailTo){emailToAddresses=_.chain(emailData.emailTo).pluck('email_address').value().join(';');}
if(emailToAddresses===''){emailToAddresses=_.chain(recordModel.get('email')).pluck('email_address').value().join(';');}
currentExecution.nextAction();this.mailto('mailto:'+emailToAddresses+'?subject='+encodeURIComponent(emailData.subject)+'&body='+encodeURIComponent(emailBody));};ComposeEmail.prototype.mailto=function(location){window.location.href=location;};ComposeEmail.prototype.composeEmailBySugarClient=function(recordModel,templateId,emailData,currentExecution){let emailModel=this.createEmailForSugarClient(recordModel,templateId,emailData);app.drawer.open({layout:'compose-email',context:{create:true,module:'Emails',model:emailModel}});currentExecution.nextAction();};ComposeEmail.prototype.createEmailForSugarClient=function(recordModel,templateId,emailData){let emailModel=app.data.createBean('Emails');emailModel.set({related:recordModel,parent:recordModel,parent_id:recordModel.get('id'),parent_type:recordModel.module,parent_name:recordModel.get('name'),mustLinkRecord:true,emailTemplateId:templateId,name:emailData.subject,description:emailData.description,description_html:emailData.body});if(emailData.emailTo!==false&&!_.isEmpty(emailData.emailTo)){const toCollection=this.createEmailToCollection(emailModel,emailData);emailModel.set('to_collection',toCollection);}
return emailModel;};ComposeEmail.prototype.createEmailToCollection=function(emailModel,emailData){const emailAddresses=emailData.emailTo;let emailToCollection=app.data.createMixedBeanCollection();let linkedCollection=app.data.createBeanCollection();linkedCollection._create=[];_.each(emailAddresses,function getEmail(emailMeta){const emailParticipantMeta={_link:'to',email_address:emailMeta.email_address,email_address_id:emailMeta.email_address_id,invalid_email:false,deleted:false};let emailParticipant=app.data.createBean('EmailParticipants',emailParticipantMeta);emailToCollection.add(emailParticipant);linkedCollection._create.push(emailParticipant);});linkedCollection.link={name:'to',bean:emailModel};emailToCollection._linkedCollections={'to':linkedCollection};return emailToCollection;};ComposeEmail.prototype.createRequestParamForSugarClient=function(recordModel,properties){let requestParam={emailToData:{formulaElement:properties.emailToFormula,validFormula:true,validationMessage:''},emailToField:true,targetRecordId:recordModel.get('id'),targetTemplateId:properties.id,targetRecordModule:recordModel.module};return requestParam;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{ComposeEmail:ComposeEmail});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/ComposeEmailAction.js */

(function register(app){app.events.on('app:init',function init(){function CreateRecord(def){this.def=def;this.deniedFields=['id','_acl','_hash','_module','user_sync','created_by','modified_by_name','modified_user_id','modified_user_link','created_by_link','created_by_name','date_entered','date_modified','locked_fields','_erased_fields','acl_team_names','acl_team_set_id','created_by_link','sync_key','team_count_link'];}
CreateRecord.prototype.run=function(opts,currentExecution){if(this.hasEditAccess(this.def.properties.module)){this._createRecord(opts,currentExecution);}else{this.noAccessAlert(currentExecution);}};CreateRecord.prototype._createRecord=function(opts,currentExecution){const parentRecordModel=opts.recordModel;const parentRecordView=opts.recordView;const actionProperties=this.def.properties;const module=actionProperties.module;const shouldLink=actionProperties.mustLinkRecord;const relLink=actionProperties.link;var bean=null;if(shouldLink){bean=opts.createLinkModelFct(parentRecordModel,relLink);}else{bean=app.data.createBean(module);}
if(actionProperties.copyFromParent){bean=this._populateModelFromParent(bean,parentRecordModel);}
bean=this._populateModelWithParentAttributes(bean,parentRecordModel,actionProperties.parentAttributes);this._resolveModelWithCustomAttributes(bean,parentRecordView,actionProperties,opts,currentExecution);};CreateRecord.prototype._hasAsyncLogic=function(attributes){const calculatedFields=_.filter(attributes,function checkCalculatedFields(item){return item.isCalculated;});return calculatedFields.length>0;};CreateRecord.prototype._resolveModelWithCustomAttributes=function(newBean,parentRecordView,actionProperties,opts,currentExecution){const targetFields=actionProperties.attributes;if(this._hasAsyncLogic(targetFields)){this._populateAsyncModelWithCustomAttributes(newBean,parentRecordView,actionProperties,opts,currentExecution);}else{this._populateSyncModelWithCustomAttributes(newBean,parentRecordView,actionProperties,targetFields,opts,currentExecution);}};CreateRecord.prototype._populateSyncModelWithCustomAttributes=function(newBean,parentRecordView,actionProperties,targetFields,opts,currentExecution){const module=actionProperties.module;newBean=this._populateModelWithCustomAttributes(newBean,targetFields);if(actionProperties.autoCreate){this._trySetTeam(newBean);var validationErrors={};newBean.on('error:validation',function handleValidationError(errors){validationErrors=errors;});newBean.doValidate(newBean.fields,_.bind(function modelValidated(isValid){if(isValid){newBean.save({},{showAlerts:false,success:_.bind(function successSave(model,changed){app.alert.show('create-success',{level:'success',messages:this._displayMessage(model,module),autoClose:true,autoCloseDelay:10000,onLinkClick:function(){app.alert.dismiss('create-success');}});this._refreshCollection(parentRecordView,actionProperties);currentExecution.nextAction();},this)});}else{var fields=_.chain(validationErrors).keys().map(function getFieldLabel(f){return'<li>'+app.lang.get(newBean.fields[f].vname,newBean.module)+'</li>';}).value();var msg=_.union([app.lang.get('LBL_ACTIONBUTTON_INVALID_FIELD_VALUES')],fields);app.alert.show('invalid-data',{level:'error',messages:msg});currentExecution.nextAction();}},this));}else{if(module==='Quotes'){this._navigateCreateQuote(newBean,module,parentRecordView);}else{this._openCreateDrawer(newBean,module,parentRecordView,actionProperties);}
currentExecution.nextAction();}};CreateRecord.prototype._trySetTeam=function(bean){if(_.isEmpty(bean.get('team_name'))){var teams=app.utils.deepCopy(app.user.getPreference('default_teams'));bean.set('team_name',teams);bean.set('team_count',teams.length);}
if(!_.isEmpty(bean.get('team_name'))&&_.isEmpty(bean.get('team_count'))){let teams=bean.get('team_name');bean.set('team_count',teams.length);}};CreateRecord.prototype._navigateCreateQuote=function(bean,module,parentRecordView){var loadViewObj={module:'Quotes',layout:'create',action:'edit',convert:false,create:true,model:bean,collection:app.data.createBeanCollection('Quotes')};app.controller.loadView(loadViewObj);app.router.navigate('#Quotes/create',{trigger:false});};CreateRecord.prototype._openCreateDrawer=function(newBean,module,parentView,actionProperties){app.drawer.open({layout:'create',context:{create:true,model:newBean,module:module,parentView:parentView}},_.bind(function drawerClose(context,model){if(!model){return;}
if(parentView.type==='dashlet-toolbar'){parentView.refreshClicked();}else{let context=parentView.context;context.set('skipFetch',false);context.reloadData();this._refreshCollection(parentView,actionProperties);}},this));};CreateRecord.prototype._populateAsyncModelWithCustomAttributes=function(newBean,parentRecordView,actionProperties,opts,currentExecution){let targetFields=actionProperties.attributes;const recordModule=parentRecordView.model.module;const recordId=parentRecordView.model.id;const requestType='create';const apiPath='actionButton/evaluateExpression';const calculatedFields=_.pick(targetFields,function pickCalculated(item){return item.isCalculated;});const simpleFields=_.pick(targetFields,function pickCalculated(item){return!item.isCalculated;});newBean=this._populateModelWithCustomAttributes(newBean,simpleFields);const beanFieldsData=newBean.attributes;let requestMeta={targetFields:calculatedFields,targetRecordId:recordId,targetModule:recordModule,beanData:beanFieldsData,};const apiCallbacks={success:_.bind(function calculatedFormula(result){_.each(result,function addNewValues(item,key){if(typeof(targetFields[key])==='string'){targetFields={};}
const value={};value[key]=item;targetFields[key]={fieldName:key,isCalculated:false,formula:'',value:value};},this);this._populateSyncModelWithCustomAttributes(newBean,parentRecordView,actionProperties,targetFields,opts,currentExecution);},this)};const apiUrl=app.api.buildURL(apiPath,requestType,requestMeta,{});app.api.call(requestType,apiUrl,requestMeta,null,apiCallbacks);};CreateRecord.prototype._populateModelWithCustomAttributes=function(newBean,targetFields){let fieldValues=_.chain(targetFields).values().map(a=>this.normalizeFieldValue(a,newBean)).flatten(1).map(a=>_.pairs(a)).flatten(1).object().value();newBean.set(fieldValues);return newBean;};CreateRecord.prototype._cloneParentFieldValue=function(fieldInfo,record,parent){const recordField=fieldInfo.fieldName;const parentField=fieldInfo.parentFieldName;const recordFieldDef=record.fields[recordField];const parentFieldDef=parent.fields[parentField];let value={};if(this.deniedFields.indexOf(recordField)!==-1){return value;};if(recordFieldDef.type==='relate'&&parentFieldDef.type==='relate'&&!_.isEmpty(recordFieldDef.id_name)&&!_.isEmpty(parentFieldDef.id_name)){value[recordField]=parent.get(parentField);value[recordFieldDef.id_name]=parent.get(parentFieldDef.id_name);}else{value[recordField]=parent.get(parentField);};return value;};CreateRecord.prototype._populateModelWithParentAttributes=function(newBean,parentRecordModel,targetFields){let fieldValues=_.chain(targetFields).values().map(a=>this._cloneParentFieldValue(a,newBean,parentRecordModel)).flatten(1).map(a=>_.pairs(a)).flatten(1).object().value();newBean.set(fieldValues);return newBean;};CreateRecord.prototype._populateModelFromParent=function(newBean,parentRecordModel){let fieldValues=_.chain(newBean.fields).filter(function filterCloneableFields(f){return(this.deniedFields.indexOf(f.name)===-1&&!_.isEmpty(parentRecordModel.fields[f.name])&&f.type===parentRecordModel.fields[f.name].type&&!_.isUndefined(parentRecordModel.get(f.name)));},this).map(function createCloneTuple(f){return[f.name,parentRecordModel.get(f.name)];}).object().value();newBean.set(fieldValues);return newBean;};CreateRecord.prototype._refreshCollection=function(parentRecordView,actionProperties){if(actionProperties.mustLinkRecord){var collection=parentRecordView.model.getRelatedCollection(actionProperties.link);collection.fetch({relate:true});}};CreateRecord.prototype._displayMessage=function(model,module){var modelAttributes;var successLabel='LBL_RECORD_SAVED_SUCCESS';var successMessageContext;if(model&&model.attributes){modelAttributes=model.attributes;if(model.get('no_success_label_link')){successLabel='LBL_RECORD_SAVED_SUCCESS_NO_LINK';}}else{modelAttributes={};successLabel='LBL_RECORD_SAVED';}
successMessageContext=_.extend({module:module,moduleSingularLower:app.lang.getModuleName(module).toLowerCase()},modelAttributes);return app.lang.get(successLabel,module,successMessageContext);};CreateRecord.prototype.hasEditAccess=function(module){const access=app.acl.hasAccess('edit',module);return access;};CreateRecord.prototype.noAccessAlert=function(currentExecution){app.alert.show('alert_no_access',{level:'error',title:app.lang.get('ERR_NO_VIEW_ACCESS_TITLE'),messages:app.lang.get('ERR_NO_VIEW_ACCESS_ACTION'),autoClose:true,autoCloseDelay:5000});currentExecution.nextAction();};CreateRecord.prototype.normalizeFullameValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])&&_.isUndefined(fieldData.value.first_name)&&_.isUndefined(fieldData.value.last_name)){let nameParts=fieldData.value[fieldData.fieldName].split(' ');let lastName=nameParts.pop().trim();let firstName=nameParts.join(' ').trim();return{first_name:firstName,last_name:lastName};}else{return fieldData.value;}};CreateRecord.prototype.normalizeDatetimeValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};value[fieldData.fieldName]=app.date.utc(fieldData.value[fieldData.fieldName]).format();return value;}else{return fieldData.value;}};CreateRecord.prototype.normalizeRelateValue=function(fieldDef,fieldData){let idName=fieldDef.id_name;if(!_.isEmpty(fieldData.value[idName])){return fieldData.value;}else{let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[idName]=fieldData.value[fieldData.fieldName];return value;}};CreateRecord.prototype.normalizeParentValue=function(fieldDef,fieldData){let typeName=fieldDef.type_name;let idName=fieldDef.id_name;let value={};if(_.isObject(fieldData.value.parent)){value[fieldData.fieldName]=fieldData.value.parent.name;value[typeName]=fieldData.value.parent._module;value[idName]=fieldData.value.parent.id;}else if(!_.isEmpty(fieldData.value[typeName])&&!_.isEmpty(fieldData.value[idName])){value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[typeName]=fieldData.value[typeName];value[idName]=fieldData.value[idName];}else{let parentParts=fieldData.value[fieldData.fieldName].split('|');let recordModule=(parentParts.shift()||'').trim();let recordId=(parentParts.shift()||'').trim();let recordName=(parentParts.join('')||'').trim();value[fieldData.fieldName]=recordName;value[typeName]=recordModule;value[idName]=recordId;}
return value;};CreateRecord.prototype.normalizeTagValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName].split(',');return value;}else{return fieldData.value;}};CreateRecord.prototype.normalizeFieldValue=function(fieldData,model){let result=[];let fieldDef=model.fields[fieldData.fieldName];switch(fieldDef.type){case'fullname':result.push(this.normalizeFullameValue(fieldDef,fieldData));break;case'datetime':case'datetimecombo':result.push(this.normalizeDatetimeValue(fieldDef,fieldData));break;case'relate':result.push(this.normalizeRelateValue(fieldDef,fieldData));break;case'parent':result.push(this.normalizeParentValue(fieldDef,fieldData));break;case'tag':result.push(this.normalizeTagValue(fieldDef,fieldData));break;default:result.push(fieldData.value);break;}
return result;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{CreateRecord:CreateRecord});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/CreateRecordAction.js */

(function register(app){app.events.on('app:init',function init(){function DocumentMerge(def){this.def=def;}
DocumentMerge.prototype.run=function(opts,currentExecution){const actionDef=this.def;const templateId=actionDef.properties.id;const templateName=actionDef.properties.name;const isPdf=actionDef.properties.pdf;this.mergeDocument(opts,templateId,templateName,isPdf,currentExecution);};DocumentMerge.prototype.mergeDocument=function(opts,templateId,templateName,isPdf,currentExecution){const recordModel=opts.recordModel;const currentRecordId=recordModel.get('id');const currentRecordModule=recordModel.module;app.events.trigger('document_merge:show_widget');app.events.trigger('document:merge',{currentRecordId,currentRecordModule,templateId,templateName,isPdf,});app.alert.show('wdocs_loading',{level:'info',messages:app.lang.getModString('LBL_DOCUMENT_MERGIN_ACTION_PROCESS','DocumentMerges'),autoClose:true,});currentExecution.nextAction();};app.actions=app.actions||{};app.actions=_.extend(app.actions,{DocumentMerge:DocumentMerge,});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/DocumentMergeAction.js */

(function register(app){app.events.on('app:init',function init(){function OpenUrl(def){this.def=def;}
OpenUrl.prototype.run=function(opts,currentExecution){let actionDef=this.def;let formula=actionDef.properties.formula;let url=actionDef.properties.url;if(app.utils.isTruthy(actionDef.properties.calculated)){this.getCalculatedUrl(opts,formula,currentExecution);}else{this.openWindowAndContinue(url,currentExecution);}};OpenUrl.prototype.getCalculatedUrl=function(opts,formula,currentExecution){let recordModel=opts.recordModel;const reqType='create';const url=app.api.buildURL('actionButton','evaluateCalculatedUrl');const reqMeta={keepTempFieldForCalculatedURL:{buildUrlTempField:{targetField:'buildUrlTempField',formula:formula}},recordType:recordModel.module,recordId:recordModel.get('id')};let apiCallbacks={success:function success(resp){const calculatedUrl=resp.buildUrlTempField.value;this.openWindowAndContinue(calculatedUrl,currentExecution);}.bind(this)};app.api.call(reqType,url,reqMeta,apiCallbacks);};OpenUrl.prototype.openWindowAndContinue=function(url,currentExecution){this.openNewWindow(url);currentExecution.nextAction();};OpenUrl.prototype.openNewWindow=function(url){const protocolRegex=/^([a-zA-Z]*):.*/gm;url=(url||'').trim();if(!url.match(protocolRegex)){url='https://'+url;}
var newWindow=window.open(url,'_blank');newWindow.focus();};app.actions=app.actions||{};app.actions=_.extend(app.actions,{OpenUrl:OpenUrl});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/OpenUrlAction.js */

(function register(app){app.events.on('app:init',function init(){function RunReport(def){this.def=def;}
RunReport.prototype.run=function(opts,currentExecution){const def=this.def;const properties=def.properties;const reportId=properties.id;const url=this.createUrl(reportId);this.open(url);currentExecution.nextAction();};RunReport.prototype.open=function(url){window.open(url,'_blank');};RunReport.prototype.createUrl=function(reportId){const url=window.location.origin+
window.location.pathname+'#Reports/'+
reportId;return url;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{RunReport:RunReport});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/RunReportAction.js */

(function register(app){app.events.on('app:init',function init(){function UpdateRecord(def){this.def=def;}
UpdateRecord.prototype.run=function(opts,currentExecution){const fieldDef=this.def;const properties=fieldDef.properties;const fieldsToBeUpdated=properties.fieldsToBeUpdated;if(!this.hasEditAccess(opts.recordModel,fieldsToBeUpdated)){app.alert.show('alert_no_access',{level:'error',title:app.lang.get('ERR_NO_VIEW_ACCESS_TITLE'),messages:app.lang.get('ERR_NO_VIEW_ACCESS_ACTION'),autoClose:true,autoCloseDelay:5000});currentExecution.nextAction();return;};let computedFields={};let hardCodedFields={};_.each(fieldsToBeUpdated,function update(fieldMeta,fieldKey){const isCalculated=fieldMeta.isCalculated;if(isCalculated){computedFields[fieldKey]=fieldMeta;}else{hardCodedFields[fieldKey]=fieldMeta;}});const totalComputedFields=Object.keys(computedFields).length;const totalHardCodedFields=Object.keys(hardCodedFields).length;if(totalHardCodedFields===0&&totalComputedFields===0){currentExecution.nextAction();}else if(totalComputedFields===0){this.updateRecord(fieldsToBeUpdated,opts,currentExecution);}else{this.resolveComputedValues(fieldsToBeUpdated,computedFields,opts,currentExecution);}};UpdateRecord.prototype.hasEditAccess=function(model,fieldsToBeUpdated){let hasAccess=app.acl.hasAccessToModel('edit',model)&&_.chain(fieldsToBeUpdated).values().map(function getFieldName(field){return field.fieldName;}).reduce(function verifyFieldAccess(hasAccess,fieldName){return hasAccess&&app.acl.hasAccessToModel('edit',model,fieldName);},true).value();return hasAccess;};UpdateRecord.prototype.resolveComputedValues=function(allFieldsMeta,computedFieldsMeta,opts,currentExecution){let recordModel=opts.recordModel;const requestType='create';const apiPath='actionButton/evaluateExpression';let requestMeta={targetFields:computedFieldsMeta,targetRecordId:recordModel.id,targetModule:recordModel.module};const apiCallbacks={success:_.bind(function fieldsCalculatedCallback(result){_.each(result,function assignNewValues(item,key){const value={};value[key]=item;allFieldsMeta[key].value=value;});this.updateRecord(allFieldsMeta,opts,currentExecution);},this)};const apiUrl=app.api.buildURL(apiPath,requestType,requestMeta,{});app.api.call(requestType,apiUrl,requestMeta,null,apiCallbacks);};UpdateRecord.prototype.fetchAndApplyChanges=function(model,updatedFields,currentExecution){let changes=model.changedAttributes();changes=_.omit(changes,_.keys(updatedFields));changes=_.omit(changes,['date_modified']);model.fetch({complete:function reapplyChanges(){model.set(changes);currentExecution.nextAction();}});};UpdateRecord.prototype.normalizeFullameValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])&&_.isUndefined(fieldData.value.first_name)&&_.isUndefined(fieldData.value.last_name)){let nameParts=fieldData.value[fieldData.fieldName].split(' ');let lastName=nameParts.pop().trim();let firstName=nameParts.join(' ').trim();return{first_name:firstName,last_name:lastName};}else{return fieldData.value;}};UpdateRecord.prototype.normalizeDatetimeValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};value[fieldData.fieldName]=app.date.utc(fieldData.value[fieldData.fieldName]).format();return value;}else{return fieldData.value;}};UpdateRecord.prototype.normalizeRelateValue=function(fieldDef,fieldData){let idName=fieldDef.id_name;if(!_.isEmpty(fieldData.value[idName])){return fieldData.value;}else{let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[idName]=fieldData.value[fieldData.fieldName];return value;}};UpdateRecord.prototype.normalizeParentValue=function(fieldDef,fieldData){let typeName=fieldDef.type_name;let idName=fieldDef.id_name;let value={};if(_.isObject(fieldData.value.parent)){value[fieldData.fieldName]=fieldData.value.parent.name;value[typeName]=fieldData.value.parent._module;value[idName]=fieldData.value.parent.id;}else if(!_.isEmpty(fieldData.value[typeName])&&!_.isEmpty(fieldData.value[idName])){value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[typeName]=fieldData.value[typeName];value[idName]=fieldData.value[idName];}else{let parentParts=fieldData.value[fieldData.fieldName].split('|');let recordModule=(parentParts.shift()||'').trim();let recordId=(parentParts.shift()||'').trim();let recordName=(parentParts.join('')||'').trim();value[fieldData.fieldName]=recordName;value[typeName]=recordModule;value[idName]=recordId;}
return value;};UpdateRecord.prototype.normalizeTagValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName].split(',');return value;}else{return fieldData.value;}};UpdateRecord.prototype.normalizeFieldValue=function(fieldData,model){let result=[];let fieldDef=model.fields[fieldData.fieldName];switch(fieldDef.type){case'fullname':result.push(this.normalizeFullameValue(fieldDef,fieldData));break;case'datetime':case'datetimecombo':result.push(this.normalizeDatetimeValue(fieldDef,fieldData));break;case'relate':result.push(this.normalizeRelateValue(fieldDef,fieldData));break;case'parent':result.push(this.normalizeParentValue(fieldDef,fieldData));break;case'tag':result.push(this.normalizeTagValue(fieldDef,fieldData));break;default:result.push(fieldData.value);break;}
return result;};UpdateRecord.prototype.updateRecord=function(fieldValues,opts,currentExecution){let recordModel=opts.recordModel;fieldValues=_.chain(fieldValues).values().map(a=>this.normalizeFieldValue(a,recordModel)).flatten(1).map(a=>_.pairs(a)).flatten(1).object().value();if(this.def.properties.autoSave){let patchValues=_.assign({},fieldValues,{id:recordModel.get('id')});let patchModel=app.data.createBean(recordModel.module,patchValues);patchModel.save({},{showAlerts:true,success:_.bind(function successSave(){this.fetchAndApplyChanges(recordModel,fieldValues,currentExecution);},this),error:_.bind(function errorSave(){this.fetchAndApplyChanges(recordModel,fieldValues,currentExecution);},this)});}else{recordModel.set(fieldValues);if(opts.recordView&&opts.recordView.name==='dashablerecord'){opts.recordView.editRecord();}else if(opts.recordView&&opts.recordView.name==='preview'){let previewHeader=opts.recordView.layout.getComponent('preview-header');if(previewHeader){previewHeader.triggerEdit();}}else if(opts.recordView&&(opts.recordView.type==='subpanel-list'||opts.recordView.type==='recordlist')){opts.recordView.editClicked(opts.recordModel,opts.buttonField);}else if(opts.recordView&&opts.recordView.name==='dashlet-toolbar'){opts.recordView.layout.getComponent('dashablerecord').editRecord();}else{app.controller.context.trigger('button:edit_button:click');}
currentExecution.nextAction();}};app.actions=app.actions||{};app.actions=_.extend(app.actions,{UpdateRecord:UpdateRecord});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/UpdateRecordAction.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('ActionRunner',['field','view','layout'],{execute(actionsDef,opts){let actions=this.resolveDefsToActions(actionsDef);let runner=app.actions.Runner.create(actions,opts);runner.execute();return runner;},resolveDefToAction(actionDef){let actionFactory=new app.actions.ActionFactory();let action=actionFactory.create(actionDef);return action;},resolveDefsToActions(actionDefs){let actions=_.chain(actionDefs).map(function each(action){return this.resolveDefToAction(action);},this).sortBy(function sortBy(item){return item.def.orderNumber;}).value();return actions;},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ActionRunner.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('ActionButton',['field','view','layout'],{onAttach:function(component,plugin){this.on('init',function registerActionrRunner(){if(!_.contains(['record','recordlist','subpanel-list'],this.type)){return true;}
if(_.isObject(this.meta)){this.meta.actionButtons=this.getActionButtonsMeta();this.insertActionButtonsRows();}});},insertActionButtonsRows(){const rowActionButtons=this.getActionButtonsRowActions();if(this.type==='record'){this.insertInRecord(rowActionButtons);}else if(this.type==='dashablerecord'){this.insertInDashableRecord(rowActionButtons);}else if(this.type==='recordlist'||this.type==='subpanel-list'){this.insertInRecordList(rowActionButtons);}},insertInRecord(rowActionButtons){if(_.isEmpty(rowActionButtons)){return;}
_.each(this.meta.buttons,function insertActionButtonsRows(metaButton){if(metaButton.type==='actiondropdown'&&metaButton.name==='main_dropdown'&&_.isArray(metaButton.buttons)){let insertAtIdx=metaButton.buttons.findIndex(function find(btn){return btn.name==='delete_button'||btn.name==='unlink_button';});if(insertAtIdx===-1){insertAtIdx=metaButton.buttons.length;}
_.each(rowActionButtons,function insertButton(actionButton){metaButton.buttons.splice(insertAtIdx,0,{type:'divider'});metaButton.buttons.splice(insertAtIdx+1,0,actionButton);insertAtIdx=insertAtIdx+2;},this);metaButton.buttons.splice(insertAtIdx,0,{type:'divider'});}},this);},insertInDashableRecord(rowActionButtons){_.each(this._headerButtons,function insertActionButtonsRows(metaButton){if(metaButton.type==='actiondropdown'&&metaButton.name==='dashlet_main_dropdown'&&_.isArray(metaButton.buttons)){_.each(rowActionButtons,function insertButton(actionButton){if(metaButton.buttons.length>1){metaButton.buttons.push({type:'divider'});}
metaButton.buttons.push(actionButton);},this);}},this);},insertInRecordList(rowActionButtons){if(_.isEmpty(rowActionButtons)){return;}
let insertAtIdx=this.meta.rowactions.actions.findIndex(function find(btn){return btn.name==='delete_button'||btn.name==='unlink_button';});if(insertAtIdx===-1){insertAtIdx=this.meta.rowactions.actions.length;}
_.each(rowActionButtons,function insertButton(actionButton){this.meta.rowactions.actions.splice(insertAtIdx,0,{type:'divider'});this.meta.rowactions.actions.splice(insertAtIdx+1,0,actionButton);insertAtIdx=insertAtIdx+2;},this);this.meta.rowactions.actions.splice(insertAtIdx,0,{type:'divider'});},getActionButtonsRowActions(){const mappingTable={'record':'recordView','recordlist':'listView','subpanel-list':'subpanels','dashablerecord':'recordViewDashlet',};let validButtons=[];if(!this.model){return validButtons;}
const fieldsDef=this.model.fields;let actionButtons=app.utils.deepCopy(this.getActionButtons(fieldsDef));_.each(actionButtons,function selectValidButtons(button){let parsedData=JSON.parse(button.options);let decodedData=this.base64Parse(parsedData,false);if(decodedData.actionMenu&&decodedData.actionMenu[mappingTable[this.type]]){button.actionMenuOrder=decodedData.actionMenu.orderNumber;decodedData.settings.type='button';decodedData.settings.isRowAction=true;_.each(decodedData.buttons,function removeIcon(buttonData){buttonData.properties.showIcon=false;},this);let encodedData=this.base64Parse(decodedData,true);button.options=JSON.stringify(encodedData);validButtons.push(button);}},this);validButtons=_.sortBy(validButtons,'actionMenuOrder');return validButtons;},getActionButtonsMeta(){const fieldsDef=this.model.fields;const maxAllowedSize=45;let actionButtons=this.getActionButtons(fieldsDef);let composedActionButtons=[];let composedMeta={buttons:{},settings:{hideOnEdit:false,showFieldLabel:false,showInRecordHeader:true,size:'default',type:'dropdown'}};let currentSize=0;let orderNumber=0;_.each(actionButtons,function composeButtons(item,key){const encode=false;let parsedData=JSON.parse(item.options);let decodedData=this.base64Parse(parsedData,encode);if(!decodedData.settings.showInRecordHeader){return;}
if(_.has(decodedData,'actionMenu')&&_.has(decodedData.actionMenu,'orderNumber')){let sortedButtons=_(decodedData.buttons).chain().sortBy('orderNumber').map(function(val,key){return val.buttonId;}).value();item.actionMenuOrder=decodedData.actionMenu.orderNumber;item.buttonsIds=sortedButtons;}
_.each(decodedData.buttons,function calculateLabelSize(button,buttonKey){let buttonProp=button.properties;if(buttonProp.showLabel){if(buttonProp.label.length<3){currentSize+=3;}else{currentSize+=buttonProp.label.length;}}else{currentSize+=2;}
if(buttonProp.showIcon){currentSize+=3;}
decodedData.buttons[buttonKey].orderNumber=orderNumber;orderNumber++;});Object.assign(composedMeta.buttons,decodedData.buttons);},this);if(currentSize>maxAllowedSize){const encode=true;var sortedFields=_.sortBy(actionButtons,'actionMenuOrder');composedMeta=this.sortHeaderDropdownButtons(composedMeta,sortedFields);let mainActionButton=Object.assign({},sortedFields.pop());mainActionButton.options=JSON.stringify(this.base64Parse(composedMeta,encode));composedActionButtons.push(mainActionButton);return composedActionButtons;}else{return actionButtons;}},sortHeaderDropdownButtons(meta,sortedFields){let currentPosition=0;_.each(sortedFields,function iterateFields(buttonField){if(!_.has(buttonField,'buttonsIds')){return;}
_.each(buttonField.buttonsIds,function iterateButtons(buttonId){meta.buttons[buttonId].orderNumber=currentPosition;currentPosition++;});});return meta;},base64Parse(data,encode){_.each(data,function parseButtons(childData,key){if(typeof childData==='object'&&childData!==null){data[key]=this.base64Parse(childData,encode);}else if(typeof childData==='string'){data[key]=encode?btoa(childData):atob(childData);}},this);return data;},getActionButtons(fieldsDef){const actionButtons=_.filter(fieldsDef,function filter(field){if(field.type==='actionbutton'){field.readonly=false;try{field.decodedOptions=JSON.parse(field.options);}catch(e){app.logger.fatal(e.stack);}
return true;}});return actionButtons;},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ActionButton.js */

(function register(app){app.events.on('app:init',function init(){function ActionFactory(){}
ActionFactory.prototype.create=function(actionDef){let actionType=app.utils.capitalizeHyphenated(actionDef.actionType);let Action=app.actions[actionType];let action=Action&&new Action(actionDef);return action;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{ActionFactory:ActionFactory});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/Factory.js */

(function register(app){app.events.on('app:init',function init(){let Runner=function(actions,ops){this.actions=actions;this.ops=ops||{};this.queue=[];};Runner.create=function(actions,ops){return new Runner(actions,ops);};Runner.prototype.consume=function(){if(this.queue.length===0){return;}
let ops=this.ops;let nextAction=this.queue.shift();try{nextAction.run(ops,{nextAction:_.bind(function nextExecution(){this.consume();},this)});}catch(err){let failedActions=[nextAction.constructor.name];let nActions=failedActions.join(', ');const message=app.lang.get('LBL_ACTIONBUTTON_TASK_SEQUENCE_FAILED');const bTagS='<b>';const bTagE='</b> ';if(ops.stopOnError){failedActions=failedActions.concat(this.queue.map(function getActionType(action){return action.constructor.name;}));nActions=failedActions.join(', ');app.alert.show('actionbutton-action-stop',{level:'warning',messages:message+bTagS+nActions+bTagE,autoClose:true,autoCloseDelay:10000,});}else{app.alert.show('actionbutton-action-continue',{level:'warning',messages:message+bTagS+nActions+bTagE,autoClose:true,autoCloseDelay:10000,});this.consume();}}};Runner.prototype.execute=function(){_.each(this.actions,function pushAction(val,key){this.queue.push(val);},this);this.consume();};app.actions=app.actions||{};app.actions=_.extend(app.actions,{Runner:Runner});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/Runner.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DocumentMerge',['view'],{modulesDenyList:['Calendar','DocuSignEnvelopes',],onAttach:function(component,plugin){this.on('init',function(){this.templatesModule='DocumentTemplates';this.acceptedViews={'record':'record','recordlist':'recordlist','subpanellist':'subpanel-list'};this._addDocumentMergeButtons();},this);},onDetach:function(component,plugin){this.context.off('button:merge_template_pdf:click',this.mergeTemplate,this);this.context.off('button:merge_template:click',this.mergeTemplate,this);},_addDocumentMergeButtons:function(){let mergeButtonsMeta=[{'type':'rowaction','event':'button:merge_template:click','name':'merge_template','label':'LBL_MERGE_TEMPLATE_BUTTON_LABEL','acl_action':'view',},{'type':'rowaction','event':'button:merge_template_pdf:click','name':'merge_template_pdf','label':'LBL_MERGE_TEMPLATE_PDF_BUTTON_LABEL','acl_action':'view',},{'type':'divider',}];let viewName=this.name;let dropdown=this.getDropdown(viewName);if(_.isArray(dropdown)&&this.hasAccess()&&!this.modulesDenyList.includes(this.module)){dropdown.push(...mergeButtonsMeta);if(viewName==='recordlist'){let rowActionsDropdown=this.getRowActionsDropdown(viewName);rowActionsDropdown.push(...mergeButtonsMeta);}
this._registerTemplateButtonsEvents();}},_registerTemplateButtonsEvents:function(){let convertAction='convert';let mergeAction='merge';if(this.context.get('dataView')==='list'){mergeAction='multimerge';convertAction='multimerge_convert';}
this.context.on('button:merge_template_pdf:click',this.mergeTemplate.bind(this,convertAction),this);this.context.on('button:merge_template:click',this.mergeTemplate.bind(this,mergeAction),this);},mergeTemplate:function(mergeType,model){this.mergeType=this._processMergeType(mergeType);let collectionFilter={filter:[{template_module:this.module,}]};if(this._isMultiMerge()){this.selectedModels=this.context.get('mass_collection').models;collectionFilter.filter[0].file_ext='docx';}
let filterCollection=app.data.createBeanCollection(this.templatesModule,null,collectionFilter);app.drawer.open({layout:'selection-list',context:{module:this.templatesModule,collection:filterCollection,model:app.data.createBean(this.templatesModule),fields:['name','filename','use_revisions','file_ext','label_merging',],}},_.bind(this._templateSelectedCallback,this,model));},_processMergeType:function(mergeType){if(this.context.get('dataView')==='list'){const collection=this.context.get('mass_collection');if(!collection.length){if(mergeType==='multimerge'){mergeType='merge';}else if(mergeType==='multimerge_convert'){mergeType='convert';}}}
return mergeType;},_templateSelectedCallback:function(model,template){if(_.isEmpty(template)){return;}
this._setMergeType(template.file_ext,template.label_merging);if(!this.mergeType){app.alert.show('merge_error',{level:'error',messages:app.lang.getModString('LBL_MERGE_NOT_SUPPORTED','DocumentMerges'),});return;}
let payload={'mergeType':this.mergeType,'useRevision':template.use_revisions,'templateName':template.value,'templateId':template.id,'recordId':model.get('id'),'recordModule':model.get('_module')};if(this._isMultiMerge()){payload.selectedRecords=_.map(this.selectedModels,function(model){return{id:model.get('id'),name:model.get('name'),module:model.get('_module')};});payload.recordModule=this.module;}
const mergeUrl=App.api.buildURL('DocumentMerge','merge');app.api.call('create',mergeUrl,payload,{success:_.bind(function(documentMergeId){app.events.trigger('document_merge:show_widget');app.events.trigger('document_merge:poll_merge',documentMergeId);},this),error:function(errorMessage){app.alert.show('merge_error',{level:'error',messages:errorMessage});}});},getDropdown:function(viewName){let dropdown=null;switch(viewName){case this.acceptedViews.record:dropdown=this.getRecordMainDropdown();break;case this.acceptedViews.recordlist:dropdown=this.getRecordListDropdown();break;case this.acceptedViews.subpanellist:dropdown=this.getRowActionsDropdown();break;}
if(!dropdown&&this.type===this.acceptedViews.subpanellist){dropdown=this.getRowActionsDropdown();}
return dropdown;},getRecordMainDropdown:function(){if(this.meta.buttons){let mainDropdown=_.filter(this.meta.buttons,function(button){return button.name==='main_dropdown';});if(_.isArray(mainDropdown)&&_.isEmpty(mainDropdown)===false){return _.first(mainDropdown).buttons;}}
return null;},getRecordListDropdown:function(){if(_.has(this.meta,'selection')&&_.has(this.meta.selection,'actions')){return this.meta.selection.actions;}
return null;},getRowActionsDropdown:function(){if(_.has(this.meta,'rowactions')&&_.has(this.meta.rowactions,'actions')){return this.meta.rowactions.actions;}
return null;},_isMultiMerge:function(){return(this.mergeType==='multimerge'||this.mergeType==='multimerge_convert'||this.mergeType==='labelsgenerate'||this.mergeType==='labelsgenerate_convert');},_setMergeType:function(ext,labelMerging){switch(ext){case'pptx':if(this._isMultiMerge()){this.mergeType=null;}else if(this.mergeType==='convert'){this.mergeType='presentation_convert';}else{this.mergeType='presentation';}
break;case'xlsx':if(this._isMultiMerge()){this.mergeType=null;}else if(this.mergeType==='convert'){this.mergeType='excel_convert';}else{this.mergeType='excel';}
break;}
if(labelMerging){if(this.mergeType==='multimerge'){this.mergeType='labelsgenerate';}else if(this.mergeType==='multimerge_convert'){this.mergeType='labelsgenerate_convert';}
if(!this._isMultiMerge()){this.mergeType=null;}}},hasAccess:function(){var documentTemplateAccess=app.acl.hasAccess('view','DocumentTemplates');var documentMergesAccess=app.acl.hasAccess('edit','DocumentMerges');return documentMergesAccess&&documentTemplateAccess&&this._isAvailable();},_isAvailable:function(){return app.api.isAuthenticated()&&app.user.isSetupCompleted();},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DocumentMerge.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DocumentMergeActions',['view'],{events:{'click .send-email':'openEmailDrawer','click .send-link':'openUsersDrawer'},onAttach:function(component,plugin){this.on('init',function(){this.acceptedViews={'document-merge-widget-list':'document-merge-widget-list',};},this);},openEmailDrawer:function(evt){var generatedDocumentId=this._getDocumentId(evt);if(_.isString(generatedDocumentId)){this.getEmailDrawerData(generatedDocumentId,this._openEmailDrawer);}},getEmailDrawerData:function(generatedDocumentId,callback){app.data.createBean('Documents',{id:generatedDocumentId}).fetch({fields:['name','filename','document_revision_id','latest_revision_file_size','latest_revision_file_ext','latest_revision_file_mime_type'],success:_.bind(this._documentRetrieved,this,callback),error:this._showError});},_documentRetrieved:function(callback,generatedDocumentModel){callback.apply(this,[generatedDocumentModel]);},_openEmailDrawer:function(documentModel){var file=app.data.createBean('Notes',{_link:'attachments',upload_id:documentModel.get('document_revision_id'),name:documentModel.get('filename')||documentModel.get('name'),filename:documentModel.get('filename')||documentModel.get('name'),file_mime_type:documentModel.get('latest_revision_file_mime_type'),file_size:documentModel.get('latest_revision_file_size'),file_ext:documentModel.get('latest_revision_file_ext'),file_source:'DocumentRevisions'});var emailModel=app.data.createBean('Emails');if(emailModel.get('attachments_collection')){emailModel.get('attachments_collection').add(file,{});}
var layout=app.controller.layout;var emailList=layout?layout.model.get('email'):[];var toRecords=this._addEmailParticipants(emailList);if(emailModel.get('to_collection')instanceof app.data.beanCollection){emailModel.get('to_collection').add(toRecords);}
if(this._isRecordView()){emailModel.set({'parent_id':layout.model.get('id'),'parent_name':layout.model.get('name'),'parent':layout.model});}
app.drawer.open({layout:'compose',context:{create:true,model:emailModel,module:'Emails',}},_.bind(this._triggerEmailsSubpanelReload,this));},_addEmailParticipants:function(emailList){var toRecords=[];if(!_.isArray(emailList)){return toRecords;}
for(var i=0;i<emailList.length;i++){toRecords.push(app.data.createBean('EmailParticipants',{_link:'to',deleted:false,email_address:emailList[i].email_address||'',email_address_id:emailList[i].email_address_id||'',invalid_email:false}));}
return toRecords;},_isRecordView:function(){if(app.controller.context.get('layout')==='record'&&app.controller.context.get('module')!=='Home'){return true;}
return false;},_triggerEmailsSubpanelReload:function(email,model){if(typeof model==='object'){app.controller.context.trigger('subpanel:reload',{links:['archived_emails']});}},openUsersDrawer:function(evt){var generatedDocumentId=this._getDocumentId(evt);if(_.isString(generatedDocumentId)){this.getEmailDrawerData(generatedDocumentId,this._sendNotification);}},_sendNotification:function(generatedDocumentModel){app.drawer.open({layout:'multi-selection-list',context:{module:'Users',isMultiSelect:true}},_.bind(this.createNotification,this,generatedDocumentModel));},createNotification:function(generatedDocumentModel,selectedUsers){if(_.isArray(selectedUsers)){var documentName=generatedDocumentModel.get('filename')||generatedDocumentModel.get('name');var documentId=generatedDocumentModel.get('id');var documentLink=this._getDocumentLink(documentId,documentName);for(var index=0;index<selectedUsers.length;index++){var user=selectedUsers[index];var notification=app.data.createBean('Notifications',{name:documentName,assigned_user_id:user.id,created_by:app.user.id,description:documentLink,severity:'Document Widget List',is_read:false});notification.save();}
app.alert.dismiss('create_notification');}else{app.alert.show('select-users',{level:'info',title:app.lang.getModString('LBL_NO_USERS_SELECTED','DocumentMerges'),});}},_getDocumentLink:function(documentId,documentName){var documentPath=app.api.buildFileURL({module:'Documents',id:documentId,field:'filename'});var link='<a href=\''+
documentPath+'\'>'+
documentName+'</a>';return link;},_getDocumentId:function(evt){var downloadElement=$(evt.target).closest('.merge-row').find('.download');if(downloadElement instanceof jQuery){var generatedDocumentId=downloadElement.attr('document-id');return generatedDocumentId;}
return null;},_showError:function(error){app.alert.show('merges-error',{level:'error',autoClose:true,messages:error.message,});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DocumentMergeActions.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CloudDrive',['view'],{_searchForDashlet:function(type){let layout=app.controller.layout;if(layout.name!=='record'){return false;}
let sidebar=layout.getComponent('sidebar');if(!sidebar){return false;}
let dashboardPane=sidebar.getComponent('dashboard-pane');if(!dashboardPane){return false;}
let base=dashboardPane.getComponent('base');let baseDashboard=base.getComponent('dashboard');if(!baseDashboard){return false;}
let dashletMain=baseDashboard.getComponent('dashlet-main');if(!dashletMain){return false;}
let dashlets=dashletMain.getComponent('dashboard-grid');if(!dashlets){return false;}
for(let dashlet of dashlets._components){if(dashlet.getComponent('cloud-drive')){let _dashlet=dashlet.getComponent('cloud-drive');if(_dashlet&&_dashlet.options.driveType===type){return _dashlet.cid;}}}
return false;},syncDriveDashlet:function(dashletCid){app.events.trigger(`${dashletCid}:cloud-drive:reload`);},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CloudDrive.js */

(function(){const maps={getBingPreviewUrl:function getBingScriptUrl(){return'https://www.bing.com/mapspreview/sdk/mapcontrol';},loadScript:function(src){let scriptEl=document.createElement('script');scriptEl.type='text/javascript';scriptEl.src=src;scriptEl=this._loadScriptErrorHandling(scriptEl);document.head.append(scriptEl);},_loadScriptErrorHandling:function(script){script.addEventListener('error',function errorLoadScript(){reject(new Error('Error loading'+script));});return script;}};const bingUrl=maps.getBingPreviewUrl();maps.loadScript(bingUrl);}());
/* End of File include/javascript/bingMaps/bingMaps.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('MappableList',['view'],{listMapView:null,onAttach:function(component,plugin){this.on('init',function registerActionrRunner(){this._injectMapButtons();return true;});},onDetach:function(){if(_.has(this,'layout')&&this.layout&&_.isFunction(this.layout.off)){this.layout.off('list:massmapdraw:fire',null,this);this.layout.off('list:massdirectionsfromuserdraw:fire',null,this);this.layout.off('list:massdirectionsfromrecorddraw:fire',null,this);}},delegateListFireEvents:function(){if(_.has(this,'layout')&&this.layout&&_.isFunction(this.layout.on)){this.layout.on('list:massmapdraw:fire',_.bind(this.handleDrawMap,this));this.layout.on('list:massdirectionsfromuserdraw:fire',_.bind(this.handleDrawDirectionsFromUser,this));this.layout.on('list:massdirectionsfromrecorddraw:fire',_.bind(this.handleDrawDirectionsFromRecord,this));}},handleDrawMap:function(e){const selectedRecords=_.extend({},this.context.get('mass_collection').models);this.listMapView.createMap(selectedRecords);},handleDrawDirections:function(startPoint){const selectedRecords=_.extend({},this.context.get('mass_collection').models);this.listMapView.createMap(selectedRecords,{directions:{startPoint:startPoint,},});},handleDrawDirectionsFromUser:function(e){this.handleDrawDirections({module:'Users',id:app.user.id});},handleDrawDirectionsFromRecord:function(record){this.handleDrawDirections({module:record.module,id:record.get('id')});},_injectMapButtons:function(){if(!app.user.hasMapsLicense()){return false;}
if(!_.has(app.config,'maps')){return false;}
if(!_.has(app.config.maps,'enabled_modules')){return false;}
const enabledModulesKey='enabled_modules';const allowedModules=app.config.maps[enabledModulesKey];const directionButton={name:'drawdirections_button',label:'LBL_MAP_DIRECTIONS_FROM_USER',events:{click:'list:massdirectionsfromuserdraw:fire',},type:'button',};const mapButton={name:'drawmap_button',label:'LBL_MAP_MAP',events:{click:'list:massmapdraw:fire',},type:'button',};this.listMapView=this._getListMapComponent(this.layout);if(this.listMapView&&_.contains(allowedModules,this.module)){this.meta.selection.actions.push(mapButton);this.meta.selection.actions.push(directionButton);this.delegateListFireEvents();}
if(this.type==='recordlist'&&this.meta&&_.contains(allowedModules,this.module)){let insertAtIdx=this.meta.rowactions.actions.findIndex(function find(btn){return btn.name==='delete_button'||btn.name==='unlink_button';});if(insertAtIdx===-1){insertAtIdx=this.meta.rowactions.actions.length;}
const listDirectionButton=_.extend(app.utils.deepCopy(directionButton),{label:'LBL_MAP_DIRECTIONS_FROM_RECORD',events:{click:'list:massdirectionsfromrecorddraw:fire',},});this.meta.rowactions.actions.splice(insertAtIdx,0,{type:'divider'});this.meta.rowactions.actions.splice(insertAtIdx+1,0,listDirectionButton);this.meta.rowactions.actions.splice(insertAtIdx+2,0,{type:'divider'});}},_getListMapComponent:function(layout){if(layout){return layout.getComponent('list-map')||this._getListMapComponent(layout.layout);}
return false;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MappableList.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MappableRecord',['view'],{onAttach:function(component,plugin){this.on('init',function(){if(!app.user.hasMapsLicense()){return;}
if(!this._isModuleEnabled()){return;}
let geocodingMeta=[{'type':'rowaction','event':'button:geocoding_record:click','name':'geocoding_record','label':'LBL_MAP_GEOCODING_RECORD','acl_action':'view',},{'type':'divider',},{'type':'rowaction','event':'button:showmap:click','name':'showmap_button','label':'LBL_MAP_MAP','acl_action':'view',},{'type':'divider',},{'type':'rowaction','event':'button:directionsfromuser:click','name':'drawdirections_button','label':'LBL_MAP_DIRECTIONS_FROM_USER','acl_action':'view',},{'type':'divider',},];let dropdown=this.getRecordMainDropdown();if(_.isArray(dropdown)){dropdown.push(...geocodingMeta);this._registerGeocodingButtonEvents();}},this);},onDetach:function(component,plugin){this.context.off('button:geocoding_record:click',this.openManualGeocodingDrawer,this);this.context.off('button:directionsfromuser:click',this.showDirectionsFromUser,this);this.context.off('button:showmap:click',this.showMap,this);},_registerGeocodingButtonEvents:function(){this.context.on('button:geocoding_record:click',this.openManualGeocodingDrawer,this);this.context.on('button:directionsfromuser:click',this.showDirectionsFromUser,this);this.context.on('button:showmap:click',this.showMap,this);},openManualGeocodingDrawer:function(){app.drawer.open({layout:'maps-manual-geocoding',module:'Geocode',context:app.controller.context,});},showDirectionsFromUser:function(){app.controller.context.showDirections=true;app.drawer.open({layout:'record-map',context:app.controller.context,meta:{showDirections:true,}});},showMap:function(){app.controller.context.showDirections=false;app.drawer.open({layout:'record-map',context:app.controller.context,});},getRecordMainDropdown:function(){if(this.meta.buttons){let mainDropdown=_.filter(this.meta.buttons,function(button){return button.name==='main_dropdown';});if(_.isArray(mainDropdown)&&_.isEmpty(mainDropdown)===false){return _.first(mainDropdown).buttons;}}
return null;},_isModuleEnabled:function(){if(!_.has(app.config.maps,'enabled_modules')){return false;}
const enabledModulesKey='enabled_modules';const allowedModules=app.config.maps[enabledModulesKey];if(allowedModules.indexOf(this.module)>-1){return true;}
return false;},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MappableRecord.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FieldErrorCollection',['view'],{_errorCollection:undefined,onAttach:function(component,plugin){this._errorCollection=new Backbone.Collection();this.once('init',function(){this.context.on('field:error',this.handleErrorEvent,this);},this);},onDetach:function(component,plugin){this.context.off('field:error',null,this);},handleErrorEvent:function(field,addError){addError=_.isUndefined(addError)?true:addError;if(addError){this._errorCollection.add(field.model);}else{this._errorCollection.remove(field.model);}
this.context.trigger('plugin:fieldErrorCollection:hasFieldErrors',this._errorCollection,this.hasFieldErrors());},hasFieldErrors:function(){return(this._errorCollection.length>0);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FieldErrorCollection.js */

(function(app){app.events.on("app:init",function(){var sync=function(method,model,options){options=app.data.parseOptionsForSync(method,model,options);var callbacks=app.data.getSyncCallbacks(method,model,options),path=(this.dashboardModule==='Home'||model.id)?this.apiModule:this.apiModule+'/'+this.dashboardModule;app.api.records(method,path,model.attributes,options.params,callbacks);},Dashlet=app.Bean.extend({sync:sync,apiModule:'Dashboards',module:'Home'});app.plugins.register('Dashlet','view',{rowHeight:42,maxHeightTarget:'',onAttach:function(){this.on("init",function(){this.dashletConfig=app.metadata.getView(this.module,this.name);this.dashModel=this.layout.context.get('model');var settings=_.extend({},this.meta),viewName='main',buildGrid=false;delete settings.panels;delete settings.action;delete settings.dependencies;delete settings.buttons;this.settings=new Dashlet(settings);if(_.contains(['multi-line','focus'],this.context.get('layout'))&&settings.module===null){settings.module=this.module;}
if(settings.module){this.model=this.context.parent.get("model");}
if(this.meta&&this.meta.config){viewName='config';this.action='edit';this.model=this.context.parent.get("model");this.dashModel.set(settings);this.dashModel.set("componentType",(this instanceof app.view.Layout)?"layout":"view");this.settings.on("change",function(model){this.dashModel.set(model.changed);},this);this.meta.panels=this.dashletConfig.panels;var templateName=this.name+'.dashlet-config';this.template=app.template.getView(templateName,this.module)||app.template.getView(templateName);if(!this.template){this.template=app.template.getView('dashletconfiguration-edit')||app.template.empty;var originalPlugins=this.plugins;this.plugins=['GridBuilder'];app.plugins.attach(this,'view');this.plugins=_.union(this.plugins,originalPlugins);buildGrid=true;}}else if(this.meta&&this.meta.preview){viewName='preview';this.settings.module=this.module;var templateName=this.name+'.dashlet-preview';this.template=app.template.getView(templateName,this.module)||app.template.getView(templateName)||this.template;}else{this.settings.module=this.module;}
if(this.initDashlet&&_.isFunction(this.initDashlet)){this.initDashlet(viewName);var height=this.calculateMaxHeight();if(_.isNumber(height)){var $target=this.$(this.maxHeightTarget||this.$el);$target.css('max-height',height+'px');}}
if(buildGrid){this._buildGridsFromPanelsMetadata();}});this.once('render',function(){app.analytics.trackPageView('/dashlet/'+this.name);});},_buildGridsFromPanelsMetadata:function(){_.each(this.meta.panels,function(panel){if(!_.isUndefined(this.getLabelPlacement)){panel.labelsOnTop=this.getLabelPlacement();}
_.each(panel.fields,function(field,index){if(_.isString(field)){panel.fields[index]=field={name:field};}
field.labelsOnTop=panel.labelsOnTop;},this);if(_.isUndefined(panel.labels)){panel.labels=true;}
if(panel.hide){this.hiddenPanelExists=true;}
if(_.isFunction(this.getGridBuilder)){var options={fields:panel.fields,columns:panel.columns,labels:panel.labels,labelsOnTop:panel.labelsOnTop,tabIndex:0},gridResults=this.getGridBuilder(options).build();panel.grid=gridResults.grid;}},this);},calculateMaxHeight:function(){if(!this.triggerBefore('calculateMaxHeight')){return false;}
if(!this.meta.config&&this.settings.has('limit')){return this.settings.get('limit')*this.rowHeight;}},onDetach:function(){this.settings.off();delete this.dashletConfig;delete this.dashModel;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Dashlet.js */

(function(app){app.events.on("app:init",function(){var hashKey=null;var pinged=false;app.plugins.register('Connector',['view'],{checkConnector:function(name,successCall,errorCall,connectorCriteria){var connectors,connector=null;var self=this;var successCallWrapper=_.bind(function(){this.checkConnector(name,successCall,errorCall,connectorCriteria);},this);if(hashKey===null){pinged=true;this.getConnectors(name,successCallWrapper);}
else{connectors=app.cache.get(hashKey);if(connectors&&connectors[name]){connector=connectors[name];}
if((connector)&&(this.checkCriteria(connector,connectorCriteria))){connector.connectorHash=hashKey;successCall(connector);}
else{if(pinged===false){pinged=true;_.defer(function(){self.getConnectors(name,successCallWrapper);});}
else{pinged=false;errorCall(connector);}}}},checkCriteria:function(connector,criteria){var check=true;_.each(criteria,function(criterion){if(criterion==='test_passed'){if(connector.testing_enabled){check=check&&connector.test_passed;}}
else{check=check&&connector[criterion];}
if(!check){return check;}});return check;},getConnectorModuleFieldMapping:function(connector,module){var connectors=app.cache.get(hashKey);var mappings={};if(connectors[connector]&&connectors[connector].field_mapping&&connectors[connector].field_mapping.beans&&connectors[connector].field_mapping.beans[module]){mappings=connectors[connector].field_mapping.beans[module];}
return mappings;},getConnectors:function(name,successCall){var connectorURL=app.api.buildURL('connectors');app.api.call('GET',connectorURL,{},{success:function(data){hashKey=data['_hash'];app.cache.set(hashKey,data['connectors']);successCall();}});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Connector.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Audit',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('button:audit_button:click',this.auditClicked,this);});},auditClicked:function(){var context=this.context.getChildContext({module:'Audit',model:this.context&&this.context.get('model')||this.model});app.drawer.open({layout:'audit',context:context});},onDetach:function(component,plugin){this.context.off('button:audit_button:click',this.auditClicked,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Audit.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CommittedDeleteWarning',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('record:deleted',this.showDeleteRecordCommitWarning,this);this.layout.on('list:records:deleted',this.showDeleteRecordCommitWarning,this);this.layout.on('list:record:deleted',this.showDeleteRecordCommitWarning,this);});},showDeleteRecordCommitWarning:function(deletedModel){var message=null;if(this.checkDeletedModel(deletedModel)){var forecastModuleSingular=app.lang.getModuleName('Forecasts');message=app.lang.get('WARNING_DELETED_RECORD_RECOMMIT_1','Forecasts')
+'<a href="#Forecasts">'+forecastModuleSingular+'</a>.  '
+app.lang.get('WARNING_DELETED_RECORD_RECOMMIT_2','Forecasts')
+'<a href="#Forecasts">'+forecastModuleSingular+'</a>.';app.alert.show('included_list_delete_warning',{level:'warning',messages:message,onLinkClick:function(){app.alert.dismissAll();}});}
return message;},checkDeletedModel:function(deletedModel){var showWarning=false;if(_.isArray(deletedModel)){showWarning=_.find(deletedModel,function(model){return this._checkDeletedModel(model);},this);}else{showWarning=this._checkDeletedModel(deletedModel);}
return showWarning;},_checkDeletedModel:function(deletedModel){var showDeleteWarning=false;if(deletedModel.module==='Opportunities'&&deletedModel.get('included_revenue_line_items')){showDeleteWarning=true;}else{var config=app.metadata.getModule('Forecasts','config');if(_.contains(config.commit_stages_included,deletedModel.get('commit_stage'))){showDeleteWarning=true;}}
return showDeleteWarning;},onDetach:function(component,plugin){this.context.off('record:deleted',null,this);this.layout.off('list:record:deleted',null,this);this.layout.off('list:records:deleted',null,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CommittedDeleteWarning.js */

(function(app){app.events.on('app:init',function(){var createDuplicateCollection,duplicateCheckIsDisabledHandler;duplicateCheckIsDisabledHandler=function(collection,options){var errorMessage;options=options||{};collection.dataFetched=true;errorMessage=app.lang.get('ERR_DUPLICATE_CHECK_IS_DISABLED',collection.module,{module:collection.module});collection.trigger('duplicatecheck:error',new Error(errorMessage));if(options.success){options.success(collection,undefined,{});}};createDuplicateCollection=function(dupeCheckModel,module){var collection=app.data.createBeanCollection(module||this.module),collectionSync=collection.sync;_.extend(collection,{dupeCheckModel:dupeCheckModel,sync:function(method,model,options){var checkForDuplicates,metadata;options=options||{};checkForDuplicates=_.isEmpty(model.filterDef);metadata=app.metadata.getModule(this.module);if(checkForDuplicates){options.endpoint=_.bind(this.endpoint,this);}
if(checkForDuplicates&&!metadata.dupCheckEnabled){duplicateCheckIsDisabledHandler(this,options);}else{collectionSync(method,model,options);}},endpoint:function(method,model,options,callbacks){var url=app.api.buildURL(this.module,'duplicateCheck');var data=app.data.getEditableFields(this.dupeCheckModel);return app.api.call('create',url,data,callbacks);}});return collection;};app.plugins.register('FindDuplicates',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('button:find_duplicates_button:click',this.findDuplicatesClicked,this);});},findDuplicatesClicked:function(){this.findDuplicates(this.model);},findDuplicates:function(dupeCheckModel){app.drawer.open({layout:'find-duplicates',context:{layoutName:'records',dupelisttype:'dupecheck-list-multiselect',collection:this.createDuplicateCollection(dupeCheckModel),model:app.data.createBean(this.module)}},_.bind(function(refresh,primaryRecord){if(refresh&&dupeCheckModel.id===primaryRecord.id){app.router.refresh();}else if(refresh){app.navigate(this.context,primaryRecord);}},this));},createDuplicateCollection:createDuplicateCollection,onDetach:function(component,plugin){this.context.off('button:find_duplicates_button:click',this.findDuplicatesClicked,this);}});app.plugins.register('FindDuplicates',['layout'],{createDuplicateCollection:createDuplicateCollection});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FindDuplicates.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MergeDuplicates',['view'],{_minRecordsToMerge:2,_maxRecordsToMerge:5,mergeDuplicates:function(mergeCollection,primaryRecord){if(_.isEmpty(mergeCollection)){return;}
if(!_.isEmpty(primaryRecord)){mergeCollection.add(primaryRecord,{at:0,silent:true});}
var models=this._validateModelsForMerge(mergeCollection.models);if(!this.triggerBefore('mergeduplicates',models)){return;}
if(this._validateAcl(models,mergeCollection)===false){this._showAclAlert(models,mergeCollection,primaryRecord);return;}
if(this._validateIsAnyEditable(models)===false){this._showNoEditAlert();return;}
if(this._hasLockedFields(models)===true){this._showLockedAlert();return;}
if(this._validateSize(models)===false){this._showSizeAlert();return;}
this._openMergeDrawer(models,mergeCollection,primaryRecord);},_validateAcl:function(models,collection){return models.length===collection.models.length;},_showAclAlert:function(models,collection,primary){var self=this;app.alert.show('invalid-record-access',{level:'confirmation',messages:app.lang.get('LBL_MERGE_NO_ACCESS_TO_A_FEW_RECORDS',this.module),onConfirm:function(){if(self._validateIsAnyEditable(models)===false){self._showNoEditAlert();return;}
if(self._validateSize(models)===false){self._showSizeAlert();return;}
self._openMergeDrawer(models,collection,primary);}});},_validateIsAnyEditable:function(models){return _.some(models,function(model){return app.acl.hasAccessToModel('edit',model);});},_hasLockedFields:function(models){return _.some(models,function(model){return!_.isEmpty(model.get('locked_fields'));});},_showNoEditAlert:function(){var msg=app.lang.get('LBL_MERGE_NO_ACCESS',this.module);app.alert.show('no-record-to-edit',{level:'error',messages:msg});},_showLockedAlert:function(){var msg=app.lang.get('LBL_MERGE_LOCKED',this.module);app.alert.show('contains-locked-fields',{level:'warning',autoclose:false,messages:msg});},_validateSize:function(models){var isValidSize=models.length&&models.length>=this._minRecordsToMerge&&models.length<=this._maxRecordsToMerge;return isValidSize;},_showSizeAlert:function(){var msg=app.lang.get('TPL_MERGE_INVALID_NUMBER_RECORDS',this.module,{minRecords:this._minRecordsToMerge,maxRecords:this._maxRecordsToMerge});app.alert.show('invalid-record-count',{level:'error',messages:msg});},_openMergeDrawer:function(models,collection,primary){var primaryId=(primary&&primary.id)||null;app.drawer.open({layout:'merge-duplicates',context:{primary:primary||null,selectedDuplicates:models}},_.bind(function(refresh,primary){if(refresh){this.trigger('mergeduplicates:complete',primary);collection.reset();}else{collection.remove(primaryId);}},this));},_validateModelsForMerge:function(models){return _.filter(models,function(model){return _.every(['view','delete'],function(acl){return app.acl.hasAccessToModel(acl,model);});},this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MergeDuplicates.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DragdropAttachments',['view','field'],{events:{'dragenter [data-attachable=true]':'expandNewPost','dragover [data-attachable=true]':'dragoverNewPost','dragleave [data-attachable=true]':'shrinkNewPost','drop [data-attachable=true]':'dropAttachment'},expandNewPost:function(event){this.$(event.currentTarget).addClass('dragdrop');return false;},dragoverNewPost:function(event){return false;},shrinkNewPost:function(event){event.stopPropagation();event.preventDefault();this.$(event.currentTarget).removeClass('dragdrop');return false;},dropAttachment:function(event){if(!this.triggerBefore('attachments:drop',event)){return;}
this._onAttachmentDropDefault(event);this.trigger('attachments:drop',event);},_onAttachmentDropDefault:function(event){var text=event.originalEvent.dataTransfer.getData('text').trim();var container=this.$(event.currentTarget);this.shrinkNewPost(event);if(text.length){container.append(' '+text).trigger('change');}
_.each(event.originalEvent.dataTransfer.files,function(file,i){var fileReader=new FileReader();fileReader.onload=(function(file,view){return function(e){var container,sizes=['B','KB','MB','GB'],size_index=0,size=file.size,unique=_.uniqueId('activitystream_attachment');if(size>app.config.uploadMaxsize){app.alert.show('file_too_big',{level:'error',messages:'ERROR_MAX_FILESIZE_EXCEEDED'});return;}
while(size>1024&&size_index<sizes.length-1){size_index++;size /=1024;}
size=Math.round(size);view.dragdrop_attachments=view.dragdrop_attachments||{};view.dragdrop_attachments[unique]=file;container=$("<div class='activitystream-pending-attachment' id='"+unique+"'></div>");var $close=$('<a class="close">&times;</a>');$close.on('click',function(e){container.trigger('close');}).appendTo(container);app.accessibility.run($close,'click');container.append(file.name+' ('+size+' '+sizes[size_index]+')');if(file.type.indexOf('image/')!==-1){container.append("<img style='display:block;' src='"+e.target.result+"' />");}else{container.append('<div>No preview available</div>');}
container.appendTo(view.$(event.currentTarget).parent());container.on('close',function(){$(this).remove();delete view.dragdrop_attachments[container.attr('id')];view.trigger('attachments:remove');});view.trigger('attachments:add');};})(file,this);fileReader.readAsDataURL(file);},this);event.stopPropagation();event.preventDefault();},getAttachments:function(){return this.dragdrop_attachments||{};},clearAttachments:function(){this.$('.activitystream-pending-attachment').trigger('close');this.dragdrop_attachments={};},onAttach:function(component,plugin){component.on('render',function(){this.$('[data-attachable=true]').attr('dropzone','copy');});component.on('attachments:process',function(){var self=this,attachments=this.getAttachments(),callback=_.after(_.size(attachments),this.clearAttachments),noteAttrs=this._mapNoteParentAttributes();component.trigger('attachments:start');if(_.size(attachments)>0){app.alert.show('uploading_attachments',{level:'process',title:app.lang.get('LBL_UPLOADING')});}
_.each(attachments,function(file){var note=app.data.createBean('Notes');note.set(_.extend({'name':file.name,'assigned_user_id':app.user.id},noteAttrs));async.waterfall([function(callback){note.save(null,{success:function(noteModel){callback(null,noteModel);},error:function(){callback(true);}});},function(note,callback){var data=new FormData(),url=app.api.buildFileURL({module:note.module,id:note.id,field:'filename'});data.append('filename',file);data.append('OAuth-Token',app.api.getOAuthToken());$.ajax({url:url,type:'POST',data:data,processData:false,contentType:false}).then(function(){callback(null);},function(){callback(true);});},function(callback){var activity=app.data.createBean('Activities'),payload={activity_type:'attach',parent_id:noteAttrs.parent_id||null,parent_type:noteAttrs.parent_type||null,data:{noteId:note.id,filename:file.name,mimetype:file.type,size:file.size}};activity.save(payload,{success:function(activityModel){self.collection.add(activityModel);callback(null,activityModel);},error:function(){callback(true);}});}],function(err,activity){var options;app.alert.dismiss('uploading_attachments');component.trigger('attachments:end');if(err){app.alert.show('upload_failed',{level:'error',messages:app.lang.get('LBL_EMAIL_ATTACHMENT_UPLOAD_FAILED')});}else{options=_.extend({recursive:false},self.context.get('collectionOptions')||{});self.context.reloadData(options);self.clearAttachments.call(self);}});});});},_mapNoteParentAttributes:function(){var parentId=this.context.parent.get('model').id;var parentType=this.context.parent.get('model').module;if(parentType&&parentId){switch(parentType){case'Contacts':return{'parent_id':parentId,'parent_type':parentType,'contact_id':parentId};case'Home':return{'parent_type':parentType};default:return{'parent_id':parentId,'parent_type':parentType};}}else if(parentType){return{'parent_type':parentType};}
return{};}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DragdropAttachments.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('FileDragoff',['view'],{events:{'dragstart .dragoff':'saveAttachment'},saveAttachment:function(event){if(event.dataTransfer&&event.dataTransfer.constructor==Clipboard&&event.dataTransfer.setData('DownloadURL','http://www.sugarcrm.com')){var el=$(event.currentTarget),mime,name,file;while(el!==this.$el&&!el.data("url")){el=el.parent();}
mime=el.data("mime");name=el.data("filename");file=el.data("url");event.dataTransfer.setData("DownloadURL",mime+":"+name+":"+file);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FileDragoff.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Dropdown',['layout','view'],{events:{'keydown':'handleDropdownKeydown','shown.bs.dropdown .dropdown':'_toggleAria','hidden.bs.dropdown .dropdown':'_toggleAria'},onAttach:function(component,plugin){this.on('init',function(){if(app.bwc){this.listenTo(app.bwc,'clicked',this.closeDropdown);}
app.routing.before('route',this.closeDropdown,this);});this.on('render',function(){this.$('[data-toggle="dropdown"]').attr('aria-haspopup',true).attr('aria-expanded',false);});},isDropdownOpen:function(){return!!this.$('[data-toggle="dropdown"]').parent().hasClass('open');},handleDropdownKeydown:function(event){var $items,$focusItem,keysCaptured;if(!this.isDropdownOpen()){return;}
if(event.keyCode===$.ui.keyCode.ESCAPE||event.keyCode===$.ui.keyCode.TAB){this.closeDropdown();}else{$items=this._getDropdownItems();$focusItem=$items.filter(':focus');this._focusSubmenuItem(event.keyCode,$items.index($focusItem),$items);}
keysCaptured=[$.ui.keyCode.ESCAPE,$.ui.keyCode.UP,$.ui.keyCode.DOWN];if(_.contains(keysCaptured,event.keyCode)){event.stopPropagation();event.preventDefault();}},handleDropdownToggle:function(event){this._toggleAria(event);},_getDropdownItems:function(){return this.$(this.dropdownItemSelector||'[role=menu] li:not(.divider) a:visible');},_focusSubmenuItem:function(key,index,$items){var $menuItemToFocus;if(key===$.ui.keyCode.UP&&index>0){index--;}
if(key===$.ui.keyCode.DOWN&&index<$items.length-1){index++;}
if(!~index){index=0;}
$menuItemToFocus=$items.eq(index).focus();this._scrollToMenuItem($menuItemToFocus);},_scrollToMenuItem:function($menuItem){var $dropdownMenu=this.$('.dropdown-menu'),menuHeight,menuItemHeight,menuItemTopPosition;if($dropdownMenu.hasClass('scroll')){menuHeight=$dropdownMenu.height();menuItemHeight=$menuItem.height();menuItemTopPosition=$menuItem.position().top;if((menuItemTopPosition+menuItemHeight)>menuHeight){$dropdownMenu.scrollTop($dropdownMenu.scrollTop()+menuHeight/2);}else if(menuItemTopPosition<0){$dropdownMenu.scrollTop($dropdownMenu.scrollTop()-menuHeight/2);}}},_toggleSubmenu:function($dropdown){var $submenuButton=$dropdown.find('.dropdown-submenu');if($submenuButton.length>0){$submenuButton.click();}},_toggleAria:function(e){this.$('[data-toggle="dropdown"]').attr('aria-expanded',this.isDropdownOpen());},closeDropdown:function(){this.$('.open .dropdown-menu').trigger('click.bs.dropdown');this.$('[data-toggle="dropdown"]').attr('aria-expanded','false');},unbindBeforeHandler:function(){app.routing.offBefore('route',this.closeDropdown,this);},onDetach:function(){app.events.off('app:view:change',null,this);app.routing.offBefore('route',this.closeDropdown,this);this.unbindBeforeHandler();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Dropdown.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ListColumnEllipsis',['view'],{events:{'click [data-field-toggle]':'toggleColumn'},toggleColumn:function(event){var column=$(event.currentTarget).data('fieldToggle');if(this.isLastColumnVisible(column)){event.stopPropagation();return;}
this._toggleColumn(column);this.render();this._reopenFieldsDropdown(event);},_toggleColumn:function(column){var changedColumn={};var f=this._fields._byId[column];if(f){f.selected=!f.selected;changedColumn=f;}
this._fields.visible=_.where(this._fields.all,{selected:true});this.trigger('list:toggle:column',column,changedColumn.selected,changedColumn);},isLastColumnVisible:function(column){if(this._fields.visible.length===1){var f=this._fields._byId[column];return f&&f.selected;}
return false;},_reopenFieldsDropdown:function(event){this.$('[data-action="fields-toggle"]').dropdown('toggle');event.stopPropagation();},onAttach:function(component,plugin){this.before('render',function(){var lastActionColumn=_.last(this.rightColumns);if(lastActionColumn){lastActionColumn.isColumnDropdown=true;}},this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListColumnEllipsis.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MassCollection',['view'],{onAttach:function(){this.on('init',this._initMassCollectionPlugin,this);},_initMassCollectionPlugin:function(){if(!this.meta||!this.meta.selection||this.meta.selection.type!=='multi'){return;}
this.createMassCollection();this._preselectModels();this._initTemplates();this._bindMassCollectionEvents();this.on('render',this._onViewRender,this);},_onViewRender:function(){if(this.collection.length!==0){var event=this._isAllChecked()?'all:checked':'not:all:checked';this.massCollection.trigger(event);this.toggleSelectAllAlert();}},createMassCollection:function(){this.massCollection=this.context.get('mass_collection');if(!this.massCollection){this.massCollection=this.context.get('collection').clone();this.context.set('mass_collection',this.massCollection);}},_preselectModels:function(){this.preselectedModelIds=this.context.get('preselectedModelIds');if(_.isEmpty(this.preselectedModelIds)){return;}
if(!_.isArray(this.preselectedModelIds)){this.preselectedModelIds=[this.preselectedModelIds];}
var preselectedCollection=app.data.createBeanCollection(this.module);preselectedCollection.fetch({fields:['name'],params:{filter:[{'id':{'$in':this.preselectedModelIds}}]},success:_.bind(function(collection){this.addModel(collection.models);},this)});},_bindMassCollectionEvents:function(){this.context.on('mass_collection:add',this.addModel,this);this.context.on('mass_collection:add:all',this.addAllModels,this);this.context.on('mass_collection:remove',this.removeModel,this);this.context.on('mass_collection:remove:all',this.removeAllModels,this);this.context.on('mass_collection:clear',this.clearMassCollection,this);this.context.on('toggleSelectAllAlert',this.toggleSelectAllAlert,this);this.collection.on('reset',function(){if(this.disposed||this.independentMassCollection){return;}
this.clearMassCollection();},this);this.collection.on('add',function(){if(!this.disposed&&!this._isAllChecked()){this.massCollection.trigger('not:all:checked');}},this);},addModel:function(models){models=_.isArray(models)?models:[models];this.massCollection.add(models);if(this._isAllChecked()){this.massCollection.trigger('all:checked');}},addAllModels:function(){if(!this.independentMassCollection){this.massCollection.reset(this.collection.models);}else{this.massCollection.add(this.collection.models);}
this.massCollection.trigger('all:checked');},removeModel:function(models){models=_.isArray(models)?models:[models];this.massCollection.remove(models);if(!this._isAllChecked()){this.massCollection.trigger('not:all:checked');}},removeAllModels:function(){if(!this.independentMassCollection){this.clearMassCollection();}else{this.massCollection.remove(this.collection.models);this.massCollection.trigger('not:all:checked');}},clearMassCollection:function(){this.massCollection.entire=false;this.massCollection.reset();this.massCollection.trigger('not:all:checked');},_isAllChecked:function(){if(this.massCollection.length<this.collection.length){return false;}
var allChecked=_.every(this.collection.models,function(model){return this.massCollection.get(model.id);},this);return allChecked;},toggleSelectAllAlert:function(){var alert;if(!this.collection.length){return;}
var selectedRecordsInPage=_.intersection(this.massCollection.models,this.collection.models);if(selectedRecordsInPage.length===this.collection.length){if(this.collection.next_offset>0){alert=this._buildAlertForEntire();}else{alert=this._buildAlertForReset();}}else if(this.massCollection.entire||(this.massCollection.length>0&&this.independentMassCollection)){alert=this._buildAlertForReset();}
if(alert){this.layout.trigger('list:alert:show',alert);}else{this.layout.trigger('list:alert:hide');}},_buildAlertForReset:function(offset){var self=this;if(_.isUndefined(this._selectedOffsetTpl)){return null;}
var alert=$('<span></span>').append(this._selectedOffsetTpl({offset:offset,num:this.massCollection.length,all_selected:this.massCollection.length===this.massCollection.maximum}));alert.find('[data-action=clear]').each(function(){var $el=$(this);$el.on('click',function(){self.context.trigger('mass_collection:clear');$el.off('click');});app.accessibility.run($el,'click');});return alert;},_buildAlertForEntire:function(){var self=this;var alert=$('<span></span>').append(this._selectAllTpl({num:this.massCollection.length,link:this._selectAllLinkTpl}));alert.find('[data-action=select-all]').each(function(){var $el=$(this);$el.on('click',function(){self.massCollection.entire=true;self.getTotalRecords();$el.off('click');});app.accessibility.run($el,'click');});return alert;},getTotalRecords:function(){var limit=(this.meta.selection.isLinkAction&&app.config.maxRecordLinkFetchSize)||app.config.maxRecordFetchSize;var fields=['id'];_.each(this.meta.selection.actions,function(button){if(_.isArray(button.related_fields)){fields=_.union(fields,button.related_fields);}},this);var options={fields:fields,limit:limit,filter:this.context.get('collection').filterDef,showAlerts:true,success:_.bind(function(collection){if(_.isEmpty(collection.filterDef)){this.massCollection.maximum=this.massCollection.length;}
this.toggleSelectAllAlert();},this)};_.extend(this.massCollection,{orderBy:this.context.get('collection').orderBy,});this.massCollection.trigger('massupdate:estimate');this.massCollection.fetch(options);},_initTemplates:function(){this._selectedOffsetTpl=app.template.getView('list.selected-offset')||app.template.getView('list.selected-offset',this.module);this._selectAllLinkTpl=new Handlebars.SafeString('<button type="button" class="btn btn-link btn-inline" data-action="select-all">'+
app.lang.get('LBL_LISTVIEW_SELECT_ALL_RECORDS')+'</button>');this._selectAllTpl=app.template.compile(null,app.lang.get('TPL_LISTVIEW_SELECT_ALL_RECORDS'));return this;},onDetach:function(){$(window).off('resize.'+this.cid);this.context.off('mass_collection:add',null,this);this.context.off('mass_collection:add:all',null,this);this.context.off('mass_collection:remove',null,this);this.context.off('mass_collection:remove:all',null,this);this.context.off('toggleSelectAllAlert',null,this);this.context.off('mass_collection:clear',null,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MassCollection.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Pii',['view'],{_getButtonsFromMeta:function(meta){if(!_.isArray(meta.buttons)){meta.buttons=_.toArray(meta.buttons);}
return meta.buttons;},_insertViewPiiButton:function(fields){var piiFields=_.where(fields,{pii:true});if(piiFields.length>0){var actionDropDown=_.findWhere(this.meta.buttons,{type:'actiondropdown'});if(actionDropDown){var buttons=this._getButtonsFromMeta(actionDropDown);var auditButtonMeta=_.findWhere(buttons,{name:'audit_button'});var auditButtonIndex=_.indexOf(buttons,auditButtonMeta);var viewPiiButtonMeta={type:'rowaction',event:'button:view_pii_button:click',name:'view_pii_button',label:'LBL_DATAPRIVACY_VIEW_PII',acl_action:'view'};if(auditButtonIndex>-1){buttons.splice(auditButtonIndex+1,0,viewPiiButtonMeta);}else{buttons.push(viewPiiButtonMeta);}}}},onAttach:function(component,plugin){this.on('init',function(){var model=this.context.get('model')||this.model;this._insertViewPiiButton(model.fields);this.context.on('button:view_pii_button:click',this.viewPiiClicked,this);});},viewPiiClicked:function(){var context=this.context.getChildContext({name:'Pii',model:app.data.createBean('Pii')});context.set('pModule',this.module);context.set('pId',this.model.id);app.drawer.open({layout:'pii',context:context});},onDetach:function(component,plugin){this.context.off('button:view_pii_button:click',this.viewPiiClicked,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Pii.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ReorderableColumns',['view'],{_listDragColumnSelector:'th[data-fieldname]',_listDragItemSelector:'th[data-fieldname] [data-draggable="true"]',_listDragColumn:[],_makeColumnReorderable:function(){if(this.disposed){return;}
if(!this.$('table').hasClass('reorderable-columns')){app.logger.error('ReorderableColumns plugin expects the table to have .draggable-columns class '+'in order to work.');return;}
this._listDragColumn=_.map(this.$(this._listDragColumnSelector),function(column){return $(column).data('fieldname');});this.$(this._listDragItemSelector).draggable({revert:'invalid',axis:'x',stop:_.bind(function(event,ui){if(ui.helper._renderView&&!this.disposed){this.render();}},this)});this.$('.th-droppable-placeholder').droppable({accept:this._listDragItemSelector,hoverClass:'th-droppable-placeholder-highlight',tolerance:'touch',drop:_.bind(this._onColumnDrop,this)});},_onColumnDrop:function(event,ui){var $draggedItem=$(ui.draggable),$droppedInItem=$(event.target),draggedIndex,droppedInIndex,initialOrder,visibleOrder,hasChanged;draggedIndex=$draggedItem.closest('th').find('.th-droppable-placeholder:first').data('droppableindex');droppedInIndex=$droppedInItem.data('droppableindex');if(droppedInIndex>draggedIndex){droppedInIndex--;}
initialOrder=_.clone(this._listDragColumn);visibleOrder=_.moveIndex(this._listDragColumn,draggedIndex,droppedInIndex);hasChanged=!_.isEqual(visibleOrder,initialOrder);if(!hasChanged){$draggedItem.draggable('option','revert',true);return;}
var newOrder=this._calculateNewOrder($draggedItem,$droppedInItem);this.trigger('list:reorder:columns',this._fields,newOrder);ui.draggable._renderView=true;},_calculateNewOrder:function($draggedItem,$droppedInItem){var globalOrder,draggedIndex,droppedInIndex;globalOrder=_.pluck(this._fields.all,'name');draggedIndex=_.indexOf(globalOrder,$draggedItem.closest('th').data('fieldname'));droppedInIndex=_.indexOf(globalOrder,$droppedInItem.closest('th').data('fieldname'));if($droppedInItem.hasClass('th-droppable-placeholder-last')){droppedInIndex++;}
if(droppedInIndex>draggedIndex){droppedInIndex--;}
return _.moveIndex(globalOrder,draggedIndex,droppedInIndex);},onAttach:function(component,plugin){this.on('render',_.debounce(this._makeColumnReorderable,200),this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ReorderableColumns.js */

(function($){'use strict';var definer=$('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>').appendTo('body')[0],type='reverse';if(definer.scrollLeft>0){type='default';}else{definer.scrollLeft=1;if(definer.scrollLeft===0){type='negative';}}
$(definer).remove();$.support.rtlScrollType=type;}(jQuery));
/* End of File include/javascript/jquery/jquery.rtl-scroll.js */

var __bind=function(fn,me){return function(){return fn.apply(me,arguments);};},__slice=[].slice;(function($,window){var ResizableColumns,pointerX,stripPx,_parseWidth,_setWidth;var uniqueIds=0;stripPx=function(width){if(!width){return 0;}else{if(typeof width==='string'){return width.replace('px','');}else{return width;}}};_parseWidth=function(_usePixels,node){return parseFloat((node.offsetWidth+'').replace((_usePixels?'px':'%'),''));};_setWidth=function(_usePixels,node,width){if(_usePixels){width=width.toFixed(2);width=width+'px';node.style.minWidth=width;node.style.width=width;node.style.maxWidth=width;}else{width=width.toFixed(2);width=""+width+"%";node.style.width=width;}
return width;};pointerX=function(e){if(e.type.indexOf('touch')===0){return(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]).pageX;}
return e.pageX;};ResizableColumns=(function(){ResizableColumns.prototype.defaults={usePixels:false,selector:'tr th:visible',store:window.store,syncHandlers:true,resizeFromBody:true,maxWidth:null,minWidth:null};function ResizableColumns($table,options){this.pointerdown=__bind(this.pointerdown,this);this.constrainWidth=__bind(this.constrainWidth,this);var usePixels;this.options=$.extend({},this.defaults,options);this.$table=$table;usePixels=this.options.usePixels;this.parseWidth=function(node){return _parseWidth(usePixels,node);};this.setWidth=function(node,width){return _setWidth(usePixels,node,width);};this.setHeaders();if(this.options.store!=null){this.restoreColumnWidths();}
this.syncHandleWidths();this._uniqueId=++uniqueIds;$(window).on('resize.rc'+this._uniqueId,((function(_this){return function(){var sync=_this.syncHandleWidths();var minTableWidth=_this.options.getMinTableWidth&&_this.options.getMinTableWidth();if(minTableWidth){_this._minTableWidth=minTableWidth;}
if(_this.options.restore){_this.options.restore();}
_this._currentTableWidth=_this.$table.width();return sync;};})(this)));if(this.options.start){this.$table.bind('column:resize:start.rc',this.options.start);}
if(this.options.resize){this.$table.bind('column:resize.rc',this.options.resize);}
if(this.options.stop){this.$table.bind('column:resize:stop.rc',this.options.stop);}
if(this.options.restore){this.$table.bind('column:resize:restore.rc',this.options.restore);}}
ResizableColumns.prototype.triggerEvent=function(type,args,original){var event;event=$.Event(type);event.originalEvent=$.extend({},original);return this.$table.trigger(event,[this].concat(args||[]));};ResizableColumns.prototype.getColumnId=function($el){return this.$table.data('resizable-columns-id')+'-'+$el.data('resizable-column-id');};ResizableColumns.prototype.setHeaders=function(){this._leftoverWidth=this.$table.width();this.$tableHeaders=this.$table.find(this.options.selector);var i=this.$tableHeaders.length;var width;while(i){i--;width=$(this.$tableHeaders[i]).outerWidth();this._leftoverWidth-=width;}
if(this.options.usePixels){this.assignPixelWidths();}else{this.assignPercentageWidths();}
return this.createHandles();};ResizableColumns.prototype.destroy=function(){$(window).off('resize.rc'+this._uniqueId);this.$handleContainer.remove();this.$table.removeData('resizableColumns');};ResizableColumns.prototype.assignPercentageWidths=function(){return this.$tableHeaders.each((function(_this){return function(_,el){var $el;$el=$(el);return _this.setWidth($el[0],$el.outerWidth()/ _this.$table.width()*100);};})(this));};ResizableColumns.prototype.assignPixelWidths=function(){var columns=[];var self=this;this.$tableHeaders.each((function(_this){return function(_,el){var $el;$el=$(el);columns.push($el.outerWidth()-stripPx($el.css('paddingLeft')-stripPx($el.css('paddingRight'))));};})(this));return this.$tableHeaders.each(function(i,el){return self.setWidth(el,columns[i]);});};ResizableColumns.prototype.createHandles=function(){var _ref;if((_ref=this.$handleContainer)!=null){_ref.remove();}
this.$table.before((this.$handleContainer=$("<div class='rc-handle-container' />")));this.$tableHeaders.each((function(_this){return function(i,el){var $handle;if(_this.$tableHeaders.eq(i+1).length===0||(_this.$tableHeaders.eq(i).attr('data-noresize')!=null)||(_this.$tableHeaders.eq(i+1).attr('data-noresize')!=null)){return;}
$handle=$("<div class='rc-handle' />");$handle.data('th',$(el));return $handle.appendTo(_this.$handleContainer);};})(this));return this.$handleContainer.on('mousedown touchstart','.rc-handle',this.pointerdown);};ResizableColumns.prototype.syncHandleWidths=function(){if(this.options.usePixels){return this.syncHandleWidthsPx();}
return this.$handleContainer.width(this.$table.width()).find('.rc-handle').each((function(_this){return function(_,el){var $el;$el=$(el);return $el.css({left:$el.data('th').outerWidth()+($el.data('th').offset().left-_this.$handleContainer.offset().left),height:_this.options.resizeFromBody?_this.$table.height():_this.$table.find('thead').height()});};})(this));};ResizableColumns.prototype.saveColumnWidths=function(){var columns;columns=[];this.$tableHeaders.each((function(_this){return function(_,el){var $el,width;$el=$(el);if($el.attr('data-noresize')==null){width=_this.parseWidth($el[0]);columns.push(width);if(_this.options.store!=null){return _this.options.store.set(_this.getColumnId($el),width);}}};})(this));this._expectedWidths=columns;return this.$table.trigger('column:resize:save',[columns]);};ResizableColumns.prototype.restoreColumnWidths=function(){return this.$tableHeaders.each((function(_this){return function(_,el){var $el,width;$el=$(el);if((_this.options.store!=null)&&(width=_this.options.store.get(_this.getColumnId($el)))){return _this.setWidth($el[0],width);}};})(this));};ResizableColumns.prototype.totalColumnWidths=function(){var total;if(this.options.usePixels){return this.totalColumnWidthsPx();}
total=0;this.$tableHeaders.each((function(_this){return function(_,el){return total+=parseFloat($(el)[0].style.width.replace('%',''));};})(this));return total;};ResizableColumns.prototype.syncHandleWidthsPx=function(){return this.$handleContainer.css('minWidth','100%').find('.rc-handle').each((function(_this){return function(_,el){var $el,height,left;$el=$(el);left=$el.data('th').innerWidth();left-=stripPx($el.css('paddingLeft'));left-=stripPx($el.css('paddingRight'));left+=$el.data('th').offset().left;left-=_this.$handleContainer.offset().left;height=_this.options.resizeFromBody?_this.$table.height():_this.$table.find('thead').height();return $el.css({left:left,height:height});};})(this));};ResizableColumns.prototype.totalColumnWidthsPx=function(){var total;total=0;this.$table.each((function(_this){return function(_,el){var $el;$el=$(el);return total+=parseFloat(stripPx($el.outerWidth()));};})(this));return total;};ResizableColumns.prototype.constrainWidth=function(width){if(this.options.minWidth!=null){width=Math.max(this.options.minWidth,width);}
if(this.options.maxWidth!=null){width=Math.min(this.options.maxWidth,width);}
return width;};ResizableColumns.prototype.pointerdown=function(e){var $currentGrip,$leftColumn,$ownerDocument,$rightColumn,isLtr,newWidths,startPosition,widths;e.preventDefault();isLtr=this.$table.css('direction')!=='rtl';$ownerDocument=$(e.currentTarget.ownerDocument);startPosition=pointerX(e);$currentGrip=$(e.currentTarget);if(isLtr){$leftColumn=$currentGrip.data('th');$rightColumn=this.$tableHeaders.eq(this.$tableHeaders.index($leftColumn)+1);}else{$rightColumn=$currentGrip.data('th');$leftColumn=this.$tableHeaders.eq(this.$tableHeaders.index($rightColumn)-1);}
widths={left:this.parseWidth($leftColumn[0]),right:this.parseWidth($rightColumn[0])};newWidths={left:widths.left,right:widths.right};this.$handleContainer.add(this.$table).addClass('rc-table-resizing');$leftColumn.add($rightColumn).add($currentGrip).addClass('rc-column-resizing');this.triggerEvent('column:resize:start',[$leftColumn,$rightColumn,newWidths.left,newWidths.right],e);$ownerDocument.on('mousemove.rc touchmove.rc',(function(_this){return function(e){var difference;var localWidths={left:newWidths.left,right:newWidths.right};difference=pointerX(e)-startPosition;startPosition=pointerX(e);if(!isLtr){difference=-difference;}
if(!_this.options.usePixels){difference=difference / _this.$table.width()*100;}
if(_this.options.usePixels){_this._currentTableWidth=_this.$table.width()+difference;var shouldRestrict=_this._minTableWidth&&(_this._currentTableWidth<_this._minTableWidth);if(shouldRestrict){_this.setWidth($rightColumn[0],newWidths.right=_this.constrainWidth(localWidths.right-difference));}
_this.setWidth($leftColumn[0],newWidths.left=_this.constrainWidth(localWidths.left+difference));}else{_this.setWidth($leftColumn[0],newWidths.left=_this.constrainWidth(widths.left+difference));_this.setWidth($rightColumn[0],newWidths.right=_this.constrainWidth(widths.right-difference));}
if(_this.options.syncHandlers!=null){_this.syncHandleWidths();}
return _this.triggerEvent('column:resize',[$leftColumn,$rightColumn,newWidths.left,newWidths.right],e);};})(this));return $ownerDocument.one('mouseup touchend',(function(_this){return function(){$ownerDocument.off('mousemove.rc touchmove.rc');_this.$handleContainer.add(_this.$table).removeClass('rc-table-resizing');$leftColumn.add($rightColumn).add($currentGrip).removeClass('rc-column-resizing');_this.syncHandleWidths();_this.saveColumnWidths();return _this.triggerEvent('column:resize:stop',[$leftColumn,$rightColumn,newWidths.left,newWidths.right],e);};})(this));};return ResizableColumns;})();return $.fn.extend({resizableColumns:function(){var args,option;option=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return this.each(function(){var $table,data;$table=$(this);data=$table.data('resizableColumns');if(!data){$table.data('resizableColumns',(data=new ResizableColumns($table,option)));}
if(typeof option==='string'){return data[option].apply(data,args);}});}});})(window.jQuery,window);
/* End of File include/javascript/jquery/sugar.resizableColumns.js */

(function(app){var _sum=function(array){return _.reduce(array,function(memo,num){return memo+num;},0);};var _mapClassesToPixels={'xxsmall':21,'xsmall':42,'small':68,'medium':110,'large':178,'xlarge':288,'xxlarge':466};app.events.on('app:init',function(){app.plugins.register('ResizableColumns',['view'],{_listResizableColumnSelector:'thead tr:first-child th[data-fieldname]',_makeColumnResizable:function(){if(this.disposed){return;}
var proto=Object.getPrototypeOf(this);var getMinTableWidth;if(_.isFunction(proto.getMinTableWidth)){getMinTableWidth=_.bind(proto.getMinTableWidth,this);}
var self=this;var $table=this.$('table');$table.resizableColumns({usePixels:true,selector:this._listResizableColumnSelector,minWidth:1,store:null,restore:function(event,columns){if(self.disposed){return;}
var resizableColumns=$table.data('resizableColumns');if(columns){resizableColumns._expectedWidths=columns;}else{columns=resizableColumns._expectedWidths;}
var expectedWidth=_sum(columns);var availableWidth=resizableColumns.options.getMinTableWidth()-resizableColumns._leftoverWidth;availableWidth=availableWidth-columns.length;var rate=expectedWidth / availableWidth;if(rate<1){columns=_.map(columns,function(col){return parseInt(col / rate,10);});}
var i=0;resizableColumns.$tableHeaders.each(function(index,el){var $el,width;$el=$(el);width=columns[i++];if($el.attr('data-noresize')==null&&width){return resizableColumns.setWidth($el[0],width);}});resizableColumns.syncHandleWidths();},getMinTableWidth:!_.isUndefined(getMinTableWidth)?getMinTableWidth:function(){return $table.parent().width();}});var cachedSizes=this.getCacheWidths();if(_.isEmpty(cachedSizes)){cachedSizes=_.map(this._fields.visible,function(field){var width=field.expectedWidth||'medium';return _mapClassesToPixels[width]||width;});}
$table.trigger('column:resize:restore',[cachedSizes]);$(window).resize();$table.on('column:resize:save',_.bind(function(event,columns){this.trigger('list:column:resize:save',columns);},this));},_unbindResizableColumns:function(){if(this.disposed){return;}
var $table=this.$('table');$table.off('column:resize:save');$table.resizableColumns('destroy');},onAttach:function(component,plugin){this.before('render',this._unbindResizableColumns);this.on('render',this._makeColumnResizable);},onDetach:function(component,plugin){this._unbindResizableColumns();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ResizableColumns.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ToggleMoreLess',['view'],{events:{'click [data-moreless]':'moreLessClicked'},MORE_LESS_KEY:'show_more',MORE_LESS_STATUS:{MORE:'more',LESS:'less'},onAttach:function(){this.on('init',function(){this.meta=this.meta||{};this.meta.last_state=this.meta.last_state||{id:this.name+'_view',defaults:{}};this.meta.last_state['defaults'][this.MORE_LESS_KEY]='less';this.SHOW_MORE_KEY=app.user.lastState.key(this.MORE_LESS_KEY,this);app.user.lastState.register(this);});this.before('render',function(){var lastStatus=app.user.lastState.get(this.SHOW_MORE_KEY);if(_.contains(this.MORE_LESS_STATUS,lastStatus)){this._setVisibility(lastStatus);}},this);},moreLessClicked:function(evt){var moreLess=this.$(evt.currentTarget).data('moreless');this.toggleMoreLess(moreLess);},toggleMoreLess:function(moreLess,skipSetState){this._setVisibility(moreLess);this.$('[data-moreless=more]').toggleClass('hide',this.hideMoreButton);this.$('[data-moreless=less]').toggleClass('hide',this.hideLessButton);var target=this.$('[data-moreless='+moreLess+']').data('target')||'.panel-hidden';this.$(target).toggleClass('hide',this.hidePanel);if(!skipSetState){app.user.lastState.set(this.SHOW_MORE_KEY,moreLess);}
this.trigger('more-less:toggled',moreLess);},_setVisibility:function(moreLess){this.hideMoreButton=(moreLess===this.MORE_LESS_STATUS.MORE);this.hideLessButton=(moreLess===this.MORE_LESS_STATUS.LESS);this.hidePanel=(moreLess===this.MORE_LESS_STATUS.LESS);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ToggleMoreLess.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ContactsPortalMetadataFilter',['view'],{removePortalFieldsIfPortalNotActive:function(meta){if(!_.isObject(meta)){return;}
var portalFields=['portal_name','portal_active','portal_password','portal_user_company_name'];var serverInfo=app.metadata.getServerInfo();if(!serverInfo.portal_active){_.each(meta.panels,function(panel){panel.fields=_.reject(panel.fields,function(field){var name=_.isObject(field)?field.name:field;return _.contains(portalFields,name);});});}}});});})(SUGAR.App);
/* End of File modules/Contacts/clients/base/plugins/ContactsPortalMetadataFilter.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ConfigDrivenList',['layout','view'],{onAttach(component,plugin){this.before('render',this._beforeRenderActions,this);},_beforeRenderActions(){this._toggleFrozenHeaders();this._toggleFrozenFirstColumn();},_toggleFrozenHeaders(){const state=app.config.freezeListHeaders;this.$el.toggleClass('frozen-list-headers',state);},_toggleFrozenFirstColumn(){const hasFrozenColumn=this._getFrozenColumnConfig();const state=app.config.allowFreezeFirstColumn&&hasFrozenColumn;this.$el.toggleClass('sticky-first-column',state);const hasScrollContainer=!_.isNull(this.scrollContainer)||!_.isUndefined(this.scrollContainer);if(state&&hasScrollContainer&&this.action==='list'){this.listenToOnce(this,'render',()=>{this.scrollContainer.on('scroll',_.throttle(_.bind(this._toggleFrozenColumnBorder,this),200));});}},_getFrozenColumnConfig(){let settings;const listName=this.name;switch(listName){case'dashablelist':case'dashlet-console-list':settings=this.settings;break;case'dashablerecord':if(this._getActiveTab().type==='list'){settings=this.model;}else{settings=false;}
break;default:settings=false;}
if(!settings){return false;}
if(app.config.allowFreezeFirstColumn){return settings.get('freeze_first_column');}else{return false;}},_toggleFrozenColumnBorder(){const firstCol=this.$('table tbody tr td:first-child, table thead tr th:first-child');firstCol.toggleClass('column-border',this.scrollContainer[0].scrollLeft>0);},filterConfigFieldsForDashlet(){this.meta.panels.forEach(panel=>{panel.fields=panel.fields.filter(field=>{return field.showOnConfig?app.config[field.showOnConfig]:true;});});},onDetach:function(component,plugin){this.off('render',this._toggleFrozenHeaders,this);this.off('render',this._toggleFrozenFirstColumn,this);this.stopListening();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ConfigDrivenList.js */

var PMSE=PMSE||{};(function(app){app.events.on('app:init',function(){app.plugins.register('ProcessActions',['view','layout'],{getHistory:function(cas_id){var logPanel,w2,label;var pmseHistoryUrl=app.api.buildURL('pmse_Inbox/historyLog',null,{id:cas_id});logPanel=new HistoryPanel({logType:'difList',items:[],callback:{'loaded':function(data){var i,newLog,duration;app.api.call('read',pmseHistoryUrl,{},{success:function(logs){if(logs){for(i=0;i<logs.result.length;i+=1){var log=logs.result[i];var end_date=log.end_date;var delegate_date=log.delegate_date;label=log.data_info;if(log.completed){duration='<strong>( ';if(end_date){duration+=app.date(end_date).fromNow();}else{duration+=app.date(delegate_date).fromNow();}
duration+=' )</strong>';}else{duration='<strong>';duration+=app.lang.get('LBL_PMSE_HISTORY_LOG_NO_YET_STARTED','pmse_Inbox');duration+='</strong>';}
var pictureUrl=app.api.buildFileURL({module:'Users',id:log.cas_user_id,field:'picture'});newLog={name:'log'+i,label:label,user:log.user,showUser:log.show_user,startDate:app.date(delegate_date).formatUser(),picture:(log.script)?log.image:pictureUrl,duration:duration,completed:log.completed,script:(log.script)?log.script:false};logPanel.addLog(newLog);}}
app.alert.dismiss('upload');w2.html.style.display='inline';},error:function(error){app.alert.dismiss('upload');var message=(error&&error.message)?error.message:'EXCEPTION_FATAL_ERROR';app.alert.show('error_history',{level:'error',messages:message});}});}}});w2=new PMSE.Window({width:800,height:350,modal:true,title:'# '+cas_id+': '+app.lang.get('LBL_PMSE_TITLE_HISTORY','pmse_Inbox')});w2.addPanel(logPanel);w2.show();w2.html.style.display='none';app.alert.show('upload',{level:'process',title:'LBL_LOADING',autoClose:false});},showStatus:function(cas_id){var url,w,hp,img,ih,iw,a;var id=cas_id;url=app.api.buildFileURL({module:'pmse_Inbox',id:id,field:'id'},{cleanCache:true});app.alert.show('upload',{level:'process',title:'LBL_LOADING',autoclose:false});img=new Image();img.src=url;img.onload=function(){if(img.width<760){ih=img.height;iw=img.width;}else{ih=parseInt(img.height*(760 / img.width),10);iw=760;}
a='<img width="'+iw+'" src="'+img.src+'" />';hp=new HtmlPanel({source:a,scroll:((ih+45)>400)});w=new PMSE.Window({width:iw+40,height:((ih+45)<400)?ih+45:400,modal:true,title:app.lang.get('LBL_PMSE_TITLE_IMAGE_GENERATOR_OBJ','pmse_Inbox',{'id':id})});w.addPanel(hp);w.show();app.alert.dismiss('upload');};},showNotes:function(caseId,caseIndex){var w,np,notesTextArea,proxy,log,newLog,pictureUrl,i,url;url=app.api.buildURL('pmse_Inbox/note_list/'+caseId);notesTextArea=new TextareaField({name:'notesTextArea',label:'',fieldWidth:'80%'});app.alert.show('upload',{level:'process',title:'LBL_LOADING',autoclose:false});np=new NotePanel({items:[notesTextArea],caseId:caseId,caseIndex:caseIndex,callback:{'loaded':function(data){app.api.call('read',url,{},{success:function(notes){for(i=0;i<notes.rowList.length;i+=1){log=notes.rowList[i];pictureUrl=app.api.buildFileURL({module:'Users',id:log.not_user_id,field:'picture'});var currentDate=Date.parse(notes.currentDate);var dateEntered=Date.parse(log.date_entered);if(isNaN(currentDate)){currentDate=Date.parse(notes.currentDate.replace(/\s/g,'T'));}
if(isNaN(dateEntered)){dateEntered=Date.parse(log.date_entered.replace(/\s/g,'T'));}
newLog={name:'log',label:log.not_content,user:log.last_name,picture:pictureUrl,duration:'<strong> '+app.date(log.date_entered).fromNow()+' </strong>',startDate:app.date(log.date_entered).formatUser(),logId:log.id};np.addLog(newLog);}
app.alert.dismiss('upload');},error:function(error){app.alert.dismiss('upload');var message=(error&&error.message)?error.message:'EXCEPTION_FATAL_ERROR';app.alert.show('error_note',{level:'error',messages:message});}});}}});w=new PMSE.Window({width:800,height:380,modal:true,title:app.lang.get('LBL_PMSE_TITLE_PROCESS_NOTES','pmse_Inbox')+' # '+caseId});w.addPanel(np);w.show();},showForm:function(casId,casIndex,wtype,flowId,pmseInboxId,taskName,values){showModalWindow(casId,casIndex,wtype,flowId,pmseInboxId,taskName,values,this.recordModel);}});});})(SUGAR.App);
/* End of File modules/pmse_Inbox/clients/base/plugins/ProcessActions.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Cascade',['field'],{baseFieldName:null,baseFieldType:null,fieldNames:null,field:null,model:null,attachAction:null,readOnlyProp:null,createActions:['create','create-nodupecheck'],editableActions:['edit','create','create-nodupecheck'],onAttach:function(field,plugin){let oppConfig=app.metadata.getModule('Opportunities','config');if(!oppConfig||oppConfig.opps_view_by!=='RevenueLineItems'){field.displayCheckbox=false;return;}
this._initPluginProperties(field);this._initModelProperties();this._initViewProperties();this._initFieldProperties();this._initDefaultValues();this._initListeners();this.view.cascadeFields[this.baseFieldName].initialized=true;},_initPluginProperties:function(field){this.field=field;this.view=this.field.options.view;this.model=this.field.options.model;this.baseFieldName=this.field.options.def.name;this.baseFieldType=this.field.options.def.type;this.attachAction=this.field.action;this.hasCascadeError=false;if(this.baseFieldType==='fieldset-cascade'){this.fieldNames=_.map(this.field.options.def.fields,function(field){return field.name;});}else{this.fieldNames=[this.field.baseFieldName];}},_initModelProperties:function(){if(this.createActions.includes(this.field.options.view.action)){this.cascadeValidationTask=`cascade_${this.field.name}_${this.field.cid}`;this.model.addValidationTask(this.cascadeValidationTask,_.bind(this._validateCascadeOnCreate,this));}},_initViewProperties:function(){this.view.cascadeFields=this.view.cascadeFields||{};this.view.cascadeFields[this.baseFieldName]=this.view.cascadeFields[this.baseFieldName]||{initialized:false};},_initFieldProperties:function(){if(this._isOnLeadConvert()&&!this._isOnLeadConvertWithProperty('enableRlis')){this.field.displayCheckbox=false;this.field.action='disabled';return;}
this.field.displayCheckbox=true;this.field.lblString=this.getCheckboxLabel();this.field.setMode=_.wrap(this.field.setMode,_.bind(function(setMode,args){setMode.call(this.field,args);this.handleModeChange(args);},this));this.field._render=_.wrap(this.field._render,_.bind(function(_render,args){this._beforeRender();_render.call(this.field,args);this._afterRender();},this));},_initDefaultValues:function(){if(!this.view.cascadeFields[this.baseFieldName].initialized&&this.createActions.includes(this.field.options.view.action)){this.view.cascadeFields[this.baseFieldName].defaultValues={};let valuesToSet={};this.fieldNames.forEach(fieldName=>{let defaultValue=this.model.get(fieldName);this.view.cascadeFields[this.baseFieldName].defaultValues[fieldName]=defaultValue;valuesToSet[fieldName]='';});this.model.set(valuesToSet,{hideDbvWarning:true});}},_initListeners:function(){_.each(this.fieldNames,function(fieldName){this.listenTo(this.model,'change:'+fieldName,this.setCascadeValue,this);},this);this.listenTo(this.model,'sync',this.clearCascadeValue,this);let hasDisableConditions=this.options&&this.options.def&&this.options.def.disable_field;if(hasDisableConditions&&!this.createActions.includes(this.options.view.name)){let disableFieldName=this.options.def.disable_field;if(_.isArray(disableFieldName)){_.each(disableFieldName,function(fieldName){this.listenTo(this.model,'change:'+fieldName,this.handleReadOnly,this);},this);}else{this.listenTo(this.model,'change:'+disableFieldName,this.handleReadOnly,this);}}
this.listenTo(this.field,'editable:toggle-field',this._handleEditableFieldToggled,this);this.listenTo(this.view,'record:edit:cancel',this._handleEditableFieldToggled,this);this.listenTo(this.view,'editable:toggle_fields',this._handleEditableFieldsToggled,this);},_handleEditableFieldToggled:function(viewAction){if(!this.editableActions.includes(viewAction)){this.model.unset(`${this.baseFieldName}_cascade_checked`);this.clearCascadeValue();}},_handleEditableFieldsToggled:function(fieldsToggled,viewAction){if(!this.editableActions.includes(viewAction)){_.each(fieldsToggled,function(field){if(field.name===this.baseFieldName){this._handleEditableFieldToggled(viewAction);}},this);}},_beforeRender:function(){let checkboxChecked=this.model.get(this.baseFieldName+'_cascade_checked')||false;let fieldHasErrors=!_.isEmpty(this.field._errors)||this.hasCascadeError;if((this.readOnlyProp||!checkboxChecked)&&!fieldHasErrors){let oldAction=this.field._previousAction||this.field.action;this.field._removeViewClass(oldAction);this.field._previousAction=oldAction;this.field.action='disabled';this.field.shouldCascade=false;this.field.cascadeCheckboxDisabled=this.readOnlyProp;}else{this.field.shouldCascade=checkboxChecked;this.field.cascadeCheckboxDisabled=false;if(_.isUndefined(this.field.action)){this.field.action=this.field.options.view.action;}}
let isCreate=this.createActions.includes(this.field.options.view.action);let isLeadConvertWithOptionalRlis=this._isOnLeadConvert()&&!this._isOnLeadConvertWithProperty('requireRlis');if(isCreate&&this.field.displayCheckbox&&(this._hasNoRliCollection()&&!isLeadConvertWithOptionalRlis)){this.field.displayCheckbox=false;}},_afterRender:function(){this.bindEditActions();if(this.view.el.classList.contains('flex-list-view')){this.view.el.classList.add('double-height-row');}},handleModeChange:function(toTemplate){if(!this.field.$el){return;}
var action=toTemplate||this.field.action||this.field.view.action||'detail';if(this.editableActions.includes(action)){this.handleReadOnly();}else{this.field.setDisabled(false,{trigger:true});}},bindEditActions:function(){if(this.editableActions.includes(this.attachAction)){this.attachAction=null;this.field.render();}
var checkbox=this.field.$el.find('input[type=checkbox]');var self=this;checkbox.click(function(){if(this.checked===false){self.model.unset(self.field.name+'_cascade_checked');self.field.setDisabled(true,{trigger:true});self.resetModelValue();self.model.trigger('cascade:checked:'+self.field.name,false);}else{self.model.set(self.field.name+'_cascade_checked',true);self.field.setDisabled(false,{trigger:true});self.setDefaultValue();self.setCascadeValue();self.model.trigger('cascade:checked:'+self.field.name,true);}});},handleReadOnly:function(){let hasDisableConditions=this.options&&this.options.def&&this.options.def.disable_field;if(this.model&&hasDisableConditions&&!this.createActions.includes(this.options.view.name)){let disableFieldName=this.options.def.disable_field;let calculatedValue=null;if(_.isArray(disableFieldName)){let fieldValue1=this.model.get(disableFieldName[0]);let fieldValue2=this.model.get(disableFieldName[1]);calculatedValue=(!_.isUndefined(fieldValue1)&&!_.isUndefined(fieldValue2))?(fieldValue1-fieldValue2):null;}else if(typeof disableFieldName==='string'){var disableFieldValue=this.model.get(disableFieldName);calculatedValue=!_.isUndefined(disableFieldValue)?disableFieldValue:null;}
if(calculatedValue!==null){if(!_.isUndefined(this.field.def)&&_.isUndefined(this.field.def.readOnlyProp)){this.field.def.readOnlyProp=false;}
let setReadOnly=calculatedValue<=0;if(this.options.def.disable_positive){setReadOnly=calculatedValue>0;}
this.readOnlyProp=setReadOnly||this.field.def.readOnlyProp;}}
this.render();},resetModelValue:function(){_.each(this.fieldNames,function(fieldName){this.model.set(fieldName,this.model.getSynced(fieldName)||'');this.model.unset(`${fieldName}_cascade`);this.setRliValueForField(fieldName,'');},this);},setDefaultValue:function(){let defaultValues=this.view.cascadeFields[this.baseFieldName].defaultValues;if(!this.createActions.includes(this.options.view.name)||_.isEmpty(defaultValues)){return;}
let valuesToSet={};this.fieldNames.forEach(fieldName=>{if(!_.isUndefined(defaultValues[fieldName])){valuesToSet[fieldName]=defaultValues[fieldName];}else{valuesToSet[fieldName]='';}});this.model.set(valuesToSet);},setCascadeValue:function(){if(!this.editableActions.includes(this.action)){return;}
_.each(this.fieldNames,function(fieldName){let fieldValue=this.model.get(fieldName);this.model.set(fieldName+'_cascade',fieldValue);this.setRliValueForField(fieldName,fieldValue);},this);},_getRliCollection:function(){let rliContext=this.context.getChildContext({link:'revenuelineitems'});rliContext.prepare();return rliContext.get('collection');},setRliValueForField:function(fieldName,fieldValue){if(!this.createActions.includes(this.options.view.name)){return;}
let rliCollection=this._getRliCollection();if(_.isEmpty(rliCollection.models)){return;}
rliCollection.models.forEach(model=>{if(app.utils.isRliFieldValidForCascade(model,fieldName)){model.set(fieldName,fieldValue);}});},clearCascadeValue:function(){if(this.context.attributes.layout&&this.context.attributes.layout==='record'){_.each(this.fieldNames,function(fieldName){this.model.unset(`${fieldName}_cascade`);this.setRliValueForField(fieldName,'');},this);}},getCheckboxLabel:function(){let labelKey=this.createActions.includes(this.field.options.view.action)?'LBL_CASCADE_RLI_CREATE':'LBL_CASCADE_RLI_EDIT';return app.lang.get(labelKey,'Opportunities');},_isOnLeadConvert:function(){return this.field.options&&this.field.options.context&&this.field.options.context.parent&&this.field.options.context.parent.get('convertModuleList');},_isOnLeadConvertWithProperty:function(property){if(!this._isOnLeadConvert()){return false;}
let convertModuleList=this.field.options.context.parent.get('convertModuleList');return convertModuleList.find(moduleMeta=>moduleMeta.id==='Opportunities')[property];},_hasNoRliCollection:function(){let rliCollection=this._getRliCollection();return _.isEmpty(rliCollection)||rliCollection.length===0;},_validateCascadeOnCreate:function(fields,errors,callback){this.hasCascadeError=false;let isChecked=this.model.get(`${this.name}_cascade_checked`);let rliCollection=this._getRliCollection();let fieldValues=this.fieldNames.map(field=>this.model.get(field));let isEmpty=fieldValues.some(value=>!value);if(isChecked&&!_.isEmpty(rliCollection)&&isEmpty){this.fieldNames.forEach(field=>{if(this.model.get(field)){return;}
if(rliCollection.models.some(model=>app.utils.isRliFieldValidForCascade(model,field))){errors[field]=errors[field]||{};errors[field].required=true;this.hasCascadeError=true;}});}
callback(null,fields,errors);},onDetach:function(){this.stopListening(null,null,this.setCascadeValue);this.stopListening(null,null,this.clearCascadeValue);this.stopListening(null,null,this.handleReadOnly);this.stopListening(null,null,this._handleEditableFieldToggled);this.stopListening(null,null,this._handleEditableFieldsToggled);this.model.removeValidationTask(this.cascadeValidationTask);}});});})(SUGAR.App);
/* End of File modules/Opportunities/clients/base/plugins/Cascade.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('PurchaseAndServiceChangeHandler',['view'],{bindDataChange:function(){this._super('bindDataChange');this.model.on('change:service',this.handleServiceChange,this);this.model.on('change:purchase_name',this.handlePurchaseChange,this);},handleServiceChange:function(){this._updateServiceDuration();this._updateStartEndDate();},_updateServiceDuration:function(){var service=this.model.get('service');if(service&&_.isEmpty(this.model.get('service_duration_unit'))){this.model.set('service_duration_unit','year');}else if(!service){this.model.set({'service_duration_unit':'day','service_duration_value':1});}},_updateStartEndDate:function(){if(this.model.get('service')){var endDate=this.getField('service_end_date');if(!_.isUndefined(endDate)){endDate.calculateEndDate();}}else{var closeDate=this.model.get('date_closed');this.model.set({'service_start_date':closeDate,'service_end_date':closeDate});}},handlePurchaseChange:function(){var purchase=!_.isUndefined(this.model.get('purchase'))?this.model.get('purchase'):{};var prodTemplateId=purchase.product_template_id||'';if(!_.isEmpty(prodTemplateId)){var modelFields=this.model.fields||{};var populateList={};if(!_.isUndefined(modelFields.product_template_name)&&!_.isUndefined(modelFields.product_template_name.populate_list)){populateList=modelFields.product_template_name.populate_list;}
this.setProductAutoPopulateFields(prodTemplateId,populateList);}},setProductAutoPopulateFields:function(prodTemplateId,populateList){if(!_.isEmpty(prodTemplateId)){app.api.call('read',app.api.buildURL('ProductTemplates/'+prodTemplateId),{},{success:_.bind(function(data){var productPopulateList=_.pick(data,_.keys(populateList));if(!_.isUndefined(productPopulateList.name)&&!_.isEmpty(this.model.get('name'))){delete productPopulateList.name;}
this.model.set(productPopulateList);if(this.model.get('service')!==true){this.model.set('service_duration_unit','day');this.model.set('service_duration_value','1');}
this.model.set('catalog_service_duration_value',data.service_duration_value);this.model.set('catalog_service_duration_unit',data.service_duration_unit);this.changed=true;},this)});}}});});})(SUGAR.App);
/* End of File modules/PurchasedLineItems/clients/base/plugins/PurchaseAndServiceChangeHandler.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('HistoricalSummary',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('button:historical_summary_button:click',this.historicalSummaryClicked,this);});},historicalSummaryClicked:function(){app.drawer.open({layout:'history-summary',context:{name:'history'}});},onDetach:function(component,plugin){this.context.off('button:historical_summary_button:click',this.auditClicked,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/HistoricalSummary.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MetadataEventDriven',['field'],{triggerMetadataEvent:function(domEvent,metadataEvent){if(this.view.context){this.view.context.trigger(metadataEvent,this.model);}
if(this.view.layout){this.view.layout.trigger(metadataEvent,this.model);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MetadataEventDriven.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DisableDelete',['field'],{running:false,onAttach:function(component,plugin){this.once('init',function(){if(_.contains(['list:deleterow:fire','button:delete_button:click'],this.def.event)){this.on('render',this.removeDelete,this);this.model.on('change:'+this._getFieldName(),this.removeDelete,this);}},this);},removeDelete:function(){if(this.running){return;}
this.running=true;var config=app.metadata.getModule('Forecasts','config')||{},sales_stage_won=config.sales_stage_won||['Closed Won'],sales_stage_lost=config.sales_stage_lost||['Closed Lost'],label_key='_STAGE',closed_RLI_count=0,message=null,status=null,button=this.getFieldElement(),field=this._getFieldName();if(button.length&&_.contains(["list:deleterow:fire","button:delete_button:click"],this.def.event)){if(app.metadata.getModule('Opportunities','config').opps_view_by==='RevenueLineItems'){closed_RLI_count=this.model.get('closed_revenue_line_items');if(_.isNull(closed_RLI_count)){closed_RLI_count=0;}
label_key='_STATUS';}
status=this.model.get(field);if(closed_RLI_count>0){message=app.lang.get('NOTICE_NO_DELETE_CLOSED_RLIS','Opportunities');}
if(_.contains(sales_stage_won,status)||_.contains(sales_stage_lost,status)){message=app.lang.get('NOTICE_NO_DELETE_CLOSED'+label_key);}
if(!_.isEmpty(message)){this.setDisabled(true);button.attr('data-event','');button.tooltip({title:message});if(this.view.name==='pipeline-recordlist-content'){var deleteButton=_.find(this.view.nestedFields,function(f){return f.cid===this.cid;},this);if(deleteButton){deleteButton.options.def.tooltip=message;deleteButton.def.tooltip=message;deleteButton.$('a').attr('title',message);deleteButton.render();}}}else{this.setDisabled(false);button.attr('data-event',this.def.event);button.tooltip('destroy');}}
this.running=false;return message;},_getFieldName:function(){if(this.model.module=='Opportunities'&&app.metadata.getModule('Opportunities','config').opps_view_by==='RevenueLineItems'){return'sales_status';}
return'sales_stage';}});});})(SUGAR.App);
/* End of File modules/Forecasts/clients/base/plugins/DisableDelete.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DisableMassDelete',['view'],{onAttach:function(component,plugin){this.once('init',function(){this.layout.off('list:massdelete:fire',this.warnDelete,this);this.layout.on('list:massdelete:fire',this._warnDelete,this);},this);},_warnDelete:function(){var massCollection=this.context.get('mass_collection');if(!massCollection){return;}
var massUpdateModel=this.getMassUpdateModel(this.module),closedModelObj=this._getClosedModels(massUpdateModel,true),closedModels=closedModelObj.closedModels,message=closedModelObj.message;if(closedModels.length){this._uncheckClosedModels(massCollection,closedModels,'delete_warning',message);}else if(massUpdateModel.models.length>0){this.warnDelete();}
return message;},checkMassUpdateClosedModels:function(){var massCollection=this.context.get('mass_collection');if(!massCollection){return;}
var massUpdateModel=this.getMassUpdateModel(this.module),closedModelObj=this._getClosedModels(massUpdateModel,false),closedModels=closedModelObj.closedModels,message=closedModelObj.message;if(closedModels.length){this._uncheckClosedModels(massCollection,closedModels,'massupdate_closed_models_warning',message);}
return!!closedModels.length;},_uncheckClosedModels:function(massCollection,closedModels,alertId,message){var progressView=this.getProgressView();massCollection.remove(closedModels);_.each(closedModels,function(item){var id=item.module+'_'+item.id;$("[name='"+id+"'] input").attr('checked',false);});app.alert.show(alertId,{level:'warning',messages:message});progressView.dispose();this.layout.removeComponent(progressView);},_getClosedModels:function(massUpdateModel,isDelete){var config=app.metadata.getModule('Forecasts','config')||{},sales_stage_won=config.sales_stage_won||['Closed Won'],sales_stage_lost=config.sales_stage_lost||['Closed Lost'],closed_RLI_count=0,lang_key=isDelete?'WARNING_NO_DELETE_':'WARNING_NO_MASSUPDATE_',label_key='_STAGE',message=null,status=null,opp_view_by=app.metadata.getModule('Opportunities','config').opps_view_by,closedModels=_.filter(massUpdateModel.models,function(model){status=null;if(opp_view_by==='RevenueLineItems'){status=model.get('sales_status');closed_RLI_count=model.get('closed_revenue_line_items');if(_.isNull(closed_RLI_count)){closed_RLI_count=0;}
label_key='_STATUS';}
if(_.isEmpty(status)){status=model.get('sales_stage');}
if(_.contains(sales_stage_won,status)||_.contains(sales_stage_lost,status)){message=app.lang.get(lang_key+'SELECTED'+label_key);return true;}
if(closed_RLI_count>0){message=app.lang.get(lang_key+'CLOSED_SELECTED'+label_key,'Opportunities');return true;}
return false;});return{closedModels:closedModels,message:message};}});});})(SUGAR.App);
/* End of File modules/Forecasts/clients/base/plugins/DisableMassDelete.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('QuotesLineNumHelper',['view'],{lineNumFieldDef:undefined,hasLineNumField:undefined,lineNumGroupIdMap:undefined,showLineNums:undefined,onAttach:function(component,plugin){this.once('init',function(){var ctx;if(this.model.module==='Quotes'){ctx=this.context;}else{ctx=this.context.parent;this.layout.on('quotes:line_nums:reset',this.resetGroupLineNumbers,this);}
ctx.on('quotes:show_line_nums:changed',this.onShowLineNumsChanged,this);this.lineNumFieldDef=_.find(this._fields,function(field){return field.name==='line_num';});this._fields=_.reject(this._fields,function(field){return field.name==='line_num';});this.hasLineNumField=false;this.showLineNums=false;this.lineNumGroupIdMap={};if(ctx.has('model')&&ctx.get('model').has('show_line_nums')){this.onShowLineNumsChanged(ctx.get('model').get('show_line_nums'),false);}},this);},onDetach:function(component,plugin){var ctx;if(this.model.module==='Quotes'){ctx=this.context;}else{ctx=this.context.parent;this.layout.off('quotes:line_nums:reset',this.resetGroupLineNumbers,this);}
if(ctx){ctx.off('quotes:show_line_nums:changed',this.onShowLineNumsChanged,this);}
this.lineNumGroupIdMap=undefined;},onShowLineNumsChanged:function(showLineNums,doRender){var changed=false;var isBundle=this.model.module==='ProductBundles'&&this.collection.length;this.showLineNums=showLineNums;doRender=_.isUndefined(doRender)?true:false;if(this.showLineNums&&!this.hasLineNumField){this._addLineNumFieldDef();if(isBundle){this._addLineNumToModel(this.model.cid,this.collection);}
changed=true;}else if(!this.showLineNums&&this.hasLineNumField){this._removeLineNumFieldDef();if(isBundle){this._removeLineNumFromModel(this.model.cid,this.collection);}
changed=true;}
if(changed&&doRender){this.render();}},getGroupLineNumCount:function(groupId){this._checkAddGroupToMap(groupId);return this.lineNumGroupIdMap[groupId];},resetGroupLineNumbers:function(groupId,collection){var groupLineNumObj;if(!this.showLineNums){return;}
groupId=groupId||this.model.cid;collection=collection||this.collection;this._checkAddGroupToMap(groupId);groupLineNumObj=this.lineNumGroupIdMap[groupId];groupLineNumObj.ct=1;_.each(collection.models,_.bind(function(groupLineNumObj,model){if(model.module==='Products'){model.set('line_num',groupLineNumObj.ct++);}},this,groupLineNumObj),this);},_checkAddGroupToMap:function(groupId){if(!this.lineNumGroupIdMap[groupId]){this.lineNumGroupIdMap[groupId]={ct:1};}},_checkRemoveGroupFromMap:function(groupId){if(this.lineNumGroupIdMap[groupId].ct<1){delete this.lineNumGroupIdMap[groupId];}},_addLineNumFieldDef:function(){this._fields.unshift(this.lineNumFieldDef);this.hasLineNumField=true;},_removeLineNumFieldDef:function(){this._fields=_.reject(this._fields,function(field){return field.name==='line_num';});this.hasLineNumField=false;},_addLineNumToModel:function(groupId,collection){this._checkAddGroupToMap(groupId);_.each(collection.models,_.bind(function(groupId,model){if(model.module==='Products'){model.set('line_num',this.lineNumGroupIdMap[groupId].ct++);}},this,groupId),this);},_removeLineNumFromModel:function(groupId,collection){_.each(collection.models,_.bind(function(groupId,model){if(model.module==='Products'){model.unset('line_num');this.lineNumGroupIdMap[groupId].ct--;}},this,groupId),this);this._checkRemoveGroupFromMap(groupId);}});});})(SUGAR.App);
/* End of File modules/Quotes/clients/base/plugins/QuotesLineNumHelper.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('QuotesViewSaveHelper',['view'],{hasUnsavedQuoteChanges:function(){var modelDefaults;var differenceKeys;var hasUnsavedChanges;var currentNoEditFields=this.noEditFields;this.noEditFields=this.noEditFields.concat(this.calculatedFields,['bundles']);this.noEditFields=this.noEditFields.concat(this.noEditFields,this._getIgnoredTaxRateFields());hasUnsavedChanges=this._super('hasUnsavedChanges');if(hasUnsavedChanges){modelDefaults=this.model.getDefault()||{};differenceKeys=_.difference(_.keys(this.model.attributes),_.keys(modelDefaults));if(differenceKeys.length){differenceKeys=_.difference(differenceKeys,this.noEditFields);if(!differenceKeys.length){hasUnsavedChanges=false;}}}
if(hasUnsavedChanges===false&&this.type!='create'){hasUnsavedChanges=this.hasUnsavedBundleChanges();}
this.noEditFields=currentNoEditFields;return hasUnsavedChanges;},hasUnsavedBundleChanges:function(){var bundleCalculatedFields;var changedBundle;var itemCalculatedFields={};var bundles=this.model.get('bundles');var changedFields=function(model){return model.changedAttributes(model.getSynced());};var unsavedBundles=_.find(bundles.models,function(model){return model.isNew();});if(this.context.get('create')===true&&bundles.length>1&&unsavedBundles){return true;}
changedBundle=bundles.find(function(bundle){var bundleChanged;var items;var changedItem;var keysToOmit;var changedFieldsList;if(_.isUndefined(bundleCalculatedFields)){bundleCalculatedFields=_.chain(bundle.fields).where({calculated:true}).pluck('name').value();}
keysToOmit=['product_bundle_items','_justSaved'].concat(bundleCalculatedFields);bundleChanged=!_.isEmpty(_.omit(changedFields(bundle),keysToOmit));if(bundleChanged===false&&bundle.has('product_bundle_items')){items=bundle.get('product_bundle_items');changedItem=items.find(function(item){if(item.isNew()){return true;}
if(_.isUndefined(itemCalculatedFields[item.module])){itemCalculatedFields[item.module]=_.chain(item.fields).where({calculated:true}).pluck('name').value();}
changedFieldsList=changedFields(item);changedFieldsList=_.omit(changedFieldsList,'_-rel_exp_values','position');return!_.isEmpty(_.omit(changedFieldsList,itemCalculatedFields[item.module]));});bundleChanged=!_.isUndefined(changedItem);}
return bundleChanged;},this);return!_.isUndefined(changedBundle);},_getIgnoredTaxRateFields:function(){if(_.isEmpty(this.defaultTaxRateValues)){return[];}
return Object.keys(this.defaultTaxRateValues).filter(taxRateAttr=>{return this.model.get(taxRateAttr)===this.defaultTaxRateValues[taxRateAttr];});}});});})(SUGAR.App);
/* End of File modules/Quotes/clients/base/plugins/QuotesViewSaveHelper.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('MassQuote',['view'],{blacklistRLIFields:['_acl','_module','id','quote_id'],onAttach:function(component,plugin){this.once('init',function(){this.layout.on('list:massquote:fire',this.massQuote,this);},this);},massQuote:function(){var qliModels=[];var rliObj;var loadViewObj;var parentModel;if(_.isFunction(this.hideAll)){this.hideAll();}
var massQuote=this.context.get('mass_collection');var errors={'LBL_CONVERT_INVALID_RLI_PRODUCT_PLURAL':[]};var messageTpl;var invalidItems=massQuote.filter(function(model){if(_.isEmpty(model.get('product_template_id'))&&!_.isEmpty(model.get('category_id'))){errors['LBL_CONVERT_INVALID_RLI_PRODUCT_PLURAL'].push(model);return true;}
return false;},this);if(!_.isEmpty(invalidItems)){messageTpl=app.template.getView('massupdate.invalid_link',this.module);_.each(errors,function(val,key){if(val.length!=0){var messages=[];messages.push(app.lang.get(key,this.module)+'<br>');_.each(val,function(item){messages.push(messageTpl(item.attributes));});app.alert.show(('invalid_items_'+key),{level:'error',title:app.lang.get('LBL_ALERT_TITLE_ERROR',this.module)+':',messages:messages,onLinkClick:function(){app.alert.dismiss('invalid_items_'+key);}});}},this);return;}
if(massQuote){_.each(massQuote.models,function(rliModel){rliObj=rliModel.toJSON();rliObj.revenuelineitem_id=rliObj.id;rliObj.parent_rli_id=rliObj.id;_.each(this.blacklistRLIFields,function(fieldName){delete rliObj[fieldName];},this);if(_.isEmpty(rliObj.product_template_name)){rliObj.product_template_name=rliObj.name;}else{rliObj.name=rliObj.product_template_name;}
if(_.isEmpty(rliObj.discount_price)){rliObj.discount_price=rliObj.likely_case;}
qliModels.push(app.data.createBean('Products',rliObj));},this);loadViewObj={module:'Quotes',layout:'create',action:'edit',convert:true,create:true,relatedRecords:qliModels,fromSubpanel:massQuote.fromSubpanel||false,subpanelLink:massQuote.link};parentModel=this.context.parent?this.context.parent.get('model'):this.context.get('model');loadViewObj.parentModel=parentModel;loadViewObj.fromLink=this.context.get('link');app.controller.loadView(loadViewObj);app.router.navigate('#Quotes/create',{trigger:false});}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MassQuote.js */

(function(app){app.events.on("app:init",function(){var tagTemplate=Handlebars.compile('<span class="label label-{{module}} sugar_tag"><a href="#{{buildRoute module=module id=id}}">{{name}}</a></span>'),tagInEditTemplate=Handlebars.compile('<span class="label label-{{module}} sugar_tag" contenteditable="false"><a>{{name}}</a></span>'),tagListOptionTemplate=Handlebars.compile('<li{{#if noAccess}} class="disabled"{{/if}}><a><div class="label label-module-mini label-{{module}} pull-left">{{moduleIconLabel module}}</div>{{{htmlName}}}{{#if noAccess}}<div class="add-on">{{str "LBL_NO_ACCESS_LOWER"}}</div>{{/if}}</a></li>'),tagTextTemplate=Handlebars.compile('@[{{module}}:{{id}}:{{name}}]'),taggingHtml='<span class="sugar_tagging">&nbsp;</span>',tagListContainerHtml='<ul class="dropdown-menu activitystream-tag-dropdown"></ul>',mention='@',reference='#',keycode_at=64,keycode_hash=35,keycode_esc=27,keycode_enter=13,keycode_tab=9,keycode_up=38,keycode_down=40,tagRegExp=/@\[([\w]+):([\d\w\-]+):(.+?)\]/g,nbspRegExp=/&nbsp;/g;app.plugins.register('Taggable',['view','field'],{events:{'keypress .taggable':'_onKeyPress','keydown .taggable':'_onKeydown','keyup .taggable':'_onKeyup','mouseover .activitystream-tag-dropdown li':'_setListOptionAsActive','click .activitystream-tag-dropdown li':'_insertTag'},taggableSearchAfter:2,taggableListLength:8,taggableCursorPosition:0,onAttach:function(component,plugin){this._searchForTags=_.debounce(this._searchForTags,300);$(document).on('click.'+component.cid,function(event){var $target=$(event.target),clickedOutsideDropdown=($target.parents('.activitystream-tag-dropdown').length===0),clickedOutsideTaggingSpan=!$target.hasClass('sugar_tagging');if(component._taggableEnabled&&clickedOutsideDropdown&&clickedOutsideTaggingSpan){component._resetTaggable();}});},onDetach:function(component,plugin){$(document).off('click.'+component.cid);},unformatTags:function($input){var text='',tags=[];$input.contents().each(function(){var $node=$(this),data=$node.data();if(this.nodeType===Node.TEXT_NODE){text+=this.nodeValue.replace(nbspRegExp,' ');}else if(data&&data.module&&data.id&&data.name){text+=tagTextTemplate(data);tags.push(data);}else{text+=$node.text();}});return{value:text.trim(),tags:this._filterOutDuplicateTags(tags)};},formatTags:function(text){var html='';var labelNames=['LBL_VALUE_ERASED','LBL_NO_DATA_AVAILABLE_NO_PERIOD',];if(text&&(text.length>0)){html=text.replace(tagRegExp,function(str,module,id,name){if(_.contains(labelNames,name)){name=app.lang.get(name,module);}
name=new Handlebars.SafeString(name);module=(module==='Users')?'Employees':module;return tagTemplate({module:module,id:id,name:name});});}
return html.trim();},setTaggableRecord:function(module,id){this._taggableModuleName=module;this._taggableModelId=id;},_taggableEnabled:false,_taggableModuleName:null,_taggableModelId:null,_taggableLastSearchTerm:null,_taggableListOpen:null,_onKeyPress:function(event){this.taggableCursorPosition=this._getTaggableInput().prop('selectionStart');if(!this._taggableEnabled){switch(event.which){case keycode_at:case keycode_hash:this._enableTaggable();break;}}},_onKeydown:function(event){if(this._taggableEnabled&&!this._taggableListOpen){switch(event.which){case keycode_esc:case keycode_enter:case keycode_tab:event.preventDefault();this._resetTaggable();break;}}
if(this._taggableEnabled&&(this._taggableListOpen===true)){switch(event.which){case keycode_esc:event.preventDefault();this._resetTaggable();break;case keycode_enter:case keycode_tab:event.preventDefault();this._getCurrentlyActiveOption().click();break;case keycode_up:event.preventDefault();this._selectNextListOption(false);break;case keycode_down:event.preventDefault();this._selectNextListOption(true);break;}}
var isTextarea=this._isTextArea(this._getTaggableInput());if(this._taggableEnabled&&isTextarea&&this._willDeleteMention()){this._resetTaggable();}},_willDeleteMention:function(){var currentChar=this._getTaggableInput().val()[this.taggableCursorPosition];if(currentChar==='@'||currentChar==='#'){return true;}
return false;},_onKeyup:function(event){var selection=window.getSelection(),range,$container,searchTerm;var $taggable=this._getTaggableInput();var isTextarea=this._isTextArea($taggable);if(this._taggableEnabled){if(this._taggableListOpen&&(event.which===keycode_enter||event.which===keycode_tab||event.which==keycode_up||event.which==keycode_down)){return;}
if(isTextarea){$container=$taggable;searchTerm=this.getCurrentSearchTerm($container);}else if(selection.rangeCount>0){range=selection.getRangeAt(0);$container=$(range.startContainer.parentNode);searchTerm=$container.text();}else{return;}
searchTerm=searchTerm.trim();if(!$container.hasClass('sugar_tagging')&&!isTextarea){this._resetTaggable();}else if(this._taggableListOpen&&(searchTerm.length<=this.taggableSearchAfter)){this._getDropdown().hide();this._taggableListOpen=null;this._taggableLastSearchTerm=null;}else{if((searchTerm.indexOf(mention)===0)||(searchTerm.indexOf(reference)===0)){this._searchForTags(searchTerm);}else{this._resetTaggable();}}}},getCurrentSearchTerm:function($container){var value=$container.val();var char=value[this.taggableCursorPosition];var start=this.taggableCursorPosition;while(char!=='@'&&char!=='#'){if(start<0){return'';}
start--;char=value[start];}
return value.substring(start,this.taggableCursorPosition+1);},_enableTaggable:function(){if(this._isTextArea(this._getTaggableInput())){this._taggableEnabled=true;}else{var selection=window.getSelection();var range=selection.getRangeAt(0);var tagElement=$(taggingHtml);var textNode=tagElement.contents()[0];var cursorPosition=_.some([/chrome/,/safari/,/opera\//,/webkit/],function(rx){return rx.test(navigator.userAgent.toLowerCase());})?1:0;if(this._shouldEnableTaggable(range)){range.insertNode(tagElement.get(0));range.setStart(textNode,cursorPosition);range.setEnd(textNode,cursorPosition);selection.removeAllRanges();selection.addRange(range);this._taggableEnabled=true;}}},_shouldEnableTaggable:function(range){var text=range.startContainer.nodeValue,charBeforeCursor,result=false;if((range.startContainer.nodeType===Node.ELEMENT_NODE)||(text.length===0)||(range.startOffset===0)){result=true;}else{charBeforeCursor=text.charAt(range.startOffset-1);if((charBeforeCursor===String.fromCharCode(160))||(charBeforeCursor===String.fromCharCode(32))){result=true;}}
return result;},_resetTaggable:function(){var $taggable=this._getTaggableInput().focus();var selection=window.getSelection();if(selection.rangeCount>0){var range=selection.getRangeAt(0);}
var isTextarea=this._isTextArea($taggable);if(this._taggableEnabled&&!isTextarea){var $taggingSpan=$taggable.find('.sugar_tagging');if($taggingSpan.length>0){range.selectNodeContents($taggingSpan.get(0));range.collapse(false);selection.removeAllRanges();selection.addRange(range);$taggingSpan.before($taggingSpan.html().trim()).remove();}else{$taggable.blur().focus();}
this._removeDropdown();this._taggableEnabled=false;this._taggableListOpen=null;this._taggableLastSearchTerm=null;}},_insertTag:function(event){var $selected=$(event.currentTarget),$taggable=this._getTaggableInput(),taggableData=$selected.data(),$tagToReplace=$taggable.find('.sugar_tagging'),selection,range,$tagHtml;var isTextArea=this._isTextArea($taggable);if(!$selected.hasClass('disabled')){$taggable.focus();if(isTextArea){this._insertIntoTextarea($taggable,taggableData);}else{selection=window.getSelection();range=selection.getRangeAt(0);$tagHtml=$(tagInEditTemplate(taggableData));range.selectNode($tagToReplace.get(0));range.insertNode($tagHtml.get(0));range.selectNode($tagHtml.get(0));range.collapse(false);selection.removeAllRanges();selection.addRange(range);$tagToReplace.before('&nbsp;').remove();$tagHtml.data({id:taggableData.id,name:taggableData.name,module:taggableData.module});}
this._removeDropdown();this._taggableEnabled=false;this._taggableListOpen=null;this._taggableLastSearchTerm=null;}
event.preventDefault();},_insertIntoTextarea:function($textarea,taggableData){if(!$textarea){return;}
var variable='@['+taggableData.module+':'+taggableData.id+':'+taggableData.name+']';var lengthOfSearchTerm=this.getCurrentSearchTerm($textarea).length;var startOfSearchTerm=this.taggableCursorPosition-lengthOfSearchTerm+1;var currentText=$textarea.val();var front=currentText.substring(0,startOfSearchTerm);var back=currentText.substring(this.taggableCursorPosition+1,currentText.length);$textarea.val(front+variable+back);$textarea.trigger('change');},_searchForTags:function(searchTerm){var searchParams;var referenceSearchFields=['name','first_name','last_name'];var tagAction=searchTerm.charAt(0);var filtersBeanPrototype=app.data.getBeanClass('Filters').prototype;searchTerm=searchTerm.substr(1).trim();if((searchTerm.length>=this.taggableSearchAfter)&&(searchTerm!==this._taggableLastSearchTerm)){searchParams={q:searchTerm,max_num:this.taggableListLength,fields:'name'};if((this._taggableListOpen===false)&&(searchTerm.indexOf(this._taggableLastSearchTerm)===0)){this._resetTaggable();}else{if(tagAction===mention){app.data.createBeanCollection('Users').fetch({success:_.bind(function(collection,resp){if(this._taggableEnabled&&resp){this._populateTagList(collection,searchTerm);}},this),filter:filtersBeanPrototype.buildSearchTermFilter('Users',searchTerm),params:{has_access_module:this._taggableModuleName,has_access_record:this._taggableModelId}});}else if(tagAction===reference){searchParams.search_fields=referenceSearchFields.join();app.api.search(searchParams,{success:_.bind(function(response){if(this._taggableEnabled&&response){this._populateTagList(app.data.createMixedBeanCollection(response.records),searchTerm);}},this)});}
this._taggableLastSearchTerm=searchTerm;}}},_populateTagList:function(collection,searchTerm){var $tagList=this._initializeDropdown(),currentSearchTerm;var isTextarea=this._isTextArea(this._getTaggableInput());if(collection.length>0){searchTerm=searchTerm.trim();if(isTextarea){currentSearchTerm=this.getCurrentSearchTerm(this._getTaggableInput()).trim();}else{currentSearchTerm=this._getTaggableInput().find('.sugar_tagging').text().trim();}
if(currentSearchTerm.substr(1).trim()!==searchTerm){this._taggableLastSearchTerm=null;return;}
collection.each(function(model,index){var $tagListOption,data,escapedSearchTerm,name,secureName,htmlName;name=app.utils.getRecordName(model);secureName=Handlebars.Utils.escapeExpression(name).trim();escapedSearchTerm=Handlebars.Utils.escapeExpression(searchTerm).trim();htmlName=secureName.replace(new RegExp('('+escapedSearchTerm+')','ig'),function($1,match){return'<strong>'+match+'</strong>';});data={module:model.get('_module'),id:model.get('id'),name:name,htmlName:htmlName,noAccess:(model.get('has_access')===false)};$tagListOption=$(tagListOptionTemplate(data)).data(data);$tagList.append($tagListOption);},this);this._selectNextListOption(true);this._taggableListOpen=true;$tagList.show();}else{this._taggableListOpen=false;$tagList.hide();}},_initializeDropdown:function(){var $dropdown=this._getDropdown(),$taggable=this._getTaggableInput();if($dropdown.length===0){$dropdown=$(tagListContainerHtml).hide().appendTo($taggable.parent()).css('top',$taggable.outerHeight());}else{$dropdown.empty();}
return $dropdown;},_getDropdown:function(){return this.$('.activitystream-tag-dropdown');},_removeDropdown:function(){this.$('.activitystream-tag-dropdown').remove();},_getCurrentlyActiveOption:function(){return this._getDropdown().find('.active');},_selectNextListOption:function(down,$current){var $next;$current=$current||this._getCurrentlyActiveOption();if($current.length===0){$next=this._getDropdown().children().first();}else{$next=down?$current.next():$current.prev();}
if($next.length>0){$current.removeClass('active');if($next.hasClass('disabled')){this._selectNextListOption(down,$next);}else{$next.addClass('active');}}},_setListOptionAsActive:function(event){var currentTarget=this.$(event.currentTarget);if(!currentTarget.hasClass('disabled')){this._getDropdown().find('.active').removeClass('active');currentTarget.addClass('active');}},_getTaggableInput:function(){return this.$('.taggable');},_isTextArea:function($input){return $input.prop('nodeName')==='TEXTAREA';},_filterOutDuplicateTags:function(tags){tags=_.uniq(tags,function(tag){return tag.id;});return tags;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Taggable.js */

(function(app){if(!$.fn.liverelativedate){return;}
app.events.on('app:init',function(){app.plugins.register('RelativeTime',['view','field'],{onAttach:function(component){component.on('render',function(){component.$('[datetime]').liverelativedate();});},_render:function(){this.$('[datetime]').liverelativedate('destroy');Object.getPrototypeOf(this)._render.call(this);},onDetach:function(component){component.$('[datetime]').liverelativedate('destroy');}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/RelativeTime.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('ErrorDecoration',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.model.on('validation:start validation:success',this.clearValidationErrors,this);},this);},clearValidationErrors:function(fields){fields=fields||_.toArray(this.fields);if(fields.length>0){_.defer(function(){_.each(fields,function(field){if(_.isFunction(field.clearErrorDecoration)&&field.disposed!==true){field.isErrorState=false;field.clearErrorDecoration();}});},fields);}
_.defer(()=>{if(this.disposed){return;}
this.$('.error').removeClass('error');this.$('.error-tooltip').remove();this.$('[data-toggle="tab"] .sicon-warning-circle').remove();});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ErrorDecoration.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ClickToEdit',['view','field'],{isView:false,isField:false,_viewCurrentIndex:-1,_viewCurrentCTEList:[],_fieldCanEdit:false,_fieldIsInEdit:false,_fieldErrorMessage:'',_fieldIsErrorState:false,isHiding:false,fieldTypeValidationMap:{datapoint:'currency'},onAttach:function(component,plugin){if(component instanceof app.view.Field){this.isField=true;this._fieldOnAttach(component);}else if(component instanceof app.view.View){this.isView=true;this._viewOnAttach(component);}},_viewOnAttach:function(component){this.once('init',function(){this.context.on('field:editable:click',this._viewHandleClickIndex,this);$(window).on('keydown.'+this.cid,_.bind(function(e){if(this.layout.isVisible()){this._viewHandleKeyDown(e);}},this));this.on('render',this._viewResetCTEList,this);},this);},_fieldOnAttach:function(component){this.events=_.extend(this.events,{'mouseenter div.clickToEdit':'_fieldShowClickToEdit','mouseleave div.clickToEdit':'_fieldHideClickToEdit','click div.clickToEdit':'_fieldHandleFieldClick'});this.once('init',_.bind(function(){if(this._fieldCheckIfCanEdit()){this._fieldBindPluginEvents();}
this.listenTo(this,'render',()=>{if(this.options.highlightChangedValues){this._highlightChanges();}});},this));},onDetach:function(component,plugin){if(this.isField){this._fieldOnDetach(component);}else if(this.isView){this._viewOnDetach(component);}},_viewOnDetach:function(component){this.context.off('field:editable:click');$(window).off('keydown.'+this.cid);},_fieldOnDetach:function(component){$(document).off('mousedown.record'+this.cid);},_viewHandleKeyDown:function(evt){if(evt.which===9){evt.preventDefault();var $elem=$(evt.target),isValid,field=this.fields[$(this._viewCurrentCTEList[this._viewCurrentIndex]).attr('sfuuid')],val;if(field&&field.type==='enum'){val=field.$(field.fieldTag).select2('val');}else{val=$elem.val();}
if(!evt.shiftKey){if(this._viewCurrentIndex!==-1&&this._viewCurrentIndex+1<this._viewCurrentCTEList.length){isValid=this._fieldDoValidate($elem,val);if(isValid){$elem.parents('.isEditable').removeClass('error');this._viewCurrentIndex++;}else{$elem.parents('.isEditable').addClass('error');}}else{this._viewCurrentIndex=0;}}else{if(this._viewCurrentIndex-1>=0){isValid=this._fieldDoValidate($elem,val);if(isValid){$elem.parents('.isEditable').removeClass('error');this._viewCurrentIndex--;}else{$elem.parents('.isEditable').addClass('error');}}else{this._viewCurrentIndex=this._viewCurrentCTEList.length-1;}}
this.$(this._viewCurrentCTEList[this._viewCurrentIndex]).find('div.clickToEdit').click();}},_viewResetCTEList:function(){var oldLength=this._viewCurrentCTEList.length;this._viewCurrentCTEList=this.$('.isEditable');if(oldLength>this._viewCurrentCTEList.length){this._viewCurrentIndex--;}},_viewHandleClickIndex:function(field){_.find(this._viewCurrentCTEList,function(el,idx,list){var $el=$(el);if(_.isEqual($el.find('div.clickToEdit').data('cid'),field.cid)){this._viewCurrentIndex=idx;return true;}},this);},_fieldBindPluginEvents:function(){this.context.on('field:editable:open',function(cid){if(this._fieldIsErrorState){this.context.trigger('field:editable:error',this.cid);}else{if(this._fieldIsInEdit&&this.cid!==cid){if(this.type==='enum'){this.$('select').select2('close');}
if(this.type!='date'){this.setMode('list');}}}},this);this.context.on('field:editable:error',function(cid){if(!_.isEqual(cid,this.cid)&&this.options.viewName==='edit'){this.setMode('list');}},this);this.on('render',function(){var cteClass='clickToEdit';let el=this.$el;if(this.cteTag){el=this.$el.find(this.cteTag);}
if(this.action==='edit'){cteClass+=' active';el.addClass('active');}else{el.removeClass('active');}
if(!el.hasClass('disabled')&&!this.disableCTE){el.addClass('isEditable');el.wrapInner('<div class="'+cteClass+'" data-cid="'+this.cid+'" />');}},this);if(this.context.parent){this.context.parent.on('change:selectedUser',function(){if(this._fieldIsErrorState){this.clearErrorDecoration();}},this);}},_fieldCheckIfCanEdit:function(){var isEnforced=(!_.isUndefined(this.def.enforced)&&this.def.enforced===true),isClickToEdit=(!_.isUndefined(this.def.click_to_edit)&&this.def.click_to_edit===true);if(!isEnforced&&isClickToEdit){var ctx=this.context.parent||this.context,selectedUser=ctx.get('selectedUser')||app.user.toJSON();this._fieldCanEdit=_.isEqual(app.user.get('id'),selectedUser.id);this._fieldCanEdit=(this._fieldCanEdit&&app.acl.hasAccess('write',this.module,app.user.get('id'),this.name));if(this._fieldCanEdit&&this.model.has('sales_stage')){var salesStage=this.model.get('sales_stage'),disableIfSalesStageIs=_.union(app.metadata.getModule('Forecasts','config').sales_stage_won,app.metadata.getModule('Forecasts','config').sales_stage_lost);if(salesStage&&_.indexOf(disableIfSalesStageIs,salesStage)!=-1){this._fieldCanEdit=false;}}}
return this._fieldCanEdit;},_fieldBindDomChange:function(){var $el=this.$(this.fieldTag);$el.on('change',_.bind(function(){var value=this._fieldDoValidate(this,$el.val());if(value!==false){if(this._fieldIsErrorState){this.clearErrorDecoration();}
this.model.set(this.name,this.unformat(value));}else{var hb=Handlebars.compile('{{str key module context}}'),args={field_name:app.lang.get(this.def.label,this.module)};this._fieldErrorMessage=hb({'key':'LBL_EDITABLE_INVALID','module':this.module,'context':args});this._fieldShowErrors();$el.select();}},this));},_fieldShowErrors:function(){if(this._fieldIsErrorState===false){var ftag=this.fieldTag||'';var $ftag=this.$(ftag);var $tooltip;this._fieldIsErrorState=true;var ctx=this.context.parent||this.context;ctx.trigger('field:error',this,true);this.$el.addClass('error');var isWrapped=$ftag.parent().hasClass('input-append');if(!isWrapped){$ftag.wrap('<div class="input-append '+ftag+'">');}
$ftag.parent().addClass('error');$tooltip=$(this.exclamationMarkTemplate([this._fieldErrorMessage]));$ftag.after($tooltip);this.$('input').addClass('local-error');}},_fieldShowClickToEdit:function(event){if(this._fieldCanEdit&&!this._fieldIsInEdit){let target=$(event.currentTarget);let icon='<span class="edit-icon"><i class="sicon sicon-sm sicon-edit"></i></span>';if(target.has('label.original').length){target=target.find('label.original').next();}
if(target.has('div.ellipsis_inline').length){target=target.find('div.ellipsis_inline');}
target.prepend(icon);}},_fieldHideClickToEdit:function(event){if(this._fieldCanEdit&&!this._fieldIsInEdit){$(event.currentTarget).find('span.edit-icon').remove();}},_fieldHandleFieldClick:function(evt){if(this._fieldCanEdit&&!this._fieldIsInEdit){this.context.trigger('field:editable:click',this);this.setMode('edit');if(_.isFunction(this.focus)){this.focus();}else{var $el=this.$(this.fieldTag+':first');$el.focus().val($el.val()).select();}
if(this.type!=='image'){if(_.isFunction(this.bindKeyDown)){this.bindKeyDown(_.bind(this._fieldOnKeyDown,this));}else{this.$(this.fieldTag).on('keydown.record'+this.cid,{field:this},_.bind(this._fieldOnKeyDown,this));}
$(document).on('mousedown.record'+this.cid,{field:this},_.bind(this._fieldMouseClicked,this));}
if(this.type==='enum'){this.model.once('change:'+this.name,function(){_.defer(_.bind(function(){this.setMode('list');},this));},this);}
if(this.type==='date'){this.$el.closest('td').addClass('td-inline-edit');}}},_fieldOnKeyDown:function(evt){this._fieldHandleKeyDown.call(this,evt,evt.data.field);},_fieldMouseClicked:_.debounce(function(evt){this._fieldClose.call(this,evt,evt.data.field);},0),_fieldClose:function(evt,field){var currFieldParent=field.$el,targetPlaceHolder=this.$(evt.target).parents('span[sfuuid="'+field.sfId+'"]'),preventPlaceholder=this.$(evt.target).closest('.prevent-mousedown');if(preventPlaceholder.length>0||targetPlaceHolder.length>0||currFieldParent.find(':focus').length>0||!_.isEmpty(app.drawer._components)){return;}
if(this._fieldIsErrorState){this.$(this.fieldTag).focus().select();return;}
this.setMode('list');},_fieldHandleKeyDown:function(evt,field){if(field.disposed){return;}
if(evt.which===27){this.setMode('list');}else if(evt.which===13){if(this._fieldValueChanged(field)){this.model.once('change:'+field.name,function(){this.setMode('list');},this);}else{this.setMode('list');}}},_fieldValueChanged:function(field){var elVal=field.$(field.fieldTag).val();if(field.type==='currency'||field.type==='int'){elVal=this._fieldParsePercentage(elVal,(field.type==='currency')?undefined:0);}
if(field.type==='currency'){var diff=Math.abs(this.unformat(elVal)-this.unformat(field.value));return((Math.round(diff*100))!=0)}else{if(field.type==='date'){if(_.isUndefined(elVal)){elVal=field.$('div').html();}
return!_.isEqual(this.unformat(elVal),this.unformat(field.value));}else{return!_.isEqual(this.unformat(elVal),this.unformat(field.value));}}},_fieldDoValidate:function(field,newValue){let fieldType=field.type||field.data('type');fieldType=this.fieldTypeValidationMap[fieldType]||fieldType;if(_.isUndefined(newValue)||_.isEmpty(newValue)){if(_.isUndefined(this.fieldTag)){return false;}
newValue=this.$(this.fieldTag).val();}
if(fieldType==='int'){newValue=this._fieldParsePercentage(newValue,0);if(this._fieldVerifyIntValue(newValue)){return newValue;}}else{if(fieldType==='currency'){newValue=this._fieldParsePercentage(newValue);if(this._fieldVerifyCurrencyValue(newValue)){return newValue;}}else{if(fieldType==='date'){var dateFormat=app.date.convertFormat(app.user.getPreference('datepref'));if(dateFormat){if(app.date(newValue,[dateFormat],true).isValid()){return newValue;}}else{if(app.date(newValue).isValid()){return newValue;}}}else{return newValue;}}}
return false;},_fieldVerifyCurrencyValue:function(value){value=value.toString().trim();var config=app.metadata.getConfig(),decSep=app.user.getPreference('decimal_separator')||config.defaultDecimalSeparator||'.',groupSep=app.user.getPreference('number_grouping_separator')||config.defaultNumberGroupingSeparator||',',currency=app.user.getPreference('currency_id')||app.currency.getBaseCurrencyId(),currency_symbol=app.currency.getCurrencySymbol(currency),regex=new RegExp('^('+this._fieldEscapeRegexChar(currency_symbol)+')?(([\\d]{1,3}(?:'
+this._fieldEscapeRegexChar(groupSep)+'?[\\d]{3})*)?((?:'
+this._fieldEscapeRegexChar(decSep)+'[\\d]+)))'),parts=value.match(regex),isValid=true;if(value.length===0||_.isNull(parts)||_.isEmpty(parts[0])||parts[0]!=value){isValid=false;}
return isValid;},_fieldEscapeRegexChar:function(character){var needs_escape=['.','\\','+','*','?','[','^',']','$','(',')','{','}','=','!','<','>','|',':','-'];if(_.indexOf(needs_escape,character)!=-1){character='\\'+character;}
return character;},_fieldVerifyIntValue:function(value){var regex=new RegExp('^\\d+$'),match=value.toString().match(regex);if(_.isNull(match)){return false;}
var defValidation=this.def.validation,isValid=true;if(defValidation&&defValidation.type==='range'&&!_.isUndefined(defValidation.min)&&!_.isUndefined(defValidation.max)&&(value<defValidation.min||value>defValidation.max)){isValid=false;}
return isValid;},_fieldParsePercentage:function(value,decimals){var orig=this.model.get(this.name),config=app.metadata.getConfig(),decSep=app.user.getPreference('decimal_separator')||config.defaultDecimalSeparator||'.',groupSep=app.user.getPreference('number_grouping_separator')||config.defaultNumberGroupingSeparator||',',regex=new RegExp('^([+-])(([\\d]{1,3}(?:'+this._fieldEscapeRegexChar(groupSep)
+'[\\d]{3})*|(?:[\\d]))*((?:'+this._fieldEscapeRegexChar(decSep)+'[\\d]+))?)(\\%)?'),parts=value.toString().match(regex),isPercent=(parts&&parts[5]==='%'),isAddition=(parts&&parts[1]==='+'),isSubtraction=(parts&&parts[1]==='-'),amount;if(parts&&parts[0]===value&&parts[2]!='0'){amount=this.unformat(parts[2]);if(isPercent){value=app.math.mul(app.math.div(amount,100),orig);}else{value=amount;}
if(isAddition){value=app.math.add(orig,value);}else{if(isSubtraction){value=app.math.sub(orig,value);}}
value=app.math.round(value,decimals);}
return this.format(value.toString());},handleHideDatePicker:function(){var $field=this.$(this.fieldTag),value=$field.val();if(this.isHiding){this.isHiding=false;return true;}
this.isHiding=true;if(_.isEmpty(value)){$field.val(this.format());return;}
value=this.unformat(value);if(!_.isEmpty(value)){this.model.set(this.name,value);this.setMode('list');return;}},bindDomChange:function(){if(this.isView){return this._super('bindDomChange');}
if(!(this.model instanceof Backbone.Model)){return;}
this._fieldBindDomChange();},clearErrorDecoration:function(){this._fieldIsErrorState=false;var ctx=this.context.parent||this.context;ctx.trigger('field:error',this,false);this._fieldErrorMessage='';},setMode:function(name){if(name==='list'){this.$(this.fieldTag).off('keydown.record'+this.cid);$(document).off('mousedown.record'+this.cid);if(this.type==='date'){$('.main-pane, .flex-list-view-content').off('scroll.'+this.cid);}}
if(this._fieldIsErrorState){this.clearErrorDecoration();}
app.view.Field.prototype.setMode.call(this,name);this._fieldIsInEdit=(this.action==='edit');if(this._fieldIsInEdit){this.context.trigger('field:editable:open',this.cid);}else{this.$el.removeClass('error');}
if(this.action!=='edit'&&this.type==='date'){this.$el.closest('td').removeClass('td-inline-edit');}},_highlightChanges:function(){let tableCell=this.$el.closest('td');if(this.action==='edit'){tableCell.removeClass('changed-value-highlight');}else{tableCell.toggleClass('changed-value-highlight',this._hasModelValueChanged());}},_hasModelValueChanged:function(){let currentValue=this.model.get(this.name);let syncedValue=this.model.getSynced()[this.name];if(this.type==='currency'){let diff=Math.abs(this.unformat(currentValue)-this.unformat(syncedValue));return Math.round(diff*100)!==0;}else if(this.type==='date'){return currentValue!==syncedValue;}else{return!_.isEqual(this.unformat(currentValue),this.unformat(syncedValue));}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ClickToEdit.js */

(function(app){app.events.on("app:init",function(){app.plugins.register("GridBuilder",["view"],{getGridBuilder:function(params){function Row(options){this.initialize(options);}
_.extend(Row.prototype,{initialize:function(options){this.cells=[];this.span=0;this.maxSpan=options.maxSpan||12;this.maxCells=options.maxCells||1;},addCell:function(field,tabIndex){if(!_.isEmpty(tabIndex)){field.index=tabIndex;}
this.cells.push(field);this.span+=field.cellSpan;},hasMoreRoom:function(cellSpan){if(this.cells.length==this.maxCells||(this.span+cellSpan)>this.maxSpan){return false;}
return true;}});function GridBuilder(options){this.initialize(options);}
_.extend(GridBuilder.prototype,{initialize:function(options){options=options||{};options.fields=options.fields||{};this.grid=[];this.fields=app.utils.deepCopy(options.fields);this.maxRowSpan=12;this.maxColumns=options.columns||1;this.tabIndex=options.tabIndex||0;},build:function(){var grid=[];_.each(this.grid,function(row,index){grid[index]=[];_.each(row.cells,function(cell){grid[index].push(cell);},this);},this);this.grid=grid;return this._getGrid();},addRow:function(){var row=new Row({maxSpan:this.maxRowSpan,maxCells:this.maxColumns});this.grid.push(row);return row;},addField:function(field){var currentRow;if(this.grid.length<1){currentRow=this.addRow();}else{currentRow=this.grid[this.grid.length-1];}
if(!currentRow.hasMoreRoom(field.cellSpan)){currentRow=this.addRow();}
currentRow.addCell(field,++this.tabIndex);},_getGrid:function(){return{grid:this.grid,lastTabIndex:this.tabIndex};},_calculateFieldSpan:function(field){if(_.isUndefined(field.span)){field.span=Math.floor(this.maxRowSpan / this.maxColumns);}
if(field.span<1){field.span=1;}
if(field.span>this.maxRowSpan){field.span=this.maxRowSpan;}
field.cellSpan=field.span;}});var LabelsInlineGridBuilder=function(options){this.initialize(options);}
app.utils.extendFrom(LabelsInlineGridBuilder,GridBuilder,{build:function(){var ratioControl=this.maxColumns>2?8:4;_.each(this.fields,function(field){this._calculateFieldSpan(field);if(_.isUndefined(field.labelSpan)){field.labelSpan=Math.floor(ratioControl / this.maxColumns);}
if(field.labelSpan<1){field.labelSpan=1;}
if(_.isUndefined(field.dismiss_label)){field.dismiss_label=false;}
if(field.dismiss_label!==true){field.span-=field.labelSpan;if(field.span<1){field.span=1;}}
this.addField(field);},this);return GridBuilder.prototype.build.call(this);}});var LabelsOnTopGridBuilder=function(options){this.initialize(options);}
app.utils.extendFrom(LabelsOnTopGridBuilder,GridBuilder,{build:function(){_.each(this.fields,function(field){this._calculateFieldSpan(field);if(_.isUndefined(field.labelSpan)){field.labelSpan=field.span}
if(_.isUndefined(field.dismiss_label)){field.dismiss_label=false;}
this.addField(field);},this);return GridBuilder.prototype.build.call(this);}});var options={fields:params.fields,columns:params.columns,tabIndex:params.tabIndex};if(params.labelsOnTop===false&&params.labels){return new LabelsInlineGridBuilder(options);}else{return new LabelsOnTopGridBuilder(options);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/GridBuilder.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('ListDisableSort',['view'],{onAttach:function(component,plugin){component._createCatalog=_.wrap(component._createCatalog,function(func,fields){_.each(fields,function(field){field.sortable=false;});return func.call(component,fields);});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListDisableSort.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Editable',['view'],{onAttach:function(component,plugin){this.editableKeyDowned=_.bind(function(evt){this.editableHandleKeyDown.call(this,evt,evt.data.field);},this);this.editableMouseClicked=_.bind(function(evt){this.editableHandleMouseDown.call(this,evt,evt.data.field);},this);this.on('init',function(){app.routing.before('route',this.beforeRouteChange,this);$(window).on('beforeunload.'+this.cid,_.bind(this.warnUnsavedChangesOnRefresh,this));this.before('unsavedchange',this.beforeViewChange,this);if(app.sideDrawer&&app.sideDrawer.before){app.sideDrawer.before('side-drawer:close side-drawer:content-changed',this.beforeContainerChange,this);}
var omniDashboard=this.closestComponent('omnichannel-dashboard');if(omniDashboard){omniDashboard.before('omni-dashboard:close omni-dashboard:content-changed',this.beforeContainerChange,this);}
if(_.isEmpty(app.additionalComponents['drawer'])){return;}
app.events.on('editable:beforehandlers:off',this.unbindBeforeHandler,this);this._currentUrl=Backbone.history.getFragment();});},beforeRouteChange:function(params){if(this.closestComponent('omnichannel-dashboard')){return true;}
var onConfirm=_.bind(this.onConfirmRoute,this);return this.warnUnsavedChanges(onConfirm);},beforeViewChange:function(param){if(!(param&&_.isFunction(param.callback))){app.logger.error('Custom unsavedchange must contain callback function.');return true;}
var onConfirm=_.bind(function(){app.events.trigger('editable:beforehandlers:off');if(param.callback&&_.isFunction(param.callback)){param.callback.call(this);}},this);return this.warnUnsavedChanges(onConfirm,param.message);},beforeContainerChange:function(params){var callback=params.callback;var message=params.message||'LBL_ONE_OR_MORE_UNSAVED_CHANGES';return this.beforeViewChange({callback:callback,message:message});},warnUnsavedChanges:function(onConfirm,customMessage,onCancel){if(this.resavingAfterMetadataSync){return false;}
if(this.disposed){return true;}
this.$(':focus').trigger('change');if(_.isFunction(this.hasUnsavedChanges)&&this.hasUnsavedChanges()){this._targetUrl=Backbone.history.getFragment();app.router.navigate(this._currentUrl,{trigger:false,replace:true});app.alert.show('leave_confirmation',{level:'confirmation',messages:app.lang.get(customMessage||'LBL_WARN_UNSAVED_CHANGES',this.module),onConfirm:onConfirm,onCancel:onCancel||$.noop});return false;}
return true;},warnUnsavedChangesOnRefresh:function(){if(this.resavingAfterMetadataSync){return false;}
if(_.isFunction(this.hasUnsavedChanges)&&this.hasUnsavedChanges()){return app.lang.get('LBL_WARN_UNSAVED_CHANGES',this.module);}},onConfirmRoute:function(){app.events.trigger('editable:beforehandlers:off');if(this._currentUrl===this._targetUrl){app.router.refresh();}else{app.router.navigate(this._targetUrl,{trigger:true});}},toggleFields:function(fields,isEdit,callback){if(!_.isArray(fields)){return;}
var viewName=!!isEdit?'edit':this._getViewAction();var numOfToggledFields=fields.length;var view=this;_.each(fields,function(field){if(field.disposed){return;}
if(field.action===viewName){field.$el.closest('.record-cell').toggleClass('edit',(viewName==='edit'));numOfToggledFields--;return;}
var meta=field.def;var viewDefs=field.viewDefs||{};if(meta&&viewDefs&&isEdit&&app.utils.isFieldAlwaysReadOnly(meta,viewDefs)){numOfToggledFields--;return;}
_.defer(function(field){if(field.disposed!==true){field.setMode(viewName);field.$el.closest('.record-cell').toggleClass('edit',(viewName==='edit'));numOfToggledFields--;if(numOfToggledFields===0){if(_.isFunction(callback)){callback();}
view.trigger('editable:toggle_fields',fields,viewName);}}},field);this.turnOffFieldEvents(field);},this);},turnOffFieldEvents:function(field){if(_.isFunction(field.unbindKeyDown)){field.unbindKeyDown(this.editableKeyDowned);}else{field.$(field.fieldTag).off('keydown.record',this.editableKeyDowned);}
$(document).off('mousedown.record'+field.name,this.editableMouseClicked);},turnOffEvents:function(fields){_.each(fields,function(field){this.turnOffFieldEvents(field);},this);},toggleField:function(field,isEdit,noFocus){var viewName;if(_.isUndefined(isEdit)){if(_.contains([this.action,this.viewAction,'erased'],field.tplName)){viewName='edit';}else{viewName=this._getViewAction();}}else{viewName=!!isEdit?'edit':this._getViewAction();}
if(!field.triggerBefore('toggleField',viewName)){return false;}
if(field.hasChanged()&&viewName==='detail'){return;}
field.setMode(viewName);if(viewName==='edit'&&!noFocus){if(_.isFunction(field.focus)){field.focus();}else{var $el=field.$(field.fieldTag+':first');$el.focus().val($el.val());}
if(_.isFunction(field.bindKeyDown)){field.bindKeyDown(this.editableKeyDowned);}else{field.$(field.fieldTag).on('keydown.record',{field:field},this.editableKeyDowned);}
if(_.isFunction(field.bindDocumentMouseDown)){field.bindDocumentMouseDown(this.editableMouseClicked);}else{$(document).on('mousedown.record'+field.name,{field:field},this.editableMouseClicked);}
field.$el.closest('.record-cell').toggleClass('edit',true);}else{if(_.isFunction(field.unbindKeyDown)){field.unbindKeyDown();}else{field.$(field.fieldTag).off('keydown.record');}
$(document).off('mousedown.record'+field.name);field.$el.closest('.record-cell').toggleClass('edit',false);}
field.trigger('editable:toggle-field',viewName);},nextField:function(field,direction){if(!field){return;}
field.$(field.fieldTag).trigger('change');direction=_.contains(['nextField','prevField'],direction)?direction:'nextField';var nextField=field[direction];if(!nextField){return;}
if(_.isFunction(this.toggleMoreLess)&&nextField.$el.closest('.panel_hidden').hasClass('hide')){this.toggleMoreLess('more');}
this.toggleField(field,false);while(nextField.isDisabled()){if(nextField[direction]){nextField=nextField[direction];}else{break;}}
if(!nextField.isDisabled()){this.toggleField(nextField,true);}},getEditableFields:function(fields,noEditFields){var editableFields=[];_.each(fields,function(field){var readonlyField=this._isReadOnly(field,noEditFields);if(!readonlyField){editableFields.push(field);}},this);this._formDoublyLinkedList(editableFields);return editableFields;},_formDoublyLinkedList:function(fields){if(fields.length<=1){return;}
var firstField;var previousField;_.each(fields,function(field){if(previousField){previousField.nextField=field;field.prevField=previousField;}else{firstField=field;}
previousField=field;});if(previousField){previousField.nextField=firstField;firstField.prevField=previousField;}},_isReadOnly:function(field,noEditFields){var isLocked=_.contains(this.model.get('locked_fields'),field.def.name);if((app.utils.isFieldAlwaysReadOnly(field.def,field.viewDefs))||(field.def.type!=='fieldset'&&isLocked)||_.indexOf(noEditFields,field.name)>=0){return true;}
return false;},_getViewAction:function(){return!_.isEmpty(this.viewAction)?this.viewAction:this.action;},editableHandleMouseDown:function(evt,field){if(field.tplName===this._getViewAction()){return;}
var currFieldParent=field.$el,targetPlaceHolder=this.$(evt.target).parents("span[sfuuid='"+field.sfId+"']"),preventPlaceholder=this.$(evt.target).closest('.prevent-mousedown');if(!currFieldParent){return;}
var inPreventPlaceholder=(preventPlaceholder.length>0);var inTargetPlaceholder=(targetPlaceHolder.length>0);var isFocusInField=(currFieldParent.find(':focus').length>0);var drawerOpened=!_.isEmpty(app.drawer._components);if(inPreventPlaceholder||inTargetPlaceholder||isFocusInField||drawerOpened){return;}
this.toggleField(field,false);this.trigger('editable:mousedown',evt,field);},editableHandleKeyDown:function(evt,field){if(evt.which==27){this.toggleField(field,false);}
this.trigger('editable:keydown',evt,field);},unbindBeforeHandler:function(){app.routing.offBefore('route',this.beforeRouteChange,this);$(window).off('beforeunload.'+this.cid);if(app.sideDrawer&&app.sideDrawer.offBefore){app.sideDrawer.offBefore('side-drawer:close side-drawer:content-changed',this.beforeContainerChange,this);}
var omniDashboard=this.closestComponent('omnichannel-dashboard');if(omniDashboard){omniDashboard.offBefore('omni-dashboard:close omni-dashboard:content-changed',this.beforeContainerChange,this);}
if(_.isEmpty(app.additionalComponents['drawer'])){return;}
app.drawer.offBefore('reset',this.beforeRouteChange,this);this.offBefore('unsavedchange');},onDetach:function(){$(document).off('mousedown',this.editableMouseClicked);this.editableKeyDowned=null;this.editableMouseClicked=null;app.events.off('editable:beforehandlers:off',null,this);this.unbindBeforeHandler();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Editable.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ListEditable',['field'],{_loadTemplate:function(){Object.getPrototypeOf(this)._loadTemplate.call(this);if(this.view.action==='list'&&_.contains(['edit','disabled'],this.tplName)){var tplName='list-'+this.tplName;this.template=app.template.getField(this.type,tplName,this.module,this.tplName)||app.template.empty;this.tplName=tplName;}}});})})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListEditable.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FilterSharing',['layout','view'],{predefinedFilters:null,isDashboard:function(){return this.name==='dashboard'||(this.type==='record'&&this.module==='Dashboards');},isFilteredListViewDashlet:function(dashlet){return dashlet.view&&dashlet.view.type==='dashablelist'&&dashlet.view.filter_id&&this.isCustomFilter(dashlet.view.filter_id);},getMetadataFilterIds:function(){var allFilters=_.flatten(_.compact(_.map(app.metadata.getModules(),function(module){return module.filters&&module.filters.basic&&module.filters.basic.meta&&module.filters.basic.meta.filters;})));this.predefinedFilters=_.unique(_.pluck(allFilters,'id'));return this.predefinedFilters;},isCustomFilter:function(filterId){var filters=this.predefinedFilters?this.predefinedFilters:this.getMetadataFilterIds();return!_.contains(filters,filterId);},getListViewFilterIds:function(){var ids=[];var metadata=this.model.get('metadata');if(metadata&&metadata.components){_.each(metadata.components,function(section){_.each(section.rows,function(row){_.each(row,function(dashlet){if(this.isFilteredListViewDashlet(dashlet)){ids.push(dashlet.view.filter_id);}},this);},this);},this);}
return ids;},getPrivateFilter:function(filterData){var filterModel=app.data.createBean('Filters',filterData);var filterTeams=filterModel.get('team_name');var globalTeam=_.findWhere(filterTeams,{id:'1'});filterModel.set('team_name',_.without(filterTeams,globalTeam));return filterModel;},updateListViewFilters:function(filterUsersData,filter){var filterModel=this.getPrivateFilter(filter);var isFilterTeamsUpdated=this.updateFilterTeams(filterModel,filterUsersData.dashboardTeams);if(isFilterTeamsUpdated){filterModel.save();}},updateFilterTeams:function(filterModel,dashboardTeams){var filterTeams=filterModel.get('team_name');var hasNewFilterTeam=_.some(filterTeams,function(team){return!_.findWhere(dashboardTeams,{id:team.id});});var hasNewDashboardTeam=_.some(dashboardTeams,function(team){return!_.findWhere(filterTeams,{id:team.id});});var isFilterTeamsChanged=hasNewDashboardTeam||hasNewFilterTeam;if(isFilterTeamsChanged){filterModel.set('team_name',dashboardTeams);}
return isFilterTeamsChanged;},triggerListviewFilterUpdate:function(){if(this.isDashboard()){var filterIds=this.getListViewFilterIds();var dashboardTeams=this.model.get('team_name');var assignedUserId=this.model.get('assigned_user_id');_.each(filterIds,function(filterId){var url=app.api.buildURL('Filters/'+filterId,null,null);var filterUsersData={assignedUserId:assignedUserId,dashboardTeams:dashboardTeams};app.api.call('GET',url,null,{success:_.bind(this.updateListViewFilters,this,filterUsersData),error:function(){app.logger.error('Filter can not be read, thus is not shared. Filter id: '+filterId);}});},this);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FilterSharing.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ExternalApp',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.addExternalAppFieldsToContext();},this);},addExternalAppFieldsToContext:function(){var fieldsToAdd=[];if(this.meta&&this.meta.panels){_.each(this.meta.panels,function(panel){var fields=panel.fields;_.each(fields,function(field){if(field.type==='external-app-field'&&_.isArray(field.loadField)){fieldsToAdd=fieldsToAdd.concat(field.loadField);}});});}
this.context.addFields(fieldsToAdd);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ExternalApp.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ListRemoveLinks',['view'],{onAttach:function(component,plugin){var removeLinks=function(){component.$('a:not(.rowaction, .dropdown-toggle, .dropdown-menu *)').contents().unwrap();};component.on('render',removeLinks,null,component);app.events.on('list:preview:decorate',removeLinks,this);},onDetach:function(){app.events.off('list:preview:decorate',null,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListRemoveLinks.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('File',['field'],{bindKeyDown:function(){},bindDocumentMouseDown:function(){}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/File.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FieldDuplicate',['field'],{_duplicateBeanId:null,_duplicateBeanModule:null,duplicateFromModel:function(id,module){this._duplicateBeanId=id;this._duplicateBeanModule=module;},_onFieldDuplicate:function(model){var id=null,module=null;if(model instanceof Backbone.Model){id=model.get('id');module=model.module;}
this.duplicateFromModel((this.model&&this.model.get('id')===id)?null:id,(this.module&&this.module===module)?null:module);if(_.isFunction(this.onFieldDuplicate)){this.onFieldDuplicate.call(this,model);}},_beforeFieldDuplicate:function(params){if(_.isFunction(this.beforeFieldDuplicate)){return this.beforeFieldDuplicate.call(this,params);}
return true;},_formatFieldForDuplicate:function(){if(!this.disposed&&_.isFunction(this.formatFieldForDuplicate)){this.formatFieldForDuplicate.call(this);this.render();}},_unformatFieldForDuplicate:function(){if(_.isFunction(this.unformatFieldForDuplicate)){this.unformatFieldForDuplicate.call(this);}},onAttach:function(component,plugin){this.on('init',function(){if(this.model){this.model.on('change:'+this.name,function(){this._onFieldDuplicate();},this);this.model.on('duplicate:field',this._onFieldDuplicate,this);this.model.on('duplicate:field:'+this.name,this._onFieldDuplicate,this);this.model.on('data:sync:start',function(method,options){if(!_.isNull(this._duplicateBeanId)&&(method=='update'||method=='create')){options.params=options.params||{};options.params[this.name+'_duplicateBeanId']=this._duplicateBeanId;}},this);this.model.on('duplicate:field:prepare:save',function(model){if(this.model.get(this.name)){model[this.name+'_duplicateBeanId']=this._duplicateBeanId;}},this);this.model.on('duplicate:format:field',this._formatFieldForDuplicate,this);this.model.on('duplicate:unformat:field',this._unformatFieldForDuplicate,this);}
if(this.view){this.view.before('duplicate:field',this._beforeFieldDuplicate,this);}});},onDetach:function(component,plugin){if(this.view){this.view.offBefore('duplicate:field');}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FieldDuplicate.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('LinkedModel',['view','field'],{createLinkModel:function(parentModel,link){if(this.context&&this.context.parent&&this.context.parent.isCreate()){return app.data.createBean(app.data.getRelatedModule(parentModel.module,link));}
var model=app.data.createRelatedBean(parentModel,null,link),relatedFields=app.data.getRelateFields(parentModel.module,link),parentModule=app.metadata.getModule(parentModel.module);if(parentModule&&parentModule.fields[link]&&parentModule.fields[link].populate_list){model.relatedAttributes=model.relatedAttributes||{};this._parsePopulateList(parentModule.fields[link].populate_list,parentModel,model);}
if(!_.isEmpty(relatedFields)){model.relatedAttributes=model.relatedAttributes||{};_.each(relatedFields,function(field){var attrs={};var parentValue=parentModel.get(field.rname);if(!parentValue&&parentModel.fields[field.rname]&&parentModel.fields[field.rname].type=='fullname'){parentValue=parentModel.get('full_name')||app.utils.formatNameLocale(parentModel.attributes);}
attrs[field.name]=parentValue;attrs[field.id_name]=parentModel.get('id');if(field.link){attrs[field.link]=parentModel.toJSON();}
model.set(attrs);model.relatedAttributes[field.name]=parentModel.get(field.rname);model.relatedAttributes[field.id_name]=parentModel.get('id');if(field.populate_list){this._parsePopulateList(field.populate_list,parentModel,model);}},this);}
this.populateParentFields(model,parentModel);return model;},_parsePopulateList:function(populate_list,parentModel,model){_.each(populate_list,function(target,source){source=_.isNumber(source)?target:source;if(!_.isUndefined(parentModel.get(source))&&app.acl.hasAccessToModel('edit',model,target)){model.set(target,parentModel.get(source));model.relatedAttributes[target]=parentModel.get(source);}},this);},createRelatedRecord:function(module,link){var bwcExceptions=['Emails'],moduleMeta=app.metadata.getModule(module);if(moduleMeta&&moduleMeta.isBwcEnabled&&!_.contains(bwcExceptions,module)){this.routeToBwcCreate(module);}else{this.openCreateDrawer(module,link);}},routeToBwcCreate:function(module){var proto=Object.getPrototypeOf(this);if(_.isFunction(proto.routeToBwcCreate)){return proto.routeToBwcCreate.call(this,module);}
var parentModel=this.context.parent.get('model'),link=this.context.get('link');app.bwc.createRelatedRecord(module,parentModel,link);},openCreateDrawer:function(module,link){var proto=Object.getPrototypeOf(this);if(_.isFunction(proto.openCreateDrawer)){return proto.openCreateDrawer.call(this,module,link);}
link=link||this.context.get('link');var context=(this.context.get('name')==='tabbed-dashlet')?this.context:(this.context.parent||this.context);var parentModel=context.get('model')||context.parent.get('model'),model=this.createLinkModel(parentModel,link),self=this;app.drawer.open({layout:'create',context:{create:true,module:model.module,model:model}},function(context,model){if(!model){return;}
let slCtx=self.closestComponent('main-pane').getComponent('record')._slCtx;if(slCtx){slCtx.updateRelatedCollectionValues(parentModel,link,null,null,model,'add');}
self.trigger('linked-model:create',model);});},populateParentFields:function(model,parentModel){var parentModule=parentModel.module||parentModel.get("module")||parentModel.get("_module");_.each(model.fields,function(def){if(def.type&&def.type==='parent'){if(app.lang.getAppListStrings(def.options)[parentModule]){var attributes={};attributes[def.type_name]=parentModule;if(parentModel.get('id')){attributes[def.id_name]=parentModel.get('id');attributes[def.name]=app.utils.getRecordName(parentModel);attributes.parent=parentModel.toJSON();}
model.set(attributes);}}});if(parentModule=="Contacts"&&parentModel.get("account_id")&&model.get("contact_id")){model.set({parent_type:"Accounts",parent_id:parentModel.get("account_id"),parent_name:parentModel.get('account_name')});}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/LinkedModel.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ToggleVisibility','view',{events:{'click [data-action=visibility-switcher]':'visibilitySwitcher'},visibilityKey:'visibility',defaultVisibility:'user',onAttach:function(){this.on('init',function(){if(!this.meta.last_state){this.meta.last_state={id:this.dashModel.get('id')+':'+this.name,defaults:{}};}
this._initVisibility();});},_initVisibility:function(){var config=app.metadata.getView(this.module,this.name),visibilityField=_.chain(config.panels).map(function(obj){return obj.fields;}).flatten().findWhere({name:this.visibilityKey}).value();if(!visibilityField){return;}
if(_.contains(this.plugins,'Dashlet')){this.settings.on('change:'+this.visibilityKey,function(model,value){this._setVisibilityLastState(value);},this);this.settings.set(this.visibilityKey,this.getVisibility());}else{if(!this.hasVisibility()){this.setVisibility(this.getVisibility());}}},_setVisibilityLastState:function(visibility){if(!this.meta.last_state.defaults[this.visibilityKey]){this.meta.last_state.defaults[this.visibilityKey]=visibility;}
app.user.lastState.register(this);var specificVisibilityKey=app.user.lastState.key(this.visibilityKey,this);app.user.lastState.set(specificVisibilityKey,visibility);},visibilitySwitcher:function(event){var proto=Object.getPrototypeOf(this),visibility=this.$(event.currentTarget).val();if(visibility===this.getVisibility()){return;}
this.setVisibility(visibility);if(_.isFunction(proto.visibilitySwitcher)){proto.visibilitySwitcher.call(this,event);}
this.loadData();},getVisibility:function(){var visibility=app.user.lastState.get(app.user.lastState.key(this.visibilityKey,this),this);if(!visibility&&this.settings){visibility=this.settings.get(this.visibilityKey);}
return visibility||this.defaultVisibility;},setVisibility:function(visibility){if(_.contains(this.plugins,'Dashlet')){this.settings.set(this.visibilityKey,visibility);}else{this._setVisibilityLastState(visibility);}},hasVisibility:function(){var visibility=app.user.lastState.get(app.user.lastState.key(this.visibilityKey,this),this);if(!visibility&&this.settings){visibility=this.settings.has(this.visibilityKey);}
return!!visibility;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ToggleVisibility.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Pagination',['view'],{onAttach:function(component,plugin){var origBDC=component.bindDataChange;this.bindDataChange=function(){if(origBDC){origBDC.call(this);}
if(this.collection){this.collection.off('reset',this.render,this);this.collection.on('reset',function(collection,options){if(options&&_.isEmpty(options.previousModels)&&this.$('tbody > tr').length===0&&this.$('thead > tr').length>0){this._renderRows(collection,collection.models);}else{this.render();}
if(_.includes(['recordlist','selection-list','multi-selection-list-link'],this.type)){this.$('.flex-list-view-content .no-data-available').toggleClass('hidden',!!collection.models.length);}},this);}};this.on('init',function(){this.rowTemplate=app.template.getView(this.name+'.row',this.module)||app.template.getView(this.name+'.row')||this.rowTemplate;if(!_.contains(this.plugins,'Dashlet')||this.meta.config){return;}
if(this.layout&&!this.hidePagination){this.layout.on('init',this._initPaginationBottom,this);}},this);this.on('render',function(){this.$tableBody=this.$(this.tbodyTag||'tbody');},this);},_initPaginationBottom:function(){if(!this.layout){return;}
var pageComponent=this.layout.getComponent('list-bottom');if(pageComponent){return;}
if(this.context&&this.context.get('isUsingListPagination')){var panelTopFields=app.view.createView({context:this.context,type:'panel-top',meta:{template:'panel-top.fields'},primary:false,module:this.module,layout:this.layout,});this.layout.addComponent(panelTopFields);var listPaginationView=app.view.createView({context:this.context,type:'list-pagination',module:this.module,layout:this.layout,className:'list-pagination-wrapper',});this.layout.addComponent(listPaginationView);}else{pageComponent=app.view.createView({context:this.context,type:'list-bottom',meta:{template:'list-bottom.dashlet-bottom'},module:this.module,primary:false,layout:this.layout,hideFirstPaginationLoadingMessage:this.hideFirstPaginationLoadingMessage,usePaginationComponent:this.usePaginationComponent,});this.layout.addComponent(pageComponent);}},getNextPagination:function(options){var beanCollection;if(_.isFunction(this.getPaginationCollection)){beanCollection=this.getPaginationCollection();}
beanCollection=beanCollection||this.collection;if(!beanCollection.dataFetched){return;}
options=options||{};var originalOptions=_.extend({},this.collection.options,options);var defaultOnSuccess=options.success;options.success=null;if(_.isFunction(this.getPaginationOptions)){options=_.extend({},options,this.getPaginationOptions()||{});}
options.add=true;var origOnSuccess=options.success;options.success=_.bind(function(collection,data){if(_.isFunction(defaultOnSuccess)){defaultOnSuccess(collection,data);}
if(_.isFunction(origOnSuccess)){origOnSuccess(collection,data);}
if(this.disposed){return;}
this._renderRows(collection,data);},this);if(this.limit){options.limit=this.limit;}
var _complete=options.complete;options.complete=_.bind(function(xhr,status){if(_.isFunction(_complete)){_complete.call(this,xhr,status);}
this.collection.options=originalOptions;},this);beanCollection.paginate(options);},_renderRow:function(model){this.rowModel=model;var $row=$(this.rowTemplate(this)),self=this;this.$tableBody.append($row);$row.find('span[sfuuid]').each(function(){var $this=$(this),sfId=$this.attr('sfuuid');if(self.fields[sfId]){self.fields[sfId].setElement($this);self.fields[sfId].render();}});return $row;},_renderRows:function(collection,data){if(this.module!==collection.module){this.rowTemplate=app.template.getView(this.name+'.row',collection.module)||this.rowTemplate;}
if(_.isEmpty(this.$tableBody)||!this.rowTemplate){app.logger.warn('Create a row.hbs template to avoid a full render.');this.render();return;}
if(!this.triggerBefore('render:rows',data)){return;}
_.each(data,function(model){this._renderRow(this.collection.get(model.id));},this);this.trigger('render:rows');}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Pagination.js */

(function(app){app.events.on('app:init',function(){var getShortcutList=function(layout){return layout.options.meta.shortcuts||layout.shortcuts;};app.plugins.register('ShortcutSession',['layout'],{onAttach:function(){var shortcutList=getShortcutList(this);if(!_.isEmpty(shortcutList)){app.shortcuts.createSession(shortcutList,this);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ShortcutSession.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CanvasDataRenderer',['view'],{_scriptPath:'include/javascript/phaser/phaser-sugar.min.js',_scriptReady:false,_scriptEmbedded:false,_pageReady:false,_scriptData:undefined,onAttach:function(component,plugin){this.on('init',function(){if(window.Phaser){this._scriptEmbedded=true;this._scriptReady=true;this.context.trigger('phaserio:ready');return;}
$.ajax({type:'GET',url:this._scriptPath,dataType:'script',error:function(XMLHttpRequest,textStatus,errorThrown){console.log('[CanvasDataRenderer] Error loading file: ',errorThrown);},success:_.bind(function(data){this._scriptReady=true;this._scriptData=data;if(this._pageReady&&!this._scriptEmbedded){this.embedScript();}},this)});},null,component);this.on('render',function(){this._pageReady=true;if(this._scriptReady&&!this._scriptEmbedded){this.embedScript();}},null,component);},embedScript:function(){this._scriptEmbedded=true;if(!this.disposed){if(!window.Phaser){this.$el.prepend('<script type="text/javascript">'+this._scriptData+'</script>');}
this.context.trigger('phaserio:ready');}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CanvasDataRenderer.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('JSTree',['view','field'],{jsTree:null,jsTreeSettings:null,jsTreeCallbacks:null,jsTreeOptions:null,$noData:null,$treeContainer:null,onAttach:function(component,plugin){this.on('init',function(){app.events.on('app:nestedset:sync:complete',this.onNestedSetSyncComplete,this);app.error.errorName2Keys['empty_node_name']='ERR_EMPTY_NODE_NAME';});},onDetach:function(component){if(!_.isEmpty(this.$treeContainer)){_.each(this.$treeContainer.find('input'),_.bind(function(input){this._disableTooltip($(input));},this));}
if(!_.isEmpty(this.jsTree)){this.jsTree.off();}
app.events.off('app:nestedset:sync:complete',this.onNestedSetSyncComplete,this);},onNestedSetSyncComplete:function(collection){if(_.isFunction(Object.getPrototypeOf(this).onNestedSetSyncComplete)){Object.getPrototypeOf(this).onNestedSetSyncComplete.call(this,collection);return;}
if(this.disposed||_.isUndefined(this.collection)||this.collection.root!==collection.root){return;}
if(this.collection!==collection){this.render();}},_renderTree:function($container,settings,callbacks){this.jsTreeSettings=settings.settings||{};this.jsTreeOptions=settings.options||{};this.jsTreeCallbacks=callbacks||{};this.$noData=$('<div />',{'data-type':'jstree-no-data',class:'block-footer'}).html(app.lang.get('LBL_NO_DATA_AVAILABLE',this.module));this.$treeContainer=$('<div />','');this.dataProvider=this.jsTreeSettings.module_root||null;this.root=this.jsTreeSettings.category_root||null;if(!this.dataProvider||!this.root){return;}
$container.empty();$container.append(this.$noData).append(this.$treeContainer);this._toggleVisibility(true);this.collection.module=this.dataProvider;this.collection.root=this.root;this.collection.tree({success:_.bind(function(data){this.createTree(data.jsonTree,this.$treeContainer,this.loadPluginsList());},this),error:_.bind(function(collection,error){this._alertError(error,_.bind(function(){this.createTree([],this.$treeContainer,this.loadPluginsList());},this));},this)});},_toggleVisibility:function(hide){if(hide===true){this.$treeContainer.hide();this.$noData.show();}else{this.$treeContainer.show();this.$noData.hide();}},loadPluginsList:function(){return _.union(['json_data','ui','crrm','types','themes','search'],!_.isUndefined(this.jsTreeSettings.plugins)?this.jsTreeSettings.plugins:[]);},createTree:function(data,$container,plugins){this._toggleVisibility(data.length===0);if(!_.isArray(data)){data=[data];}
var treeData=data,fn=function(el){if(!_.isEmpty(el.children)){_.each(el.children.records,fn);el.children=el.children.records;}
el.data=el.name;el.metadata={id:el.id};el.attr={'data-id':el.id,'data-level':el.lvl,'id':el.id};},jsTreeOptions={settings:this.jsTreeSettings,plugins:_.isEmpty(plugins)?this.loadPluginsList():plugins,json_data:{'data':treeData},contextmenu:{items:this._loadContextMenu(this.jsTreeSettings),show_at_node:false},search:{case_insensitive:true},core:{strings:{new_node:app.lang.get('LBL_DEFAULT_TITLE','Categories')}}};jsTreeOptions=_.extend({},jsTreeOptions,this.jsTreeOptions);treeData.ctx=this.context;_.each(treeData,fn);this.jsTree=$container.jstree(jsTreeOptions).on('loaded.jstree',_.bind(function(){this._loadedHandler($container);},this)).on('select_node.jstree',_.bind(this._selectNodeHandler,this)).on('create.jstree',_.bind(this._createHandler,this)).on('show_input.jstree',_.bind(this._showInputHandler,this)).on('move_node.jstree',_.bind(this._moveHandler,this)).on('remove.jstree',_.bind(this._removeHandler,this)).on('rename_node.jstree',_.bind(this._renameNodeHandler,this)).on('rename.jstree',_.bind(this._renameHandler,this)).on('load_state.jstree',_.bind(this._loadedStateHandler,this)).on('search.jstree',_.bind(this._searchHandler,this));},_moveHandler:function(event,data){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(!_.isUndefined(data.rslt.o)&&!_.isUndefined(data.rslt.r)){this.moveNode(data.rslt.o.data('id'),data.rslt.r.data('id'),data.rslt.p,function(obj,response){var levelDelta=parseInt(obj.lvl)-parseInt($(data.rslt.o).data('level'));$(data.rslt.o).attr('data-level',obj.lvl);$(data.rslt.o).data('level',obj.lvl);_.each($(data.rslt.o).find('li'),function(item){var currentLevel=parseInt($(item).attr('data-level'));$(item).attr('data-level',currentLevel+levelDelta);$(item).data('level',currentLevel+levelDelta);});});}}},_loadedStateHandler:function(event,data){if(this.jsTreeCallbacks.onLoadState){_.each(data.rslt,function(val,ind){_.each(val,function(v,i){var id=v,selectedNode,node=this.jsTree.find('[data-id='+id+']');if(node.length===0){return;}
selectedNode={id:id,name:node.find('a:first').text().trim(),type:node.data('type')||'folder',toString:function(){return id;}};val[i]=selectedNode;},this);data.rslt[ind]=val;},this);this.jsTreeCallbacks.onLoadState(data.rslt);}},_removeHandler:function(event,data){if(!data){return false;}
if(this.jsTreeCallbacks.onRemove&&!this.jsTreeCallbacks.onRemove.apply(this,[data.rslt.obj])){return false;}
return this._jstreeRemoveNode(data.rslt.obj);},_renameNodeHandler:function(event,data){if(!_.isUndefined(data.rslt.obj.data('id'))){var bean=this.collection.getChild(data.rslt.obj.data('id'));if(!_.isUndefined(bean)){if(bean.get('name')!==data.rslt.name){bean.set('name',data.rslt.name);bean.save();}}}},_renameHandler:function(event,data){this._toggleAddNodeButton(data.rslt.obj,false);},_searchHandler:function(event,data){},_loadContextMenu:function(settings){var self=this;if(settings.showMenu===true){return{edit:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_EDIT',self.module),action:function(obj){this.rename(obj);}},moveup:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_MOVEUP',self.module),action:function(obj){var currentNode=this._get_node(obj),prevNode=this._get_prev(obj,true);if(currentNode&&prevNode){self.moveNode(currentNode.data('id'),prevNode.data('id'),'before',function(){$(currentNode).after($(prevNode));});}}},movedown:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_MOVEDOWN',self.module),action:function(obj){var currentNode=this._get_node(obj),nextNode=this._get_next(obj,true);if(currentNode&&nextNode){self.moveNode(currentNode.data('id'),nextNode.data('id'),'after',function(){$(nextNode).after($(currentNode));});}}},moveto:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_MOVETO',self.module),action:false,submenu:this._buildRootsSubmenu(settings)},delete:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_DELETE',self.module),action:function(obj){var bean=self.collection.getChild(obj.data('id'));if(!_.isUndefined(bean)){self.warnDelete({model:bean,success:_.bind(function(){this.remove(obj);self._toggleVisibility(self.collection.length===0);},this)});}}}};}else{return{};}},warnDelete:function(options){options=options||{};if(_.isEmpty(options.model)){return;}
app.alert.show('delete_confirmation',{level:'confirmation',messages:this.getDeleteMessages(options.model).confirmation,onConfirm:_.bind(function(){this.deleteModel(options);},this),onCancel:function(){}});},getDeleteMessages:function(model){var messages={};var name=Handlebars.Utils.escapeExpression(app.utils.getRecordName(model)).trim();var context=app.lang.getModuleName(model.module).toLowerCase()+' '+name;messages.confirmation=app.utils.formatString(model.children.length===0?app.lang.get('NTC_DELETE_CONFIRMATION_FORMATTED',this.module):app.lang.get('NTC_DELETE_CONFIRMATION_FORMATTED_PLURAL',this.module),[context]);messages.success=app.utils.formatString(app.lang.get('NTC_DELETE_SUCCESS'),[context]);return messages;},deleteModel:function(options){options=options||{};options.success=options.success||null;options.error=options.error||null;if(_.isEmpty(options.model)){return;}
options.model.destroy({showAlerts:{'process':true,'success':{messages:this.getDeleteMessages(options.model).success}},success:options.success,error:options.error});},_buildRootsSubmenu:function(settings){var self=this,subMenu={},selectedId=this.jsTree&&this.jsTree.jstree('get_selected').data('id');_.each(this.collection.models,function(entry,index){if(selectedId!==entry.id){subMenu['movetosubmenu'+index]={id:entry.id,separator_before:false,icon:'jstree-icon',separator_after:false,label:entry.escape('name'),action:function(obj){self.moveNode(obj.data('id'),entry.id,'last',function(data,response){self.jsTree.jstree('move_node',self.jsTree.jstree('get_instance').get_container_ul().find('li[data-id='+obj.data('id')+']'),self.jsTree.jstree('get_instance').get_container_ul().find('li[data-id='+entry.id+']'));});}};}});return subMenu;},_loadedHandler:function($container){$container.addClass('jstree-sugar').addClass('tree-component');if(this.jsTreeCallbacks.onLoad){this.jsTreeCallbacks.onLoad.apply();}},_selectNodeHandler:function(event,data){if(!_.isUndefined(data.args[0])){var selectedNode={id:data.rslt.obj.data('id'),name:data.rslt.obj.find('a:first').text().trim(),type:data.rslt.obj.data('type')||'folder'},action=$(data.args[0]).data('action');if(action==='jstree-toggle'&&data.rslt.obj.hasClass('jstree-leaf')){action='jstree-leaf-click';}
switch(action){case'jstree-toggle':selectedNode.open=data.rslt.obj.hasClass('jstree-closed')?true:false;if(this.jsTreeCallbacks.onToggle&&!this.jsTreeCallbacks.onToggle.apply(this,[selectedNode])){return false;}
this._jstreeToggle(event,data);break;case'jstree-leaf-click':if(this.jsTreeCallbacks.onLeaf&&!this.jsTreeCallbacks.onLeaf.apply(this,[selectedNode])){return false;}
break;case'jstree-contextmenu':if($(data.args[0]).hasClass('disabled')||(this.jsTreeCallbacks.onShowContextmenu&&!this.jsTreeCallbacks.onShowContextmenu.apply(this,[event,data]))){return false;}
this._jstreeShowContextmenu(event,data);break;case'jstree-addnode':if($(data.args[0]).hasClass('disabled')||(this.jsTreeCallbacks.onAdd&&!this.jsTreeCallbacks.onAdd.apply(this,[event,data]))){return false;}
this._onAdd(event,data);break;case'jstree-select':if(this.jsTreeCallbacks.onSelect&&!this.jsTreeCallbacks.onSelect.apply(this,[selectedNode])){return false;}
this._jstreeSelectNode(selectedNode);break;}}},_createHandler:function(event,data){var parentId=data.rslt.parent===-1?this.root:data.rslt.parent.data('id'),newNode=data.rslt.obj,node={title:data.rslt.name,position:data.rslt.position},self=this;if(data.args[2]===undefined||data.args[2].id===undefined){this.collection.append({target:parentId,data:{name:node.title},success:function(item){newNode.attr('data-id',item.id);newNode.attr('data-level',item.lvl);if(newNode.is('[disabled=disabled]')){newNode.attr('disabled',false);}
self._toggleAddNodeButton(newNode,false);self._toggleVisibility(false);},error:function(error){self._alertError(error,_.bind(function(){this.jsTree.jstree('remove',newNode);},self));}});}},_showInputHandler:function(event,data){var self=this,el=data.obj.children('input'),clonedElement=el.clone(),obj=data.obj,t=data.t,h1=data.h1,h2=data.h2,w=data.w;h1.css({fontFamily:h2.css('fontFamily')||'',fontSize:h2.css('fontSize')||'',fontWeight:h2.css('fontWeight')||'',fontStyle:h2.css('fontStyle')||'',fontStretch:h2.css('fontStretch')||'',fontVariant:h2.css('fontVariant')||'',letterSpacing:h2.css('letterSpacing')||'',wordSpacing:h2.css('wordSpacing')||''});el.hide();obj.append(clonedElement);this._toggleAddNodeButton(obj,true);this._enableTooltip(clonedElement);clonedElement.width(Math.min(h1.text("pW"+clonedElement[0].value).width(),w))[0].select();clonedElement.on('keydown',function(event){var key=event.which;if(key===27){$(this).attr('data-mode')==='add'?$(this).attr('data-mode','delete'):this.value=t;el.attr('data-mode')==='add'?el.attr('data-mode','delete'):el.value=t;}
if(key===27||key===13||key===37||key===38||key===39||key===40||key===32){event.stopImmediatePropagation();}
if(key===13){if(this.value.trim().length===0){app.alert.show('wrong_node_name',{level:'error',messages:app.error.getErrorString('empty_node_name',self),autoClose:false});return false;}else{app.alert.dismiss('wrong_node_name');}}
if(key===27||key===13){self._disableTooltip(clonedElement);event.preventDefault();self._blur($(this),el);}}).on('keyup',function(event){clonedElement.width(Math.min(h1.text("pW"+this.value).width(),w));}).on('keypress',function(event){if(event.which===13){return false;}});},_blur:function(clonedObj,originalObj){originalObj.val(clonedObj.val());originalObj.blur();},_jstreeToggle:function(event,data){data.inst.toggle_node(data.rslt.obj);},_jstreeShowContextmenu:function(event,data){var container=data.inst._get_node().parent(),level=data.inst._get_node().attr('data-level'),firstNodeId=$(container).find('li[data-level='+level+']').first().data('id'),lastNodeId=$(container).find('li[data-level='+level+']').last().data('id');if(!_.isUndefined(data.inst.get_settings().contextmenu.items)){data.inst._set_settings({contextmenu:{items:{moveto:{submenu:null}}}});data.inst._set_settings({contextmenu:{items:{moveto:{submenu:this._buildRootsSubmenu(this.jsTreeSettings)}}}});data.inst._set_settings({contextmenu:{items:{moveup:{_disabled:data.inst._get_node().data('id')===firstNodeId}}}});data.inst._set_settings({contextmenu:{items:{movedown:{_disabled:data.inst._get_node().data('id')===lastNodeId}}}});}
if(!$(event.currentTarget).hasClass('jstree-loading')){data.inst.show_contextmenu($(data.args[0]),data.args[2].pageX,data.args[2].pageY);}},_onAdd:function(event,data){var createdNode=this.jsTree.jstree('create',data.inst._get_node());this._toggleAddNodeButton(createdNode,true);},_jstreeSelectNode:function(selectedNode){if(this.jsTreeSettings.isDrawer){app.drawer.close(selectedNode);}else{return selectedNode;}},_jstreeRemoveNode:function(removedNode){return false;},addNode:function(title,position,editable,addToRoot,disabled){var self=this,selectedNode=(addToRoot===true)?[]:this.jsTree.jstree('get_selected'),pos=position||'last',isEdit=editable||false,isDisabled=disabled!==false,customAttr=(isDisabled===true)?{disabled:'disabled'}:{};if(title){var createdNode=this.jsTree.jstree('create',selectedNode,pos,{data:title,attr:customAttr},function(obj){if(self.collection.length===0){self._toggleVisibility(false);}},isEdit);this._toggleAddNodeButton(createdNode,true);}},selectNode:function(id){var node=this.jsTree.find('[data-id='+id+']');this.jsTree.jstree('select_node',node);node.addClass('jstree-clicked');},insertNode:function(data,parent_id,type){var selectedNode=this.jsTree.find('[data-id='+parent_id+']'),isViewable=data.isViewable||false;this.jsTree.jstree('create',selectedNode,'last',{data:data.name,id:data.id},function(obj){obj.data('id',data.id).data('type',type||'folder').attr('data-id',data.id).attr('data-disabled',!isViewable).find('ins:first').addClass('leaf');if(!isViewable){obj.addClass('disabled');}},true,true);},saveJSTreeState:function(){_.defer(function(jstree){jstree.jstree('save_state');},this.jsTree);},loadJSTreeState:function(){this.jsTree.jstree('load_state');},openNode:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');if(selectedNode.hasClass('jstree-closed')){this.jsTree.jstree('open_node',selectedNode);}},closeNode:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');if(selectedNode.hasClass('jstree-open')){this.jsTree.jstree('close_node',selectedNode);}},showChildNodes:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');selectedNode.children("ul:eq(0)").children("li").show();},hideChildNodes:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');selectedNode.children("ul:eq(0)").children("li").hide();},removeChildrens:function(id,type){var currentNode=this.jsTree.find('[data-id='+id+']'),childrens=currentNode.children("ul:eq(0)").children("li");type=type||'folder';_.each(childrens,function(child){if($(child).data('type')===type){this.jsTree.jstree('delete_node',child);}},this);},clearSelection:function(){this.jsTree.jstree('deselect_all');},searchNode:function(searchString){this.jsTree.jstree('clear_search');this.jsTree.jstree('close_all');if(!_.isUndefined(searchString)){this.jsTree.jstree('search',searchString);}},moveNode:function(idRecord,idTarget,position,callback){var self=this,pos=position||'last',method='move'+pos.charAt(0).toUpperCase()+pos.substring(1).toLowerCase();if(idRecord===idTarget){app.alert.show('wrong_path_confirmation',{level:'error',messages:app.lang.get('LBL_WRONG_MOVE_PATH','Categories')});}
if(_.isFunction(this.collection[method])&&(idRecord!==idTarget)){this.collection[method]({record:idRecord,target:idTarget,success:function(data,response){if(!_.isUndefined(callback)){callback(data,response);}},error:function(error){self._alertError(error);}});}},_alertError:function(error,callback){if(!_.isUndefined(error.message)){var level='error',messages=error.message,title;switch(error.code){case'not_authorized':title='ERR_NO_VIEW_ACCESS_TITLE';level='warning';messages=error.message;break;}
app.alert.show('server-error',{title:title,level:level,messages:messages});}
if(_.isFunction(callback)){callback();}},_toggleAddNodeButton:function(node,disable){var addButton=$(node).find('[data-action="jstree-addnode"]'),contextButton=$(node).find('[data-action="jstree-contextmenu"]');if(disable){addButton.addClass('disabled');contextButton.addClass('disabled');}else{addButton.removeClass('disabled');contextButton.removeClass('disabled');}},_enableTooltip:function(input){input.on('hover',function(e){e.stopPropagation();});input.attr('rel','tooltip');input.attr('title',app.lang.get('LBL_CREATE_CATEGORY_PLACEHOLDER','KBContents'));input.tooltip({container:'body',trigger:'focus',delay:{show:200,hide:100}}).tooltip('show');},_disableTooltip:function(input){if(!input.data('bs.tooltip')){return;}
input.data('bs.tooltip').$tip.remove();input.tooltip('destroy');}});});})(SUGAR.App);
/* End of File modules/Categories/clients/base/plugins/JSTree.js */

(function(app){app.events.on("app:sync:complete",function(){if(!app.data.getModelClasses()['Contacts']){return;}
var contactsClass=app.data.getBeanClass("Contacts");contactsClass.prototype._doValidatePortalName=function(fields,errors,callback){var self=this,skip=false;if(_.isUndefined(this.get("id"))){if(!this.has("portal_name")||this.get("portal_name")===""){skip=true;}}else{if(_.isUndefined(this.changedAttributes(this.getSynced())["portal_name"])){skip=true;}}
if(skip){callback(null,fields,errors);return;}
var currentName=self.get("portal_name");var alertOptions={title:app.lang.get("LBL_VALIDATING"),level:"process"};app.alert.show('validation',alertOptions);app.api.records('read','Contacts',null,{filter:[{portal_name:currentName}]},{success:function(data){if(data.records&&data.records.length>0){if(data.records.length>1||data.records[0].id!=self.get("id")){errors['portal_name']={ERR_EXISTING_PORTAL_USERNAME:''};}}},error:function(){errors['portal_name']={ERR_PORTAL_NAME_CHECK:''};},complete:function(){app.alert.dismiss('validation');callback(null,fields,errors);}});return;};contactsClass.prototype.initialize=function(options){app.data.beanModel.prototype.initialize.call(this,options);this.addValidationTask('portal_name_unique',_.bind(this._doValidatePortalName,this));};});})(SUGAR.App);
/* End of File modules/Contacts/clients/base/lib/bean.js */

(function(app){app.events.on('app:init',function(){app.augment('NestedSetBean',app.Bean.extend({children:null,initialize:function(attributes,options){app.Bean.prototype.initialize.call(this,attributes);this.on('sync',function(model,data,options,request){if(!_.isUndefined(model.children.rootCollection)){app.events.trigger('app:nestedset:sync:complete',model.children.rootCollection);}});},_initCallback:function(options){var callback={};callback.success=options.success||null;callback.complete=options.complete||null;callback.error=options.error||null;return callback;},set:function(data,options){if(_.isObject(data)&&!_.isEmpty(data.children)&&_.isNull(this.children)){this.children=this.collection.clone();this.children.module=this.collection.module;this.children.rootCollection=this.collection.rootCollection?this.collection.rootCollection:this.collection;this.children.reset(data.children.records);data=_.omit(data,'children');}
app.Bean.prototype.set.apply(this,arguments);this.module=data['_module']||this.collection.module;if(!_.isUndefined(app.metadata.getModule(this.module))){this.fields=app.metadata.getModule(this.module).fields;}
return this;},getChildren:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'children'].join('/'));app.api.call('read',url,{},options.callback);},getNext:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'next'].join('/'));app.api.call('read',url,{},options.callback);},getPrev:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'prev'].join('/'));app.api.call('read',url,{},options.callback);},getParent:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'parent'].join('/'));app.api.call('read',url,{},options.callback);},getPath:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'path'].join('/'));app.api.call('read',url,{},options.callback);},moveBefore:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveBefore(options);},moveAfter:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveAfter(options);},moveFirst:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveFirst(options);},moveLast:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveLast(options);}}),false);app.augment('NestedSetCollection',app.BeanCollection.extend({model:app.NestedSetBean,jsonTree:null,root:null,offset:-1,_initCallback:function(options){var self=this,callback={};callback.complete=options.complete||null;callback.error=options.error||null;callback.success=_.bind(function(data,response){this.tree({success:_.bind(function(){if(_.isFunction(options.success)){options.success(data,response);}
app.events.trigger('app:nestedset:sync:complete',self);},this),error:_.bind(function(collection,error){if(_.isFunction(options.error)){options.error(error);}},this)});},this);return callback;},parse:function(response,options){this.jsonTree=response;return app.BeanCollection.prototype.parse.apply(this,arguments);},sync:function(method,model,options){var callbacks=app.data.getSyncCallbacks(method,model,options);app.api.call(method,this.url,options,callbacks);},_reset:function(){if(this.length&&!_.isEmpty(this.rootCollection)){_.each(this.models,function(model){model=this.rootCollection.getChild(model);if(model){delete this.rootCollection._childsById[model.id];delete this.rootCollection._childsById[model.cid];}},this);}
this._childsById={};app.BeanCollection.prototype._reset.apply(this,arguments);return this;},add:function(models,options){app.BeanCollection.prototype.add.apply(this,arguments);if(this.length){var rootCollection=this.rootCollection||this;_.each(this.models,function(model){rootCollection._childsById[model.cid]=model;if(model.id!=null)rootCollection._childsById[model.id]=model;});}},remove:function(models,options){var rootCollection=this.rootCollection||this,i,l,model;for(i=0,l=models.length;i<l;i++){model=rootCollection.getChild(models[i]);if(!model)continue;delete rootCollection._childsById[model.id];delete rootCollection._childsById[model.cid];}
app.BeanCollection.prototype.remove.apply(this,arguments);return this;},getChild:function(obj){if(obj==null)return void 0;var rootCollection=this.rootCollection||this;rootCollection._idAttr||(rootCollection._idAttr=rootCollection.model.prototype.idAttribute);return rootCollection._childsById[obj.id||obj.cid||obj[rootCollection._idAttr]||obj];},tree:function(options){this.url=app.api.buildURL(this.module,[this.root,'tree'].join('/'));this.fetch(options);},_prepareInsertOptions:function(options){options=options||{};options.data=options.data||{name:'New node'};options.target=options.target||null;options.target=_.isObject(options.target)?options.target.get('id'):options.target;options.callback=this._initCallback(options);return options;},append:function(options){options=this._prepareInsertOptions(options);options.target=_.isEmpty(options.target)?this.root:options.target;var url=app.api.buildURL(this.module,['append',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},prepend:function(options){options=this._prepareInsertOptions(options);options.target=_.isEmpty(options.target)?this.root:options.target;var url=app.api.buildURL(this.module,['prepend',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},insertBefore:function(options){options=this._prepareInsertOptions(options);if(_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,['insertbefore',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},insertAfter:function(options){options=this._prepareInsertOptions(options);if(_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,['insertafter',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},_prepareMoveOptions:function(options){options=options||{};options.record=options.record||null;options.record=_.isObject(options.record)?options.record.get('id'):options.record;options.target=options.target||null;options.target=_.isObject(options.target)?options.target.get('id'):options.target;options.callback=this._initCallback(options);return options;},moveBefore:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'movebefore',options.target].join('/'));app.api.call('update',url,{},options.callback);},moveAfter:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'moveafter',options.target].join('/'));app.api.call('update',url,{},options.callback);},moveFirst:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'movefirst',options.target].join('/'));app.api.call('update',url,{},options.callback);},moveLast:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'movelast',options.target].join('/'));app.api.call('update',url,{},options.callback);}}),false);app.plugins.register('NestedSetCollection',['view','field'],{onAttach:function(component,plugin){this.on('init',function(){this.collection=new app.NestedSetCollection();this.collection.module=this.dataProvider||null;this.collection.root=this.root||null;},this);}});});})(SUGAR.App);
/* End of File modules/Categories/clients/base/plugins/NestedSetCollection.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('DirtyCollection',['view'],{dirtyModels:new Backbone.Collection(),dirtyTimeperiod:undefined,dirtyUser:undefined,dirtyCanEdit:undefined,onAttach:function(component,plugin){this.on('init',function(){this.attachListeners();},this);},onDetach:function(){this.dirtyModels.off(null,null,this);},attachListeners:function(){this.collection.on('reset',this.cleanUpDirtyModels,this);this.collection.on("change",this._collectionChangeAddToDirtyModels,this);},_collectionChangeAddToDirtyModels:function(model){if(_.isUndefined(this.dirtyTimeperiod)||_.isUndefined(this.dirtyUser)){var ctx=this.context.parent||this.context;this.dirtyTimeperiod=ctx.get('selectedTimePeriod');this.dirtyUser=ctx.get('selectedUser');this.dirtyCanEdit=(this.dirtyUser.id==app.user.get('id'));;}
this.dirtyModels.add(model);},isDirty:function(){return(this.dirtyModels.length>0);},cleanUpDirtyModels:function(){this.dirtyModels.reset();this.dirtyTimeperiod=undefined;this.dirtyUser=undefined;this.dirtyCanEdit=undefined;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DirtyCollection.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Prettify',['layout','view'],{_scriptReady:false,_pageReady:false,onAttach:function(component,plugin){this.on('init',function(){var self=this;if(window.prettyPrint){this._scriptReady=true;return;}
$.getScript('styleguide/content/js/google-code-prettify/prettify.js',function(){self._scriptReady=true;if(self._pageReady){prettyPrint();}});},null,component);this.on('render',function(){this._pageReady=true;if(this._scriptReady){prettyPrint();}},null,component);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Prettify.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Chart',['view'],{chart_loaded:false,chartCollection:null,chart:null,total:0,onAttach:function(component,plugin){this.on('init',function(){if(this.meta.config){return;}
app.events.on('preview:close',function(){if(_.isUndefined(app.drawer)||app.drawer.isActive(this.$el)){this.resize();}},this);this.layout.on('dashlet:collapse',function(collapse){if(!collapse){this.resize();}},this);this.layout.context.on('dashlet:draggable:stop',function(){this.resize();},this);$(window).on('resize.'+this.cid,_.debounce(_.bind(this.resize,this),100));this.handlePrinting('on');if(!_.isFunction(this.chartResize)){this.chartResize=this._chartResize;}
if(!_.isFunction(this.hasChartData)){this.hasChartData=this._hasChartData;}},this);this.on('render',function(){this.$('.sc-chart').on('click',_.bind(function(){this.chart.dispatch.call('chartClick',this)},this));this.renderChart();},this);},_hasChartData:function(){return this.total!==0;},_chartResize:function(){this.chart.update();},onDetach:function(){if(this.meta.config){return;}
if(this.layout){this.layout.off(null,null,this);}
if(this.layout&&this.layout.context){this.layout.context.off(null,null,this);}
$(window).off('resize.'+this.cid);this.handlePrinting('off');},isChartReady:function(){if(this.meta.config||this.disposed){return false;}
if(!this.$el||(this.$el.parents().length>0&&!this.$el.is(':visible'))){return false;}
if(!_.isFunction(this.chart)||!this.hasChartData()){this.chart_loaded=false;this.displayNoData(true);return false;}
this.displayNoData(false);return true;},resize:function(){if(!this.chart_loaded){return;}
if(!this.$el||(this.$el.parents().length>0&&!this.$el.is(':visible'))){return;}
this.chartResize();},handlePrinting:function(state){var self=this,mediaQueryList=window.matchMedia&&window.matchMedia('print');var pausecomp=function(millis){var date=new Date(),curDate=null;do{curDate=new Date();}while(curDate-date<millis);};var printResize=function(mql){if(mql.matches){if(!_.isUndefined(self.chart.legend)&&_.isFunction(self.chart.legend.showAll)){self.chart.legend.showAll(true);}
self.chart.width(640).height(320);self.resize();pausecomp(200);}else{browserResize();}};var browserResize=function(){if(!_.isUndefined(self.chart.legend)&&_.isFunction(self.chart.legend.showAll)){self.chart.legend.showAll(false);}
self.chart.width(null).height(null);self.resize();};if(state==='on'){if(window.matchMedia){mediaQueryList.addListener(printResize);}else if(window.attachEvent){window.attachEvent('onbeforeprint',printResize);window.attachEvent('onafterprint',browserResize);}else{window.onbeforeprint=printResize;window.onafterprint=browserResize;}}else{if(window.matchMedia){mediaQueryList.removeListener(printResize);}else if(window.detachEvent){window.detachEvent('onbeforeprint',printResize);window.detachEvent('onafterprint',browserResize);}else{window.onbeforeprint=null;window.onafterprint=null;}}},displayNoData:function(state){this.$('[data-content="chart"]').toggleClass('hide',state);this.$('[data-content="nodata"]').toggleClass('hide',!state);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Chart.js */

(function(app){function getEmailAddress(recipient){var email=app.data.createBean('EmailAddresses');if(recipient.email){if(_.isString(recipient.email)&&!_.isEmpty(recipient.email)){app.logger.warn('EmailClientLaunch Plugin: An email address string was provided. An EmailAddresses bean was '+'expected.');email.set('email_address',recipient.email);}else if(recipient.email instanceof app.Bean&&recipient.email.module==='EmailAddresses'){if(!recipient.email.isNew()||recipient.email.get('email_address')){return recipient.email;}}else{app.logger.warn('EmailClientLaunch Plugin: An unknown email address type was provided. An EmailAddresses bean '+'was expected.');}}
if(recipient.bean&&recipient.bean instanceof app.Bean&&!email.get('email_address')){email.set('email_address',app.utils.getPrimaryEmailAddress(recipient.bean));}
return email;}
app.events.on("app:init",function(){app.plugins.register('EmailClientLaunch',['view','field'],{events:{'click a[data-action="email"]':'launchEmailClient'},launchEmailClient:function(event){event.stopPropagation();var $link=$(event.currentTarget);if(this.useSugarEmailClient()){this.launchSugarEmailClient(this._retrieveEmailOptions($link));}},launchSugarEmailClient:function(options){_.each(['to','cc','bcc'],function(recipientType){var recipients;if(options[recipientType]){recipients=this._retrieveValidRecipients(options[recipientType]);options[recipientType]=_.map(recipients,function(recipient){recipient.set('_link',recipientType);return recipient;});}},this);app.utils.openEmailCreateDrawer('compose-email',options,_.bind(function(context,model){if(model){var controllerContext=app.controller.context;var controllerContextModule=controllerContext.get('module');var links;this.trigger('emailclient:close');if(controllerContextModule==='Emails'&&controllerContext.get('layout')==='records'){controllerContext.reloadData();}else{links=app.utils.getLinksBetweenModules(controllerContextModule,'Emails');_.each(links,function(link){controllerContext.trigger('panel-top:refresh',link.name);});}}},this));},_retrieveValidRecipients:function(recipients){var validRecipients=[];recipients=recipients||[];if(!_.isArray(recipients)){recipients=[recipients];}
_.each(recipients,function(recipient){var validRecipient=app.data.createBean('EmailParticipants');var email=getEmailAddress(recipient);var primary;var isNameErased=false;var isEmailErased=false;if(!email.isNew()){isEmailErased=_.contains(email.get('_erased_fields')||[],'email_address');validRecipient.set({email_addresses:app.utils.deepCopy(email),email_address_id:email.get('id'),email_address:email.get('email_address'),invalid_email:email.get('invalid_email'),opt_out:email.get('opt_out')});}
if(recipient.bean){primary=app.utils.getPrimaryEmailAddress(recipient.bean);isNameErased=app.utils.isNameErased(recipient.bean);if(validRecipient.get('email_address_id')||app.utils.isValidEmailAddress(primary)){validRecipient.set({parent:_.extend({type:recipient.bean.module},app.utils.deepCopy(recipient.bean)),parent_type:recipient.bean.module,parent_id:recipient.bean.get('id'),parent_name:app.utils.getRecordName(recipient.bean)});}}
if(validRecipient.get('parent')&&!isNameErased&&isEmailErased){validRecipient.unset('email_addresses');validRecipient.unset('email_address_id');validRecipient.unset('email_address');validRecipient.unset('invalid_email');validRecipient.unset('opt_out');}
if(validRecipient.get('email_address_id')||validRecipient.get('parent')){validRecipients.push(validRecipient);}},this);return validRecipients;},useSugarEmailClient:function(){var emailClientPreference=app.user.getPreference('email_client_preference');return(emailClientPreference&&emailClientPreference.type==='sugar'&&app.acl.hasAccess('edit','Emails'));},addEmailOptions:function(options){this.emailOptions=this.emailOptions||{};options=options||{};if(options.related&&!options.related.module){options.related=undefined;}
this.emailOptions=_.extend({},this.emailOptions,options);this.emailOptions=_.reduce(this.emailOptions,function(memo,value,key){if(!_.isUndefined(value)){memo[key]=value;}
return memo;},{});},_cloneRelatedModel:function(model){app.logger.warn('_cloneRelatedModel is deprecated and may be removed in Sugar 9.3.0 or later.');return app.data.createBean(model.module,app.utils.deepCopy(model));},_getEmailHref:function(options){if(this.useSugarEmailClient()){return'javascript:void(0)';}else{return this._buildMailToURL(options);}},_buildMailToURL:function(options){var mailToUrl='mailto:',formattedOptions={},queryParams=[];if(options.to){mailToUrl+=this._formatRecipientsToString(options.to);}
formattedOptions.cc=this._formatRecipientsToString(options.cc);formattedOptions.bcc=this._formatRecipientsToString(options.bcc);formattedOptions.subject=options.name;formattedOptions.body=options.description;_.each(['cc','bcc','subject','body'],function(option){var param;if(!_.isEmpty(formattedOptions[option])){param=option+'='+encodeURIComponent(formattedOptions[option]);queryParams.push(param);}});if(!_.isEmpty(queryParams)){mailToUrl=mailToUrl+'?'+queryParams.join('&');}
return mailToUrl;},_formatRecipientsToString:function(recipients){var emails=[];recipients=recipients||[];if(!_.isArray(recipients)){recipients=[recipients];}
_.each(recipients,function(recipient){var email=getEmailAddress(recipient);if(email.get('email_address')){emails.push(email.get('email_address'));}},this);return emails.join(',');},_retrieveEmailOptions:function($link){var optionsFromLink=$link.data()||{};var optionsFromController=this.emailOptions||{};var options={};if(_.isFunction(this._retrieveEmailOptionsFromLink)){optionsFromLink=this._retrieveEmailOptionsFromLink($link);}
options=_.extend(options,optionsFromController,optionsFromLink);return options;},updateEmailLinks:function(){var self=this;var $emailLinks=this.$('a[data-action="email"]');$emailLinks.each(function(){var options=self._retrieveEmailOptions($(this));var href=self._getEmailHref(options);$(this).attr('href',href);});},getContextModel:function(){if(this.view&&_.isFunction(this.view.getContextModel)){return this.view.getContextModel();}else{var context=this.context.parent||this.context||{};return context?context.get('model'):{};}},onAttach:function(){var updateEmailOptions=_.bind(function(model){var options={};if(_.isFunction(this.emailOptionTo)){options.to=this.emailOptionTo(model);}
if(_.isFunction(this.emailOptionCc)){options.cc=this.emailOptionCc(model);}
if(_.isFunction(this.emailOptionBcc)){options.bcc=this.emailOptionBcc(model);}
if(_.isFunction(this.emailOptionSubject)){options.name=this.emailOptionSubject(model);}
if(_.isFunction(this.emailOptionDescription)){options.description=this.emailOptionDescription(model);}
if(_.isFunction(this.emailOptionDescriptionHtml)){options.description_html=this.emailOptionDescriptionHtml(model);}
if(_.isFunction(this.emailOptionAttachments)){options.attachments=this.emailOptionAttachments(model);}
if(_.isFunction(this.emailOptionRelated)){options.related=this.emailOptionRelated(model);}
if(_.isFunction(this.emailOptionTeams)){options.team_name=this.emailOptionTeams(model);}
this.addEmailOptions(options);},this);this.on('init',function(){var self=this;var model=this.getContextModel();var events=['change','change:from_collection','change:to_collection','change:cc_collection','change:bcc_collection','change:attachments_collection'];var onChange=_.debounce(function(model){updateEmailOptions(model);self.render();},200);if(model instanceof app.Bean){this.listenTo(model,events.join(' '),onChange);}
updateEmailOptions(model);},this);this.on('render',this.updateEmailLinks,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/EmailClientLaunch.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('KBContent',['view'],{events:{'click .mce-btnKBTemplate':'launchTemplateDrawer'},CONTENT_LOCALIZATION:1,CONTENT_REVISION:2,onAttach:function(component,plugin){this.on('init',function(){this._initKBListeners();if((this.tplName==='list'||(!_.isUndefined(this.context)&&this.context.get('isSubpanel')===true))&&this.tplName!=='panel-top'){this.context.on('list:editrow:fire',_.bind(function(model,view){this._initValidationHandler(model);},this));this.context.on('list:preview:fire',_.bind(function(model){this._initValidationHandler(model);},this));}else{this._initValidationHandler(this.model);}});},_initKBListeners:function(){if(_.isFunction(Object.getPrototypeOf(this)._initKBListeners)){Object.getPrototypeOf(this)._initKBListeners.call(this);return;}
this.context.on('button:create_localization_button:click',this.createLocalization,this);this.context.on('button:create_revision_button:click',this.createRevision,this);this.context.on('button:create_article_button:click',this.createArticle,this);},createLocalization:function(model){this.createRelatedContent(model,this.CONTENT_LOCALIZATION);},createRevision:function(model){this.createRelatedContent(model,this.CONTENT_REVISION);},createArticle:function(model){var module='KBContents',fields=app.metadata.getModule(model.module).fields,links=_.filter(fields,function(field){if(field.type!=='link'||!field.relationship){return false;}
return app.data.getRelatedModule(model.module,field.name)===module;}),bodyTmpl=app.template.getField('htmleditable_tinymce','create-article',module),attrs={name:model.get('name'),kbdocument_body:bodyTmpl({model:model})},link,prefill,relatedFields,self=this;if(links.length===0){prefill=app.data.createBean(module,attrs);}else{link=links.length===1?links[0].name:'kbcontents';prefill=app.data.createRelatedBean(model,null,link,attrs);relatedFields=app.data.getRelateFields(model.module,link);if(!_.isEmpty(relatedFields)){_.each(relatedFields,function(field){var parentValue=model.get(field.rname);prefill.set(field.name,parentValue);prefill.set(field.id_name,model.get('id'));},this);}}
app.drawer.open({layout:'create',context:{create:true,model:prefill,module:module}},function(context,newModel){if(newModel!==undefined&&links.length>0){var viewContext=context.parent.parent||context.parent;var subPanel=self._findSubpanel(viewContext,link);self._reloadSubpanel(subPanel,link);}});},createArticleSubpanel:function(){var model=this.context.parent.get('model');this.createArticle(model);},createRelatedContent:function(parentModel,type){var self=this,prefill=app.data.createBean('KBContents',{id:parentModel.get('id')});prefill.fetch({success:function(){var removeList=['id','is_external'];_.each(removeList,function(field){prefill.unset(field);});prefill.set('status','draft');prefill.set('assigned_user_id',app.user.get('id'));prefill.set('assigned_user_name',app.user.get('full_name'));if(type===self.CONTENT_LOCALIZATION){self._onCreateLocalization(prefill,parentModel);}else{self._onCreateRevision(prefill,parentModel);}},error:function(){app.alert.show('server-error',{level:'error',messages:'ERR_GENERIC_SERVER_ERROR'});}});},_onCreateLocalization:function(prefill,parentModel){if(!this.checkCreateLocalization(parentModel)){app.alert.show('localizations',{level:'warning',title:app.lang.get('LBL_CANNOT_CREATE_LOCALIZATION','KBContents'),autoClose:false});return;}
this.context.createAction=this.CONTENT_LOCALIZATION;prefill.set('related_languages',this.getAvailableLangsForLocalization(parentModel),{silent:true});var language=this._getNextAvailableLanguage(parentModel);prefill.set('language',language);prefill.unset('kbarticle_id',{silent:true});this._openCreateRelatedDrawer(prefill,parentModel);},_onCreateRevision:function(prefill,parentModel){this.context.createAction=this.CONTENT_REVISION;prefill.set('useful',parentModel.get('useful'));prefill.set('notuseful',parentModel.get('notuseful'));prefill.set('related_languages',[parentModel.get('language')],{silent:true});prefill.set('revision','');this.context.set('skipFetch',false);this._openCreateRelatedDrawer(prefill,parentModel);},_openCreateRelatedDrawer:function(prefill,parentModel){var layoutDef={layout:'create',context:{create:true,model:prefill,module:this.module,copiedFromModelId:parentModel.get('id'),parent:this.context,createAction:this.context.createAction}};if(this.context.loadDrawer==true){app.drawer.load(layoutDef);}else{var self=this;app.drawer.open(layoutDef,function(context,newModel){var link=self._getLinkNameByContextAction(context.get('createAction')),viewContext,subPanel;if(link){viewContext=context.parent.parent||context.parent;viewContext.resetLoadFlag();viewContext.loadData();subPanel=self._findSubpanel(viewContext,link);self._reloadSubpanel(subPanel,link);context.set('createAction',null);context.loadDrawer=null;}});}
prefill.trigger('duplicate:field',parentModel);},_reloadSubpanel:function(subPanel,link){if(!subPanel){return;}
subPanel.set('skipFetch',false);subPanel.set('collapsed',false);subPanel.parent.trigger('subpanel:reload',{links:[link]});},_findSubpanel:function(context,link){var child=context.getChildContext({link:link});return child.get('isSubpanel')===true?child:null;},_getLinkNameByContextAction:function(contextAction){switch(contextAction){case this.CONTENT_LOCALIZATION:return'localizations';case this.CONTENT_REVISION:return'revisions';}
return false;},checkCreateLocalization:function(model){var langs=this.getAvailableLangsForLocalization(model),config=app.metadata.getModule('KBContents','config');if(!langs||!config['languages']){return true;}
if(!config['languages']||config['languages'].length==langs.length){return false;}
return true;},_getNextAvailableLanguage:function(model){var usedLangs=this.getAvailableLangsForLocalization(model);var config=app.metadata.getModule('KBContents','config');var allLangs=_.map(config.languages,function(language){var langObject=_.omit(language,'primary');return _.first(_.keys(langObject));});var availableLangs=_.difference(allLangs,usedLangs);return _.first(availableLangs);},getAvailableLangsForLocalization:function(model){return model.get('related_languages')||[];},launchTemplateDrawer:function(){app.drawer.open({layout:'selection-list',context:{module:'KBContentTemplates'}},_.bind(function(model){if(!model){return;}
var self=this;var template=app.data.createBean('KBContentTemplates',{id:model.id});template.fetch({success:function(template){if(this.disposed===true){return;}
var replace=function(){self.model.set('kbdocument_body',template.get('body'));};if(!self.model.get('kbdocument_body')){replace();}else{app.alert.show('override_confirmation',{level:'confirmation',messages:app.lang.get('LBL_TEMPATE_LOAD_MESSAGE',self.module),onConfirm:replace});}},error:function(){app.alert.show('template-load-error',{level:'error',messages:app.lang.get('LBL_TEMPLATE_LOAD_ERROR','KBContentTemplates')});}});},this));},_initValidationHandler:function(model){if(model._initValidationHandler===true){return;}
model._initValidationHandler=true;var _doValidateExpDateFieldPartial=_.partial(this._doValidateExpDateField,model),_doValidateActiveDateFieldPartial=_.partial(this._doValidateActiveDateField,model),_validationCompletePartial=_.partial(this._validationComplete,model),_hideValidationAlert=_.partial(this._hideValidationAlert,model);app.error.errorName2Keys['expDateLow']='ERROR_EXP_DATE_LOW';app.error.errorName2Keys['activeDateApproveRequired']='ERROR_ACTIVE_DATE_APPROVE_REQUIRED';app.error.errorName2Keys['activeDateLow']='ERROR_ACTIVE_DATE_LOW';app.error.errorName2Keys['activeDateEmpty']='ERROR_ACTIVE_DATE_EMPTY';model.addValidationTask('exp_date_publish',_.bind(_doValidateExpDateFieldPartial,this));model.addValidationTask('active_date_approve',_.bind(_doValidateActiveDateFieldPartial,this));model.on('validation:complete',_validationCompletePartial,this);model.on('attributes:revert',_hideValidationAlert,this);},_doValidateExpDateField:function(model,fields,errors,callback){var expFName='exp_date',actFName='active_date',fieldName=expFName,expDate=model.get(fieldName),publishingDate=model.get(actFName),status=model.get('status'),changed=model.changedAttributes(model.getSynced())||{},errorKeys=[];if((this._isPublishingStatus(status)&&((!changed.status||!this._isPublishingStatus(changed.status))||(this._isMassUpdate()&&(!publishingDate||app.date(publishingDate).isBefore(Date.now())))))){publishingDate=app.date().formatServer(true);model.set(actFName,publishingDate);}
if(status!=='expired'&&expDate&&publishingDate&&app.date(expDate).isBefore(publishingDate)){if(!this.getField(fieldName)&&this.getField(actFName)){fieldName=actFName;}
errors[fieldName]=errors[fieldName]||{};errors[fieldName].expDateLow=true;errorKeys.push('expDateLow');}
if((this.context.get('layout')==='records'||this.context.get('isSubpanel')===true)&&!_.isUndefined(errors[fieldName])){this._alertError(errorKeys);}
callback(null,fields,errors);},_doValidateActiveDateField:function(model,fields,errors,callback){var fieldName='active_date',status=model.get('status'),publishingDate=model.get(fieldName),errorKeys=[];if(status=='approved'){if(publishingDate&&app.date(publishingDate).isBefore(Date.now())){errors[fieldName]=errors[fieldName]||{};errors[fieldName].activeDateLow=true;errorKeys.push('activeDateLow');if((this.context.get('layout')==='records'||this.context.get('isSubpanel')===true)&&!_.isEmpty(errors[fieldName])&&!this._isMassUpdate()){this._alertError(errorKeys);}
callback(null,fields,errors);}else if(!publishingDate&&!this._isMassUpdate()){app.alert.show('save_without_publish_date_confirmation',{level:'confirmation',messages:app.lang.get('LBL_SPECIFY_PUBLISH_DATE','KBContents'),confirm:{label:app.lang.get('LBL_YES')},cancel:{label:app.lang.get('LBL_NO')},onConfirm:function(){callback(null,fields,errors);},onCancel:_.bind(function(){var field=this.getField(fieldName,model);if(!_.isEmpty(field)){var fieldElement=field.getFieldElement();if(_.isFunction(this.handleFieldError)){this.handleFieldError(field,true);}
if(fieldElement.find(field.fieldTag).length===0){fieldElement.closest('[data-name='+fieldName+']').find('.record-edit-link-wrapper').click();}
_.defer(function(){field.$(field.fieldTag).focus();field.focus();});}
errors.kbcontentsValidationCancel={stub:true};callback(null,fields,errors);},this)});}else if(!publishingDate){errors[fieldName]=errors[fieldName]||{};errors[fieldName].activeDateEmpty=true;callback(null,fields,errors);}else{callback(null,fields,errors);}}else{callback(null,fields,errors);}},_isMassUpdate:function(){return this.action==='massupdate';},_validationComplete:function(model,isValid){if(isValid){this._hideValidationAlert();var changed=model.changedAttributes(model.getSynced());var current=model.get('status');if(current=='expired'){model.set('exp_date',app.date().formatServer(true));}else if(this._isPublishingStatus(current)&&!(changed.status&&this._isPublishingStatus(changed.status))){model.set('active_date',app.date().formatServer(true));}}},_hideValidationAlert:function(){app.alert.dismiss('kb-validation-error');},_alertError:function(keys){var messages=[];_.each(keys,function(key){messages.push(app.lang.get(app.error.errorName2Keys[key],'KBContents'));});if(messages.length>0){app.alert.show('kb-validation-error',{level:'error',messages:messages,autoClose:false});}},_isPublishingStatus:function(status){return['published'].indexOf(status)!==-1;},onDetach:function(){if(this.model){this.model.removeValidationTask('exp_date_publish');this.model.removeValidationTask('active_date_approve');}},saveAndCreate:function(){var createAction=this.context.parent.createAction,callback;if(!createAction){Object.getPrototypeOf(this).saveAndCreate.call(this);return;}
switch(createAction){case this.CONTENT_LOCALIZATION:callback=this.createLocalization;break;case this.CONTENT_REVISION:callback=this.createRevision;break;}
if(callback){this.initiateSave(_.bind(function(){this.context.loadDrawer=true;if(this.hasSubpanelModels){_.each(this.context.children,function(child){if(child.get('isCreateSubpanel')){this.context.trigger('subpanel:resetCollection:'+child.get('link'),true);}},this);this.hasSubpanelModels=false;}
callback.call(this,this.model);},this));}}});});})(SUGAR.App);
/* End of File modules/KBContents/clients/base/plugins/KBContent.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('EmailTemplates',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.model.on('change:attachments_collection',this._toggleAttachmentsVisibility,this);this.on('insertClicked',this._insertVariable,this);});},_toggleAttachmentsVisibility:function(){var attachmentsField=this.getField('attachments_collection');if(!attachmentsField){return;}
var $el=attachmentsField.getFieldElement();$el.closest('.record-cell').toggle(!attachmentsField.isEmpty());},_insertVariable:function(text){if(this.model.get('text_only')){this._insertVariableText(text);}else{this._insertVariableHtml(text);}},_insertVariableText:function(text){var field=this.getField('body');if(_.isEmpty(field)){return;}
var textarea=_.first(field.$el.find('textarea'));if(_.isEmpty(textarea)){return;}
if(document.selection){textarea.focus();var sel=document.selection.createRange();sel.text=text;}
else if(textarea.selectionStart||textarea.selectionStart==='0'){var startPos=textarea.selectionStart;var endPos=textarea.selectionEnd;textarea.value=textarea.value.substring(0,startPos)+text+
textarea.value.substring(endPos,textarea.value.length);}else{textarea.value+=text;}},_insertVariableHtml:function(text){var bodyField=this.getField('body_html');var editor=bodyField._htmleditor;editor.getWin().focus();editor.execCommand('mceInsertRawHTML',false,text);},onDetach:function(){if(this.model){this.model.off('change:attachments_collection',this._toggleAttachmentsVisibility);}
this.off('insertClicked',this._insertVariable);}});});})(SUGAR.App);
/* End of File modules/EmailTemplates/clients/base/plugins/EmailTemplates.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('TbACLs',['field'],{events:{'click .btn[data-rname=select-team]':'selectTeam'},isTBAEnabled:false,onAttach:function(component,plugin){this.on('init',function(){this.isTBAEnabled=this.isEnabledForModule(this.module);});},selectTeam:function(evt){var index=$(evt.currentTarget).data('index');if(!this.value[index]||!this.value[index].id){return;}
this.toggleSelectedTeam(index);},toggleSelectedTeam:function(index){if(!this.value[index]||!this.value[index].id){return;}
this.value[index].selected=this.value[index].selected?false:true;this._updateAndTriggerChange(this.value);this._toggleSelectedButton(index,this.value[index].selected);},_toggleSelectedButton:function(index,state){var state=state||false,btnName='select-team',btnSelector='.btn[data-rname='+btnName+'][data-index='+index+']',btnIconSelector=btnSelector+' i.fa';if(state){this.$(btnSelector).addClass('active');this.$(btnIconSelector).removeClass('sicon-lock').addClass('sicon-unlock');}else{this.$(btnSelector).removeClass('active');this.$(btnIconSelector).removeClass('sicon-unlock').addClass('sicon-lock');}},isEnabledForModule:function(module){if(!_.isUndefined(app.config.teamBasedAcl)&&!_.isUndefined(app.config.teamBasedAcl.enabled)&&!_.isUndefined(app.config.teamBasedAcl.enabledModules)){return app.config.teamBasedAcl.enabled&&(_.indexOf(app.config.teamBasedAcl.enabledModules,module)!==-1);}else{return false;}},onDetach:function(component,plugin){}});});})(SUGAR.App);
/* End of File modules/Teams/clients/base/plugins/TbACLs.js */

(function(app){app.events.on('app:init',function(){var components=[];app.plugins.register('KBNotify',['view','field'],{onAttach:function(component,plugin){components.push(component);},notifyAll:function(name,options){_.each(components,function(component){component.trigger(name,options);});},onDetach:function(){components=_.without(components,this);}});});})(SUGAR.App);
/* End of File modules/KBContents/clients/base/plugins/KBNotify.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Tinymce',['view','field'],{$embeddedInput:null,fileFieldName:null,existingImages:null,newImages:null,MIN_TINYMCE_EDITOR_HEIGHT:200,TINYMCE_EDITOR_RESIZE_PADDING:5,onAttach:function(component){if(component instanceof app.view.Field){this._fieldOnAttach(component);}else if(component instanceof app.view.View){this._viewOnAttach(component);}},_viewOnAttach:function(component){component.on('render',function(){this.setupEditorResize();},this);},_fieldOnAttach:function(component){component.on('init',function(){this.fileFieldName=component.options.def.name+'_file';this.$embeddedInput=$('<input />',{name:this.fileFieldName,type:'file'}).hide();},this);component.on('render',function(){component.$el.append(this.$embeddedInput);},this);},onDetach:function(component){if(component instanceof app.view.Field){this._fieldOnDetach(component);}else if(component instanceof app.view.View){this._viewOnDetach(component);}},_viewOnDetach:function(component){$(window).off('resize.'+this.cid);},_fieldOnDetach:function(component){this.$embeddedInput.remove();},setupEditorResize:function(){this.resizeEditor=_.debounce(_.bind(this._resizeEditor,this),100);this.listenTo(this.context,'tinymce:oninit',function(){this.resizeEditor();});this.listenTo(app.drawer,'drawer:resize',function(){this.resizeEditor();});this.on('more-less:toggled',function(){this.resizeEditor();},this);if(this.module==='Emails'){this.on('email-recipients:toggled',function(){this.resizeEditor();},this);}
$(window).on('resize.'+this.cid,this.resizeEditor);},_resizeEditor:function(){var $editor;var layoutHeight;var recordHeight;var showToggleHeight;var editorHeight;var diffHeight;var newEditorHeight;if(this.disposed){return;}
$editor=this.$('.mce-stack-layout .mce-stack-layout-item iframe');if($editor.length===0){return;}
layoutHeight=this.layout.$el.outerHeight(true);recordHeight=this.$('.record').outerHeight(true);showToggleHeight=this.$('.show-hide-toggle').outerHeight(false);editorHeight=$editor.height();diffHeight=layoutHeight-recordHeight-showToggleHeight-this.TINYMCE_EDITOR_RESIZE_PADDING;newEditorHeight=editorHeight+diffHeight;if(newEditorHeight<this.MIN_TINYMCE_EDITOR_HEIGHT){newEditorHeight=this.MIN_TINYMCE_EDITOR_HEIGHT;}
$editor.height(newEditorHeight);},handleEmbeddedImages:function(value){if(!_.isEmpty(this.newImages)){this._removeImages(this.newImages);}
this._initImages();if(value){var images=this._parseImages(value);this.existingImages.push(...images);}},handleImageSave:function(){if(typeof tinymce=='object'&&tinymce.activeEditor){var currentImages=this._parseImages(tinymce.activeEditor.getContent());var removedImages=_.difference(_.union(this.existingImages,this.newImages),currentImages);if(!_.isEmpty(removedImages)){this._removeImages(removedImages);}
this._initImages();}},_initImages:function(){this.newImages=[];this.existingImages=[];},_parseImages:function(value){var images=[];var matches=value.matchAll(/\/EmbeddedFiles\/(\S+)\/file\//g);for(const match of matches){if(!_.contains(images,match[1])){images.push(match[1]);}}
return images;},_removeImages:function(fileIds){_.each(fileIds,function(fileId){var embeddedFile=app.data.createBean('EmbeddedFiles',{id:fileId});embeddedFile.destroy({showAlerts:false});});},tinyMCEImagePasteCallback:function(blobInfo,success,failure){var embeddedFile=app.data.createBean('EmbeddedFiles');embeddedFile.save({name:blobInfo.filename()},{success:_.bind(this._savePastedImage,this,blobInfo,success,failure)});},_savePastedImage:function(blobInfo,success,failure,model){var imageData=[{files:[blobInfo.blob()]}];model.uploadFile(this.fileFieldName,imageData,{success:_.bind(function(rsp){var url=app.api.buildFileURL({module:'EmbeddedFiles',id:rsp.record.id,field:this.fileFieldName},{htmlJsonFormat:false,passOAuthToken:false,cleanCache:true,forceDownload:false});success(url);this.newImages.push(rsp.record.id);var img=tinymce.activeEditor.selection.getNode().querySelector('img');img.setAttribute('alt',rsp[this.fileFieldName].name);img.setAttribute('width',img.naturalWidth);img.setAttribute('height',img.naturalHeight);},this),error:_.bind(function(){app.alert.show('upload-error',{level:'error',messages:'ERROR_UPLOAD_FAILED'});failure('',{remove:true});},this)});},tinyMCEFileBrowseCallback:function(fieldName,url,type,win){if(_.isUndefined(app.metadata.getModule('EmbeddedFiles'))){return;}
var attributes={fieldName:fieldName,type:type,win:win};this.$embeddedInput.unbind().change(_.bind(this._onEmbededFile,this,attributes));this.$embeddedInput.trigger('click');},_onEmbededFile:function(attributes,event){var $target=$(event.target),fileObj=$target[0].files[0];if(attributes.type==='image'&&fileObj.type.indexOf('image')===-1){this.clearFileInput($target);tinymce.activeEditor.windowManager.alert(app.lang.get('LBL_UPLOAD_ONLY_IMAGE','EmbeddedFiles'));return;}
var embeddedFile=app.data.createBean('EmbeddedFiles');embeddedFile.save({name:fileObj.name},{success:_.bind(this._saveEmbededFile,this,attributes)});},_saveEmbededFile:function(attributes,model){model.uploadFile(this.fileFieldName,this.$embeddedInput,{success:_.bind(function(rsp){var forceDownload=!(rsp[this.fileFieldName]['content-type'].indexOf('image')!==-1);var url=app.api.buildFileURL({module:'EmbeddedFiles',id:rsp.record.id,field:this.fileFieldName},{htmlJsonFormat:false,passOAuthToken:false,cleanCache:true,forceDownload:forceDownload});$(attributes.win.document).find('#'+attributes.fieldName).val(url);this.newImages.push(rsp.record.id);if(attributes.type==='image'){this.updateImageData(url);}
this.clearFileInput(this.$embeddedInput);},this),error:_.bind(function(){app.alert.show('upload-error',{level:'error',messages:'ERROR_UPLOAD_FAILED'});this.clearFileInput(this.$embeddedInput);},this)});},clearFileInput:function($field){$field.val('');$field.replaceWith($field.clone(true));},updateImageData:function(url){var win=tinymce.activeEditor.windowManager.windows[0];win.find('#src').value(url).fire('change');}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Tinymce.js */

(function(app){app.events.on('app:init',function(){var BeanOverrides,Link,VirtualCollection;Link=app.BeanCollection.extend({initialize:function(models,options){options||(options={});if(options.module){this.module=options.module;delete options.module;}
this.synced=[];this.defaults=[];app.BeanCollection.prototype.initialize.call(this,models,options);},isSynced:function(model){return _.contains(this.synced,model.id);},transpose:function(){var actions;actions=this.reduce(function(json,model){switch(model.get('_action')){case'delete':json.delete.push(model.id);break;case'create':json.create.push(_.omit(model.toJSON(),'_action'));break;default:json.add.push(_.omit(model.toJSON(),'_action'));}
return json;},{create:[],add:[],delete:[]});if(actions.create.length===0){delete actions.create;}
if(actions.add.length===0){delete actions.add;}
if(actions.delete.length===0){delete actions.delete;}
return actions;},linkRecord:function(model){model.set('_action',model.isNew()?'create':'add');this.add(model,{merge:true});return this;},unlinkRecord:function(model){if(this.isSynced(model)){model.set('_action','delete');this.add(model,{merge:true});}else{this.undo(model);}
return this;},undo:function(model){this.removeDefault(model);this.remove(model);return this;},appendDefault:function(model){this.defaults.push(model.id);return this;},removeDefault:function(model){this.defaults=_.without(this.defaults,model.id);return this;},hasChanged:function(){return _.difference(_.pluck(this.models,'id'),this.defaults).length>0;},setSynced:function(models){var undos=[];this.synced=_.isArray(models)?models.slice():this.pluck('id');this.each(function(model){if(_.contains(this.synced,model.id)){undos.push(model);}},this);_.each(undos,this.undo,this);return this;},clearAndUpdateSynced:function(){var linked,unlinked;linked=_.union(this.where({'_action':'create'}),this.where({'_action':'add'}));unlinked=this.where({'_action':'delete'});this.setSynced(_.union(this.synced,_.pluck(linked,'id')));this.setSynced(_.difference(this.synced,_.pluck(unlinked,'id')));return this;},addSynced:function(model){this.synced.push(model.id);this.undo(model);return this;}},false);VirtualCollection=app.MixedBeanCollection.extend({constructor:function(models,options){app.logger.warn('VirtualCollection is deprecated since 8.3.0 and may be removed in 9.3.0 or any subsequent release.');options||(options={});app.MixedBeanCollection.prototype.constructor.call(this,models,options);this.offsets=options.offsets||{};_.each(this.links,function(link){link.setSynced();if(_.isUndefined(this.offsets[link.link.name])){this.offsets[link.link.name]=link.synced.length;}},this);},initialize:function(models,options){options||(options={});this.parent=options.parent;delete options.parent;this.fieldName=options.fieldName;delete options.fieldName;this.context=options.context;delete options.context;this.relatedModules={};this.links=_.reduce(options.links,function(memo,link){var module,options;link=(_.isString(link))?link:link.name;module=app.data.getRelatedModule(this.parent.module,link);this.relatedModules[module]=link;options={link:{name:link,bean:this.parent},module:module};memo[link]=new Link([],options);return memo;},{},this);delete options.links;this.parent.on('sync',function(){_.each(this.links,function(link){link.clearAndUpdateSynced();});},this);app.MixedBeanCollection.prototype.initialize.call(this,models,options);},_prepareModel:function(model,options){model=app.MixedBeanCollection.prototype._prepareModel.call(this,model,options);model.link=this.links[this.relatedModules[model.module]].link;return model;},add:function(models,options){var added=[];options||(options={});models=_.isArray(models)?models.slice():[models];if(_.compact(models).length===0){return this;}
_.each(models,function(model){var existingModel,relationship;model=this._prepareModel(model,options);existingModel=this.get(model.id);relationship=this.links[model.link.name];if(existingModel){if(options.merge){relationship.linkRecord(model);}}else{if(relationship.isSynced(model)){relationship.undo(model);}else{relationship.linkRecord(model);}}
if(!existingModel||options.merge){app.MixedBeanCollection.prototype.add.call(this,model,options);added.push(this.get(model.id));}
if(options.default){relationship.appendDefault(model);}},this);if(!options.silent&&added.length>0){this._triggerChange(added,options);}
return this;},remove:function(models,options){var removed=[];options||(options={});models=_.isArray(models)?models.slice():[models];if(_.compact(models).length===0){return this;}
_.each(models,function(model){var existingModel,relationship;existingModel=this.get(model);if(existingModel){relationship=this.links[existingModel.link.name];relationship.unlinkRecord(existingModel);app.MixedBeanCollection.prototype.remove.call(this,existingModel,options);removed.push(existingModel);}},this);if(!options.silent&&removed.length>0){this._triggerChange(removed,options);}
return this;},reset:function(models,options){var existingModels;options||(options={});models=_.isArray(models)?models.slice():[models];this.revert(_.extend({},options,{silent:true}));existingModels=this.models.slice();app.MixedBeanCollection.prototype.reset.call(this,models,options);_.each(existingModels,function(existingModel){var relationship=this.links[existingModel.link.name];function match(newModel){return(newModel.id===existingModel.id&&newModel.module===existingModel.module);}
relationship.undo(existingModel);if(!this.find(match)){relationship.unlinkRecord(existingModel);}},this);if(!options.silent){this._triggerChange(this.models,options);}
return this;},revert:function(options){var add,remove;options||(options={});add=[];remove=[];_.each(this.links,function(relationship){relationship.each(function(model){if(relationship.isSynced(model)){add.push(model);}else{remove.push(model);}});});this.remove(remove,{silent:true});this.add(add,{merge:true,silent:true});if(!options.silent){this._triggerChange(this.models,options);this.trigger('reset',this,options);}
return this;},hasChanged:function(){var changed=false;_.each(this.links,function(link){if(link.hasChanged()){changed=true;}},this);return changed;},hasMore:function(){return _.some(this.offsets,function(offset){return(offset>-1);});},fetch:function(options){var callbacks,complete,error,params,success,url;options||(options={});params={};params.erased_fields=true;params.fields=options.fields?options.fields:['name'];params.order_by=options.order_by||this.parent.fields[this.fieldName].order_by;if(!_.isArray(params.order_by)){params.order_by=[params.order_by];}
_.each(params.order_by,function(sort){var field=sort.split(':')[0];if(!_.contains(params.fields,field)){params.fields.push(field);}});params.module_list=_.keys(this.relatedModules).join(',');params.fields=params.fields.join(',');params.order_by=params.order_by.join(',');params.max_num=options.limit||app.config.maxSubpanelResult;if(options.offset){params.offset=options.offset;}
callbacks={};success=options.success;error=options.error;complete=options.complete;callbacks.success=_.bind(function(data,request){if(success){success(data,request);}
this.parent.trigger('sync:'+this.fieldName,this,data,options,request);},this);if(error){callbacks.error=error;}
if(complete){callbacks.complete=complete;}
url=[app.api.serverUrl,this.parent.module,this.parent.id,'collection',this.fieldName].join('/');_.each(params,function(value,key){if(value===null||value===undefined){delete params[key];}});params=$.param(params);if(params.length>0){url+='?'+params;}
return app.api.call('read',url,null,callbacks);},fetchAll:function(options){var self;var success;var complete;function paginate(){if(self.hasMore()){self.paginate(options);}else{if(success){success(self,options);}
if(complete){complete(self,options);}}}
self=this;options||(options={});if(options.success){success=options.success;delete options.success;}
if(options.complete){complete=options.complete;delete options.complete;}
options.success=paginate;options.limit=_.max([options.limit,app.config.maxSubpanelResult,app.config.maxQueryResult]);paginate();},paginate:function(options){var success;options||(options={});options.offset=this.offsets;success=options.success;options.success=_.bind(function(data,request){var offsets,records;data||(data={});records=data.records||[];offsets=data.next_offset||{};_.each(offsets,function(offset,link){this.offsets[link]=offset;},this);this.add(records,{merge:true});_.each(records,function(record){var model;model=this._prepareModel(record);this.links[model.link.name].addSynced(model);},this);if(success){success(data,request);}},this);this.fetch(options);},search:function(options){var callbacks,params,url;params={};options||(options={});params.q=options.query;params.max_num=options.limit;params.search_fields=options.search_fields?options.search_fields.join(','):'name';params.fields=options.fields?options.fields.join(','):'name';params.erased_fields=true;if(this.links){params.module_list=_.map(this.links,function(link){return link.module;}).join(',');}
callbacks={};callbacks.success=function(data,request){if(options.success){options.success(app.data.createMixedBeanCollection(data.records),request);}};if(options.error){callbacks.error=options.error;}
if(options.complete){callbacks.complete=options.complete;}
url=app.api.buildURL('Calendar','invitee_search',null,params);return app.api.call('read',url,null,callbacks);},_triggerChange:function(change,options){this.parent.trigger('change:'+this.fieldName,this.parent,this,change,options);this.parent.trigger('change',this.parent,options);}});BeanOverrides=function(model){this.model=model;};BeanOverrides.prototype.toJSON=function(collections,links,options){var json={},fields=_.unique(_.union(collections,_.keys(links)));_.each(fields,function(attribute){var field=this.get(attribute);if(!field){return;}
if(_.contains(collections,attribute)){json[attribute]=field.toJSON(options);}
_.each(links[attribute],function(link){var actions=field.links[link].transpose();if(actions.create||actions.add||actions.delete){json[link]=actions;}});},this.model);return json;};BeanOverrides.prototype.copy=function(source,fields,options){var attrs,clone,vardefs;attrs={};vardefs=app.metadata.getModule(this.model.module).fields;clone=function(model){var attributes=_.chain(model.attributes).clone().omit('_action').value();return app.data.createBean(model.module,attributes);};_.each(fields,function(name){attrs[name]=[];});if(_.size(attrs)>0){this.model.set(attrs,options);}
_.each(fields,function(name){var def=vardefs[name],collection;if(def&&def.duplicate_on_record_copy!=='no'&&(def.duplicate_on_record_copy==='always'||!def.auto_increment)&&source.has(name)){collection=this.get(name);collection.add(source.get(name).map(clone));}},this.model);};BeanOverrides.prototype.set=function(attr,options){var isEqual=function(previous,current){var previousFiltered,currentFiltered,filter=function(collection){return _.map(collection.toJSON(),function(model){var result={};_.each(model,function(value,key){if(key.indexOf('_')!==0){result[key]=value;}});return result;});};if(previous){previousFiltered=filter(previous);}
if(current){currentFiltered=filter(current);}
return _.isEqual(previousFiltered,currentFiltered);};if(!this.model._changing){this.model.changed={};}
_.each(attr,function(models,key){var collection,previous;options=_.extend({},options,{parent:this,fieldName:key,links:this.fields[key].links});if(!_.isArray(models)){if(models instanceof Backbone.Collection){models=models.models;}else if(models){if(models.next_offset){options.offsets=models.next_offset;}
if(models.records){models=models.records;}else{models=[models];}}else{models=[];}}
collection=new VirtualCollection(models,options);previous=this.get(key);this.attributes[key]=collection;this.setDefault(key,collection);if(!isEqual(previous,this.get(key))){this.changed[key]=collection;if(!options.silent){this.trigger('change:'+key,collection);}}},this.model);return this.model;};BeanOverrides.prototype.hasChanged=function(attr){if(attr===null||attr==='invitees'){attr=['invitees'];}else{attr=[];}
return _.some(attr,function(attribute){var collection=this.get(attribute);return(collection&&collection.hasChanged());},this.model);};BeanOverrides.prototype.changedAttributes=function(diff){var changed={};var attr='invitees';var collection=this.model.get(attr);if(collection&&collection.hasChanged()){changed[attr]=collection;}
return changed;};BeanOverrides.prototype.revertAttributes=function(options){var collection=this.model.get('invitees');if(collection){collection.revert(options);}};BeanOverrides.prototype.getSynced=function(key){var syncedAttributes={};if(key){return this.model.get(key);}
var attr='invitees';var collection=this.model.get(attr);if(collection){syncedAttributes[attr]=collection;}
return syncedAttributes;};app.plugins.register('VirtualCollection',['model'],{onAttach:function(model,plugin){var overrides=new BeanOverrides(this);this.toJSON=_.wrap(this.toJSON,function(_super,options){var attrs,fields,collectionFieldNames,collections,links,nonAttrFields,collectionsToJSON,attrToJSON;fields=(options&&options.fields)?options.fields:_.keys(this.attributes);collectionFieldNames=this.getCollectionFieldNames();collections=_.intersection(collectionFieldNames,fields);links={};nonAttrFields=_.clone(collections);_.each(collectionFieldNames,function(fieldName){var field=this.get(fieldName);if(_.isObject(field)&&field.links){_.each(field.links,function(link){if(_.contains(fields,link.link.name)){(links[fieldName]||(links[fieldName]=[])).push(link.link.name);nonAttrFields.push(link.link.name);}});}},this);attrs=_.difference(fields,_.unique(nonAttrFields));collectionsToJSON=overrides.toJSON(collections,links,options);attrToJSON=_super.call(this,_.extend({},options,{fields:attrs}));return _.extend(attrToJSON,collectionsToJSON);});this.copy=_.wrap(this.copy,function(_super,source,fields,options){var attrs,collections,collectionFieldNames,vardefs;vardefs=app.metadata.getModule(this.module).fields;fields=fields||_.pluck(vardefs,'name');collectionFieldNames=this.getCollectionFieldNames();collections=_.intersection(collectionFieldNames,fields);attrs=_.difference(fields,collectionFieldNames);overrides.copy(source,collections,options);_super.call(this,source,attrs,options);});this.set=_.wrap(this.set,function(_super,key,val,options){var attrs,collections,hasChanged,changedAttributes;if(key==null){return this;}
if(typeof key==='object'){attrs=key;options=val;}else{(attrs={})[key]=val;}
options||(options={});collections=_.pick(attrs,this.getCollectionFieldNames());attrs=_.omit(attrs,_.keys(collections));overrides.set(collections,options);changedAttributes=this.changed;_super.call(this,attrs,options);hasChanged=this.hasChanged();_.extend(this.changed,changedAttributes);if(!options.silent&&!hasChanged&&!_.isEmpty(changedAttributes)){this.trigger('change',this,options);}
return this;});this.get=_.wrap(this.get,function(_super,attr){if(attr==='invitees'){return Backbone.Model.prototype.get.call(this,attr);}
return _super.call(this,attr);});this.hasChanged=_.wrap(this.hasChanged,function(_super,attr){return _super.call(this,attr)||overrides.hasChanged(attr);});this.changedAttributes=_.wrap(this.changedAttributes,function(_super,diff){var fromOverrides=overrides.changedAttributes();var nonCollectionFields;var changed;if(diff){fromOverrides=_.pick(fromOverrides,_.keys(diff));}
nonCollectionFields=_super.call(this,diff)||{};changed=_.extend(nonCollectionFields,fromOverrides);return _.isEmpty(changed)?false:changed;});this.revertAttributes=_.wrap(this.revertAttributes,function(_super,options){overrides.revertAttributes(options);_super.call(this,options);});this.getSynced=_.wrap(this.getSynced,function(_super,key){var fromOverrides=overrides.getSynced(key);var fromSuper=_super.call(this,key);if(key){return _.contains(this.getCollectionFieldNames(),key)?fromOverrides:fromSuper;}
return _.extend(app.utils.deepCopy(fromSuper||{}),fromOverrides);});},getCollectionFieldNames:function(){if(this.fields.invitees){return['invitees'];}
return[];}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/VirtualCollection.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('SearchForMore',['field'],{addSearchForMoreButton:function($el){var $button=$('<div/>').addClass('select2-result-label').attr('name','search_for_more').html(app.lang.get('LBL_SEARCH_FOR_MORE',this.module));$el.on('select2-open',_.bind(function(){var $dropdown,$result;$dropdown=$el.select2('dropdown');if($dropdown.find('[name=search_for_more]').length===0){$result=$('<li class="select2-result">').append($button).mousedown(_.bind(function(){$el.select2('close');this.searchForMore($el);},this));$dropdown.append($('<ul class="select2-results">').append($result));}},this));},searchForMore:function($el){var layout,module,modules;if(!_.isUndefined(this.def.links)){layout='selection-list-module-switch';modules=_.chain(this.def.links).map(function(link){return app.data.getRelatedModule(this.module,link);},this).value();module=_.first(modules);}else{layout='selection-list';module=this.module;modules=[module];}
app.drawer.open({layout:layout,context:{module:module,filterList:modules}},function(model){if(model){$el.data('select2').triggerChange({added:{attributes:model}});}});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/SearchForMore.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('EditAllRecurrences',['view'],{onAttach:function(){this.on('init',function(){this.context.on('all_recurrences:edit',this.editAllRecurrences,this);if(this.context.get('all_recurrences')===true){this.toggleAllRecurrencesMode(true);this.context.unset('all_recurrences');}else{this.toggleAllRecurrencesMode(false);}
this.model.on('sync',function(model,data,options){if(options&&options.refetch_list_collection){this._refetchListCollection();}
if(!this._isRecurringEvent(this.model)){this.toggleAllRecurrencesMode(true);if(this.context.get('action')==='edit'){this.toggleEdit(true);}}},this);});this.cancelClicked=_.wrap(this.cancelClicked,function(_super,event){_super.call(this,event);this.toggleAllRecurrencesMode(false);});this.setEditableFields=_.wrap(this.setEditableFields,function(_super){this.toggleEditRecurrenceFields(this.allRecurrencesMode);_super.call(this);});this.setRoute=_.wrap(this.setRoute,function(_super,action){if(this.allRecurrencesMode&&this._isRecurringEvent(this.model)&&action==='edit'){action='edit/all_recurrences';}
_super.call(this,action);});this.handleSave=_.wrap(this.handleSave,function(_super){_super.call(this);this._doAfterSave();});this.getCustomSaveOptions=_.wrap(this.getCustomSaveOptions,_.bind(function(_super,options){return _.extend(_super.call(this,options),this.addRecurrenceOptionsForSave(options));},this));},editAllRecurrences:function(){var parentId=this.model.get('repeat_parent_id');if(!_.isEmpty(parentId)&&parentId!==this.model.id){this.editAllRecurrencesFromParent(parentId);}else{this.toggleAllRecurrencesMode(true);this.context.trigger('button:edit_button:click');}},toggleAllRecurrencesMode:function(enabled){if(!this._isRecurringEvent(this.model)){enabled=true;}
this.allRecurrencesMode=enabled;this.setEditableFields();},toggleEditRecurrenceFields:function(editable){_.each(['repeat_type','recurrence','repeat_interval','repeat_dow','repeat_until','repeat_count','repeat_days'],function(field){var $editWrapper=this.$('span.record-edit-link-wrapper[data-name="'+field+'"]');if(editable){this.noEditFields=_.without(this.noEditFields,field);$editWrapper.removeClass('hide');}else if(!_.contains(this.noEditFields,field)){this.noEditFields.push(field);$editWrapper.addClass('hide');}},this);},editAllRecurrencesFromParent:function(parentId){var route=app.router.buildRoute(this.module,parentId,'edit/all_recurrences');app.router.navigate('#'+route,{trigger:true});},addRecurrenceOptionsForSave:function(options){options=options||{};if(this.allRecurrencesMode){options.params=options.params||{};options.params.all_recurrences=true;options.refetch_list_collection=true;}
return options;},_isRecurringEvent:function(model){return(model.get('repeat_type')!=='');},_doAfterSave:function(){if(this.allRecurrencesMode){this._disableNextPrevButtons();}
this.toggleAllRecurrencesMode(false);},_disableNextPrevButtons:function(){var $nextPrevButtons=this.$('.btn-group-previous-next');$nextPrevButtons.find('.next-row').addClass('disabled');$nextPrevButtons.find('.previous-row').addClass('disabled');},_enableNextPrevButtons:function(listCollection){var $nextPrevButtons=this.$('.btn-group-previous-next');if(listCollection.hasNextModel(this.model)){$nextPrevButtons.find('.next-row').removeClass('disabled');}
if(listCollection.hasPreviousModel(this.model)){$nextPrevButtons.find('.previous-row').removeClass('disabled');}},_refetchListCollection:function(){var self=this,listCollection=this.context.get('listCollection');if(listCollection&&listCollection.models&&listCollection.models.length>1){listCollection.fetch({success:function(){self._enableNextPrevButtons(listCollection);}});}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/EditAllRecurrences.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('AddAsInvitee',['view'],{onAttach:function(){this.once('render',function(){this.turnOffAutoInviteParent();if(this.isFieldPrepopulatedOnCreate('parent_name')){this.handleParentChange(this.model,{default:true});}
if(this.isFieldPrepopulatedOnCreate('assigned_user_name')){this.handleAssignedUserChange(this.model,{default:true});}
if(this.isFieldPrepopulatedOnCreate('contact_id')){this.addContactFromContactIdField(this.model,{default:true});}
if(this.model.isNew()){this.addChangeListener('parent_name',this.handleParentChange);this.addChangeListener('assigned_user_name',this.handleAssignedUserChange);}else{this.model.once('sync',function(){this.addChangeListener('parent_name',this.handleParentChange);this.addChangeListener('assigned_user_name',this.handleAssignedUserChange);},this);}},this);},isFieldPrepopulatedOnCreate:function(fieldName){return this.model.isNew()&&!_.isUndefined(this.model.get(fieldName));},addChangeListener:function(fieldName,callback){this.model.on('change:'+fieldName,callback,this);},handleParentChange:function(model,options){var parent=app.data.createBean(model.get('parent_type'),{id:model.get('parent_id'),name:model.get('parent_name')});if(this.isPossibleInvitee(parent)){if(this._isCreateAndLinkAction(parent,model)){parent.deletable=false;}
this.addAsInvitee(parent,options);}},handleAssignedUserChange:function(model,options){var user;user=app.data.createBean('Users',{id:model.get('assigned_user_id'),name:model.get('assigned_user_name')});if(this.isPossibleInvitee(user)){this.addAsInvitee(user,options);}},addContactFromContactIdField:function(model,options){var contact=app.data.createBean('Contacts',{id:model.get('contact_id'),name:model.get('contact_name')});if(this.isPossibleInvitee(contact)){if(this._isCreateAndLinkAction(contact,model)){contact.deletable=false;}
this.addAsInvitee(contact,options);}},_isCreateAndLinkAction:function(invitee,model){return(!_.isUndefined(model.link)&&!_.isUndefined(model.link.bean)&&model.link.bean.module===invitee.module&&model.link.bean.id===invitee.id);},isPossibleInvitee:function(person){var inviteeModuleList=['Leads','Contacts','Users'];var invitees=this.model.get('invitees');return(!_.isEmpty(person.id)&&_.contains(inviteeModuleList,person.module)&&!_.isUndefined(invitees));},turnOffAutoInviteParent:function(){this.model.setDefault('auto_invite_parent',false);},addAsInvitee:function(person,options){var complete;complete=_.bind(function complete(request){options=_.extend({merge:true},(options||{}));this.model.get('invitees').add(person,options);},this);if(person.fields&&_.has(person.fields,'email')&&_.isFunction(person.fetch)){person.fetch({fields:['email'],complete:complete});}else{complete();}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/AddAsInvitee.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DragdropSelect2',['field'],{selectedClass:'drag-drop-selected',itemSelector:'li.select2-search-choice',clickEventName:'click.selectable',multiSelectNone:'none',multiSelectItem:'item',multiSelectRange:'range',onAttach:function(){this.on('init',function(){this.view.on('dragDropSelect2:selected',_.bind(this._handleItemSelected,this));app.shortcuts.register({id:'DragdropSelect2:SelectAll',keys:'ctrl+a',component:this,description:'LBL_SHORTCUT_DRAGDROPSELECT2_SELECTALL',callOnFocus:true,handler:function(){this.context.trigger('dragdropselect2:select:all',event);}});this.context.on('dragdropselect2:select:all',function(event){if($.contains(this.el,event.target)||!_.isEmpty(this.$lastSelectedItem)){this._selectAll();this.$selectablSelect2.select2('close');}},this);});},_isDroppableElement:function($element){return $element.length>0&&!_.isUndefined($element.droppable('instance'));},_isDraggableElement:function($element){return $element.length>0&&!_.isUndefined($element.draggable('instance'));},setDragDropPluginEvents:function($select2){var $items=this.$(this.itemSelector);this.setSelectable($select2,$items);this.setDraggable($select2,$items);this.setDroppable($select2);},setSelectable:function($select2,$items){var self=this;this.$selectablSelect2=$select2;if(this.$selectableItems){this.$selectableItems.off(this.clickEventName);}
this.$selectableItems=$items;this.$selectableItems.on(this.clickEventName,function(event){self.markSelected($(this),self._getMultiSelectType(event));event.stopPropagation();});if(!this.$clearOnClickDoc){this.$clearOnClickDoc=$(document);this.$clearOnClickDoc.on(this.clickEventName,_.bind(this._clearSelected,this));}
if(this.$clearOnContainerClick){this.$clearOnContainerClick.off(this.clickEventName);}
this.$clearOnContainerClick=$select2.select2('container');this.$clearOnContainerClick.off(this.clickEventName);this.$clearOnContainerClick.on(this.clickEventName,_.bind(this._clearSelected,this));},markSelected:function($item,multiSelectType){var rangeTraversal,$rangeItems;if(multiSelectType===this.multiSelectRange&&!_.isEmpty(this.$lastSelectedItem)&&!$item.is(this.$lastSelectedItem)){rangeTraversal=($item.index()>=this.$lastSelectedItem.index())?'nextUntil':'prevUntil';$rangeItems=this.$lastSelectedItem[rangeTraversal]($item);$rangeItems.addClass(this.selectedClass);$item.addClass(this.selectedClass);}else if(multiSelectType===this.multiSelectItem){$item.toggleClass(this.selectedClass);}else{this._clearSelected();$item.addClass(this.selectedClass);}
this.$lastSelectedItem=($item.hasClass(this.selectedClass))?$item:null;this.view.trigger('dragDropSelect2:selected',this.name);},setDraggable:function($select2,$items){var self=this,$mainPane=this.$el.closest('.main-pane'),selectedClassSelector='.'+self.selectedClass;if(this.$draggableItems&&this._isDraggableElement(this.$draggableItems)){this.$draggableItems.draggable('destroy');}
this.$draggableItems=$items;this.$draggableItems.draggable({containment:$mainPane,distance:10,helper:function(event){var $helper=$('<div class="drag-drop-select2-helper"></div>'),$clickedItem=$(event.target).closest('li');$helper.data('sourceField',self.name);$helper.appendTo($mainPane);if(!$clickedItem.hasClass(self.selectedClass)){self._clearSelected();$clickedItem.addClass(self.selectedClass);}
self.$(selectedClassSelector).each(function(){$(this).find('[data-id]').clone().removeAttr('rel').appendTo($helper);});return $helper.get(0);},start:function(){self.$(selectedClassSelector).hide();},stop:function(){self.$(selectedClassSelector).show();}});},setDroppable:function($select2){var self=this,$select2Container=$select2.select2('container');if(this.$select2Container===$select2Container){return;}
if(this.$select2Container&&this._isDroppableElement(this.$select2Container)){this.$select2Container.droppable('destroy');}
this.$select2Container=$select2Container;this.$select2Container.droppable({activeClass:'drop-highlight',hoverClass:'drop-hover',drop:function(event,ui){var sourceField=$(ui.helper).data('sourceField');var sourceCollection=self.model.get(sourceField);var targetCollection=self.model.get(self.name);var draggedItems=[];var droppedItems;if(sourceField===self.name){return;}
$(ui.helper).find('[data-id]').each(function(){var item=sourceCollection.get($(this).data('id'));if(item){draggedItems.push(item);}});droppedItems=_.map(draggedItems,function(model){return model.clone();});if(_.isFunction(self.dropDraggedItems)){self.dropDraggedItems(sourceCollection,targetCollection,draggedItems,droppedItems);}else{sourceCollection.remove(draggedItems);targetCollection.add(droppedItems);}}});},_getMultiSelectType:function(event){if(event.shiftKey===true){return this.multiSelectRange;}else if(event.metaKey===true||event.ctrlKey===true){return this.multiSelectItem;}else{return this.multiSelectNone;}},_clearSelected:function(){this.$(this.itemSelector).removeClass(this.selectedClass);this.$lastSelectedItem=null;},_selectAll:function(){this.$(this.itemSelector).addClass(this.selectedClass);this.view.trigger('dragDropSelect2:selected',this.name);},_handleItemSelected:function(fieldName){if(fieldName!==this.name){this._clearSelected();}},onDetach:function(){if(this.$selectableItems){this.$selectableItems.off(this.clickEventName);}
if(this.$clearOnClickDoc){this.$clearOnClickDoc.off(this.clickEventName);}
if(this.$clearOnContainerClick){this.$clearOnContainerClick.off(this.clickEventName);}
if(this.$draggableItems&&this._isDraggableElement(this.$draggableItems)){this.$draggableItems.draggable('destroy');}
if(this.$select2Container&&this._isDroppableElement(this.$select2Container)){this.$select2Container.droppable('destroy');}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DragdropSelect2.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ReminderTimeDefaults',['view'],{onAttach:function(){this.on('init',this._defaultReminderTimes,this);},_defaultReminderTimes:function(){var defaultPopupReminderTime=parseInt(app.user.getPreference('reminder_time'),10),defaultEmailReminderTime=parseInt(app.user.getPreference('email_reminder_time'),10),popupReminderTimeChanged=this.model.hasChanged('reminder_time'),emailReminderTimeChanged=this.model.hasChanged('email_reminder_time');if(!popupReminderTimeChanged&&!_.isNaN(defaultPopupReminderTime)){this.model.setDefault('reminder_time',defaultPopupReminderTime);this.model.set('reminder_time',defaultPopupReminderTime);}
if(!emailReminderTimeChanged&&!_.isNaN(defaultEmailReminderTime)){this.model.setDefault('email_reminder_time',defaultEmailReminderTime);this.model.set('email_reminder_time',defaultEmailReminderTime);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ReminderTimeDefaults.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CollectionFieldLoadAll',['field'],{onAttach:function(component,plugin){this.on('init',function(){var onComplete=_.bind(function(){if(this.disposed===true){return;}
this.view.trigger('loaded_collection_field',this.name);},this);var fetchAll=_.bind(function(collection){var offsets;var hasMore;var options;var fields;if(this.disposed===true){return;}
options={success:function(){fetchAll(collection);},add:true,limit:-1};fields=_.map(this.def.fields||[],function(field){return _.has(field,'name')?field.name:field;});if(!_.isEmpty(fields)){options.fields=fields;}
if(this.def.order_by){options.order_by=this.def.order_by;}
offsets=collection.next_offset||[0];hasMore=_.some(offsets,function(offset){return offset>-1;});if(hasMore){collection.paginate(options);}else{onComplete();}},this);if(this.model){this.listenTo(this.model,'sync',function(){var collection=this.model.get(this.name);if(this.disposed===true){return;}
if(!this.model.isNew()){this.view.trigger('loading_collection_field',this.name);fetchAll(collection);}});}});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CollectionFieldLoadAll.js */

(function(app){app.events.on('app:init',function(){function getValidationTaskName(component){return'email_participants_validator_'+component.cid;}
app.plugins.register('EmailParticipants',['field'],{onAttach:function(component,plugin){var search=_.debounce(function(query){var data={results:[],more:false};var options={q:query.term,max_num:10,erased_fields:true};var callbacks={};var url=app.api.buildURL('Mail','recipients/find',null,options);var linkName=component.getLinkName();callbacks.success=function(result){var records=_.map(result.records,function(record){record.email_address=record.email;delete record.email;return record;});records=app.data.createMixedBeanCollection(records);data.results=records.map(function(record){var ep;var parentName=app.utils.getRecordName(record);if(linkName){ep=app.data.createBean('EmailParticipants',{_link:linkName,parent:{_acl:record.get('_acl')||{},_erased_fields:record.get('_erased_fields')||[],type:record.module,id:record.get('id'),name:parentName},parent_type:record.module,parent_id:record.get('id'),parent_name:parentName});component.prepareModel(ep);}
return ep;});};callbacks.error=function(){data.results=[];};callbacks.complete=function(){query.callback(data);};app.api.call('read',url,null,callbacks);},300);this.on('init',function(){var task=getValidationTaskName(this);this.model.addValidationTask(task,_.bind(function(fields,errors,callback){var participants=this.model.get(this.name);var hasInvalidParticipants=_.some(participants.models,function(participant){return!!participant.invalid;});if(hasInvalidParticipants){errors[this.name]=errors[this.name]||{};errors[this.name][this.type]=true;}
callback(null,fields,errors);},this));});this.unbindData=_.wrap(this.unbindData,function(_super){var task=getValidationTaskName(this);if(this.model){this.model.removeValidationTask(task);}
_super.call(this);});this.getLinkName=function(){var link=this.def.links[0];return _.has(link,'name')?link.name:link;};this.prepareModel=function(model){var hasParent=model.hasParent();var parent;if(hasParent){parent=model.getParent();}
model.nameIsErased=model.isNameErased();model.emailIsErased=model.isEmailErased();model.locked=!!this.def.readonly;if(!hasParent&&!model.get('email_address_id')){model.invalid=true;}else if(!model.has('invalid_email')&&model.get('email_address_id')&&model.get('email_address')&&!model.emailIsErased){model.invalid=!app.utils.isValidEmailAddress(model.get('email_address'));}else{model.invalid=model.emailIsErased||!!model.get('invalid_email');}
if(hasParent&&parent&&app.acl.hasAccessToModel('view',parent)){model.href='#'+app.router.buildRoute(parent.module,parent.get('id'));}
return model;};this.formatForHeader=function(model,surroundNameWithQuotes){app.logger.warn('Plugins.EmailParticipants#formatForHeader is deprecated. Use '+'Model.Datas.Base.EmailParticipantsModel#toHeaderString instead.');return model.toHeaderString({quote_name:surroundNameWithQuotes});};this.getSelect2Options=function(){var module=this.module;return{containerCss:{width:'100%'},width:'off',minimumInputLength:1,selectOnBlur:true,data:this.getFormattedValue(),initSelection:_.bind(function(element,callback){callback(this.getFormattedValue());},this),query:function(query){search(query);},id:function(choice){return _.isEmpty(choice)?null:choice.cid;},createSearchChoice:_.bind(function(term,data){var choice;var address;if(data.length===0&&app.utils.isValidEmailAddress(term)){choice=app.data.createBean('EmailParticipants',{_link:this.getLinkName(),email_address:term});address=app.data.createBean('EmailAddresses',{email_address:term});address.save({},{success:_.bind(function(model){var collection=this.model.get(this.name);choice.set({email_address_id:model.get('id'),invalid_email:model.get('invalid_email'),opt_out:model.get('opt_out')});this.prepareModel(choice);if(collection.get(choice)){this.model.trigger('change:'+this.name,this.model,collection);}},this)});return this.prepareModel(choice);}},this),formatSearching:function(){return app.lang.get('LBL_LOADING',module);},formatInputTooShort:function(term,min){return'';}};};}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/EmailParticipants.js */

!function(t){function e(t,n){this.list=t,this.options=n=n||{};var i,o,s,r;for(i=0,r=["sort","includeScore","shouldSort"],o=r.length;o>i;i++)s=r[i],this.options[s]=s in n?n[s]:e.defaultOptions[s];for(i=0,r=["searchFn","sortFn","keys","getFn"],o=r.length;o>i;i++)s=r[i],this.options[s]=n[s]||e.defaultOptions[s]}var n=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,o,s,r,a,h,p,c=t.length,l=this.options.location,f=this.options.threshold,u=t.indexOf(this.pattern,l),d=this.patternLen+c,g=1,m=[];for(-1!=u&&(f=Math.min(this._bitapScore(0,u),f),u=t.lastIndexOf(this.pattern,l+this.patternLen),-1!=u&&(f=Math.min(this._bitapScore(0,u),f))),u=-1,e=0;e<this.patternLen;e++){for(i=0,o=d;o>i;)this._bitapScore(e,l+o)<=f?i=o:d=o,o=Math.floor((d-i)/2+i);for(d=o,s=Math.max(1,l-o+1),r=Math.min(l+o,c)+this.patternLen,a=Array(r+2),a[r+1]=(1<<e)-1,n=r;n>=s;n--)if(p=this.patternAlphabet[t.charAt(n-1)],a[n]=0===e?(a[n+1]<<1|1)&p:(a[n+1]<<1|1)&p|((h[n+1]|h[n])<<1|1)|h[n+1],a[n]&this.matchmask&&(g=this._bitapScore(e,n-1),f>=g)){if(f=g,u=n-1,m.push(u),!(u>l))break;s=Math.max(1,2*l-u)}if(this._bitapScore(e+1,l)>f)break;h=a}return{isMatch:u>=0,score:g}};var i=function(t,e,n){var s,r,a;if(e){a=e.indexOf("."),-1!==a?(s=e.slice(0,a),r=e.slice(a+1)):s=e;var h=t[s];if(h)if(r||"string"!=typeof h&&"number"!=typeof h)if(o.isArray(h))for(var p=0,c=h.length;c>p;p++)i(h[p],r,n);else r&&i(h,r,n);else n.push(h)}else n.push(t);return n},o={deepValue:function(t,e){return i(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};e.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:o.deepValue,keys:[]},e.prototype.search=function(t){var e,n,i,s,r=new this.options.searchFn(t,this.options),a=this.list,h=a.length,p=this.options,c=this.options.keys,l=c.length,f=[],u={},d=[],g=function(t,e,n){if(void 0!==t&&null!==t)if("string"==typeof t)i=r.search(t),i.isMatch&&(s=u[n],s?s.score=Math.min(s.score,i.score):(u[n]={item:e,score:i.score},f.push(u[n])));else if(o.isArray(t))for(var a=0;a<t.length;a++)g(t[a],e,n)};if("string"==typeof a[0])for(var m=0;h>m;m++)g(a[m],m,m);else for(var m=0;h>m;m++)for(n=a[m],e=0;l>e;e++)g(p.getFn(n,c[e]),n,m);p.shouldSort&&f.sort(p.sortFn);for(var y=p.includeScore?function(t){return f[t]}:function(t){return f[t].item},v=p.id?function(t){f[t].item=p.getFn(f[t].item,p.id)[0]}:function(){},m=0,b=f.length;b>m;m++)v(m),d.push(y(m));return d},"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Fuse=e}(this);
/* End of File include/javascript/fuse/fuse.js */

!function(){var f,c,u,p,d,s=[];d="undefined"!=typeof global?global:window,p=d.jQuery;var v=function(){return d.tinymce};p.fn.tinymce=function(o){var e,t,i,l=this,r="";if(!l.length)return l;if(!o)return v()?v().get(l[0].id):null;l.css("visibility","hidden");var n=function(){var a=[],c=0;u||(m(),u=!0),l.each(function(e,t){var n,i=t.id,r=o.oninit;i||(t.id=i=v().DOM.uniqueId()),v().get(i)||(n=v().createEditor(i,o),a.push(n),n.on("init",function(){var e,t=r;l.css("visibility",""),r&&++c==a.length&&("string"==typeof t&&(e=-1===t.indexOf(".")?null:v().resolve(t.replace(/\.\w+$/,"")),t=v().resolve(t)),t.apply(e||v(),a))}))}),p.each(a,function(e,t){t.render()})};if(d.tinymce||c||!(e=o.script_url))1===c?s.push(n):n();else{c=1,t=e.substring(0,e.lastIndexOf("/")),-1!=e.indexOf(".min")&&(r=".min"),d.tinymce=d.tinyMCEPreInit||{base:t,suffix:r},-1!=e.indexOf("gzip")&&(i=o.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(r)+"&themes="+escape(o.theme||"modern")+"&plugins="+escape(o.plugins||"")+"&languages="+(i||""),d.tinyMCE_GZ||(d.tinyMCE_GZ={start:function(){var n=function(e){v().ScriptLoader.markDone(v().baseURI.toAbsolute(e))};n("langs/"+i+".js"),n("themes/"+o.theme+"/theme"+r+".js"),n("themes/"+o.theme+"/langs/"+i+".js"),p.each(o.plugins.split(","),function(e,t){t&&(n("plugins/"+t+"/plugin"+r+".js"),n("plugins/"+t+"/langs/"+i+".js"))})},end:function(){}}));var a=document.createElement("script");a.type="text/javascript",a.onload=a.onreadystatechange=function(e){e=e||window.event,2===c||"load"!=e.type&&!/complete|loaded/.test(a.readyState)||(v().dom.Event.domLoaded=1,c=2,o.script_loaded&&o.script_loaded(),n(),p.each(s,function(e,t){t()}))},a.src=e,document.body.appendChild(a)}return l},p.extend(p.expr[":"],{tinymce:function(e){var t;return!!(e.id&&"tinymce"in d&&(t=v().get(e.id))&&t.editorManager===v())}});var m=function(){var r=function(e){"remove"===e&&this.each(function(e,t){var n=l(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var n=v().get(t.id.replace(/_parent$/,""));n&&n.remove()})},o=function(i){var e,t=this;if(null!=i)r.call(t),t.each(function(e,t){var n;(n=v().get(t.id))&&n.setContent(i)});else if(0<t.length&&(e=v().get(t[0].id)))return e.getContent()},l=function(e){var t=null;return e&&e.id&&d.tinymce&&(t=v().get(e.id)),t},u=function(e){return!!(e&&e.length&&d.tinymce&&e.is(":tinymce"))},s={};p.each(["text","html","val"],function(e,t){var a=s[t]=p.fn[t],c="text"===t;p.fn[t]=function(e){var t=this;if(!u(t))return a.apply(t,arguments);if(e!==f)return o.call(t.filter(":tinymce"),e),a.apply(t.not(":tinymce"),arguments),t;var i="",r=arguments;return(c?t:t.eq(0)).each(function(e,t){var n=l(t);i+=n?c?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):a.apply(p(t),r)}),i}}),p.each(["append","prepend"],function(e,t){var n=s[t]=p.fn[t],r="prepend"===t;p.fn[t]=function(i){var e=this;return u(e)?i!==f?("string"==typeof i&&e.filter(":tinymce").each(function(e,t){var n=l(t);n&&n.setContent(r?i+n.getContent():n.getContent()+i)}),n.apply(e.not(":tinymce"),arguments),e):void 0:n.apply(e,arguments)}}),p.each(["remove","replaceWith","replaceAll","empty"],function(e,t){var n=s[t]=p.fn[t];p.fn[t]=function(){return r.call(this,t),n.apply(this,arguments)}}),s.attr=p.fn.attr,p.fn.attr=function(e,t){var n=this,i=arguments;if(!e||"value"!==e||!u(n))return s.attr.apply(n,i);if(t!==f)return o.call(n.filter(":tinymce"),t),s.attr.apply(n.not(":tinymce"),i),n;var r=n[0],a=l(r);return a?a.getContent({save:!0}):s.attr.apply(p(r),i)}}}();
/* End of File include/javascript/tinymce4/jquery.tinymce.min.js */

/* mousetrap v1.4.6 craig.is/killing/mice */
(function(J,r,f){function s(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent("on"+b,d)}function A(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return h[a.which]?h[a.which]:B[a.which]?B[a.which]:String.fromCharCode(a.which).toLowerCase()}function t(a){a=a||{};var b=!1,d;for(d in n)a[d]?b=!0:n[d]=0;b||(u=!1)}function C(a,b,d,c,e,v){var g,k,f=[],h=d.type;if(!l[a])return[];"keyup"==h&&w(a)&&(b=[a]);for(g=0;g<l[a].length;++g)if(k=
        l[a][g],!(!c&&k.seq&&n[k.seq]!=k.level||h!=k.action||("keypress"!=h||d.metaKey||d.ctrlKey)&&b.sort().join(",")!==k.modifiers.sort().join(","))){var m=c&&k.seq==c&&k.level==v;(!c&&k.combo==e||m)&&l[a].splice(g,1);f.push(k)}return f}function K(a){var b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");return b}function x(a,b,d,c){m.stopCallback(b,b.target||b.srcElement,d,c)||!1!==a(b,d)||(b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?
    b.stopPropagation():b.cancelBubble=!0)}function y(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=A(a);b&&("keyup"==a.type&&z===b?z=!1:m.handleKey(b,K(a),a))}function w(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function L(a,b,d,c){function e(b){return function(){u=b;++n[a];clearTimeout(D);D=setTimeout(t,1E3)}}function v(b){x(d,b,a);"keyup"!==c&&(z=A(b));setTimeout(t,10)}for(var g=n[a]=0;g<b.length;++g){var f=g+1===b.length?v:e(c||E(b[g+1]).action);F(b[g],f,c,a,g)}}function E(a,b){var d,
    c,e,f=[];d="+"===a?["+"]:a.split("+");for(e=0;e<d.length;++e)c=d[e],G[c]&&(c=G[c]),b&&"keypress"!=b&&H[c]&&(c=H[c],f.push("shift")),w(c)&&f.push(c);d=c;e=b;if(!e){if(!p){p={};for(var g in h)95<g&&112>g||h.hasOwnProperty(g)&&(p[h[g]]=g)}e=p[d]?"keydown":"keypress"}"keypress"==e&&f.length&&(e="keydown");return{key:c,modifiers:f,action:e}}function F(a,b,d,c,e){q[a+":"+d]=b;a=a.replace(/\s+/g," ");var f=a.split(" ");1<f.length?L(a,f,b,d):(d=E(a,d),l[d.key]=l[d.key]||[],C(d.key,d.modifiers,{type:d.action},
    c,a,e),l[d.key][c?"unshift":"push"]({callback:b,modifiers:d.modifiers,action:d.action,seq:c,level:e,combo:a}))}var h={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},B={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},H={"~":"`","!":"1",
    "@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},G={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p,l={},q={},n={},D,z=!1,I=!1,u=!1;for(f=1;20>f;++f)h[111+f]="f"+f;for(f=0;9>=f;++f)h[f+96]=f;s(r,"keypress",y);s(r,"keydown",y);s(r,"keyup",y);var m={bind:function(a,b,d){a=a instanceof Array?a:[a];for(var c=0;c<a.length;++c)F(a[c],b,d);return this},
    unbind:function(a,b){return m.bind(a,function(){},b)},trigger:function(a,b){if(q[a+":"+b])q[a+":"+b]({},a);return this},reset:function(){l={};q={};return this},stopCallback:function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},handleKey:function(a,b,d){var c=C(a,b,d),e;b={};var f=0,g=!1;for(e=0;e<c.length;++e)c[e].seq&&(f=Math.max(f,c[e].level));for(e=0;e<c.length;++e)c[e].seq?c[e].level==f&&(g=!0,
        b[c[e].seq]=1,x(c[e].callback,d,c[e].combo,c[e].seq)):g||x(c[e].callback,d,c[e].combo);c="keypress"==d.type&&I;d.type!=u||w(a)||c||t(b);I=g&&"keydown"==d.type}};J.Mousetrap=m;"function"===typeof define&&define.amd&&define(m)})(window,document);
/* End of File include/javascript/mousetrap/mousetrap.min.js */

/*!
 * clipboard.js v2.0.0
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){var o,r,i;!function(a,c){r=[t,n(7)],o=c,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return r(t,e,n);if(c.nodeList(t))return i(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function i(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return u(document.body,t,e,n)}var c=n(6),u=n(5);t.exports=o},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){r.off(t,o),e.apply(n,arguments)}var r=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var o,r,i;!function(a,c){r=[t,n(0),n(2),n(1)],o=c,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e,n,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=r(e),s=r(n),f=r(o),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(t){function e(t,n){i(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return c(e,t),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,f.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(s.default);t.exports=p})},function(t,e){function n(t,e){for(;t&&t.nodeType!==o;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n},function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function r(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,r,i)}))}function i(t,e,n,o){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&o.call(t,n)}}var a=n(4);t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}t.exports=n}])});
/* End of File include/javascript/clipboardjs/clipboard.min.js */

(function(){if(typeof window.CustomEvent==="function"){return false;}
function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:null};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt;}
window.CustomEvent=CustomEvent;})();Number.isNaN=Number.isNaN||function isNaN(input){return typeof input==='number'&&input!==input;}
if(!Array.prototype.find){Object.defineProperty(Array.prototype,'find',{value:function(predicate){if(this==null){throw TypeError('"this" is null or not defined');}
var o=Object(this);var len=o.length>>>0;if(typeof predicate!=='function'){throw TypeError('predicate must be a function');}
var thisArg=arguments[1];var k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o)){return kValue;}
k++;}
return undefined;},configurable:true,writable:true});}
if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,'findIndex',{value:function(predicate){if(this==null){throw new TypeError('"this" is null or not defined');}
var o=Object(this);var len=o.length>>>0;if(typeof predicate!=='function'){throw new TypeError('predicate must be a function');}
var thisArg=arguments[1];var k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o)){return k;}
k++;}
return-1;},configurable:true,writable:true});}
/* End of File include/javascript/gridstack/gridstack-poly.js */

(function(factory){{factory(window.jQuery,window);}})(function($,scope){var obsolete=function(f,oldName,newName,rev){var wrapper=function(){console.warn('gridstack.js: Function `'+oldName+'` is deprecated in '+rev+' and has been replaced '+'with `'+newName+'`. It will be **completely** removed in v1.0');return f.apply(this,arguments);};wrapper.prototype=f.prototype;return wrapper;};var obsoleteOpts=function(opts,oldName,newName,rev){if(opts[oldName]!==undefined){opts[newName]=opts[oldName];console.warn('gridstack.js: Option `'+oldName+'` is deprecated in '+rev+' and has been replaced with `'+
newName+'`. It will be **completely** removed in v1.0');}};var obsoleteOptsDel=function(opts,oldName,rev,info){if(opts[oldName]!==undefined){console.warn('gridstack.js: Option `'+oldName+'` is deprecated in '+rev+info);}};var obsoleteAttr=function(el,oldName,newName,rev){var oldAttr=el.attr(oldName);if(oldAttr!==undefined){el.attr(newName,oldAttr);console.warn('gridstack.js: attribute `'+oldName+'`='+oldAttr+' is deprecated on this object in '+rev+' and has been replaced with `'+
newName+'`. It will be **completely** removed in v1.0');}};var Utils={isIntercepted:function(a,b){return!(a.x+a.width<=b.x||b.x+b.width<=a.x||a.y+a.height<=b.y||b.y+b.height<=a.y);},sort:function(nodes,dir,column){if(!column){var widths=nodes.map(function(node){return node.x+node.width;});column=Math.max.apply(Math,widths);}
if(dir===-1)
return Utils.sortBy(nodes,function(n){return-(n.x+n.y*column);});else
return Utils.sortBy(nodes,function(n){return(n.x+n.y*column);});},createStylesheet:function(id,parent){var style=document.createElement('style');style.setAttribute('type','text/css');style.setAttribute('data-gs-style-id',id);if(style.styleSheet){style.styleSheet.cssText='';}else{style.appendChild(document.createTextNode(''));}
if(!parent){parent=document.getElementsByTagName('head')[0];}
parent.insertBefore(style,parent.firstChild);return style.sheet;},removeStylesheet:function(id){$('STYLE[data-gs-style-id='+id+']').remove();},insertCSSRule:function(sheet,selector,rules,index){if(typeof sheet.insertRule==='function'){sheet.insertRule(selector+'{'+rules+'}',index);}else if(typeof sheet.addRule==='function'){sheet.addRule(selector,rules,index);}},toBool:function(v){if(typeof v==='boolean'){return v;}
if(typeof v==='string'){v=v.toLowerCase();return!(v===''||v==='no'||v==='false'||v==='0');}
return Boolean(v);},_collisionNodeCheck:function(n){return n!==this.node&&Utils.isIntercepted(n,this.nn);},_didCollide:function(bn){return Utils.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},bn);},_isAddNodeIntercepted:function(n){return Utils.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},n);},parseHeight:function(val){var height=val;var heightUnit='px';if(height&&typeof height==='string'){var match=height.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!match){throw new Error('Invalid height');}
heightUnit=match[2]||'px';height=parseFloat(match[1]);}
return{height:height,unit:heightUnit};},without:function(array,item){var index=array.indexOf(item);if(index!==-1){array=array.slice(0);array.splice(index,1);}
return array;},sortBy:function(array,getter){return array.slice(0).sort(function(left,right){var valueLeft=getter(left);var valueRight=getter(right);if(valueRight===valueLeft){return 0;}
return valueLeft>valueRight?1:-1;});},defaults:function(target){var sources=Array.prototype.slice.call(arguments,1);sources.forEach(function(source){for(var prop in source){if(Object.prototype.hasOwnProperty.call(source,prop)&&(!Object.prototype.hasOwnProperty.call(target,prop)||target[prop]===undefined)){target[prop]=source[prop];}}});return target;},clone:function(target){return $.extend({},target);},throttle:function(callback,delay){var isWaiting=false;return function(){if(!isWaiting){callback.apply(this,arguments);isWaiting=true;setTimeout(function(){isWaiting=false;},delay);}};},removePositioningStyles:function(el){var style=el[0].style;if(style.position){style.removeProperty('position');}
if(style.left){style.removeProperty('left');}
if(style.top){style.removeProperty('top');}
if(style.width){style.removeProperty('width');}
if(style.height){style.removeProperty('height');}},getScrollParent:function(el){var returnEl;if(el===null){returnEl=null;}else if(el.scrollHeight>el.clientHeight){returnEl=el;}else{returnEl=Utils.getScrollParent(el.parentNode);}
return returnEl;},updateScrollPosition:function(el,ui,distance){var rect=el.getBoundingClientRect();var innerHeightOrClientHeight=(window.innerHeight||document.documentElement.clientHeight);if(rect.top<0||rect.bottom>innerHeightOrClientHeight){var offsetDiffDown=rect.bottom-innerHeightOrClientHeight;var offsetDiffUp=rect.top;var scrollEl=Utils.getScrollParent(el);if(scrollEl!==null){var prevScroll=scrollEl.scrollTop;if(rect.top<0&&distance<0){if(el.offsetHeight>innerHeightOrClientHeight){scrollEl.scrollTop+=distance;}else{scrollEl.scrollTop+=Math.abs(offsetDiffUp)>Math.abs(distance)?distance:offsetDiffUp;}}else if(distance>0){if(el.offsetHeight>innerHeightOrClientHeight){scrollEl.scrollTop+=distance;}else{scrollEl.scrollTop+=offsetDiffDown>distance?distance:offsetDiffDown;}}
ui.position.top+=scrollEl.scrollTop-prevScroll;}}}};function GridStackDragDropPlugin(grid){this.grid=grid;}
GridStackDragDropPlugin.registeredPlugins=[];GridStackDragDropPlugin.registerPlugin=function(pluginClass){GridStackDragDropPlugin.registeredPlugins.push(pluginClass);};GridStackDragDropPlugin.prototype.resizable=function(el,opts){return this;};GridStackDragDropPlugin.prototype.draggable=function(el,opts){return this;};GridStackDragDropPlugin.prototype.droppable=function(el,opts){return this;};GridStackDragDropPlugin.prototype.isDroppable=function(el){return false;};GridStackDragDropPlugin.prototype.on=function(el,eventName,callback){return this;};var idSeq=0;var GridStackEngine=function(column,onchange,float,maxRow,items){this.column=column||12;this.float=float||false;this.maxRow=maxRow||0;this.nodes=items||[];this.onchange=onchange||function(){};this._addedNodes=[];this._removedNodes=[];this._batchMode=false;};GridStackEngine.prototype.batchUpdate=function(){if(this._batchMode)return;this._batchMode=true;this._prevFloat=this.float;this.float=true;};GridStackEngine.prototype.commit=function(){if(!this._batchMode)return;this._batchMode=false;this.float=this._prevFloat;delete this._prevFloat;this._packNodes();this._notify();};GridStackEngine.prototype.getNodeDataByDOMEl=function(el){return this.nodes.find(function(node){return el===node.el});};GridStackEngine.prototype._fixCollisions=function(node){var self=this;this._sortNodes(-1);var nn=node;var hasLocked=Boolean(this.nodes.find(function(n){return n.locked;}));if(!this.float&&!hasLocked){nn={x:0,y:node.y,width:this.column,height:node.height};}
while(true){var collisionNode=this.nodes.find(Utils._collisionNodeCheck,{node:node,nn:nn});if(!collisionNode){return;}
var moved;if(collisionNode.locked){moved=this.moveNode(node,node.x,collisionNode.y+collisionNode.height,node.width,node.height,true);}else{moved=this.moveNode(collisionNode,collisionNode.x,node.y+node.height,collisionNode.width,collisionNode.height,true);}
if(!moved){return;}}};GridStackEngine.prototype.isAreaEmpty=function(x,y,width,height){var nn={x:x||0,y:y||0,width:width||1,height:height||1};var collisionNode=this.nodes.find(function(n){return Utils.isIntercepted(n,nn);});return!collisionNode;};GridStackEngine.prototype._sortNodes=function(dir){this.nodes=Utils.sort(this.nodes,dir,this.column);};GridStackEngine.prototype._packNodes=function(){this._sortNodes();if(this.float){this.nodes.forEach(function(n,i){if(n._updating||n._packY===undefined||n.y===n._packY){return;}
var newY=n.y;while(newY>=n._packY){var collisionNode=this.nodes.slice(0,i).find(Utils._didCollide,{n:n,newY:newY});if(!collisionNode){n._dirty=true;n.y=newY;}
--newY;}},this);}else{this.nodes.forEach(function(n,i){if(n.locked){return;}
while(n.y>0){var newY=n.y-1;var canBeMoved=i===0;if(i>0){var collisionNode=this.nodes.slice(0,i).find(Utils._didCollide,{n:n,newY:newY});canBeMoved=collisionNode===undefined;}
if(!canBeMoved){break;}
n._dirty=(n.y!==newY);n.y=newY;}},this);}};GridStackEngine.prototype._prepareNode=function(node,resizing){node=node||{};if(node.x===undefined||node.y===undefined||node.x===null||node.y===null){node.autoPosition=true;}
var defaults={width:1,height:1,x:0,y:0};node=Utils.defaults(node,defaults);node.x=parseInt(node.x);node.y=parseInt(node.y);node.width=parseInt(node.width);node.height=parseInt(node.height);node.autoPosition=node.autoPosition||false;node.noResize=node.noResize||false;node.noMove=node.noMove||false;if(Number.isNaN(node.x)){node.x=defaults.x;node.autoPosition=true;}
if(Number.isNaN(node.y)){node.y=defaults.y;node.autoPosition=true;}
if(Number.isNaN(node.width)){node.width=defaults.width;}
if(Number.isNaN(node.height)){node.height=defaults.height;}
if(node.maxWidth!==undefined){node.width=Math.min(node.width,node.maxWidth);}
if(node.maxHeight!==undefined){node.height=Math.min(node.height,node.maxHeight);}
if(node.minWidth!==undefined){node.width=Math.max(node.width,node.minWidth);}
if(node.minHeight!==undefined){node.height=Math.max(node.height,node.minHeight);}
if(node.width>this.column){node.width=this.column;}else if(node.width<1){node.width=1;}
if(this.maxRow&&node.height>this.maxRow){node.height=this.maxRow;}else if(node.height<1){node.height=1;}
if(node.x<0){node.x=0;}
if(node.y<0){node.y=0;}
if(node.x+node.width>this.column){if(resizing){node.width=this.column-node.x;}else{node.x=this.column-node.width;}}
if(this.maxRow&&node.y+node.height>this.maxRow){if(resizing){node.height=this.maxRow-node.y;}else{node.y=this.maxRow-node.height;}}
return node;};GridStackEngine.prototype._notify=function(){if(this._batchMode){return;}
var args=Array.prototype.slice.call(arguments,0);args[0]=(args[0]===undefined?[]:(Array.isArray(args[0])?args[0]:[args[0]]));args[1]=(args[1]===undefined?true:args[1]);var dirtyNodes=args[0].concat(this.getDirtyNodes());this.onchange(dirtyNodes,args[1]);};GridStackEngine.prototype.cleanNodes=function(){if(this._batchMode){return;}
this.nodes.forEach(function(n){delete n._dirty;});};GridStackEngine.prototype.getDirtyNodes=function(verify){if(verify){var dirtNodes=[];this.nodes.forEach(function(n){if(n._dirty){if(n.y===n._origY&&n.x===n._origX&&n.width===n._origW&&n.height===n._origH){delete n._dirty;}else{dirtNodes.push(n);}}});return dirtNodes;}
return this.nodes.filter(function(n){return n._dirty;});};GridStackEngine.prototype.addNode=function(node,triggerAddEvent){node=this._prepareNode(node);node._id=node._id||++idSeq;if(node.autoPosition){this._sortNodes();for(var i=0;;++i){var x=i%this.column;var y=Math.floor(i / this.column);if(x+node.width>this.column){continue;}
if(!this.nodes.find(Utils._isAddNodeIntercepted,{x:x,y:y,node:node})){node.x=x;node.y=y;delete node.autoPosition;break;}}}
this.nodes.push(node);if(triggerAddEvent){this._addedNodes.push(node);}
this._fixCollisions(node);this._packNodes();this._notify();return node;};GridStackEngine.prototype.removeNode=function(node,detachNode){detachNode=(detachNode===undefined?true:detachNode);this._removedNodes.push(node);node._id=null;this.nodes=Utils.without(this.nodes,node);this._packNodes();this._notify(node,detachNode);};GridStackEngine.prototype.removeAll=function(detachNode){delete this._layouts;if(this.nodes.length===0){return;}
detachNode=(detachNode===undefined?true:detachNode);this.nodes.forEach(function(n){n._id=null;});this._removedNodes=this.nodes;this.nodes=[];this._notify(this._removedNodes,detachNode);};GridStackEngine.prototype.canMoveNode=function(node,x,y,width,height){if(!this.isNodeChangedPosition(node,x,y,width,height)){return false;}
var hasLocked=Boolean(this.nodes.find(function(n){return n.locked;}));if(!this.maxRow&&!hasLocked){return true;}
var clonedNode;var clone=new GridStackEngine(this.column,null,this.float,0,this.nodes.map(function(n){if(n===node){clonedNode=$.extend({},n);return clonedNode;}
return $.extend({},n);}));if(!clonedNode){return true;}
clone.moveNode(clonedNode,x,y,width,height);var res=true;if(hasLocked){res&=!Boolean(clone.nodes.find(function(n){return n!==clonedNode&&Boolean(n.locked)&&Boolean(n._dirty);}));}
if(this.maxRow){res&=clone.getRow()<=this.maxRow;}
return res;};GridStackEngine.prototype.canBePlacedWithRespectToHeight=function(node){if(!this.maxRow){return true;}
var clone=new GridStackEngine(this.column,null,this.float,0,this.nodes.map(function(n){return $.extend({},n);}));clone.addNode(node);return clone.getRow()<=this.maxRow;};GridStackEngine.prototype.isNodeChangedPosition=function(node,x,y,width,height){if(typeof x!=='number'){x=node.x;}
if(typeof y!=='number'){y=node.y;}
if(typeof width!=='number'){width=node.width;}
if(typeof height!=='number'){height=node.height;}
if(node.maxWidth!==undefined){width=Math.min(width,node.maxWidth);}
if(node.maxHeight!==undefined){height=Math.min(height,node.maxHeight);}
if(node.minWidth!==undefined){width=Math.max(width,node.minWidth);}
if(node.minHeight!==undefined){height=Math.max(height,node.minHeight);}
if(node.x===x&&node.y===y&&node.width===width&&node.height===height){return false;}
return true;};GridStackEngine.prototype.moveNode=function(node,x,y,width,height,noPack){if(node.locked){return null;}
if(typeof x!=='number'){x=node.x;}
if(typeof y!=='number'){y=node.y;}
if(typeof width!=='number'){width=node.width;}
if(typeof height!=='number'){height=node.height;}
var resizing=(node.width!==width||node.height!==height);var nn={x:x,y:y,width:width,height:height,maxWidth:node.maxWidth,maxHeight:node.maxHeight,minWidth:node.minWidth,minHeight:node.minHeight};nn=this._prepareNode(nn,resizing);if(node.x===nn.x&&node.y===nn.y&&node.width===nn.width&&node.height===nn.height){return null;}
node._dirty=true;node.x=node.lastTriedX=nn.x;node.y=node.lastTriedY=nn.y;node.width=node.lastTriedWidth=nn.width;node.height=node.lastTriedHeight=nn.height;this._fixCollisions(node);if(!noPack){this._packNodes();this._notify();}
return node;};GridStackEngine.prototype.getRow=function(){return this.nodes.reduce(function(memo,n){return Math.max(memo,n.y+n.height);},0);};GridStackEngine.prototype.beginUpdate=function(node){if(node._updating)return;node._updating=true;this.nodes.forEach(function(n){n._packY=n.y;});};GridStackEngine.prototype.endUpdate=function(){var n=this.nodes.find(function(n){return n._updating;});if(n){n._updating=false;this.nodes.forEach(function(n){delete n._packY;});}};var GridStack=function(el,opts){var self=this;var oneColumnMode,_prevColumn,isAutoCellHeight;opts=opts||{};this.$el=$(el);this.el=this.$el.get(0);obsoleteOpts(opts,'width','column','v0.5.3');obsoleteOpts(opts,'height','maxRow','v0.5.3');obsoleteOptsDel(opts,'oneColumnModeClass','v0.6.3','. Use class `.grid-stack-1` instead');obsoleteAttr(this.$el,'data-gs-width','data-gs-column','v0.5.3');obsoleteAttr(this.$el,'data-gs-height','data-gs-max-row','v0.5.3');obsoleteAttr(this.$el,'data-gs-current-height','data-gs-current-row','v1.0.0');opts.itemClass=opts.itemClass||'grid-stack-item';var isNested=this.$el.closest('.'+opts.itemClass).length>0;if(opts.row){opts.minRow=opts.maxRow=opts.row;delete opts.row;}
var rowAttr=parseInt(this.$el.attr('data-gs-row'));this.opts=Utils.defaults(opts,{column:parseInt(this.$el.attr('data-gs-column'))||12,minRow:rowAttr?rowAttr:parseInt(this.$el.attr('data-gs-min-row'))||0,maxRow:rowAttr?rowAttr:parseInt(this.$el.attr('data-gs-max-row'))||0,itemClass:'grid-stack-item',placeholderClass:'grid-stack-placeholder',placeholderText:'',handle:'.grid-stack-item-content',handleClass:null,cellHeight:60,verticalMargin:20,auto:true,minWidth:768,float:false,staticGrid:false,_class:'grid-stack-instance-'+(Math.random()*10000).toFixed(0),animate:Boolean(this.$el.attr('data-gs-animate'))||false,alwaysShowResizeHandle:opts.alwaysShowResizeHandle||false,resizable:Utils.defaults(opts.resizable||{},{autoHide:!(opts.alwaysShowResizeHandle||false),handles:'se'}),draggable:Utils.defaults(opts.draggable||{},{handle:(opts.handleClass?'.'+opts.handleClass:(opts.handle?opts.handle:''))||'.grid-stack-item-content',scroll:false,appendTo:'body'}),disableDrag:opts.disableDrag||false,disableResize:opts.disableResize||false,rtl:'auto',removable:false,removableOptions:Utils.defaults(opts.removableOptions||{},{accept:'.'+opts.itemClass}),removeTimeout:2000,verticalMarginUnit:'px',cellHeightUnit:'px',disableOneColumnMode:opts.disableOneColumnMode||false,oneColumnModeDomSort:opts.oneColumnModeDomSort,ddPlugin:null});if(this.opts.ddPlugin===false){this.opts.ddPlugin=GridStackDragDropPlugin;}else if(this.opts.ddPlugin===null){this.opts.ddPlugin=GridStackDragDropPlugin.registeredPlugins[0]||GridStackDragDropPlugin;}
this.dd=new this.opts.ddPlugin(this);if(this.opts.rtl==='auto'){this.opts.rtl=this.$el.css('direction')==='rtl';}
if(this.opts.rtl){this.$el.addClass('grid-stack-rtl');}
this.opts.isNested=isNested;isAutoCellHeight=(this.opts.cellHeight==='auto');if(isAutoCellHeight){self.cellHeight(self.cellWidth(),true);}else{this.cellHeight(this.opts.cellHeight,true);}
this.verticalMargin(this.opts.verticalMargin,true);this.$el.addClass(this.opts._class);this._setStaticClass();if(isNested){this.$el.addClass('grid-stack-nested');}
this._initStyles();this.engine=new GridStackEngine(this.opts.column,function(nodes,detachNode){detachNode=(detachNode===undefined?true:detachNode);var maxHeight=0;this.nodes.forEach(function(n){maxHeight=Math.max(maxHeight,n.y+n.height);});nodes.forEach(function(n){if(detachNode&&n._id===null){if(n.el){$(n.el).remove();}}else{$(n.el).attr('data-gs-x',n.x).attr('data-gs-y',n.y).attr('data-gs-width',n.width).attr('data-gs-height',n.height);}});self._updateStyles(maxHeight+10);},this.opts.float,this.opts.maxRow);if(this.opts.auto){var elements=[];var _this=this;this.$el.children('.'+this.opts.itemClass+':not(.'+this.opts.placeholderClass+')').each(function(index,el){el=$(el);var x=parseInt(el.attr('data-gs-x'));var y=parseInt(el.attr('data-gs-y'));elements.push({el:el.get(0),i:(Number.isNaN(x)?1000:x)+(Number.isNaN(y)?1000:y)*_this.opts.column});});Utils.sortBy(elements,function(x){return x.i;}).forEach(function(item){this._prepareElement(item.el);},this);}
this.engine._saveInitial();this.setAnimation(this.opts.animate);this.placeholder=$('<div class="'+this.opts.placeholderClass+' '+this.opts.itemClass+'">'+'<div class="placeholder-content">'+this.opts.placeholderText+'</div></div>').hide();this._updateContainerHeight();this._updateHeightsOnResize=Utils.throttle(function(){self.cellHeight(self.cellWidth(),false);},100);this.onResizeHandler=function(){if(isAutoCellHeight){self._updateHeightsOnResize();}
if(!self.opts.disableOneColumnMode&&(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=self.opts.minWidth){if(self.oneColumnMode){return}
self.oneColumnMode=true;self.column(1);}else{if(!self.oneColumnMode){return}
self.oneColumnMode=false;self.column(self._prevColumn);}};$(window).resize(this.onResizeHandler);this.onResizeHandler();if(!self.opts.staticGrid&&typeof self.opts.removable==='string'){var trashZone=$(self.opts.removable);if(!this.dd.isDroppable(trashZone)){this.dd.droppable(trashZone,self.opts.removableOptions);}
this.dd.on(trashZone,'dropover',function(event,ui){var el=$(ui.draggable);var node=el.data('_gridstack_node');if(!node||node._grid!==self){return;}
el.data('inTrashZone',true);self._setupRemovingTimeout(el);}).on(trashZone,'dropout',function(event,ui){var el=$(ui.draggable);var node=el.data('_gridstack_node');if(!node||node._grid!==self){return;}
el.data('inTrashZone',false);self._clearRemovingTimeout(el);});}
if(!self.opts.staticGrid&&self.opts.acceptWidgets){var draggingElement=null;var onDrag=function(event,ui){var el=draggingElement;var node=el.data('_gridstack_node');var pos=self.getCellFromPixel({left:event.pageX,top:event.pageY},true);var x=Math.max(0,pos.x);var y=Math.max(0,pos.y);if(!node._added){node._added=true;node.el=el.get(0);node.autoPosition=true;node.x=x;node.y=y;self.engine.cleanNodes();self.engine.beginUpdate(node);self.engine.addNode(node);self.$el.append(self.placeholder);self.placeholder.attr('data-gs-x',node.x).attr('data-gs-y',node.y).attr('data-gs-width',node.width).attr('data-gs-height',node.height).show();node.el=self.placeholder.get(0);node._beforeDragX=node.x;node._beforeDragY=node.y;self._updateContainerHeight();}
if(!self.engine.canMoveNode(node,x,y)){return;}
self.engine.moveNode(node,x,y);self._updateContainerHeight();};this.dd.droppable(self.$el,{accept:function(el){el=$(el);var node=el.data('_gridstack_node');if(node&&node._grid===self){return false;}
return el.is(self.opts.acceptWidgets===true?'.grid-stack-item':self.opts.acceptWidgets);}}).on(self.$el,'dropover',function(event,ui){var el=$(ui.draggable);var width,height;var origNode=el.data('_gridstack_node');if(!origNode||!origNode.width||!origNode.height){var w=parseInt(el.attr('data-gs-width'));if(w>0){origNode=origNode||{};origNode.width=w;}
var h=parseInt(el.attr('data-gs-height'));if(h>0){origNode=origNode||{};origNode.height=h;}}
var cellWidth=self.cellWidth();var cellHeight=self.cellHeight();var verticalMargin=self.opts.verticalMargin;width=origNode&&origNode.width?origNode.width:Math.ceil(el.outerWidth()/ cellWidth);height=origNode&&origNode.height?origNode.height:Math.round((el.outerHeight()+verticalMargin)/(cellHeight+verticalMargin));draggingElement=el;var node=self.engine._prepareNode({width:width,height:height,_added:false,_temporary:true});node.isOutOfGrid=true;el.data('_gridstack_node',node);el.data('_gridstack_node_orig',origNode);el.on('drag',onDrag);return false;}).on(self.$el,'dropout',function(event,ui){var el=$(ui.draggable);if(!el.data('_gridstack_node')){return;}
var node=el.data('_gridstack_node');if(!node.isOutOfGrid){return;}
el.unbind('drag',onDrag);node.el=null;self.engine.removeNode(node);self.placeholder.detach();self._updateContainerHeight();el.data('_gridstack_node',el.data('_gridstack_node_orig'));return false;}).on(self.$el,'drop',function(event,ui){self.placeholder.detach();var node=$(ui.draggable).data('_gridstack_node');node.isOutOfGrid=false;node._grid=self;var el=$(ui.draggable).clone(false);el.data('_gridstack_node',node);var originalNode=$(ui.draggable).data('_gridstack_node_orig');if(originalNode!==undefined&&originalNode._grid!==undefined){originalNode._grid._triggerRemoveEvent();}
$(ui.helper).remove();node.el=el.get(0);self.placeholder.hide();Utils.removePositioningStyles(el);el.find('div.ui-resizable-handle').remove();el.attr('data-gs-x',node.x).attr('data-gs-y',node.y).attr('data-gs-width',node.width).attr('data-gs-height',node.height).addClass(self.opts.itemClass).enableSelection().removeData('draggable').removeClass('ui-draggable ui-draggable-dragging ui-draggable-disabled').unbind('drag',onDrag);self.$el.append(el);self._prepareElementsByNode(el,node);self._updateContainerHeight();self.engine._addedNodes.push(node);self._triggerAddEvent();self._triggerChangeEvent();self.engine.endUpdate();$(ui.draggable).unbind('drag',onDrag);$(ui.draggable).removeData('_gridstack_node');$(ui.draggable).removeData('_gridstack_node_orig');self.$el.trigger('dropped',[originalNode,node]);return false;});}};GridStack.prototype._triggerChangeEvent=function(){if(this.engine._batchMode){return;}
var elements=this.engine.getDirtyNodes(true);if(elements&&elements.length){this.engine._layoutsNodesChange(elements);this._triggerEvent('change',elements);}
this.engine._saveInitial();};GridStack.prototype._triggerAddEvent=function(){if(this.engine._batchMode){return;}
if(this.engine._addedNodes&&this.engine._addedNodes.length>0){this.engine._layoutsNodesChange(this.engine._addedNodes);this.engine._addedNodes.forEach(function(n){delete n._dirty;});this._triggerEvent('added',this.engine._addedNodes);this.engine._addedNodes=[];}};GridStack.prototype._triggerRemoveEvent=function(){if(this.engine._batchMode){return;}
if(this.engine._removedNodes&&this.engine._removedNodes.length>0){this._triggerEvent('removed',this.engine._removedNodes);this.engine._removedNodes=[];}};GridStack.prototype._triggerEvent=function(name,data){var event=new CustomEvent(name,{detail:data});this.el.dispatchEvent(event);};GridStack.prototype._initStyles=function(){if(this._stylesId){Utils.removeStylesheet(this._stylesId);}
this._stylesId='gridstack-style-'+(Math.random()*100000).toFixed();this._styles=Utils.createStylesheet(this._stylesId,this.el.parentNode);if(this._styles!==null){this._styles._max=0;}};GridStack.prototype._updateStyles=function(maxHeight){if(this._styles===null||this._styles===undefined){return;}
var prefix='.'+this.opts._class+' .'+this.opts.itemClass;var self=this;var getHeight;if(maxHeight===undefined){maxHeight=this._styles._max;}
this._initStyles();this._updateContainerHeight();if(!this.opts.cellHeight){return;}
if(this._styles._max!==0&&maxHeight<=this._styles._max){return;}
if(!this.opts.verticalMargin||this.opts.cellHeightUnit===this.opts.verticalMarginUnit){getHeight=function(nbRows,nbMargins){return(self.opts.cellHeight*nbRows+self.opts.verticalMargin*nbMargins)+
self.opts.cellHeightUnit;};}else{getHeight=function(nbRows,nbMargins){if(!nbRows||!nbMargins){return(self.opts.cellHeight*nbRows+self.opts.verticalMargin*nbMargins)+
self.opts.cellHeightUnit;}
return'calc('+((self.opts.cellHeight*nbRows)+self.opts.cellHeightUnit)+' + '+
((self.opts.verticalMargin*nbMargins)+self.opts.verticalMarginUnit)+')';};}
if(this._styles._max===0){Utils.insertCSSRule(this._styles,prefix,'min-height: '+getHeight(1,0)+';',0);}
if(maxHeight>this._styles._max){for(var i=this._styles._max;i<maxHeight;++i){Utils.insertCSSRule(this._styles,prefix+'[data-gs-height="'+(i+1)+'"]','height: '+getHeight(i+1,i)+';',i);Utils.insertCSSRule(this._styles,prefix+'[data-gs-min-height="'+(i+1)+'"]','min-height: '+getHeight(i+1,i)+';',i);Utils.insertCSSRule(this._styles,prefix+'[data-gs-max-height="'+(i+1)+'"]','max-height: '+getHeight(i+1,i)+';',i);Utils.insertCSSRule(this._styles,prefix+'[data-gs-y="'+i+'"]','top: '+getHeight(i,i)+';',i);}
this._styles._max=maxHeight;}};GridStack.prototype._updateContainerHeight=function(){if(this.engine._batchMode){return;}
var row=this.engine.getRow();if(row<this.opts.minRow){row=this.opts.minRow;}
var cssMinHeight=parseInt(this.$el.css('min-height'));if(cssMinHeight>0){var verticalMargin=this.opts.verticalMargin;var minRow=Math.round((cssMinHeight+verticalMargin)/(this.cellHeight()+verticalMargin));if(row<minRow){row=minRow;}}
this.$el.attr('data-gs-current-row',row);if(!this.opts.cellHeight){return;}
if(!this.opts.verticalMargin){this.$el.css('height',(row*(this.opts.cellHeight))+this.opts.cellHeightUnit);}else if(this.opts.cellHeightUnit===this.opts.verticalMarginUnit){this.$el.css('height',(row*(this.opts.cellHeight+this.opts.verticalMargin)-
this.opts.verticalMargin)+this.opts.cellHeightUnit);}else{this.$el.css('height','calc('+((row*(this.opts.cellHeight))+this.opts.cellHeightUnit)+' + '+((row*(this.opts.verticalMargin-1))+this.opts.verticalMarginUnit)+')');}};GridStack.prototype._setupRemovingTimeout=function(el){var self=this;var node=$(el).data('_gridstack_node');if(node._removeTimeout||!self.opts.removable){return;}
node._removeTimeout=setTimeout(function(){el.addClass('grid-stack-item-removing');node._isAboutToRemove=true;},self.opts.removeTimeout);};GridStack.prototype._clearRemovingTimeout=function(el){var node=$(el).data('_gridstack_node');if(!node._removeTimeout){return;}
clearTimeout(node._removeTimeout);node._removeTimeout=null;el.removeClass('grid-stack-item-removing');node._isAboutToRemove=false;};GridStack.prototype._prepareElementsByNode=function(el,node){var self=this;var cellWidth;var cellFullHeight;var dragOrResize=function(event,ui){var x=Math.round(ui.position.left / cellWidth);var y=Math.floor((ui.position.top+cellFullHeight / 2)/ cellFullHeight);var width;var height;if(event.type==='drag'){var distance=ui.position.top-node._prevYPix;node._prevYPix=ui.position.top;Utils.updateScrollPosition(el[0],ui,distance);if(el.data('inTrashZone')||x<0||x>=self.engine.column||y<0||(!self.engine.float&&y>self.engine.getRow())){if(!node._temporaryRemoved){if(self.opts.removable===true){self._setupRemovingTimeout(el);}
x=node._beforeDragX;y=node._beforeDragY;self.placeholder.detach();self.placeholder.hide();self.engine.removeNode(node);self._updateContainerHeight();node._temporaryRemoved=true;}else{return;}}else{self._clearRemovingTimeout(el);if(node._temporaryRemoved){self.engine.addNode(node);self.placeholder.attr('data-gs-x',x).attr('data-gs-y',y).attr('data-gs-width',width).attr('data-gs-height',height).show();self.$el.append(self.placeholder);node.el=self.placeholder.get(0);node._temporaryRemoved=false;}}}else if(event.type==='resize'){if(x<0)return;width=Math.round(ui.size.width / cellWidth);height=Math.round((ui.size.height+self.verticalMargin())/ cellFullHeight);}
var lastTriedWidth=width!==undefined?width:node.lastTriedWidth;var lastTriedHeight=height!==undefined?height:node.lastTriedHeight;if(!self.engine.canMoveNode(node,x,y,width,height)||(node.lastTriedX===x&&node.lastTriedY===y&&node.lastTriedWidth===lastTriedWidth&&node.lastTriedHeight===lastTriedHeight)){return;}
node.lastTriedX=x;node.lastTriedY=y;node.lastTriedWidth=width;node.lastTriedHeight=height;self.engine.moveNode(node,x,y,width,height);self._updateContainerHeight();if(event.type==='resize'){$(event.target).trigger('gsresize',node);}};var onStartMoving=function(event,ui){self.$el.append(self.placeholder);var o=$(this);self.engine.cleanNodes();self.engine.beginUpdate(node);cellWidth=self.cellWidth();var strictCellHeight=self.cellHeight();cellFullHeight=(self.$el.height()+self.verticalMargin())/ parseInt(self.$el.attr('data-gs-current-row'));self.placeholder.attr('data-gs-x',o.attr('data-gs-x')).attr('data-gs-y',o.attr('data-gs-y')).attr('data-gs-width',o.attr('data-gs-width')).attr('data-gs-height',o.attr('data-gs-height')).show();node.el=self.placeholder.get(0);node._beforeDragX=node.x;node._beforeDragY=node.y;node._prevYPix=ui.position.top;var minHeight=(node.minHeight||1);var verticalMargin=self.opts.verticalMargin;self.dd.resizable(el,'option','minWidth',cellWidth*(node.minWidth||1));self.dd.resizable(el,'option','minHeight',(strictCellHeight*minHeight)+(minHeight-1)*verticalMargin);if(event.type==='resizestart'){o.find('.grid-stack-item').trigger('resizestart');}};var onEndMoving=function(event,ui){var o=$(this);if(!o.data('_gridstack_node')){return;}
self.placeholder.detach();node.el=o.get(0);self.placeholder.hide();if(node._isAboutToRemove){var gridToNotify=el.data('_gridstack_node')._grid;gridToNotify._triggerRemoveEvent();el.removeData('_gridstack_node');el.remove();}else{self._clearRemovingTimeout(el);if(!node._temporaryRemoved){Utils.removePositioningStyles(o);o.attr('data-gs-x',node.x).attr('data-gs-y',node.y).attr('data-gs-width',node.width).attr('data-gs-height',node.height);}else{Utils.removePositioningStyles(o);o.attr('data-gs-x',node._beforeDragX).attr('data-gs-y',node._beforeDragY).attr('data-gs-width',node.width).attr('data-gs-height',node.height);node.x=node._beforeDragX;node.y=node._beforeDragY;node._temporaryRemoved=false;self.engine.addNode(node);}}
self._updateContainerHeight();self._triggerChangeEvent();self.engine.endUpdate();var nestedGrids=o.find('.grid-stack');if(nestedGrids.length&&event.type==='resizestop'){nestedGrids.each(function(index,el){el.gridstack.onResizeHandler();});o.find('.grid-stack-item').trigger('resizestop');o.find('.grid-stack-item').trigger('gsresizestop');}
if(event.type==='resizestop'){self.$el.trigger('gsresizestop',o);}};this.dd.draggable(el,{start:onStartMoving,stop:onEndMoving,drag:dragOrResize}).resizable(el,{start:onStartMoving,stop:onEndMoving,resize:dragOrResize});if(node.noMove||this.opts.disableDrag||this.opts.staticGrid){this.dd.draggable(el,'disable');}
if(node.noResize||this.opts.disableResize||this.opts.staticGrid){this.dd.resizable(el,'disable');}
this._writeAttr(el,node);};GridStack.prototype._prepareElement=function(el,triggerAddEvent){triggerAddEvent=triggerAddEvent!==undefined?triggerAddEvent:false;var self=this;el=$(el);el.addClass(this.opts.itemClass+' rounded-md');var node=this._readAttr(el,{el:el.get(0),_grid:self});node=self.engine.addNode(node,triggerAddEvent);el.data('_gridstack_node',node);this._prepareElementsByNode(el,node);};GridStack.prototype._writeAttr=function(el,node){if(!node){return;}
el=$(el);if(node.x!==undefined){el.attr('data-gs-x',node.x);}
if(node.y!==undefined){el.attr('data-gs-y',node.y);}
if(node.width!==undefined){el.attr('data-gs-width',node.width);}
if(node.height!==undefined){el.attr('data-gs-height',node.height);}
if(node.autoPosition!==undefined){el.attr('data-gs-auto-position',node.autoPosition?true:null);}
if(node.minWidth!==undefined){el.attr('data-gs-min-width',node.minWidth);}
if(node.maxWidth!==undefined){el.attr('data-gs-max-width',node.maxWidth);}
if(node.minHeight!==undefined){el.attr('data-gs-min-height',node.minHeight);}
if(node.maxHeight!==undefined){el.attr('data-gs-max-height',node.maxHeight);}
if(node.noResize!==undefined){el.attr('data-gs-no-resize',node.noResize?true:null);}
if(node.noMove!==undefined){el.attr('data-gs-no-move',node.noMove?true:null);}
if(node.locked!==undefined){el.attr('data-gs-locked',node.locked?true:null);}
if(node.resizeHandles!==undefined){el.attr('data-gs-resize-handles',node.resizeHandles);}
if(node.id!==undefined){el.attr('data-gs-id',node.id);}};GridStack.prototype._readAttr=function(el,node){el=$(el);node=node||{};node.x=el.attr('data-gs-x');node.y=el.attr('data-gs-y');node.width=el.attr('data-gs-width');node.height=el.attr('data-gs-height');node.autoPosition=Utils.toBool(el.attr('data-gs-auto-position'));node.maxWidth=el.attr('data-gs-max-width');node.minWidth=el.attr('data-gs-min-width');node.maxHeight=el.attr('data-gs-max-height');node.minHeight=el.attr('data-gs-min-height');node.noResize=Utils.toBool(el.attr('data-gs-no-resize'));node.noMove=Utils.toBool(el.attr('data-gs-no-move'));node.locked=Utils.toBool(el.attr('data-gs-locked'));node.resizeHandles=el.attr('data-gs-resize-handles');node.id=el.attr('data-gs-id');return node;};GridStack.prototype.setAnimation=function(enable){if(enable){this.$el.addClass('grid-stack-animate');}else{this.$el.removeClass('grid-stack-animate');}};GridStack.prototype.addWidget=function(el,opt,y,width,height,autoPosition,minWidth,maxWidth,minHeight,maxHeight,id){if(opt===undefined||typeof opt==='object'){}else{return this.addWidget(el,{x:opt,y:y,width:width,height:height,autoPosition:autoPosition,minWidth:minWidth,maxWidth:maxWidth,minHeight:minHeight,maxHeight:maxHeight,id:id});}
el=$(el);if(opt){domAttr=this._readAttr(el);Utils.defaults(opt,domAttr);this.engine._prepareNode(opt);}
this._writeAttr(el,opt);this.$el.append(el);return this.makeWidget(el);};GridStack.prototype.makeWidget=function(el){el=$(el);this._prepareElement(el,true);this._updateContainerHeight();this._triggerAddEvent();this._triggerChangeEvent(true);return el.get(0);};GridStack.prototype.willItFit=function(x,y,width,height,autoPosition){var node={x:x,y:y,width:width,height:height,autoPosition:autoPosition};return this.engine.canBePlacedWithRespectToHeight(node);};GridStack.prototype.removeWidget=function(el,detachNode){el=$(el);var node=el.data('_gridstack_node');if(!node){node=this.engine.getNodeDataByDOMEl(el.get(0));}
if(!node||node.el.parentElement!==this.el)return;el.removeData('_gridstack_node');this.dd.draggable(el,'destroy').resizable(el,'destroy');this.engine.removeNode(node,detachNode);this._triggerRemoveEvent();this._triggerChangeEvent(true);};GridStack.prototype.removeAll=function(detachNode){this.engine.nodes.forEach(function(node){var el=$(node.el);el.removeData('_gridstack_node');this.dd.draggable(el,'destroy').resizable(el,'destroy');},this);this.engine.removeAll(detachNode);this._triggerRemoveEvent();};GridStack.prototype.destroy=function(detachGrid){$(window).off('resize',this.onResizeHandler);if(detachGrid===false){this.removeAll(false);this.$el.removeClass(this.opts._class);delete this.$el.get(0).gridstack;}else{this.$el.remove();}
Utils.removeStylesheet(this._stylesId);if(this.engine){this.engine=null;}};GridStack.prototype.resizable=function(el,val){var self=this;el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
node.noResize=!(val||false);if(node.noResize){self.dd.resizable(el,'disable');}else{self.dd.resizable(el,'enable');}});return this;};GridStack.prototype.movable=function(el,val){var self=this;el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
node.noMove=!(val||false);if(node.noMove){self.dd.draggable(el,'disable');el.removeClass('ui-draggable-handle');}else{self.dd.draggable(el,'enable');el.addClass('ui-draggable-handle');}});return this;};GridStack.prototype.enableMove=function(doEnable,includeNewWidgets){this.movable(this.$el.children('.'+this.opts.itemClass),doEnable);if(includeNewWidgets){this.opts.disableDrag=!doEnable;}};GridStack.prototype.enableResize=function(doEnable,includeNewWidgets){this.resizable(this.$el.children('.'+this.opts.itemClass),doEnable);if(includeNewWidgets){this.opts.disableResize=!doEnable;}};GridStack.prototype.disable=function(){this.movable(this.$el.children('.'+this.opts.itemClass),false);this.resizable(this.$el.children('.'+this.opts.itemClass),false);this.$el.trigger('disable');};GridStack.prototype.enable=function(){this.movable(this.$el.children('.'+this.opts.itemClass),true);this.resizable(this.$el.children('.'+this.opts.itemClass),true);this.$el.trigger('enable');};GridStack.prototype.locked=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
node.locked=(val||false);el.attr('data-gs-locked',node.locked?'yes':null);});return this;};GridStack.prototype.maxHeight=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.maxHeight=(val||false);el.attr('data-gs-max-height',val);}});return this;};GridStack.prototype.minHeight=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.minHeight=(val||false);el.attr('data-gs-min-height',val);}});return this;};GridStack.prototype.maxWidth=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.maxWidth=(val||false);el.attr('data-gs-max-width',val);}});return this;};GridStack.prototype.minWidth=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.minWidth=(val||false);el.attr('data-gs-min-width',val);}});return this;};GridStack.prototype._updateElement=function(el,callback){el=$(el).first();var node=el.data('_gridstack_node');if(!node){return;}
var self=this;self.engine.cleanNodes();self.engine.beginUpdate(node);callback.call(this,el,node);self._updateContainerHeight();self._triggerChangeEvent();self.engine.endUpdate();};GridStack.prototype.resize=function(el,width,height){this._updateElement(el,function(el,node){width=(width!==null&&width!==undefined)?width:node.width;height=(height!==null&&height!==undefined)?height:node.height;this.engine.moveNode(node,node.x,node.y,width,height);});};GridStack.prototype.move=function(el,x,y){this._updateElement(el,function(el,node){x=(x!==null&&x!==undefined)?x:node.x;y=(y!==null&&y!==undefined)?y:node.y;this.engine.moveNode(node,x,y,node.width,node.height);});};GridStack.prototype.update=function(el,x,y,width,height){this._updateElement(el,function(el,node){x=(x!==null&&x!==undefined)?x:node.x;y=(y!==null&&y!==undefined)?y:node.y;width=(width!==null&&width!==undefined)?width:node.width;height=(height!==null&&height!==undefined)?height:node.height;this.engine.moveNode(node,x,y,width,height);});};GridStack.prototype.compact=function(){if(this.engine.nodes.length===0){return;}
this.batchUpdate();this.engine._sortNodes();var nodes=this.engine.nodes;this.engine.nodes=[];nodes.forEach(function(node){if(!node.noMove&&!node.locked){node.autoPosition=true;}
this.engine.addNode(node,false);node._dirty=true;},this);this.commit();};GridStack.prototype.verticalMargin=function(val,noUpdate){if(val===undefined){return this.opts.verticalMargin;}
var heightData=Utils.parseHeight(val);if(this.opts.verticalMarginUnit===heightData.unit&&this.opts.maxRow===heightData.height){return;}
this.opts.verticalMarginUnit=heightData.unit;this.opts.verticalMargin=heightData.height;if(!noUpdate){this._updateStyles();}};GridStack.prototype.cellHeight=function(val,noUpdate){if(val===undefined){if(this.opts.cellHeight&&this.opts.cellHeight!=='auto'){return this.opts.cellHeight;}
var o=this.$el.children('.'+this.opts.itemClass).first();var height=o.attr('data-gs-height');var verticalMargin=this.opts.verticalMargin;return Math.round((o.outerHeight()-(height-1)*verticalMargin)/ height);}
var heightData=Utils.parseHeight(val);if(this.opts.cellHeightUnit===heightData.unit&&this.opts.cellHeight===heightData.height){return;}
this.opts.cellHeightUnit=heightData.unit;this.opts.cellHeight=heightData.height;if(!noUpdate){this._updateStyles();}};GridStack.prototype.cellWidth=function(){return Math.round(this.$el.outerWidth()/ this.opts.column);};GridStack.prototype.getCellFromPixel=function(position,useOffset){var containerPos=(useOffset!==undefined&&useOffset)?this.$el.offset():this.$el.position();var relativeLeft=position.left-containerPos.left;var relativeTop=position.top-containerPos.top;var columnWidth=Math.floor(this.$el.width()/ this.opts.column);var rowHeight=Math.floor(this.$el.height()/ parseInt(this.$el.attr('data-gs-current-row')));return{x:Math.floor(relativeLeft / columnWidth),y:Math.floor(relativeTop / rowHeight)};};GridStack.prototype.batchUpdate=function(){this.engine.batchUpdate();};GridStack.prototype.commit=function(){this.engine.commit();this._triggerRemoveEvent();this._triggerAddEvent();this._triggerChangeEvent();};GridStack.prototype.isAreaEmpty=function(x,y,width,height){return this.engine.isAreaEmpty(x,y,width,height);};GridStack.prototype.setStatic=function(staticValue){this.opts.staticGrid=(staticValue===true);this.enableMove(!staticValue);this.enableResize(!staticValue);this._setStaticClass();};GridStack.prototype._setStaticClass=function(){var staticClassName='grid-stack-static';if(this.opts.staticGrid===true){this.$el.addClass(staticClassName);}else{this.$el.removeClass(staticClassName);}};GridStackEngine.prototype._layoutsNodesChange=function(nodes){if(!this._layouts||this._ignoreLayoutsNodeChange)return;this._layouts.forEach(function(layout,column){if(!layout||column===this.column)return;if(column<this.column){this._layouts[column]=undefined;}
else{nodes.forEach(function(node){var n=layout.find(function(l){return l._id===node._id});if(!n)return;var ratio=column / this.column;if(node.y!==node._origY){n.y+=(node.y-node._origY);}
if(node.x!==node._origX){n.x=Math.round(node.x*ratio);}
if(node.width!==node._origW){n.width=Math.round(node.width*ratio);}},this);}},this);}
GridStackEngine.prototype._updateNodeWidths=function(oldColumn,column,nodes){if(!this.nodes.length||oldColumn===column){return;}
var copy=[this.nodes.length];this.nodes.forEach(function(n,i){copy[i]={x:n.x,y:n.y,width:n.width,_id:n._id}});this._layouts=this._layouts||[];this._layouts[oldColumn]=copy;if(column===1&&nodes&&nodes.length){var top=0;nodes.forEach(function(n){n.x=0;n.width=1;n.y=Math.max(n.y,top);top=n.y+n.height;});}else{nodes=Utils.sort(this.nodes,-1,oldColumn);}
var cacheNodes=this._layouts[column]||[];var lastIndex=this._layouts.length-1;if(cacheNodes.length===0&&column>oldColumn&&column<lastIndex){cacheNodes=this._layouts[lastIndex]||[];if(cacheNodes.length){oldColumn=lastIndex;cacheNodes.forEach(function(cacheNode){var j=nodes.findIndex(function(n){return n&&n._id===cacheNode._id});if(j!==-1){nodes[j].x=cacheNode.x;nodes[j].y=cacheNode.y;nodes[j].width=cacheNode.width;}});cacheNodes=[];}}
var newNodes=[];cacheNodes.forEach(function(cacheNode){var j=nodes.findIndex(function(n){return n&&n._id===cacheNode._id});if(j!==-1){nodes[j].x=cacheNode.x;nodes[j].y=cacheNode.y;nodes[j].width=cacheNode.width;newNodes.push(nodes[j]);nodes[j]=null;}});var ratio=column / oldColumn;nodes.forEach(function(node){if(!node)return;node.x=(column===1?0:Math.round(node.x*ratio));node.width=((column===1||oldColumn===1)?1:(Math.round(node.width*ratio)||1));newNodes.push(node);});newNodes=Utils.sort(newNodes,-1,column);this._ignoreLayoutsNodeChange=true;this.batchUpdate();this.nodes=[];newNodes.forEach(function(node){this.addNode(node,false);node._dirty=true;},this);this.commit();delete this._ignoreLayoutsNodeChange;}
GridStackEngine.prototype._saveInitial=function(){this.nodes.forEach(function(n){n._origX=n.x;n._origY=n.y;n._origW=n.width;n._origH=n.height;delete n._dirty;});}
GridStack.prototype.column=function(column,doNotPropagate){if(column===undefined){return this.opts.column;}
if(this.opts.column===column){return;}
var oldColumn=this.opts.column;if(column===1){this._prevColumn=oldColumn;}else{delete this._prevColumn;}
this.$el.removeClass('grid-stack-'+oldColumn);this.$el.addClass('grid-stack-'+column);this.opts.column=this.engine.column=column;if(doNotPropagate===true){return;}
var domNodes;if(this.opts.oneColumnModeDomSort&&column===1){domNodes=[];this.$el.children('.'+this.opts.itemClass).each(function(index,el){var node=$(el).data('_gridstack_node');if(node){domNodes.push(node);}});if(!domNodes.length){domNodes=undefined;}}
this.engine._updateNodeWidths(oldColumn,column,domNodes);this.engine._ignoreLayoutsNodeChange=true;this._triggerChangeEvent();delete this.engine._ignoreLayoutsNodeChange;};GridStack.prototype.float=function(val){if(val===undefined){return this.opts.float||false;}
if(this.opts.float===val){return;}
this.opts.float=this.engine.float=val||false;if(!val){this.engine._packNodes();this.engine._notify();this._triggerChangeEvent();}};GridStack.prototype.getRow=function(){return this.engine.getRow();}
GridStack.prototype.on=function(eventName,callback){if(eventName.indexOf(' ')!==-1){var names=eventName.split(' ');names.forEach(function(name){this.on(name,callback)},this);return;}
if(eventName==='change'||eventName==='added'||eventName==='removed'){this._gsEventHandler=this._gsEventHandler||{};this._gsEventHandler[eventName]=function(event){callback(event,event.detail)};this.el.addEventListener(eventName,this._gsEventHandler[eventName]);}else{this.$el.on(eventName,callback);}}
GridStack.prototype.off=function(eventName){if(eventName.indexOf(' ')!==-1){var names=eventName.split(' ');names.forEach(function(name){this.off(name,callback)},this);return;}
if(eventName==='change'||eventName==='added'||eventName==='removed'){if(this._gsEventHandler&&this._gsEventHandler[eventName]){this.el.removeEventListener(eventName,this._gsEventHandler[eventName]);delete this._gsEventHandler[eventName];}}else{this.$el.off(eventName);}}
GridStack.prototype.setGridWidth=obsolete(GridStack.prototype.column,'setGridWidth','column','v0.5.3');GridStack.prototype.setColumn=obsolete(GridStack.prototype.column,'setColumn','column','v0.6.4');GridStackEngine.prototype.getGridHeight=obsolete(GridStackEngine.prototype.getRow,'getGridHeight','getRow','v1.0.0');scope.GridStack=GridStack;scope.GridStack.Utils=Utils;scope.GridStack.Engine=GridStackEngine;scope.GridStack.DragDropPlugin=GridStackDragDropPlugin;GridStack.init=function(opts,elOrString){if(!elOrString){elOrString='.grid-stack'}
var el=$(elOrString).get(0);if(!el)return;if(!el.gridstack){el.gridstack=new GridStack(el,Utils.clone(opts));}
return el.gridstack};GridStack.initAll=function(opts,selector){if(!selector){selector='.grid-stack'}
var grids=[];$(selector).each(function(index,el){if(!el.gridstack){el.gridstack=new GridStack(el,Utils.clone(opts));}
grids.push(el.gridstack);});return grids;};return scope.GridStack;});
/* End of File include/javascript/gridstack/gridstack.js */

(function(factory){{factory(jQuery,GridStack,window);}})(function($,GridStack,scope){function JQueryUIGridStackDragDropPlugin(grid){GridStack.DragDropPlugin.call(this,grid);}
GridStack.DragDropPlugin.registerPlugin(JQueryUIGridStackDragDropPlugin);JQueryUIGridStackDragDropPlugin.prototype=Object.create(GridStack.DragDropPlugin.prototype);JQueryUIGridStackDragDropPlugin.prototype.constructor=JQueryUIGridStackDragDropPlugin;JQueryUIGridStackDragDropPlugin.prototype.resizable=function(el,opts){el=$(el);if(opts==='disable'||opts==='enable'||opts==='destroy'){el.resizable(opts);}else if(opts==='option'){var key=arguments[2];var value=arguments[3];el.resizable(opts,key,value);}else{var handles=el.data('gs-resize-handles')?el.data('gs-resize-handles'):this.grid.opts.resizable.handles;el.resizable($.extend({},this.grid.opts.resizable,{handles:handles},{start:opts.start||function(){},stop:opts.stop||function(){},resize:opts.resize||function(){}}));}
return this;};JQueryUIGridStackDragDropPlugin.prototype.draggable=function(el,opts){el=$(el);if(opts==='disable'||opts==='enable'||opts==='destroy'){el.draggable(opts);}else{el.draggable($.extend({},this.grid.opts.draggable,{containment:(this.grid.opts.isNested&&!this.grid.opts.dragOut)?this.grid.$el.parent():(this.grid.opts.draggable.containment||null),start:opts.start||function(){},stop:opts.stop||function(){},drag:opts.drag||function(){}}));}
return this;};JQueryUIGridStackDragDropPlugin.prototype.droppable=function(el,opts){el=$(el);el.droppable(opts);return this;};JQueryUIGridStackDragDropPlugin.prototype.isDroppable=function(el,opts){el=$(el);return Boolean(el.data('droppable'));};JQueryUIGridStackDragDropPlugin.prototype.on=function(el,eventName,callback){$(el).on(eventName,callback);return this;};scope.JQueryUIGridStackDragDropPlugin=JQueryUIGridStackDragDropPlugin;return JQueryUIGridStackDragDropPlugin;});
/* End of File include/javascript/gridstack/gridstack.JQueryUI.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FocusDrawer',['field'],{focusEnabled:false,onAttach:function(component){component.on('render',function(){this.focusEnabled=this.checkFocusAvailability();if(this.focusEnabled){this.initFocusIcon();}});},checkFocusAvailability:function(){var focusDrawerIsEnabled=app.utils.isTruthy(app.config.enableLinkToDrawer);var fieldIsValid=_.isFunction(this.getFocusContextModule)&&_.isFunction(this.getFocusContextModelId);var module=app.metadata.getModule(this.getFocusContextModule());var moduleIsNotBwc=!(module&&app.utils.isTruthy(module.isBwcEnabled));var layoutIsValid=this._checkLayoutFocusDrawerAccess();return focusDrawerIsEnabled&&fieldIsValid&&moduleIsNotBwc&&!_.isEmpty(app.sideDrawer)&&layoutIsValid;},initFocusIcon:function(){var relateFieldContainer=this.$el.find('.relate-field-container');var focusIconContainer=relateFieldContainer.find('.focus-icon-container');var isContainerHidden=focusIconContainer.hasClass('hide');if(isContainerHidden&&this.value){focusIconContainer.toggleClass('hide');var focusIcon=focusIconContainer.find('.focus-icon');focusIcon.click(_.bind(this.handleFocusClick,this));focusIcon.keyup(_.bind(this.handleKeyboardClick,this));}},handleFocusClick:function(){if(this.focusEnabled){this.openFocusDrawer(this.getFocusContext());}},handleKeyboardClick:function(e){if(e.type==='keyup'&&e.originalEvent.key==='Enter'){this.handleFocusClick();}},getFocusContext:function(){return{layout:'row-model-data',context:{layout:'focus',module:_.isFunction(this.getFocusContextModule)?this.getFocusContextModule():'',modelId:_.isFunction(this.getFocusContextModelId)?this.getFocusContextModelId():'',parentContext:this.context,fieldDefs:this.fieldDefs,baseModelId:this.model.get('id'),disableRecordSwitching:this._getDisableRecordSwitching()}};},_getDisableRecordSwitching:function(){return this.disableFocusDrawerRecordSwitching||this.def.disableFocusDrawerRecordSwitching||false;},openFocusDrawer:function(context){if(app.sideDrawer){var drawerIsOpen=app.sideDrawer.isOpen();var drawerContext=app.sideDrawer.currentContextDef;if(drawerIsOpen&&_.isEqual(context,drawerContext)){return;}
var sideDrawerClick=this.$el.closest('#side-drawer').length>0;app.sideDrawer.open(context,null,sideDrawerClick);}},getFocusDrawer:function(){return app.sideDrawer;},_checkLayoutFocusDrawerAccess:function(){var currLayout=this.view.layout;while(currLayout){if(currLayout.disableFocusDrawer){return false;}
currLayout=currLayout.layout;}
return true;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FocusDrawer.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DashletSearchControls',['view'],{onAttach:function(component,plugin){this.on('init',function(){if(!_.isEmpty(component.sortItems)&&!_.isEmpty(component.searchFieldPlaceholder)){this._initDashletControls();this._listenForEvents();}},this);},_initDashletControls:function(){if(!this.layout||this._mode==='config'){return;}
var searchControls=app.view.createView({context:this.context,type:'dashlet-search-controls',module:this.module,primary:false,layout:this.layout,sortItems:this.sortItems,searchFieldPlaceholder:this.searchFieldPlaceholder});this.layout.addComponent(searchControls,{prepend:true});},_listenForEvents:function(){if(!this.layout||this._mode==='config'){return;}
if(_.isFunction(this.applySort)){this.listenTo(this.layout,'dashlet:controls:sort',this.applySort);}
if(_.isFunction(this.applySearch)){this.listenTo(this.layout,'dashlet:controls:search',this.applySearch);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DashletSearchControls.js */

// jscs:disable
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).DOMPurify=t()}(this,(function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,a=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,s=c.apply,u=c.construct;s||(s=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),a||(a=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var f,m=x(Array.prototype.forEach),d=x(Array.prototype.pop),p=x(Array.prototype.push),g=x(String.prototype.toLowerCase),h=x(String.prototype.match),y=x(String.prototype.replace),v=x(String.prototype.indexOf),b=x(String.prototype.trim),T=x(RegExp.prototype.test),A=(f=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(f,t)});function x(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(e,t,r)}}function w(e,r){t&&t(e,null);for(var o=r.length;o--;){var i=r[o];if("string"==typeof i){var a=g(i);a!==i&&(n(r)||(r[o]=a),i=a)}e[i]=!0}return e}function S(t){var n=l(null),r=void 0;for(r in t)s(e,t,[r])&&(n[r]=t[r]);return n}function k(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=r(e)}return null}var R=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E=i(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),O=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=i(["#text"]),M=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),F=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),I=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),H=a(/<%[\s\S]*|[\s\S]*%>/gm),U=a(/^data-[\-\w.\u00B7-\uFFFF]/),j=a(/^aria-[\-\w]+$/),P=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),W=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var K=function(){return"undefined"==typeof window?null:window},V=function(e,t){if("object"!==(void 0===e?"undefined":G(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),n=function(t){return e(t)};if(n.version="2.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,a=t.DocumentFragment,l=t.HTMLTemplateElement,c=t.Node,s=t.Element,u=t.NodeFilter,f=t.NamedNodeMap,x=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,Y=t.Text,X=t.Comment,$=t.DOMParser,Z=t.trustedTypes,J=s.prototype,Q=k(J,"cloneNode"),ee=k(J,"nextSibling"),te=k(J,"childNodes"),ne=k(J,"parentNode");if("function"==typeof l){var re=o.createElement("template");re.content&&re.content.ownerDocument&&(o=re.content.ownerDocument)}var oe=V(Z,r),ie=oe&&ze?oe.createHTML(""):"",ae=o,le=ae.implementation,ce=ae.createNodeIterator,se=ae.getElementsByTagName,ue=ae.createDocumentFragment,fe=r.importNode,me={};try{me=S(o).documentMode?o.documentMode:{}}catch(e){}var de={};n.isSupported=le&&void 0!==le.createHTMLDocument&&9!==me;var pe=z,ge=H,he=U,ye=j,ve=B,be=W,Te=P,Ae=null,xe=w({},[].concat(q(R),q(_),q(D),q(N),q(L))),we=null,Se=w({},[].concat(q(M),q(F),q(C),q(I))),ke=null,Re=null,_e=!0,De=!0,Ee=!1,Ne=!1,Oe=!1,Le=!1,Me=!1,Fe=!1,Ce=!1,Ie=!0,ze=!1,He=!0,Ue=!0,je=!1,Pe={},Be=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,Ge=w({},["audio","video","img","source","image","track"]),qe=null,Ke=w({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ve=null,Ye=o.createElement("form"),Xe=function(e){Ve&&Ve===e||(e&&"object"===(void 0===e?"undefined":G(e))||(e={}),e=S(e),Ae="ALLOWED_TAGS"in e?w({},e.ALLOWED_TAGS):xe,we="ALLOWED_ATTR"in e?w({},e.ALLOWED_ATTR):Se,qe="ADD_URI_SAFE_ATTR"in e?w(S(Ke),e.ADD_URI_SAFE_ATTR):Ke,We="ADD_DATA_URI_TAGS"in e?w(S(Ge),e.ADD_DATA_URI_TAGS):Ge,ke="FORBID_TAGS"in e?w({},e.FORBID_TAGS):{},Re="FORBID_ATTR"in e?w({},e.FORBID_ATTR):{},Pe="USE_PROFILES"in e&&e.USE_PROFILES,_e=!1!==e.ALLOW_ARIA_ATTR,De=!1!==e.ALLOW_DATA_ATTR,Ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=e.SAFE_FOR_TEMPLATES||!1,Oe=e.WHOLE_DOCUMENT||!1,Fe=e.RETURN_DOM||!1,Ce=e.RETURN_DOM_FRAGMENT||!1,Ie=!1!==e.RETURN_DOM_IMPORT,ze=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,He=!1!==e.SANITIZE_DOM,Ue=!1!==e.KEEP_CONTENT,je=e.IN_PLACE||!1,Te=e.ALLOWED_URI_REGEXP||Te,Ne&&(De=!1),Ce&&(Fe=!0),Pe&&(Ae=w({},[].concat(q(L))),we=[],!0===Pe.html&&(w(Ae,R),w(we,M)),!0===Pe.svg&&(w(Ae,_),w(we,F),w(we,I)),!0===Pe.svgFilters&&(w(Ae,D),w(we,F),w(we,I)),!0===Pe.mathMl&&(w(Ae,N),w(we,C),w(we,I))),e.ADD_TAGS&&(Ae===xe&&(Ae=S(Ae)),w(Ae,e.ADD_TAGS)),e.ADD_ATTR&&(we===Se&&(we=S(we)),w(we,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&w(qe,e.ADD_URI_SAFE_ATTR),Ue&&(Ae["#text"]=!0),Oe&&w(Ae,["html","head","body"]),Ae.table&&(w(Ae,["tbody"]),delete ke.tbody),i&&i(e),Ve=e)},$e=w({},["mi","mo","mn","ms","mtext"]),Ze=w({},["foreignobject","desc","title","annotation-xml"]),Je=w({},_);w(Je,D),w(Je,E);var Qe=w({},N);w(Qe,O);var et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",rt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:nt,tagName:"template"});var n=g(e.tagName),r=g(t.tagName);if(e.namespaceURI===tt)return t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===r||$e[r]):Boolean(Je[n]);if(e.namespaceURI===et)return t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&Ze[r]:Boolean(Qe[n]);if(e.namespaceURI===nt){if(t.namespaceURI===tt&&!Ze[r])return!1;if(t.namespaceURI===et&&!$e[r])return!1;var o=w({},["title","style","font","a","script"]);return!Qe[n]&&(o[n]||!Je[n])}return!1},ot=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ie}catch(t){e.remove()}}},it=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!we[e])if(Fe||Ce)try{ot(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},at=function(e){var t=void 0,n=void 0;if(Me)e="<remove></remove>"+e;else{var r=h(e,/^[\r\n\t ]+/);n=r&&r[0]}var i=oe?oe.createHTML(e):e;try{t=(new $).parseFromString(i,"text/html")}catch(e){}if(!t||!t.documentElement){var a=(t=le.createHTMLDocument("")).body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=i}return e&&n&&t.body.insertBefore(o.createTextNode(n),t.body.childNodes[0]||null),se.call(t,Oe?"html":"body")[0]},lt=function(e){return ce.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,(function(){return u.FILTER_ACCEPT}),!1)},ct=function(e){return!(e instanceof Y||e instanceof X)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof x&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},st=function(e){return"object"===(void 0===c?"undefined":G(c))?e instanceof c:e&&"object"===(void 0===e?"undefined":G(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ut=function(e,t,r){de[e]&&m(de[e],(function(e){e.call(n,t,r,Ve)}))},ft=function(e){var t=void 0;if(ut("beforeSanitizeElements",e,null),ct(e))return ot(e),!0;if(h(e.nodeName,/[\u0080-\uFFFF]/))return ot(e),!0;var r=g(e.nodeName);if(ut("uponSanitizeElement",e,{tagName:r,allowedTags:Ae}),!st(e.firstElementChild)&&(!st(e.content)||!st(e.content.firstElementChild))&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return ot(e),!0;if(!Ae[r]||ke[r]){if(Ue&&!Be[r])for(var o=ne(e),i=te(e),a=i.length-1;a>=0;--a)o.insertBefore(Q(i[a],!0),ee(e));return ot(e),!0}return e instanceof s&&!rt(e)?(ot(e),!0):"noscript"!==r&&"noembed"!==r||!T(/<\/no(script|embed)/i,e.innerHTML)?(Ne&&3===e.nodeType&&(t=e.textContent,t=y(t,pe," "),t=y(t,ge," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),ut("afterSanitizeElements",e,null),!1):(ot(e),!0)},mt=function(e,t,n){if(He&&("id"===t||"name"===t)&&(n in o||n in Ye))return!1;if(De&&T(he,t));else if(_e&&T(ye,t));else{if(!we[t]||Re[t])return!1;if(qe[t]);else if(T(Te,y(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!We[e]){if(Ee&&!T(ve,y(n,be,"")));else if(n)return!1}else;}return!0},dt=function(e){var t=void 0,r=void 0,o=void 0,i=void 0;ut("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we};for(i=a.length;i--;){var c=t=a[i],s=c.name,u=c.namespaceURI;if(r=b(t.value),o=g(s),l.attrName=o,l.attrValue=r,l.keepAttr=!0,l.forceKeepAttr=void 0,ut("uponSanitizeAttribute",e,l),r=l.attrValue,!l.forceKeepAttr&&(it(s,e),l.keepAttr))if(T(/\/>/i,r))it(s,e);else{Ne&&(r=y(r,pe," "),r=y(r,ge," "));var f=e.nodeName.toLowerCase();if(mt(f,o,r))try{u?e.setAttributeNS(u,s,r):e.setAttribute(s,r),d(n.removed)}catch(e){}}}ut("afterSanitizeAttributes",e,null)}},pt=function e(t){var n=void 0,r=lt(t);for(ut("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)ut("uponSanitizeShadowNode",n,null),ft(n)||(n.content instanceof a&&e(n.content),dt(n));ut("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var i=void 0,l=void 0,s=void 0,u=void 0,f=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!st(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!n.isSupported){if("object"===G(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(st(e))return t.toStaticHTML(e.outerHTML)}return e}if(Le||Xe(o),n.removed=[],"string"==typeof e&&(je=!1),je);else if(e instanceof c)1===(l=(i=at("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?i=l:i.appendChild(l);else{if(!Fe&&!Ne&&!Oe&&-1===e.indexOf("<"))return oe&&ze?oe.createHTML(e):e;if(!(i=at(e)))return Fe?null:ie}i&&Me&&ot(i.firstChild);for(var m=lt(je?e:i);s=m.nextNode();)3===s.nodeType&&s===u||ft(s)||(s.content instanceof a&&pt(s.content),dt(s),u=s);if(u=null,je)return e;if(Fe){if(Ce)for(f=ue.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return Ie&&(f=fe.call(r,f,!0)),f}var d=Oe?i.outerHTML:i.innerHTML;return Ne&&(d=y(d,pe," "),d=y(d,ge," ")),oe&&ze?oe.createHTML(d):d},n.setConfig=function(e){Xe(e),Le=!0},n.clearConfig=function(){Ve=null,Le=!1},n.isValidAttribute=function(e,t,n){Ve||Xe({});var r=g(e),o=g(t);return mt(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(de[e]=de[e]||[],p(de[e],t))},n.removeHook=function(e){de[e]&&d(de[e])},n.removeHooks=function(e){de[e]&&(de[e]=[])},n.removeAllHooks=function(){de={}},n}()}));

/* End of File include/javascript/dom-purify/purify.min.js */

(function(app){function parseUserAgentForBrowserEngine(){var engine=null;var userAgent=navigator.userAgent;var geckoRegExp=new RegExp('Gecko','i');var likeGeckoRegExp=new RegExp('like Gecko','i');var blinkRegExp=new RegExp('Chrome','i');var webkitRegExp=new RegExp('AppleWebKit','i');var ieRegExp=new RegExp('Trident','i');if(geckoRegExp.test(userAgent)&&!likeGeckoRegExp.test(userAgent)){engine='gecko';}else if(blinkRegExp.test(userAgent)){engine='blink';}else if(webkitRegExp.test(userAgent)){engine='webkit';}else if(ieRegExp.test(userAgent)){engine='trident';}
return engine;};app.augment('userAgent',{browserEngine:parseUserAgentForBrowserEngine(),});})(SUGAR.App);
/* End of File include/javascript/sugar7/userAgent.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Previewable',['view'],{onAttach:function(component,plugin){this.on('data:preview',_.bind(function(data){var hasChanges=this.handleDataPreview(data);if(this.dataPreviewCallbacks&&_.isFunction(this.dataPreviewCallbacks)){this.dataPreviewCallbacks(hasChanges,data);}},this));},handleDataPreview:function(data){var hasChanges=this.setFieldsPreviewMeta(data)||this.setPropertiesPreviewData(data);if(hasChanges){this.render();}
return hasChanges;},setFieldsPreviewMeta:function(data){var hasChanges=false;if(!data.fields||_.isEmpty(data.fields)){return hasChanges;}
_.each(data.fields,function(fieldName){var field=this.getField(fieldName);if(!field){return;}
var result=false;var fieldType=field.type;switch(fieldType){case'button':result=this.setButtonPreviewMeta(fieldName,{label:data.preview_data});break;default:}
hasChanges=hasChanges||result;},this);return hasChanges;},setButtonPreviewMeta:function(fieldName,metadata){var buttonIndex=_.findIndex(this.meta.buttons,function(button){return button.name===fieldName;},this);if(buttonIndex===-1||_.isEmpty(metadata)){return false;}
this.meta.buttons[buttonIndex]=_.extend(this.meta.buttons[buttonIndex],metadata);return true;},setPropertiesPreviewData:function(data){var hasChanges=false;if(!data.properties||_.isEmpty(data.properties)){return hasChanges;}
_.each(data.properties,function(property){if(!Object.prototype.hasOwnProperty.call(this,property)){return;}
this[property]=data.preview_data;hasChanges=true;},this);return hasChanges;},onDetach:function(component,plugin){this.off('data:preview',this.handleDataPreview,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Previewable.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Attachments',['field'],{uploadFile:function($inputFile,fileFieldName,ajaxOptions){var file=app.data.createBean('Notes');file.uploadFile(fileFieldName,$inputFile,{success:_.bind(function(data){if(this.disposed){return;}
if(this._handleFileUploadSuccess&&_.isFunction(this._handleFileUploadSuccess)){this._handleFileUploadSuccess(data);}},this),complete:_.bind(function(data){if(this._handleFileUploadComplete&&_.isFunction(this._handleFileUploadComplete)){this._handleFileUploadComplete(data);}},this),error:_.bind(function(data){if(this._handleFileUploadError&&_.isFunction(this._handleFileUploadError)){this._handleFileUploadError(data);}},this)},ajaxOptions);return file;},addUploadedFileToCollection:function(collection,file){if(!collection||!collection instanceof app.BeanCollection){return;}
if(!file||!file instanceof app.Bean){return;}
collection.add(file,{merge:true});},getUploadedFileBean:function(data,attributes){var attrs=!_.isEmpty(attributes)?attributes:this.getUploadedFileBeanDefaultAttributes(data);return app.data.createBean('Notes',attrs);},getUploadedFileBeanDefaultAttributes:function(data){if(!data.record||!data.record.id){return{};}
return{_link:'attachments',name:data.record.name||data.record.filename,filename_guid:data.record.id,filename:data.record.filename||data.record.name,file_mime_type:data.record.file_mime_type,file_size:data.record.file_size,file_ext:data.record.file_ext};}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Attachments.js */

