var translate=function(label,module,replace){var string,language,arr;if(!module){if(!window.CURRENT_MODULE){module='pmse_Project';}else{module=window.CURRENT_MODULE;}}
if(App){string=App.lang.get(label,module);}else{language=SUGAR.language.languages;arr=language[module];string=(arr&&arr[label])?arr[label]:label;}
if(!replace){return string;}else{return string.toString().replace(/\%s/,replace);}};var isRelatedToBusinessCenters=function(moduleName){var moduleMetadata=App.metadata.getModule(moduleName);var moduleFields=moduleMetadata?moduleMetadata.fields:null;for(var field in moduleFields){if(moduleFields[field].type==='link'&&moduleFields[field].relationship){var rel=App.metadata.getRelationship(moduleFields[field].relationship);if((rel.lhs_module===moduleName&&rel.rhs_module==='BusinessCenters')||(rel.lhs_module==='BusinessCenters'&&rel.rhs_module===moduleName)){return true;}}}
return false;};var setDatetimeFieldsBCOptions=function(options){var targetRelatedToBC=isRelatedToBusinessCenters(options.targetModule);var selectedRelatedToBC=isRelatedToBusinessCenters(options.selectedModule);var fields=options.fields?options.fields:[];for(var i=0;i<fields.length;i++){if(fields[i].type==='Datetime'){fields[i].optionItem={businessHours:{show:true,targetModuleBC:targetRelatedToBC&&options.showTargetModuleOption,selectedModuleBC:selectedRelatedToBC&&options.showSelectedModuleOption?options.selectedModule:''}};}}
return fields;};var decodeHtmlEntities=function(str){var txt=document.createElement('textarea');txt.innerHTML=str;return txt.value;};
/* End of File include/javascript/pmse/utils.js */

