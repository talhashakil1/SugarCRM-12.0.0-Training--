var AdamActivityResizeBehavior=function(){};AdamActivityResizeBehavior.prototype=new jCore.RegularResizeBehavior();AdamActivityResizeBehavior.prototype.type="AdamActivityResizeBehavior";AdamActivityResizeBehavior.prototype.onResizeStart=function(shape){return function(e,ui){var zoomFactor=shape.canvas.getZoomFactor();$(this).resizable("option","minHeight",shape.getMinHeight()*zoomFactor);$(this).resizable("option","minWidth",shape.getMinWidth()*zoomFactor);$(this).resizable("option","maxHeight",shape.getMaxHeight()*zoomFactor);$(this).resizable("option","maxWidth",shape.getMaxWidth()*zoomFactor);shape.canvas.hideAllFocusedLabels();jCore.RegularResizeBehavior.prototype.onResizeStart.call(this,shape);};};AdamActivityResizeBehavior.prototype.onResize=function(shape){return function(e,ui){var i,port,canvas=shape.canvas;shape.setPosition(ui.position.left / canvas.zoomFactor,ui.position.top / canvas.zoomFactor);shape.setDimension(ui.size.width / canvas.zoomFactor,ui.size.height / canvas.zoomFactor);shape.fixConnectionsOnResize(shape.resizing,true);shape.updateLabelsPosition(true,true);for(i=0;i<shape.markersArray.getSize();i+=1){shape.markersArray.get(i).paint();}};};AdamActivityResizeBehavior.prototype.onResizeEnd=function(shape){return function(e,ui){var i,size,port,canvas=shape.canvas;jCore.RegularResizeBehavior.prototype.onResizeEnd.call(this,shape)(e,ui);for(i=0,size=shape.getPorts().getSize();i<size;i+=1){port=shape.getPorts().get(i);canvas.triggerPortChangeEvent(port);}};};AdamActivityResizeBehavior.prototype.updateResizeMinimums=function(shape){var minW,minH,children=shape.getChildren(),limits,margin=15,$shape=$(shape.getHTML()),i,child,childWithoutBoundaries=new jCore.ArrayList();for(i=0;i<children.getSize();i+=1){child=children.get(i);if(!(child.type==='AdamEvent'&&child.evn_type==='BOUNDARY')){childWithoutBoundaries.insert(child);}}
limits=childWithoutBoundaries.getDimensionLimit();minW=limits[1]+margin;minH=limits[2]+margin;$shape.resizable('option','minWidth',minW);$shape.resizable('option','minHeight',minH);};