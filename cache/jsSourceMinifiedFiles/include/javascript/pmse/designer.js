var project,canvas,PROJECT_MODULE='Leads',items,myLayout,adamUID,PROJECT_LOCKED_VARIABLES=[],PMSE_DECIMAL_SEPARATOR='.',PMSE_DESIGNER_FORM_TRANSLATIONS={ERROR_INVALID_EMAIL:translate('LBL_PMSE_ADAM_UI_ERROR_INVALID_EMAIL'),ERROR_INVALID_INTEGER:translate('LBL_PMSE_ADAM_UI_ERROR_INVALID_INTEGER'),ERROR_REQUIRED_FIELD:translate('LBL_PMSE_ADAM_UI_ERROR_REQUIRED_FIELD'),ERROR_COMPARISON:translate('LBL_PMSE_ADAM_UI_ERROR_COMPARISON'),ERROR_REGEXP:translate('LBL_PMSE_ADAM_UI_ERROR_REGEXP'),ERROR_TEXT_LENGTH:translate('LBL_PMSE_ADAM_UI_ERROR_TEXT_LENGTH'),ERROR_CHECKBOX_VALUES:translate('LBL_PMSE_ADAM_UI_ERROR_CHECKBOX_VALUES'),ERROR_TEXT:translate('LBL_PMSE_ADAM_UI_ERROR_TEXT'),ERROR_DATE:translate('LBL_PMSE_ADAM_UI_ERROR_DATE '),ERROR_PHONE:translate('LBL_PMSE_ADAM_UI_ERROR_PHONE'),ERROR_FLOAT:translate('LBL_PMSE_ADAM_UI_ERROR_FLOAT'),ERROR_DECIMAL:translate('LBL_PMSE_ADAM_UI_ERROR_DECIMAL'),ERROR_URL:translate('LBL_PMSE_ADAM_UI_ERROR_URL'),TITLE_BUSINESS_RULE_EVALUATION:translate('LBL_PMSE_ADAM_UI_TITLE_BUSINESS_RULE_EVALUATION'),LBL_BUSINESS:translate('LBL_PMSE_ADAM_UI_LBL_BUSINESS'),LBL_OPERATOR:translate('LBL_PMSE_ADAM_UI_LBL_OPERATOR'),LBL_UNIT:translate('LBL_PMSE_ADAM_UI_LBL_UNIT'),LBL_RESPONSE:translate('LBL_PMSE_LABEL_RESPONSE'),LBL_LOGIC_OPERATORS:translate('LBL_PMSE_ADAM_UI_LBL_LOGIC_OPERATORS'),LBL_GROUP:translate('LBL_PMSE_ADAM_UI_LBL_GROUP'),LBL_OPERATION:translate('LBL_PMSE_ADAM_UI_LBL_OPERATION'),LBL_DIRECTION:translate('LBL_PMSE_ADAM_UI_LBL_DIRECTION'),LBL_MODULE:translate('LBL_PMSE_FORM_LABEL_MODULE'),LBL_FIELD:translate('LBL_PMSE_LABEL_FIELD'),LBL_VALUE:translate('LBL_PMSE_LABEL_VALUE'),LBL_TARGET_MODULE:translate('LBL_PMSE_FORM_OPTION_TARGET_MODULE'),LBL_VARIABLE:translate('LBL_PMSE_ADAM_UI_LBL_VARIABLE'),LBL_NUMBER:translate('LBL_PMSE_ADAM_UI_LBL_NUMBER'),TITLE_MODULE_FIELD_EVALUATION:translate('LBL_PMSE_ADAM_UI_TITLE_MODULE_FIELD_EVALUATION'),TITLE_FORM_RESPONSE_EVALUATION:translate('LBL_PMSE_ADAM_UI_TITLE_FORM_RESPONSE_EVALUATION'),TITLE_SUGAR_DATE:translate('LBL_PMSE_ADAM_UI_TITLE_SUGAR_DATE'),TITLE_FIXED_DATE:translate('LBL_PMSE_ADAM_UI_TITLE_FIXED_DATE'),TITLE_UNIT_TIME:translate('LBL_PMSE_ADAM_UI_TITLE_UNIT_TIME'),LBL_FORM:translate('LBL_PMSE_LABEL_FORM'),LBL_STATUS:translate('LBL_PMSE_LABEL_STATUS'),LBL_APPROVED:translate('LBL_PMSE_LABEL_APPROVED'),LBL_REJECTED:translate('LBL_PMSE_LABEL_REJECTED'),BUTTON_SUBMIT:translate('LBL_PMSE_BUTTON_ADD'),BUTTON_CANCEL:translate('LBL_PMSE_BUTTON_CANCEL')};var currentErrorTable;var getAutoIncrementName=function(type,targetElement){var i,j,k=canvas.getCustomShapes().getSize(),element,exists,index=1,auxMap={AdamUserTask:translate('LBL_PMSE_ADAM_DESIGNER_TASK'),AdamScriptTask:translate('LBL_PMSE_ADAM_DESIGNER_ACTION'),AdamEventLead:translate('LBL_PMSE_ADAM_DESIGNER_LEAD_START_EVENT'),AdamEventOpportunity:translate('LBL_PMSE_ADAM_DESIGNER_OPPORTUNITY_START_EVENT'),AdamEventDocument:translate('LBL_PMSE_ADAM_DESIGNER_DOCUMENT_START_EVENT'),AdamEventOtherModule:translate('LBL_PMSE_ADAM_DESIGNER_OTHER_MODULE_EVENT'),AdamEventTimer:translate('LBL_PMSE_ADAM_DESIGNER_WAIT_EVENT'),AdamEventMessage:translate('LBL_PMSE_ADAM_DESIGNER_MESSAGE_EVENT'),AdamEventReceiveMessage:translate('LBL_PMSE_ADAM_DESIGNER_MESSAGE_EVENT'),AdamEventBoundary:translate('LBL_PMSE_ADAM_DESIGNER_BOUNDARY_EVENT'),AdamGatewayExclusive:translate('LBL_PMSE_ADAM_DESIGNER_EXCLUSIVE_GATEWAY'),AdamGatewayParallel:translate('LBL_PMSE_ADAM_DESIGNER_PARALLEL_GATEWAY'),AdamEventEnd:translate('LBL_PMSE_ADAM_DESIGNER_END_EVENT'),AdamTextAnnotation:translate('LBL_PMSE_ADAM_DESIGNER_TEXT_ANNOTATION')};for(i=0;i<k;i+=1){exists=false;for(j=0;j<k;j+=1){element=canvas.getCustomShapes().get(j);if(element.getName()===auxMap[type]+" # "+(i+1)){exists=!(targetElement&&targetElement===element);break;}}
if(!exists){break;}}
return auxMap[type]+" # "+(i+1);};function renderProject(prjCode){var pmseCurrencies,currencies,sugarCurrencies,currentCurrency,i;adamUID=prjCode;if($('#container').length){$('#container').height($(window).height()-$('#container').offset().top-$('#footer').height()-46);}
$(window).resize(function(){if($('#container').length){$('#container').height($(window).height()-$('#content').offset().top-$('#footer').height()-46);}});myLayout=$('#container').layout({north:{size:44,spacing_open:0,closable:false,slidable:false,resizable:false},north__showOverflowOnHover:true,south:{size:200,maxSize:200,minSize:100,initHidden:true}});$('#container').css('zIndex',1);$('.ui-layout-north').css('overflow','hidden');pmseCurrencies=[];currencies=SUGAR.App.metadata.getCurrencies();for(currID in currencies){if(currencies.hasOwnProperty(currID)){if(currencies[currID].status==='Active'){pmseCurrencies.push({id:currID,iso:currencies[currID].iso4217,name:currencies[currID].name,rate:parseFloat(currencies[currID].conversion_rate),preferred:currID===SUGAR.App.user.getCurrency().currency_id,symbol:currencies[currID].symbol});}}}
project=new AdamProject({metadata:[{name:"teamsDataSource",data:{url:"pmse_Project/CrmData/teams/public",root:"result"}},{name:"datePickerFormat",data:SUGAR.App.date.toDatepickerFormat(SUGAR.App.user.attributes.preferences.datepref)},{name:"fieldsDataSource",data:{url:"pmse_Project/CrmData/allRelated/{MODULE}",root:"result"}},{name:"targetModuleFieldsDataSource",data:{url:"pmse_Project/CrmData/fields/{MODULE}",root:"result"}},{name:"currencies",data:pmseCurrencies}]});canvas=new AdamCanvas({name:'Adam',id:"jcore_designer",container:"regular",readOnly:false,drop:{type:"container",selectors:["#AdamEventDocument","#AdamEventLead","#AdamEventOpportunity","#AdamEventTimer","#AdamEventMessage","#AdamEventEnd","#AdamGatewayExclusive","#AdamGatewayParallel","#AdamUserTask","#AdamScriptTask","#AdamTextAnnotation",".custom_shape","#AdamEventReceiveMessage","#AdamEventOtherModule"]},copyAndPasteReferences:{AdamEvent:AdamEvent,AdamGateway:AdamGateway,AdamActivity:AdamActivity,AdamArtifact:AdamArtifact,AdamFlow:AdamFlow},toolbarFactory:function(id){var customShape=null,name=getAutoIncrementName(id);switch(id){case"AdamEventLead":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'Leads',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-leads','adam-marker-75-start-catch-leads','adam-marker-100-start-catch-leads','adam-marker-125-start-catch-leads','adam-marker-150-start-catch-leads']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamEventOpportunity":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'Opportunities',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-opportunities','adam-marker-75-start-catch-opportunities','adam-marker-100-start-catch-opportunities','adam-marker-125-start-catch-opportunities','adam-marker-150-start-catch-opportunities']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamEventDocument":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'Documents',labels:[{message:'Document Start Event',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-documents','adam-marker-75-start-catch-documents','adam-marker-100-start-catch-documents','adam-marker-125-start-catch-documents','adam-marker-150-start-catch-documents']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamEventOtherModule":customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'start',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'',labels:[{message:'Other Start Event',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-start','adam-shape-75-event-start','adam-shape-100-event-start','adam-shape-125-event-start','adam-shape-150-event-start']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-start-catch-message','adam-marker-75-start-catch-message','adam-marker-100-start-catch-message','adam-marker-125-start-catch-message','adam-marker-150-start-catch-message']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventTimer':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'intermediate',evn_marker:'TIMER',evn_behavior:'catch',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-catch-timer','adam-marker-75-intermediate-catch-timer','adam-marker-100-intermediate-catch-timer','adam-marker-125-intermediate-catch-timer','adam-marker-150-intermediate-catch-timer']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventMessage':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'intermediate',evn_marker:'MESSAGE',evn_behavior:'throw',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-throw-message','adam-marker-75-intermediate-throw-message','adam-marker-100-intermediate-throw-message','adam-marker-125-intermediate-throw-message','adam-marker-150-intermediate-throw-message']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventReceiveMessage':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'intermediate',evn_marker:'MESSAGE',evn_behavior:'catch',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-catch-message','adam-marker-75-intermediate-catch-message','adam-marker-100-intermediate-catch-message','adam-marker-125-intermediate-catch-message','adam-marker-150-intermediate-catch-message']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamUserTask':customShape=new AdamActivity({canvas:this,width:100,height:50,container:'activity',style:{cssClasses:['']},layers:[{x:-2,y:-2,layerName:"first-layer",priority:2,visible:true,style:{cssClasses:['adam-activity-task']}}],connectAtMiddlePoints:true,drag:'customshapedrag',resizeBehavior:"activityResize",resizeHandlers:{type:"Rectangle",total:8,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'},labels:[{message:"",width:0,height:0,orientation:'horizontal',position:{location:'center',diffX:0,diffY:0},updateParent:true}],markers:[{markerType:'USERTASK',x:5,y:5,markerZoomClasses:["adam-marker-50-usertask","adam-marker-75-usertask","adam-marker-100-usertask","adam-marker-125-usertask","adam-marker-150-usertask"]}],act_type:'TASK',act_task_type:'USERTASK',act_name:name,minHeight:50,minWidth:100,maxHeight:300,maxWidth:400});break;case'AdamScriptTask':customShape=new AdamActivity({canvas:this,width:35,height:35,container:'activity',style:{cssClasses:['']},layers:[{x:-2,y:-2,layerName:"first-layer",priority:2,visible:true,style:{cssClasses:['adam-activity-task']}},{x:-2,y:-2,layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-activity-scripttask-none','adam-shape-75-activity-scripttask-none','adam-shape-100-activity-scripttask-none','adam-shape-125-activity-scripttask-none','adam-shape-150-activity-scripttask-none']}],connectAtMiddlePoints:true,drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'},labels:[{message:"",position:{location:'bottom',diffX:1,diffY:4},updateParent:false}],act_type:'TASK',act_task_type:'SCRIPTTASK',act_name:name,act_script_type:'NONE'});break;case'AdamEventBoundary':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'boundary',evn_marker:'TIMER',evn_behavior:'catch',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-intermediate','adam-shape-75-event-intermediate','adam-shape-100-event-intermediate','adam-shape-125-event-intermediate','adam-shape-150-event-intermediate']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-intermediate-catch-timer','adam-marker-75-intermediate-catch-timer','adam-marker-100-intermediate-catch-timer','adam-marker-125-intermediate-catch-timer','adam-marker-150-intermediate-catch-timer']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamEventEnd':customShape=new AdamEvent({canvas:this,width:33,height:33,style:{cssClasses:[""]},evn_name:name,evn_type:'end',evn_marker:'EMPTY',evn_behavior:'throw',evn_message:'',labels:[{message:'',position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-event-end','adam-shape-75-event-end','adam-shape-100-event-end','adam-shape-125-event-end','adam-shape-150-event-end']},{layerName:"second-layer",priority:3,visible:true,style:{cssClasses:[]},zoomSprites:['adam-marker-50-end-throw-empty','adam-marker-75-end-throw-empty','adam-marker-100-end-throw-empty','adam-marker-125-end-throw-empty','adam-marker-150-end-throw-empty']}],drag:'customshapedrag',resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamGatewayExclusive':customShape=new AdamGateway({canvas:this,width:45,height:45,gat_type:'exclusive',gat_direction:'diverging',gat_name:name,style:{cssClasses:[""]},labels:[{message:"",position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-gateway-exclusive','adam-shape-75-gateway-exclusive','adam-shape-100-gateway-exclusive','adam-shape-125-gateway-exclusive','adam-shape-150-gateway-exclusive']}],connectAtMiddlePoints:true,drag:'regular',resizeBehavior:"no",resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case'AdamGatewayParallel':customShape=new AdamGateway({canvas:this,width:45,height:45,gat_type:'parallel',gat_direction:'diverging',gat_name:name,style:{cssClasses:[""]},labels:[{message:"",position:{location:"bottom",diffX:0,diffY:0}}],layers:[{layerName:"first-layer",priority:2,visible:true,style:{cssClasses:[]},zoomSprites:['adam-shape-50-gateway-parallel','adam-shape-75-gateway-parallel','adam-shape-100-gateway-parallel','adam-shape-125-gateway-parallel','adam-shape-150-gateway-parallel']}],connectAtMiddlePoints:true,drag:'regular',resizeBehavior:"no",resizeHandlers:{type:"Rectangle",total:4,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},drop:{type:'connection'}});break;case"AdamTextAnnotation":customShape=new AdamArtifact({canvas:this,width:100,height:50,style:{cssClasses:[]},layers:[{layerName:"first-layer",priority:2,visible:true}],connectAtMiddlePoints:true,drag:'regular',resizeBehavior:"adamArtifactResize",resizeHandlers:{type:"Rectangle",total:8,resizableStyle:{cssProperties:{'background-color':"rgb(0, 255, 0)",'border':'1px solid black'}},nonResizableStyle:{cssProperties:{'background-color':"white",'border':'1px solid black'}}},labels:[{message:"",width:0,height:0,position:{location:'center',diffX:0,diffY:0},updateParent:true}],drop:{type:'connection'},art_type:'TEXTANNOTATION',art_name:name});break;}
return customShape;}});canvas.attachListeners();jCore.setActiveCanvas(canvas);$("#adam_toolbar span[type=draggable]").draggable({revert:"invalid",helper:function(){return $(this).clone().removeAttr('rel').css('zIndex',5).show().appendTo('body');},cursor:"move"});$('#ProjectTitle').hover(function(e){$('.icon-edit-title').css('display','block');},function(e){$('.icon-edit-title').css('display','none');}).click(function(e){e.preventDefault();$('#ProjectTitle').css('display','none');$('.icon-edit-title').css('display','block');$('#txt-title').css('display','block').focus().val($('#ProjectTitle').html());});var save_name=function(){$('#ProjectTitle').css('display','block');$('#txt-title').css('display','none');if($('#ProjectTitle').html()!=$('#txt-title').val()){$('#ProjectTitle').html(Handlebars.Utils.escapeExpression($('#txt-title').val()));url=App.api.buildURL('pmse_Project',null,{id:project.uid});attributes={name:Handlebars.Utils.escapeExpression($('#txt-title').val())};App.alert.show('saving',{level:'process',title:'LBL_SAVING',autoclose:false});App.api.call('update',url,attributes,{success:function(data){App.alert.dismiss('saving');},error:function(err){}});}};$('#txt-title').focusout(function(e){if($('#txt-title').val().trim()!==''){save_name();}}).keypress(function(e){if(e.which==13){if(this.value.trim()!=''){App.alert.dismiss('error-project-name');save_name();}
else{App.alert.show('error-project-name',{level:'warning',messages:translate('LBL_PMSE_PROJECT_NAME_EMPTY','pmse_Project'),autoClose:false});}}});$('#ButtonUndo').click(function(){jCore.getActiveCanvas().commandStack.undo();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonRedo').click(function(){jCore.getActiveCanvas().commandStack.redo();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonSave').click(function(){project.save();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonValidate').click(function(){traverseProcess();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonSaveValidate').click(function(){project.save();traverseProcess();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#zoom').change(function(e){var newZoomValue;newZoomValue=parseInt($(this).val());jCore.getActiveCanvas().applyZoom(newZoomValue);refreshMarkers();$('.ui-layout-north').css('overflow','hidden');}).mouseenter(function(){$('.ui-layout-north').css('overflow','visible');});project.setUid(prjCode);project.setSaveInterval(parseInt(App.config.processDesignerAutosaveInterval));project.setCanvas(canvas);project.load(prjCode,{success:function(){$.extend(canvas,{'name':project.name});PROJECT_MODULE=project.process_definition.pro_module;project.init();if(App.config.autoValidateProcessesOnImport&&App.router.getPreviousFragment()==='pmse_Project/layout/project-import'&&App.router.getFragment().indexOf('imported=true')!==-1){traverseProcess();}}});};var refreshMarkers=function(){var allElements=getAllElements();for(var i=0;i<allElements.length;i++){allElements[i].clearIssueMarkers();if(allElements[i].hasError){allElements[i].showErrorMarker();}
if(allElements[i].hasWarning){allElements[i].showWarningMarker();}}};var traverseProcess=function(silent){var validationTools=getValidationTools(silent);var startEvents=getStartEvents();initializeTraversal(validationTools);for(i=0;i<startEvents.length;i++){validatePathFromStartNode([startEvents[i]],validationTools);}
finishTraversal(validationTools);};var initializeTraversal=function(validationTools){var i;var allElements=getAllElements();for(i=0;i<allElements.length;i++){delete allElements[i].hasBeenQueued;delete allElements[i].currentGatewayScope;}
validationTools.progressTracker.incrementTotalElements();validationTools.progressTracker.start();};var finishTraversal=function(validationTools){var i;var allElements=getAllElements();for(i=0;i<allElements.length;i++){if(!allElements[i].hasBeenQueued&&allElements[i].getType()!=='AdamArtifact'){validationTools.createWarning(allElements[i],'LBL_PMSE_ERROR_ELEMENT_UNREACHABLE');}}
App.api.triggerBulkCall('get_element_settings');validationTools.progressTracker.incrementSettingsGathered();};var getAllElements=function(){return jCore.getActiveCanvas().children.asArray().filter(function(elem){return elem.type!=='MultipleSelectionContainer'&&elem.type!=='AdamArtifact';});};var getStartEvents=function(){return jCore.getActiveCanvas().children.asArray().filter(function(elem){return elem.type==='AdamEvent'&&elem.getEventType()==='START';});};var setGatewayScope=function(currElement,destElement){destElement.currentGatewayScope=currElement.currentGatewayScope.slice();if(currElement.getType()==='AdamGateway'){if(currElement.getDirection()==='DIVERGING'){destElement.currentGatewayScope.unshift(currElement.getGatewayType());}else if(currElement.getDirection()==='CONVERGING'){destElement.currentGatewayScope.shift();}}};var validatePathFromStartNode=function(queue,validationTools){queue[0].hasBeenQueued=true;queue[0].currentGatewayScope=[];while(queue.length){processNextElement(queue.shift(),queue,validationTools);}};var processNextElement=function(currElement,queue,validationTools){var i;var connectedElements=currElement.getDestElements();if(currElement.validate){currElement.validate(validationTools);}
for(i=0;i<connectedElements.length;i++){if(!connectedElements[i].hasBeenQueued){queueConnectedElement(currElement,connectedElements[i],queue);}}};var queueConnectedElement=function(currElement,destElement,queue){setGatewayScope(currElement,destElement);queue.push(destElement);destElement.hasBeenQueued=true;};var getValidationTools=function(silent){return{'progressTracker':new ValidationProgressTracker(silent),'validateNumberOfEdges':validateNumberOfEdges,'validateAtom':validateAtom,'createWarning':createWarning,'createError':createError,'CriteriaEvaluator':CriteriaEvaluator,'getTargetModule':getTargetModule};};var ValidationProgressTracker=function(silent){this.totalElements=0,this.numSettingsGathered=0,this.totalValidations=0,this.numValidated=0,this.silent=silent,this.start=function(){project.isBeingValidated=true;this.updateButtons();currentErrorTable=document.createElement('tbody');$('#refreshing-errors').addClass('show');this.showModal();},this.incrementTotalElements=function(){this.totalElements++;},this.incrementSettingsGathered=function(){this.numSettingsGathered++;if(this.numSettingsGathered===this.totalElements){this.startValidating();}},this.startValidating=function(){this.incrementTotalValidations();this.showModal();App.api.triggerBulkCall('validate_element_settings');this.incrementValidated();},this.incrementTotalValidations=function(){this.totalValidations++;},this.incrementValidated=function(){this.numValidated++;if(this.numValidated===this.totalValidations){this.finish();}},this.finish=function(){var errorsFound=currentErrorTable.rows.length;$('#refreshing-errors').removeClass();$('#Error-table').find('tbody').remove();$('#Error-table').append(currentErrorTable);if(!errorsFound){myLayout.close('south');}else if(!this.silent){myLayout.open('south');}
refreshMarkers();this.showModal();project.isBeingValidated=false;this.updateButtons();},this.showModal=function(){var errorsFound;if(!this.silent){App.alert.dismiss('getting_element_settings');App.alert.dismiss('validating_element_settings');if(this.numSettingsGathered<this.totalElements){App.alert.show('getting_element_settings',{level:'process',title:translate('LBL_PMSE_VALIDATOR_IN_PROGRESS_RETRIEVING'),autoClose:false});}else if(this.numValidated<this.totalValidations){App.alert.show('validating_element_settings',{level:'process',title:translate('LBL_PMSE_VALIDATOR_IN_PROGRESS_VALIDATING'),autoClose:false});}else{errorsFound=currentErrorTable.rows.length;App.alert.show('validation_results',{level:'success',title:translate('LBL_PMSE_VALIDATOR_COMPLETE')+errorsFound});}}},this.updateButtons=function(){this.clearButtonStyleAndAction();this.updateValidateButton();this.updateSaveValidateButton();this.updateErrorPaneToggleButton();},this.clearButtonStyleAndAction=function(){$('#ButtonValidate').off();$('#ButtonValidate > i').removeClass();$('#ButtonSaveValidate').off();$('#ButtonSaveValidate > i').removeClass();$('#ButtonToggleErrorPane').off();$('#ButtonToggleErrorPane > i').removeClass();},this.updateValidateButton=function(){if(!project.isBeingValidated){$('#ButtonValidate').click(function(){traverseProcess();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonValidate > i').addClass('fa fa-check-square check-square-on');}else{$('#ButtonValidate > i').addClass('fa fa-check-square check-square-off');}},this.updateSaveValidateButton=function(){if(!project.isBeingValidated){$('#ButtonSaveValidate').click(function(){project.save();traverseProcess();jCore.getActiveCanvas().RemoveCurrentMenu();});$('#ButtonSaveValidate > i').filter(':first').addClass('fa fa-save fa-sm save-on');$('#ButtonSaveValidate > i').filter(':last').addClass('fa fa-check-square fa-sm check-square-on');}else{$('#ButtonSaveValidate > i').filter(':first').addClass('fa fa-save fa-sm save-off');$('#ButtonSaveValidate > i').filter(':last').addClass('fa fa-check-square fa-sm check-square-off');}},this.updateErrorPaneToggleButton=function(){if($('#Error-table > tbody > tr').length){$('#ButtonToggleErrorPane').click(function(){myLayout.toggle('south');});$('#ButtonToggleErrorPane > i').addClass('fa fa-exclamation-triangle exclamation-triangle-on');}else{$('#ButtonToggleErrorPane > i').addClass('fa fa-exclamation-triangle exclamation-triangle-off');}
$('#ButtonToggleErrorPane').attr('data-original-title',project.isBeingValidated?translate('LBL_PMSE_VALIDATOR_TOOLTIP_IN_PROGRESS'):currentErrorTable.rows.length+translate('LBL_PMSE_VALIDATOR_TOOLTIP_ISSUES'));};};var validateNumberOfEdges=function(minIncoming,maxIncoming,minOutgoing,maxOutgoing,element){var incomingEdges=element.getSourceElements().length;var outgoingEdges=element.getDestElements().length;if(minIncoming&&incomingEdges<minIncoming){createWarning(element,'LBL_PMSE_ERROR_FLOW_INCOMING_MINIMUM',minIncoming);}
if(maxIncoming&&incomingEdges>maxIncoming){createWarning(element,'LBL_PMSE_ERROR_FLOW_INCOMING_MAXIMUM',maxIncoming);}
if(minOutgoing&&outgoingEdges<minOutgoing){createWarning(element,'LBL_PMSE_ERROR_FLOW_OUTGOING_MINIMUM',minOutgoing);}
if(maxOutgoing&&outgoingEdges>maxOutgoing){createWarning(element,'LBL_PMSE_ERROR_FLOW_OUTGOING_MAXIMUM',maxOutgoing);}};var validateAtom=function(criteria,element,validationTools){if(!_.isObject(criteria)){App.logger.warn('Passing individual criteria pieces is deprecated in validateAtom. '+'Please pass an object with relevant pieces instead');var deprecatedArgs={};deprecatedArgs.type=criteria;deprecatedArgs.module=element;deprecatedArgs.field=validationTools;deprecatedArgs.value=arguments[3];element=arguments[4];validationTools=arguments[5];criteria=deprecatedArgs;}
var searchInfo=getSearchInfo(criteria);if(_.isEmpty(searchInfo)||_.isEmpty(searchInfo.url)){return;}
var options={'bulk':'validate_element_settings'};validationTools.progressTracker.incrementTotalValidations();App.api.call('read',searchInfo.url,null,{success:function(response){if(!response.result&&(!_.isFunction(searchInfo.backupSearchFunction)||!searchInfo.backupSearchFunction())){createWarning(element,'LBL_PMSE_ERROR_DATA_NOT_FOUND',searchInfo.text);}},error:function(){createWarning(element,'LBL_PMSE_ERROR_DATA_NOT_FOUND',searchInfo.text);},complete:function(){validationTools.progressTracker.incrementValidated();}},options);};var getSearchInfo=function(criteria){var data='';var filter='';var text='';var args={};var backupSearchFunction=null;let type;let module;let field;let value;let relation;if(_.isObject(criteria)){type=criteria.type;module=criteria.module;field=criteria.field;value=criteria.value;relation=criteria.relation;}else{App.logger.warn('Passing individual criteria pieces is deprecated in getSearchInfo. '+'Please pass an object with relevant pieces instead');type=criteria;module=arguments[1];field=arguments[2];value=arguments[3];}
type=type&&type.toUpperCase();switch(type){case'MODULE':if(['Added','Removed','AddedOrRemoved'].includes(relation)&&(field==='null'||_.isNull(field)||_.isUndefined(field)||_.isEmpty(field))){return null;}
args.key=field;case'VARIABLE':case'RECIPIENT':data='fields';filter=module;args.key=args.key||value;args.base_module=getTargetModule();text='Module field';backupSearchFunction=function(){var fields=App.metadata.getModule(module.charAt(0).toUpperCase()+module.slice(1)).fields;for(var fieldName in fields){if(fieldName===args.key){return true;}}
return false;};break;case'USER_IDENTITY':data='users';args.key=value;text='User';break;case'USER_ROLE':case'ROLE':data='rolesList';args.key=value;text='Role';break;case'RELATIONSHIP':args.key=value;case'USER':args.key=args.key||module;data='related';filter=getTargetModule();text='Module relationship';break;case'TEAM':data='teams';filter='all';args.key=value;text='Team';break;case'CONTROL':data='activities';filter=project.uid;args.key=field;text='Form activity';break;case'ALL_BUSINESS_RULES':data='rulesets';filter=project.uid;args.key=value;text='Business rule';break;case'BUSINESS_RULES':data='businessrules';filter=project.uid;args.key=field;text='Business rule action';break;case'TEMPLATE':data='emailtemplates';filter=getTargetModule();args.key=value;text='Email template';break;default:return null;};return{url:App.api.buildURL('pmse_Project/validateCrmData/'+data+'/'+filter,null,null,args),text:text,backupSearchFunction:backupSearchFunction};};var createWarning=function(element,warningLabel,field){createError(element,warningLabel,field,true);};var createError=function(element,errorLabel,field,warning){var errorName=field?(translate(errorLabel)+': '+field):translate(errorLabel);var errorInfo=translate(errorLabel+'_INFO');var newRow=createErrorRow(element);var nameCell=newRow.insertCell(0);var errorCell=newRow.insertCell(1);nameCell.appendChild(createErrorName(element));errorCell.appendChild(createErrorIcon(warning));errorCell.appendChild(createErrorText(errorName,errorInfo));if(warning){element.hasWarning=true;}else{element.hasError=true;}};var createErrorRow=function(element){var rowNumber;var otherElement;for(rowNumber=0;rowNumber<currentErrorTable.rows.length;rowNumber++){otherElementName=currentErrorTable.rows[rowNumber].cells[0].innerText;if(element.getName()<otherElementName){break;}}
return currentErrorTable.insertRow(rowNumber);};var createErrorName=function(element){var nameText=document.createElement('a');nameText.textContent=element.getName();nameText.onclick=function(){canvas.emptyCurrentSelection();canvas.addToSelection(element);centerCanvasOnElement(element);};return nameText;};var createErrorIcon=function(warning){var errorIcon=document.createElement('i');errorIcon.setAttribute('rel','tooltip');errorIcon.setAttribute('data-placement','top');if(warning){errorIcon.setAttribute('class','fa fa-exclamation-triangle fa');errorIcon.setAttribute('style','color: #FFCC00');errorIcon.setAttribute('data-original-title',translate('LBL_PMSE_VALIDATOR_WARNING_INFO'));}else{errorIcon.setAttribute('class','fa fa-exclamation-circle fa');errorIcon.setAttribute('style','color: red');errorIcon.setAttribute('data-original-title',translate('LBL_PMSE_VALIDATOR_ERROR_INFO'));}
return errorIcon;};var createErrorText=function(errorName,errorInfo){var errorText=document.createElement('span');errorText.textContent='  '+errorName;errorText.setAttribute('rel','tooltip');errorText.setAttribute('data-placement','top');errorText.setAttribute('data-original-title',errorInfo);return errorText;};var centerCanvasOnElement=function(element){var centerPane=myLayout.center.pane[0];var targetScrollLeft=element.zoomX-(centerPane.clientWidth / 2);var targetScrollTop=element.zoomY-(centerPane.clientHeight / 2);targetScrollLeft=targetScrollLeft<0?0:targetScrollLeft;targetScrollTop=targetScrollTop<0?0:targetScrollTop;centerPane.scrollLeft=targetScrollLeft;centerPane.scrollTop=targetScrollTop;};var getTargetModule=function(){return project.process_definition.pro_module;};var CriteriaEvaluator=function(){this.criteria=[],this.emptyCriteriaIsTrue=false;this.addOr=function(newCriteria){if(newCriteria.length){if(this.criteria.length){this.criteria.push({expType:'LOGIC',expValue:'OR'});}
this.criteria.push(this.simplifyCriteria(newCriteria));}},this.addAnd=function(newCriteria){if(newCriteria.length){if(this.criteria.length){this.criteria.push({expType:'LOGIC',expValue:'AND'});}
this.criteria.push(this.simplifyCriteria(newCriteria));}},this.isAlwaysTrue=function(){var result;if(!this.criteria.length){return this.emptyCriteriaIsTrue?true:false;}
this.negateExpression(this.criteria);result=this.isAlwaysFalse();this.negateExpression(this.criteria);return result;},this.isAlwaysFalse=function(){var i;var usersLogic;var possibilities=this.generatePossibilities(this.criteria.slice());if(!this.criteria.length){return this.emptyCriteriaIsTrue?false:true;}
for(i=0;i<possibilities.length;i++){usersLogic=new LogicTracker();usersLogic.add(possibilities[i]);if(usersLogic.isValid()){return false;}}
return true;},this.simplifyCriteria=function(criteria){criteria=this.getRidOfParentheses(criteria);this.getRidOfNOTs(criteria);return criteria;},this.getRidOfParentheses=function(criteria){var newCriteria=[];while(criteria.length){if(criteria[0].expType==='GROUP'&&criteria[0].expValue==='('){criteria.shift();newCriteria.push(this.getRidOfParentheses(criteria));}else if(criteria[0].expType==='GROUP'&&criteria[0].expValue===')'){criteria.shift();return newCriteria;}else{newCriteria.push(criteria.shift());}}
return newCriteria;},this.getRidOfNOTs=function(criteria){var i;for(i=0;i<criteria.length;i++){if(Array.isArray(criteria[i])){criteria[i]=this.getRidOfNOTs(criteria[i]);}}
for(i=0;i<criteria.length;i++){if(criteria[i].expType==='LOGIC'&&criteria[i].expValue==='NOT'){criteria.splice(i,1);this.negateExpression(criteria[i]);}}
return criteria;},this.generatePossibilities=function(criteria){var i;var j;var k;var dataToReturn=[];var temp=[[]];var combinations;for(i=0;i<criteria.length;i++){if(Array.isArray(criteria[i])){criteria[i]=this.generatePossibilities(criteria[i]);}}
for(i=0;i<criteria.length;i++){if(criteria[i].expType==='LOGIC'&&criteria[i].expValue==='OR'){for(j=0;j<temp.length;j++){dataToReturn.push(temp[j]);}
temp=[[]];}else if(Array.isArray(criteria[i])){combinations=[];for(j=0;j<temp.length;j++){for(k=0;k<criteria[i].length;k++){combinations.push(temp[j].concat(criteria[i][k]));}}
temp=combinations;}else if(criteria[i].expType!=='LOGIC'){for(j=0;j<temp.length;j++){temp[j].push(criteria[i]);}}}
for(i=0;i<temp.length;i++){if(temp[i].length){dataToReturn.push(temp[i]);}}
return dataToReturn;},this.negateExpression=function(expression){var i;if(Array.isArray(expression)){for(i=0;i<expression.length;i++){this.negateExpression(expression[i]);}}else{this.negateSingleExpression(expression);}},this.negateSingleExpression=function(expression){var invertLogic={'equals':'not_equals','not_equals':'equals','starts_with':'not_starts_with','not_starts_with':'starts_with','ends_with':'not_ends_with','not_ends_with':'ends_with','contains':'does_not_contain','does_not_contain':'contains','AND':'OR','OR':'AND'};if(expression.expType==='LOGIC'){expression.expValue=invertLogic[expression.expValue];}else{expression.expOperator=invertLogic[expression.expOperator];}};};var LogicTracker=function(){this.atoms=[],this.add=function(criteria){var i;var k;var found=false;var newAtom;for(i=0;i<criteria.length;i++){found=false;for(k=0;k<this.atoms.length;k++){if(criteria[i].expType===this.atoms[k].type){if(criteria[i].expModule===this.atoms[k].module){if(criteria[i].expField===this.atoms[k].field){this.atoms[k].add(criteria[i].expOperator,criteria[i].expValue);found=true;break;}}}}
if(!found){newAtom=new LogicAtom(criteria[i].expType,criteria[i].expModule,criteria[i].expField);newAtom.add(criteria[i].expOperator,criteria[i].expValue);this.atoms.push(newAtom);}}},this.isValid=function(){var i;for(i=0;i<this.atoms.length;i++){if(!this.atoms[i].isValid()){return false;}}
return true;};};var LogicAtom=function(expType,expModule,expField){this.type=expType,this.module=expModule,this.field=expField,this.operators={'equals':[],'not_equals':[],'starts_with':[],'not_starts_with':[],'ends_with':[],'not_ends_with':[],'contains':[],'does_not_contain':[]},this.add=function(operator,value){if(this.operators[operator]){this.operators[operator].push(value);}},this.isValid=function(){var result=true;if(result&&this.operators.equals.length){if(this.type!=='USER_ROLE'){result=result&&arrayContainsOneDistinctValue(this.operators.equals);}
result=result&&arrayDoesNotContainValues(this.operators.equals,this.operators.not_equals)&&wordsStartWithPrefixes(this.operators.equals,this.operators.starts_with)&&wordsDoNotStartWithPrefixes(this.operators.equals,this.operators.not_starts_with)&&wordsEndWithSuffixes(this.operators.equals,this.operators.ends_with)&&wordsDoNotEndWithSuffixes(this.operators.equals,this.operators.not_ends_with)&&wordsContainSubstrings(this.operators.equals,this.operators.contains)&&wordsDoNotContainSubstrings(this.operators.equals,this.operators.does_not_contain);}
if(result&&this.operators.starts_with.length){result=result&&multiplePrefixesAreAllValid(this.operators.starts_with)&&wordsDoNotStartWithPrefixes(this.operators.starts_with,this.operators.not_starts_with)&&wordsDoNotContainSubstrings(this.operators.starts_with,this.operators.does_not_contain);}
if(result&&this.operators.ends_with.length){result=result&&multipleSuffixesAreAllValid(this.operators.ends_with)&&wordsDoNotEndWithSuffixes(this.operators.ends_with,this.operators.not_ends_with)&&wordsDoNotContainSubstrings(this.operators.ends_with,this.operators.does_not_contain);}
if(result&&this.operators.contains.length){result=result&&wordsDoNotContainSubstrings(this.operators.contains,this.operators.does_not_contain);}
return result;},arrayContainsOneDistinctValue=function(array){return _.uniq(array).length<2;},arrayDoesNotContainValues=function(values,array){var i;for(i=0;i<values.length;i++){if(array.indexOf(values[i])!==-1){return false;}}
return true;},wordsStartWithPrefixes=function(words,prefixes){var i;var j;for(i=0;i<words.length;i++){for(j=0;j<prefixes.length;j++){if(words[i].indexOf(prefixes[j])!==0){return false;}}}
return true;},wordsDoNotStartWithPrefixes=function(words,prefixes){var i;var j;for(i=0;i<words.length;i++){for(j=0;j<prefixes.length;j++){if(words[i].indexOf(prefixes[j])===0){return false;}}}
return true;},wordsEndWithSuffixes=function(words,suffixes){var i;var j;for(i=0;i<words.length;i++){for(j=0;j<suffixes.length;j++){if(words[i].substring(words[i].length-suffixes[j].length)!==suffixes[j]){return false;}}}
return true;},wordsDoNotEndWithSuffixes=function(words,suffixes){var i;var j;for(i=0;i<words.length;i++){for(j=0;j<suffixes.length;j++){if(words[i].substring(words[i].length-suffixes[j].length)===suffixes[j]){return false;}}}
return true;},wordsContainSubstrings=function(words,substrings){var i;var j;for(i=0;i<words.length;i++){for(j=0;j<substrings.length;j++){if(words[i].indexOf(substrings[j])===-1){return false;}}}
return true;},wordsDoNotContainSubstrings=function(words,substrings){var i;var j;for(i=0;i<words.length;i++){for(j=0;j<substrings.length;j++){if(words[i].indexOf(substrings[j])!==-1){return false;}}}
return true;},multiplePrefixesAreAllValid=function(array){var i;var k;array.sort(function(a,b){return a.length-b.length;});for(i=0;i<array.length;i++){for(k=0;k<i;k++){if(!wordsStartWithPrefixes([array[i]],[array[k]])){return false;}}}
return true;},multipleSuffixesAreAllValid=function(array){var i;var k;array.sort(function(a,b){return a.length-b.length;});for(i=0;i<array.length;i++){for(k=0;k<i;k++){if(!wordsEndWithSuffixes([array[i]],[array[k]])){return false;}}}
return true;};};