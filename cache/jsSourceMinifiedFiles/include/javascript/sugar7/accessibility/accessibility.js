(function(app){app.augment('accessibility',{init:function(app){if(app.accessibility.helpers&&!_.isEmpty(app.accessibility.helpers)){app.view.Component.prototype.initialize=_.wrap(app.view.Component.prototype.initialize,function(func,options){func.call(this,options);this.on('render',function(){app.accessibility.run(this);},this);});}},run:function(component,helper){var helpers=this.whichHelpers(helper);_.each(helpers,function(klass,name){if(_.isFunction(klass.run)){app.logger.debug('Applying accessibility helper `'+name+'`');klass.run(component);}else{app.logger.debug('Unable to apply accessibility helper `'+name+'`');}});},whichHelpers:function(helper){var helpers;if(_.isUndefined(helper)){return app.accessibility.helpers;}
if(!_.isArray(helper)){helper=[helper];}
helpers=_.reduce(helper,function(memo,name){if(!!app.accessibility.helpers[name]){memo[name]=app.accessibility.helpers[name];}
return memo;},{});return helpers;},getElementTag:function($el){var attributes,tagName;tagName=($el.prop('tagName')||'').toLowerCase();attributes=[tagName];if($el[0]&&$el[0].attributes){_.each($el[0].attributes,function(attr){attributes.push('['+attr.name+'="'+attr.value+'"]');});}else if($el.selector){return $el.selector;}
return attributes.join('');},handleKeyClick:function(evt,$el){var code=evt.which;if((code===13)||(code===32)){evt.preventDefault();evt.stopPropagation();if(evt.originalEvent&&evt.originalEvent.repeat){return;}
$el.click();}}},false);})(SUGAR.App);