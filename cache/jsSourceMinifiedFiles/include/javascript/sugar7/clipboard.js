(function(app){var clipboard;app.events.once('app:init',function(){app.before('app:view:change',function(){app.alert.dismiss('clipboard');return true;});});function triggerEvent(target,event,params){$(target).trigger('clipboard.'+event,params);}
app.augment('clipboard',{init:function(){if(clipboard){return;}
clipboard=new ClipboardJS('[data-clipboard=enabled]');clipboard.on('success',function(evt){app.alert.show('clipboard',{level:'success',messages:app.lang.get('LBL_TEXT_COPIED_TO_CLIPBOARD_SUCCESS'),autoClose:true});evt.clearSelection();triggerEvent(evt.trigger,'success',evt);});clipboard.on('error',function(evt){app.alert.show('clipboard',{level:'error',messages:app.lang.get('LBL_TEXT_COPIED_TO_CLIPBOARD_ERROR'),});evt.clearSelection();triggerEvent(evt.trigger,'error',evt);});},dispose:function(){if(clipboard){clipboard.destroy();clipboard=undefined;}}},false);})(SUGAR.App);