/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
/*
 * Includes TraceKit
 * https://github.com/getsentry/TraceKit
 * MIT License
 *
 * Copyright 2014 Matt Robenolt and other contributors
 * Released under the BSD license
 * https://github.com/getsentry/raven-js/blob/master/LICENSE
 *
Copyright (c) 2014 Matt Robenolt and other contributors
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice,
  this list of conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation and/or other materials
  provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/*------------------------------
https://github.com/caolan/async
MIT License
Copyright (c) 2010 Caolan McMahon
*/

/*------------------------------
http://backbonejs.org/
MIT License
Copyright (c) 2010-2012 Jeremy Ashkenas, DocumentCloud
*/

/*------------------------------
http://underscorejs.org/
MIT License
Copyright (c) 2009-2012 Jeremy Ashkenas, DocumentCloud
*/

/*------------------------------
http://handlebarsjs.com/
MIT License
Copyright (C) 2011 by Yehuda Katz
*/

/*------------------------------
https://github.com/marcuswestin/store.js/

Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

The MIT License (MIT)
Copyright (c) 2010-2013 Marcus Westin
*/

/*------------------------------
Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

http://zeptojs.com
MIT License
Copyright (c) 2010-2012 Thomas Fuchs
*/

/*------------------------------
fastclick
Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software.
 
MIT License
The Financial Times Limited [All Rights Reserved]
*/

/*------------------------------
sugarapi.js
pull-to-refresh.js
(c) SugarCRM Inc.
*/

/*------------------------------
MIT License
Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/

/**
 * ScrollFix v0.1
 * http://www.joelambert.co.uk
 *
 * Copyright 2011, Joe Lambert.
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */

/*------------------------------
https://code.google.com/p/jsjpegmeta/
MIT License
Copyright (c) 2009 Ben Leslie
*/

/*------------------------------
https://github.com/stomita/ios-imagefile-megapixel
MIT License
Copyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>
*/

/*********************************************************************************
Zynga Scroller
https://github.com/zynga/scroller

Copyright (c) 2011 Zynga Inc., http://zynga.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
********************************************************************************/

/*------------------------------
 moment.js
 Copyright (c) 2011-2013 Tim Wood, Iskren Chernev, Moment.js contributors
 MIT License
*/

/* https://github.com/jasny/jquery.smartbanner

Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

Copyright (c) Arnold Daniels <arnold@jasny.net>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is furnished
to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/


/*
##nvd3.js License

Copyright (c) 2011, 2012 [Novus Partners, Inc.][novus]

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

[novus]: https://www.novus.com/



##d3.js License

Copyright (c) 2012, Michael Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* The name Michael Bostock may not be used to endorse or promote products
  derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*------------------------------
http://www.idangero.us/swiper
MIT License
Copyright (c) 2014 Vladimir Kharlampidi
*/

/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */

/*Copyright (c) 2008, ZETETIC LLC
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of the ZETETIC LLC nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY ZETETIC LLC ''AS IS'' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL ZETETIC LLC BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

(function(e){var t={};function n(i){if(t[i]){return t[i].exports}var a=t[i]={i:i,l:false,exports:{}};e[i].call(a.exports,a,a.exports,n);a.l=true;return a.exports}n.m=e;n.c=t;n.i=function(e){return e};n.d=function(e,t,i){if(!n.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:i})}};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=630)})([function(e,t){e.exports=Handlebars},function(e,t,n){const{isComponentChildOf:i}=n(3);const a={field:{},view:{}};const r=function(e,t,n){return function i(...a){let r=this._super;this._super=function n(...i){const[a]=i;if(a===t){i=i[1]}return e.prototype[t].apply(this,i)}.bind(this);const s=n.apply(this,a);this._super=r;r=null;return s}};const s={getViewClass(e){return this.getCmpClass("view",_.isString(e)?{baseType:e}:e)},getFieldClass(e){return this.getCmpClass("field",e)},getCmpClass(e,t){const{baseType:i}=t;const r=this._extractRegOptions(t);const s=a[e];const o=s[i];let l;if(o){l=o.base;if(!_.isEmpty(r)){const e=_.find(o.custom,e=>_.isEqual(e.filter,r));if(e){l=e.view}}}if(!l&&t.shouldReturnDefault){l=t.cmpType==="view"?n(8):app.view.NomadField}return l},extendComponent(e,t,n){if(_.isFunction(e)){e={parent:e}}const{parent:i}=e;_.each(t,(e,n)=>{if(_.isFunction(e)&&_.isFunction(i.prototype[n])){t[n]=r(i,n,e)}});const a=i.extend(t,n);a.config=e;a.parentClass=i;return a},registerComponent(e){const{cmp:t}=e;const n=t===app.view.Field||i(app.view.Field,t)?"field":"view";const r=a[n];const s=this._extractRegOptions(e);const o=_.isEmpty(s);const{baseType:l}=e;if(l){if(o){this._cacheBase(n,l,t)}else{this._cacheCustom(n,l,t,s)}}else{let e=t;const i=[];let a=false;const l=(r,s)=>{if(e===r.base){if(o){this._cacheBase(n,s,t);a=true}else{i.push(s)}}else{r.custom.forEach(n=>{if(n.view===e){if(o){n.view=t;a=true}else{i.push(s)}}})}};while(e){a=false;_.each(r,l);if(_.isEmpty(i)&&!a){e=e.parentClass}else{e=null}}if(!_.isEmpty(i)){i.forEach(e=>this._cacheCustom(n,e,t,s))}}},_cacheBase(e,t,n){const i=a[e];if(!i[t]){i[t]={base:null,custom:[]}}i[t].base=n},_cacheCustom(e,t,n,i){const r=a[e];if(!r[t]){this._cacheBase(e,t,null)}const s=_.find(r[t].custom,e=>_.isEqual(e.filter,i));if(s){s.view=n}else{r[t].custom.push({view:n,filter:i})}},_extractRegOptions(e){const t={};if(e.module){t.module=e.module}return t},_getComponentViewCache(){return a.view}};e.exports=s},function(e,t,n){(function(e){var t;(function(t,n){true?e.exports=n():typeof define==="function"&&define.amd?define(n):t.moment=n()})(this,function(){"use strict";var i;function a(){return i.apply(null,arguments)}function r(e){i=e}function s(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function o(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function l(e){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(e).length===0}else{var t;for(t in e){if(e.hasOwnProperty(t)){return false}}return true}}function c(e){return e===void 0}function u(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function d(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function f(e,t){var n=[],i;for(i=0;i<e.length;++i){n.push(t(e[i],i))}return n}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t){if(p(t,n)){e[n]=t[n]}}if(p(t,"toString")){e.toString=t.toString}if(p(t,"valueOf")){e.valueOf=t.valueOf}return e}function m(e,t,n,i){return Wn(e,t,n,i,true).utc()}function _(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function g(e){if(e._pf==null){e._pf=_()}return e._pf}var v;if(Array.prototype.some){v=Array.prototype.some}else{v=function(e){var t=Object(this);var n=t.length>>>0;for(var i=0;i<n;i++){if(i in t&&e.call(this,t[i],i,t)){return true}}return false}}function b(e){if(e._isValid==null){var t=g(e);var n=v.call(t.parsedDateParts,function(e){return e!=null});var i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict){i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=i}else{return i}}return e._isValid}function y(e){var t=m(NaN);if(e!=null){h(g(t),e)}else{g(t).userInvalidated=true}return t}var x=a.momentProperties=[];function w(e,t){var n,i,a;if(!c(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!c(t._i)){e._i=t._i}if(!c(t._f)){e._f=t._f}if(!c(t._l)){e._l=t._l}if(!c(t._strict)){e._strict=t._strict}if(!c(t._tzm)){e._tzm=t._tzm}if(!c(t._isUTC)){e._isUTC=t._isUTC}if(!c(t._offset)){e._offset=t._offset}if(!c(t._pf)){e._pf=g(t)}if(!c(t._locale)){e._locale=t._locale}if(x.length>0){for(n=0;n<x.length;n++){i=x[n];a=t[i];if(!c(a)){e[i]=a}}}return e}var S=false;function L(e){w(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(S===false){S=true;a.updateOffset(this);S=false}}function E(e){return e instanceof L||e!=null&&e._isAMomentObject!=null}function k(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function M(e){var t=+e,n=0;if(t!==0&&isFinite(t)){n=k(t)}return n}function T(e,t,n){var i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),r=0,s;for(s=0;s<i;s++){if(n&&e[s]!==t[s]||!n&&M(e[s])!==M(t[s])){r++}}return r+a}function A(e){if(a.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function C(e,t){var n=true;return h(function(){if(a.deprecationHandler!=null){a.deprecationHandler(null,e)}if(n){var i=[];var r;for(var s=0;s<arguments.length;s++){r="";if(typeof arguments[s]==="object"){r+="\n["+s+"] ";for(var o in arguments[0]){r+=o+": "+arguments[0][o]+", "}r=r.slice(0,-2)}else{r=arguments[s]}i.push(r)}A(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack);n=false}return t.apply(this,arguments)},t)}var D={};function R(e,t){if(a.deprecationHandler!=null){a.deprecationHandler(e,t)}if(!D[e]){A(t);D[e]=true}}a.suppressDeprecationWarnings=false;a.deprecationHandler=null;function I(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function O(e){var t,n;for(n in e){t=e[n];if(I(t)){this[n]=t}else{this["_"+n]=t}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function F(e,t){var n=h({},e),i;for(i in t){if(p(t,i)){if(o(e[i])&&o(t[i])){n[i]={};h(n[i],e[i]);h(n[i],t[i])}else if(t[i]!=null){n[i]=t[i]}else{delete n[i]}}}for(i in e){if(p(e,i)&&!p(t,i)&&o(e[i])){n[i]=h({},n[i])}}return n}function N(e){if(e!=null){this.set(e)}}var B;if(Object.keys){B=Object.keys}else{B=function(e){var t,n=[];for(t in e){if(p(e,t)){n.push(t)}}return n}}var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function U(e,t,n){var i=this._calendar[e]||this._calendar["sameElse"];return I(i)?i.call(t,n):i}var Y={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];if(t||!n){return t}this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var G="Invalid date";function V(){return this._invalidDate}var $="%d";var j=/\d{1,2}/;function z(e){return this._ordinal.replace("%d",e)}var q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function W(e,t,n,i){var a=this._relativeTime[n];return I(a)?a(e,t,n,i):a.replace(/%d/i,e)}function K(e,t){var n=this._relativeTime[e>0?"future":"past"];return I(n)?n(t):n.replace(/%s/i,t)}var J={};function X(e,t){var n=e.toLowerCase();J[n]=J[n+"s"]=J[t]=e}function Q(e){return typeof e==="string"?J[e]||J[e.toLowerCase()]:undefined}function Z(e){var t={},n,i;for(i in e){if(p(e,i)){n=Q(i);if(n){t[n]=e[i]}}}return t}var ee={};function te(e,t){ee[e]=t}function ne(e){var t=[];for(var n in e){t.push({unit:n,priority:ee[n]})}t.sort(function(e,t){return e.priority-t.priority});return t}function ie(e,t,n){var i=""+Math.abs(e),a=t-i.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}var ae=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var se={};var oe={};function le(e,t,n,i){var a=i;if(typeof i==="string"){a=function(){return this[i]()}}if(e){oe[e]=a}if(t){oe[t[0]]=function(){return ie(a.apply(this,arguments),t[1],t[2])}}if(n){oe[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)}}}function ce(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function ue(e){var t=e.match(ae),n,i;for(n=0,i=t.length;n<i;n++){if(oe[t[n]]){t[n]=oe[t[n]]}else{t[n]=ce(t[n])}}return function(n){var a="",r;for(r=0;r<i;r++){a+=I(t[r])?t[r].call(n,e):t[r]}return a}}function de(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=fe(t,e.localeData());se[t]=se[t]||ue(t);return se[t](e)}function fe(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}re.lastIndex=0;while(n>=0&&re.test(e)){e=e.replace(re,i);re.lastIndex=0;n-=1}return e}var pe=/\d/;var he=/\d\d/;var me=/\d{3}/;var _e=/\d{4}/;var ge=/[+-]?\d{6}/;var ve=/\d\d?/;var be=/\d\d\d\d?/;var ye=/\d\d\d\d\d\d?/;var xe=/\d{1,3}/;var we=/\d{1,4}/;var Se=/[+-]?\d{1,6}/;var Le=/\d+/;var Ee=/[+-]?\d+/;var ke=/Z|[+-]\d\d:?\d\d/gi;var Me=/Z|[+-]\d\d(?::?\d\d)?/gi;var Te=/[+-]?\d+(\.\d{1,3})?/;var Ae=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var Ce={};function De(e,t,n){Ce[e]=I(t)?t:function(e,i){return e&&n?n:t}}function Re(e,t){if(!p(Ce,e)){return new RegExp(Ie(e))}return Ce[e](t._strict,t._locale)}function Ie(e){return Oe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function Oe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Fe={};function Ne(e,t){var n,i=t;if(typeof e==="string"){e=[e]}if(u(t)){i=function(e,n){n[t]=M(e)}}for(n=0;n<e.length;n++){Fe[e[n]]=i}}function Be(e,t){Ne(e,function(e,n,i,a){i._w=i._w||{};t(e,i._w,i,a)})}function Pe(e,t,n){if(t!=null&&p(Fe,e)){Fe[e](t,n._a,n,e)}}var Ue=0;var Ye=1;var He=2;var Ge=3;var Ve=4;var $e=5;var je=6;var ze=7;var qe=8;le("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e});le(0,["YY",2],0,function(){return this.year()%100});le(0,["YYYY",4],0,"year");le(0,["YYYYY",5],0,"year");le(0,["YYYYYY",6,true],0,"year");X("year","y");te("year",1);De("Y",Ee);De("YY",ve,he);De("YYYY",we,_e);De("YYYYY",Se,ge);De("YYYYYY",Se,ge);Ne(["YYYYY","YYYYYY"],Ue);Ne("YYYY",function(e,t){t[Ue]=e.length===2?a.parseTwoDigitYear(e):M(e)});Ne("YY",function(e,t){t[Ue]=a.parseTwoDigitYear(e)});Ne("Y",function(e,t){t[Ue]=parseInt(e,10)});function We(e){return Ke(e)?366:365}function Ke(e){return e%4===0&&e%100!==0||e%400===0}a.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)};var Je=Qe("FullYear",true);function Xe(){return Ke(this.year())}function Qe(e,t){return function(n){if(n!=null){et(this,e,n);a.updateOffset(this,t);return this}else{return Ze(this,e)}}}function Ze(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function et(e,t,n){if(e.isValid()&&!isNaN(n)){if(t==="FullYear"&&Ke(e.year())&&e.month()===1&&e.date()===29){e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),rt(n,e.month()))}else{e._d["set"+(e._isUTC?"UTC":"")+t](n)}}}function tt(e){e=Q(e);if(I(this[e])){return this[e]()}return this}function nt(e,t){if(typeof e==="object"){e=Z(e);var n=ne(e);for(var i=0;i<n.length;i++){this[n[i].unit](e[n[i].unit])}}else{e=Q(e);if(I(this[e])){return this[e](t)}}return this}function it(e,t){return(e%t+t)%t}var at;if(Array.prototype.indexOf){at=Array.prototype.indexOf}else{at=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}function rt(e,t){if(isNaN(e)||isNaN(t)){return NaN}var n=it(t,12);e+=(t-n)/12;return n===1?Ke(e)?29:28:31-n%7%2}le("M",["MM",2],"Mo",function(){return this.month()+1});le("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});le("MMMM",0,0,function(e){return this.localeData().months(this,e)});X("month","M");te("month",8);De("M",ve);De("MM",ve,he);De("MMM",function(e,t){return t.monthsShortRegex(e)});De("MMMM",function(e,t){return t.monthsRegex(e)});Ne(["M","MM"],function(e,t){t[Ye]=M(e)-1});Ne(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);if(a!=null){t[Ye]=a}else{g(n).invalidMonth=e}});var st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var ot="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function lt(e,t){if(!e){return s(this._months)?this._months:this._months["standalone"]}return s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]}var ct="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ut(e,t){if(!e){return s(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]}function dt(e,t,n){var i,a,r,s=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){r=m([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase()}}if(n){if(t==="MMM"){a=at.call(this._shortMonthsParse,s);return a!==-1?a:null}else{a=at.call(this._longMonthsParse,s);return a!==-1?a:null}}else{if(t==="MMM"){a=at.call(this._shortMonthsParse,s);if(a!==-1){return a}a=at.call(this._longMonthsParse,s);return a!==-1?a:null}else{a=at.call(this._longMonthsParse,s);if(a!==-1){return a}a=at.call(this._shortMonthsParse,s);return a!==-1?a:null}}}function ft(e,t,n){var i,a,r;if(this._monthsParseExact){return dt.call(this,e,t,n)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){a=m([2e3,i]);if(n&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")}if(!n&&!this._monthsParse[i]){r="^"+this.months(a,"")+"|^"+this.monthsShort(a,"");this._monthsParse[i]=new RegExp(r.replace(".",""),"i")}if(n&&t==="MMMM"&&this._longMonthsParse[i].test(e)){return i}else if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e)){return i}else if(!n&&this._monthsParse[i].test(e)){return i}}}function pt(e,t){var n;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=M(t)}else{t=e.localeData().monthsParse(t);if(!u(t)){return e}}}n=Math.min(e.date(),rt(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n);return e}function ht(e){if(e!=null){pt(this,e);a.updateOffset(this,true);return this}else{return Ze(this,"Month")}}function mt(){return rt(this.year(),this.month())}var _t=Ae;function gt(e){if(this._monthsParseExact){if(!p(this,"_monthsRegex")){yt.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!p(this,"_monthsShortRegex")){this._monthsShortRegex=_t}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var vt=Ae;function bt(e){if(this._monthsParseExact){if(!p(this,"_monthsRegex")){yt.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!p(this,"_monthsRegex")){this._monthsRegex=vt}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function yt(){function e(e,t){return t.length-e.length}var t=[],n=[],i=[],a,r;for(a=0;a<12;a++){r=m([2e3,a]);t.push(this.monthsShort(r,""));n.push(this.months(r,""));i.push(this.months(r,""));i.push(this.monthsShort(r,""))}t.sort(e);n.sort(e);i.sort(e);for(a=0;a<12;a++){t[a]=Oe(t[a]);n[a]=Oe(n[a])}for(a=0;a<24;a++){i[a]=Oe(i[a])}this._monthsRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function xt(e,t,n,i,a,r,s){var o=new Date(e,t,n,i,a,r,s);if(e<100&&e>=0&&isFinite(o.getFullYear())){o.setFullYear(e)}return o}function wt(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}return t}function St(e,t,n){var i=7+t-n,a=(7+wt(e,0,i).getUTCDay()-t)%7;return-a+i-1}function Lt(e,t,n,i,a){var r=(7+n-i)%7,s=St(e,i,a),o=1+7*(t-1)+r+s,l,c;if(o<=0){l=e-1;c=We(l)+o}else if(o>We(e)){l=e+1;c=o-We(e)}else{l=e;c=o}return{year:l,dayOfYear:c}}function Et(e,t,n){var i=St(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1,r,s;if(a<1){s=e.year()-1;r=a+kt(s,t,n)}else if(a>kt(e.year(),t,n)){r=a-kt(e.year(),t,n);s=e.year()+1}else{s=e.year();r=a}return{week:r,year:s}}function kt(e,t,n){var i=St(e,t,n),a=St(e+1,t,n);return(We(e)-i+a)/7}le("w",["ww",2],"wo","week");le("W",["WW",2],"Wo","isoWeek");X("week","w");X("isoWeek","W");te("week",5);te("isoWeek",5);De("w",ve);De("ww",ve,he);De("W",ve);De("WW",ve,he);Be(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=M(e)});function Mt(e){return Et(e,this._week.dow,this._week.doy).week}var Tt={dow:0,doy:6};function At(){return this._week.dow}function Ct(){return this._week.doy}function Dt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Rt(e){var t=Et(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}le("d",0,"do","day");le("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});le("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});le("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});le("e",0,0,"weekday");le("E",0,0,"isoWeekday");X("day","d");X("weekday","e");X("isoWeekday","E");te("day",11);te("weekday",11);te("isoWeekday",11);De("d",ve);De("e",ve);De("E",ve);De("dd",function(e,t){return t.weekdaysMinRegex(e)});De("ddd",function(e,t){return t.weekdaysShortRegex(e)});De("dddd",function(e,t){return t.weekdaysRegex(e)});Be(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);if(a!=null){t.d=a}else{g(n).invalidWeekday=e}});Be(["d","e","E"],function(e,t,n,i){t[i]=M(e)});function It(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function Ot(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}var Ft="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Nt(e,t){if(!e){return s(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return s(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var Bt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Pt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Yt(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ht(e,t,n){var i,a,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){r=m([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase()}}if(n){if(t==="dddd"){a=at.call(this._weekdaysParse,s);return a!==-1?a:null}else if(t==="ddd"){a=at.call(this._shortWeekdaysParse,s);return a!==-1?a:null}else{a=at.call(this._minWeekdaysParse,s);return a!==-1?a:null}}else{if(t==="dddd"){a=at.call(this._weekdaysParse,s);if(a!==-1){return a}a=at.call(this._shortWeekdaysParse,s);if(a!==-1){return a}a=at.call(this._minWeekdaysParse,s);return a!==-1?a:null}else if(t==="ddd"){a=at.call(this._shortWeekdaysParse,s);if(a!==-1){return a}a=at.call(this._weekdaysParse,s);if(a!==-1){return a}a=at.call(this._minWeekdaysParse,s);return a!==-1?a:null}else{a=at.call(this._minWeekdaysParse,s);if(a!==-1){return a}a=at.call(this._weekdaysParse,s);if(a!==-1){return a}a=at.call(this._shortWeekdaysParse,s);return a!==-1?a:null}}}function Gt(e,t,n){var i,a,r;if(this._weekdaysParseExact){return Ht.call(this,e,t,n)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){a=m([2e3,1]).day(i);if(n&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[i]){r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,"");this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")}if(n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e)){return i}else if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e)){return i}else if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e)){return i}else if(!n&&this._weekdaysParse[i].test(e)){return i}}}function Vt(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=It(e,this.localeData());return this.add(e-t,"d")}else{return t}}function $t(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function jt(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var zt=Ae;function qt(e){if(this._weekdaysParseExact){if(!p(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!p(this,"_weekdaysRegex")){this._weekdaysRegex=zt}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var Wt=Ae;function Kt(e){if(this._weekdaysParseExact){if(!p(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!p(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=Wt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var Jt=Ae;function Xt(e){if(this._weekdaysParseExact){if(!p(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!p(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=Jt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Qt(){function e(e,t){return t.length-e.length}var t=[],n=[],i=[],a=[],r,s,o,l,c;for(r=0;r<7;r++){s=m([2e3,1]).day(r);o=this.weekdaysMin(s,"");l=this.weekdaysShort(s,"");c=this.weekdays(s,"");t.push(o);n.push(l);i.push(c);a.push(o);a.push(l);a.push(c)}t.sort(e);n.sort(e);i.sort(e);a.sort(e);for(r=0;r<7;r++){n[r]=Oe(n[r]);i[r]=Oe(i[r]);a[r]=Oe(a[r])}this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Zt(){return this.hours()%12||12}function en(){return this.hours()||24}le("H",["HH",2],0,"hour");le("h",["hh",2],0,Zt);le("k",["kk",2],0,en);le("hmm",0,0,function(){return""+Zt.apply(this)+ie(this.minutes(),2)});le("hmmss",0,0,function(){return""+Zt.apply(this)+ie(this.minutes(),2)+ie(this.seconds(),2)});le("Hmm",0,0,function(){return""+this.hours()+ie(this.minutes(),2)});le("Hmmss",0,0,function(){return""+this.hours()+ie(this.minutes(),2)+ie(this.seconds(),2)});function tn(e,t){le(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}tn("a",true);tn("A",false);X("hour","h");te("hour",13);function nn(e,t){return t._meridiemParse}De("a",nn);De("A",nn);De("H",ve);De("h",ve);De("k",ve);De("HH",ve,he);De("hh",ve,he);De("kk",ve,he);De("hmm",be);De("hmmss",ye);De("Hmm",be);De("Hmmss",ye);Ne(["H","HH"],Ge);Ne(["k","kk"],function(e,t,n){var i=M(e);t[Ge]=i===24?0:i});Ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e);n._meridiem=e});Ne(["h","hh"],function(e,t,n){t[Ge]=M(e);g(n).bigHour=true});Ne("hmm",function(e,t,n){var i=e.length-2;t[Ge]=M(e.substr(0,i));t[Ve]=M(e.substr(i));g(n).bigHour=true});Ne("hmmss",function(e,t,n){var i=e.length-4;var a=e.length-2;t[Ge]=M(e.substr(0,i));t[Ve]=M(e.substr(i,2));t[$e]=M(e.substr(a));g(n).bigHour=true});Ne("Hmm",function(e,t,n){var i=e.length-2;t[Ge]=M(e.substr(0,i));t[Ve]=M(e.substr(i))});Ne("Hmmss",function(e,t,n){var i=e.length-4;var a=e.length-2;t[Ge]=M(e.substr(0,i));t[Ve]=M(e.substr(i,2));t[$e]=M(e.substr(a))});function an(e){return(e+"").toLowerCase().charAt(0)==="p"}var rn=/[ap]\.?m?\.?/i;function sn(e,t,n){if(e>11){return n?"pm":"PM"}else{return n?"am":"AM"}}var on=Qe("Hours",true);var ln={calendar:P,longDateFormat:Y,invalidDate:G,ordinal:$,dayOfMonthOrdinalParse:j,relativeTime:q,months:ot,monthsShort:ct,week:Tt,weekdays:Ft,weekdaysMin:Ut,weekdaysShort:Bt,meridiemParse:rn};var cn={};var un={};var dn;function fn(e){return e?e.toLowerCase().replace("_","-"):e}function pn(e){var t=0,n,i,a,r;while(t<e.length){r=fn(e[t]).split("-");n=r.length;i=fn(e[t+1]);i=i?i.split("-"):null;while(n>0){a=hn(r.slice(0,n).join("-"));if(a){return a}if(i&&i.length>=n&&T(r,i,true)>=n-1){break}n--}t++}return null}function hn(i){var a=null;if(!cn[i]&&typeof e!=="undefined"&&e&&e.exports){try{a=dn._abbr;var r=t;n(613)("./"+i);mn(a)}catch(e){}}return cn[i]}function mn(e,t){var n;if(e){if(c(t)){n=vn(e)}else{n=_n(e,t)}if(n){dn=n}}return dn._abbr}function _n(e,t){if(t!==null){var n=ln;t.abbr=e;if(cn[e]!=null){R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");n=cn[e]._config}else if(t.parentLocale!=null){if(cn[t.parentLocale]!=null){n=cn[t.parentLocale]._config}else{if(!un[t.parentLocale]){un[t.parentLocale]=[]}un[t.parentLocale].push({name:e,config:t});return null}}cn[e]=new N(F(n,t));if(un[e]){un[e].forEach(function(e){_n(e.name,e.config)})}mn(e);return cn[e]}else{delete cn[e];return null}}function gn(e,t){if(t!=null){var n,i,a=ln;i=hn(e);if(i!=null){a=i._config}t=F(a,t);n=new N(t);n.parentLocale=cn[e];cn[e]=n;mn(e)}else{if(cn[e]!=null){if(cn[e].parentLocale!=null){cn[e]=cn[e].parentLocale}else if(cn[e]!=null){delete cn[e]}}}return cn[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return dn}if(!s(e)){t=hn(e);if(t){return t}e=[e]}return pn(e)}function bn(){return B(cn)}function yn(e){var t;var n=e._a;if(n&&g(e).overflow===-2){t=n[Ye]<0||n[Ye]>11?Ye:n[He]<1||n[He]>rt(n[Ue],n[Ye])?He:n[Ge]<0||n[Ge]>24||n[Ge]===24&&(n[Ve]!==0||n[$e]!==0||n[je]!==0)?Ge:n[Ve]<0||n[Ve]>59?Ve:n[$e]<0||n[$e]>59?$e:n[je]<0||n[je]>999?je:-1;if(g(e)._overflowDayOfYear&&(t<Ue||t>He)){t=He}if(g(e)._overflowWeeks&&t===-1){t=ze}if(g(e)._overflowWeekday&&t===-1){t=qe}g(e).overflow=t}return e}function xn(e,t,n){if(e!=null){return e}if(t!=null){return t}return n}function wn(e){var t=new Date(a.now());if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}return[t.getFullYear(),t.getMonth(),t.getDate()]}function Sn(e){var t,n,i=[],a,r;if(e._d){return}a=wn(e);if(e._w&&e._a[He]==null&&e._a[Ye]==null){Ln(e)}if(e._dayOfYear!=null){r=xn(e._a[Ue],a[Ue]);if(e._dayOfYear>We(r)||e._dayOfYear===0){g(e)._overflowDayOfYear=true}n=wt(r,0,e._dayOfYear);e._a[Ye]=n.getUTCMonth();e._a[He]=n.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=i[t]=a[t]}for(;t<7;t++){e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[Ge]===24&&e._a[Ve]===0&&e._a[$e]===0&&e._a[je]===0){e._nextDay=true;e._a[Ge]=0}e._d=(e._useUTC?wt:xt).apply(null,i);if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[Ge]=24}if(e._w&&typeof e._w.d!=="undefined"&&e._w.d!==e._d.getDay()){g(e).weekdayMismatch=true}}function Ln(e){var t,n,i,a,r,s,o,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){r=1;s=4;n=xn(t.GG,e._a[Ue],Et(Kn(),1,4).year);i=xn(t.W,1);a=xn(t.E,1);if(a<1||a>7){l=true}}else{r=e._locale._week.dow;s=e._locale._week.doy;var c=Et(Kn(),r,s);n=xn(t.gg,e._a[Ue],c.year);i=xn(t.w,c.week);if(t.d!=null){a=t.d;if(a<0||a>6){l=true}}else if(t.e!=null){a=t.e+r;if(t.e<0||t.e>6){l=true}}else{a=r}}if(i<1||i>kt(n,r,s)){g(e)._overflowWeeks=true}else if(l!=null){g(e)._overflowWeekday=true}else{o=Lt(n,i,a,r,s);e._a[Ue]=o.year;e._dayOfYear=o.dayOfYear}}var En=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var kn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var Mn=/Z|[+-]\d\d(?::?\d\d)?/;var Tn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var An=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var Cn=/^\/?Date\((\-?\d+)/i;function Dn(e){var t,n,i=e._i,a=En.exec(i)||kn.exec(i),r,s,o,l;if(a){g(e).iso=true;for(t=0,n=Tn.length;t<n;t++){if(Tn[t][1].exec(a[1])){s=Tn[t][0];r=Tn[t][2]!==false;break}}if(s==null){e._isValid=false;return}if(a[3]){for(t=0,n=An.length;t<n;t++){if(An[t][1].exec(a[3])){o=(a[2]||" ")+An[t][0];break}}if(o==null){e._isValid=false;return}}if(!r&&o!=null){e._isValid=false;return}if(a[4]){if(Mn.exec(a[4])){l="Z"}else{e._isValid=false;return}}e._f=s+(o||"")+(l||"");Hn(e)}else{e._isValid=false}}var Rn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function In(e,t,n,i,a,r){var s=[On(e),ct.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(a,10)];if(r){s.push(parseInt(r,10))}return s}function On(e){var t=parseInt(e,10);if(t<=49){return 2e3+t}else if(t<=999){return 1900+t}return t}function Fn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Nn(e,t,n){if(e){var i=Bt.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(i!==a){g(n).weekdayMismatch=true;n._isValid=false;return false}}return true}var Bn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Pn(e,t,n){if(e){return Bn[e]}else if(t){return 0}else{var i=parseInt(n,10);var a=i%100,r=(i-a)/100;return r*60+a}}function Un(e){var t=Rn.exec(Fn(e._i));if(t){var n=In(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Nn(t[1],n,e)){return}e._a=n;e._tzm=Pn(t[8],t[9],t[10]);e._d=wt.apply(null,e._a);e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm);g(e).rfc2822=true}else{e._isValid=false}}function Yn(e){var t=Cn.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}Dn(e);if(e._isValid===false){delete e._isValid}else{return}Un(e);if(e._isValid===false){delete e._isValid}else{return}a.createFromInputFallback(e)}a.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});a.ISO_8601=function(){};a.RFC_2822=function(){};function Hn(e){if(e._f===a.ISO_8601){Dn(e);return}if(e._f===a.RFC_2822){Un(e);return}e._a=[];g(e).empty=true;var t=""+e._i,n,i,r,s,o,l=t.length,c=0;r=fe(e._f,e._locale).match(ae)||[];for(n=0;n<r.length;n++){s=r[n];i=(t.match(Re(s,e))||[])[0];if(i){o=t.substr(0,t.indexOf(i));if(o.length>0){g(e).unusedInput.push(o)}t=t.slice(t.indexOf(i)+i.length);c+=i.length}if(oe[s]){if(i){g(e).empty=false}else{g(e).unusedTokens.push(s)}Pe(s,i,e)}else if(e._strict&&!i){g(e).unusedTokens.push(s)}}g(e).charsLeftOver=l-c;if(t.length>0){g(e).unusedInput.push(t)}if(e._a[Ge]<=12&&g(e).bigHour===true&&e._a[Ge]>0){g(e).bigHour=undefined}g(e).parsedDateParts=e._a.slice(0);g(e).meridiem=e._meridiem;e._a[Ge]=Gn(e._locale,e._a[Ge],e._meridiem);Sn(e);yn(e)}function Gn(e,t,n){var i;if(n==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,n)}else if(e.isPM!=null){i=e.isPM(n);if(i&&t<12){t+=12}if(!i&&t===12){t=0}return t}else{return t}}function Vn(e){var t,n,i,a,r;if(e._f.length===0){g(e).invalidFormat=true;e._d=new Date(NaN);return}for(a=0;a<e._f.length;a++){r=0;t=w({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[a];Hn(t);if(!b(t)){continue}r+=g(t).charsLeftOver;r+=g(t).unusedTokens.length*10;g(t).score=r;if(i==null||r<i){i=r;n=t}}h(e,n||t)}function $n(e){if(e._d){return}var t=Z(e._i);e._a=f([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});Sn(e)}function jn(e){var t=new L(yn(zn(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function zn(e){var t=e._i,n=e._f;e._locale=e._locale||vn(e._l);if(t===null||n===undefined&&t===""){return y({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(E(t)){return new L(yn(t))}else if(d(t)){e._d=t}else if(s(n)){Vn(e)}else if(n){Hn(e)}else{qn(e)}if(!b(e)){e._d=null}return e}function qn(e){var t=e._i;if(c(t)){e._d=new Date(a.now())}else if(d(t)){e._d=new Date(t.valueOf())}else if(typeof t==="string"){Yn(e)}else if(s(t)){e._a=f(t.slice(0),function(e){return parseInt(e,10)});Sn(e)}else if(o(t)){$n(e)}else if(u(t)){e._d=new Date(t)}else{a.createFromInputFallback(e)}}function Wn(e,t,n,i,a){var r={};if(n===true||n===false){i=n;n=undefined}if(o(e)&&l(e)||s(e)&&e.length===0){e=undefined}r._isAMomentObject=true;r._useUTC=r._isUTC=a;r._l=n;r._i=e;r._f=t;r._strict=i;return jn(r)}function Kn(e,t,n,i){return Wn(e,t,n,i,false)}var Jn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return y()}});var Xn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return y()}});function Qn(e,t){var n,i;if(t.length===1&&s(t[0])){t=t[0]}if(!t.length){return Kn()}n=t[0];for(i=1;i<t.length;++i){if(!t[i].isValid()||t[i][e](n)){n=t[i]}}return n}function Zn(){var e=[].slice.call(arguments,0);return Qn("isBefore",e)}function ei(){var e=[].slice.call(arguments,0);return Qn("isAfter",e)}var ti=function(){return Date.now?Date.now():+new Date};var ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(e){for(var t in e){if(!(at.call(ni,t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}var n=false;for(var i=0;i<ni.length;++i){if(e[ni[i]]){if(n){return false}if(parseFloat(e[ni[i]])!==M(e[ni[i]])){n=true}}}return true}function ai(){return this._isValid}function ri(){return Mi(NaN)}function si(e){var t=Z(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=ii(t);this._milliseconds=+u+c*1e3+l*6e4+o*1e3*60*60;this._days=+s+r*7;this._months=+a+i*3+n*12;this._data={};this._locale=vn();this._bubble()}function oi(e){return e instanceof si}function li(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function ci(e,t){le(e,0,0,function(){var e=this.utcOffset();var n="+";if(e<0){e=-e;n="-"}return n+ie(~~(e/60),2)+t+ie(~~e%60,2)})}ci("Z",":");ci("ZZ","");De("Z",Me);De("ZZ",Me);Ne(["Z","ZZ"],function(e,t,n){n._useUTC=true;n._tzm=di(Me,e)});var ui=/([\+\-]|\d\d)/gi;function di(e,t){var n=(t||"").match(e);if(n===null){return null}var i=n[n.length-1]||[];var a=(i+"").match(ui)||["-",0,0];var r=+(a[1]*60)+M(a[2]);return r===0?0:a[0]==="+"?r:-r}function fi(e,t){var n,i;if(t._isUTC){n=t.clone();i=(E(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+i);a.updateOffset(n,false);return n}else{return Kn(e).local()}}function pi(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}a.updateOffset=function(){};function hi(e,t,n){var i=this._offset||0,r;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=di(Me,e);if(e===null){return this}}else if(Math.abs(e)<16&&!n){e=e*60}if(!this._isUTC&&t){r=pi(this)}this._offset=e;this._isUTC=true;if(r!=null){this.add(r,"m")}if(i!==e){if(!t||this._changeInProgress){Ri(this,Mi(e-i,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;a.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?i:pi(this)}}function mi(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function _i(e){return this.utcOffset(0,e)}function gi(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(pi(this),"m")}}return this}function vi(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=di(ke,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function bi(e){if(!this.isValid()){return false}e=e?Kn(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function yi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xi(){if(!c(this._isDSTShifted)){return this._isDSTShifted}var e={};w(e,this);e=zn(e);if(e._a){var t=e._isUTC?m(e._a):Kn(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function wi(){return this.isValid()?!this._isUTC:false}function Si(){return this.isValid()?this._isUTC:false}function Li(){return this.isValid()?this._isUTC&&this._offset===0:false}var Ei=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mi(e,t){var n=e,i=null,a,r,s;if(oi(e)){n={ms:e._milliseconds,d:e._days,M:e._months}}else if(u(e)){n={};if(t){n[t]=e}else{n.milliseconds=e}}else if(!!(i=Ei.exec(e))){a=i[1]==="-"?-1:1;n={y:0,d:M(i[He])*a,h:M(i[Ge])*a,m:M(i[Ve])*a,s:M(i[$e])*a,ms:M(li(i[je]*1e3))*a}}else if(!!(i=ki.exec(e))){a=i[1]==="-"?-1:i[1]==="+"?1:1;n={y:Ti(i[2],a),M:Ti(i[3],a),w:Ti(i[4],a),d:Ti(i[5],a),h:Ti(i[6],a),m:Ti(i[7],a),s:Ti(i[8],a)}}else if(n==null){n={}}else if(typeof n==="object"&&("from"in n||"to"in n)){s=Ci(Kn(n.from),Kn(n.to));n={};n.ms=s.milliseconds;n.M=s.months}r=new si(n);if(oi(e)&&p(e,"_locale")){r._locale=e._locale}return r}Mi.fn=si.prototype;Mi.invalid=ri;function Ti(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ai(e,t){var n={milliseconds:0,months:0};n.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(n.months,"M").isAfter(t)){--n.months}n.milliseconds=+t-+e.clone().add(n.months,"M");return n}function Ci(e,t){var n;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=fi(t,e);if(e.isBefore(t)){n=Ai(e,t)}else{n=Ai(t,e);n.milliseconds=-n.milliseconds;n.months=-n.months}return n}function Di(e,t){return function(n,i){var a,r;if(i!==null&&!isNaN(+i)){R(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");r=n;n=i;i=r}n=typeof n==="string"?+n:n;a=Mi(n,i);Ri(this,a,e);return this}}function Ri(e,t,n,i){var r=t._milliseconds,s=li(t._days),o=li(t._months);if(!e.isValid()){return}i=i==null?true:i;if(o){pt(e,Ze(e,"Month")+o*n)}if(s){et(e,"Date",Ze(e,"Date")+s*n)}if(r){e._d.setTime(e._d.valueOf()+r*n)}if(i){a.updateOffset(e,s||o)}}var Ii=Di(1,"add");var Oi=Di(-1,"subtract");function Fi(e,t){var n=e.diff(t,"days",true);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ni(e,t){var n=e||Kn(),i=fi(n,this).startOf("day"),r=a.calendarFormat(this,i)||"sameElse";var s=t&&(I(t[r])?t[r].call(this,n):t[r]);return this.format(s||this.localeData().calendar(r,this,Kn(n)))}function Bi(){return new L(this)}function Pi(e,t){var n=E(e)?e:Kn(e);if(!(this.isValid()&&n.isValid())){return false}t=Q(!c(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()>n.valueOf()}else{return n.valueOf()<this.clone().startOf(t).valueOf()}}function Ui(e,t){var n=E(e)?e:Kn(e);if(!(this.isValid()&&n.isValid())){return false}t=Q(!c(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()<n.valueOf()}else{return this.clone().endOf(t).valueOf()<n.valueOf()}}function Yi(e,t,n,i){i=i||"()";return(i[0]==="("?this.isAfter(e,n):!this.isBefore(e,n))&&(i[1]===")"?this.isBefore(t,n):!this.isAfter(t,n))}function Hi(e,t){var n=E(e)?e:Kn(e),i;if(!(this.isValid()&&n.isValid())){return false}t=Q(t||"millisecond");if(t==="millisecond"){return this.valueOf()===n.valueOf()}else{i=n.valueOf();return this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()}}function Gi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Vi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $i(e,t,n){var i,a,r,s;if(!this.isValid()){return NaN}i=fi(e,this);if(!i.isValid()){return NaN}a=(i.utcOffset()-this.utcOffset())*6e4;t=Q(t);switch(t){case"year":s=ji(this,i)/12;break;case"month":s=ji(this,i);break;case"quarter":s=ji(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-a)/864e5;break;case"week":s=(this-i-a)/6048e5;break;default:s=this-i}return n?s:k(s)}function ji(e,t){var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),a,r;if(t-i<0){a=e.clone().add(n-1,"months");r=(t-i)/(i-a)}else{a=e.clone().add(n+1,"months");r=(t-i)/(a-i)}return-(n+r)||0}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function zi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qi(){if(!this.isValid()){return null}var e=this.clone().utc();if(e.year()<0||e.year()>9999){return de(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}if(I(Date.prototype.toISOString)){return this.toDate().toISOString()}return de(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Wi(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment";var t="";if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}var n="["+e+'("]';var i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var a="-MM-DD[T]HH:mm:ss.SSS";var r=t+'[")]';return this.format(n+i+a+r)}function Ki(e){if(!e){e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat}var t=de(this,e);return this.localeData().postformat(t)}function Ji(e,t){if(this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())){return Mi({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Xi(e){return this.from(Kn(),e)}function Qi(e,t){if(this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())){return Mi({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Zi(e){return this.to(Kn(),e)}function ea(e){var t;if(e===undefined){return this._locale._abbr}else{t=vn(e);if(t!=null){this._locale=t}return this}}var ta=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function na(){return this._locale}function ia(e){e=Q(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function aa(e){e=Q(e);if(e===undefined||e==="millisecond"){return this}if(e==="date"){e="day"}return this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function ra(){return this._d.valueOf()-(this._offset||0)*6e4}function sa(){return Math.floor(this.valueOf()/1e3)}function oa(){return new Date(this.valueOf())}function la(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ca(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ua(){return this.isValid()?this.toISOString():null}function da(){return b(this)}function fa(){return h({},g(this))}function pa(){return g(this).overflow}function ha(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}le(0,["gg",2],0,function(){return this.weekYear()%100});le(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ma(e,t){le(0,[e,e.length],0,t)}ma("gggg","weekYear");ma("ggggg","weekYear");ma("GGGG","isoWeekYear");ma("GGGGG","isoWeekYear");X("weekYear","gg");X("isoWeekYear","GG");te("weekYear",1);te("isoWeekYear",1);De("G",Ee);De("g",Ee);De("GG",ve,he);De("gg",ve,he);De("GGGG",we,_e);De("gggg",we,_e);De("GGGGG",Se,ge);De("ggggg",Se,ge);Be(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=M(e)});Be(["gg","GG"],function(e,t,n,i){t[i]=a.parseTwoDigitYear(e)});function _a(e){return ya.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ga(e){return ya.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function va(){return kt(this.year(),1,4)}function ba(){var e=this.localeData()._week;return kt(this.year(),e.dow,e.doy)}function ya(e,t,n,i,a){var r;if(e==null){return Et(this,i,a).year}else{r=kt(e,i,a);if(t>r){t=r}return xa.call(this,e,t,n,i,a)}}function xa(e,t,n,i,a){var r=Lt(e,t,n,i,a),s=wt(r.year,0,r.dayOfYear);this.year(s.getUTCFullYear());this.month(s.getUTCMonth());this.date(s.getUTCDate());return this}le("Q",0,"Qo","quarter");X("quarter","Q");te("quarter",7);De("Q",pe);Ne("Q",function(e,t){t[Ye]=(M(e)-1)*3});function wa(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}le("D",["DD",2],"Do","date");X("date","D");te("date",9);De("D",ve);De("DD",ve,he);De("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ne(["D","DD"],He);Ne("Do",function(e,t){t[He]=M(e.match(ve)[0],10)});var Sa=Qe("Date",true);le("DDD",["DDDD",3],"DDDo","dayOfYear");X("dayOfYear","DDD");te("dayOfYear",4);De("DDD",xe);De("DDDD",me);Ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=M(e)});function La(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}le("m",["mm",2],0,"minute");X("minute","m");te("minute",14);De("m",ve);De("mm",ve,he);Ne(["m","mm"],Ve);var Ea=Qe("Minutes",false);le("s",["ss",2],0,"second");X("second","s");te("second",15);De("s",ve);De("ss",ve,he);Ne(["s","ss"],$e);var ka=Qe("Seconds",false);le("S",0,0,function(){return~~(this.millisecond()/100)});le(0,["SS",2],0,function(){return~~(this.millisecond()/10)});le(0,["SSS",3],0,"millisecond");le(0,["SSSS",4],0,function(){return this.millisecond()*10});le(0,["SSSSS",5],0,function(){return this.millisecond()*100});le(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});le(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});le(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});le(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});X("millisecond","ms");te("millisecond",16);De("S",xe,pe);De("SS",xe,he);De("SSS",xe,me);var Ma;for(Ma="SSSS";Ma.length<=9;Ma+="S"){De(Ma,Le)}function Ta(e,t){t[je]=M(("0."+e)*1e3)}for(Ma="S";Ma.length<=9;Ma+="S"){Ne(Ma,Ta)}var Aa=Qe("Milliseconds",false);le("z",0,0,"zoneAbbr");le("zz",0,0,"zoneName");function Ca(){return this._isUTC?"UTC":""}function Da(){return this._isUTC?"Coordinated Universal Time":""}var Ra=L.prototype;Ra.add=Ii;Ra.calendar=Ni;Ra.clone=Bi;Ra.diff=$i;Ra.endOf=aa;Ra.format=Ki;Ra.from=Ji;Ra.fromNow=Xi;Ra.to=Qi;Ra.toNow=Zi;Ra.get=tt;Ra.invalidAt=pa;Ra.isAfter=Pi;Ra.isBefore=Ui;Ra.isBetween=Yi;Ra.isSame=Hi;Ra.isSameOrAfter=Gi;Ra.isSameOrBefore=Vi;Ra.isValid=da;Ra.lang=ta;Ra.locale=ea;Ra.localeData=na;Ra.max=Xn;Ra.min=Jn;Ra.parsingFlags=fa;Ra.set=nt;Ra.startOf=ia;Ra.subtract=Oi;Ra.toArray=la;Ra.toObject=ca;Ra.toDate=oa;Ra.toISOString=qi;Ra.inspect=Wi;Ra.toJSON=ua;Ra.toString=zi;Ra.unix=sa;Ra.valueOf=ra;Ra.creationData=ha;Ra.year=Je;Ra.isLeapYear=Xe;Ra.weekYear=_a;Ra.isoWeekYear=ga;Ra.quarter=Ra.quarters=wa;Ra.month=ht;Ra.daysInMonth=mt;Ra.week=Ra.weeks=Dt;Ra.isoWeek=Ra.isoWeeks=Rt;Ra.weeksInYear=ba;Ra.isoWeeksInYear=va;Ra.date=Sa;Ra.day=Ra.days=Vt;Ra.weekday=$t;Ra.isoWeekday=jt;Ra.dayOfYear=La;Ra.hour=Ra.hours=on;Ra.minute=Ra.minutes=Ea;Ra.second=Ra.seconds=ka;Ra.millisecond=Ra.milliseconds=Aa;Ra.utcOffset=hi;Ra.utc=_i;Ra.local=gi;Ra.parseZone=vi;Ra.hasAlignedHourOffset=bi;Ra.isDST=yi;Ra.isLocal=wi;Ra.isUtcOffset=Si;Ra.isUtc=Li;Ra.isUTC=Li;Ra.zoneAbbr=Ca;Ra.zoneName=Da;Ra.dates=C("dates accessor is deprecated. Use date instead.",Sa);Ra.months=C("months accessor is deprecated. Use month instead",ht);Ra.years=C("years accessor is deprecated. Use year instead",Je);Ra.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mi);Ra.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xi);function Ia(e){return Kn(e*1e3)}function Oa(){return Kn.apply(null,arguments).parseZone()}function Fa(e){return e}var Na=N.prototype;Na.calendar=U;Na.longDateFormat=H;Na.invalidDate=V;Na.ordinal=z;Na.preparse=Fa;Na.postformat=Fa;Na.relativeTime=W;Na.pastFuture=K;Na.set=O;Na.months=lt;Na.monthsShort=ut;Na.monthsParse=ft;Na.monthsRegex=bt;Na.monthsShortRegex=gt;Na.week=Mt;Na.firstDayOfYear=Ct;Na.firstDayOfWeek=At;Na.weekdays=Nt;Na.weekdaysMin=Yt;Na.weekdaysShort=Pt;Na.weekdaysParse=Gt;Na.weekdaysRegex=qt;Na.weekdaysShortRegex=Kt;Na.weekdaysMinRegex=Xt;Na.isPM=an;Na.meridiem=sn;function Ba(e,t,n,i){var a=vn();var r=m().set(i,t);return a[n](r,e)}function Pa(e,t,n){if(u(e)){t=e;e=undefined}e=e||"";if(t!=null){return Ba(e,t,n,"month")}var i;var a=[];for(i=0;i<12;i++){a[i]=Ba(e,i,n,"month")}return a}function Ua(e,t,n,i){if(typeof e==="boolean"){if(u(t)){n=t;t=undefined}t=t||""}else{t=e;n=t;e=false;if(u(t)){n=t;t=undefined}t=t||""}var a=vn(),r=e?a._week.dow:0;if(n!=null){return Ba(t,(n+r)%7,i,"day")}var s;var o=[];for(s=0;s<7;s++){o[s]=Ba(t,(s+r)%7,i,"day")}return o}function Ya(e,t){return Pa(e,t,"months")}function Ha(e,t){return Pa(e,t,"monthsShort")}function Ga(e,t,n){return Ua(e,t,n,"weekdays")}function Va(e,t,n){return Ua(e,t,n,"weekdaysShort")}function $a(e,t,n){return Ua(e,t,n,"weekdaysMin")}mn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=M(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});a.lang=C("moment.lang is deprecated. Use moment.locale instead.",mn);a.langData=C("moment.langData is deprecated. Use moment.localeData instead.",vn);var ja=Math.abs;function za(){var e=this._data;this._milliseconds=ja(this._milliseconds);this._days=ja(this._days);this._months=ja(this._months);e.milliseconds=ja(e.milliseconds);e.seconds=ja(e.seconds);e.minutes=ja(e.minutes);e.hours=ja(e.hours);e.months=ja(e.months);e.years=ja(e.years);return this}function qa(e,t,n,i){var a=Mi(t,n);e._milliseconds+=i*a._milliseconds;e._days+=i*a._days;e._months+=i*a._months;return e._bubble()}function Wa(e,t){return qa(this,e,t,1)}function Ka(e,t){return qa(this,e,t,-1)}function Ja(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function Xa(){var e=this._milliseconds;var t=this._days;var n=this._months;var i=this._data;var a,r,s,o,l;if(!(e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0)){e+=Ja(Za(n)+t)*864e5;t=0;n=0}i.milliseconds=e%1e3;a=k(e/1e3);i.seconds=a%60;r=k(a/60);i.minutes=r%60;s=k(r/60);i.hours=s%24;t+=k(s/24);l=k(Qa(t));n+=l;t-=Ja(Za(l));o=k(n/12);n%=12;i.days=t;i.months=n;i.years=o;return this}function Qa(e){return e*4800/146097}function Za(e){return e*146097/4800}function er(e){if(!this.isValid()){return NaN}var t;var n;var i=this._milliseconds;e=Q(e);if(e==="month"||e==="year"){t=this._days+i/864e5;n=this._months+Qa(t);return e==="month"?n:n/12}else{t=this._days+Math.round(Za(this._months));switch(e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}}function tr(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+M(this._months/12)*31536e6}function nr(e){return function(){return this.as(e)}}var ir=nr("ms");var ar=nr("s");var rr=nr("m");var sr=nr("h");var or=nr("d");var lr=nr("w");var cr=nr("M");var ur=nr("y");function dr(){return Mi(this)}function fr(e){e=Q(e);return this.isValid()?this[e+"s"]():NaN}function pr(e){return function(){return this.isValid()?this._data[e]:NaN}}var hr=pr("milliseconds");var mr=pr("seconds");var _r=pr("minutes");var gr=pr("hours");var vr=pr("days");var br=pr("months");var yr=pr("years");function xr(){return k(this.days()/7)}var wr=Math.round;var Sr={ss:44,s:45,m:45,h:22,d:26,M:11};function Lr(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function Er(e,t,n){var i=Mi(e).abs();var a=wr(i.as("s"));var r=wr(i.as("m"));var s=wr(i.as("h"));var o=wr(i.as("d"));var l=wr(i.as("M"));var c=wr(i.as("y"));var u=a<=Sr.ss&&["s",a]||a<Sr.s&&["ss",a]||r<=1&&["m"]||r<Sr.m&&["mm",r]||s<=1&&["h"]||s<Sr.h&&["hh",s]||o<=1&&["d"]||o<Sr.d&&["dd",o]||l<=1&&["M"]||l<Sr.M&&["MM",l]||c<=1&&["y"]||["yy",c];u[2]=t;u[3]=+e>0;u[4]=n;return Lr.apply(null,u)}function kr(e){if(e===undefined){return wr}if(typeof e==="function"){wr=e;return true}return false}function Mr(e,t){if(Sr[e]===undefined){return false}if(t===undefined){return Sr[e]}Sr[e]=t;if(e==="s"){Sr.ss=t-1}return true}function Tr(e){if(!this.isValid()){return this.localeData().invalidDate()}var t=this.localeData();var n=Er(this,!e,t);if(e){n=t.pastFuture(+this,n)}return t.postformat(n)}var Ar=Math.abs;function Cr(e){return(e>0)-(e<0)||+e}function Dr(){if(!this.isValid()){return this.localeData().invalidDate()}var e=Ar(this._milliseconds)/1e3;var t=Ar(this._days);var n=Ar(this._months);var i,a,r;i=k(e/60);a=k(i/60);e%=60;i%=60;r=k(n/12);n%=12;var s=r;var o=n;var l=t;var c=a;var u=i;var d=e?e.toFixed(3).replace(/\.?0+$/,""):"";var f=this.asSeconds();if(!f){return"P0D"}var p=f<0?"-":"";var h=Cr(this._months)!==Cr(f)?"-":"";var m=Cr(this._days)!==Cr(f)?"-":"";var _=Cr(this._milliseconds)!==Cr(f)?"-":"";return p+"P"+(s?h+s+"Y":"")+(o?h+o+"M":"")+(l?m+l+"D":"")+(c||u||d?"T":"")+(c?_+c+"H":"")+(u?_+u+"M":"")+(d?_+d+"S":"")}var Rr=si.prototype;Rr.isValid=ai;Rr.abs=za;Rr.add=Wa;Rr.subtract=Ka;Rr.as=er;Rr.asMilliseconds=ir;Rr.asSeconds=ar;Rr.asMinutes=rr;Rr.asHours=sr;Rr.asDays=or;Rr.asWeeks=lr;Rr.asMonths=cr;Rr.asYears=ur;Rr.valueOf=tr;Rr._bubble=Xa;Rr.clone=dr;Rr.get=fr;Rr.milliseconds=hr;Rr.seconds=mr;Rr.minutes=_r;Rr.hours=gr;Rr.days=vr;Rr.weeks=xr;Rr.months=br;Rr.years=yr;Rr.humanize=Tr;Rr.toISOString=Dr;Rr.toString=Dr;Rr.toJSON=Dr;Rr.locale=ea;Rr.localeData=na;Rr.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dr);Rr.lang=ta;le("X",0,0,"unix");le("x",0,0,"valueOf");De("x",Ee);De("X",Te);Ne("X",function(e,t,n){n._d=new Date(parseFloat(e,10)*1e3)});Ne("x",function(e,t,n){n._d=new Date(M(e))});a.version="2.19.2";r(Kn);a.fn=Ra;a.min=Zn;a.max=ei;a.now=ti;a.utc=m;a.unix=Ia;a.months=Ya;a.isDate=d;a.locale=mn;a.invalid=y;a.duration=Mi;a.isMoment=E;a.weekdays=Ga;a.parseZone=Oa;a.localeData=vn;a.isDuration=oi;a.monthsShort=Ha;a.weekdaysMin=$a;a.defineLocale=_n;a.updateLocale=gn;a.locales=bn;a.weekdaysShort=Va;a.normalizeUnits=Q;a.relativeTimeRounding=kr;a.relativeTimeThreshold=Mr;a.calendarFormat=Fi;a.prototype=Ra;return a})}).call(t,n(620)(e))},function(e,t,n){const i=/(?:(?:(?:(?:(?:(?:https?)|ftp|itms|itms-apps):\/\/)|skype:)[a-z0-9-\._~\:/?#[\]@!$&'()*+,;=%]+)|(?:[a-z0-9]{1}(?:[a-z0-9-]+\.)+(?:com|net|gov|edu|us)(?:(?:\?|\/)[a-z0-9-\._~\:/?#[\]@!$&'()*+,;=%]+)?))/gi;const a=/[.?,!]+$/;const r=n(17);const s={"<":"&lt;",">":"&gt;","'":"&#x27;","/":"&#x2F;","\n":"<br>"};const o=_.extend({},s,{"&":"&amp;",'"':"&quot;"});$.merge=function e(...t){return _.union.apply(this,t)};_.extend(asyncLib,{retry(e,t,n){const i=5;const a=[];if(typeof e==="function"){n=t;t=e;e=i}e=parseInt(e,10)||i;const r=function(i,r){const s=function(e,t){return function n(i){e((e,n)=>{i(!e||t,{err:e,result:n})},r)}};while(e){a.push(s(t,!(e-=1)))}asyncLib.series(a,(e,t)=>{t=t[t.length-1];(i||n)(t.err,t.result)})};return n?r():r}});_.extend(moment,{phpStrToTime(e,t){let n,i,a,r,s,o;const l=false;if(!e){return l}e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();i=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/);if(i&&i[2]===i[4]){if(i[1]>1901){switch(i[2]){case"-":{if(i[3]>12||i[5]>31){return l}return new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case".":{return l}case"/":{if(i[3]>12||i[5]>31){return l}return new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}}}else if(i[5]>1901){switch(i[2]){case"-":{if(i[3]>12||i[1]>31){return l}return new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case".":{if(i[3]>12||i[1]>31){return l}return new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case"/":{if(i[1]>12||i[3]>31){return l}return new Date(i[5],parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}}}else{switch(i[2]){case"-":{if(i[3]>12||i[5]>31||i[1]<70&&i[1]>38){return l}r=i[1]>=0&&i[1]<=38?Number(i[1])+2e3:i[1];return new Date(r,parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case".":{if(i[5]>=70){if(i[3]>12||i[1]>31){return l}return new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}if(i[5]<60&&!i[6]){if(i[1]>23||i[3]>59){return l}a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),i[1]||0,i[3]||0,i[5]||0,i[9]||0)/1e3}return l}case"/":{if(i[1]>12||i[3]>31||i[5]<70&&i[5]>38){return l}r=i[5]>=0&&i[5]<=38?Number(i[5])+2e3:i[5];return new Date(r,parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case":":{if(i[1]>23||i[3]>59||i[5]>59){return l}a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),i[1]||0,i[3]||0,i[5]||0)/1e3}}}}if(e==="now"){return t===null||isNaN(t)?(new Date).getTime()/1e3|0:t|0}if(!isNaN(n=Date.parse(e))){return n/1e3|0}i=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]+)?)([\+-][0-9]{2}(:[0-9]{2})?|z)/);if(i){if(i[4]=="z"){i[4]="Z"}else if(i[4].match(/^([\+-][0-9]{2})$/)){i[4]+=":00"}if(!isNaN(n=Date.parse(`${i[1]}T${i[2]}${i[4]}`))){return n/1e3|0}}const c=t?new Date(t*1e3):new Date;const u={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};const d={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};function f(e,t,n){let i;const a=u[t];if(typeof a!=="undefined"){i=a-c.getDay();if(i===0){i=7*n}else if(i>0&&e==="last"){i-=7}else if(i<0&&e==="next"){i+=7}c.setDate(c.getDate()+i)}}function p(e){const t=e.split(" ");const n=t[0];const i=t[1].substring(0,3);const a=/\d+/.test(n);const r=t[2]==="ago";let s=(n==="last"?-1:1)*(r?-1:1);if(a){s*=parseInt(n,10)}if(Object.prototype.hasOwnProperty.call(d,i)&&!t[1].match(/^mon(day|\.)?$/i)){return c[`set${d[i]}`](c[`get${d[i]}`]()+s)}if(i==="wee"){return c.setDate(c.getDate()+s*7)}if(n==="next"||n==="last"){f(n,i,s)}else if(!a){return false}return true}const h="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec"+"|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?"+"|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)";const m=`([+-]?\\d+\\s${h}|`+`(last|next)\\s${h})(\\sago)?`;i=e.match(new RegExp(m,"gi"));if(!i){return l}for(o=0,s=i.length;o<s;o++){if(!p(i[o])){return l}}return c.getTime()/1e3}});const l={urlHasProtocolRegExp:/^(?!javascript)[a-z-]+:/i,augmentZeptoDetect(e){const{os:t,browser:n}=$;t.desktop=!e&&(n.chrome||n.safari)&&!(t.phone||t.tablet||t.ipod||t.silk||t.kindle||t.rimtabletos||t.wp||t.blackberry||t.bb10||t.playbook||t.touchpad);n.chromeMobile=n.chrome&&!e&&!t.desktop&&(t.ios||t.android&&t.phone);n.chromeWeb=n.chrome&&!e},execRegex(e,t,n){let i;while((i=t.exec(e))!==null){if(i.index===t.lastIndex){t.lastIndex++}n(i)}},stripLastEmptyStrings(e){const t=e.split("\n");while(t.length>0){if(_.isEmpty(_.last(t))){t.pop()}else{break}}return t.join("\n")},pad(e,t,n){n=n||"0";e=String(e);return e.length>=t?e:new Array(t-e.length+1).join(n)+e},getPrimaryEmail(e,t){const n=_.find(e,this.isPrimaryEmail);if(t&&n){return n.email_address}return n},replaceGuid(e,t){const n=/([\w\d]{8}\-[\w\d]{4}-[\w\d]{4}-[\w\d]{4}-[\w\d]{12})/;return e.replace(n,t)},extractAndSortEmails(e){let t=_.flatten(_.map(e,_.values));t=_.reject(t,e=>Number(e.invalid_email)||Number(e.opt_out));t=_.sortBy(t,e=>Number(e.primary_address)?0:1);t=_.pluck(t,"email_address");return t},isPrimaryEmail(e){let t=e.primary_address;if(!_.isBoolean(t)){t=Boolean(parseInt(e.primary_address,10))}return t},nl2br(e){let t=e||"";t=String(t);return t.replace(/\n|\r|\r\n/g,"<br />")},iso2sugar:function e(t,n){if($.os.android&&(app.isNative||n.nativeSupport)){return t}return t.replace(/\.?\d+?Z/,"+00:00")},getTimeZoneOffsetString(e){let t=e||(new Date).getTimezoneOffset();const n=t>=0?"+":"-";t=Math.abs(t);const i=Math.floor(t/60);const a=t%60;return`${n+this.pad(i,2)}:${this.pad(a,2)}`},getHash(){let{hash:e}=window.location;if(e){e=e.split("~")[0]}return e||"#"},resolveUrl(e,t){const n=document;const i=n.getElementsByTagName("base")[0];const a=i&&i.href;const r=n.head||n.getElementsByTagName("head")[0];const s=i||r.appendChild(n.createElement("base"));const o=n.createElement("a");s.href=t;o.href=e;const l=o.href;if(i){i.href=a}else{r.removeChild(s)}return l},merge:function e(){const t=(e,t)=>t;return function e(n,i,a){let r;if(_.isUndefined(n)){r=i}else if(_.isUndefined(i)){r=n}else{const e=_.first([n,i],2);const r=_.map(e,_.keys);const s=_.intersection(...r);const o={};_.each(e,(e,t)=>{_.each(r[t],t=>{o[t]=e[t]})});if(_.isUndefined(a)){a=t}_.each(s,e=>{o[e]=a(n[e],i[e])});return o}return _.clone(r)}}(),deepClone:function e(t){const n={};_.each(t,(t,i)=>{n[i]=_.isObject(t)?e(t):t});return n},getOfflineStatusClass(){const e=app.offline.status;if(e){if(e.state===app.offline.State.ERROR){return"status-error"}else if(e.state===app.offline.State.WARNING){return"status-warning"}}return"status-success"},humanFileSize:function e(){const t=" K M G T P E Z Y".split(" ").map(e=>`${e}B`);const n=function(e,n){let i=0;const a=1024;const r=n?0:1;while(e>a/10&&++i<t.length-1){e/=a}this.value=(e+.05).toFixed(r);this.units=t[i]};n.prototype._i18nUnits=function e(){const t=`LBL_FILE_SIZE_UNITS_${this.units}`;const n=app.lang.get(t);return n===t?null:n};n.prototype.toString=function e(t){const n=t&&this._i18nUnits()||this.units;return`${this.value} ${n}`};return function e(t,i){return t===-1?null:new n(t,i)}}(),isErrorEmulationEnabled(){return app.config.errorEmulation.enabled&&app.user.get("user_name")===app.config.errorEmulation.user.toLowerCase()},parseQueryString(e){const t=function(e,t){let n,i,a,r,s,o,l,c,u,d,f,p,h,m,_;const g=String(e).replace(/^&/,"").replace(/&$/,"").split("&");const v=g.length;const b=function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))};if(!t){t=this.window}for(n=0;n<v;n++){d=g[n].split("=");f=b(d[0]);p=d.length<2?"":b(d[1]);while(f.charAt(0)===" "){f=f.slice(1)}if(f.indexOf("\0")>-1){f=f.slice(0,f.indexOf("\0"))}if(f&&f.charAt(0)!=="["){m=[];h=0;for(i=0;i<f.length;i++){if(f.charAt(i)==="["&&!h){h=i+1}else if(f.charAt(i)==="]"){if(h){if(!m.length){m.push(f.slice(0,h-1))}m.push(f.substr(h,i-h));h=0;if(f.charAt(i+1)!=="["){break}}}}if(!m.length){m=[f]}for(i=0;i<m[0].length;i++){u=m[0].charAt(i);if(u===" "||u==="."||u==="["){m[0]=`${m[0].substr(0,i)}_${m[0].substr(i+1)}`}if(u==="["){break}}o=t;for(i=0,_=m.length;i<_;i++){f=m[i].replace(/^['"]/,"").replace(/['"]$/,"");l=i!==m.length-1;s=o;if(f!==""&&f!==" "||i===0){if(o[f]===c){o[f]={}}o=o[f]}else{a=-1;for(r in o){if(Object.prototype.hasOwnProperty.call(o,r)){if(Number(r)>a&&r.match(/^\d+$/g)){a=Number(r)}}}f=a+1}}s[f]=p}}};const n={};t(e,n);return n},docIsAvailable(e){return!_.isEmpty(e)&&(!app.offline||app.offline.isOnline())},isValidDate(e){return _.isDate(e)&&!isNaN(e.getTime())},isModelSynchronized(e,t){const n=["_last_fetched","_client_date_modified"];if(e.get("date_modified")!==t.date_modified){return false}const i=_.omit(t,n);const a=_.omit(e.toJSON(),n);return _.isEmpty(app.utils.getChangedProps(a,i,false))},getObjectPrimitives(e){const t={};const n=function(e){return!_.isObject(e)&&!_.isFunction(e)};_.each(e,(e,i)=>{if(n(e)){t[i]=e}});return t},waitFor(e,t,n=2e3){let i=false;const a=new Date-0;let r=false;const s=function(){r=new Date-0-a>n;i=e();if(!i&&!r){window.setTimeout(s,200)}else{t(r?{message:"Max wait timeout"}:null)}};window.setTimeout(s,200)},deepExtend(...e){const t=this;if(e.length<1||typeof e[0]!=="object"){return false}if(e.length<2){return e[0]}const n=e[0];e=e.slice(1);let i;let a;let r;e.forEach(e=>{if(typeof e!=="object"){return}for(const s in e){if(e[s]!==undefined){a=n[s];i=e[s];if(i===n){continue}if(typeof i!=="object"||i===null){n[s]=i;continue}if(typeof a!=="object"){r=Array.isArray(i)?[]:{};n[s]=t.deepExtend(r,i);continue}if(Array.isArray(i)){r=Array.isArray(a)?a:[]}else{r=Array.isArray(a)?{}:a}n[s]=t.deepExtend(r,i)}}});return n},isTabletLandscapeMode(){return app.isTablet&&app.nomad.getOrientation()==="landscape"},isForecastConfigValid(){let e=true;const t=app.metadata.getModule("Forecasts","config");const n=t.sales_stage_won;const i=t.sales_stage_lost;const a=[t.sales_stage_won,...t.sales_stage_lost];const r=app.lang.getAppListStrings("sales_stage_dom");if(n.length===0||i.length===0||_.isEmpty(r)){e=false}else{e=_.every(a,e=>e!==""&&_.has(r,e),this)}return e},getForecastNotSetUpMessage(e){const t=e?"LBL_DASHLET_FORECAST_NOT_SETUP_ADMIN":"LBL_DASHLET_FORECAST_NOT_SETUP";let n=app.lang.get(t,"Forecasts");const i=app.config.siteUrl.indexOf("?")===-1?"?":"&";if(e){const e=app.lang.get("LBL_DASHLET_FORECAST_CONFIG_LINK_TEXT","Forecasts");n+=`  <a class="lnk-non-forecast" href="${app.config.siteUrl}${i}mobile=0#Forecasts/config">${e}</a>`}return n},wrapAsyncCallback:function e(t){return{success:function e(n){t(null,n)},error:t}},isAccessibleModule(e,t="list"){return!_.contains(app.config.modules.unsupportedModules,e)&&_.contains(app.metadata.getModuleNames({filter:"visible",access:t}),e)},getClosedStatusValue(e){const t={Calls:"Held",Tasks:"Completed",Meetings:"Held"};return t[e]},isModuleVisible(e){const t=app.metadata.get().modules_info[e];return t&&t.visible},getForecastModule:function e(){return app.metadata.getModule("Forecasts","config").forecast_by||(this.isModuleVisible("RevenueLineItems")?"RevenueLineItems":"Opportunities")},getHashCode(e){let t=0;let n;let i;let a;if(e.length===0){return t}for(n=0,a=e.length;n<a;n++){i=e.charCodeAt(n);t=(t<<5)-t+i;t|=0}return t},charToHtmlEntity(e,t){const n=t?s:o;return n[e]||e},stringToHtmlEntities({stringToTransform:e,allowUrlChars:t}){let n="";_.each(e,e=>{n+=l.charToHtmlEntity(e,t)},this);return n},htmlEntitiesToString({stringToTransform:e,allowUrlChars:t}){const n=t?s:o;let i=e;_.each(n,(e,t)=>{i=i.replace(new RegExp(e,"g"),t)});return i},escapeRegExp:function e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},migrateKeyValueStore(e,t){const n=`${app.config.env}:${app.config.appId}:`;if(e.get(`${n}store:version`)!==e.version){_.chain(window.localStorage).keys().filter(e=>e.indexOf(n)===0).each(t=>{e.set(t,app.cache.get(t));window.localStorage.removeItem(t)}).value();e.set(`${n}store:version`,e.version)}const i=t.getAll();if(!_.isEmpty(i)){_.each(i,(t,n)=>{e.set(n,t)});t.cutAll()}},formatLinks:function e(t){let n="";if(t&&t.length>0){n=t.replace(i,e=>{const t=e.match(a)||"";if(t){e=e.replace(a,"")}const n=l.urlHasProtocolRegExp.test(e)?e:`http://${e}`;return`<a href="${n}">${e}</a>${t}`})}return n},isElVisible(e){return e&&e.get(0)&&e.get(0).offsetParent!==null},isDirectionLTR(){return app.lang.direction!==app.lang.DIRECTION_RTL},_normalizeUrl(e,t){if(t){e=encodeURI(e)}if(l.urlHasProtocolRegExp.test(e)){return e}if(/^\.\.\//.test(e)){const t=window.location.href.split("#")[0].split("index.html")[0];return t+e}return`http://${e}`},buildActionHandlerName(e){return _.reduce(e.split(":"),(e,t)=>e+app.utils.capitalize(t),"on")},isComponentChildOf(e,t){let n=t.parentClass;let i=false;while(n){i=n===e;n=!i&&n.parentClass}return i},getRange(e,t){return(Math.floor(e/t)+1)*t},buildRoute(e,t){let n;const i=app.controller.getScreenContextRoot();const{action:a,link:r}=t.hash;if(r){n=app.router.buildLinkRoute(e.link.bean.module,e.link.bean.id,r,e.id,a)}else{n=app.router.buildRoute(e.module,e.id,a)}if(t.hash.appendRoot&&i){n=`${i}/${n}`}return new Handlebars.SafeString(n)},sanitizeFileName(e=""){return e.replace(/[^a-z0-9_\-.\s]/gi,"_")},isEmptyValue(e){return _.isNull(e)||_.isUndefined(e)||!_.isNumber(e)&&_.isEmpty(e)||_.isNumber(e)&&!_.isFinite(e)},isOnline(){return true?app.config.offline.debug.online&&window.navigator.onLine:navigator.connection.type!==Connection.UNKNOWN&&navigator.connection.type!==Connection.NONE},supportsFavorite(e){const t=app.metadata.getModule(e.module);const n=t&&!_.isUndefined(t.favoritesEnabled)&&!t.favoritesEnabled;return app.acl.hasAccessToModel("view",e,"my_favorite")&&!n},supportsMyItems(e){const t=app.metadata.getModule(e);return t?!_.isUndefined(t.fields.assigned_user_id):false},supportsFollowing(e){const{module:t}=e;const n=app.metadata.getModule(t);const i=n&&!_.isUndefined(n.followingEnabled)&&!n.followingEnabled;return app.serverInfo.isSevenUp&&_.contains(app.config.modules.followableModules,t)&&app.acl.hasAccessToModel("view",e,"following")&&!i},isStandardModule(e){return _.contains(app.config.modules.knownModules,e)},getFullnameFieldComponents(e,t=app.user.getPreference("default_locale_name_format")){const n=[];const i=e.fields.name;if(!i){return n}if(i.type==="fullname"){const i=app.metadata.getModule(e.module);const a=i.nameFormat;if(!_.isEmpty(a)){_.each(t.split(""),e=>{if(a[e]){n.push(a[e])}});return n}}else if(i.fields){return i.fields}return["name"]},isNameErased(e){const t=e.get("_erased_fields");if(_.isEmpty(t)){return false}const n=l.getFullnameFieldComponents(e);const i=_.some(n,e=>_.contains(t,e));return i&&_.every([...n,"name"],t=>!e.get(t))},addCollectionFieldValidator(e,t={}){e.addValidationTask("nomad_collection_field",(n,i,a)=>{const s=_.chain(n).map(t=>{const n=_.isString(t)?e.fields[t]:t;return n&&n.type==="collection"?n.name:null}).compact().value();return r.mapSeries(s,n=>this._validateCollection(e.get(n),t)).then(e=>{_.each(e,(e,t)=>{if(!e){i[s[t]]={isCollectionInvalid:true}}});a(null,n,i)})})},_validateCollection(e,t){return r.reduce(e.models,(e,n)=>{const i=n.module||n._module;const a=_.isFunction(t)?t(n):t[i];let s=a;if(_.isArray(s)){s={};_.each(a,e=>{const t=e.name||e;s[t]=_.isObject(e)?e:n.fields[t]})}if(_.isEmpty(s)){s=n.fields}return new r(e=>{n.doValidate(s,t=>{e(t)})}).then(t=>e&&t)},true)},getQuotesCollectionComparator(){return e=>e.get("position")},quotesSummaryFieldMapper(e){const t=_.clone(e);t.isSummary=true;return t},ifFewCurrenciesAreAvailable(){return _.any(app.metadata.getCurrencies(),e=>e.status==="Active")},imageUtils:{resizeImage(e){const{callback:t,inputBinary:n,type:i,orientation:a}=e;const r=new Image;let s=false;r.onload=(()=>{s=true;this._resizeWithCanvas(r,a,e=>{if(e.byteLength===0){t({message:"Image resizing failed (Failed to render to canvas)"});return}t({binary:e})})});const o=new Blob([n],{type:i});const l=URL.createObjectURL(o);r.src=l;_.delay(()=>{if(!s){return t({message:"Image resizing failed (Failed to load file as image)"})}URL.revokeObjectURL(l)},app.config.files.imageResizeTimeout)},_resizeWithCanvas(e,t=1,n=_.noop){let i=app.config.files.resizeImagesOnUpload;const{naturalWidth:a,naturalHeight:r}=e;const s=Math.max(a,r);const o=$.os.ios?this._iosRenderWithCanvas:this._commonRenderWithCanvas;if(!i){i=s}const l=s<i?1:i/s;const c=Math.round(a*l);const u=Math.round(r*l);const d=document.createElement("canvas");d.width=c;d.height=u;o.call(this,e,d,{width:c,height:u,orientation:t||1,callback:n})},_commonRenderWithCanvas(e,t,n){const i=t.getContext("2d");i.clearRect(0,0,n.width,n.height);if(n.orientation){this._transformCoordinate(t,n.width,n.height,n.orientation)}i.drawImage(e,0,0,n.width,n.height);this._getJpegImage(t,app.config.files.jpegEncoderQuality/100,n.callback)},_transformCoordinate(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n;e.height=t;break;default:e.width=t;e.height=n}const a=e.getContext("2d");switch(i){case 2:a.translate(t,0);a.scale(-1,1);break;case 3:a.translate(t,n);a.rotate(Math.PI);break;case 4:a.translate(0,n);a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI);a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI);a.translate(0,-n);break;case 7:a.rotate(.5*Math.PI);a.translate(t,-n);a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI);a.translate(-t,0);break;default:break}},_iosRenderWithCanvas(e,t,n){const i=new MegaPixImage(e);const a={maxWidth:n.width,maxHeight:n.height,orientation:n.orientation};if(n.width*n.height>app.config.files.iosCanvasSizeLimit*1024*1024){_.extend(a,this._scaleImage(n))}i.render(t,a);this._getJpegImage(t,null,n.callback)},_scaleImage(e){const t=e.width/e.height;const n=app.config.files.iosCanvasSizeLimit*1024*1024;const i=Math.sqrt(n/t);const a=i*t;return{maxHeight:Math.floor(i),maxWidth:Math.floor(a)}},_getJpegImage(e,t,n=_.noop){const i="image/jpeg";if(_.isFunction(e.toBlob)){e.toBlob(e=>{const t=new FileReader;t.onload=(()=>n(t.result));t.readAsArrayBuffer(e)},i,t)}else{const a=e.toDataURL(i,t).split(",")[1];setTimeout(()=>{const e=atob(a);const t=e.length;const r=new Uint8Array(t);for(let n=0;n<t;n++){r[n]=e.charCodeAt(n)}n(new Blob([r],{type:i}))})}}}};e.exports=l},function(e,t,n){const i={showAlert(e,{title:t=app.lang.get("LBL_WARNING"),buttonLabels:n=app.lang.get("LBL_OK"),callback:i}={}){this._showAlert(e,i,t,n)},showConfirm(e,{title:t=app.lang.get("LBL_CONFIRM"),buttonLabels:n=[app.lang.get("LBL_NO"),app.lang.get("LBL_YES")],callback:i}={}){this._showConfirm(e,i,t,n)},showActionSheet(e,t={}){_.defaults(t,{title:""});this._showActionSheet(e,t)},_showGATrackedActionSheet(e,t={}){const n=_.pluck(e,"googleAnalyticsName");const i=_.pluck(e,"name");const a=t.gaParams||{category:"click",value:0};t.onSelectCb=_.wrap(t.onSelectCb,(e,t)=>{app.analytics.trackEvent(_.extend({},a,{action:n[t]}));return e(t)});this.showActionSheet(i,_.omit(t,"gaParams"))},showPrompt(e="",t={}){_.defaults(t,{title:app.lang.get("LBL_CONFIRM"),defaultText:"",inputStyle:1,buttonLabels:[app.lang.get("LBL_CANCEL_BUTTON_LABEL"),app.lang.get("LBL_OK")],callback(){}});this._showPrompt(e,t)}};if(true){_.extend(i,n(405))}else{_.extend(i,require("%app.js%/native/dialog"))}e.exports=i},function(e,t,n){const i=SUGAR.App;const a=n(3);const r=n(1);const s=r.extendComponent(i.view.Field,{events:{"focusin.base-field input":"_onFocus","touchstart.base-field select":"_onFocus"},viewFallbackMap:{view:"disabled",edit:"disabled",about:"disabled",settings:"edit"},initialize(e){this.isEdit=_.isFunction(e.view.isEditView)&&e.view.isEditView()||e.def.view==="edit";this._super(e);this._isDisabledPartNumberField=this.def.name==="mft_part_num";if(this._isDisabledPartNumberField||this.isEdit&&(Boolean(this.def.calculated)&&Boolean(this.def.enforced)||Boolean(this.def.readonly))){this.action="disabled";this._isDisabled=true}},_updateFieldErased(){let e=this.action||this.view.action;const t=e==="edit";this.isErased=this.getErased();this.updatePlaceholder();if(_.isUndefined(this._viewNameBackup)){this._viewNameBackup=this.options.viewName||""}if(this.isErased&&!t&&!this.isDisabled()){if(e==="dupecheck-list"){e="list"}if(/-erased/.test(this.action)){this.options.viewName=this.action}else{this.options.viewName=`${e}-erased`}}else{this.options.viewName=this._viewNameBackup}},getErased(){return this.type==="fullname"?a.isNameErased(this.model):_.contains(this.model.get("_erased_fields"),this.name)},setDisabled(e,t={}){this._isDisabled=Boolean(e);this._super(this._isDisabledPartNumberField?true:e,t)},updatePlaceholder(){this.inputHint=this.getPlaceholderText();this.syncPlaceholderVisible()},syncPlaceholderVisible(){this.showPlaceholder=this.inputHint&&this.isValueEmpty();return this.showPlaceholder},getPlaceholderText(){let e="";if(this.isErased){e="LBL_VALUE_ERASED"}else if(this.def.required){e="LBL_REQUIRED"}return i.lang.get(e,this.module)},isValueEmpty(){const e=this.model.get(this.name);return!_.isNumber(e)&&_.isEmpty(e)},_onFocus(){const e={animate:false};i.alert.dismissAll(false,e)},delegateEvents(e){if(_.isFunction(e||this.events)){Backbone.View.prototype.delegateEvents.call(this,e)}else{this._super(e)}},handleValidationError(e){this._displayValidationMessage(e)},_displayValidationMessage(e){let t;const n=[];const a=this.$(".field");a.children(".field__error-message").remove();a.removeClass("error");if(e){this.$(".field").addClass("error");_.each(e,(e,t)=>{n.push(i.error.getErrorString(t,e))});t=i.template.get("edit-field-error");a.append(t(n))}i.analytics.trackEvent({category:"validation",action:this.name})},_render(){this.onBeforeRender();i.view.Field.prototype._render.call(this);this.onAfterRender();this.hasAccess=this.getAccess();return this},_getFallbackTemplate(...e){const[t]=e;if(t==="disabled"){return"readonly"}const n=this.action||this.view.action;if(this.isErased&&n!=="edit"){return`${n}-erased`}return i.view.Field.prototype._getFallbackTemplate.apply(this,e)},getAccess(){const e=this.options.def.view||this.options.viewName||(this.view.meta&&this.view.meta.type?this.view.meta.type:this.view.name);const t=e===this.view.action?e:this.view.action;return i.acl.hasAccessToModel(t,this.model,this.name)},onBeforeRender(){if(this.view.name==="edit"&&this.getAccess()&&!this.isDisabled()){this.action="edit"}this._updateFieldErased()},onAfterRender(){},format:function e(t){return this._super(t)},unformat:function e(t){return _.isString(t)?t.trim():t},bindDomChange(){if(!(this.model instanceof Backbone.Model)){return}const e=this.$el.find(this.fieldTag);e.on("change",_.bind(this.onFieldChange,this));this._$fieldEl=e},onFieldChange(){this.model.set(this.name,this.unformat(this._$fieldEl.val()));this.updatePlaceholder()},bindDataChange(){if(this.model){this.model.on(`change:${this.name}`,function e(t,n,i){if(i&&i.disableRenderForContext===this.view){return false}this.render()},this)}},setRequired(e){this.def=i.utils.deepCopy(this.def);this.def.required=e;this.render()},isRequired(){return this.def.required}});i.view.NomadField=s;e.exports=s},function(e,t,n){const i=n(4);const a=n(3);const r={scanBarcode(e,t,n){window.cordova.plugins.barcodeScanner.scan(e,t,n)},encodeBarcode(e,t,n,i){window.cordova.plugins.barcodeScanner.encode(`${e.toUpperCase()}_TYPE`,t,n,i)},sendEmail(e,{subject:t="",body:n=""}={}){if(e.length>1){i.showActionSheet(e,{title:app.lang.get("LBL_MOBILE_CHOOSE_RECIPIENT"),onSelectCb:i=>this._showEmailComposer(e[i],t,n)})}else{this._showEmailComposer(e[0],t,n)}},sendConsoleLog({email:e=app.config.about.supportEmail,subject:t="",body:n=""}={}){this._getConsoleLogFilename(i=>{this._showEmailComposer(e,t,n,i)})},shareRecord(e){const t=`${a.resolveUrl(app.config.siteUrl,window.location.href)}#${app.router.buildRoute(e.get("_module"),e.get("id"))}`;const n={url:t,appId:app.config.brandName,module:app.lang.getModuleName(e.module),name:e.get("name")};n.subject=app.lang.get("TPL_RECORD_SHARE_SUBJECT",null,n);n.body=app.lang.get("TPL_RECORD_SHARE_BODY",null,n);this._share(n)},shareUrl(e,t={}){t.url=e;t.shareLabel=app.lang.get("LBL_RECORD_SHARE_BUTTON");this._share(t)},sendSms(e,t){if(_.isArray(e)&&e.length>1){const n=app.lang.get("LBL_MOBILE_CHOOSE_PHONE");const a=this._buildNamedList(e);i.showActionSheet(a,{title:n,onSelectCb:n=>this._showSmsComposer(this._extractValue(e,n),t)})}else{this._showSmsComposer(this._extractValue(e),t)}},callPhone(e,t={}){if(t.model){_.extend(t,{module:t.model.module,recordId:t.model.id,recordName:t.model.get("name")})}if(_.isArray(e)&&e.length>1){const n=this._buildNamedList(e);i.showActionSheet(n,{title:app.lang.get("LBL_MOBILE_CHOOSE_PHONE"),onSelectCb:n=>{app.telephony.callPhone(this._extractValue(e,n),t)}})}else{app.telephony.callPhone(this._extractValue(e),t)}},openUrl(e,{encode:t=false}={}){if(_.isArray(e)&&e.length>1){const n=_.map(e,e=>_.keys(e)[0]);i.showActionSheet(n,{title:app.lang.get("LBL_MOBILE_CHOOSE_URL"),onSelectCb:n=>this._browseUrl(a._normalizeUrl(this._extractValue(e,n),t))})}else{this._browseUrl(a._normalizeUrl(this._extractValue(e),t))}},openWebPage(e){this._browseWebPage(e)},showDateTimePicker(e,{mode:t="showDatePicker",callback:n}={}){this._showDateTimePicker(e,t,n)},openDoc(e){if(_.isArray(e)&&e.length>1){const t=_.map(e,(e,t,n)=>a.replaceGuid(_.keys(e)[0],`${app.lang.get("LBL_MOBILE_DOC")} ${t+1}`));i.showActionSheet(t,{title:app.lang.get("LBL_MOBILE_CHOOSE_DOC"),onSelectCb:t=>this._openDocWorker(e,t)})}else{this._openDocWorker(e)}},removeCachedDoc(e){this._removeCachedDoc(e)},openAddress(e={}){const{device:t}=app.clientInfo;const n=!t.ios||t.ios&&!app.isNative?"g":"a";const{showDirections:a}=e;if(e.addresses){if(_.isArray(e.addresses)&&e.addresses.length>1){const t=_.map(e.addresses,e=>_.keys(e)[0]);i.showActionSheet(t,{title:app.lang.get("LBL_MOBILE_CHOOSE_LOCATION"),onSelectCb:t=>{this._openMap(this._extractValue(e.addresses,t),n)}})}else{this._openMap(this._extractValue(e.addresses),n,a)}}else{this._openMapWithGeoLocation(e.location,n,a)}},registerForPushNotifications(){this._registerForPushNotifications()},sendLocalNotification(e={}){e.title=e.title||app.config.brandName;this._sendLocalNotification(e)},startMobileDeviceManagement(e){this._startMobileDeviceManagement(e)},getManagedConfig(e){this._getManagedConfig(e)},getImportedFileInfo(e){this._getImportedFileInfo(e)},_getNativeParam(e,t){return window.plugins.deviceInfo.getNativeParam(e,t)},_openDocWorker(e,t){const n=_.clone(this._extractValue(e,t));const i=a._normalizeUrl(n.url);if(!n.fsEntry){n.url=i.replace("{download_token}",app.api.getDownloadToken()).replace("{oauth_token}",app.api.getOAuthToken());this._flushCacheUrl(n)}if(n.openExternally){this._browseUrl(n.url)}else{this._browseDoc(n)}},_flushCacheUrl(e){if(_.has(e,"noCache")&&!e.noCache){return}const t=e.url.split("#")[0];const n=[t,t.indexOf("?")===-1?"?":"&","__ts=",Number(new Date)];e.noCache=false;e.url=n.join("")},_openMap(e,t,n){let i="";const a=t==="a"?"maps.apple.com":"maps.google.com";if(!e){e=""}else{let t="";if(e.country&&_.isString(e.country)){t=e.country.replace(/\s?,\s?/g,",");if(/ of$/.test(t)||/ of the$/.test(t)){const e=t.split(",");t=e[e.length-1];for(let n=0;n<e.length-1;n++){t=t.concat(` ${e[n]}`)}}else{t=e.country.replace(/,/g,"")}}e=_.compact([e.street,e.city,e.state,e.postalcode,t]).join(",")}if(n){i=`http://${a}/?saddr=${encodeURI("Current Location")}&daddr=${encodeURI(e)}`}else{i=`http://${a}/maps?q=${encodeURI(e)}`}app.logger.debug(`Opening map: ${i}`);this._browseUrl(i)},_openMapWithGeoLocation(e={},t="",n=false){let a="";const r=t==="a"?"maps.apple.com":"maps.google.com";const s=new RegExp("^[-+]?([1-8]?\\d(.\\d+)?|90(\\.0+)?)$");const o=new RegExp("^[-+]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)$");if(!s.test(e.latitude)||!o.test(e.longitude)){i.showAlert(app.lang.get("ERR_GEOLOCATION_INVALID_COORDINATES_MSG"));return}e=_.compact([e.latitude,e.longitude]).join(",");if(n){a=`http://${r}/?saddr=${encodeURI("Current Location")}&daddr=${encodeURI(e)}`}else{a=`http://${r}/maps?q=${encodeURI(e)}`}app.logger.debug(`Opening map: ${a}`);this._browseUrl(a)},_extractValue(e,t=0){return _.isString(e)?e:_.values(e[t])[0]||e[t].value||e[t]},_buildNamedList(e){return _.map(e,e=>`${_.keys(e)[0]} - ${_.values(e)[0]}`)},redirectToNativeApp(){r._redirectToNativeApp()}};if(true){_.extend(r,n(404))}else{_.extend(r,require("%app.js%/native/device"))}e.exports=r},function(e,t,n){const i=n(46);const a=n(45);const r=n(52);function s(){return(this.get("fetch")===void 0||this.get("fetch"))&&!this.isDataFetched()&&!this.get("create")}const o=Backbone.Model.extend({initialize:function(e){Backbone.Model.prototype.initialize.call(this,e);this.id=this.cid;this.parent=null;this.children=[];this._fetchCalled=false},clear:function(e){var t=this.get("collection");if(t){t.abortFetchRequest()}_.each(this.children,function(t){t.clear(e)});this.children=[];this.parent=null;_.each(this.attributes,function(e){if(e&&e.off===Backbone.Events.off){e.off();e.stopListening();if(_.isFunction(e.dispose)){e.dispose()}}},this);this.off();Backbone.Model.prototype.clear.call(this,e);this.resetLoadFlag()},resetLoadFlag:function(e){e=e||{};var t=_.isUndefined(e.recursive)?true:e.recursive;var n=_.isUndefined(e.resetModel)?true:e.resetModel;var i=_.isUndefined(e.resetCollection)?true:e.resetCollection;this._fetchCalled=false;if(this.get("model")&&n){this.get("model").dataFetched=false}if(this.get("collection")&&i){this.get("collection").dataFetched=false}if(t){_.each(this.children,function(e){e.resetLoadFlag()})}},isCreate:function(){return this.get("create")===true},getChildContext:function(e){e=e||{};var t;var n=e.forceNew||false;delete e.forceNew;var i=e.cid||e.name||e.link||e.module;if(i&&!n){t=_.find(this.children,function(e){return e.cid==i||e.get("link")==i||e.get("module")==i})}if(!t){e=_.extend({fetch:this.get("fetch")},e);t=new o(e);this.children.push(t);t.parent=this}if(e.link){var a=this.get("model");t.set({parentModel:a,parentModule:a?a.module:null})}else if(!e.module){t.set({module:this.get("module")})}this.trigger("context:child:add",t);return t},prepare:function(e,t){var n;if(e||!this.get("model")&&!this.get("collection")){var i=this.get("modelId");var a=this.get("create");n=this.get("link");this.set(n?this._prepareRelated(n,i,a):this._prepare(i,a))}if((e||!this._relatedCollectionsPopulated)&&(!n||t)){this._populateRelatedContexts()}return this},setFetch:function(e,t){t=t||{};this.set("fetch",e);var n=t.recursive===void 0?true:t.recursive;if(n){_.each(this.children,t=>{t.setFetch(e)})}},_prepare:function(e,t){var n,i,a=this.get("module"),s=this.get("mixed"),o;if(e){n=r.createBean(a,{id:e});o=[n]}else if(t===true){n=r.createBean(a);o=[n]}else{n=r.createBean(a)}i=s===true?r.createMixedBeanCollection(o):r.createBeanCollection(a,o);return{collection:i,model:n}},_prepareRelated:function(e,t,n){var i,a,s=this.get("parentModel");s=s||r.createBean(this.get("parentModule"),{id:this.get("parentModelId")});if(t){i=r.createRelatedBean(s,t,e);a=r.createRelatedCollection(s,e,[i])}else if(n===true){i=r.createRelatedBean(s,null,e);a=r.createRelatedCollection(s,e,[i])}else{i=r.createRelatedBean(s,null,e);a=r.createRelatedCollection(s,e)}if(!this.has("parentModule")){this.set({parentModule:s.module},{silent:true})}if(!this.has("module")){this.set({module:i.module},{silent:true})}return{parentModel:s,collection:a,model:i}},addFields:function(e){if(!e){return}var t=_.union(e,this.get("fields")||[]);return this.set("fields",t)},loadData:function(e){e=e||{};if(!e.forceFetch&&!s.call(this)){return}delete e.forceFetch;var t,n=this.get("modelId"),r=this.get("module"),o=SUGAR.App.config.orderByDefaults&&r?SUGAR.App.config.orderByDefaults[r]:null;t=n?this.get("model"):this.get("collection");if(o&&t instanceof a&&!t.orderBy){t.orderBy=o}if(t&&(t instanceof i||t instanceof a)){if(this.get("dataView")&&_.isString(this.get("dataView"))){t.setOption("view",this.get("dataView"))}if(this.get("fields")){t.setOption("fields",this.get("fields"))}if(this.get("limit")){t.setOption("limit",this.get("limit"))}if(this.get("module_list")){t.setOption("module_list",this.get("module_list"))}if(this.get("viewed")){t.setOption("viewed",this.get("viewed"))}e.context=this;if(this.get("skipFetch")!==true){t.fetch(e)}this._fetchCalled=true}else{SUGAR.App.logger.warn("Skipping fetch because model is not Bean, Bean Collection, or it is not defined, module: "+this.get("module"))}},_populateRelatedContexts:function(){if(!this.get("collection")){return}this.get("collection").each(function(e){var t=e.fieldsOfType("collection");if(!_.isEmpty(t)){_.each(t,function(e){var t=e.links;if(_.isString(t)){t=[t]}var n={};_.each(t,function(e){var t=this.getChildContext({link:e});t.prepare()},this)},this)}},this);this._relatedCollectionsPopulated=true},_shouldFetch:function(){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Context#_shouldFetch is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Context#_shouldFetch is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s.call(this)},reloadData:function(e){e=e||{};this.resetLoadFlag(e);this.loadData(e);this.trigger("reload",this,e)},isDataFetched:function(){var e=this.get("modelId")?this.get("model"):this.get("collection");return this._fetchCalled||e&&!!e.dataFetched}});e.exports=o},function(e,t,n){const i=n(1);const a=n(17);const r=n(82);const s=i.extendComponent(r,{_globalEventsBound:false,_stringType:"base",ACTION_NAME:"component:action",events(e){const t={};if(_.isObject(e)){_.extend(t,e)}return t},constructor(e){const t=e.def&&e.def.data;if(!_.isUndefined(t)&&_.isUndefined(e.data)){e.data=t}if(_.isFunction(e.name)){e.name=this._stringType;e.type=this._stringType;if(e.def){e.def.view={name:this._stringType}}e.meta=e.meta||app.metadata.getView(e.module,this._stringType)}return this._super(e)},initialize(e){e=e||{};const t=_.isUndefined(e.sugarLogicEnabled)||e.sugarLogicEnabled;if(!t){this.plugins=_.without(this.plugins,"SugarLogic")}if(e.globalEvents){this.globalEvents=e.globalEvents}this.config=app.config;let n=e.template||this.template;if(n){n=_.isString(n)?app.template.get(n):n;e.template=n}this._super(e);if(e.onPullDownToRefresh){this.onPullDownToRefresh=(()=>e.onPullDownToRefresh())}this.displayFields=this.getDisplayFields()},getDisplayFields(){let e=_.getNested(this,"meta.panels.0.fields")||[];const{getDisplayFields:t}=this.options;if(_.isFunction(t)){e=t(e)}return e},onHeaderClick(){},onAppPause(){},onAppResume(){},delegateEvents(e){if(!e){e=_.result(this,"events")}if(!e){return}_.extend(e,{"click a[href]":"handleLinkClick"});this._super(e)},loadData(e={}){return new a((t,n)=>{e.success=_.wrap(e.success,(e,...n)=>{t(n);if(e){e(...n)}});e.error=_.wrap(e.error,(e,...t)=>{const i=t[1]?t[1].message:"";const a=new Error(i);n(a);if(e){e(...t)}});app.view.View.prototype.loadData.call(this,e)})},_render(){this.onBeforeRender();this._super();this.onAfterRender();this._rendered=true;this.trigger("view:after:render");return this},bindGlobalEvents(){if(this._globalEventsBound){return}const e=this._populateGlobalEvents(this);_.each(e,function e(t,n){t=_.isFunction(t)?t:this[t];app.events.on(n,t,this)},this);_.each(this.fields,e=>{_.each(e.globalEvents,function e(t,n){t=_.isFunction(t)?t:this[t];app.events.on(n,t,this)},e);e._globalEventsBound=true});this._globalEventsBound=true},unbindGlobalEvents(){const e=this._populateGlobalEvents(this);_.each(e,function e(t,n){app.events.off(n,null,this)},this);_.each(this.fields,e=>{_.each(e.globalEvents,function e(t,n){app.events.off(n,null,this)},e);e._globalEventsBound=false});this._globalEventsBound=false},_populateGlobalEvents(e){const t=[];let n={};const i=function(e,t){if(e){t.push(e.constructor.prototype.globalEvents);i(e.constructor.__super__,t)}};if(Object.prototype.hasOwnProperty.call(this,"globalEvents")){t.push(this.globalEvents)}i(e,t);_.each(t.reverse(),e=>{n=_.extend(n,e)});return n},_getRelationshipFields(){const e=this.context.get("parentModule");const t=this.context.get("link");let n=[];if(e&&t){n=app.data.getRelationshipFields(e,t)}return _.map(n,e=>app.metadata.getModule(this.module).fields[e])},canDisplay(e){const t=this.context.get("link");const n=this.context.get("parentModule");const i=t&&n?_.pluck(app.data.getRelateFields(n,t),"name"):[];return!(t&&(e.type==="parent"||e.type==="relate"&&_.include(i,e.name)))},getFieldNames(e){if(!this.module){return[]}let t=app.metadata.getModule(this.module,"mergedFields")||[];const n=this._getRelationshipFields();if(this.model instanceof app.Bean){if(this.model.canHaveAttachments()){t.push("attachment_list")}}t=_.union(t,_.pluck(n,"name"));if(e){t=_.filter(t,e=>{const t=this._getFieldViewDef(e);if(_.isEmpty(t)){return false}return t.type!=="fieldset"&&this.canDisplay(t)},this)}return t},_getFieldViewDef(e){let t;_.find(this.meta.panels[0].fields,n=>{if(n.name===e){t=n}else if(!_.isEmpty(n.fields)){t=_.find(n.fields,t=>t.name===e)}return t});return t},isEditView(){return false},onAfterRender(){},onAfterShow(){if(this.collection){n(57).hideSyncAlert()}},onBeforeRender(){},handleLinkClick(e){const t=n(3);if(e.defaultPrevented){return}const i=e.target.tagName.toLowerCase()==="a"?e.target:e.currentTarget;const a=i.getAttribute("href");if(/^#.*/.test(a)){e.preventDefault();e.stopPropagation();app.controller.navigate(a,{initiator:this.navigationName})}else if(t.urlHasProtocolRegExp.test(a)){e.preventDefault();n(6).openUrl(a)}},abortActiveRequests(){return false},onDetachFromDom(){},propagateComponentAction(e){this.trigger(this.ACTION_NAME,e)},handleComponentAction(e,t){const n=this[e];if(_.isFunction(n)){n.call(this,t)}},dispose(){this.trigger("view:dispose",this);this._super()}});if(window.JASMINE===true){app.view.NomadView=s}e.exports=s},function(e,t,n){const{escapeRegExp:i}=n(3);const{saveUser:a}=n(125);const{getHashCode:r}=n(3);const s=n(22);const o=n(12);const l=n(14);const c=n(4);const u=n(20);const d=n(49);const f=n(85);const{updateOfflineUserSetting:p}=n(31);const h={_loginConfigs:{},_currentConfigId:null,kLoginConfig:"loginManager:loginConfigs",kCurrentConfig:"loginManager:currentConfigId",kIdmConfig:"loginManager:idmConfig",kTempConfig:"loginManager:tempConfig",LoginSettingsErrorCode:{OTHER_HTTP_ERROR:1,SSL_AVAILABLE:2,SSL_NOT_SUPPORTED:4,SSO_NOT_SUPPORTED:8},resetUserSettingsEvent:"user:reset_settings",init(){this._fetchLoginConfig();if(!app.isNative){if(this._loginConfigs.default.siteUrl!==app.config.siteUrl){this._resetLoginSettings();this._fetchLoginConfig()}}this.applyLoginSettings();this.registerGlobalEvents()},registerGlobalEvents(){app.events.unregister(app,this.resetUserSettingsEvent);app.events.register(this.resetUserSettingsEvent,app)},_resetLoginSettings(){this.resetTempSetting();this._currentConfigId=null;l.removeSetting({store:l.Stores.SETTINGS,name:this.kCurrentConfig});this._loginConfigs={};l.removeSetting({store:l.Stores.SETTINGS,name:this.kLoginConfig});l.removeSetting({store:l.Stores.SETTINGS,name:this.kIdmConfig})},verifyRegularLogin(e){app.api.ping(null,{success:()=>{e()},error:e})},verifyExternalLogin(e){app.api.handleExternalLogin=this.handleExternalLogin;app.api.ping(null,{complete:e,error:e=>{if(e.status===401){app.error.handleExternalLoginNotAvailable()}else{app.error.handleHttpError(e)}}})},_getIDMAuthUrl(e){if(!app.isNative){return e(new Error("Currently IDM login isn't supported for web platform."))}app.api.getMetadata({types:["config"],public:true,callbacks:{success:t=>{const n=_.pick(t.config,"idmModeEnabled","tenant","stsUrl");if(!n.stsUrl){return e(new Error("The server doesn't support IDM login"))}const i=n.stsUrl+app.config.loginSettings.idm.stsKnownConfigUrlSuffix;$.ajax({url:i,dataType:"json",error:()=>{e(new Error(`Unable to get IDM auth and token endpoints.`))},success:t=>{_.merge(n,_.pick(t,"authorization_endpoint","token_endpoint"));const i=String(Date.now());n.state=i;const a=app.config.loginSettings.idm;const r={state:i,tenant_id:n.tenant,tenant_hint:n.tenant,client_type:a.clientType,client_id:a.clientId,client_secret:a.clientSecret,response_type:a.responseType,approval_prompt:a.approvalPrompt,redirect_uri:a.redirectUri,scope:encodeURI(a.scope.join(" "))};const s=`${n.authorization_endpoint}?${Object.keys(r).map(e=>`${e}=${r[e]}`).join("&")}`;l.setSetting({store:l.Stores.SETTINGS,name:this.kIdmConfig,value:n});this.setTempSetting({isIdm:true});e(null,{url:s,state:i})}})},error:e}})},verifyLoginSettings(e=_.noop){const t=app.loginManager.getTempSetting();let n;const a=e=>{const t=/^https:\/\//i;const n=t.test(e);if(!$.os.ios||!app.config.localProxyPort||!app.config.localProxyCORSPrefix){return n}const a=i(`http://localhost:${app.config.localProxyPort}${app.config.localProxyCORSPrefix}`);const r=new RegExp(`${a}(.*)`);if(!r.test(e)){return n}const s=e.match(r)[1];return t.test(s)};app.api.handleExternalLogin=((i,r)=>{if(a(r.request.xhr.responseURL)!==t.useHttps){n=t.useHttps?this.LoginSettingsErrorCode.SSL_NOT_SUPPORTED:this.LoginSettingsErrorCode.SSL_AVAILABLE}e(n,r)});const r=i=>{if(i.status!==401){n|=this.LoginSettingsErrorCode.OTHER_HTTP_ERROR;return e(n,i)}n|=t.isSSO?this.LoginSettingsErrorCode.SSO_NOT_SUPPORTED:0;if(a(i.request.xhr.responseURL)!==t.useHttps){n|=t.useHttps?this.LoginSettingsErrorCode.SSL_NOT_SUPPORTED:this.LoginSettingsErrorCode.SSL_AVAILABLE}e(n,i)};this._getIDMAuthUrl((t,n)=>{if(t){this.setTempSetting({isIdm:false});return this.verifyRegularLogin(t=>{if(t){r(t)}else{return e()}})}this._navigateToIDMAuthUrl({url:n.url,state:n.state,redirectUri:app.config.loginSettings.idm.redirectUri,callback:(t,n)=>{if(t){if(t.code===window.plugins.childBrowser.ABORTED_CODE){app.alert.show("idm_aborted",{level:"warning",autoClose:true,messages:"You need to login and accept permissions to be able to work with SugarCRM instance."})}return e(t)}this._handleIdmAuthCode(n,e)}})})},_handleIdmAuthCode(e,t=_.noop){const n=l.getSetting({store:l.Stores.SETTINGS,name:this.kIdmConfig});t();o.show("idm_login",{templateOptions:{spinner:true,tint:true,message:"LBL_MOBILE_WAIT"}});$.ajax({type:"POST",url:n.token_endpoint,data:{grant_type:"authorization_code",code:e,redirect_uri:app.config.loginSettings.idm.redirectUri,client_id:app.config.loginSettings.idm.clientId,client_secret:app.config.loginSettings.idm.clientSecret},dataType:"json",error:()=>{app.alert.show("idm_get_token_error",{level:"error",autoClose:true,messages:"Unable to get tokens."})},success:e=>{const t=app[app.config.authStore];t.set("AuthAccessToken",e.access_token);t.set("AuthRefreshToken",e.refresh_token);t.set("DownloadToken",e.access_token);app.trigger("app:login:success")},complete:()=>{o.hide("idm_login")}})},handleLoginSuccess(){const e=this.getSetting();this._commitTempSetting();this._resetUserSettings(e)},handleSyncComplete(){this._commitTempSetting();if(app.api.isExternalLogin()){this.setSetting({loginName:app.user.get("user_name")})}},handleAppUpgrade(){this._readDefaultConfig();const e=["setupBuddy"];_.each(_.keys(this._loginConfigs),t=>{this._loginConfigs[t]=_.omit(this._loginConfigs[t],e)});l.setSetting({store:l.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs});this.applyLoginSettings(this.getTempSetting())},handleAuthTokens(){},logout(e={}){e.clear=e.clear=="1";app.activeComponents.closeAll();o.show("logout",{templateOptions:{spinner:true,tint:true,message:"LBL_MOBILE_WAIT"}});app.logout({success:(e={})=>{if(app.api.isExternalLogin()&&e.url){this.handleExternalLogout(e.url)}},complete:()=>{if(e.clear||e.resetRoute){app.controller.navigate("#")}this.resetRestVersion();app.router.login()}},e.clear,{timeout:app.config.loginSettings.logoutTimeout})},applyLoginSettings(e){e=e||this.getSetting();app.config.siteUrl=e.siteUrl;app.api.serverUrl=this.getServerUrl();app.api.setExternalLogin(e.isSSO);app.logger.debug("Applying login config");app.logger.debug(`Site URL: ${app.config.siteUrl}`);app.logger.debug(`Server URL: ${app.api.serverUrl}`)},getRestVersion(){return this.getSetting("restVersion")||app.config.restVersion},resetRestVersion(){this._setRestVersion(app.config.restVersion)},updateRestVersion(){const e=_.clone(app.config.serverRestVersion);let t;const n=_.keys(e).sort((e,t)=>app.utils.versionCompare(t,e,">"));_.each(n,n=>{if(!t&&app.utils.versionCompare(app.metadata.getServerInfo().version,n,">=")){t=e[n]}});t=t||app.config.restVersion;this._setRestVersion(t)},getServerUrl(){let e="";if($.os.ios&&window.webkit&&window.webkit.messageHandlers&&app.config.localProxyPort&&app.config.localProxyCORSPrefix){e=`http://localhost:${app.config.localProxyPort}${app.config.localProxyCORSPrefix}`}return`${e}${app.config.siteUrl}/rest/v${this.getRestVersion()}`},_setRestVersion(e){this.setSetting({restVersion:e});app.api.serverUrl=this.getServerUrl()},getSetting(e){const t=this._loginConfigs[this._currentConfigId]||{};return e?t[e]:t},setSetting(e,t){if(_.isObject(e)){_.extend(this._loginConfigs[this._currentConfigId],e)}else{this._loginConfigs[this._currentConfigId][e]=t}l.setSetting({store:l.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs})},removeSetting(e){delete this._loginConfigs[this._currentConfigId][e];l.setSetting({store:l.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs})},getTempSetting(){const e=l.getSetting({store:l.Stores.SETTINGS,name:this.kTempConfig})||_.clone(this.getSetting());const t=["loginName","loginUrl","isIdm","isSSO","useHttps","siteUrl"];_.each(e,(n,i)=>{if(!_.contains(t,i)){delete e[i]}});return this._buildLoginConfig(e)},setTempSetting(e){let t=this.getTempSetting();t=this._buildLoginConfig(_.extend(t,e));t=_.omit(t,e=>_.isUndefined(e)||e==="");l.setSetting({store:l.Stores.SETTINGS,name:this.kTempConfig,value:t});return t},_commitTempSetting(){let e=l.getSetting({store:l.Stores.SETTINGS,name:this.kTempConfig});if(e){this.resetTempSetting();e.loginTS=_.now();e=this._buildLoginConfig(e);this._currentConfigId=this._addToSettings(e);l.setSetting({store:l.Stores.SETTINGS,name:this.kCurrentConfig,value:this._currentConfigId});this.applyLoginSettings()}},resetTempSetting(){l.removeSetting({store:l.Stores.SETTINGS,name:this.kTempConfig})},prepareReconfigure(e={}){const t=this._getOptionValue(e.loginName,"");const n=this._getOptionValue(e.serverUrl,"");const i=this._getOptionBoolValue(e.ssoOption,app.config.loginSettings.externalLoginOnly);const a=this._getOptionBoolValue(e.useHttps,app.config.loginSettings.useHttps);let r={loginName:t,loginUrl:n,isSSO:i,useHttps:a};app.logger.debug(`Reconfiguring the client with ${JSON.stringify(r)}`);if(!this._isUrlWhitelisted(n)){app.logger.warn(`Configured server URL ${n} is not whitelisted.`);return}r=this._buildLoginConfig(r);return r},reconfigure(e,t=_.noop){this.resetTempSetting();const n=this.getSetting();const i=this.prepareReconfigure(e);if(!i){t();return}const a=this.setTempSetting(i);const r=n.id!==a.id;if(app.api.isAuthenticated()){if(r){c.showActionSheet([app.lang.get("LBL_MOBILE_RELOGIN_BUTTON"),app.lang.get("LBL_LATER")],{title:app.lang.get("LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM"),onSelectCb:e=>{u.resetCredentials();if(e=="0"){app.logout({complete:()=>{this.runLogin(t)}},true)}else{t()}},onCancelCb:()=>{this.resetTempSetting();t()}})}else{t()}}else{this.runLogin(t);if(r){app.alert.show("login_settings",{level:"info",messages:app.lang.get("LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM"),autoClose:true,closable:true})}}},runLogin(e=_.noop){const t=app.controller.layoutManager.getRootLayout();if(t&&t.name==="login"){const{model:n}=t;if(n){n.set("password","")}t.render();e()}else{app.router.login();_.delay(()=>{e()},1e3)}},_readDefaultConfig(){return this._addToSettings(this._buildLoginConfig({id:"default",loginName:"",loginUrl:this._getOptionValue(app.config.loginSettings.defaultServerUrl,""),siteUrl:app.config.siteUrl,isSSO:app.config.loginSettings.externalLoginOnly,useHttps:app.config.loginSettings.useHttps}))},_fetchLoginConfig(){this._currentConfigId=l.getSetting({store:l.Stores.SETTINGS,name:this.kCurrentConfig});this._loginConfigs=l.getSetting({store:l.Stores.SETTINGS,name:this.kLoginConfig})||{};if(!this._currentConfigId){this._currentConfigId=this._readDefaultConfig();l.setSetting({store:l.Stores.SETTINGS,name:this.kCurrentConfig,value:this._currentConfigId});let{useHttps:e}=app.config.loginSettings;const t=l.getSetting({store:l.Stores.SETTINGS,name:"siteUrl"})||app.config.siteUrl;if(/^https?:\/\//.test(t)){e=/^https:\/\//.test(t)}const n={loginName:l.getSetting({store:l.Stores.SETTINGS,name:"loginName"}),loginUrl:l.getSetting({store:l.Stores.SETTINGS,name:"loginUrl"}),siteUrl:app.config.siteUrl,useHttps:e,isSSO:app.config.loginSettings.externalLoginVisible&&l.getSetting({store:l.Stores.SETTINGS,name:"externalLogin"}),fontSize:l.getSetting({store:l.Stores.SETTINGS,name:"fontSize"})};this.setTempSetting(n);l.removeSetting({store:l.Stores.SETTINGS,name:["loginName","loginUrl","siteUrl","useHttps","fontSize","externalLogin","setupBuddyDone"]})}},_buildSettingsId({isSSO:e,siteUrl:t="",loginName:n=""}){const i=[t,e?"":n];return String(Math.abs(r(i.join(":"))))},_addToSettings(e){this._loginConfigs[e.id]=_.extend(this._loginConfigs[e.id]||{},e);if(_.size(this._loginConfigs)-1>app.config.loginSettings.loginSettingsLimit){this._loginConfigs=_.pick(this._loginConfigs,_.chain(this._loginConfigs).omit("default").sortBy(e=>e.loginTS).last(app.config.loginSettings.loginSettingsLimit).pluck("id").value(),"default")}l.setSetting({store:l.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs});return e.id},_buildLoginConfig(e){const t=this._loginConfigs.default||{};const n=_.extend({},t,e);if(e.loginUrl&&app.isNative){n.siteUrl=this._normalizeUrl(n.loginUrl,n.useHttps)}if(!app.isNative){n.loginUrl=""}if(e.id!=="default"){n.id=this._buildSettingsId(n)}return n},cleanStores(e=_.noop){const t=[];_.each(app.nomad.stores,e=>{t.push(_.bind(e.cutAll,e))});asyncLib.parallel(t,e)},_resetUserSettings(e){const{setFontSize:t}=n(13);const{reset:i}=n(26);const r=app.cache.get(l.Stores.SETTINGS);const o=this.getSetting();const c=e.id!==o.id||e.loginName!==o.loginName&&o.isSSO;app.events.trigger(this.resetUserSettingsEvent,{reset:c});if(c){d.resetPref();l.cleanStore({store:l.Stores.LAST_STATE});i();const e=[this.kLoginConfig,this.kCurrentConfig,u.kLocalSecurityConfigKey];_.each(r,(t,n)=>{if(!_.contains(e,n)){delete r[n]}});app.cache.set(l.Stores.SETTINGS,r);app.cache.cut("lang");app.user.clear();a();this.cleanStores();s.cleanDashboardsCache();f.cleanCache();u.resetCredentials();t(o.fontSize)}p(c);if(r.default_view==="Recents"){l.removeSetting({store:l.Stores.SETTINGS,name:"default_view"})}},_getOptionBoolValue(e,t){const n=this._getOptionValue(e,t);if(n===t){return n}if(n==="1"){return true}else if(n==="0"){return false}return t},_getOptionValue(e,t){let n=t;if(!_.isUndefined(e)){e=String(e);n=_.isEmpty(e)?t:e}return n},_isUrlWhitelisted(e){const t=app.config.deepLinking.configUrlWhiteList;return _.isEmpty(t)||Boolean(_.find(t,t=>new RegExp(t).test(e)))},_normalizeUrl(e,t){e=e.trim();const n=/^no-ssl:\/\//.test(e);if(!n&&!/^https?:\/\//.test(e)){e=`http://${e}`}if(t&&!n&&e.indexOf("http://")===0){e=`https:${e.substr(5)}`}if(e.indexOf("no-ssl://")===0){e=`http://${e.substr(9)}`}return e.replace(/\/+$/,"")}};app.augment("loginManager",h,false);e.exports=h},function(e,t,n){const i=n(1);const a=n(13);const r=n(22);const s=n(56);const o=n(88);const l=n(38);const c=n(5);const u=n(141);const{isComponentChildOf:d}=n(3);const f=[];const p=[];const h=[];e.exports={registerRecordAction:function e(t){t.custom=true;p.push(t)},registerRoutes(e,t){if(o.started){s.addRoutes(e)}else{app.events.once("app:init",()=>{s.addRoutes(e,t)})}},getCustomActions:function e(){return p},getCustomFields:function e(){return f},registerMainMenuItem:function e(t){if(!t.route){t.route=app.utils.generateUUID()}h.push(t)},getCustomMainMenuItems:function e(){return _.select(h,e=>_.isFunction(e.isVisible)?e.isVisible():true)},registerListItemDataProvider(e){u.add(e)},setConfigOverrideFn(e){if(a.overrideConfig){throw new Error("overrideConfig function is already set.")}else{a.overrideConfig=e}},extend(e,t,n){return i.extendComponent({parent:e},t,n)},register(e,t={}){if(d(l,e)){r.registerDashlet(t.metadataType,e);i.registerComponent(_.extend({cmp:e,baseType:t.metadataType},t))}else if(d(c,e)){i.registerComponent({baseType:t.metadataType,module:t.module,cmp:e});f.push(t.metadataType)}else{i.registerComponent(_.extend({cmp:e},t))}}}},function(e,t,n){const i=n(1);const a=n(8);const r=i.extendComponent(a,{_stringType:"static",loadData(e){}});e.exports=r},function(e,t){const n={};e.exports={show(e,t={}){if(n[e]){return false}const i=_.extend({template:"overlay-default",$appendTo:app.$rootEl},t);const a=$(app.template.get(i.template)(i.templateOptions));i.$appendTo.append(a);app.logger.trace(`Overlay show: ${e}`);a.showElement();n[e]={params:i,$el:a}},hide(e,t={}){const i=n[e];if(i){const{$el:n}=i;app.logger.trace(`Overlay hide: ${e}`);if(t.animate){n.animate({opacity:"0"},500,"ease",()=>{n.remove()})}else{n.remove()}}delete n[e]},hideAll(){_.each(n,({$el:e},t)=>{if(e){e.remove();delete n[t]}})},isActiveGlobal(){return _.any(n,e=>e.params.$appendTo===app.$rootEl)}}},function(e,t,n){const i=n(3);const a=n(1);const r=n(6);const s=n(50);const o=n(4);const l=n(24);const c=n(315);const u=n(25);const d=n(49);const f=n(31);const p=n(88);const h=n(12);const m=n(9);let g;const v=document.getElementById("viewport-meta");const b={default:v?v.getAttribute("content"):null};app.lang.DIRECTION_RTL="rtl";app.lang.DIRECTION_LTR="ltr";const y={timePaused:0,globalEvents:["app:orientation:changed","nativeMessage","app:upgraded","app:dashboards:changed"],_syncedAppStart(){const e=()=>{_.delay(()=>{h.hide("app:sync",{animate:true})},300);app.cache.set("app:synced","1");app.nomad.setHTMLDirection();if(app.supportedFeatures.dashboards&&!app.nomad.dashboards.isStarted()){app.nomad.dashboards.start();app.nomad.dashboards.fetchDashboards({notifyIfChanged:true})}app.nomad.startApp()};f.start().finally(()=>e())},startApp(){this.initMainMenu();if(app.started){app.navigation.history.clear();app.router.refresh()}else{app.start()}if(app.isSynced){if(this.nativeFileImportInfo){this.navigateFileImport(this.nativeFileImportInfo);this.nativeFileImportInfo=null}else{r.getImportedFileInfo((e={})=>{this.onFileImportEvent(e)})}}},deviceReady(){app.isNative=!_.isUndefined(window.cordova);app.isTouchCapable="ontouchstart"in window;i.augmentZeptoDetect(app.isNative);if(_.isFunction(app.nomad.overrideConfig)){app.nomad.overrideConfig(app.config)}app.nomad.initNavigation();if(!app.nomad._isPlatformSupported()){app.error.handleNotSupportedPlatform();return}if(app.config.nativeRedirectEnabled){r.redirectToNativeApp()}app.nomad._computeMode();app.clientInfo={app:{name:app.config.appId,rebrandName:app.config.appName,version:l.getNomadVersion(),sdkVersion:l.getSdkVersion(),isNative:app.isNative},device:null,browser:_.extend($.browser,{userAgent:navigator.userAgent})};app.nomad.initSupportedFeatures();asyncLib.waterfall([e=>{const t={name:`store-${app.config.appId}-${app.config.env}`,native:app.isNative,encrypt:app.config.keyValueStoreEncryptionEnabled,forceEncryption:app.config.keyValueStoreEncryptionEnabled};const n={name:"ac",async:false};const a=app.config.keyValueStore==="sqlKeyValueStore"?"localStorageKeyValueStore":"sqlKeyValueStore";const r=app.supportedFeatures.webSqlSupported?app.config.keyValueStore:"localStorageKeyValueStore";app.nomad.stores={};app.keyValueStore=app[r];app.keyValueStore.open(t);if(app.supportedFeatures.webSqlSupported){app[a].open(t)}asyncLib.parallel([function e(t){if(app.supportedFeatures.webSqlSupported){asyncLib.parallel({oldBucket:function e(t){app[a].initBucket(n,t)},newBucket:function e(t){app.keyValueStore.initBucket(n,t)}},(e,n)=>{if(!e){i.migrateKeyValueStore(n.newBucket,n.oldBucket);app.cache.store=n.newBucket}t(e)})}else{t()}},function e(t){app.keyValueStore.initBucket({name:"dashlet_data",async:true},(e,n)=>{if(!e){app.nomad.stores.dashlets=n}t(e)})},function e(t){app.keyValueStore.initBucket({name:"filters",async:false},(e,n)=>{if(!e){app.nomad.stores.filters=n}t(e)})}],t=>{e(t)})},e=>{app.nomad.preInit(app.clientInfo,e)},()=>{app.nomad.start()}],e=>{if(e){app.logger.fatal(`Failed to init the app: ${e}`);o.showAlert(app.lang.get("ERR_INTERNAL_ERR_MSG"),{title:app.lang.get("ERR_GENERIC_TITLE")})}});if(!app.isNative&&$.os.android&&$.smartbanner){$.smartbanner({layer:true})}},_computeMode(){const e=window.devicePixelRatio||1;const t=window.screen.width;const n=window.screen.height;const i=$.os.ios&&(t*e===1125&&n*e===2436||t*e===2436&&n*e===1125);app.isTablet=app.config.deviceMode.type==="tablet"||app.config.deviceMode.type==="auto"&&!i&&(t>=768||n>=768);app.isNarrowTabletMode=app.isTablet&&(t<602||n<602);if(app.isTablet){$(document.body).removeClass("mobile");$(document.body).addClass("tablet");if(app.isNarrowTabletMode){$(document.body).addClass("narrow-tablet-mode")}}else{$(document.body).removeClass("tablet narrow-tablet-mode");$(document.body).addClass("mobile")}if($.os.desktop){$(document.body).addClass("desktop")}},_checkTrial(){if(!app.config.trialUntil||new Date<new Date(app.config.trialUntil)){return}const e=function(e){const t=[app.lang.get("LBL_TRIAL_PERIOD_EXPIRED")];if(e){t.push({callback:e})}o.showAlert(...t)};const t=_.bind(e,null,null);const n=a.getViewClass("login");n.prototype.login=t;n.prototype.externalLogin=t;this._checkTrial=_.noop;e(()=>{app.router.logout()})},start(){this.computeOrientation();app.logger.debug(`Client: ${JSON.stringify(app.clientInfo)}`);$.__swipeHelper.init();if(app.config.keyValueStore==="localStorageKeyValueStore"||!app.supportedFeatures.webSqlSupported){try{const e=`${app.config.env}:${app.config.appId}:settings`;const t=window.localStorage.getItem(e);if(t&&t[1]==="'"){window.localStorage.setItem(e,t.replace(/'/g,'"'))}}catch(e){}}app.init({el:"#nomad"});app.loginManager.handleAuthTokens();app.api.debug=app.config.debugSugarApi;app.api.setRefreshTokenSuccessCallback(e=>{e()});app.telephony.clearCallLog();r.removeCachedDoc();this.setFontSize(app.loginManager.getSetting("fontSize"));_.each(this.globalEvents,e=>{app.events.register(e,app)});app.logger.debug(`App started in ${app.isNative?"native shell":"browser"}`);document.addEventListener("pause",_.bind(this.onPause,this),false);document.addEventListener("resume",_.bind(this.onResume,this),false);document.addEventListener("memoryWarning",_.bind(this.onMemoryWarning,this),false);document.addEventListener("backbutton",_.bind(this.onBackButtonClicked,this),false);document.addEventListener("onFileImportEvent",_.bind(this.onFileImportEvent,this),false);window.addEventListener("orientationchange",_.bind(this.onOrientationChange,this),false);app.events.on("router:start",()=>{this._checkTrial()});if(app.isSynced){this._syncedAppStart()}else{app.start()}},initSupportedFeatures(){app.supportedFeatures={fileUpload:function e(){const{version:t}=$.os;if(t){if($.os.ios){return app.utils.versionCompare(t,"6",">=")}else if($.os.android){return app.utils.versionCompare(t,"4.0.3",">=")}}return true}(),menuAnimation:function e(){if($.os&&$.os.version){return!($.os.android&&app.utils.versionCompare($.os.version,"4.0.3","<"))}return true}(),emails:false,bulkApi:false,recents:false,offline:false,fileUploadForDocs:false,fts:false,productsModule:false,dashboards:false,pdfDownload:false,configurableSavedReportsChart:false,settingsDefaultView:false,enumViaActionSheet:false,filters:false,populateList:false,localSecurityServerSupport:false,createRelatedRLIWarn:false,leadConversion:false,webSqlSupported:(()=>{let e=true;try{window.openDatabase("test",1,"test",1);if(!app.isNative&&$.os.ios&&app.utils.versionCompare($.os.version,"11","<")){window.localStorage.setItem("test",1)}}catch(t){e=false}return e})()}},updateSupportedFeatures(e){let t=app.metadata.getServerInfo();if(_.isEmpty(t)){if(e){t=e.server_info}else{t={}}}app.supportedFeatures.enhancedQuotes=app.utils.versionCompare(t.version,"7.11",">=");app.supportedFeatures.offline=app.offline&&app.offline.isSupported(t);app.supportedFeatures.fts=t.fts&&t.fts.enabled;app.supportedFeatures.productsModule=t.isSevenUp;app.supportedFeatures.dashboards=app.config.dashboards.enabled&&app.utils.versionCompare(t.version,app.config.dashboards.minServerVersion,">=");app.supportedFeatures.shareableDashboards=app.supportedFeatures.dashboards&&app.utils.versionCompare(t.version,"7.10",">=");app.supportedFeatures.pdfDownload=app.isNative&&app.utils.versionCompare(t.version,"8.3",">=");const n=app.config.dashboards.dashlets["activitystream-dashlet"];app.supportedFeatures.activities=Boolean(n)&&app.utils.versionCompare(t.version,n.minServerVersion,">=");app.supportedFeatures.emails=app.utils.versionCompare(t.version,"7.11",">=")&&!_.isEmpty(_.getNested(e,"modules.EmailParticipants"));if(app.utils.versionCompare(t.version,"7.1.5",">=")){app.supportedFeatures.settingsDefaultView=true}if(app.utils.versionCompare(t.version,"7.2",">=")){app.supportedFeatures.recents=true;app.supportedFeatures.filters=true;app.supportedFeatures.populateList=true}if(app.utils.versionCompare(t.version,"7.2.1",">=")){app.supportedFeatures.bulkApi=true;app.supportedFeatures.fileUploadForDocs=true}if(app.utils.versionCompare(t.version,"7.6.0.0RC1",">=")){app.supportedFeatures.configurableSavedReportsChart=true}app.supportedFeatures.leadConversion=app.config.leadConversion.enabled&&app.utils.versionCompare(t.version,app.config.leadConversion.minServerVersion,">=");if(app.isNative&&$.os.tablet&&$.os.ipad&&app.utils.versionCompare($.os.version,"8",">=")){app.supportedFeatures.enumViaActionSheet=true}if(app.utils.versionCompare(t.version,app.config.localSecurity.minServerVersion,">=")){app.supportedFeatures.localSecurityServerSupport=true}if(app.utils.versionCompare(t.version,app.config.teamBasedAcl.minServerVersion,">=")){app.supportedFeatures.teamBasedAclServerSupport=true}if(_.contains(["ENT","ULT"],t.flavor)){app.supportedFeatures.createRelatedRLIWarn=_.contains(app.metadata.getModuleNames({filter:["enabled","visible"],access:"edit"}),"RevenueLineItems")}this._patchConfig()},updateServerInfo(){app.serverInfo=app.metadata.getServerInfo();this.updateSupportedFeatures()},_patchConfig(){if(app.supportedFeatures.productsModule){app.config.modules.unsupportedModules=_.without(app.config.modules.unsupportedModules,"Products")}else if(!_.contains(app.config.modules.unsupportedModules,"Products")){app.config.modules.unsupportedModules.push("Products")}if(app.supportedFeatures.fileUploadForDocs){app.config.modules.nonCreatableModules=_.without(app.config.modules.nonCreatableModules,"Documents")}else if(!_.contains(app.config.modules.nonCreatableModules,"Documents")){app.config.modules.nonCreatableModules.push("Documents")}},resetMeta(e,t){const n=app.cache.get("app:build")!==app.config.appBuild;const i=e||!app.config.cacheMeta||n;const a=app.metadata.getHash();if(i){app.logger.debug("Resetting meta");app.metadata.clearCache();app.cache.cut("user");const t=JSON.parse(JSON.stringify(app.baseMetadata));if(!e&&a&&!n){t._hash=a}app.metadata.set(t,false,true);app.cache.set("app:build",app.config.appBuild);app.events.trigger("app:upgraded");app.loginManager.handleAppUpgrade()}if(i||t){app.cache.set("app:synced","0")}app.isSynced=!t&&!i&&app.config.cacheMeta&&app.cache.get("app:synced")==="1";app.logger.debug(`App is synced: ${app.isSynced}`)},onPause(e){app.logger.debug("App was paused");app.logger.debug(e);this.timePaused=(new Date).getTime();_.each(app.modules,e=>{if(_.isFunction(e.onAppPause)){e.onAppPause()}});app.controller.layoutManager.onAppPause()},onResume(e){const t=((new Date).getTime()-(this.timePaused||0))/1e3;app.logger.debug(`App resumed: ${t}`);app.logger.debug(e);_.each(app.modules,e=>{if(_.isFunction(e.onAppResume)){e.onAppResume()}});if(app.isSynced&&d.isActive()){d.resume(app.nomad._syncedAppStart)}app.controller.layoutManager.onAppResume();_.delay(()=>{const e=g;if(e!==app.nomad.computeOrientation()){app.trigger("app:orientation:changed",window.orientation)}},1e3)},onMemoryWarning(){app.controller.clean();app.logger.warn("App received memory warning");app.analytics.trackEvent({category:"device",action:"low-memory"})},onBackButtonClicked(){app.analytics.trackEvent({category:"device",action:"back"});if(h.isActiveGlobal()){return}app.nomad.dismissAlerts();if(document.activeElement){document.activeElement.blur()}app.controller.handleBackButton()},onOrientationChange(){const e=$("body");if(app.isTablet&&document.activeElement){document.activeElement.blur()}e.addClass("rotate");_.delay(()=>{e.removeClass("rotate");if($.os.ios&&app.utils.versionCompare($.os.version,"7",">=")){window.scrollTo(0,window.scrollY)}this.computeOrientation();app.analytics.trackEvent({category:"orientation",action:window.orientation});app.trigger("app:orientation:changed",window.orientation)},1e3)},computeOrientation(){if(app.isTablet&&(app.config.deviceMode.landscape||app.config.deviceMode.portrait)){if(app.config.deviceMode.landscape){g="landscape"}if(app.config.deviceMode.portrait){g="portrait"}}else if($.os.ios){g=window.orientation===90||window.orientation===-90?"landscape":"portrait"}else{g=document.body.clientWidth>document.body.clientHeight?"landscape":"portrait"}let e;if($.os.ios){if(g==="portrait"){e=window.screen.height-window.innerHeight}else{e=window.screen.width-window.innerHeight}}else{e=0}b.landscape=`, height=${window.screen.width-e}`;b.portrait=`, height=${window.screen.height-e}`;if(g==="landscape"){if($.os.ios&&app.isTablet){v.setAttribute("content",b.default+b.landscape)}$("html").removeClass("portrait").addClass("landscape")}else{if($.os.ios&&app.isTablet){v.setAttribute("content",b.default+b.portrait)}$("html").removeClass("landscape").addClass("portrait")}return g},getOrientation(){return g},dismissAlerts(){app.alert.dismissAll("success");app.alert.dismissAll("error")},canCreateModule(e){const t=app.metadata.getModuleNames({filter:["visible"],access:"create"});return _.contains(t,e)&&!_.include(app.config.modules.nonCreatableModules,e)},canCreateRelated(e,t,n){return this.canCreateModule(e)&&s.getSubpanel(t,n).creatable},canLinkRelated(e,t){return s.getSubpanel(e,t).linkable},canUnlinkRelated(e,t){return s.getSubpanel(e,t).unlinkable},configure(e){const{serverUrl:t,pageUrl:n}=e;if(t){app.analytics.trackEvent({category:"deeplink",action:"server",value:null,label:null})}if(n){app.analytics.trackEvent({category:"deeplink",action:"page",value:null,label:null})}const i=()=>{const e=n.replace("#","")||app.router.DEFAULT_ROUTE;app.controller.navigate({url:e,initiator:u.CONFIGURE})};if(app.isNative&&_.isEmpty(t)||_.isEmpty(t)&&!_.isEmpty(n)){i();return}app.loginManager.reconfigure(e,()=>{i()})},updateAuthStore(){if(app.isNative){app.keychain.oauth["meta:hash"]=app.metadata.getHash();app.keychain.oauth["userpref:hash"]=app.user.get("_hash")}},getFileOptions(){const e=!_.isEmpty(app.api.getDownloadToken());return{htmlJsonFormat:false,iframe:false,passOAuthToken:!e,passDownloadToken:e}},configureSugarLogic(){const e=a.getViewClass("edit");const t=a.getViewClass("record-card");const n=a.getViewClass("record-summary");const i=a.getViewClass("inner-list");if(app.isSynced){const a=[e,t,i,n];_.each(a,e=>{const{plugins:t}=e.prototype;const n=t.indexOf("SugarLogic");const i=n!==-1;if(app.config.sugarLogic.enabled&&!i){t.push("SugarLogic")}else if(!app.config.sugarLogic.enabled&&i){t.splice(n,1)}})}},setFontSize(e){const t=e||app.config.ui.defaultFontSize;document.documentElement.style.fontSize=`${app.config.ui.fontSizes[t]}px`},setHTMLDirection(){const e=app.user.getPreference("language")||app.cache.get("lang");const t=["ar_SA","he_IL"];const n=_.contains(t,e)||app.config.ui.rtl||false;$("html").toggleClass("rtl",n);app.lang.direction=n?app.lang.DIRECTION_RTL:app.lang.DIRECTION_LTR;if(app.nomad.mainMenu){app.nomad.mainMenu.toggleMenu(false,true)}},buildBulkRequest(e={}){const t=`/v${m.getRestVersion()}`;const{params:n}=e;if(e.limit){e.params=e.params||{};n.max_num=e.limit}const i=app.api.buildURL.call({serverUrl:t},e.module,null,e.attributes,e.params);return{url:i,method:e.method||"GET",headers:e.headers,data:e.data}},syncApp(){$("html").addClass("syncApp");app.sync({callback:e=>{const t=()=>{d.show(app.nomad._syncedAppStart);h.hide("app:sync",{animate:true});$("html").removeClass("syncApp")};if(!e){m.updateRestVersion();f.start({migrate:true}).finally(()=>{app.nomad.updateServerInfo();this.manageDashboardsPreload().then(()=>this.managePdfTemplatesPreload(["Quotes"])).then(()=>{t()})})}}})},manageDashboardsPreload(){return new Promise(e=>{if(app.supportedFeatures.dashboards){app.nomad.dashboards.reset();app.nomad.dashboards.start();app.nomad.dashboards.fetchDashboards({notifyIfChanged:false},t=>{if(t){app.logger.error(`Couldn't preload dashboards. Error: ${t}`);o.showAlert(app.lang.get("ERR_MOBILE_DASHBOARDS_FETCHING"))}e()})}else{e()}})},managePdfTemplatesPreload(e){return new Promise(t=>{const n=SUGAR.App.metadata.getModules();const i=_.keys(n);const a=e&&e.length?_.intersection(e,i):i;app.cache.cut("modulePdfTemplates");if(!a.length||!app.supportedFeatures.pdfDownload){return t()}SUGAR.App.api.records("read","PdfManager",null,{max_num:20,filter:[{$and:[{published:"yes"}]}]},{success:e=>{if(!e||!e.records||!e.records.length){return t()}const n={};e.records.forEach(e=>{if(!_.contains(a,e.base_module)){return}if(!n[e.base_module]){n[e.base_module]=[]}n[e.base_module].push(e)});if(!_.isEmpty(n)){app.cache.set("modulePdfTemplates",n)}t()},error(e){app.logger.error(`Failed to load templates from PdfManager: \r\n${e}`);t()}})})},initNavigation(){app.navigation={manager:p,history:new c};Backbone.history=app.navigation.history;app.navigation.manager.init()},initMainMenu(){if(this.mainMenu){this.mainMenu.unbindGlobalEvents()}else{this.mainMenu=app.view.createView({name:a.getViewClass("main-menu"),el:$("#menu-left")})}this.mainMenu.bindGlobalEvents();this.mainMenu.start()},deactivateMainMenu(){if(this.mainMenu){this.mainMenu.unbindGlobalEvents()}},onFileImportEvent(e={}){app.analytics.trackEvent({category:"device",action:"onFileImportEvent"});if(e&&e.fileUrl){if(!app.isSynced||!app.api.isAuthenticated()){this.nativeFileImportInfo=e}else{this.navigateFileImport(e)}}},navigateFileImport(e={}){const t="Notes";if(!(app.metadata.getModule(t)&&app.acl.hasAccess("create",t))){app.alert.show("access_error",{level:"error",messages:app.lang.get("ERR_ACCESS_SPECIFIC_MODULE",null,{module:app.lang.getModuleName(t,{plural:true})}),autoClose:true});if(e.filename){r.removeCachedDoc([{filename:e.filename}])}}else{const n=app.router.buildRoute(t,"create");app.controller.navigate({url:n,data:e,initiator:u.LIST})}}};_.extend(y,a);e.exports=y},function(e,t){e.exports={Stores:{SETTINGS:"settings",LAST_STATE:"lastState"},getSetting({store:e,name:t}){return this.getCachedItem(e)[t]},setSetting({store:e,name:t,value:n}){let i=this.getCachedItem(e);if(_.isObject(t)){i=_.extend({},i,t)}else{i[t]=n}app.cache.set(e,i)},removeSetting({store:e,name:t}){if(!t){return}let n=this.getCachedItem(e);const i=_.isArray(t)?t:[t];n=_.omit(n,i);app.cache.set(e,n)},cleanStore({store:e}){if(!e){return}app.cache.cut(e)},getCachedItem(e){return app.cache.get(e)?app.cache.get(e):{}}}},function(e,t,n){const i=n(13);const{isDirectionLTR:a,isModelSynchronized:r,buildRoute:s}=n(3);const o=n(21);const l=n(1);const c=n(25);const u=n(4);const d=n(77);const f=n(150);const p=n(141);const h=function(e,t){const n=e[t];e[t]=function t(...i){n.apply(e,i);if(this._currentRecordId){this.selectCurrentRecord({modelId:this._currentRecordId})}}};const m=l.extendComponent(d,{_stringType:"list",template:"list",events(){return{"click article .grip":"onGripClick","click .menu-container":"onContextMenuClick","click article":"onItemElementClick","swipeLeft article":"onItemSwipe","swipeRight article":"onItemSwipe","longTap article":"onItemLongTap","click.pagination .show-more-top-btn":"paginateTop","click.pagination .show-more-bottom-btn":"paginateBottom"}},plugins:[],listItemDataProvider:"list-item",listItemTpl:"list-item",contextMenuDisabled:false,multiselect:false,navigationName:c.LIST,isPaginationEnabled:true,isPtrEnabled:true,_offlineDisabled:false,_currentState:null,_isFetchRunning:false,globalEvents:{"offline:data:updated":"_offlineRefetch","offline:collection:read":"_onOfflineCollectionRead"},_offlineRefetch(e,t){const n=this.getCurrentState();const i={};_.extend(i,n,{skipServerSync:true,serverNextOffset:e.serverNextOffset});if(this.collection.query){return}if(this.isCurrentListUpdated(e)){t=_.extend({add:true,reset:!this.collection.getOption("update"),params:i,offset:e.requestParams&&e.requestParams.offset?e.requestParams.offset:0,limit:e.requestParams&&e.requestParams.max_num?e.requestParams.max_num:app.config.maxQueryResult},t);this._applyCollectionFieldsFetchOptions(t);this.collection.fetch(t)}},_onOfflineCollectionRead(e){if(!this.isCurrentListUpdated(e.apiOptions)){return}this._showFetchingMsg(e);if(e.status===app.offline.api.ReadCollectionStatus.FINISH){this.reflowScroller()}const t=e.status===app.offline.api.ReadCollectionStatus.FINISH&&!e.isDataUpdated?!this.collection.length:false;this.$(".no-records-found").toggleElement(t)},initialize(e){this._super(e);this._currentState={};this.listViewId=e.listViewId||`listing-${this.module}`;this.unlinkVisible=false;const t=this.context.get("link");if(t){const e=this.context.get("parentModule");const n=app.metadata.getModule(e,"fields")[t];if(n){this.relationship=app.metadata.getRelationship(n.relationship);this.relateFields=app.data.getRelateFields(e,t)}this.unlinkVisible=i.canUnlinkRelated(e,t)&&_.reduce(this.relateFields,(e,t)=>e&&!t.required,true)}this.modContextData=o.getContextMeta("list");this.bindCollectionEvents();this.initLabels();this._createItemsConfig(e);this.initCurrentRecordHighlighting();this.isListItemSwippable=this.module!=="Activities"&&!this.options.contextMenuOnSwipeDisabled||this.module==="Search"||this.module==="Recents";this.initContextMenu(e);this.initPagination(e);if(this.isPtrEnabled){f({view:this})}else{this.reflowScroller=_.noop}},initContextMenu(e){this.contextMenuOnSwipeDisabled=this.contextMenuDisabled||e.contextMenuOnSwipeDisabled||!app.isNative&&$.os.ios;if(this.contextMenuDisabled){return}this.contextMenu=app.view.createView({name:l.getViewClass("context-menu"),parentView:this})},initCurrentRecordHighlighting(){if(!app.isTablet){return}this._currentRecordId=null;this.listenTo(app,"app:view:change",function e(t){if(t.isDynamic){return}this.selectCurrentRecord(t)});h(this,"onAfterRender")},selectCurrentRecord(e){const t=e.modelId||e.parentModelId;const n=t&&this.options.isRootScreen;this.$el.find(".current").removeClass("current");this._currentRecordId=t;if(n){this.getListItemEl(t).addClass("current")}},_createItemsConfig(e){if(e.itemsConfig){this.itemsConfig=_.extend(this.itemsConfig||{},e.itemsConfig)}this.setListItemDataProvider(e.listItemDataProvider);this.setListItemTpl(e.listItemTpl||(e.meta?e.meta.listItemTpl:null))},setListItemTpl(e){if(e){this.listItemTpl=e}},getListItemTpl(){return this.listItemTpl},setListItemDataProvider(e){if(e){this.listItemDataProvider=e}},getListItemDataProvider(){return this.listItemDataProvider},initLabels(){this.labelNoRecords=app.lang.get("LBL_MOBILE_NO_RECORDS");this.labelShowMoreTop=app.lang.get("LBL_SHOW_MORE");this.labelShowMoreBottom=app.lang.get("LBL_SHOW_MORE")},onBeforeRender(){},getViewContainer(){return this.isPtrEnabled?this.$easyScrollerParent:this.$el},setCurrentState(e){this._currentState=e},getCurrentState(){if(this._currentState.q){this._currentState.filter=null;this._currentState.order_by=null}return this._currentState},_applyCurrentStateParams(e){e=e||{};e.params=e.params||{};_.extend(e.params,this.getCurrentState());this._applyCollectionFieldsFetchOptions(e);return e},_applyCollectionFieldsFetchOptions(e){const t=this.getDisplayFields();const n=_.filter(t,e=>e.isCollection);e.apiOptions=e.apiOptions||{};e.apiOptions.collectionFields=_.pluck(n,"name")},onHeaderClick:function e(){if(this.scroll){this.scroll.scroller.scrollTo(0,0,true)}},onItemAdded(e,t,n){this.$el.find(".no-records-found").hideElement();const i=app.view.getFieldId();const a=Handlebars.helpers.listItems([e],this,{hash:{}});if(n.addTop){this.$(".items").prepend(a.toString())}else{this.$(".items").append(a.toString())}for(let r=i+1;r<=app.view.getFieldId();++r){this._renderField(this.fields[r])}},onItemRemoved(e){this.getListItemEl(e).remove()},getMaxPageSize(){return Math.max(app.config.fetchLimit.maxPageSize,app.config.maxQueryResult)},onDataSyncStart(e,t,n){if(!app.offlineEnabled){this.$(".no-records-found").hideElement()}},onDataSyncSuccess(e,t,n){if(!app.offlineEnabled&&n.method!=="update"&&this.collection.length===0){this.$(".no-records-found").showElement()}if(this.isPaginationEnabled){this._updatePaginationElements()}this.onDataSyncComplete(n.method,n,null,e)},onDataSyncError(e,t,n){this.onDataSyncComplete(e,t,n)},onDataSyncComplete(e,t,n){this.hideContextMenu();if(e==="update"){return}if(n&&n.status===403){const e=app.template.get("list-not-authorized");this.$el.html(e(n))}},onContextMenuClick(e){return false},onGripClick(e){e.preventDefault();e.stopPropagation();const t=this.getModel($(e.currentTarget).closest("article").attr("data-id"));if(this.contextMenu){this.contextMenu.onGripClick(e,t)}},onItemElementClick(e){if(e.isDefaultPrevented()||e.isPropagationStopped()){return}const t=this.getModel($(e.currentTarget).attr("data-id"));this.hideContextMenu();this.trigger("list:item:clicked");this.onItemClick(t,e)},onItemSwipe(e){const t=app.controller.layoutManager.getRecordLayout();if(this.contextMenuOnSwipeDisabled||!app.isTablet||t){return}const n=a();const i=this.getModel($(e.currentTarget).attr("data-id"));if(e.type==="swipeLeft"&&n||e.type==="swipeRight"&&!n){this.contextMenu.onItemSwipeLeft(e,i)}else{this.contextMenu.onItemSwipeRight(e,i)}},onItemLongTap(e){if(this.contextMenuDisabled||this.contextMenu.isItemHasContextMenuOpened(e.currentTarget)||$.__swipeHelper.swipeOrientation!==""||i.isSwiping){return}const t=this.getModel($(e.currentTarget).attr("data-id"));this.contextMenu.onItemLongTap(e,t)},onItemClick(e,t){if(this.options.onItemClick){return this.options.onItemClick(e,t)}if(e&&app.acl.hasAccessToModel("view",e)){const t=this._buildRecordRoute({model:e,hash:{link:this.context.get("link"),appendRoot:true}});if(t){app.controller.navigate(t,{initiator:this.navigationName})}}},getModel(e){const t=m.listItemDataProviders[this.getListItemDataProvider()];e=t.extractId(e);return this.collection.get(e)},loadData(e){e=this._applyCurrentStateParams(e);return this._super(e).catchReturn()},bindViewSyncListener(){this.listenTo(this.collection,"sync",this.publishCollectionSyncData)},unbindViewSyncListener(){this.stopListening(this.collection,"sync",this.publishCollectionSyncData)},publishCollectionSyncData(e,t,n){this.publishSyncData(e.toJSON(),null,n)},getAllSyncableCollections(){return[this.collection]},receiveSyncData(e,t,n){if(e&&e.id){_.each(this.getAllSyncableCollections(),function i(a){this.processCollection(a,e,t,n)},this)}},processCollection(e,t,n,i){const a=e.get(t.id);if(a){if(n&&n.status===404||!n&&i.method==="delete"){e.remove(a)}else if(!n&&!r(a,t)){a.set(t);if(!app.acl.hasAccessToModel("list",a)){e.remove(a)}}}},bindCollectionEvents(){this.listenTo(this.collection,"data:sync:start",function e(t,n){this.onDataSyncStart(t,this.collection,n)});this.listenTo(this.collection,"sync",this.onDataSyncSuccess).listenTo(this.collection,"data:sync:error",this.onDataSyncError).listenTo(this.collection,"reset",this.render).listenTo(this.collection,"add",this.onItemAdded).listenTo(this.collection,"remove",this.onItemRemoved);this.unbindViewSyncListener();this.bindViewSyncListener()},unbindCollectionEvents(){this.stopListening(this.collection)},_dispose(){const e=this.getViewContainer();if(e){e.remove()}if(this.contextMenu){this.contextMenu.dispose()}this._super()},isCurrentListUpdated(e){this.context.get("parentModule");this.context.get("link");if(!(this.collection instanceof app.BeanCollection)||!e){return false}return this.collection.cid===e.cid},setOfflineEnabled(e){this.collection.offlineReadDisabled=!e},setSortByField(){const e=this.getCurrentState();const t=e.order_by?e.order_by.split(":")[0]:null;this.sortBy=null;if(t&&t!=="name"&&t!=="date_modified"){const e=this.modContextData[this.module].additionalListFields;if(_.isEmpty(_.findWhere(e,{name:t}))){const e=app.metadata.getModule(this.module).fields[t];this.sortBy={name:t,type:e.type,label:e.vname}}}},abortActiveRequests(){const{collection:e}=this;let t=false;if(e.getFetchRequest()){this.context.resetLoadFlag();e.abortFetchRequest();t=true}return t},_buildRecordRoute(e){return s(e.model,{hash:e.hash})},getListItemEl(e){let t;let n;if(!_.isObject(e)){e=this.collection.get(e)}if(e){t=m.listItemDataProviders[this.getListItemDataProvider()].buildId(e);n=app.utils.formatString('article[data-id="{0}"]',[t])}return $(this.$(n))},_deleteRecord(e,t){const n=app.lang.get(t?"LBL_MOBILE_UNLINK_CONFIRM":"LBL_MOBILE_DELETE_CONFIRM");this.hideContextMenu();u.showConfirm(n,{callback(n){if(n===2){e.destroy({relate:t,wait:true})}}});return false},onToggleFieldValue(e,t,n){const i=e.get(n);e[t](!i,{error:_.bind(function t(){e.set(n,i);this.hideContextMenu()},this)});this.hideContextMenu()},hideContextMenu(){if(this.contextMenu&&this.contextMenu.isOpened()){this.contextMenu.hide()}},isActionVisible(e){return e.isVisible&&e.isEnabled},initPagination(e){if(e.isPaginationEnabled!==undefined){this.isPaginationEnabled=e.isPaginationEnabled}},_showFetchingMsg(e){if(this.collection.offlineReadDisabled||!this.isCurrentListUpdated(e.apiOptions)){return}e.backgroundFetch=true;const t=this._isFetchRunning;const n=e.status===app.offline.api.ReadCollectionStatus.START;if(n&&!this._isFetchRunning){this._isFetchRunning=true}else if(!n&&e.isSearchRequest||!n&&!e.isDataUpdated){this._isFetchRunning=false}if(t!==this._isFetchRunning){if(this._isFetchRunning){app.syncAlertManager.onSyncStart("read",this.collection,e)}else{app.syncAlertManager.onSyncSuccess("read",this.collection,e)}}},onDetachFromDom(){this._super();this._isFetchRunning=false},_updatePaginationElements(){if(!this.collection){return}while(this.collection.length>this.getMaxPageSize()){this.collection.shift()}this.$(".show-more-top-btn").toggleElement(this.needShowMoreTopButton());this.$(".show-more-bottom-btn").toggleElement(this.needShowMoreBottomBtn());this.reflowScroller()},paginateTop(){if(!this.isPaginationEnabled){return}const e=Math.max(this.collection.offset-this.collection.length-app.config.maxQueryResult,0);let t={offset:e,limit:this.getMaxPageSize()};t=this._applyCurrentStateParams(t);this.collection.fetch(t)},paginateBottom(){if(!this.isPaginationEnabled){return}const e=this._applyCurrentStateParams();this.collection.setOption({update:true,remove:false});this.collection.paginate(e)},needShowMoreTopButton:function e(){return this.collection.dataFetched&&Math.max(this.collection.next_offset,this.collection.offset)>this.getMaxPageSize()},needShowMoreBottomBtn:function e(){return this.collection.dataFetched&&this.collection.next_offset!==-1}},{listItemDataProviders:p.storage});e.exports=m},function(module,exports,__webpack_require__){const User=__webpack_require__(19);const Language=__webpack_require__(18);var _doWhenStack=[];var _doWhenLocked=false;var _doWhenInterval=false;var _doWhenretryCount=0;var _startDoWhenInterval=function(){if(!_doWhenInterval){_doWhenInterval=window.setInterval(Utils._doWhenCheck,50)}};const Cookie={setCookie:function(e,t,n,i){var a=new Date,r;a.setDate(a.getDate()+n);r=encodeURIComponent(t);if(n){r+="; expires="+a.toUTCString()}if(i){r+="; path="+i}document.cookie=e+"="+r},getCookie:function(e){var t,n,i,a=document.cookie.split(";");for(t=0;t<a.length;t++){n=a[t].substr(0,a[t].indexOf("="));i=a[t].substr(a[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n===e){return decodeURIComponent(i)}}}};const Utils={capitalize:e=>e?e.charAt(0).toUpperCase()+(e.length>1?e.substr(1):""):"",capitalizeHyphenated:function(e){return this._classify(e,"-")},classify:function(e){return this._classify(e,"_")},_classify:function(e,t){var n=this,i="";t=t||"_";if(!e||e.lastIndexOf(t)===-1){i=n.capitalize(e)}else{var a=e.split(t);_.each(a,function(e){i+=n.capitalize(e)})}return i},extendClass:function(e,t,n,i,a){var r;if(!_.isObject(i)){r=e[n]=t;return r}if(_.isObject(i.extendsFrom)){r=e[n]=i.extendsFrom.extend(i);return r}if(!i.extendsFrom){r=e[n]=t.extend(i);return r}var s=e[a+"Custom"+i.extendsFrom]||e[a+i.extendsFrom]||e["Custom"+i.extendsFrom]||e[i.extendsFrom];if(!s){SUGAR.App.logger.warn('The "'+i.extendsFrom+'" component was not found to be used as '+'the "'+n+"\"'s parent. Please update your code to point to an existing class.");s=t}r=e[n]=s.extend(i);return r},formatNumber:function(e,t,n,i,a){t=t||n;var r=e;if(_.isNaN(e)||!_.isFinite(e)){return r}if(_.isString(e)){e=parseFloat(e,10);if(_.isNaN(e)){return r}}if(!_.isNumber(e)){if(!_.isNull(e)&&!_.isUndefined(e)){SUGAR.App.logger.warn("formatNumber: invalid variable type ("+typeof r+")")}return r}if(_.isString(n)){n=parseInt(n)}e=Big(e).toFixed(n);return _.isString(i)&&_.isString(a)?this.addNumberSeparators(e,i,a):e},formatNumberLocale:function(e){return this.formatNumber(e,User.getPreference("decimal_precision")||2,User.getPreference("decimal_precision")||2,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".")},formatName:function(e,t){return t.replace(/(f)|(l)|(s)/g,function(t,n,i,a){if(n){return e.first_name||""}if(i){return e.last_name||""}if(a&&(e.last_name||e.first_name)){return e.salutation||""}return""}).replace(/^( )?,/g,"").replace(/, $/g,"").replace(/  /g," ").trim()},formatNameModel:function(e,t,n){n=n||User.getPreference("default_locale_name_format");t=t||{};var i=SUGAR.App.metadata.getModule(e)||{fields:{}};var a=i.nameFormat||{};return _.reduce(n.split(""),function(e,n){if(n<"a"||n>"z"){return e+n}if(!a[n]){return e}var r,s=i.fields[a[n]]&&i.fields[a[n]].type==="enum"&&!_.isEmpty(i.fields[a[n]].options);if(s){var o=Language.getAppListStrings(i.fields[a[n]].options);r=o[t[a[n]]]||t[a[n]]||""}return e+(r||t[a[n]]||"")},"").replace(/^( )?,/g,"").replace(/, +$/g,"").replace(/  /g," ").trim()},formatNameLocale:function(e){return this.formatName(e,User.getPreference("default_locale_name_format"))},addNumberSeparators:function(e,t,n){var i=e.split(".");var a=/(\d+)(\d{3})/;while(t!==""&&a.test(i[0])){i[0]=i[0].toString().replace(a,"$1"+t+"$2")}return i[0]+(i.length>1&&i[1]!==""?n+i[1]:"")},unformatNumberString:function(e,t,n,i){i=i||false;if(typeof t==="undefined"||typeof n==="undefined"){return e}if(!_.isString(e)){if(_.isFinite(e)){e=e.toString()}else{e=""}}if(t!==""){var a=new RegExp("\\"+t,"g");e=e.replace(a,"")}e=e.replace(n,".");if(e.length>0&&i){var r=parseFloat(e);if(r==e){return r}}return e},unformatNumberStringLocale:function(e,t){return this.unformatNumberString(e,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".",t)},formatString:function(e,t){for(var n in t){e=e.replace("{"+n+"}",t[n])}return e},regexEscape:function e(t){if(typeof e.specialRegExp=="undefined"){var n=["/",".","*","+","?","|","(",")","[","]","{","}","\\","-",",","^","$","#"];e.specialRegExp=new RegExp("(\\"+n.join("|\\")+")","g")}return t.replace(e.specialRegExp,"\\$1")},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},cookie:Cookie,isValidEmailAddress:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@\S+$/.test(e)},doWhen:function(e,t,n,i){_doWhenStack.push({check:e,fn:t,obj:n,overrideContext:i});_doWhenretryCount=50;_startDoWhenInterval()},_doWhenCheck:function(){if(_doWhenStack.length===0){_doWhenretryCount=0;if(_doWhenInterval){clearInterval(_doWhenInterval);_doWhenInterval=null}return}if(_doWhenLocked){return}_doWhenLocked=true;var tryAgain=$.isReady;if(!tryAgain){tryAgain=_doWhenretryCount>0&&_doWhenStack.length>0}var notAvail=[];var executeItem=function(e,t){if(t.overrideContext){if(t.overrideContext===true){e=t.obj}else{e=t.overrideContext}}if(t.fn){t.fn.call(e,t.obj)}};var i,len,item,test;for(i=0,len=_doWhenStack.length;i<len;i=i+1){item=_doWhenStack[i];if(item){test=item.check;if(typeof test=="string"&&eval(test)||typeof test=="function"&&test()){executeItem(this,item);_doWhenStack[i]=null}else{notAvail.push(item)}}}_doWhenretryCount--;if(tryAgain){for(i=_doWhenStack.length-1;i>-1;i--){item=_doWhenStack[i];if(!item||!item.check){_doWhenStack.splice(i,1)}}_startDoWhenInterval()}else{if(_doWhenInterval){clearInterval(_doWhenInterval);_doWhenInterval=null}}_doWhenLocked=false},versionCompare:function(e,t,n){return version_compare(e,t,n)},extendFrom:function(e,t,n){e.prototype=new t;_.extend(e.prototype,n)},deepCopy:function(e){return _.isObject(e)?JSON.parse(JSON.stringify(e)):e},compareBeans:function(e,t){var n;if(e.module!==t.module){throw Error("Only beans of the same module can be compared.")}n=_.reduce(e.attributes,function(n,i,a){if(a!=="id"&&a.indexOf("_")!==0){if(!this.areBeanValuesEqual(i,t.get(a))&&this.hasDefaultValueChanged(a,e)){n.push(a)}}return n},[],this);return n},areBeanValuesEqual:function(e,t){var n=function(e){if(_.isObject(e)&&_.isEmpty(e)){return""}else if(!_.isObject(e)&&(_.isUndefined(e)||_.isNull(e))){return""}else{return e}};e=n(e);t=n(t);return _.isObject(e)&&_.isEqual(e,t)||!_.isObject(e)&&e===t},hasDefaultValueChanged:function(e,t){var n=t._defaults?t._defaults[e]:"";return!this.areBeanValuesEqual(n,t.get(e))},isConnectivityError:function(e){return e.status===0||e.textStatus==="timeout"},getTimestamp:function(e,t){t=t||{};var n=e?new Date(e):new Date;var i;try{i=n.toISOString()}catch(t){throw new Error('Invalid time value "'+e+'"')}if(!t.msecPrecision){i=i.replace(/\.\d{3}/,"")}return i.replace(/Z/,"+00:00")},buildUrl:function(e){if(e.indexOf("http")!==0&&!_.isEmpty(SUGAR.App.config.siteUrl)){e=SUGAR.App.config.siteUrl.replace(/\/+$/,"")+"/"+e}return e},getChangedProps:function(e,t,n){function i(e){if(_.isObject(e)){if(_.isArray(e)){return"array"}return"object"}return"other"}function a(e,t){if(n)return _.isEqual(e,t);var r=i(e),s=i(t);if(r===s&&_.contains(["object","array"],r)){if(r==="array"&&e.length!==t.length){return false}var o=_.keys(e),l=_.keys(t);if(o.length!==l.length||!_.isEqual(o.sort(),l.sort())){return false}return!_.any(e,function(n,i){return!a(e[i],t[i])})}else{return n?e===t:e==t}}var r={};_.each(e,function(n,i){if(!a(e[i],t[i])){r[i]=n}});return r},getParentLayout:function(e){var t;if(e.view&&e.view.layout){t=e.view.layout}else{t=e.layout}return t},isSortable:function(e,t){var n=SUGAR.App.metadata.getModule(e).fields[t.name],i=true;if(n&&!_.isUndefined(n.sortable)){i=n.sortable}if(t&&!_.isUndefined(t.sortable)){i=t.sortable}return i},stripHttpPrefix:function(e){return e.replace(/^https?:\/\//,"")},hardRefresh:function(){window.location.reload(true)},isDirectionRTL:function(e){var t="A-Za-z-----"+"---",n="---",i=new RegExp("^[^"+t+"]*["+n+"]");return i.test(e)}};module.exports=Utils},function(module,exports,__webpack_require__){(function(process,global,setImmediate){!function(e){if(true)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){var define,module,exports;return function e(t,n,i){function a(s,o){if(!n[s]){if(!t[s]){var l=typeof _dereq_=="function"&&_dereq_;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return a(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}var r=typeof _dereq_=="function"&&_dereq_;for(var s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e);var i=n.promise();n.setHowMany(1);n.setUnwrap();n.init();return i}e.any=function(e){return n(e)};e.prototype.any=function(){return n(this)}}},{}],2:[function(e,t,n){"use strict";var i;try{throw new Error}catch(e){i=e}var a=e("./schedule");var r=e("./queue");var s=e("./util");function o(){this._customScheduler=false;this._isTickUsed=false;this._lateQueue=new r(16);this._normalQueue=new r(16);this._haveDrainedQueues=false;this._trampolineEnabled=true;var e=this;this.drainQueues=function(){e._drainQueues()};this._schedule=a}o.prototype.setScheduler=function(e){var t=this._schedule;this._schedule=e;this._customScheduler=true;return t};o.prototype.hasCustomScheduler=function(){return this._customScheduler};o.prototype.enableTrampoline=function(){this._trampolineEnabled=true};o.prototype.disableTrampolineIfNecessary=function(){if(s.hasDevTools){this._trampolineEnabled=false}};o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};o.prototype.fatalError=function(e,t){if(t){process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n");process.exit(2)}else{this.throwLater(e)}};o.prototype.throwLater=function(e,t){if(arguments.length===1){t=e;e=function(){throw t}}if(typeof setTimeout!=="undefined"){setTimeout(function(){e(t)},0)}else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};function l(e,t,n){this._lateQueue.push(e,t,n);this._queueTick()}function c(e,t,n){this._normalQueue.push(e,t,n);this._queueTick()}function u(e){this._normalQueue._pushOne(e);this._queueTick()}if(!s.hasDevTools){o.prototype.invokeLater=l;o.prototype.invoke=c;o.prototype.settlePromises=u}else{o.prototype.invokeLater=function(e,t,n){if(this._trampolineEnabled){l.call(this,e,t,n)}else{this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})}};o.prototype.invoke=function(e,t,n){if(this._trampolineEnabled){c.call(this,e,t,n)}else{this._schedule(function(){e.call(t,n)})}};o.prototype.settlePromises=function(e){if(this._trampolineEnabled){u.call(this,e)}else{this._schedule(function(){e._settlePromises()})}}}o.prototype._drainQueue=function(e){while(e.length()>0){var t=e.shift();if(typeof t!=="function"){t._settlePromises();continue}var n=e.shift();var i=e.shift();t.call(n,i)}};o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=true;this._drainQueue(this._lateQueue)};o.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};o.prototype._reset=function(){this._isTickUsed=false};t.exports=o;t.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var a=false;var r=function(e,t){this._reject(t)};var s=function(e,t){t.promiseRejectionQueued=true;t.bindingPromise._then(r,r,null,this,e)};var o=function(e,t){if((this._bitField&50397184)===0){this._resolveCallback(t.target)}};var l=function(e,t){if(!t.promiseRejectionQueued)this._reject(e)};e.prototype.bind=function(r){if(!a){a=true;e.prototype._propagateFrom=i.propagateFromFunction();e.prototype._boundValue=i.boundValueFunction()}var c=n(r);var u=new e(t);u._propagateFrom(this,1);var d=this._target();u._setBoundTo(c);if(c instanceof e){var f={promiseRejectionQueued:false,promise:u,target:d,bindingPromise:c};d._then(t,s,undefined,u,f);c._then(o,l,undefined,u,f);u._setOnCancel(c)}else{u._resolveCallback(d)}return u};e.prototype._setBoundTo=function(e){if(e!==undefined){this._bitField=this._bitField|2097152;this._boundTo=e}else{this._bitField=this._bitField&~2097152}};e.prototype._isBound=function(){return(this._bitField&2097152)===2097152};e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var i;if(typeof Promise!=="undefined")i=Promise;function a(){try{if(Promise===r)Promise=i}catch(e){}return r}var r=e("./promise")();r.noConflict=a;t.exports=r},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var a=i(null);var r=i(null);a[" size"]=r[" size"]=0}t.exports=function(t){var n=e("./util");var i=n.canEvaluate;var s=n.isIdentifier;var o;var l;if(false){var c=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(f)};var u=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))};var d=function(e,t,n){var i=n[e];if(typeof i!=="function"){if(!s(e)){return null}i=t(e);n[e]=i;n[" size"]++;if(n[" size"]>512){var a=Object.keys(n);for(var r=0;r<256;++r)delete n[a[r]];n[" size"]=a.length-256}}return i};o=function(e){return d(e,c,a)};l=function(e){return d(e,u,r)}}function f(e,i){var a;if(e!=null)a=e[i];if(typeof a!=="function"){var r="Object "+n.classString(e)+" has no method '"+n.toString(i)+"'";throw new t.TypeError(r)}return a}function p(e){var t=this.pop();var n=f(e,t);return n.apply(e,this)}t.prototype.call=function(e){var t=[].slice.call(arguments,1);if(false){if(i){var n=o(e);if(n!==null){return this._then(n,undefined,undefined,t,undefined)}}}t.push(e);return this._then(p,undefined,undefined,t,undefined)};function h(e){return e[this]}function m(e){var t=+this;if(t<0)t=Math.max(0,t+e.length);return e[t]}t.prototype.get=function(e){var t=typeof e==="number";var n;if(!t){if(i){var a=l(e);n=a!==null?a:h}else{n=h}}else{n=m}return this._then(n,undefined,undefined,e,undefined)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var r=e("./util");var s=r.tryCatch;var o=r.errorObj;var l=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");var e=this;var t=e;while(e._isCancellable()){if(!e._cancelBy(t)){if(t._isFollowing()){t._followee().cancel()}else{t._cancelBranched()}break}var n=e._cancellationParent;if(n==null||!n._isCancellable()){if(e._isFollowing()){e._followee().cancel()}else{e._cancelBranched()}break}else{if(e._isFollowing())e._followee().cancel();e._setWillBeCancelled();t=e;e=n}}};t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0};t.prototype._cancelBy=function(e){if(e===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return true}else{this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return true}}return false};t.prototype._cancelBranched=function(){if(this._enoughBranchesHaveCancelled()){this._cancel()}};t.prototype._cancel=function(){if(!this._isCancellable())return;this._setCancelled();l.invoke(this._cancelPromises,this,undefined)};t.prototype._cancelPromises=function(){if(this._length()>0)this._settlePromises()};t.prototype._unsetOnCancel=function(){this._onCancelField=undefined};t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};t.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e)){for(var n=0;n<e.length;++n){this._doInvokeOnCancel(e[n],t)}}else if(e!==undefined){if(typeof e==="function"){if(!t){var i=s(e).call(this._boundValue());if(i===o){this._attachExtraTrace(i.e);l.throwLater(i.e)}}}else{e._resultCancelled(this)}}};t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel();l.invoke(this._doInvokeOnCancel,this,e)};t.prototype._invokeInternalOnCancel=function(){if(this._isCancellable()){this._doInvokeOnCancel(this._onCancel(),true);this._unsetOnCancel()}};t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util");var i=e("./es5").keys;var a=n.tryCatch;var r=n.errorObj;function s(e,s,o){return function(l){var c=o._boundValue();e:for(var u=0;u<e.length;++u){var d=e[u];if(d===Error||d!=null&&d.prototype instanceof Error){if(l instanceof d){return a(s).call(c,l)}}else if(typeof d==="function"){var f=a(d).call(c,l);if(f===r){return f}else if(f){return a(s).call(c,l)}}else if(n.isObject(l)){var p=i(d);for(var h=0;h<p.length;++h){var m=p[h];if(d[m]!=l[m]){continue e}}return a(s).call(c,l)}}return t}}return s}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=false;var n=[];e.prototype._promiseCreated=function(){};e.prototype._pushContext=function(){};e.prototype._popContext=function(){return null};e._peekContext=e.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(r())}i.prototype._pushContext=function(){if(this._trace!==undefined){this._trace._promiseCreated=null;n.push(this._trace)}};i.prototype._popContext=function(){if(this._trace!==undefined){var e=n.pop();var t=e._promiseCreated;e._promiseCreated=null;return t}return null};function a(){if(t)return new i}function r(){var e=n.length-1;if(e>=0){return n[e]}return undefined}i.CapturedTrace=null;i.create=a;i.deactivateLongStackTraces=function(){};i.activateLongStackTraces=function(){var n=e.prototype._pushContext;var a=e.prototype._popContext;var s=e._peekContext;var o=e.prototype._peekContext;var l=e.prototype._promiseCreated;i.deactivateLongStackTraces=function(){e.prototype._pushContext=n;e.prototype._popContext=a;e._peekContext=s;e.prototype._peekContext=o;e.prototype._promiseCreated=l;t=false};t=true;e.prototype._pushContext=i.prototype._pushContext;e.prototype._popContext=i.prototype._popContext;e._peekContext=e.prototype._peekContext=r;e.prototype._promiseCreated=function(){var e=this._peekContext();if(e&&e._promiseCreated==null)e._promiseCreated=this}};return i}},{}],9:[function(e,t,n){"use strict";t.exports=function(t,n){var i=t._getDomain;var a=t._async;var r=e("./errors").Warning;var s=e("./util");var o=s.canAttachTrace;var l;var c;var u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/;var d=/\((?:timers\.js):\d+:\d+\)/;var f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/;var p=null;var h=null;var m=false;var _;var g=!!(s.env("BLUEBIRD_DEBUG")!=0&&(true||s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development"));var v=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(g||s.env("BLUEBIRD_WARNINGS")));var b=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(g||s.env("BLUEBIRD_LONG_STACK_TRACES")));var y=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(v||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&~1048576|524288};t.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&524288)!==0)return;this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)};t.prototype._notifyUnhandledRejectionIsHandled=function(){K("rejectionHandled",l,undefined,this)};t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456};t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0};t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified();K("unhandledRejection",c,e,this)}};t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144};t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~262144};t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0};t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576};t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~1048576;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0};t.prototype._warn=function(e,t,n){return H(e,t,n||this)};t.onPossiblyUnhandledRejection=function(e){var t=i();c=typeof e==="function"?t===null?e:s.domainBind(t,e):undefined};t.onUnhandledRejectionHandled=function(e){var t=i();l=typeof e==="function"?t===null?e:s.domainBind(t,e):undefined};var x=function(){};t.longStackTraces=function(){if(a.haveItemsQueued()&&!re.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}if(!re.longStackTraces&&Q()){var e=t.prototype._captureStackTrace;var i=t.prototype._attachExtraTrace;re.longStackTraces=true;x=function(){if(a.haveItemsQueued()&&!re.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}t.prototype._captureStackTrace=e;t.prototype._attachExtraTrace=i;n.deactivateLongStackTraces();a.enableTrampoline();re.longStackTraces=false};t.prototype._captureStackTrace=B;t.prototype._attachExtraTrace=P;n.activateLongStackTraces();a.disableTrampolineIfNecessary()}};t.hasLongStackTraces=function(){return re.longStackTraces&&Q()};var w=function(){try{if(typeof CustomEvent==="function"){var e=new CustomEvent("CustomEvent");s.global.dispatchEvent(e);return function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:true});return!s.global.dispatchEvent(n)}}else if(typeof Event==="function"){var e=new Event("CustomEvent");s.global.dispatchEvent(e);return function(e,t){var n=new Event(e.toLowerCase(),{cancelable:true});n.detail=t;return!s.global.dispatchEvent(n)}}else{var e=document.createEvent("CustomEvent");e.initCustomEvent("testingtheevent",false,true,{});s.global.dispatchEvent(e);return function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e.toLowerCase(),false,true,t);return!s.global.dispatchEvent(n)}}}catch(e){}return function(){return false}}();var S=function(){if(s.isNode){return function(){return process.emit.apply(process,arguments)}}else{if(!s.global){return function(){return false}}return function(e){var t="on"+e.toLowerCase();var n=s.global[t];if(!n)return false;n.apply(s.global,[].slice.call(arguments,1));return true}}}();function L(e,t){return{promise:t}}var E={promiseCreated:L,promiseFulfilled:L,promiseRejected:L,promiseResolved:L,promiseCancelled:L,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:L};var k=function(e){var t=false;try{t=S.apply(null,arguments)}catch(e){a.throwLater(e);t=true}var n=false;try{n=w(e,E[e].apply(null,arguments))}catch(e){a.throwLater(e);n=true}return n||t};t.config=function(e){e=Object(e);if("longStackTraces"in e){if(e.longStackTraces){t.longStackTraces()}else if(!e.longStackTraces&&t.hasLongStackTraces()){x()}}if("warnings"in e){var n=e.warnings;re.warnings=!!n;y=re.warnings;if(s.isObject(n)){if("wForgottenReturn"in n){y=!!n.wForgottenReturn}}}if("cancellation"in e&&e.cancellation&&!re.cancellation){if(a.haveItemsQueued()){throw new Error("cannot enable cancellation after promises are in use")}t.prototype._clearCancellationData=R;t.prototype._propagateFrom=I;t.prototype._onCancel=C;t.prototype._setOnCancel=D;t.prototype._attachCancellationCallback=A;t.prototype._execute=T;F=I;re.cancellation=true}if("monitoring"in e){if(e.monitoring&&!re.monitoring){re.monitoring=true;t.prototype._fireEvent=k}else if(!e.monitoring&&re.monitoring){re.monitoring=false;t.prototype._fireEvent=M}}return t};function M(){return false}t.prototype._fireEvent=M;t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}};t.prototype._onCancel=function(){};t.prototype._setOnCancel=function(e){};t.prototype._attachCancellationCallback=function(e){};t.prototype._captureStackTrace=function(){};t.prototype._attachExtraTrace=function(){};t.prototype._clearCancellationData=function(){};t.prototype._propagateFrom=function(e,t){};function T(e,t,n){var i=this;try{e(t,n,function(e){if(typeof e!=="function"){throw new TypeError("onCancel must be a function, got: "+s.toString(e))}i._attachCancellationCallback(e)})}catch(e){return e}}function A(e){if(!this._isCancellable())return this;var t=this._onCancel();if(t!==undefined){if(s.isArray(t)){t.push(e)}else{this._setOnCancel([t,e])}}else{this._setOnCancel(e)}}function C(){return this._onCancelField}function D(e){this._onCancelField=e}function R(){this._cancellationParent=undefined;this._onCancelField=undefined}function I(e,t){if((t&1)!==0){this._cancellationParent=e;var n=e._branchesRemainingToCancel;if(n===undefined){n=0}e._branchesRemainingToCancel=n+1}if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}function O(e,t){if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}var F=O;function N(){var e=this._boundTo;if(e!==undefined){if(e instanceof t){if(e.isFulfilled()){return e.value()}else{return undefined}}}return e}function B(){this._trace=new ie(this._peekContext())}function P(e,t){if(o(e)){var n=this._trace;if(n!==undefined){if(t)n=n._parent}if(n!==undefined){n.attachExtraTrace(e)}else if(!e.__stackCleaned__){var i=q(e);s.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n"));s.notEnumerableProp(e,"__stackCleaned__",true)}}}function U(e,t,n,i,a){if(e===undefined&&t!==null&&y){if(a!==undefined&&a._returnedNonUndefined())return;if((i._bitField&65535)===0)return;if(n)n=n+" ";var r="";var s="";if(t._trace){var o=t._trace.stack.split("\n");var l=j(o);for(var c=l.length-1;c>=0;--c){var u=l[c];if(!d.test(u)){var p=u.match(f);if(p){r="at "+p[1]+":"+p[2]+":"+p[3]+" "}break}}if(l.length>0){var h=l[0];for(var c=0;c<o.length;++c){if(o[c]===h){if(c>0){s="\n"+o[c-1]}break}}}}var m="a promise was created in a "+n+"handler "+r+"but was not returned from it, "+"see http://goo.gl/rRqMUw"+s;i._warn(m,true,t)}}function Y(e,t){var n=e+" is deprecated and will be removed in a future version.";if(t)n+=" Use "+t+" instead.";return H(n)}function H(e,n,i){if(!re.warnings)return;var a=new r(e);var s;if(n){i._attachExtraTrace(a)}else if(re.longStackTraces&&(s=t._peekContext())){s.attachExtraTrace(a)}else{var o=q(a);a.stack=o.message+"\n"+o.stack.join("\n")}if(!k("warning",a)){W(a,"",true)}}function G(e,t){for(var n=0;n<t.length-1;++n){t[n].push("From previous event:");t[n]=t[n].join("\n")}if(n<t.length){t[n]=t[n].join("\n")}return e+"\n"+t.join("\n")}function V(e){for(var t=0;t<e.length;++t){if(e[t].length===0||t+1<e.length&&e[t][0]===e[t+1][0]){e.splice(t,1);t--}}}function $(e){var t=e[0];for(var n=1;n<e.length;++n){var i=e[n];var a=t.length-1;var r=t[a];var s=-1;for(var o=i.length-1;o>=0;--o){if(i[o]===r){s=o;break}}for(var o=s;o>=0;--o){var l=i[o];if(t[a]===l){t.pop();a--}else{break}}t=i}}function j(e){var t=[];for(var n=0;n<e.length;++n){var i=e[n];var a="    (No stack trace)"===i||p.test(i);var r=a&&Z(i);if(a&&!r){if(m&&i.charAt(0)!==" "){i="    "+i}t.push(i)}}return t}function z(e){var t=e.stack.replace(/\s+$/g,"").split("\n");for(var n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||p.test(i)){break}}if(n>0&&e.name!="SyntaxError"){t=t.slice(n)}return t}function q(e){var t=e.stack;var n=e.toString();t=typeof t==="string"&&t.length>0?z(e):["    (No stack trace)"];return{message:n,stack:e.name=="SyntaxError"?t:j(t)}}function W(e,t,n){if(typeof console!=="undefined"){var i;if(s.isObject(e)){var a=e.stack;i=t+h(a,e)}else{i=t+String(e)}if(typeof _==="function"){_(i,n)}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(i)}}}function K(e,t,n,i){var r=false;try{if(typeof t==="function"){r=true;if(e==="rejectionHandled"){t(i)}else{t(n,i)}}}catch(e){a.throwLater(e)}if(e==="unhandledRejection"){if(!k(e,n,i)&&!r){W(n,"Unhandled rejection ")}}else{k(e,i)}}function J(e){var t;if(typeof e==="function"){t="[function "+(e.name||"anonymous")+"]"}else{t=e&&typeof e.toString==="function"?e.toString():s.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t)){try{var i=JSON.stringify(e);t=i}catch(e){}}if(t.length===0){t="(empty array)"}}return"(<"+X(t)+">, no stack trace)"}function X(e){var t=41;if(e.length<t){return e}return e.substr(0,t-3)+"..."}function Q(){return typeof ae==="function"}var Z=function(){return false};var ee=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function te(e){var t=e.match(ee);if(t){return{fileName:t[1],line:parseInt(t[2],10)}}}function ne(e,t){if(!Q())return;var n=e.stack.split("\n");var i=t.stack.split("\n");var a=-1;var r=-1;var s;var o;for(var l=0;l<n.length;++l){var c=te(n[l]);if(c){s=c.fileName;a=c.line;break}}for(var l=0;l<i.length;++l){var c=te(i[l]);if(c){o=c.fileName;r=c.line;break}}if(a<0||r<0||!s||!o||s!==o||a>=r){return}Z=function(e){if(u.test(e))return true;var t=te(e);if(t){if(t.fileName===s&&(a<=t.line&&t.line<=r)){return true}}return false}}function ie(e){this._parent=e;this._promisesCreated=0;var t=this._length=1+(e===undefined?0:e._length);ae(this,ie);if(t>32)this.uncycle()}s.inherits(ie,Error);n.CapturedTrace=ie;ie.prototype.uncycle=function(){var e=this._length;if(e<2)return;var t=[];var n={};for(var i=0,a=this;a!==undefined;++i){t.push(a);a=a._parent}e=this._length=i;for(var i=e-1;i>=0;--i){var r=t[i].stack;if(n[r]===undefined){n[r]=i}}for(var i=0;i<e;++i){var s=t[i].stack;var o=n[s];if(o!==undefined&&o!==i){if(o>0){t[o-1]._parent=undefined;t[o-1]._length=1}t[i]._parent=undefined;t[i]._length=1;var l=i>0?t[i-1]:this;if(o<e-1){l._parent=t[o+1];l._parent.uncycle();l._length=l._parent._length+1}else{l._parent=undefined;l._length=1}var c=l._length+1;for(var u=i-2;u>=0;--u){t[u]._length=c;c++}return}}};ie.prototype.attachExtraTrace=function(e){if(e.__stackCleaned__)return;this.uncycle();var t=q(e);var n=t.message;var i=[t.stack];var a=this;while(a!==undefined){i.push(j(a.stack.split("\n")));a=a._parent}$(i);V(i);s.notEnumerableProp(e,"stack",G(n,i));s.notEnumerableProp(e,"__stackCleaned__",true)};var ae=function e(){var t=/^\s*at\s*/;var n=function(e,t){if(typeof e==="string")return e;if(t.name!==undefined&&t.message!==undefined){return t.toString()}return J(t)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit+=6;p=t;h=n;var i=Error.captureStackTrace;Z=function(e){return u.test(e)};return function(e,t){Error.stackTraceLimit+=6;i(e,t);Error.stackTraceLimit-=6}}var a=new Error;if(typeof a.stack==="string"&&a.stack.split("\n")[0].indexOf("stackDetection@")>=0){p=/@/;h=n;m=true;return function e(t){t.stack=(new Error).stack}}var r;try{throw new Error}catch(e){r="stack"in e}if(!("stack"in a)&&r&&typeof Error.stackTraceLimit==="number"){p=t;h=n;return function e(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}}h=function(e,t){if(typeof e==="string")return e;if((typeof t==="object"||typeof t==="function")&&t.name!==undefined&&t.message!==undefined){return t.toString()}return J(t)};return null}([]);if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){_=function(e){console.warn(e)};if(s.isNode&&process.stderr.isTTY){_=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}}else if(!s.isNode&&typeof(new Error).stack==="string"){_=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}}}var re={warnings:v,longStackTraces:false,cancellation:false,monitoring:false};if(b)t.longStackTraces();return{longStackTraces:function(){return re.longStackTraces},warnings:function(){return re.warnings},cancellation:function(){return re.cancellation},monitoring:function(){return re.monitoring},propagateFromFunction:function(){return F},boundValueFunction:function(){return N},checkForgottenReturns:U,setBounds:ne,warn:H,deprecated:Y,CapturedTrace:ie,fireDomEvent:w,fireGlobalEvent:S}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){if(n instanceof e)n.suppressUnhandledRejections();return this._then(t,undefined,undefined,{value:n},undefined)};e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,undefined,undefined,{reason:e},undefined)};e.prototype.catchThrow=function(e){if(arguments.length<=1){return this._then(undefined,n,undefined,{reason:e},undefined)}else{var t=arguments[1];var i=function(){throw t};return this.caught(e,i)}};e.prototype.catchReturn=function(n){if(arguments.length<=1){if(n instanceof e)n.suppressUnhandledRejections();return this._then(undefined,t,undefined,{value:n},undefined)}else{var i=arguments[1];if(i instanceof e)i.suppressUnhandledRejections();var a=function(){return i};return this.caught(n,a)}}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce;var i=e.all;function a(){return i(this)}function r(e,i){return n(e,i,t,t)}e.prototype.each=function(e){return n(this,e,t,0)._then(a,undefined,undefined,this,undefined)};e.prototype.mapSeries=function(e){return n(this,e,t,t)};e.each=function(e,i){return n(e,i,t,0)._then(a,undefined,undefined,e,undefined)};e.mapSeries=r}},{}],12:[function(e,t,n){"use strict";var i=e("./es5");var a=i.freeze;var r=e("./util");var s=r.inherits;var o=r.notEnumerableProp;function l(e,t){function n(i){if(!(this instanceof n))return new n(i);o(this,"message",typeof i==="string"?i:t);o(this,"name",e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}s(n,Error);return n}var c,u;var d=l("Warning","warning");var f=l("CancellationError","cancellation error");var p=l("TimeoutError","timeout error");var h=l("AggregateError","aggregate error");try{c=TypeError;u=RangeError}catch(e){c=l("TypeError","type error");u=l("RangeError","range error")}var m=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var _=0;_<m.length;++_){if(typeof Array.prototype[m[_]]==="function"){h.prototype[m[_]]=Array.prototype[m[_]]}}i.defineProperty(h.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});h.prototype["isOperational"]=true;var g=0;h.prototype.toString=function(){var e=Array(g*4+1).join(" ");var t="\n"+e+"AggregateError of:"+"\n";g++;e=Array(g*4+1).join(" ");for(var n=0;n<this.length;++n){var i=this[n]===this?"[Circular AggregateError]":this[n]+"";var a=i.split("\n");for(var r=0;r<a.length;++r){a[r]=e+a[r]}i=a.join("\n");t+=i+"\n"}g--;return t};function v(e){if(!(this instanceof v))return new v(e);o(this,"name","OperationalError");o(this,"message",e);this.cause=e;this["isOperational"]=true;if(e instanceof Error){o(this,"message",e.message);o(this,"stack",e.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}s(v,Error);var b=Error["__BluebirdErrorTypes__"];if(!b){b=a({CancellationError:f,TimeoutError:p,OperationalError:v,RejectionError:v,AggregateError:h});i.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:false,enumerable:false,configurable:false})}t.exports={Error:Error,TypeError:c,RangeError:u,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return this===undefined}();if(i){t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!(!n||n.writable||n.set)}}}else{var a={}.hasOwnProperty;var r={}.toString;var s={}.constructor.prototype;var o=function(e){var t=[];for(var n in e){if(a.call(e,n)){t.push(n)}}return t};var l=function(e,t){return{value:e[t]}};var c=function(e,t,n){e[t]=n.value;return e};var u=function(e){return e};var d=function(e){try{return Object(e).constructor.prototype}catch(e){return s}};var f=function(e){try{return r.call(e)==="[object Array]"}catch(e){return false}};t.exports={isArray:f,keys:o,names:o,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:d,isES5:i,propertyIsWritable:function(){return true}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)};e.filter=function(e,i,a){return n(e,i,a,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=e("./util");var r=t.CancellationError;var s=a.errorObj;var o=e("./catch_filter")(i);function l(e,t,n){this.promise=e;this.type=t;this.handler=n;this.called=false;this.cancelPromise=null}l.prototype.isFinallyHandler=function(){return this.type===0};function c(e){this.finallyHandler=e}c.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(e,t){if(e.cancelPromise!=null){if(arguments.length>1){e.cancelPromise._reject(t)}else{e.cancelPromise._cancel()}e.cancelPromise=null;return true}return false}function d(){return p.call(this,this.promise._target()._settledValue())}function f(e){if(u(this,e))return;s.e=e;return s}function p(e){var a=this.promise;var o=this.handler;if(!this.called){this.called=true;var l=this.isFinallyHandler()?o.call(a._boundValue()):o.call(a._boundValue(),e);if(l===i){return l}else if(l!==undefined){a._setReturnedNonUndefined();var p=n(l,a);if(p instanceof t){if(this.cancelPromise!=null){if(p._isCancelled()){var h=new r("late cancellation observer");a._attachExtraTrace(h);s.e=h;return s}else if(p.isPending()){p._attachCancellationCallback(new c(this))}}return p._then(d,f,undefined,this,undefined)}}}if(a.isRejected()){u(this);s.e=e;return s}else{u(this);return e}}t.prototype._passThrough=function(e,t,n,i){if(typeof e!=="function")return this.then();return this._then(n,i,undefined,new l(this,t,e),undefined)};t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,p,p)};t.prototype.tap=function(e){return this._passThrough(e,1,p)};t.prototype.tapCatch=function(e){var n=arguments.length;if(n===1){return this._passThrough(e,1,undefined,p)}else{var i=new Array(n-1),r=0,s;for(s=0;s<n-1;++s){var l=arguments[s];if(a.isObject(l)){i[r++]=l}else{return t.reject(new TypeError("tapCatch statement predicate: "+"expecting an object but got "+a.classString(l)))}}i.length=r;var c=arguments[s];return this._passThrough(o(i,c,this),1,undefined,p)}};return l}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=e("./errors");var l=o.TypeError;var c=e("./util");var u=c.errorObj;var d=c.tryCatch;var f=[];function p(e,n,i){for(var r=0;r<n.length;++r){i._pushContext();var s=d(n[r])(e);i._popContext();if(s===u){i._pushContext();var o=t.reject(u.e);i._popContext();return o}var l=a(s,i);if(l instanceof t)return l}return null}function h(e,n,a,r){if(s.cancellation()){var o=new t(i);var l=this._finallyPromise=new t(i);this._promise=o.lastly(function(){return l});o._captureStackTrace();o._setOnCancel(this)}else{var c=this._promise=new t(i);c._captureStackTrace()}this._stack=r;this._generatorFunction=e;this._receiver=n;this._generator=undefined;this._yieldHandlers=typeof a==="function"?[a].concat(f):f;this._yieldedPromise=null;this._cancellationPhase=false}c.inherits(h,r);h.prototype._isResolved=function(){return this._promise===null};h.prototype._cleanup=function(){this._promise=this._generator=null;if(s.cancellation()&&this._finallyPromise!==null){this._finallyPromise._fulfill();this._finallyPromise=null}};h.prototype._promiseCancelled=function(){if(this._isResolved())return;var e=typeof this._generator["return"]!=="undefined";var n;if(!e){var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i;this._promise._attachExtraTrace(i);this._promise._pushContext();n=d(this._generator["throw"]).call(this._generator,i);this._promise._popContext()}else{this._promise._pushContext();n=d(this._generator["return"]).call(this._generator,undefined);this._promise._popContext()}this._cancellationPhase=true;this._yieldedPromise=null;this._continue(n)};h.prototype._promiseFulfilled=function(e){this._yieldedPromise=null;this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext();this._continue(t)};h.prototype._promiseRejected=function(e){this._yieldedPromise=null;this._promise._attachExtraTrace(e);this._promise._pushContext();var t=d(this._generator["throw"]).call(this._generator,e);this._promise._popContext();this._continue(t)};h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null;e.cancel()}};h.prototype.promise=function(){return this._promise};h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._promiseFulfilled(undefined)};h.prototype._continue=function(e){var n=this._promise;if(e===u){this._cleanup();if(this._cancellationPhase){return n.cancel()}else{return n._rejectCallback(e.e,false)}}var i=e.value;if(e.done===true){this._cleanup();if(this._cancellationPhase){return n.cancel()}else{return n._resolveCallback(i)}}else{var r=a(i,this._promise);if(!(r instanceof t)){r=p(r,this._yieldHandlers,this._promise);if(r===null){this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}r=r._target();var s=r._bitField;if((s&50397184)===0){this._yieldedPromise=r;r._proxy(this,null)}else if((s&33554432)!==0){t._async.invoke(this._promiseFulfilled,this,r._value())}else if((s&16777216)!==0){t._async.invoke(this._promiseRejected,this,r._reason())}else{this._promiseCancelled()}}};t.coroutine=function(e,t){if(typeof e!=="function"){throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var n=Object(t).yieldHandler;var i=h;var a=(new Error).stack;return function(){var t=e.apply(this,arguments);var r=new i(undefined,undefined,n,a);var s=r.promise();r._generator=t;r._promiseFulfilled(undefined);return s}};t.coroutine.addYieldHandler=function(e){if(typeof e!=="function"){throw new l("expecting a function but got "+c.classString(e))}f.push(e)};t.spawn=function(e){s.deprecated("Promise.spawn()","Promise.coroutine()");if(typeof e!=="function"){return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var i=new h(e,this);var a=i.promise();i._run(t.spawn);return a}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=e("./util");var l=o.canEvaluate;var c=o.tryCatch;var u=o.errorObj;var d;if(false){if(l){var f=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))};var p=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))};var h=function(e){var n=new Array(e);for(var i=0;i<n.length;++i){n[i]="this.p"+(i+1)}var a=n.join(" = ")+" = null;";var s="var promise;\n"+n.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n");var o=n.join(", ");var l="Holder$"+e;var d="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";d=d.replace(/\[TheName\]/g,l).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,o).replace(/\[TheProperties\]/g,a).replace(/\[CancellationCode\]/g,s);return new Function("tryCatch","errorObj","Promise","async",d)(c,u,t,r)};var m=[];var _=[];var g=[];for(var v=0;v<8;++v){m.push(h(v+1));_.push(f(v+1));g.push(p(v+1))}d=function(e){this._reject(e)}}}t.join=function(){var e=arguments.length-1;var r;if(e>0&&typeof arguments[e]==="function"){r=arguments[e];if(false){if(e<=8&&l){var c=new t(a);c._captureStackTrace();var u=m[e-1];var f=new u(r);var p=_;for(var h=0;h<e;++h){var v=i(arguments[h],c);if(v instanceof t){v=v._target();var b=v._bitField;if((b&50397184)===0){v._then(p[h],d,undefined,c,f);g[h](v,f);f.asyncNeeded=false}else if((b&33554432)!==0){p[h].call(c,v._value(),f)}else if((b&16777216)!==0){c._reject(v._reason())}else{c._cancel()}}else{p[h].call(c,v,f)}}if(!c._isFateSealed()){if(f.asyncNeeded){var y=s();if(y!==null){f.fn=o.domainBind(y,f.fn)}}c._setAsyncGuaranteed();c._setOnCancel(f)}return c}}}var x=[].slice.call(arguments);if(r)x.pop();var c=new n(x).promise();return r!==undefined?c.spread(r):c}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=t._getDomain;var l=e("./util");var c=l.tryCatch;var u=l.errorObj;var d=t._async;function f(e,t,n,i){this.constructor$(e);this._promise._captureStackTrace();var a=o();this._callback=a===null?t:l.domainBind(a,t);this._preservedValues=i===r?new Array(this.length()):null;this._limit=n;this._inFlight=0;this._queue=[];d.invoke(this._asyncInit,this,undefined)}l.inherits(f,n);f.prototype._asyncInit=function(){this._init$(undefined,-2)};f.prototype._init=function(){};f.prototype._promiseFulfilled=function(e,n){var i=this._values;var r=this.length();var o=this._preservedValues;var l=this._limit;if(n<0){n=n*-1-1;i[n]=e;if(l>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return true}}else{if(l>=1&&this._inFlight>=l){i[n]=e;this._queue.push(n);return false}if(o!==null)o[n]=e;var d=this._promise;var f=this._callback;var p=d._boundValue();d._pushContext();var h=c(f).call(p,e,n,r);var m=d._popContext();s.checkForgottenReturns(h,m,o!==null?"Promise.filter":"Promise.map",d);if(h===u){this._reject(h.e);return true}var _=a(h,this._promise);if(_ instanceof t){_=_._target();var g=_._bitField;if((g&50397184)===0){if(l>=1)this._inFlight++;i[n]=_;_._proxy(this,(n+1)*-1);return false}else if((g&33554432)!==0){h=_._value()}else if((g&16777216)!==0){this._reject(_._reason());return true}else{this._cancel();return true}}i[n]=h}var v=++this._totalResolved;if(v>=r){if(o!==null){this._filter(i,o)}else{this._resolve(i)}return true}return false};f.prototype._drainQueue=function(){var e=this._queue;var t=this._limit;var n=this._values;while(e.length>0&&this._inFlight<t){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}};f.prototype._filter=function(e,t){var n=t.length;var i=new Array(n);var a=0;for(var r=0;r<n;++r){if(e[r])i[a++]=t[r]}i.length=a;this._resolve(i)};f.prototype.preservedValues=function(){return this._preservedValues};function p(e,n,a,r){if(typeof n!=="function"){return i("expecting a function but got "+l.classString(n))}var s=0;if(a!==undefined){if(typeof a==="object"&&a!==null){if(typeof a.concurrency!=="number"){return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(a.concurrency)))}s=a.concurrency}else{return t.reject(new TypeError("options argument must be an object but it is "+l.classString(a)))}}s=typeof s==="number"&&isFinite(s)&&s>=1?s:0;return new f(e,n,s,r).promise()}t.prototype.map=function(e,t){return p(this,e,t,null)};t.map=function(e,t,n,i){return p(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r){var s=e("./util");var o=s.tryCatch;t.method=function(e){if(typeof e!=="function"){throw new t.TypeError("expecting a function but got "+s.classString(e))}return function(){var i=new t(n);i._captureStackTrace();i._pushContext();var a=o(e).apply(this,arguments);var s=i._popContext();r.checkForgottenReturns(a,s,"Promise.method",i);i._resolveFromSyncValue(a);return i}};t.attempt=t["try"]=function(e){if(typeof e!=="function"){return a("expecting a function but got "+s.classString(e))}var i=new t(n);i._captureStackTrace();i._pushContext();var l;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1];var u=arguments[2];l=s.isArray(c)?o(e).apply(u,c):o(e).call(u,c)}else{l=o(e)()}var d=i._popContext();r.checkForgottenReturns(l,d,"Promise.try",i);i._resolveFromSyncValue(l);return i};t.prototype._resolveFromSyncValue=function(e){if(e===s.errorObj){this._rejectCallback(e.e,false)}else{this._resolveCallback(e,true)}}}},{"./util":36}],20:[function(e,t,n){"use strict";var i=e("./util");var a=i.maybeWrapAsError;var r=e("./errors");var s=r.OperationalError;var o=e("./es5");function l(e){return e instanceof Error&&o.getPrototypeOf(e)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function u(e){var t;if(l(e)){t=new s(e);t.name=e.name;t.message=e.message;t.stack=e.stack;var n=o.keys(e);for(var a=0;a<n.length;++a){var r=n[a];if(!c.test(r)){t[r]=e[r]}}return t}i.markAsOriginatingFromRejection(e);return e}function d(e,t){return function(n,i){if(e===null)return;if(n){var r=u(a(n));e._attachExtraTrace(r);e._reject(r)}else if(!t){e._fulfill(i)}else{var s=[].slice.call(arguments,1);e._fulfill(s)}e=null}}t.exports=d},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util");var i=t._async;var a=n.tryCatch;var r=n.errorObj;function s(e,t){var s=this;if(!n.isArray(e))return o.call(s,e,t);var l=a(t).apply(s._boundValue(),[null].concat(e));if(l===r){i.throwLater(l.e)}}function o(e,t){var n=this;var s=n._boundValue();var o=e===undefined?a(t).call(s,null):a(t).call(s,null,e);if(o===r){i.throwLater(o.e)}}function l(e,t){var n=this;if(!e){var s=new Error(e+"");s.cause=e;e=s}var o=a(t).call(n._boundValue(),e);if(o===r){i.throwLater(o.e)}}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if(typeof e=="function"){var n=o;if(t!==undefined&&Object(t).spread){n=s}this._then(n,l,undefined,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){"use strict";t.exports=function(){var n=function(){return new p("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")};var i=function(){return new C.PromiseInspection(this._target())};var a=function(e){return C.reject(new p(e))};function r(){}var s={};var o=e("./util");var l;if(o.isNode){l=function(){var e=process.domain;if(e===undefined)e=null;return e}}else{l=function(){return null}}o.notEnumerableProp(C,"_getDomain",l);var c=e("./es5");var u=e("./async");var d=new u;c.defineProperty(C,"_async",{value:d});var f=e("./errors");var p=C.TypeError=f.TypeError;C.RangeError=f.RangeError;var h=C.CancellationError=f.CancellationError;C.TimeoutError=f.TimeoutError;C.OperationalError=f.OperationalError;C.RejectionError=f.OperationalError;C.AggregateError=f.AggregateError;var m=function(){};var _={};var g={};var v=e("./thenables")(C,m);var b=e("./promise_array")(C,m,v,a,r);var y=e("./context")(C);var x=y.create;var w=e("./debuggability")(C,y);var S=w.CapturedTrace;var L=e("./finally")(C,v,g);var E=e("./catch_filter")(g);var k=e("./nodeback");var M=o.errorObj;var T=o.tryCatch;function A(e,t){if(e==null||e.constructor!==C){throw new p("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}if(typeof t!=="function"){throw new p("expecting a function but got "+o.classString(t))}}function C(e){if(e!==m){A(this,e)}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._resolveFromExecutor(e);this._promiseCreated();this._fireEvent("promiseCreated",this)}C.prototype.toString=function(){return"[object Promise]"};C.prototype.caught=C.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n=new Array(t-1),i=0,r;for(r=0;r<t-1;++r){var s=arguments[r];if(o.isObject(s)){n[i++]=s}else{return a("Catch statement predicate: "+"expecting an object but got "+o.classString(s))}}n.length=i;e=arguments[r];return this.then(undefined,E(n,e,this))}return this.then(undefined,e)};C.prototype.reflect=function(){return this._then(i,i,undefined,this,undefined)};C.prototype.then=function(e,t){if(w.warnings()&&arguments.length>0&&typeof e!=="function"&&typeof t!=="function"){var n=".then() only accepts functions but was passed: "+o.classString(e);if(arguments.length>1){n+=", "+o.classString(t)}this._warn(n)}return this._then(e,t,undefined,undefined,undefined)};C.prototype.done=function(e,t){var n=this._then(e,t,undefined,undefined,undefined);n._setIsFinal()};C.prototype.spread=function(e){if(typeof e!=="function"){return a("expecting a function but got "+o.classString(e))}return this.all()._then(e,undefined,undefined,_,undefined)};C.prototype.toJSON=function(){var e={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){e.fulfillmentValue=this.value();e.isFulfilled=true}else if(this.isRejected()){e.rejectionReason=this.reason();e.isRejected=true}return e};C.prototype.all=function(){if(arguments.length>0){this._warn(".all() was passed arguments but it does not take any")}return new b(this).promise()};C.prototype.error=function(e){return this.caught(o.originatesFromRejection,e)};C.getNewLibraryCopy=t.exports;C.is=function(e){return e instanceof C};C.fromNode=C.fromCallback=function(e){var t=new C(m);t._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:false;var i=T(e)(k(t,n));if(i===M){t._rejectCallback(i.e,true)}if(!t._isFateSealed())t._setAsyncGuaranteed();return t};C.all=function(e){return new b(e).promise()};C.cast=function(e){var t=v(e);if(!(t instanceof C)){t=new C(m);t._captureStackTrace();t._setFulfilled();t._rejectionHandler0=e}return t};C.resolve=C.fulfilled=C.cast;C.reject=C.rejected=function(e){var t=new C(m);t._captureStackTrace();t._rejectCallback(e,true);return t};C.setScheduler=function(e){if(typeof e!=="function"){throw new p("expecting a function but got "+o.classString(e))}return d.setScheduler(e)};C.prototype._then=function(e,t,n,i,a){var r=a!==undefined;var s=r?a:new C(m);var c=this._target();var u=c._bitField;if(!r){s._propagateFrom(this,3);s._captureStackTrace();if(i===undefined&&(this._bitField&2097152)!==0){if(!((u&50397184)===0)){i=this._boundValue()}else{i=c===this?undefined:this._boundTo}}this._fireEvent("promiseChained",this,s)}var f=l();if(!((u&50397184)===0)){var p,_,g=c._settlePromiseCtx;if((u&33554432)!==0){_=c._rejectionHandler0;p=e}else if((u&16777216)!==0){_=c._fulfillmentHandler0;p=t;c._unsetRejectionIsUnhandled()}else{g=c._settlePromiseLateCancellationObserver;_=new h("late cancellation observer");c._attachExtraTrace(_);p=t}d.invoke(g,c,{handler:f===null?p:typeof p==="function"&&o.domainBind(f,p),promise:s,receiver:i,value:_})}else{c._addCallbacks(e,t,s,i,f)}return s};C.prototype._length=function(){return this._bitField&65535};C.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0};C.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864};C.prototype._setLength=function(e){this._bitField=this._bitField&-65536|e&65535};C.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432;this._fireEvent("promiseFulfilled",this)};C.prototype._setRejected=function(){this._bitField=this._bitField|16777216;this._fireEvent("promiseRejected",this)};C.prototype._setFollowing=function(){this._bitField=this._bitField|67108864;this._fireEvent("promiseResolved",this)};C.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304};C.prototype._isFinal=function(){return(this._bitField&4194304)>0};C.prototype._unsetCancelled=function(){this._bitField=this._bitField&~65536};C.prototype._setCancelled=function(){this._bitField=this._bitField|65536;this._fireEvent("promiseCancelled",this)};C.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608};C.prototype._setAsyncGuaranteed=function(){if(d.hasCustomScheduler())return;this._bitField=this._bitField|134217728};C.prototype._receiverAt=function(e){var t=e===0?this._receiver0:this[e*4-4+3];if(t===s){return undefined}else if(t===undefined&&this._isBound()){return this._boundValue()}return t};C.prototype._promiseAt=function(e){return this[e*4-4+2]};C.prototype._fulfillmentHandlerAt=function(e){return this[e*4-4+0]};C.prototype._rejectionHandlerAt=function(e){return this[e*4-4+1]};C.prototype._boundValue=function(){};C.prototype._migrateCallback0=function(e){var t=e._bitField;var n=e._fulfillmentHandler0;var i=e._rejectionHandler0;var a=e._promise0;var r=e._receiverAt(0);if(r===undefined)r=s;this._addCallbacks(n,i,a,r,null)};C.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t);var i=e._rejectionHandlerAt(t);var a=e._promiseAt(t);var r=e._receiverAt(t);if(r===undefined)r=s;this._addCallbacks(n,i,a,r,null)};C.prototype._addCallbacks=function(e,t,n,i,a){var r=this._length();if(r>=65535-4){r=0;this._setLength(0)}if(r===0){this._promise0=n;this._receiver0=i;if(typeof e==="function"){this._fulfillmentHandler0=a===null?e:o.domainBind(a,e)}if(typeof t==="function"){this._rejectionHandler0=a===null?t:o.domainBind(a,t)}}else{var s=r*4-4;this[s+2]=n;this[s+3]=i;if(typeof e==="function"){this[s+0]=a===null?e:o.domainBind(a,e)}if(typeof t==="function"){this[s+1]=a===null?t:o.domainBind(a,t)}}this._setLength(r+1);return r};C.prototype._proxy=function(e,t){this._addCallbacks(undefined,undefined,t,e,null)};C.prototype._resolveCallback=function(e,t){if((this._bitField&117506048)!==0)return;if(e===this)return this._rejectCallback(n(),false);var i=v(e,this);if(!(i instanceof C))return this._fulfill(e);if(t)this._propagateFrom(i,2);var a=i._target();if(a===this){this._reject(n());return}var r=a._bitField;if((r&50397184)===0){var s=this._length();if(s>0)a._migrateCallback0(this);for(var o=1;o<s;++o){a._migrateCallbackAt(this,o)}this._setFollowing();this._setLength(0);this._setFollowee(a)}else if((r&33554432)!==0){this._fulfill(a._value())}else if((r&16777216)!==0){this._reject(a._reason())}else{var l=new h("late cancellation observer");a._attachExtraTrace(l);this._reject(l)}};C.prototype._rejectCallback=function(e,t,n){var i=o.ensureErrorObject(e);var a=i===e;if(!a&&!n&&w.warnings()){var r="a promise was rejected with a non-error: "+o.classString(e);this._warn(r,true)}this._attachExtraTrace(i,t?a:false);this._reject(e)};C.prototype._resolveFromExecutor=function(e){if(e===m)return;var t=this;this._captureStackTrace();this._pushContext();var n=true;var i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=false;this._popContext();if(i!==undefined){t._rejectCallback(i,true)}};C.prototype._settlePromiseFromHandler=function(e,t,n,i){var a=i._bitField;if((a&65536)!==0)return;i._pushContext();var r;if(t===_){if(!n||typeof n.length!=="number"){r=M;r.e=new p("cannot .spread() a non-array: "+o.classString(n))}else{r=T(e).apply(this._boundValue(),n)}}else{r=T(e).call(t,n)}var s=i._popContext();a=i._bitField;if((a&65536)!==0)return;if(r===g){i._reject(n)}else if(r===M){i._rejectCallback(r.e,false)}else{w.checkForgottenReturns(r,s,"",i,this);i._resolveCallback(r)}};C.prototype._target=function(){var e=this;while(e._isFollowing())e=e._followee();return e};C.prototype._followee=function(){return this._rejectionHandler0};C.prototype._setFollowee=function(e){this._rejectionHandler0=e};C.prototype._settlePromise=function(e,t,n,a){var s=e instanceof C;var o=this._bitField;var l=(o&134217728)!==0;if((o&65536)!==0){if(s)e._invokeInternalOnCancel();if(n instanceof L&&n.isFinallyHandler()){n.cancelPromise=e;if(T(t).call(n,a)===M){e._reject(M.e)}}else if(t===i){e._fulfill(i.call(n))}else if(n instanceof r){n._promiseCancelled(e)}else if(s||e instanceof b){e._cancel()}else{n.cancel()}}else if(typeof t==="function"){if(!s){t.call(n,a,e)}else{if(l)e._setAsyncGuaranteed();this._settlePromiseFromHandler(t,n,a,e)}}else if(n instanceof r){if(!n._isResolved()){if((o&33554432)!==0){n._promiseFulfilled(a,e)}else{n._promiseRejected(a,e)}}}else if(s){if(l)e._setAsyncGuaranteed();if((o&33554432)!==0){e._fulfill(a)}else{e._reject(a)}}};C.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler;var n=e.promise;var i=e.receiver;var a=e.value;if(typeof t==="function"){if(!(n instanceof C)){t.call(i,a,n)}else{this._settlePromiseFromHandler(t,i,a,n)}}else if(n instanceof C){n._reject(a)}};C.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)};C.prototype._settlePromise0=function(e,t,n){var i=this._promise0;var a=this._receiverAt(0);this._promise0=undefined;this._receiver0=undefined;this._settlePromise(i,e,a,t)};C.prototype._clearCallbackDataAtIndex=function(e){var t=e*4-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=undefined};C.prototype._fulfill=function(e){var t=this._bitField;if((t&117506048)>>>16)return;if(e===this){var i=n();this._attachExtraTrace(i);return this._reject(i)}this._setFulfilled();this._rejectionHandler0=e;if((t&65535)>0){if((t&134217728)!==0){this._settlePromises()}else{d.settlePromises(this)}}};C.prototype._reject=function(e){var t=this._bitField;if((t&117506048)>>>16)return;this._setRejected();this._fulfillmentHandler0=e;if(this._isFinal()){return d.fatalError(e,o.isNode)}if((t&65535)>0){d.settlePromises(this)}else{this._ensurePossibleRejectionHandled()}};C.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n);var a=this._promiseAt(n);var r=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(a,i,r,t)}};C.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n);var a=this._promiseAt(n);var r=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(a,i,r,t)}};C.prototype._settlePromises=function(){var e=this._bitField;var t=e&65535;if(t>0){if((e&16842752)!==0){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e);this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e);this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()};C.prototype._settledValue=function(){var e=this._bitField;if((e&33554432)!==0){return this._rejectionHandler0}else if((e&16777216)!==0){return this._fulfillmentHandler0}};function D(e){this.promise._resolveCallback(e)}function R(e){this.promise._rejectCallback(e,false)}C.defer=C.pending=function(){w.deprecated("Promise.defer","new Promise");var e=new C(m);return{promise:e,resolve:D,reject:R}};o.notEnumerableProp(C,"_makeSelfResolutionError",n);e("./method")(C,m,v,a,w);e("./bind")(C,m,v,w);e("./cancel")(C,b,a,w);e("./direct_resolve")(C);e("./synchronous_inspection")(C);e("./join")(C,b,v,m,d,l);C.Promise=C;C.version="3.5.1";e("./map.js")(C,b,a,v,m,w);e("./call_get.js")(C);e("./using.js")(C,a,v,x,m,w);e("./timers.js")(C,m,w);e("./generators.js")(C,a,m,v,r,w);e("./nodeify.js")(C);e("./promisify.js")(C,m);e("./props.js")(C,b,v,a);e("./race.js")(C,m,v,a);e("./reduce.js")(C,b,a,v,m,w);e("./settle.js")(C,b,w);e("./some.js")(C,b,a);e("./filter.js")(C,m);e("./each.js")(C,m);e("./any.js")(C);o.toFastProperties(C);o.toFastProperties(C.prototype);function I(e){var t=new C(m);t._fulfillmentHandler0=e;t._rejectionHandler0=e;t._promise0=e;t._receiver0=e}I({a:1});I({b:2});I({c:3});I(1);I(function(){});I(undefined);I(false);I(new C(m));w.setBounds(u.firstLineError,o.lastLineError);return C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r){var s=e("./util");var o=s.isArray;function l(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function c(e){var i=this._promise=new t(n);if(e instanceof t){i._propagateFrom(e,3)}i._setOnCancel(this);this._values=e;this._length=0;this._totalResolved=0;this._init(undefined,-2)}s.inherits(c,r);c.prototype.length=function(){return this._length};c.prototype.promise=function(){return this._promise};c.prototype._init=function e(n,r){var o=i(this._values,this._promise);if(o instanceof t){o=o._target();var c=o._bitField;this._values=o;if((c&50397184)===0){this._promise._setAsyncGuaranteed();return o._then(e,this._reject,undefined,this,r)}else if((c&33554432)!==0){o=o._value()}else if((c&16777216)!==0){return this._reject(o._reason())}else{return this._cancel()}}o=s.asArray(o);if(o===null){var u=a("expecting an array or an iterable object but got "+s.classString(o)).reason();this._promise._rejectCallback(u,false);return}if(o.length===0){if(r===-5){this._resolveEmptyArray()}else{this._resolve(l(r))}return}this._iterate(o)};c.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n;this._values=this.shouldCopyValues()?new Array(n):this._values;var a=this._promise;var r=false;var s=null;for(var o=0;o<n;++o){var l=i(e[o],a);if(l instanceof t){l=l._target();s=l._bitField}else{s=null}if(r){if(s!==null){l.suppressUnhandledRejections()}}else if(s!==null){if((s&50397184)===0){l._proxy(this,o);this._values[o]=l}else if((s&33554432)!==0){r=this._promiseFulfilled(l._value(),o)}else if((s&16777216)!==0){r=this._promiseRejected(l._reason(),o)}else{r=this._promiseCancelled(o)}}else{r=this._promiseFulfilled(l,o)}}if(!r)a._setAsyncGuaranteed()};c.prototype._isResolved=function(){return this._values===null};c.prototype._resolve=function(e){this._values=null;this._promise._fulfill(e)};c.prototype._cancel=function(){if(this._isResolved()||!this._promise._isCancellable())return;this._values=null;this._promise._cancel()};c.prototype._reject=function(e){this._values=null;this._promise._rejectCallback(e,false)};c.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};c.prototype._promiseCancelled=function(){this._cancel();return true};c.prototype._promiseRejected=function(e){this._totalResolved++;this._reject(e);return true};c.prototype._resultCancelled=function(){if(this._isResolved())return;var e=this._values;this._cancel();if(e instanceof t){e.cancel()}else{for(var n=0;n<e.length;++n){if(e[n]instanceof t){e[n].cancel()}}}};c.prototype.shouldCopyValues=function(){return true};c.prototype.getActualLength=function(e){return e};return c}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var i={};var a=e("./util");var r=e("./nodeback");var s=a.withAppended;var o=a.maybeWrapAsError;var l=a.canEvaluate;var c=e("./errors").TypeError;var u="Async";var d={__isPromisified__:true};var f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var p=new RegExp("^(?:"+f.join("|")+")$");var h=function(e){return a.isIdentifier(e)&&e.charAt(0)!=="_"&&e!=="constructor"};function m(e){return!p.test(e)}function _(e){try{return e.__isPromisified__===true}catch(e){return false}}function g(e,t,n){var i=a.getDataPropertyOrDefault(e,t+n,d);return i?_(i):false}function v(e,t,n){for(var i=0;i<e.length;i+=2){var a=e[i];if(n.test(a)){var r=a.replace(n,"");for(var s=0;s<e.length;s+=2){if(e[s]===r){throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}}}}function b(e,t,n,i){var r=a.inheritedDataKeys(e);var s=[];for(var o=0;o<r.length;++o){var l=r[o];var c=e[l];var u=i===h?true:h(l,c,e);if(typeof c==="function"&&!_(c)&&!g(e,l,t)&&i(l,c,e,u)){s.push(l,c)}}v(s,t,n);return s}var y=function(e){return e.replace(/([$])/,"\\$")};var x;if(false){var w=function(e){var t=[e];var n=Math.max(0,e-1-3);for(var i=e-1;i>=n;--i){t.push(i)}for(var i=e+1;i<=3;++i){t.push(i)}return t};var S=function(e){return a.filledRange(e,"_arg","")};var L=function(e){return a.filledRange(Math.max(e,3),"_arg","")};var E=function(e){if(typeof e.length==="number"){return Math.max(Math.min(e.length,1023+1),0)}return 0};x=function(e,l,c,u,d,f){var p=Math.max(0,E(u)-1);var h=w(p);var m=typeof e==="string"||l===i;function _(e){var t=S(e).join(", ");var n=e>0?", ":"";var i;if(m){i="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{i=l===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return i.replace("{{args}}",t).replace(", ",n)}function g(){var e="";for(var t=0;t<h.length;++t){e+="case "+h[t]+":"+_(h[t])}e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",m?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return e}var v=typeof e==="string"?"this != null ? this['"+e+"'] : fn":"fn";var b="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+f+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",g()).replace("[GetFunctionCode]",v);b=b.replace("Parameters",L(p));return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",b)(t,u,l,s,o,r,a.tryCatch,a.errorObj,a.notEnumerableProp,n)}}function k(e,l,c,u,d,f){var p=function(){return this}();var h=e;if(typeof h==="string"){e=u}function m(){var a=l;if(l===i)a=this;var c=new t(n);c._captureStackTrace();var u=typeof h==="string"&&this!==p?this[h]:e;var d=r(c,f);try{u.apply(a,s(arguments,d))}catch(e){c._rejectCallback(o(e),true,true)}if(!c._isFateSealed())c._setAsyncGuaranteed();return c}a.notEnumerableProp(m,"__isPromisified__",true);return m}var M=l?x:k;function T(e,t,n,r,s){var o=new RegExp(y(t)+"$");var l=b(e,t,o,n);for(var c=0,u=l.length;c<u;c+=2){var d=l[c];var f=l[c+1];var p=d+t;if(r===M){e[p]=M(d,i,d,f,t,s)}else{var h=r(f,function(){return M(d,i,d,f,t,s)});a.notEnumerableProp(h,"__isPromisified__",true);e[p]=h}}a.toFastProperties(e);return e}function A(e,t,n){return M(e,t,undefined,e,null,n)}t.promisify=function(e,t){if(typeof e!=="function"){throw new c("expecting a function but got "+a.classString(e))}if(_(e)){return e}t=Object(t);var n=t.context===undefined?i:t.context;var r=!!t.multiArgs;var s=A(e,n,r);a.copyDescriptors(e,s,m);return s};t.promisifyAll=function(e,t){if(typeof e!=="function"&&typeof e!=="object"){throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n")}t=Object(t);var n=!!t.multiArgs;var i=t.suffix;if(typeof i!=="string")i=u;var r=t.filter;if(typeof r!=="function")r=h;var s=t.promisifier;if(typeof s!=="function")s=M;if(!a.isIdentifier(i)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n")}var o=a.inheritedDataKeys(e);for(var l=0;l<o.length;++l){var d=e[o[l]];if(o[l]!=="constructor"&&a.isClass(d)){T(d.prototype,i,r,s,n);T(d,i,r,s,n)}}return T(e,i,r,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var r=e("./util");var s=r.isObject;var o=e("./es5");var l;if(typeof Map==="function")l=Map;var c=function(){var e=0;var t=0;function n(n,i){this[e]=n;this[e+t]=i;e++}return function i(a){t=a.size;e=0;var r=new Array(a.size*2);a.forEach(n,r);return r}}();var u=function(e){var t=new l;var n=e.length/2|0;for(var i=0;i<n;++i){var a=e[n+i];var r=e[i];t.set(a,r)}return t};function d(e){var t=false;var n;if(l!==undefined&&e instanceof l){n=c(e);t=true}else{var i=o.keys(e);var a=i.length;n=new Array(a*2);for(var r=0;r<a;++r){var s=i[r];n[r]=e[s];n[r+a]=s}}this.constructor$(n);this._isMap=t;this._init$(undefined,t?-6:-3)}r.inherits(d,n);d.prototype._init=function(){};d.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var i;if(this._isMap){i=u(this._values)}else{i={};var a=this.length();for(var r=0,s=this.length();r<s;++r){i[this._values[r+a]]=this._values[r]}}this._resolve(i);return true}return false};d.prototype.shouldCopyValues=function(){return false};d.prototype.getActualLength=function(e){return e>>1};function f(e){var n;var r=i(e);if(!s(r)){return a("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}else if(r instanceof t){n=r._then(t.props,undefined,undefined,undefined,undefined)}else{n=new d(r).promise()}if(r instanceof t){n._propagateFrom(r,2)}return n}t.prototype.props=function(){return f(this)};t.props=function(e){return f(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e,t,n,i,a){for(var r=0;r<a;++r){n[r+i]=e[r+t];e[r+t]=void 0}}function a(e){this._capacity=e;this._length=0;this._front=0}a.prototype._willBeOverCapacity=function(e){return this._capacity<e};a.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e;this._length=t+1};a.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i)){this._pushOne(e);this._pushOne(t);this._pushOne(n);return}var a=this._front+i-3;this._checkCapacity(i);var r=this._capacity-1;this[a+0&r]=e;this[a+1&r]=t;this[a+2&r]=n;this._length=i};a.prototype.shift=function(){var e=this._front,t=this[e];this[e]=undefined;this._front=e+1&this._capacity-1;this._length--;return t};a.prototype.length=function(){return this._length};a.prototype._checkCapacity=function(e){if(this._capacity<e){this._resizeTo(this._capacity<<1)}};a.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front;var a=this._length;var r=n+a&t-1;i(this,0,this,t,r)};t.exports=a},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var r=e("./util");var s=function(e){return e.then(function(t){return o(t,e)})};function o(e,o){var l=i(e);if(l instanceof t){return s(l)}else{e=r.asArray(e);if(e===null)return a("expecting an array or an iterable object but got "+r.classString(e))}var c=new t(n);if(o!==undefined){c._propagateFrom(o,3)}var u=c._fulfill;var d=c._reject;for(var f=0,p=e.length;f<p;++f){var h=e[f];if(h===undefined&&!(f in e)){continue}t.cast(h)._then(u,d,undefined,c,null)}return c}t.race=function(e){return o(e,undefined)};t.prototype.race=function(){return o(this,undefined)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=t._getDomain;var l=e("./util");var c=l.tryCatch;function u(e,n,i,a){this.constructor$(e);var s=o();this._fn=s===null?n:l.domainBind(s,n);if(i!==undefined){i=t.resolve(i);i._attachCancellationCallback(this)}this._initialValue=i;this._currentCancellable=null;if(a===r){this._eachValues=Array(this._length)}else if(a===0){this._eachValues=null}else{this._eachValues=undefined}this._promise._captureStackTrace();this._init$(undefined,-5)}l.inherits(u,n);u.prototype._gotAccum=function(e){if(this._eachValues!==undefined&&this._eachValues!==null&&e!==r){this._eachValues.push(e)}};u.prototype._eachComplete=function(e){if(this._eachValues!==null){this._eachValues.push(e)}return this._eachValues};u.prototype._init=function(){};u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)};u.prototype.shouldCopyValues=function(){return false};u.prototype._resolve=function(e){this._promise._resolveCallback(e);this._values=null};u.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();if(this._isResolved())return;this._resultCancelled$();if(this._currentCancellable instanceof t){this._currentCancellable.cancel()}if(this._initialValue instanceof t){this._initialValue.cancel()}};u.prototype._iterate=function(e){this._values=e;var n;var i;var a=e.length;if(this._initialValue!==undefined){n=this._initialValue;i=0}else{n=t.resolve(e[0]);i=1}this._currentCancellable=n;if(!n.isRejected()){for(;i<a;++i){var r={accum:null,value:e[i],index:i,length:a,array:this};n=n._then(p,undefined,undefined,r,undefined)}}if(this._eachValues!==undefined){n=n._then(this._eachComplete,undefined,undefined,this,undefined)}n._then(d,d,undefined,n,this)};t.prototype.reduce=function(e,t){return f(this,e,t,null)};t.reduce=function(e,t,n,i){return f(e,t,n,i)};function d(e,t){if(this.isFulfilled()){t._resolve(e)}else{t._reject(e)}}function f(e,t,n,a){if(typeof t!=="function"){return i("expecting a function but got "+l.classString(t))}var r=new u(e,t,n,a);return r.promise()}function p(e){this.accum=e;this.array._gotAccum(e);var n=a(this.value,this.array._promise);if(n instanceof t){this.array._currentCancellable=n;return n._then(h,undefined,undefined,this,undefined)}else{return h.call(this,n)}}function h(e){var n=this.array;var i=n._promise;var a=c(n._fn);i._pushContext();var r;if(n._eachValues!==undefined){r=a.call(i._boundValue(),e,this.index,this.length)}else{r=a.call(i._boundValue(),this.accum,e,this.index,this.length)}if(r instanceof t){n._currentCancellable=r}var o=i._popContext();s.checkForgottenReturns(r,o,n._eachValues!==undefined?"Promise.each":"Promise.reduce",i);return r}}},{"./util":36}],29:[function(e,t,n){"use strict";var i=e("./util");var a;var r=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};var s=i.getNativePromise();if(i.isNode&&typeof MutationObserver==="undefined"){var o=global.setImmediate;var l=process.nextTick;a=i.isRecentNode?function(e){o.call(global,e)}:function(e){l.call(process,e)}}else if(typeof s==="function"&&typeof s.resolve==="function"){var c=s.resolve();a=function(e){c.then(e)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova))){a=function(){var e=document.createElement("div");var t={attributes:true};var n=false;var i=document.createElement("div");var a=new MutationObserver(function(){e.classList.toggle("foo");n=false});a.observe(i,t);var r=function(){if(n)return;n=true;i.classList.toggle("foo")};return function n(i){var a=new MutationObserver(function(){a.disconnect();i()});a.observe(e,t);r()}}()}else if(typeof setImmediate!=="undefined"){a=function(e){setImmediate(e)}}else if(typeof setTimeout!=="undefined"){a=function(e){setTimeout(e,0)}}else{a=r}t.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=t.PromiseInspection;var r=e("./util");function s(e){this.constructor$(e)}r.inherits(s,n);s.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};s.prototype._promiseFulfilled=function(e,t){var n=new a;n._bitField=33554432;n._settledValueField=e;return this._promiseResolved(t,n)};s.prototype._promiseRejected=function(e,t){var n=new a;n._bitField=16777216;n._settledValueField=e;return this._promiseResolved(t,n)};t.settle=function(e){i.deprecated(".settle()",".reflect()");return new s(e).promise()};t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=e("./util");var r=e("./errors").RangeError;var s=e("./errors").AggregateError;var o=a.isArray;var l={};function c(e){this.constructor$(e);this._howMany=0;this._unwrap=false;this._initialized=false}a.inherits(c,n);c.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var e=o(this._values);if(!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};c.prototype.init=function(){this._initialized=true;this._init()};c.prototype.setUnwrap=function(){this._unwrap=true};c.prototype.howMany=function(){return this._howMany};c.prototype.setHowMany=function(e){this._howMany=e};c.prototype._promiseFulfilled=function(e){this._addFulfilled(e);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}return true}return false};c.prototype._promiseRejected=function(e){this._addRejected(e);return this._checkOutcome()};c.prototype._promiseCancelled=function(){if(this._values instanceof t||this._values==null){return this._cancel()}this._addRejected(l);return this._checkOutcome()};c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){var e=new s;for(var t=this.length();t<this._values.length;++t){if(this._values[t]!==l){e.push(this._values[t])}}if(e.length>0){this._reject(e)}else{this._cancel()}return true}return false};c.prototype._fulfilled=function(){return this._totalResolved};c.prototype._rejected=function(){return this._values.length-this.length()};c.prototype._addRejected=function(e){this._values.push(e)};c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e};c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new r(t)};c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(e,t){if((t|0)!==t||t<0){return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n")}var n=new c(e);var a=n.promise();n.setHowMany(t);n.init();return a}t.some=function(e,t){return u(e,t)};t.prototype.some=function(e){return u(this,e)};t._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){if(e!==undefined){e=e._target();this._bitField=e._bitField;this._settledValueField=e._isFateSealed()?e._settledValue():undefined}else{this._bitField=0;this._settledValueField=undefined}}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var a=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0};var r=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0};var s=t.prototype.isPending=function(){return(this._bitField&50397184)===0};var o=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0};e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536};e.prototype._isCancelled=function(){return this._target().__isCancelled()};e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0};e.prototype.isPending=function(){return s.call(this._target())};e.prototype.isRejected=function(){return r.call(this._target())};e.prototype.isFulfilled=function(){return a.call(this._target())};e.prototype.isResolved=function(){return o.call(this._target())};e.prototype.value=function(){return n.call(this._target())};e.prototype.reason=function(){var e=this._target();e._unsetRejectionIsUnhandled();return i.call(e)};e.prototype._value=function(){return this._settledValue()};e.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){var i=e("./util");var a=i.errorObj;var r=i.isObject;function s(e,i){if(r(e)){if(e instanceof t)return e;var s=l(e);if(s===a){if(i)i._pushContext();var o=t.reject(s.e);if(i)i._popContext();return o}else if(typeof s==="function"){if(u(e)){var o=new t(n);e._then(o._fulfill,o._reject,undefined,o,null);return o}return d(e,s,i)}}return e}function o(e){return e.then}function l(e){try{return o(e)}catch(e){a.e=e;return a}}var c={}.hasOwnProperty;function u(e){try{return c.call(e,"_promise0")}catch(e){return false}}function d(e,r,s){var o=new t(n);var l=o;if(s)s._pushContext();o._captureStackTrace();if(s)s._popContext();var c=true;var u=i.tryCatch(r).call(e,d,f);c=false;if(o&&u===a){o._rejectCallback(u.e,true,true);o=null}function d(e){if(!o)return;o._resolveCallback(e);o=null}function f(e){if(!o)return;o._rejectCallback(e,c,true);o=null}return l}return s}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=e("./util");var r=t.TimeoutError;function s(e){this.handle=e}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(e){return l(+this).thenReturn(e)};var l=t.delay=function(e,a){var r;var l;if(a!==undefined){r=t.resolve(a)._then(o,null,null,e,undefined);if(i.cancellation()&&a instanceof t){r._setOnCancel(a)}}else{r=new t(n);l=setTimeout(function(){r._fulfill()},+e);if(i.cancellation()){r._setOnCancel(new s(l))}r._captureStackTrace()}r._setAsyncGuaranteed();return r};t.prototype.delay=function(e){return l(e,this)};var c=function(e,t,n){var i;if(typeof t!=="string"){if(t instanceof Error){i=t}else{i=new r("operation timed out")}}else{i=new r(t)}a.markAsOriginatingFromRejection(i);e._attachExtraTrace(i);e._reject(i);if(n!=null){n.cancel()}};function u(e){clearTimeout(this.handle);return e}function d(e){clearTimeout(this.handle);throw e}t.prototype.timeout=function(e,t){e=+e;var n,a;var r=new s(setTimeout(function e(){if(n.isPending()){c(n,t,a)}},e));if(i.cancellation()){a=this.then();n=a._then(u,d,undefined,r,undefined);n._setOnCancel(r)}else{n=this._then(u,d,undefined,r,undefined)}return n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=e("./util");var l=e("./errors").TypeError;var c=e("./util").inherits;var u=o.errorObj;var d=o.tryCatch;var f={};function p(e){setTimeout(function(){throw e},0)}function h(e){var t=i(e);if(t!==e&&typeof e._isDisposable==="function"&&typeof e._getDisposer==="function"&&e._isDisposable()){t._setDisposable(e._getDisposer())}return t}function m(e,n){var a=0;var s=e.length;var o=new t(r);function l(){if(a>=s)return o._fulfill();var r=h(e[a++]);if(r instanceof t&&r._isDisposable()){try{r=i(r._getDisposer().tryDispose(n),e.promise)}catch(e){return p(e)}if(r instanceof t){return r._then(l,p,null,null,null)}}l()}l();return o}function _(e,t,n){this._data=e;this._promise=t;this._context=n}_.prototype.data=function(){return this._data};_.prototype.promise=function(){return this._promise};_.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return f};_.prototype.tryDispose=function(e){var t=this.resource();var n=this._context;if(n!==undefined)n._pushContext();var i=t!==f?this.doDispose(t,e):null;if(n!==undefined)n._popContext();this._promise._unsetDisposable();this._data=null;return i};_.isDisposer=function(e){return e!=null&&typeof e.resource==="function"&&typeof e.tryDispose==="function"};function g(e,t,n){this.constructor$(e,t,n)}c(g,_);g.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)};function v(e){if(_.isDisposer(e)){this.resources[this.index]._setDisposable(e);return e.promise()}return e}function b(e){this.length=e;this.promise=null;this[e-1]=null}b.prototype._resultCancelled=function(){var e=this.length;for(var n=0;n<e;++n){var i=this[n];if(i instanceof t){i.cancel()}}};t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var a=arguments[e-1];if(typeof a!=="function"){return n("expecting a function but got "+o.classString(a))}var r;var l=true;if(e===2&&Array.isArray(arguments[0])){r=arguments[0];e=r.length;l=false}else{r=arguments;e--}var c=new b(e);for(var f=0;f<e;++f){var p=r[f];if(_.isDisposer(p)){var h=p;p=p.promise();p._setDisposable(h)}else{var g=i(p);if(g instanceof t){p=g._then(v,null,null,{resources:c,index:f},undefined)}}c[f]=p}var y=new Array(c.length);for(var f=0;f<y.length;++f){y[f]=t.resolve(c[f]).reflect()}var x=t.all(y).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected()){u.e=n.error();return u}else if(!n.isFulfilled()){x.cancel();return}e[t]=n.value()}w._pushContext();a=d(a);var i=l?a.apply(undefined,e):a(e);var r=w._popContext();s.checkForgottenReturns(i,r,"Promise.using",w);return i});var w=x.lastly(function(){var e=new t.PromiseInspection(x);return m(c,e)});c.promise=w;w._setOnCancel(c);return w};t.prototype._setDisposable=function(e){this._bitField=this._bitField|131072;this._disposer=e};t.prototype._isDisposable=function(){return(this._bitField&131072)>0};t.prototype._getDisposer=function(){return this._disposer};t.prototype._unsetDisposable=function(){this._bitField=this._bitField&~131072;this._disposer=undefined};t.prototype.disposer=function(e){if(typeof e==="function"){return new g(e,this,a())}throw new l}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5");var canEvaluate=typeof navigator=="undefined";var errorObj={e:{}};var tryCatchTarget;var globalObject=typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:this!==undefined?this:null;function tryCatcher(){try{var e=tryCatchTarget;tryCatchTarget=null;return e.apply(this,arguments)}catch(e){errorObj.e=e;return errorObj}}function tryCatch(e){tryCatchTarget=e;return tryCatcher}var inherits=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e;this.constructor$=t;for(var i in t.prototype){if(n.call(t.prototype,i)&&i.charAt(i.length-1)!=="$"){this[i+"$"]=t.prototype[i]}}}i.prototype=t.prototype;e.prototype=new i;return e.prototype};function isPrimitive(e){return e==null||e===true||e===false||typeof e==="string"||typeof e==="number"}function isObject(e){return typeof e==="function"||typeof e==="object"&&e!==null}function maybeWrapAsError(e){if(!isPrimitive(e))return e;return new Error(safeToString(e))}function withAppended(e,t){var n=e.length;var i=new Array(n+1);var a;for(a=0;a<n;++a){i[a]=e[a]}i[a]=t;return i}function getDataPropertyOrDefault(e,t,n){if(es5.isES5){var i=Object.getOwnPropertyDescriptor(e,t);if(i!=null){return i.get==null&&i.set==null?i.value:n}}else{return{}.hasOwnProperty.call(e,t)?e[t]:undefined}}function notEnumerableProp(e,t,n){if(isPrimitive(e))return e;var i={value:n,configurable:true,enumerable:false,writable:true};es5.defineProperty(e,t,i);return e}function thrower(e){throw e}var inheritedDataKeys=function(){var e=[Array.prototype,Object.prototype,Function.prototype];var t=function(t){for(var n=0;n<e.length;++n){if(e[n]===t){return true}}return false};if(es5.isES5){var n=Object.getOwnPropertyNames;return function(e){var i=[];var a=Object.create(null);while(e!=null&&!t(e)){var r;try{r=n(e)}catch(e){return i}for(var s=0;s<r.length;++s){var o=r[s];if(a[o])continue;a[o]=true;var l=Object.getOwnPropertyDescriptor(e,o);if(l!=null&&l.get==null&&l.set==null){i.push(o)}}e=es5.getPrototypeOf(e)}return i}}else{var i={}.hasOwnProperty;return function(n){if(t(n))return[];var a=[];e:for(var r in n){if(i.call(n,r)){a.push(r)}else{for(var s=0;s<e.length;++s){if(i.call(e[s],r)){continue e}}a.push(r)}}return a}}}();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(e){try{if(typeof e==="function"){var t=es5.names(e.prototype);var n=es5.isES5&&t.length>1;var i=t.length>0&&!(t.length===1&&t[0]==="constructor");var a=thisAssignmentPattern.test(e+"")&&es5.names(e).length>0;if(n||i||a){return true}}return false}catch(e){return false}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var l=8;while(l--)new FakeConstructor;return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(e){return rident.test(e)}function filledRange(e,t,n){var i=new Array(e);for(var a=0;a<e;++a){i[a]=t+a+n}return i}function safeToString(e){try{return e+""}catch(e){return"[no string representation]"}}function isError(e){return e instanceof Error||e!==null&&typeof e==="object"&&typeof e.message==="string"&&typeof e.name==="string"}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true)}catch(e){}}function originatesFromRejection(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function canAttachTrace(e){return isError(e)&&es5.propertyIsWritable(e,"stack")}var ensureErrorObject=function(){if(!("stack"in new Error)){return function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(e){return e}}}else{return function(e){if(canAttachTrace(e))return e;return new Error(safeToString(e))}}}();function classString(e){return{}.toString.call(e)}function copyDescriptors(e,t,n){var i=es5.names(e);for(var a=0;a<i.length;++a){var r=i[a];if(n(r)){try{es5.defineProperty(t,r,es5.getDescriptor(e,r))}catch(e){}}}}var asArray=function(e){if(es5.isArray(e)){return e}return null};if(typeof Symbol!=="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from==="function"?function(e){return Array.from(e)}:function(e){var t=[];var n=e[Symbol.iterator]();var i;while(!(i=n.next()).done){t.push(i.value)}return t};asArray=function(e){if(es5.isArray(e)){return e}else if(e!=null&&typeof e[Symbol.iterator]==="function"){return ArrayFrom(e)}return null}}var isNode=typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]";var hasEnvVariables=typeof process!=="undefined"&&typeof process.env!=="undefined";function env(e){return hasEnvVariables?process.env[e]:undefined}function getNativePromise(){if(typeof Promise==="function"){try{var e=new Promise(function(){});if({}.toString.call(e)==="[object Promise]"){return Promise}}catch(e){}}}function domainBind(e,t){return e.bind(t)}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind};ret.isRecentNode=ret.isNode&&function(){var e=process.versions.node.split(".").map(Number);return e[0]===0&&e[1]>10||e[0]>0}();if(ret.isNode)ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)});if(typeof window!=="undefined"&&window!==null){window.P=window.Promise}else if(typeof self!=="undefined"&&self!==null){self.P=self.Promise}}).call(exports,__webpack_require__(83),__webpack_require__(54),__webpack_require__(283).setImmediate)},function(e,t,n){const i=n(29);const a=n(19);function r(e,t,n,a){var r,o=SUGAR.App.metadata.getStrings(e);o=n?o[n]:o;if(!o||!_.isString(o[t])){return}r=s(o[t]);if(!_.isUndefined(a)&&r.indexOf("{{")>-1){t="lang."+(n?t+"."+n:t);var l=Handlebars.templates[t];r=l?l(a):i.compile(t,r)(a)}return r}function s(e){return e.slice(-1)===":"?e.slice(0,-1):e}let o;let l;e.exports={direction:"ltr",get:function(e,t,n){var i=this.getModString(e,t,n)||this.getAppString(e,n)||e;return i},getModString:function(e,t,n){var i;if(_.isArray(t)){_.find(t,function(t){i=r("mod_strings",e,t,n);return!_.isEmpty(i)},this)}else{i=r("mod_strings",e,t,n)}return i},getAppString:function(e,t){return r("app_strings",e,null,t)},getAppListStrings:function(e){var t=SUGAR.App.metadata.getStrings("app_list_strings")[e]||{};if(_.isArray(t)){var n={};_.each(t,function(e){if(_.isString(e)){n[e]=e}else if(_.isArray(e)&&e.length===2){n[e[0]]=e[1]}});t=n}return t},getModuleName:function(e,t){t=t||{};var n=!t.plural&&this.getModString("LBL_MODULE_NAME_SINGULAR",e)||this.getModString("LBL_MODULE_NAME",e);if(!n&&!_.isUndefined(t.defaultValue)){n=this.get(t.defaultValue)}return n||e},getAppListKeys:function(e){var t=[],n=SUGAR.App.metadata.getStrings("app_list_strings")[e]||{};if(_.isArray(n)){_.each(n,function(e){if(e.length===2){t.push(e[0])}})}else if(_.isObject(n)){t=_.keys(n)}return t},getLanguage:function(){return l},setLanguage:function(e,t,n){var i=this;n=n||{};_.each(Handlebars.templates,function(e,t){if(t.indexOf("lang.")===0){delete Handlebars.templates[t]}});if(n.noSync===true){this.updateLanguage(e);return}SUGAR.App.sync({callback:function(a){var r=false;if(!a){i.updateLanguage(e);r=!SUGAR.App.api.isAuthenticated()&&!n.noUserUpdate;SUGAR.App.cache.set("langHasChanged",r)}if(t)t(a)},getPublic:!SUGAR.App.api.isAuthenticated(),noUserUpdate:n.noUserUpdate||false,language:e,forceRefresh:true,metadataTypes:["labels"]})},updateLanguage:function(e){SUGAR.App.cache.set("lang",e);a.setPreference("language",e);this.setCurrentLanguage(e);SUGAR.App.trigger("app:locale:change",e)},setDefaultLanguage:function(e){o=e},getDefaultLanguage:function(){return o},setCurrentLanguage:function(e){l=e;this.setDirection(e)},setDirection:function(e){var t=["he_IL","ar_SA"],n=_.contains(t,e),i=this.direction;this.direction=n?"rtl":"ltr";if(this.direction!==i){SUGAR.App.trigger("lang:direction:change")}},_get:function(e,t,n,i){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Language#_get is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Language#_get is a private method that you should not access to. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return r(e,t,n,i)},_sanitize:function(e){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Language#_sanitize is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Language#_sanitize is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(e)}}},function(e,t,n){const i=n(28);function a(){var e=":",t="last-state",n={},i=[];var a=function(n){var i=n.split(e);var a=[SUGAR.App.user.id,t];a=a.concat(i);return a.join(e)};var r=function(e){var t;if(e.meta&&e.meta.last_state){t=e.meta.last_state.id}return t};return{get:function(e){var t,n;if(!_.isUndefined(e)){n=a(e);t=SUGAR.App.cache.get(n);t=t===void 0?this.defaults(e):t}return t},set:function(e,t){if(!_.isUndefined(e)&&!_.isUndefined(t)){var n=a(e);SUGAR.App.cache.set(n,t)}},preserve:function(e){if(!_.isUndefined(e)){i.push(e)}},key:function(e,t){var n=r(t);return this.buildKey(e,n,t.module)},buildKey:function(t,n,i){var a,r=[];if(n){if(i){r.push(i)}r.push(n,t);a=r.join(e)}return a},defaults:function(e){return n[e]},register:function(e){var t=r(e);if(t){_.each(e.meta.last_state.defaults,function(t,i){n[this.key(i,e)]=t},this)}},remove:function(e){var t;if(!_.isUndefined(e)){t=a(e);SUGAR.App.cache.cut(t)}},_getPreservedKeys:function(){var e=[];_.each(i,function(t){e.push(a(t))});return e}}}var r=Backbone.Model.extend({load:function(e){SUGAR.App.api.me("read",null,null,{success:_.bind(function(t){if(t&&t.current_user){if(t.current_user._hash){SUGAR.App.cache.set("userpref:hash",t.current_user._hash)}this.set(t.current_user);var n=this.getPreference("language");if(SUGAR.App.lang.getLanguage()!==n){SUGAR.App.lang.setLanguage(n,null,{noUserUpdate:true,noSync:SUGAR.App.isSynced||SUGAR.App.metadata.isSyncing()})}}if(e)e()},this),error:function(t){SUGAR.App.error.handleHttpError(t);if(e)e(t)}})},loadLocale:function(e){SUGAR.App.api.call("read",SUGAR.App.api.buildURL("locale"),null,{success:function(t){if(e)e(t)},error:function(t){SUGAR.App.error.handleHttpError(t);if(e)e(t)}})},getLanguage:function(){return this.getPreference("language")||SUGAR.App.cache.get("lang")},updateLanguage:function(e,t){var n=function(n){if(!n)SUGAR.App.lang.updateLanguage(e);if(t)t(n)};this.update("update",{preferred_language:e},n)},updateProfile:function(e,t){var n=function(e){if(t)t(e)};this.update("update",e,n)},updatePreferences:function(e,t){var n=this;if(SUGAR.App.api.isAuthenticated()){SUGAR.App.api.call("update",SUGAR.App.api.buildURL("me/preferences"),e,{success:function(i){if(i._hash){SUGAR.App.cache.set("userpref:hash",i._hash);n.set({_hash:i._hash})}_.each(e,function(e,t){if(i[t]){n.setPreference(t,i[t])}});if(t)t()},error:function(e){SUGAR.App.error.handleHttpError(e);if(t)t(e)}})}else{if(t)t()}},update:function(e,t,n){if(SUGAR.App.api.isAuthenticated()){SUGAR.App.api.me(e,t,null,{success:_.bind(function(e){if(e.current_user){if(e.current_user._hash){SUGAR.App.cache.set("userpref:hash",e.current_user._hash)}this.set(e.current_user)}if(n)n()},this),error:function(e){SUGAR.App.error.handleHttpError(e);if(n)n(e)}})}else{n()}},getAcls:function(){return this.get("acl")||{}},getPreference:function(e){var t=this.get("preferences")||{};return t[e]},setPreference:function(e,t){var n=this.get("preferences")||{};n[e]=t;return this.set("preferences",n)},getCurrency:function(){var e=this.get("preferences"),t={};if(e){t.currency_id=e.currency_id;t.currency_iso=e.currency_iso;t.currency_name=e.currency_name;t.currency_rate=e.currency_rate;t.currency_show_preferred=e.currency_show_preferred;t.currency_symbol=e.currency_symbol}return t},lastState:a()});const s=new r;i.on("app:logout",function(e){SUGAR.App.cache.cut("userpref:hash");if(e===true){s.clear({silent:true})}});i.on("cache:clean",function(e){e(s.lastState._getPreservedKeys())});e.exports=s},function(e,t,n){const i=n(4);const a=n(14);const r=n(12);const s=n(1);const o=n(7);const l={kLocalSecurityConfigKey:"kLocalSecurityConfigKey",isTouchIdAuthenticationSupported(){const{device:e}=app.clientInfo;let t=(e.touchIdSupported||e.faceIdSupported)&&app.config.localSecurity.enabled&&!app.loginManager.getSetting("isSSO")&&c.isLocalSecurityEnabled("touchIdForLoginEnabled");if(app.isSynced){t=t&&app.config.localSecurity.touchIdForLoginEnabled&&app.supportedFeatures.localSecurityServerSupport}return t},isPasskeyAuthenticationSupported(){return app.supportedFeatures.localSecurityServerSupport&&app.isNative&&app.config.localSecurity.enabled&&c.isLocalSecurityEnabled("passkeyEnabled")},configureLocalSecurity({touchIdForLoginEnabled:e=app.config.localSecurity.touchIdForLoginEnabled,passkeyEnabled:t=app.config.localSecurity.passkeyEnabled,touchIdForPasskeyEnabled:n=app.config.localSecurity.touchIdForPasskeyEnabled}){a.setSetting({store:a.Stores.SETTINGS,name:this.kLocalSecurityConfigKey,value:{touchIdForLoginEnabled:e,passkeyEnabled:t,touchIdForPasskeyEnabled:n}})},isTouchIdForLoginSetup(){return this.isTouchIdAuthenticationSupported()&&Boolean(a.getSetting({store:a.Stores.SETTINGS,name:c.kTouchIdEnabledKey}))},isTouchIdEnrolled(e){this._isTouchIdEnrolled(e)},storeCredentials(e,t){this._storeCredentials(e,t);a.setSetting({store:a.Stores.SETTINGS,name:c.kTouchIdEnabledKey,value:true})},resetCredentials(){this._resetCredentials();a.setSetting({store:a.Stores.SETTINGS,name:c.kTouchIdEnabledKey,value:false})},toggleTouchIdOnLogin(e=true){this._touchIdDisabledOnLogin=!e},isTouchIdEnabledOnLogin(){return this.isTouchIdForLoginSetup()&&!this._touchIdDisabledOnLogin},performTouchId(e,t){this._performTouchId(e,t)},isStepNeeded(){return!this.isTouchIdForLoginSetup()},canPerformStep(){return Boolean(this.getTempCredential())},cleanupStep(){this.resetTempCredential()},setTempCredential(e){this._tempTouchIdCredential=e},getTempCredential(){return this._tempTouchIdCredential},resetTempCredential(){this._tempTouchIdCredential=null},moveTempCredentialsToStorage(){const e=app.loginManager.getSetting("loginName");this.storeCredentials(e,this._tempTouchIdCredential);this.resetTempCredential()},processConfig(e={}){const t={};if(e.mobile&&app.config.localSecurity.enabled&&app.isNative&&$.os.ios){const n=e.mobile.localSecurityMask;if(_.isNumber(n)){const e=app.config.localSecurity;t.localSecurity=_.extend({},e,{touchIdForLoginEnabled:Boolean(n&c.kTouchIdForLogin),passkeyEnabled:Boolean(n&c.kPasskey),touchIdForPasskeyEnabled:Boolean(n&c.kTouchIdForPasskey)});if(e.touchIdForLoginEnabled!==t.localSecurity.touchIdForLoginEnabled){this.resetCredentials()}}}return t},showSetupView(e){const t=s.getViewClass("touchid-setup");const n=app.controller.layoutManager.getRootLayout();const i=n&&n.getComponent(t);if(!i){app.controller.loadScreen({isDynamic:true,fullScreen:true,view:t,headerConfig:{enabled:false},context:new o({create:true,callback:e}).prepare()})}},performTouchIdSetup(e){const t=this;const n=app.lang.get(app.clientInfo.device.faceIdSupported?"LBL_FACEID":"LBL_TOUCHID");asyncLib.series([e=>{t.isTouchIdEnrolled(t=>{if(t){const t=app.lang.get("LBL_TOUCH_ID_DISCLAIMER",null,{brandName:app.config.brandName,biometryType:n})+app.lang.get("LBL_TOUCH_ID_ENABLE_CONFIRM_MSG",null,{biometryType:n});i.showConfirm(t,{callback:t=>{e(t!==2)},title:app.lang.get("LBL_ENABLE_TOUCHID",null,{biometryType:n})})}else{i.showAlert(app.lang.get("LBL_TOUCH_ID_NOT_ENROLLED_MSG",null,{brandName:app.config.brandName,biometryType:n}),{title:app.lang.get("LBL_SETUP_TOUCHID",null,{biometryType:n})});e(true)}})},e=>{const a={title:"",buttonLabels:[app.lang.get("LBL_CANCEL_BUTTON_LABEL"),app.lang.get("LBL_ENABLE")],defaultText:app.lang.get("LBL_LOGIN_PASSWORD"),inputStyle:3};let s;const o="wait_to_verify_password";asyncLib.retry(app.config.localSecurity.maxAllowedPasswordAttempt,e=>{const l=(s?`${app.lang.get("ERR_MOBILE_INVALID_PASSWORD")}\n\n`:"")+app.lang.get("LBL_TOUCH_ID_ENTER_PASSWORD_TITLE",null,{brandName:app.config.brandName,biometryType:n});r.show(o);i.showPrompt(l,_.extend({},a,{callback:n=>{const{buttonIndex:i}=n;if(i===2){const i=n.input1;app.alert.show(o,{level:"info",messages:app.lang.get("LBL_MOBILE_WAIT"),autoClose:false,closable:false});c.verifyPasswordForTouchId(i,(n,a)=>{s=!n;let l;let c=!n;if(n){t.setTempCredential(i)}else if(a){c=false;l=true}app.alert.dismiss(o);r.hide(o);e(c,l)})}else{r.hide(o);e(false,true)}}}))},(t,n)=>{if(t){app.loginManager.logout({clear:true})}e(t||n)})}],t=>{e(!t)})}};if(true){_.extend(l,n(153))}else{_.extend(l,require("%app.js%/native/local-security"))}e.exports=l;const c={kTouchIdForLogin:1,kPasskey:2,kTouchIdForPasskey:4,kTouchIdEnabledKey:"touchIdEnabled",isLocalSecurityEnabled(e){const t=a.getSetting({store:a.Stores.SETTINGS,name:l.kLocalSecurityConfigKey});return t?t[e]:app.config.localSecurity[e]},verifyPasswordForTouchId(e,t){app.alert.dismissAll("error");app.api.verifyPassword(e,{error:e=>{app.error.handleHttpError(e,null,{forceAlert:true});t(false,e)},success:e=>{if(e.valid){t(true)}else{app.alert.show("auth_error",{level:"error",messages:app.lang.get("ERR_MOBILE_INVALID_PASSWORD"),autoClose:true});t(false)}}})}}},function(e,t,n){const i=999;const{isStandardModule:a}=n(3);e.exports={contextMetaViews:{list:{numberOfItems:2},detail:{numberOfItems:i},all:{numberOfItems:i,customModsOnly:true,useVarDef:true}},contextMeta:{},initializeContextMeta(){this.contextMeta=this.contextMeta||{};_.each(this.contextMetaViews,(e,t)=>{this.contextMeta[t]=this.contextMeta[t]||{};const n=e.type||t;let i=_.keys(app.metadata.getModules());if(e.customModsOnly){i=_.reject(i,e=>a(e))}_.each(i,e=>{if(app.metadata.getModule(e)){const i=app.data.createBean(e);this.contextMeta[t][e]=this.calculateContextMeta(i,e,n)}})})},calculateContextMeta(e,t,n){const a=this.contextMetaViews[n].numberOfItems||i;const r=app.metadata.getView(t,n);let s=[];let o;if(this.contextMetaViews[n].useVarDef){s=[app.metadata.getModule(t)]}else if(r){s=r.panels}_.each(s,t=>{o=e.getContextMetaData(t.fields,a)});return o},getContextMeta(e,t){const n=this.contextMeta[e]||{};return t?n[t]:n}}},function(e,t,n){const i=n(3);e.exports={_started:false,_cacheKey:"dashboards",_dashletTypeRegistry:{},isStarted(){return this._started},reset(){this._started=false},resetCollection(){if(this.collection){this.collection.reset()}},start(){this._started=true;this.cacheDashletStore=app.nomad.stores.dashlets;this.initCollection()},initCollection(){const e=this.getCachedDashboards()||[];this.collection=this.collection||app.data.createBeanCollection("Dashboards");this.collection.reset(e,{silent:true})},fetchDashboards(e,t){const i=n(9);const a=n(16);asyncLib.waterfall([e=>{if(a.versionCompare(i.getRestVersion(),"10",">")){this._fetchDashboardsV11(e)}else{this._fetchDashboardsV10(e)}},(e,t)=>{this._fetchDashboardMeta(e,t)}],(n,i)=>{if(n){app.logger.debug(`Error while fetching dashboards${n}`)}else{this._processFetchResults(i,e)}if(t){t(n)}})},_fetchDashboardsV11(e){const t=app.metadata.getModuleNames({filter:"visible"});t.push("Home");const n=_.map(t,e=>{const t=e==="Home"?[]:[{view_name:"record"}];if(app.supportedFeatures.shareableDashboards){t.push({$or:[{$favorite:""},{default_dashboard:1}],dashboard_module:e})}else{t.push({dashboard_module:e})}return app.nomad.buildBulkRequest({module:"Dashboards",limit:-1,params:{filter:t}})});app.api.bulk({requests:n},{success:t=>{e(null,this._getSuccessfulResponses(t))},error:e})},_fetchDashboardsV10(e){const t=this;let n;if(app.supportedFeatures.shareableDashboards){n=[{$or:[{$favorite:""},{default_dashboard:1}]}]}const i=app.metadata.getModuleNames({filter:"visible"});const a=_.map(i,e=>app.nomad.buildBulkRequest({module:`Dashboards/${e}`,limit:-1,params:{view_name:"record",filter:n}}));a.push(app.nomad.buildBulkRequest({module:"Dashboards",params:{filter:n}}));app.api.bulk({requests:a},{success:n=>{e(null,t._getSuccessfulResponses(n))},error:e})},_fetchDashboardMeta(e,t){const n=this;const i=_.map(e,e=>app.nomad.buildBulkRequest({module:"Dashboards",attributes:{id:e.id}}));app.api.bulk({requests:i},{success(e){t(null,n._getSuccessfulResponses(e))},error:t})},_processFetchResults(e,t={}){const n=this.collection.toJSON();e=_.filter(e,function e(t){const n=t.metadata;this.adjustDashboardMetadata(n,{isRecordDashboard:t.dashboard_module!=="Home",module:t.dashboard_module});return!_.isEmpty(n.dashlets)},this);this._cacheDashboards(e);this.cleanUnusedDashletsCache();this.collection.reset(e,{silent:true});if(t.notifyIfChanged&&this._isAnyDashboardChanged(n,e)){app.events.trigger("app:dashboards:changed")}},getDashboards(e){let t;if(!this._started){return[]}t=this.collection.models;if(e){switch(e.type){case"home":t=_.filter(t,e=>e.get("dashboard_module")==="Home");break;case"detail":t=_.filter(t,e=>e.get("dashboard_module")!=="Home");break}if(e.module){t=_.filter(t,t=>t.get("dashboard_module")===e.module)}}return t},getDashboard(e){return this.collection.get(e)},adjustDashboardMetadata(e,t={}){const n=this;e.dashlets=[];_.each(e.components,t=>{_.each(t.rows,t=>{_.each(t,t=>{const a=t.view;if(!a){return}const r=_.values(a).join("");t.id=String(Math.abs(i.getHashCode(r)));e.dashlets.push(t);n._normalizeDashletMeta(t)})})});e.components=null;this.cleanDashlets(e.dashlets,t)},cleanDashlets(e,t){let n;const i=[];for(n=e.length-1;n>-1;n--){if(!_.contains(i,e[n].id)&&this.canCreateDashlet(e[n],t)){i.push(e[n].id)}else{e.splice(n,1)}}},canCreateDashlet(e,t){let n=false;const a=this._getDashletType(e);if(this.isDashletSupported(e,t)){if(a==="tabbed-dashlet"){const t=app.metadata.getView(null,e.view.type);n=Boolean(t)&&_.any(t.tabs,e=>i.isAccessibleModule(e.module,"list"))}else if(a==="dashablelist"){n=i.isAccessibleModule(e.view.module,"list")}else if(a==="casessummary"){n=i.isAccessibleModule("Cases","list")}else{n=true}}return n},isDashletSupported(e,t){const n=this._getDashletType(e);const i=app.config.dashboards.dashlets[n];const a=this._dashletTypeRegistry[n];if(n==="activitystream-dashlet"&&t.module==="Emails"){return false}return a||i&&app.utils.versionCompare(app.serverInfo.version,i.minServerVersion,">=")},_normalizeDashletMeta(e){const t=e.view;if(!t.module&&e.context&&e.context.module){t.module=e.context.module}if(!t.type&&t.name){t.type=t.name}},getDashboardDashlets(e){const t=this.getDashboard(e);return t.get("metadata").dashlets},isDashletAvailable(e,t){return _.chain(this.getDashboardDashlets(e)).pluck("id").contains(t).value()},getDashletTitle(e){let t=e||{};const{type:n}=e;let a;const r=_.isFunction(e.type)?e.type:this._dashletTypeRegistry[e.type];if(r){a=r.prototype.getTitle(e)}else{a=e.label}let{module:s}=e;if(n==="dashablelist"){t={module:app.lang.getAppListStrings("moduleList")[s]||s}}else if(n==="bubblechart"&&!s){s=i.getForecastModule()}return app.lang.get(a,s,t)},getDashletConfig(e,t){const n=_.find(this.getDashboardDashlets(e)||[],e=>e.id.toString()===t);return n},_cacheDashboards(e){app.cache.set(this._cacheKey,e)},getCachedDashboards(){return app.cache.get(this._cacheKey)},verifyDefaultView(){const e=app.loginManager.getSetting("default_view");if(!e){return}const t=e.split(":");const n=t[0]==="Dashboards"&&t[1];let i;let a;let r=true;if(n){a=Boolean(this.getDashboard(n));i=t[2];r=a&&(i?this.isDashletAvailable(n,i):true);if(!r){app.loginManager.removeSetting("default_view")}}},cleanDashboardsCache:function e(t){app.cache.cut(this._cacheKey)},cleanDashletsCache:function e(t){t=t||_.noop;if(app.config.dashboards.enabled){this.cacheDashletStore.cutAll(t)}else{t()}},cleanUnusedDashletsCache:function e(t){const n=this;this.cacheDashletStore.getAll((e,i)=>{if(e){return t(e)}const a=[];const r=[];n.collection.each(e=>{const t=e.get("metadata");_.each(t.dashlets,e=>{if(!_.contains(a,e.id)){a.push(e.id)}})});_.each(i,(e,t)=>{if(!_.contains(a,t)){r.push(e=>{n.cacheDashletStore.cut(t,e)})}});asyncLib.parallel(r,t)})},_getDashletType(e){const t=app.metadata.getView(null,e.view.type);return t&&t.tabs?"tabbed-dashlet":e.view.type},_isAnyDashboardChanged(e,t=[]){return e.length!==t.length||_.any(e,function e(n){return!_.any(t,e=>n.id===e.id&&n.date_modified===e.date_modified,this)},this)},_getSuccessfulResponses(e){const t=[];_.each(e,e=>{if(e.status===200){if(e.contents.records){t.push(...e.contents.records)}else if(e.contents&&e.contents.metadata){t.push(e.contents)}}});return t},registerDashlet(e,t){this._dashletTypeRegistry[e]=t},getDashletTypeRegistry(){return this._dashletTypeRegistry}}},function(e,t){e.exports={BucketType:{INITIAL:"initial",COMPLETE:"complete"},ProgressEventType:{START:"start",STOP:"stop",PAGE_START:"page_start",PAGE_FINISH:"page_finish",COMPLETE:"complete"},ModuleStatus:{IN_PROGRESS:"in_progress",OFFLINE_ERROR:"offline_error",UNKNOWN_ERROR:"unknown_error"},SettingsKey:{SETUP_SHOWN:"offline:bulkload:driver:setupShown",ALLOW_CELLULAR:"offline:bulkload:driver:allowCellular"},State:{IDLE:"idle",WORKING:"working",PAUSED_BY_CONNECTION:"paused_by_connection",PAUSED_BY_USER:"paused_by_user"}}},function(e,t){e.exports={getProductVersion(){return`${app.clientInfo.app.productVersion}.${app.clientInfo.app.productBuild}${app.config.env!=="prod"?` (${app.config.env})`:""}${_.isEmpty(app.config.buildTag)?"":` ${app.config.buildTag}`}`},getNomadVersion(){let e=this.getSdkVersion();e=e.slice(0,e.indexOf("-"));return e.slice(0,e.lastIndexOf("."))},getNomadBuild(){let e=this.getSdkVersion();e=e.slice(0,e.indexOf("-"));return e.slice(e.lastIndexOf(".")+1)},getToolsVersion(){const e=this.getSdkVersion();return e.slice(e.indexOf("-")+1,e.lastIndexOf("-"))},getApiLevel(){const e=this.getSdkVersion();return e.slice(e.lastIndexOf("-")+1)},getSdkVersion(){return app.config.sdkVersion},getServerVersion(){return app.serverInfo&&app.api.isAuthenticated()?`${app.serverInfo.version} ${app.serverInfo.flavor}`:"N/A"},getDesktopUrl(){return`${app.config.siteUrl}?mobile=0`}}},function(e,t){const n={GENERIC:{},UP:{},BACK:{},BACK_BUTTON:{},HOME:{},SAVE:{},DELETE:{},RELATE:{},LIST:{},DASHBOARD:{},ACTIVITIES_LIST:{},DASHLET_LIST:{},ERROR_LOAD_SCREEN:{},CONFIGURE:{}};_.each(n,(e,t)=>{n[t].name=t});e.exports=n},function(e,t,n){const i=n(7);const a=n(121);const r=n(23);const s=n(4);const o=n(6);const l=n(9);const c=n(1);const{isOnline:u,supportsFavorite:d,supportsMyItems:f,supportsFollowing:p}=n(3);const h={_initialized:false,_connectionEventsDispatcher:null,init(){if(!app.config.offline.bulkLoad.enabled){return}this.processChangingConnection=this.processChangingConnection.bind(this);app.events.on("offline:toggled",e=>{if(e){if(this._initialized){this._startIfPossible()}else{this._init()}}else if(this._initialized){this._uninit()}});app.events.on("offline:storage:migrate",e=>{if(e.storageRebuilt){this.reset()}})},_init(){a.init();app.events.on("app:sync:complete",this._onAppSync,this);app.events.on("offline:bulkload:progress",this._onBulkLoadProgress,this);app.events.on("offline:cleanup:completed",this._onOfflineCleanupCompleted,this);app.events.on("user:reset_settings",({reset:e})=>{if(e){this.reset()}});this._connectionEventsDispatcher=app.isNative?$(document):$(window);this._connectionEventsDispatcher.on("online",this.processChangingConnection);this._connectionEventsDispatcher.on("offline",this.processChangingConnection);o.registerForPushNotifications();this.onAppPause=this._onAppPause;this.onAppResume=this._onAppResume;if(!this._wasBucketQueued(r.BucketType.INITIAL)){const e=this._getModulesToLoad(r.BucketType.INITIAL);a.queueBuckets({name:r.BucketType.INITIAL,modules:e});a.start()}else{this._startIfPossible()}this._initialized=true},_uninit(){a.uninit();if(!app.offline.storageExists()){this.reset()}app.events.off("app:sync:complete",this._onAppSync,this);app.events.off("offline:bulkload:progress",this._onBulkLoadProgress,this);app.events.off("offline:cleanup:completed",this._onOfflineCleanupCompleted,this);app.events.off("user:reset_settings",null,this);this._connectionEventsDispatcher.off("online",this.processChangingConnection);this._connectionEventsDispatcher.off("offline",this.processChangingConnection);this._connectionEventsDispatcher=null;this.onAppPause=null;this.onAppResume=null;this._initialized=false},_bulkLoaderNotificationSent:false,onAppPause:null,_onAppPause(){if(a._status.working){a.stop();if(!this._bulkLoaderNotificationSent&&a._status.bucketName===r.BucketType.COMPLETE){o.sendLocalNotification({message:app.lang.get("LBL_BULK_LOAD_PAUSED_MESSAGE")});this._bulkLoaderNotificationSent=true}}},onAppResume:null,_onAppResume(){this._startIfPossible()},reset(){l.removeSetting(r.SettingsKey.SETUP_SHOWN);a.clearCache()},getCache(){return _.pick(a.cache,"lastCompletedTs","status")},getState(){if(a._status.working){return{state:r.State.WORKING,module:a._status.module,count:a._status.count}}if(!this._initialized||a.cache.queue.length===0){return{state:r.State.IDLE}}if(a.cache.pausedByUser){return{state:r.State.PAUSED_BY_USER}}return{state:r.State.PAUSED_BY_CONNECTION}},userPause(e){a.stop(e);a.cache.pausedByUser=true;a.cache.save()},userResume(){a.cache.pausedByUser=false;a.cache.save();this._startIfPossible()},isRequired(){return app.offlineEnabled&&app.config.offline.bulkLoad.enabled&&!l.getSetting(r.SettingsKey.SETUP_SHOWN)},setupBulkLoad(e=_.noop){if(this.isRequired()){const t=new i({create:true}).prepare();app.controller.loadScreen({isDynamic:true,fullScreen:true,headerConfig:{enabled:false},view:c.getViewClass("bulk-load-setup"),initOptions:{className:"no-main-menu layout__bulkload",callback:t=>{l.setSetting(r.SettingsKey.SETUP_SHOWN,true);app.controller.disposeDynamic();if(t){this.queueCompleteDownload()}this.processChangingConnection();e()}},context:t})}else{e()}},queueCompleteDownload(){let e=_.sortBy(this._getModulesToLoad(r.BucketType.COMPLETE),e=>{const t=a.cache.status[e.name]&&a.cache.status[e.name].status;if(!t||t===200||t===r.ModuleStatus.IN_PROGRESS){return 1}return 0});app.offline.storage.getStats({success:t=>{e=_.filter(e,e=>{const n=e.name;let i=app.config.offline.dbLimits.modules[n]||app.config.offline.dbLimits.default;i=Math.round(i*1.1);const a=i-t.count[n];if(a>0){e.limit=Math.min(e.limit,a);return true}return false});a.queueBuckets({name:r.BucketType.COMPLETE,modules:e});this._startIfPossible()},error:e=>{app.logger.error(`Failed to count records in database while starting bulk loader complete session. ${e}`)}})},processChangingConnection(){if(this._allowedToStart()){a.start()}else{a.stop()}},_onAppSync(){const e=app.offline.utils.getOfflineModules();const t=this._getProcessedModules();this._processRemovedModules(e,t);if(this._wasBucketQueued(r.BucketType.COMPLETE)){this._processAddedModules(e,t)}},_onOfflineCleanupCompleted(){a.stop(a.resetModulesStatus)},_allowedToStart(){return this._connectionAllows()&&!a.cache.pausedByUser},_startIfPossible(){if(this._allowedToStart()){a.start()}},_processRemovedModules(e,t){const n=[];_.each(t,t=>{if(e.indexOf(t)===-1){n.push(t)}});if(n.length){_.each(a.cache.queue,e=>{e.modules=_.filter(e.modules,e=>n.indexOf(e.name)===-1)});_.each(n,e=>{delete a.cache.status[e]});a.cache.save()}},_processAddedModules(e,t){const n=[];_.each(e,e=>{if(t.indexOf(e)===-1){n.push(e)}});if(n.length){const e=_.filter(this._getModulesToLoad(r.BucketType.COMPLETE),e=>n.indexOf(e.name)!==-1);const t=_.find(a.cache.queue,e=>e.name===r.BucketType.COMPLETE);if(t){Array.prototype.push.apply(t.modules,e);a.cache.save()}}},_getProcessedModules(){const e=[];_.each(a.cache.queue,t=>{_.each(t.modules,t=>{if(e.indexOf(t.name)===-1){e.push(t.name)}})});_.each(a.cache.status,(t,n)=>{if(e.indexOf(n)===-1){e.push(n)}});return e},_onBulkLoadProgress(e,t){if(e===r.ProgressEventType.COMPLETE&&t===r.BucketType.COMPLETE){const e=this.getCache().status;const t=!_.find(e,e=>e.status!==200);if(t){s.showAlert(app.lang.get("LBL_BULK_LOAD_COMPLETED_MESSAGE"),{title:app.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS")})}else{app.logger.error(`Bulk Loader finished with errors. Status: ${JSON.stringify(e)}`);s.showConfirm(app.lang.get("LBL_BULK_LOAD_ERROR_CONFIRM"),{title:app.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS"),callback:e=>{if(e===2){this.queueCompleteDownload()}}})}}},_wasBucketQueued(e){return Boolean(_.find(a.cache.queuedBuckets,t=>t===e))},_connectionAllows(){if(app.config.scheme==="e2e"){return true}if(!u()){return false}if(app.isNative){const e=Boolean(app.loginManager.getSetting(r.SettingsKey.ALLOW_CELLULAR));const t=navigator.connection.type===window.Connection.WIFI;return e||t}return true},_getModuleFilters(e){let t=[];const n=app.data.createBean(e);if(p(n)){t.push({$following:"_this"})}if(d(n)){t.push({$favorite:"_this"})}if(f(e)){t.push({$owner:"_this"})}t=_.isEmpty(t)?null:[{$or:t}];return t},_getModulesToLoad(e){const t=[];const n=this.getBulkLoadConfig(e);const i=e=>{_.each(e,e=>{const i={name:e,limit:this._getModuleLimit(e,n),pageSize:n.pageSize};const a=this._getModuleFilters(e);if(a){i.filter=a}if(app.metadata.getModule(e)&&app.acl.hasAccess("list",e)){t.push(i)}else{app.logger.debug(`Skipping prefetch of ${e}. Either metadata is missing or no access is given`)}})};if(!_.isEmpty(n.modules)){i(n.modules)}if(e===r.BucketType.COMPLETE){const e=app.offline.utils.getOfflineModules({filter:"visible",includeStatic:true,checkAccess:true});i(_.difference(e,_.keys(n.modules)))}return t},getBulkLoadConfig(e){return e===r.BucketType.INITIAL?app.config.offline.bulkLoad.initial:app.config.offline.bulkLoad.complete},_getModuleLimit(e,t){const n=(t.numPages.modules||{})[e]?t.numPages.modules[e]:t.numPages.default;return n*t.pageSize}};app.augment("bulkLoader",h);e.exports=h},function(e,t,n){const{isStandardModule:i}=n(3);const a=n(1);const r=n(4);const s=n(12);const o=n(75);const l=a.extendComponent(o,{_stringType:"edit",NOTHING_CHANGED_ERR:"nothing_changed",VALIDATION_ERR:"validation_error",_bodyScroll:true,skipNavigationAfterSave:false,serverSync:true,events(){return{"click .delete":"deleteRecord"}},plugins:[],globalEvents:{"offline:data:updated":function(e){if(e.isCollection||e.id!==this.model.id){return}if(e.action==="delete"){this.showRecordOverlay(e.data,e.status);return}if(!this._modelBackup||e.date_modified===this._modelBackup.date_modified){return}const t=app.lang.get("LBL_OFFLINE_MERGE_DATA_CONFIRM");const n=_.pick(this.model.attributes,this._getChangedFields());const i=e.complete;if(_.isEmpty(n)){this.model.fetch({params:{skipServerSync:true}})}else{r.showConfirm(t,{callback:_.bind(function t(a){if(a===2){const{model:t}=this;e.complete=function e(...a){t.set(n);if(i){i.apply(this,a)}}}this.model.fetch(_.extend(e,{params:{skipServerSync:true}}))},this)})}}},initialize(e){if(e.context&&e.context.get("duplicate")){this._setDuplicateOptions(e)}this._super(e);this._fileUploads={};this._modelBackup=null;this.relateFields=null;this.isCreate=Boolean(this.context)&&this.context.isCreate();if(!_.isUndefined(e.serverSync)){this.serverSync=e.serverSync}const t=this.context.get("link");if(t){const e=this.context.get("parentModule");const n=app.data.getRelateFields(e,t);this.relateFields=_.isEmpty(n)?null:_.pluck(n,"name");this.relationshipFields=this._getRelationshipFields()}if(this.isCreate){const e=app.metadata.getModule(this.module).fields.assigned_user_name;if(e){const t=!_.isUndefined(e.default)&&_.isEmpty(e.default);if(e.type==="relate"&&!t){const t={};t[e.id_name]=app.user.get("id");t[e.name]=app.user.get("full_name");this.model.set(t)}}const t=app.metadata.getModule(this.module).fields.team_name;if(t){const e=this.model.get(t.name)||app.user.getPreference("default_teams")||[];if(!e.length){e.push({id:1,name:"Global",primary:true})}this.model.set(t.name,e)}}this._updateReadOnlyStatus();this.listenTo(this.model,"error:validation",e=>this.onValidationError(e))},onValidationError(e){app.alert.show("validation_error",{level:"error",messages:app.lang.get("ERR_MOBILE_VALIDATION"),autoClose:true})},getDisplayFields(){return this._super().filter(e=>this.canDisplay(e))},_setDuplicateOptions(e){const t=app.controller.getScreenContext();const{context:n}=e;let i;let a;if(t.link){a=app.data.createBean(t.parentModule,{id:t.parentModelId});i=app.data.createRelatedBean(a,null,t.link)}else{i=app.data.createBean(t.module)}i.copy(n.get("sourceModel"));const r={model:i,parentModel:a,parentModule:t.parentModule,parentModelId:t.parentModelId,link:t.link,create:true,duplicate:true};n.set(r)},isEditView(){return true},_render(){this.action=this.isCreate?"create":"edit";if(this.action==="edit"){this._updateReadOnlyStatus();this.action=this.isReadOnly?"disabled":"edit";this.name=this.action}this._super()},onBeforeRender(){this._super();this.model.off("error:validation");this.model.on("error:validation",()=>{app.alert.show("validation_error",{level:"error",messages:app.lang.get("ERR_MOBILE_VALIDATION"),autoClose:true})},this)},onAfterRender(){this._super();const e=app.metadata.getStrings("mod_strings")[this.module];let t=e?e.LBL_RELATED_RECORD_DEFAULT_NAME:null;const n=this.context.get("link");const a=this.context.get("parentModule");const r=this.context.get("parentModel");const s=r&&r.dataFetched;const o=this;const l=t&&this.isCreate&&n&&!this.context.get("duplicate")&&this.model&&_.isEmpty(this.model.get("name"));const c=this.isCreate&&n&&i(a)&&!r.parentInfoPopulated;const u=function(e){if(e){t=app.lang.get("LBL_RELATED_RECORD_DEFAULT_NAME",o.module,e);const n=app.metadata.getModule(o.module);const i=n?n.fields.name:null;const a=i?i.len:null;if(a&&a<t.length){t=`${t.substr(0,a-3)}...`}o.model.set("name",t)}};if(l&&s){u(r.get("full_name")||r.get("name"))}if(c&&s){this._populateParentInfo(r.toJSON(),a,n)}if(r&&!s){r.fetch({success(){if(!o.model){return}if(l&&_.isEmpty(o.model.get("name"))){u(r.get("full_name")||r.get("name"))}if(c){o._populateParentInfo(r.toJSON(),a,n);r.parentInfoPopulated=true}}})}const d=this.context.get("data");this.context.set("data",null);if(this.isCreate&&d&&d.fileUrl&&d.fileName){const e=_.find(this.displayFields,e=>e.type==="file");if(e){const t={};t[e.name]=d.fileName;this.model.set(t);const n=this.getField(e.name,this.model);n.onImportNativeDocument(d)}}this.$scrollableElement=app.isBodyScrollRequired?$(document):this.$el.find(".scroll")},onAfterShow(){this._super();this._attachScrollDetection()},onDetachFromDom(){this._super();this._unsubscribeScrollDetection()},onBeforeLeave(e){this._scrollTop=null;e.callback()},getField(e,t){let n=this._super(e,t);if(!n){_.each(this.fields,t=>{if(!n&&t.getSubfield){n=t.getSubfield(e)}})}return n},_parsePopulateList(e,t){const n=_.isArray(e);_.each(e,function e(i,a){a=n?i:a;if(!_.isUndefined(t[a])&&_.isEmpty(this.model.get(i))&&app.acl.hasAccessToModel("edit",this.model,i)){this.model.set(i,t[a])}},this)},_populateParentInfo(e,t){const{fields:n}=this.model;const i=this.context.get("link");const a=app.data.getRelateFields(t,i);const r=app.metadata.getModule(t).fields[i];if(app.supportedFeatures.populateList){if(r&&r.populate_list){this._parsePopulateList(r.populate_list,e)}if(!_.isEmpty(a)){_.each(a,function t(n){this.model.set(n.name,e[n.rname]);this.model.set(n.id_name,e.id);if(n.populate_list){this._parsePopulateList(n.populate_list,e)}},this)}}else{const i=(t==="Accounts"||e.account_id)&&!(t==="Opportunities"&&this.module==="Contacts")&&n.account_id&&n.account_name&&!(this.model.get("account_id")||this.model.get("account_name"))&&app.acl.hasAccessToModel("edit",this.model,"account_name");if(i){this.model.set({account_id:e.account_id||e.id,account_name:e.account_name||e.name})}}},_updateReadOnlyStatus(){this.isReadOnly=!this.model.hasEditAccess()},onDataSyncSuccess(e,t,n){this._super(e,t,n);this._onDataSyncComplete(n.method,e,n)},onDataSyncError(e,t,n){this._super(e,t,n);const i=this;this._onDataSyncComplete(e,this.model,t,n);if(n.status===409){r.showConfirm(app.lang.get("ERR_MOBILE_CONFLICT"),{callback(e){const t={};const{model:a}=i;let r=n.payload.record;if(r){if(e===2){_.each(i._getChangedFields(),e=>{t[e]=a.get(e)});i.backupModel(r);r=app.data.beanModel.prototype.merge(r,t,i.module)}else{i.backupModel(r)}a.set(r)}}})}},_onDataSyncComplete(e,t,n,i){if(!this.isCreate&&this.context.isDataFetched()){if(e==="read"){this.backupModel()}if(app.config.modules.nonEditableModules.indexOf(this.model.module)===-1&&this.action!==(app.acl.hasAccessToModel("edit",this.model)?"edit":"view")){this.render()}this.$(".btn.delete").toggleElement(this.model.hasDeleteAccess()&&!(i&&e==="read"))}},deleteRecord(){const e=this;r.showConfirm(app.lang.get("LBL_MOBILE_DELETE_CONFIRM"),{callback(t){if(t===2){e.model.destroy({wait:true})}}})},save(e,t={}){this._removeErrorMessages();const n=!t.skipResultHandling;let i=this.model.get("email");if(i){i=_.filter(i,e=>!_.isEmpty(e.email_address));this.model.set("email",i)}return new Promise((t,i)=>{asyncLib.series(this._getSavingTasks(e),e=>{app.syncAlertManager.hideOverlay();if(e){if(n){this.handleSaveError(e)}i(e)}else{if(n){this.handleSaveSuccess()}t()}})})},onHeaderSaveClick(){this.save()},onHeaderAdditionalAction(e){e.action(this,this.model)},syncAlert({pause:e=false,action:t="update",err:n}={}){if(!this.serverSync){return}if(e){app.syncAlertManager.pause(t,this.model)}else{app.syncAlertManager.resume(t,this.model,n)}},handleSaveSuccess(){this._showCreateRelatedRLIWarn();this.trigger(this.ACTION_NAME,{name:"edit:view:save",options:{model:this.model,parentModel:{id:this.context.get("parentModelId"),module:this.context.get("parentModule")},isCreate:this.isCreate,skipNavigation:this.skipNavigationAfterSave}});this.syncAlert()},handleSaveError(e){if(e===this.VALIDATION_ERR){return}if(e===this.NOTHING_CHANGED_ERR){app.controller.goUp();return}if(e.isFileUploadError){app.error.handleHttpError(e)}this.syncAlert({err:e})},_showCreateRelatedRLIWarn(){if(!this.isCreate||!app.supportedFeatures.createRelatedRLIWarn||this.module!=="Opportunities"){return}const e=`#Opportunities/${this.model.id}/link/revenuelineitems/create`;const t=app.lang.get("LBL_CREATE_RELATED_MODULE_WARN",null,{module:app.lang.getModuleName("Opportunities"),relatedModule:app.lang.getModuleName("RevenueLineItems"),createLink:e});app.alert.show("CreateRelatedRLI",{level:"warning",messages:[new Handlebars.SafeString(t)],closeable:true})},getFieldsToSave(){const e=this.getFieldNames(true);return this.context.get("duplicate")?_.keys(this.model.attributes):this._getChangedFields(e)},_getSavingTasks(e=[]){let t=this.getFieldsToSave();if(this._sendParentId||_.include(t,"parent_id")){e.push("parent_id","parent_type","parent_name")}t=_.isEmpty(t)?null:_.union(t,e);const n=[e=>{this.onBeforeValidate();this._validateRecord(e)},e=>{this.syncAlert({pause:true});e()},e=>{this._saveRecord(e,this._omitFileFields(t))}];if(this.serverSync){_.each(this._fileUploads,function e(t){n.push(_.bind(t,this))},this)}return n},updateComputedFields(e){if(!e){e=this.getFieldsToSave()}const t=app.metadata.getModule(this.module).fields.name;if(_.intersection(e,t.fields).length!==0){if(this._shouldUpdateNameAndFullname(e)){const t=app.utils.formatNameModel(this.model.module,this.model.attributes);this.model.set("full_name",t);this.model.set("name",t);e.push("full_name");e.push("name")}else{const n=t.fields[0];this.model.set("name",this.model.get(n));e.push("name")}}},onBeforeValidate(){app.syncAlertManager.showOverlay()},_validateRecord(e){const t=this.getFieldsToSave();const n=this.getFieldNames(true);const i={};const a=app.metadata.getModule(this.module).fields;const r=_.filter(n,e=>a[e]);_.each(r,function e(t){let n=a[t];const r=this.getField(t);if(r){n=r.def}if(n.type==="address"){_.each(n.fieldNames,e=>{i[e]=a[e]})}else if(n.required||!(n.calculated&&n.enforced)){i[n.name]=n}},this);if(this.context.get("duplicate")||!this.isCreate){_.each(i,function e(t,n){if(!app.acl.hasAccessToModel("edit",this.model,n)){delete i[n]}},this)}this.model.doValidate(i,n=>{if(n){if(_.isEmpty(t)){e(this.NOTHING_CHANGED_ERR)}else{e(null)}}else{e(this.VALIDATION_ERR)}})},_shouldUpdateNameAndFullname(e){const t=app.metadata.getModule(this.model.module).fields;const n=t.name;const i=t.full_name;const a="last_name";if(_.intersection(e,["first_name","last_name","salutation","title"]).length===0){return false}return n&&i&&n.group===a&&i.group===a},_saveRecord(e,t){if(!this.model){e();return}this.updateComputedFields(t);if(_.isEmpty(t)){e();return}this._saveModel(e,t)},_saveModel(e,t){if(!this.serverSync){e();return}this.model.save(null,{relate:!this._viaParent&&Boolean(this.context.get("link")),fields:t,modelBackup:this._modelBackup,viewed:true,success(){e()},error(t){e(t)}})},_removeErrorMessages(){const e=this.$(".field");e.find(".field__error-message").remove();e.removeClass("error")},backupModel(e){this._modelBackup=app.utils.deepCopy(e||this.model.attributes);this.context.set("_modelBackup",this._modelBackup)},restoreModel(){this.model.set(this.model.getChangeDiff(this._modelBackup))},receiveSyncData(e){},_getChangedFields(){return _.keys(this.model.getChangeDiff(this._modelBackup))||[]},_omitFileFields(e){const t=_.filter(app.metadata.getModule(this.module).fields,e=>e.type==="image"||e.type==="file").map(e=>e.name);return _.difference(e,t)},_onFileFieldChange(e,t,n){this._super(e,t,n);const i=this;if(n==="preparing"){this._showOverlay(e.type)}else if(n==="prepared"){this._hideOverlay();this._enqueueFileHandler("create",e,t);const n=t.fileData.name;this._setFileFieldValue(e,n);i.model.doValidate([e.name],t=>{if(t){e.handleValidationError()}})}else if(n==="error"){this._hideOverlay();app.alert.show("file_upload_error",{level:"error",messages:t,autoClose:true,closeable:true});this.render()}},_setFileFieldValue(e,t){this.model.set(e.name,t,{silent:true});if(!_.isEmpty(e.def.fields)){_.each(e.def.fields,function e(n){this.model.set(n,t,{silent:true})},this)}},_onFileFieldClear(e){this._super(e);this._enqueueFileHandler("delete",e);this._setFileFieldValue(e,"")},_enqueueFileHandler(e,t,n){const i=this;const a=function(a){const r=i.model.get(t.name);const s=n&&n.fileData.name||"";const o={success(e){i.model.trigger("change:attachment_list");i.model.trigger("sync",i.model,e,{fileFieldName:t.name});a()},error(e){delete i._fileUploads[t.name];i.model.set(t.name,r);a(e)}};i.model.set(t.name,s);if(e==="create"){_.defer(()=>{i.model.uploadFile(t.name,n,o,{htmlJsonFormat:false,isCreate:i.isCreate})})}else{i.model.deleteFile(t.name,n,o,{htmlJsonFormat:false})}};this._fileUploads[t.name]=a},_showOverlay(e){const t=e==="image"?"LBL_MOBILE_PROCESSING_IMAGE":"LBL_MOBILE_PROCESSING_FILE";s.show("preparing_image");app.alert.show("upload_mask",{level:"info",messages:app.lang.get(t),autoClose:false,closeable:false})},_hideOverlay(){app.alert.dismiss("upload_mask");s.hide("preparing_image")},_attachScrollDetection(){if(this._scrollTop){if(app.isBodyScrollRequired){document.documentElement.scrollTop=this._scrollTop}else{this.$scrollableElement.scrollTop(this._scrollTop)}}this.$scrollableElement.on("scroll.detection",e=>{this._scrollTop=app.isBodyScrollRequired?document.documentElement.scrollTop:e.target.scrollTop})},_unsubscribeScrollDetection(){if(this.$scrollableElement){this.$scrollableElement.off("scroll.detection")}}});e.exports=l},function(e,t){let n={};const i=_.extend({},Backbone.Events,{register:function(e,t,i){if(i&&i.deprecated){n[e]=_.pick(i,"message")}t.on(e,function(){var t=[].slice.call(arguments,0);t.unshift(e);this.trigger.apply(this,t)},this)},unregister:function(e,t){e.off(t)},registerAjaxEvents:function(){var e=this;$(document).off("ajaxStop");$(document).off("ajaxStart");$(document).on("ajaxStart",function(t){e.trigger("ajaxStart",t)});$(document).on("ajaxStop",function(t){e.trigger("ajaxStop",t)})},on:_.wrap(Backbone.Events.on,function(e,t,i,a){if(_.has(n,t)){var r;if(n[t].message){r=n[t].message}else{r="The global event `"+t+"` is deprecated."}if(a){r+="\n"+a+" should not listen to it anymore."}SUGAR.App.logger.warn(r)}return e.call(this,t,i,a)})});e.exports=i},function(module,exports){var _header="(function() {\n  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n",_footer="})();",_templates={},_sources={};const TemplateManager={init:function(){_templates=SUGAR.App.config.cacheMeta?SUGAR.App.cache.get("templates")||{}:{};var src="";_.each(_templates,function(e){src+=e});try{eval(_header+src+_footer)}catch(e){SUGAR.App.logger.error("Failed to eval templates retrieved from local storage:\n"+e)}},_add:function(e,t,n){var i=e[0],a=this.get(i,false);if(a&&!n){return}if(a&&n&&_sources[i]!=t){_templates[i]=Handlebars.templates[i]=null}_sources[i]=t},_compile:function(e,t,n){Handlebars.templates=Handlebars.templates||{};_templates[e[0]]=Handlebars.templates[e[0]]=n||!e[1]?this.compile(e[0],t):e[1];return _templates[e[0]]},compile:function(key,src){try{_templates[key]="templates['"+key+"'] = template("+Handlebars.precompile(src)+");\n";eval(_header+_templates[key]+_footer)}catch(e){SUGAR.App.logger.error("Failed to compile or eval template "+key+".\n"+e)}return this.get(key,false)||this.empty},get:function(e,t){t=_.isUndefined(t)||t;if(t&&!Handlebars.templates[e]&&_sources[e]){this._compile([e],_sources[e])}return Handlebars.templates?Handlebars.templates[e]:null},_getView:function(e,t,n){var i=e+(t?"."+t:"");return[i,this.get(i,n)]},getView:function(e,t){return this._getView(e,t,true)[1]},_getField:function(e,t,n,i,a,r){var s,o="f."+e+".",l=o+(n?n+".":"")+t;n+=".";s=this.get(o+n+t,r)||this.get(o+t,r);if(!s&&!a){s=this.get(o+n+i,r)||this.get(o+i,r);if(!s){s=this.get("f.base."+t,r)||this.get("f.base."+i,r)}}return[l,s]},getField:function(e,t,n,i){return this._getField(e,t,n,i,false,true)[1]},_getLayout:function(e,t,n){var i="l."+(t?t+".":"")+e;return[i,this.get(i,n)]},getLayout:function(e,t){return this._getLayout(e,t,true)[1]},setView:function(e,t,n,i){return this._add(this._getView(e,t,false),n,i)},setField:function(e,t,n,i,a){return this._add(this._getField(e,t,n,null,true,false),i,a)},setLayout:function(e,t,n,i){return this._add(this._getLayout(e,t,false),n,i)},set:function(e,t){if(e.views){_.each(e.views,function(e,n){if(n!="_hash"){_.each(e.templates,function(e,i){i=n==i?i:n+"."+i;this.setView(i,null,e,t)},this)}},this)}if(e.fields){_.each(e.fields,function(e,n){if(n!="_hash"){_.each(e.templates,function(e,i){this.setField(n,i,null,e,t)},this)}},this)}if(e.layouts){_.each(e.layouts,function(e,n){if(n!="_hash"){_.each(e.templates,function(e,i){i=n==i?i:n+"."+i;this.setLayout(i,null,e,t)},this)}},this)}},empty:function(){return""}};module.exports=TemplateManager},function(e,t,n){const i=n(1);const a=n(37);const r=n(3);const s=i.extendComponent(a,{initialize(e){this.forecastBy=r.getForecastModule();this._super(e)},buildChartUrl:function e(){}});e.exports=s},function(e,t,n){const i=n(122);const a=n(123);const r=n(14);const s={enabled:true,prefetch:{},storageSize:5,storageProvider:"sql",storageAdapter:"webSql",syncTimeout:5e3,debug:{render:false,online:true,forceMigrate:false,syncManagerEnabled:true,monitorStatus:true}};const o={start({migrate:e=false}={}){return Promise.try(()=>{const t=app.cache.get("offline:version");const n=e||!t;app.config.offline=_.extend(s,app.config.offline);if(app.config.offline.debug.ignoreEnabled){app.config.offlineEnabled=true}app.offlineEnabled=app.offline.isOfflineEnabled();if(!app.offlineEnabled){if(t){this.onOfflineToggled(false);return this.stop({dropStorage:true})}}else if(!app.offline.initStorage()){app.logger.error("Storage unavailable");app.trigger("offline:failure",app.offline.Error.StorageUnavailableError)}else{app.offline.registerEvents();if(!app.offline._initialized){app.offline.initialize()}return app.offline.prepareDb(n).then(()=>{this.onOfflineStarted();return null}).catch(e=>{app.offline.uninitialize();app.offlineEnabled=false;if(e.code===5){app.logger.error(e);app.trigger("offline:failure",app.offline.Error.StorageUnavailableError)}throw e})}})},stop({dropStorage:e=false}={}){let t=Promise.resolve();app.logger.debug("Offline mode disabled");app.offline.syncManager.dispose();app.offline.stopMonitorStatus();if(app.offline.isInitialized()){app.offline.uninitialize()}if(e){t=t.then(()=>app.offline.dropStorage())}return t.then(()=>this.onOfflineToggled(false))},onAppResume(){if(app.api.isAuthenticated()&&app.offlineEnabled){app.offline.showStateAlert({ignoreAlertUid:true});return this.runDbStatsOperations()}},onOfflineStarted(){app.offline.startSyncManager();app.offline.startMonitorStatus();this.onOfflineToggled(true);app.logger.debug("Offline started");return this.runDbStatsOperations()},onOfflineToggled(e){app.trigger("offline:toggled",e);i.onOfflineToggled(e)},getOfflineDbStats(){return new Promise((e,t)=>{app.offline.storage.getStats({success(t){const n=_.reduce(t.count,(e,t)=>e+=t,0);e(_.extend(t,{totalRecords:n}))},error(e){t(new Error(e))}})})},runDbStatsOperations(){const e=n(26);const t=n(23);return this.getOfflineDbStats().then(n=>{const r=e.getState();if(r.state===t.State.IDLE){a.cleanUp(n)}i.processPeriodicAnalytics(n);return null}).catch(e=>app.logger.error(e.message))},updateOfflineUserSetting(e){const t=r.getSetting({store:r.Stores.SETTINGS,name:"offlineEnabled"});app.offline.userEnabled=_.isUndefined(t)||!e&&Boolean(t)}};app.augment("offlineProvider",o,false);e.exports=o},function(e,t,n){const i=n(1);const a=n(14);const r=n(43);const s=n(370);const o=n(368);const l=n(369);const c={TABS:s,DROPDOWN:o,PAGINATION:l};e.exports=i.extendComponent(r,{template:"switch-container",activeIndex:0,viewSwitcher:null,omitSwitcherForOneView:true,lazyRender:true,lazyLoad:true,loadViewOnSwitch:false,activeTabStorageKey:"",viewContainerCss:"tabs__container",switcherCss:"views__switcher",hiddenViewCss:"hide-tab",currentView:null,initialize(e){this._super(e);const t=["activeIndex","viewSwitcher","lazyRender","lazyLoad","loadViewOnSwitch","activeTabStorageKey","omitSwitcherForOneView"];_.each(t,t=>{if(e[t]!==undefined){this[t]=e[t]}});if(this.activeTabStorageKey){this._restoreState()}},loadData(e){this._eachView(e=>{e._dataObsolete=true});if(this.currentView){this._loadView(this.currentView,e)}if(!this.lazyLoad){this._eachView(t=>{if(t!==this.currentView){this._loadView(t,e)}})}},onAfterRender(){this._disposeSwitcher();this.createSwitcher();this._super();this.$viewContainer=this.$el.find(`.${this.viewContainerCss}`).first();this.renderSwitcher();if(!this.currentView&&_.isNumber(this.activeIndex)){this.switchView({index:this.activeIndex,skipLoad:true})}},onAfterShow(){this._super();if(this.viewSwitcher){this.viewSwitcher.onAfterShow()}},onDetachFromDom(){if(this.viewSwitcher&&!_.isFunction(this.viewSwitcher)){this.viewSwitcher.onDetachFromDom()}this._super()},_getViewsForAction(e){const t=this.childViewActions;const{currentView:n}=this;const i=n?[n]:[];switch(e){case t.BIND_GLOBAL_EVENTS:return i;case t.AFTER_SHOW:return n&&n._rendered?i:[];default:return this._views}},renderView(e){if(!this.lazyRender||e===this.currentView){this._super(e);const t=this._getViewEl(e);t.addClass(this.hiddenViewCss)}},renderSwitcher(){if(!this.viewSwitcher){return}this.viewSwitcher.render();this.$el.find(`.${this.switcherCss}`).first().append(this.viewSwitcher.$el).addClass(this.viewSwitcher.parentCss)},createSwitcher(){if(_.isEmpty(this._viewDefs)||this.omitSwitcherForOneView&&this._viewDefs.length===1){this.viewSwitcher=null}if(!this.viewSwitcher){return}const e=_.map(this._viewDefs,(e,t)=>({title:e.title,index:t,gaData:e.gaData}));const t=_.isFunction(this.viewSwitcher)?this.viewSwitcher:this.viewSwitcher.switcherType;const n={views:e,activeIndex:this.activeIndex,isRecordDashboard:this._isRecordDashboard};_.extend(n,this.viewSwitcher.options);this.viewSwitcher=new t(n);this.listenTo(this.viewSwitcher,"view:switch",this.onSwitchView)},onSwitchView(e){this.switchView(e)},switchView(e){const{index:t}=e;const n=this.currentView;const i=this._views[t];if(!i){return}this.currentView=i;if(!i._rendered){this.renderView(i)}if(n){this._getViewEl(n).addClass(this.hiddenViewCss);n.unbindGlobalEvents();if(n.abortActiveRequests()){n._dataObsolete=true}}this.activeIndex=t;this._getViewEl(i).removeClass(this.hiddenViewCss);i.bindGlobalEvents();const a=!e.skipLoad&&(i._dataObsolete||this.loadViewOnSwitch);if(a){this._loadView(i,e.loadParams)}if(this._rendered){i.onAfterShow()}if(this.activeTabStorageKey){this._storeState()}this._syncSwitcher(e);this._eachView(e=>this.stopListening(e,this.ACTION_NAME));this.listenTo(i,this.ACTION_NAME,this.propagateComponentAction);this.trigger("views:switch",i,t)},updateSwitcherSubtitle(e,t){if(this.viewSwitcher){this.viewSwitcher.updateSubtext(e,t)}},_syncSwitcher(e){if(this.viewSwitcher){this.viewSwitcher.syncActive(e)}},getViewParentEl(e){return this.$viewContainer},_dispose(){this._disposeSwitcher();this.currentView=null;this._super()},_disposeSwitcher(){if(this.viewSwitcher&&_.isFunction(this.viewSwitcher.dispose)){this.viewSwitcher.dispose();this.viewSwitcher=null}},_storeState(){return a.setSetting({store:a.Stores.LAST_STATE,name:this.activeTabStorageKey,value:this.activeIndex})},_restoreState(){const e=a.getSetting({store:a.Stores.LAST_STATE,name:this.activeTabStorageKey});if(e!==undefined){this.activeIndex=Number(e)}},_getViewEl(e){return e.getViewContainer?e.getViewContainer():e.$el},_loadView(e,t){if(e){e.loadData(t);e._dataObsolete=false}},resetLoadedState(e){this._eachView(t=>{if(_.contains(e,t.options.viewId)){t._dataObsolete=true}})},reloadCurrentView(e){this._loadView(this.currentView,e)}},{SwitcherTypes:c})},function(e,t,n){const i=n(1);const a=n(79);const r=n(43);const s=n(15);const o=i.extendComponent(r,{_stringType:"filtered-list",className:"view__list",isFilterEnabled:true,isSearchEnabled:true,initialize(e){this.isSearchEnabled=this.isSearchAvailable(e);this.isFilterEnabled=this.isFiltersAvailable(e);this._super(e)},onAfterRender(){this._super();this.stateComponents=[];this._list=this.getViewById("list");this._searchBox=this.getViewById("search");this._filter=this.getViewById("filter");if(this._searchBox){this.stateComponents.push(this._searchBox);this.listenTo(this.collection,"data:sync:complete",()=>this._searchBox.hideProgress());this.enableSearch()}if(this._filter){this.stateComponents.push(this._filter);this.listenTo(this._filter,"filter:changed",this.filterChanged);this.listenTo(this._filter,"sort:changed",this.sortingChanged)}},headerConfig(e){const t=_.extend({},e,{search:this.isSearchEnabled});return _.extend({},t,this._super(t))},getListViews(){return _.filter(this.getViews(),e=>e instanceof s)},getViewDefs(e){const t=[{view:n(76),viewId:"search",isEnabled:this.isSearchEnabled,subType:this.options.subType},{view:n(71),viewId:"filter",isEnabled:this.isFilterEnabled,subType:this.options.subType}];const i=this.getListViewDef(e);if(_.isArray(i)){t.push(...i)}else{t.push(i)}const a=_.chain(t).filter(e=>_.isUndefined(e.isEnabled)||e.isEnabled).map(t=>_.extend({},{def:_.getNested(e,"layout.options.def"),module:e.module},t)).value();return a},getListViewDef(e){const t={view:this.getListViewClass(e),viewId:"list",collection:e.collection,def:e.def,sugarLogicEnabled:e.sugarLogicEnabled,listMeta:e.listMeta};_.extend(t,{listItemDataProvider:e.listItemDataProvider||this.listItemDataProvider,listItemTpl:e.listItemTpl||this.listItemTpl});return t},getListViewClass(e){return i.getViewClass({baseType:"inner-list",module:e.module})},onHeaderSearchClick(){if(this._searchBox){this._searchBox.showSearch()}},onAfterShow(){this._super();app.tutorial.show(this.name,this.module)},filterChanged(){this._unbindFilterEvents();this.getCurrentList().collection.once("data:sync:error",this._onFilterListFailed,this).once("sync",this._onFilterListSuccess,this);this.updateSearchPlaceholder();this.reloadData()},sortingChanged(){this.reloadData()},reloadData(){const e={relate:this.options.subType==="relationships",forceFetch:true};this.updateListViewState();return this.getCurrentList().loadData(e)},loadData(e={}){const{collection:t}=this.getCurrentList();const n=app.tutorial.hasStepToShow("list",this.module);e.params=e.params||{};if(t.options){delete t.options.update;t.options.offset=0;t.options.page=0}if(this._filter){_.extend(e.params,this._filter.getPreparedState());this.updateListViewState()}if(n){t.on("sync",this._onTutorialShow,this)}return this.getCurrentList().loadData(e)},_onTutorialShow(){app.tutorial.show("list",this.module)},updateListViewState(){const e={};const t=this.getCurrentList();_.each(this.stateComponents,t=>{_.extend(e,t.getPreparedState())},this);t.setCurrentState(e);t.setSortByField()},enableSearch(){this.listenTo(this._searchBox,"search:toggle",this.onToggleSearch);this.listenTo(this._searchBox,"search:text",this.search)},onToggleSearch(e){this.searchActivated=e;if(this._filter){this._filter.toggleSearchMode(e,this._searchBox._searchText)}this.updateSearchPlaceholder()},updateSearchPlaceholder(){if(this.searchActivated){const e=this._filter?this._filter.getActiveFilter().name:this.getCurrentList().modulePlural;this._searchBox.setPlaceholder(e)}},toggleFiltersView(e){if(!this._filter){return}this._filter.toggle(e);this.getCurrentList().reflowScroller();this.$el.toggleClass("filters-hidden",!e)},search(){this.reloadData();app.analytics.trackEvent({category:"search",action:this.module,value:0})},isSearchAvailable(e){const t=_.isUndefined(e.isSearchEnabled)?this.isSearchEnabled:e.isSearchEnabled;return t&&!(_.contains(["Dashboards","TxLog"],e.module)||e.subType==="relationships")},isFiltersAvailable(e){let t=_.isUndefined(e.isFilterEnabled)?this.isFilterEnabled:e.isFilterEnabled;t=t&&Boolean(!_.contains(["Activities","Teams","TxLog"],e.module)&&!_.contains(app.config.modules.readonlyModules,e.module)&&a.getView(e.module,"list"));return t},_onFilterListSuccess(){this._unbindFilterEvents()},_onFilterListFailed(e,t,n){this._unbindFilterEvents();if(app.offlineEnabled){if(t.params.skipOfflineRead){app.alert.dismiss("network_error",{animate:false});app.alert.show("network_error",{level:"error",messages:app.lang.get("LBL_MOBILE_FILTER_IS_NOT_AVAILABLE"),autoClose:true,pageHash:n.request.params.pageHash,requestOptions:t});this._filter.resetToPreviousFilter()}}else{this._filter.resetToPreviousFilter()}},resetCollectionEvents(){const e=this.getCurrentList();e.unbindCollectionEvents();e.bindCollectionEvents()},unbindCollectionEvents(){this._unbindFilterEvents();this.getCurrentList().unbindCollectionEvents()},_unbindFilterEvents(){this.getCurrentList().collection.off("data:sync:error",this._onFilterListFailed).off("sync",this._onFilterListSuccess)},getCurrentList(){return this._list},onDetachFromDom(){this._super();if(!_.isEmpty(this.getViews())){this.getCurrentList().abortActiveRequests();this._unbindFilterEvents()}}});e.exports=o},function(e,t,n){const i=n(19);let a={view:"read",readonly:"read",edit:"write",detail:"read",list:"read",disabled:"read"};function r(e,t){let n;if(t.access==="no"){n="no"}else{n=t[e]}return n!=="no"}function s(e,t,n){let i;e=a[e]||e;if(t.fields[n]&&t.fields[n][e]){i=t.fields[n][e]}return i!=="no"}let o={hasAccess:function(e,t,n){let a;let o;if(!_.isObject(n)){a=arguments[3];o=arguments[4]}else{a=n.field;o=n.acls}let l=i.getAcls()[t];if(!l&&!o){return true}l=l||{};if(o){let e=_.extend({},l.fields,o.fields);l=_.extend({},l,o);l.fields=e}let c=r(e,l);if(c&&a&&l.fields){c=s(e,l,a);let n=SUGAR.App.metadata.getModule(t);let i=n&&n.fields?n.fields[a]:null;if(c&&i&&i.group){c=s(e,l,i.group)}}return c},hasAccessToModel:function(e,t,n){let i;let a;let r;if(t){i=t.id;a=t.module;r=t.get("_acl")||{fields:{}}}if(e==="edit"&&!i){e="create"}return this.hasAccess(e,a,{field:n,acls:r})},hasAccessToAny:function(e){return _.some(i.getAcls(),function(t,n){return this.hasAccess(e,n)},this)},_hasAccess:function(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Acl#_hasAccess is a private method that you are not allowed to access. "+"Please use only the public API.");return}SUGAR.App.logger.warn("Core.Acl#_hasAccess is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the "+"public API only.");return r(e,t)},_hasAccessToField:function(e,t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Acl#_hasAccessToField is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Acl#_hasAccessToField is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(e,t,n)},clearCache:function(){SUGAR.App.logger.warn("`Core.Acl#clearCache` is deprecated since 7.10 and will be removed in a future "+"release. This method has no effect. Please do not use it anymore");this._accessToAny={}}};Object.defineProperty(o,"action2permission",{configurable:true,get:function(){SUGAR.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return a},set:function(e){SUGAR.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");a=e}});let l={};Object.defineProperty(o,"_accessToAny",{configurable:true,get:function(){SUGAR.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future "+"release. Please do not use it anymore");return l},set:function(e){SUGAR.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future "+"release. Please do not use it anymore");l=e}});e.exports=o},function(e,t){function n(e,t){if(a.plugins[t]&&a.plugins[t][e]){return a.plugins[t][e]}}function i(e,t){return!!_.find(e.disabledPlugins,function(e){return e===t})}const a={plugins:{view:{},field:{},layout:{},model:{},collection:{}},attach:function(e,t){_.each(e.plugins,function(a){var r=null;if(_.isObject(a)){var s=_.keys(a)[0];r=a[s];a=s}var o=n(a,t);if(o&&!i(e,a)){var l=_.extend({},_.isFunction(e.events)?e.events():e.events,o.events);_.extend(e,o);if(r){_.extend(e,r);if(r.events){_.extend(l,r.events)}}e.events=l;if(_.isFunction(o.onAttach)){o.onAttach.call(e,e,o)}}},this)},detach:function(e,t){_.each(e.plugins,function(i){var a=n(i,t);if(a&&_.isFunction(a.onDetach)){a.onDetach.call(e,e,a)}},this)},register:function(e,t,n){if(!_.isArray(t)){t=[t]}_.each(t,function(t){this.plugins[t]=this.plugins[t]||{};this.plugins[t][e]=n},this)},_isPluginDisabled:function(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.pluginManager#_isPluginDisabled is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.pluginManager#_isPluginDisabled is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return i(e,t)},_get:function(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.pluginManager#_get is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.pluginManager#_get is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return n(e,t)}};e.exports=a},function(e,t,n){const i=n(16);var a=0;const r={reset:function(){_.each(this.layouts,function(e,t){delete this.layouts[t]},this);_.each(this.views,function(e,t){delete this.views[t]},this);_.each(this.fields,function(e,t){delete this.fields[t]},this)},getFieldId:function(){return a},views:{},layouts:{},fields:{},_createComponent:function(e,t,n){var i=this.declareComponent(e,n.type||t,n.loadModule||n.module,n.controller,false,this._getPlatform(n));var a=new i(n);a.trigger("init");a.bindDataChange();return a},createView:function(e){e.context=e.context||SUGAR.App.controller.context;e.module=e.module||e.context.get("module");e.name=e.name||e.type;e.meta=e.meta||SUGAR.App.metadata.getView(e.module,e.name,e.loadModule);if(e.def&&e.def.xmeta){e.meta=_.extend({},e.meta,e.def.xmeta)}var t=e.meta||{};e.type=e.type||t.type||e.name;return this._createComponent("view",e.type,e)},createLayout:function(e){e.context=e.context||SUGAR.App.controller.context;e.module=e.module||e.context.get("module");e.name=e.name||e.type;e.meta=e.meta||SUGAR.App.metadata.getLayout(e.module,e.name,e.loadModule);if(e.def&&e.def.xmeta){e.meta=_.extend({},e.meta,e.def.xmeta)}var t=e.meta||{};e.type=e.type||t.type||e.name;return this._createComponent("layout",e.type,e)},createField:function(e){var t=e.viewDefs?e.viewDefs.type:e.def.type;e.context=e.context||e.view.context||SUGAR.App.controller.context;e.model=e.model||e.context.get("model");e.module=e.module||(e.model&&e.model.module?e.model.module:e.context.get("module"))||"";e.sfId=++a;var n=this._createComponent("field",t,e);if(!e.nested){e.view.fields[n.sfId]=n}else{e.view.nestedFields[n.sfId]=n}return n},_getPlatform:function(e){return e.platform||(SUGAR.App.config&&SUGAR.App.config.platform?SUGAR.App.config.platform:"base")},_getController:function(e){var t=this._getBaseComponent(e.type,e.name,e.module,e.platform);if(t.cache[t.moduleBasedClassName]){return t.cache[t.moduleBasedClassName]}return t.baseClass},componentHasPlugin:function(e){var t;if(!e.type||!e.name||!e.plugin){SUGAR.App.logger.error("componentHasPlugin requires type, name, and plugin parameters");return null}t=this._getController(e);return t&&t.prototype&&_.contains(t.prototype.plugins,e.plugin)},declareComponent:function(e,t,n,a,r,s){r=!!(a&&r);var o=this._getBaseComponent(e,t,n,s,r);if(r&&o.cache[o.moduleBasedClassName]){delete o.cache[o.moduleBasedClassName]}return o.cache[o.moduleBasedClassName]||i.extendClass(o.cache,o.baseClass,o.moduleBasedClassName,a,o.platformNamespace)||o.baseClass},_getBaseComponent:function(e,t,n,a,r){a=this._getPlatform({platform:a});var s=i.capitalize(e);var o=i.capitalize(a);var l=i.capitalizeHyphenated(t)+s;var c=o+(n||"")+l,u=o+(n||"")+"Custom"+l;var d=this[e+"s"];var f=i.capitalize(SUGAR.App.config.appId)+s;var p=d[o+"Custom"+l]||d[o+l]||d["BaseCustom"+l]||d["Base"+l]||d[l]||d["BaseBase"+s]||this["Custom"+f]||this[f]||this[s];if(d[u]&&!r){c=u}return{cache:d,platformNamespace:o,moduleBasedClassName:c,baseClass:p}}};e.exports=r},function(e,t,n){const i=n(1);const a=n(13);const r=n(38);const s=n(150);const o=n(17);e.exports=i.extendComponent(r,{className:"chart-wrapper",chart:null,chartData:null,chartOrientation:null,isManager:false,showManagerData:false,loaded:false,responseDataAttr:"data",LATEST_AVAILABLE_WARN_KEY:"LATEST_AVAILABLE_DATA",_chartElSize:null,ERR_NO_DATA_AVAILABLE:"NO_DATA_AVAILABLE",globalEvents:{"app:orientation:changed":function(){this._onOrientationChange()}},initialize(e){this._super(e);this.isManager=app.user.get("is_manager");this.chartOrientation=a.getOrientation();s({view:this})},_updateChartElSize(){this._maxLegendRows=a.getOrientation()==="landscape"&&!app.isTablet?1:4},_onOrientationChange(){this._updateChartElSize();if(this.chart){this.updateChartLegend();this.dispatchChartMethod("tooltipHide");this.rerenderChart()}this.chartOrientation=a.getOrientation()},updateChartLegend(){if(this.chart.legend){this.chart.legend.rowsCount(this._maxLegendRows)}},onBeforeRender(){this.enableOptionsToolbar();this._updateChartElSize();this._super()},renderChart(){this.$(".sc-chart svg").remove();sucrose.tooltip.cleanup();return this.chartData.data.length},onAfterRender(){this._super();this.$chartEl=this.$(".sc-chart");this.$dataUnavailableLbl=this.$(".data-unavailable-label");this.listenTo(this.$(".sc-chart"),"click",_.bind(function e(t){this.dispatchChartMethod("chartClick")},this))},onAfterShow(){this._super();if(this.chartOrientation!==a.getOrientation()){this._onOrientationChange()}},loadData(e={}){return new o((t,n)=>{this.abortActiveRequests();if(!e.forceFetch&&this.loaded){if(this.chart){this.dispatchChartMethod("tooltipHide");this.updateChart()}t();return}if(!e.byPtr){this.showPreloader()}const i=[e=>this.loadChartData(e)];if(!this._isChartInitialized&&this.loadInitData){i.unshift(e=>this.loadInitData(e))}asyncLib.series(i,(e,i)=>{this.activeRequests=[];if(e){if(!e.request.aborted){this.loadDataError(e)}n(new Error(e.message))}else{const e=_.last(i);if(this.isDataEmpty(e,i)){this.loadDataError(this.ERR_NO_DATA_AVAILABLE)}else{this.loadDataSuccess(e,e=>{if(e){app.logger.error(`Couldn't cache chart data: \n${e}`)}})}t(i)}})}).catchReturn()},showLatestAvailableDataWarn(e){const t=app.date(e.last_fetched).fromNow();app.alert.dismiss(this.LATEST_AVAILABLE_WARN_KEY);app.alert.show(this.LATEST_AVAILABLE_WARN_KEY,{level:"warning",messages:app.lang.get("LBL_SHOWING_CACHED_DATA",null,{lastFetched:t}),autoClose:false,closeable:true})},dismissDashletAlerts(){this._super({alertId:this.LATEST_AVAILABLE_WARN_KEY})},isDataEmpty(e,t){return _.isEmpty(e)||(this.responseDataAttr?_.isEmpty(e[this.responseDataAttr]):false)},showPreloader(){app.alert.show("chart-loading",{level:"load",messages:app.lang.get("LBL_LOADING"),autoClose:false,closeable:false});this.$dataUnavailableLbl.hideElement()},hidePreloader(){app.alert.dismiss("chart-loading")},loadDataSuccess(e,t){if(e.title){this.dataTitle=e.title}this.dispatchCacheStorageMethod("set",this.options.dashletId,{chartData:e,filters:this.viewState.filters,filtersDef:this.viewState.filtersDef,visibility:this.viewState.visibility,last_fetched:app.utils.getTimestamp()},t);this.loaded=true;this.hidePreloader();this.$chartEl.showElement();this.$dataUnavailableLbl.hideElement();this.processData(e)},loadDataError(e){this.hidePreloader();const t=this;if(e===this.ERR_NO_DATA_AVAILABLE){this.$chartEl.hideElement();this.$dataUnavailableLbl.showElement();return}app.error.handleHttpError(e,this.model);if(_.contains([403,412,422],e.status)){return}this.dismissNetworkAlerts();this.dispatchCacheStorageMethod("get",this.options.dashletId,(e,n)=>{const i=Boolean(!e&&n);t.$chartEl.toggleElement(i);if(!i){t.$dataUnavailableLbl.showElement();return}t.showLatestAvailableDataWarn(n);t.applyViewState(n);t.hidePreloader();t.processData(n.chartData)})},dispatchCacheStorageMethod(e,...t){if(!this.cacheStorage){if(e==="get"){this.$chartEl.hideElement();this.$dataUnavailableLbl.showElement()}return false}this.cacheStorage[e](...t)},processData(e){this.prepareChartObject();this.renderChart();this.toggleDashletSwipe()},applyViewState(e){this._super(e);if(!_.isUndefined(this._isChartInitialized)){this._isChartInitialized=true}},setFilters(e){const t=this.getState(this.options.dashboardId,this.meta.id)||{};const n=_.isEmpty(t.filters)?e:t.filters;this.viewState.filters.set(n,{silent:true})},getViewContainer(){return this.$easyScrollerParent},isSwipable(){return _.isEmpty(this.$chartEl.find(".sc-scroll-wrap").attr("clip-path"))},dispatchChartMethod(e){if(this.chart){this.chart.dispatch[e]()}},updateChart(){if(_.isFunction(this.chart.update)){this.chart.update()}else{this.renderChart()}this.toggleDashletSwipe()},rerenderChart(){if(_.isFunction(this.chart.update)){this.chart.update()}else{this.renderChart()}this.toggleDashletSwipe()},getUserCurrencyFormatter(){const e=app.user.getPreference("currency_id");const t=app.currency.getBaseCurrencyId();return function n(i){const a=app.currency.convertAmount(i,t,e);return app.currency.formatAmountLocale(a,e,0)}},getUserCurrencyFormatterSi(){const e=app.currency.getBaseCurrencyId();const t=app.user.getPreference("currency_id");const n=app.currency.getCurrencySymbol(t);const i=app.user.getPreference("decimal_separator");return function a(r,s){const o=s||2;const l=parseFloat(app.currency.convertAmount(r,e,t));const c=d3.format(`,.${o}s`)(l);return n+c.replace(".",i)}}})},function(e,t,n){const i=n(1);const a=n(14);const r=n(32);const s=n(22);e.exports=i.extendComponent(r,{events:{"click .visibility-switcher__btn":"changeVisibility"},initialize(e){const t=e.dashletName||e.meta.view.type;const n=this._getDefaultSettings(t);e.meta=app.utils.deepCopy(e.meta);if(n){e.meta.view=_.defaults(e.meta.view,n)}if(app.offlineEnabled){this.cacheStorage=s.cacheDashletStore}this.dashletParams=this.dashletParams||app.metadata.getView(null,t)||{};const i=_.defaults({type:this.name,module:this.module},e.meta.view);this.title=s.getDashletTitle(i);this.activeRequests=[];this._super(e);this.initDashletOptions()},getTitle(e){return e.label},_getDefaultSettings:function e(t){const n={"active-tasks":{visibility:"user"},"inactive-tasks":{visibility:"user"},history:{filter:7,visibility:"user"},"planned-activities":{date:"today",visibility:"user"}};return n[t]},dismissNetworkAlerts(){app.alert.dismiss("network_error",{animate:false})},applyViewState(e){if(!_.isEmpty(e.filters)){this.viewState.filters.set(e.filters,{silent:true})}if(e.visibility){this.viewState.visibility=e.visibility;this.viewState.myItemsOnly=e.visibility==="user";this.previousVisibilityState=this.viewState.visibility}this.viewState.filtersDef=e.filtersDef;this.render()},initDashletOptions(){const e=this.getState(this.options.dashboardId,this.meta.id)||{};this.viewState={visibility:e.visibility||this.meta.view.visibility};this.viewState.myItemsOnly=this.viewState.visibility==="user";this.dashletOptionsTemplate=app.template.get("dashlet-options");this.initFilters(e);this.enableOptionsToolbar()},enableOptionsToolbar(){if(this.dashletOptionsEnabled()){this.$el.addClass("has-dashlet-options")}},abortActiveRequests(){const e=this._super();if(_.isEmpty(this.activeRequests)){return e}_.each(this.activeRequests,e=>{app.api.abortRequest(e.uid)});this.activeRequests=[];this.loaded=false;return true},onBeforeHide(){this.dismissDashletAlerts()},dismissDashletAlerts(e={}){if(e.closeAll){app.alert.dismissAll()}else if(e.alertId){const t=_.isArray(e.alertId)?e.alertId:[e.alertId];t.forEach(e=>app.alert.dismiss(e))}},onInvokedFromDashboard(){},onAfterRender(){this._super();if(this.dashletOptionsEnabled()){this.$el.prepend(this.dashletOptionsTemplate(this));this.$switcher=this.$(".visibility-switcher");this.$switcherBtns=this.$switcher.find(".visibility-switcher__btn");if(!_.isEmpty(this.fields)){this._renderFields()}}},_dispose(){const e=this.getViewContainer();if(e){e.remove()}this.$switcher=null;this.$switcherBtns=null;this._super()},changeVisibility(e){e.preventDefault();e.stopPropagation();const t=$(e.target);const n=t.hasClass("visibility-switcher__btn")?t:t.parent();const i=n.data("value");const a="active";if(i!==this.viewState.visibility){this.saveState();this.$switcherBtns.removeClass(a);n.addClass(a);this.viewState.visibility=i;this.loadData({forceFetch:true})}},initFilters(e){this.viewState.filtersDef={};this.viewState.filters=app.data.createBean("Filters");this.updateFiltersViewState(e);this.listenTo(this.viewState.filters,"change",()=>{this.saveState();this.loadData({forceFetch:true})})},updateFiltersViewState(){},dashletOptionsEnabled(){return this.viewState&&(this.viewState.visibility||!_.isEmpty(this.viewState.filtersDef))},saveState(){const e=this.getSettingName();const t=a.getSetting({store:a.Stores.SETTINGS,name:e});const n=t?JSON.parse(t):[];const i={visibility:this.viewState.visibility,filters:this.viewState.filters.toJSON(),dashboardId:this.options.dashboardId,dashletId:this.meta.id};let r;_.each(n,(e,t)=>{if(i.dashboardId===e.dashboardId&&i.dashletId===e.dashletId){n[t]=i;r=i}});if(!r){n.push(i)}a.setSetting({store:a.Stores.SETTINGS,name:e,value:JSON.stringify(n)})},getState(e,t){const n=this.getSettingName();const i=a.getSetting({store:a.Stores.SETTINGS,name:n});const r=i&&JSON.parse(i);if(_.isEmpty(r)){return}return _.find(r,n=>n.dashboardId===e&&n.dashletId===t)},getSettingName(){return"dashlet_states"},apiCall(...e){this.activeRequests.push(app.api.call(...e))},isSwipable(){return true},toggleDashletSwipe(){this.$el.toggleClass("no-swiping",!this.isSwipable())},onDetachFromDom(){this.onBeforeHide();this._super()},getViewContainer:function e(){return this.$el}})},function(e,t,n){const i=n(1);const a=n(38);const r=n(25);const s=n(15);const o=n(17);const l=i.extendComponent(a,{navigationName:r.DASHLET_LIST,contextMenuOnSwipeDisabled:true,isManager:true,lazyRender:false,lazyLoad:false,getViewDefs(e){return[this.getListViewDef(e.meta.view,e)]},createView(e){const t=this._super(e);t.setOfflineEnabled(false);this.overrideListView(t);this.listenTo(t,this.ACTION_NAME,this.propagateAction);return t},getListViewDef(e,t){const n=["planned-activities","active-tasks","inactive-tasks","history"];const a=_.contains(n,this.options.meta.view.type);let r;let s;if(a&&e.module==="Emails"){r="emails-user-activity-list-item";s="list-item-emails"}else if(a){r="user-activity-list-item"}else{r=null}this._updateLinkOption(e,t);const o=_.extend({parentModel:t.parentModel},e,t.listParams);return{name:i.getViewClass({baseType:"configurable-list",module:e.module}),module:e.module,listParams:o,contextMenuOnSwipeDisabled:this.contextMenuOnSwipeDisabled,listItemTpl:r,listItemDataProvider:s}},getListView(){return _.find(this._views,e=>e instanceof s)},overrideListView(e){_.extend(e,{name:"list",action:"list",_buildRecordRoute:this._getBuildRouteFn(e),navigationName:this.navigationName})},_updateLinkOption(e,t){const n=_.isString(e.linked_fields)&&e.linked_fields;if(e.link||!n){return}const i=Boolean(_.isString(e.intelligent)?Number(e.intelligent):e.intelligent);if(i){e.link=n}},_getBuildRouteFn(e){const t=(...t)=>{const[n]=t;const{options:i}=this;const a=n.model;const{parentModel:r}=i;const o=app.controller.getScreenContext();const l=this.options.isRootScreen;let c;if(o.parentDashboardId&&l){c=[app.controller.getScreenContextRoot(),a.module,a.id].join("/")}else if(i.parentModel){c=[r.module,r.id,"Dashboards",i.dashboardId,i.dashletId,a.module,a.id];if(n.hash.action){c.push(n.hash.action)}c=c.join("/")}else{c=s.prototype._buildRecordRoute.apply(e,t)}return c};return _.bind(t,this)},loadData(e={}){return o.map(this._views,t=>t.loadData(this._getListLoadParams(t,e)))},_getListLoadParams(e,t){const n=app.metadata.getModule(e.module);const i=this.getFilters();const a=this.getViewIndex(e);return _.extend({},t,{myItems:this.viewState.myItemsOnly,fields:n?n.mergedFields:null,filter:i&&i[a]})},updateFiltersViewState(e){this._super(e);const t=this.dashletParams.filter||[];if(this.meta.view.date){t.push({name:"date",type:"radioenum",options:{today:app.utils.capitalize(app.lang.get("LBL_TODAY")),future:app.utils.capitalize(app.lang.get("LBL_FUTURE"))},gaTrack:{today:"click:today",future:"click:future"}})}_.each(t,function t(n){let i=this.meta.view[n.name];if(e.filters&&e.filters[n.name]){i=e.filters[n.name]}if(_.isEmpty(n.options)){n.options=app.lang.getAppListStrings(n.options)}_.extend(n,{view:"edit"});this.viewState.filters.set(n.name,i);this.viewState.filtersDef[n.name]=n},this)},getFilters(){}});e.exports=l},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{fallbackValueKey:null,events(){const{events:e}=a.prototype;return _.extend({},e,{"click .field-detail":"onDetailClick"})},format(e){const t=_.isString(this.def.order_by)&&this.def.order_by.split(":")[0];const n=[];e.each(e=>{let i=t&&e.get(t);if(!i&&!_.isEmpty(this.fallbackValueKey)){i=e.get(this.fallbackValueKey)}if(!i){const t=e.get("parent");i=t&&t.name}if(i){n.push(i)}});return n.join(", ")},onDetailClick(e){$(e.currentTarget).toggleClass("field-detail--expanded")}});e.exports=r},function(e,t,n){const i=n(1);const a=n(42);const r=n(4);const s=i.extendComponent(a,{events:{"change select":"onCurrencySelection"},isFloat:true,isCurrencyLabelVisible:false,initialize(e){this.isCurrencySelectorVisible=app.nomad.utils.ifFewCurrenciesAreAvailable();this._super(e);this._setDefaultCurrency()},_setDefaultCurrency(){const e=this.model.get("currency_id");const t=app.user.getPreference("currency_id");const n=app.metadata.getModule(this.module,"fields").currency_id||{};const i=this.context.isCreate()&&(_.isEmpty(e)||e===n.default);if(i&&app.metadata.getCurrency(t).status==="Active"){this.model.set("currency_id",app.user.getPreference("currency_id"),{silent:true})}},onBeforeRender(){this._super();if(_.isEmpty(this.model.get("currency_id"))){this.model.set("currency_id",app.user.getPreference("currency_id")||"-99",{silent:true})}this.availableCurrencies=this._getCurrencies()},_getCurrencies(){const{model:e}=this;const t=e.get("currency_id");const n=app.user.getPreference("currency_id");const i={};const a=app.metadata.getCurrencies();let r;_.each(a,(e,n)=>{const a=_.clone(e);a.id=n;if(a.status==="Active"){i[n]=a;r=a}else if(a.id===t){a.disabled=true;i[n]=a}});let s="-99";if(t&&_.has(i,t)){s=t}else if(_.has(i,n)){s=n}const o=i[s]||r;if(o){o.selected="selected";this.currencyLabel=o.iso4217}return i},onAfterRender(){const e=this;this._super();if(app.supportedFeatures.enumViaActionSheet){const t=[];_.each(this.availableCurrencies,e=>{t.push(e.iso4217)});this.$ct=this.$el.find(".actionsheet-select");this.$ct.bind("click",()=>{r.showActionSheet(t,{title:e.label,onSelectCb:function n(i){let a=null;const r=t[i];_.each(e.availableCurrencies,(e,t)=>{if(e.iso4217===r){a=t}});e.$ct.attr("value",a);e.$ct.text(r);e.onCurrencySelection()}})})}else{this.$ct=$("select",this.$el)}if(!this.model.get("currency_id")&&this.context.isCreate()){this.model.changeCurrencyId(this.$ct.val()||this.$ct.attr("value"),{silent:true})}},format(e){if(!e&&e!==0||_.isString(e)&&e.trim().length===0){return""}let t=e;const n=this.model.get("currency_id");this.currencySymbol=app.currency.getCurrencySymbol(n);if(!isNaN(parseFloat(app.currency.unformatAmountLocale(e)))){const i=app.user.getPreference("currency_id");if(this.action==="list"&&n!==i){t=app.currency.formatAmountLocale(e,n)}else if((this.action==="edit"||this.action==="create")&&this.tplName!=="disabled"){const i=app.user.getPreference("decimal_separator");const a=app.user.getPreference("decimal_precision");const r=app.currency.formatAmount(e,n,a,"",i);t=r.replace(this.currencySymbol,"")}else{t=app.currency.formatAmountLocale(e,n)}}return t},unformat(e){return app.currency.unformatAmountLocale(e)||e},onCurrencySelection(){this.model.changeCurrencyId(this.$ct.val()||this.$ct.attr("value"));const e=this.format(this.model.get(this.name));this.$("input").val(e)},onFieldChange(){this.model.set(this.name,this.unformat(this._$fieldEl.val()),{disableRenderForContext:this.view})}});e.exports=s},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{isFloat:false,fieldType:"text",initialize(e){this._super(e);if(app.user.getPreference("decimal_separator")!=="."){return}if($.os.ios){this.fieldType="number";this.events=_.extend({"keypress ._numeric":"onNumericKeyPress"},this.events);this.events=_.extend({"paste ._numeric":"onItemPaste"},this.events)}else if($.os.android){this.fieldType="tel"}},onItemPaste(e){const t=e.target;const n=$(t).val();_.delay(()=>{const e=$(t).val();if(_.isEmpty(e)){$(t).val(n)}},1)},onNumericKeyPress(e){const t=e.keyCode||e.which;if(t===46&&this.isFloat){const t=$(e.target).val();if(t===""){$(e.target).val("0")}else if(t.indexOf(".")>-1){e.preventDefault();return false}}else if(t<48||t>57){e.preventDefault();return false}},format(e){if(!e&&e!==0||_.isString(e)&&e.trim().length===0){return""}if(!isNaN(e)){let t="";if(this.action!=="edit"&&this.action!=="create"||this.tplName==="disabled"){t=this.def.disable_num_format?"":this.def.number_group_seperator||app.user.getPreference("number_grouping_separator")}e=app.utils.formatNumber(e,null,this.isFloat?this.def.precision||app.user.getPreference("decimal_precision"):0,t,this.def.decimal_seperator||app.user.getPreference("decimal_separator"));if(this.isFloat){this.model.set(this.name,this.unformat(e),{silent:true})}}return e},unformat(e){const t=app.utils.unformatNumberStringLocale(e.toString(),this.isFloat);return t===""||isNaN(t)?e:t}});e.exports=r},function(e,t,n){const i=n(1);const a=n(17);const r=n(8);const s={AFTER_RENDER:"after_render",ABORT_REQUESTS:"abort_requests",UNBIND_GLOBAL_EVENTS:"unbind_global_events",BIND_GLOBAL_EVENTS:"bind_global_events",COMPONENT_ACTION:"handle_component_action",DISPOSE:"dispose",DETACH_DOM:"detach_from_dom",AFTER_SHOW:"after_show"};e.exports=i.extendComponent(r,{childViewActions:s,template:null,_viewDefs:null,_views:null,viewRefs:null,constructor(e){if(!_.isUndefined(e.className)){this.className=e.className}this._super(e)},initialize(e){this._views=[];this.viewRefs={};this.initViewDefs(e);this._super(e)},initViewDefs(e){this._viewDefs=this.getViewDefs(e);_.each(this._viewDefs,t=>{t.viewId=t.viewId||t.name;_.extend(t,_.pick(e,"isRootScreen","isRecordScreen"))})},getViewDefs(e){return e.views||[]},getViews(){return _.compact(this._views)},getViewById(e){return _.find(this.getViews(),t=>t.options.viewId===e)},getViewIndex(e){return _.indexOf(this._views,e)},createView(e){const t=_.indexOf(this._viewDefs,e);const n={name:e.view,module:this.module,context:this.getViewContext(e)};const i=app.view.createView(_.extend(n,e));this.viewRefs[e.viewId]=i;this._views[t]=i;this.listenTo(i,this.ACTION_NAME,this.propagateComponentAction);this.bindViewEvents(i);return i},bindViewEvents(e){const t=this.getChildViewEvents(e);_.each(t,(t,n)=>this.listenTo(e,n,t))},getChildViewEvents(e){return{"view:dispose":()=>this._onViewDispose(e)}},deleteView(e,t={}){e.dispose();if(t.forceRender){this.render()}},_onViewDispose(e){const t=this.getViewHolderEl(e);const n=this.getViewIndex(e);this._views[n]=undefined;delete this.viewRefs[e.options.viewId];t.remove()},getViewContext(e){return e.context||this.context},createViewById(e,t={}){const n=_.findWhere(this._viewDefs,{viewId:e});let i=_.find(this.getViews(),t=>t.options.viewId===e);if(i&&t.forceCreation){i.dispose();i=null}return i||this.createView(n)},loadData(e){return a.map(this.getViews(),t=>t.loadData(e))},onBeforeRender(){this._super();if(this.template===app.template.empty){_.each(this._viewDefs,this.createView,this)}},onAfterRender(){this._super();this._performViewsAction(e=>this.renderView(e),s.AFTER_RENDER)},renderView(e){const t=this.getViewHolderEl(e);if(t.length){e.setElement(t);e.render()}else{e.render();const t=e.getViewContainer?e.getViewContainer():e.$el;this.$el.append(t)}e.$el.removeClass("view-holder-hide")},getViewHolderEl(e){const t=e.$el[0].tagName;const n=`${t}[view-cid="${e.cid}"]`;return this.$el.find(n)||this.$el},abortActiveRequests(){let e=false;this._performViewsAction(t=>{e=t.abortActiveRequests()||e;t._dataObsolete=true},s.ABORT_REQUESTS);return e},bindGlobalEvents(){this._performViewsAction(e=>e.bindGlobalEvents(),s.BIND_GLOBAL_EVENTS);this._super()},unbindGlobalEvents(){this._performViewsAction(e=>e.unbindGlobalEvents(),s.UNBIND_GLOBAL_EVENTS);this._super()},headerConfig(e){return this.getViews().reduce((e,t)=>{const n=_.isFunction(t.headerConfig)?t.headerConfig(e):t.headerConfig||{};return _.extend({},e,n)},e||{})},handleComponentAction(e){this._performViewsAction(t=>t.handleComponentAction(e),s.COMPONENT_ACTION);this._super(e)},_eachView(e,t){_.each(t||this._views,(t,n)=>{if(t){e(t,n)}})},_performViewsAction(e,t){this._eachView(e,this._getViewsForAction(t))},_getViewsForAction(e){return this._views},_dispose(){this._super();this._disposeChildViews();this.$viewContainer=null},_disposeChildViews(){this._performViewsAction(e=>e.dispose(),s.DISPOSE);this._views=[];this._viewDefs=null},onDetachFromDom(){this.unbindGlobalEvents();this.abortActiveRequests();this._performViewsAction(e=>e.onDetachFromDom(),s.DETACH_DOM);this._super()},onAfterShow(){this._performViewsAction(e=>e.onAfterShow(),s.AFTER_SHOW);this._super()},onBeforeLeave(e){const t=_.chain(this.getViews()).filter(e=>_.isFunction(e.onBeforeLeave)).map(e=>(function t(n){e.onBeforeLeave({callback(e){n(e&&e.cancel,e)}})})).value();asyncLib.parallel(t,t=>{e.callback({cancel:t})})}})},function(e,t,n){const i=n(1);const a=n(51);const r=n(140);const s=n(33);const o={selector:a,dupecheck:r};const l=i.extendComponent(s,{_stringType:"selection-list",_presets:{staticItems:{self:{isFilterEnabled:false,isSearchEnabled:false},innerList:{isPtrEnabled:false,template:"list-picker",listItemTpl:"list-item-picker",listItemDataProvider:"list-item-picker",className:"list-picker"}},base:{self:{isFilterEnabled:true,isSearchEnabled:true},innerList:{isPtrEnabled:true}}},initialize(e){if(e.preset){_.extend(e,this._presets[e.preset].self)}else{_.extend(e,this._presets.base.self)}e.subType=e.subType||"selector";this._super(e)},getListViewDef(e,...t){const n=this._super(e,...t);if(e.preset){_.extend(n,this._presets[e.preset].innerList)}else{_.extend(n,this._presets.base.innerList)}return _.extend({},{multiselect:Boolean(e.multiselect),listItemTpl:e.listItemTpl,listItemDataProvider:e.listItemDataProvider},n)},onAfterRender(){this._super();const e=this.getCurrentList();const t=e.collection;this.listenTo(e,"selection:change",e=>this.onSelectionChange(e));if(app.offlineEnabled){this.listenTo(app.events,"offline:collection:read",function t(n){if(e.isCurrentListUpdated(n.apiOptions)&&n.status===app.offline.api.ReadCollectionStatus.FINISH&&!n.isDataUpdated){this.changeSaveBtnState()}})}else{this.listenTo(t,"sync",()=>this.changeSaveBtnState())}},onSelectionChange(e){const t=this.getCurrentList();this.trigger("selection:change",e);if(this.isFilterEnabled||this.isSearchEnabled){if(!this.options.multiselect){return}if(_.isEmpty(t.getSelectedIds())){if(this._searchBox){this.setHeaderBtnsVisible({search:true})}this.toggleFiltersView(true)}else{if(this._searchBox){this._searchBox.hideSearch();this.setHeaderBtnsVisible({search:false})}this.toggleFiltersView()}}this.changeSaveBtnState()},setHeaderBtnsVisible(e){app.controller.updateHeader(this,t=>{t.setButtonVisible(e)})},changeSaveBtnState(){app.controller.updateHeader(this,e=>{e.setSaveBtnState({enabled:!_.isEmpty(this.getCurrentList().getSelectedIds())})})},headerConfig(e={}){const t=_.extend(e,{save:true,cancel:true,mainMenu:false,saveLabel:"LBL_DONE_BUTTON_LABEL"});return this._super(t)},getListViewClass(e){return o[e.subType]},onToggleSearch(e){if(e){this.toggleFiltersView(true)}this._super(e)},getSelectedModels(){return this.getCurrentList().getSelectedModels()}});e.exports=l},function(e,t,n){const i=n(46);const a=n(35);const r=Backbone.Collection.extend({_activeFetchRequest:null,model:i,constructor:function(e,t){a.attach(this,"collection");if(t&&t.link){this.link=t.link;delete t.link}Backbone.Collection.prototype.constructor.call(this,e,t)},initialize:function(e,t){this._persistentOptions={};this._create=[];this._delete=[];this._add=[];this.setOption(t);this._bindCollectionEvents();Backbone.Collection.prototype.initialize.call(this,e,t);this.total=null},_bindCollectionEvents:function(){this.on("data:sync:complete",function(){var e=this.getFetchRequest();if(e){this._activeFetchRequest=null}},this);this.on("remove",this._decrementTotal,this);if(!this.link){return}this.on("sync",this.resetDelta,this)},_decrementTotal:function(){if(this.total){this.total--}},add:function(e,t){e=Backbone.Collection.prototype.add.call(this,e,t);if(_.isUndefined(e)||!this.link||t&&t.method){return e}e=_.isArray(e)?e:[e];_.each(e,e=>{if(!e){return}if(e.isNew()){this._create.push(e)}else{const t=_.find(this._delete,e);if(t){this._delete=_.without(this._delete,t)}else{this._add.push(e)}}},this);return e.length===1?e[0]:e},remove:function(e,t){e=Backbone.Collection.prototype.remove.call(this,e,t);if(_.isUndefined(e)||!this.link){return e}e=_.isArray(e)?e:[e];_.each(e,e=>{if(!e){return}if(e.isNew()){this._create=_.without(this._create,e)}else if(_.contains(this._add,e)){this._add=_.without(this._add,e)}else{this._delete.push(e)}},this);return e.length===1?e[0]:e},reset:function(e,t){this.resetDelta();return Backbone.Collection.prototype.reset.call(this,e,t)},getDelta:function(){let e={};e.create=_.invoke(this._create,"toJSON");let t=SUGAR.App.data.getOppositeLink(this.link.bean.module,this.link.name);let n=SUGAR.App.data.getRelationFields(this.module,t);e.add=_.map(this._add,e=>{let t={id:e.id};_.each(n,n=>{if(e.get(n)){t[n]=e.get(n)}});return t});e.delete=_.pluck(this._delete,"id");return e},hasDelta:function(){return!_.all([this._add,this._delete,this._create],_.isEmpty)},resetDelta:function(){this._create=[];this._add=[];this._delete=[]},dispose:function(){a.detach(this,"collection")},_prepareModel:function(e,t){var n=e._search;delete e._search;e=Backbone.Collection.prototype._prepareModel.call(this,e,t);if(e&&!e.link)e.link=this.link;if(n){e.searchInfo=n}return e},fetch:function(e){e=_.extend({},this.getOption(),e);this.abortFetchRequest();e.fields=this.fields=e.fields||this.fields||null;e.myItems=_.isUndefined(e.myItems)?this.myItems:e.myItems;e.favorites=_.isUndefined(e.favorites)?this.favorites:e.favorites;e.query=_.isUndefined(e.query)?this.query:e.query;e.reset=_.isUndefined(e.reset)?true:e.reset;this._activeFetchRequest=Backbone.Collection.prototype.fetch.call(this,e);return this.getFetchRequest()},getFetchRequest:function(){if(_.isFunction(this._activeFetchRequest)){return this._activeFetchRequest()}else{return this._activeFetchRequest}},abortFetchRequest:function(){var e=this.getFetchRequest();if(e){SUGAR.App.api.abortRequest(e.uid);this._activeFetchRequest=null}},resetPagination:function(){this.offset=this.getOption("offset")||0;this.next_offset=0;this.page=this.getOption("page")||1},paginate:function(e){e=e||{};var t=e.limit||SUGAR.App.config.maxQueryResult;e.page=e.page||1;e.reset=_.isUndefined(e.reset)?false:e.reset;e.page--;if(t&&_.isNumber(this.offset)){e.offset=this.offset+e.page*t}if(e.add){e=_.extend({update:true,remove:false},e)}this.fetch(e)},fetchTotal:function(e){e=e||{};if(!_.isNull(this.total)&&_.isFunction(e.success)){e.success.call(this,this.total);return}e.success=_.wrap(e.success,_.bind(function(e,t){this.total=parseInt(t.record_count,10);if(e&&_.isFunction(e)){e(this.total)}},this));var t=this.module;var n=null;e.filter=e.filterDef||this.filterDef;if(this.link){n={id:this.link.bean.id,link:this.link.name};t=this.link.bean.module}var i=_.pick(e,"success","complete","error");e=_.omit(e,"success","complete","error");return SUGAR.App.api.count(t,n,i,e)},hasAtLeast:function(e,t){t=t||{};var n="read";t.fields=["id"];delete t.view;t.silent=true;t.success=_.wrap(t.success,_.bind(function(t,n){var i=n.records.length;var a=i>=e;var r={length:i,hasMore:n.next_offset!==-1};if(_.isFunction(t)){t(a,r)}this.reset(null,{silent:true})},this));var i=this.module;var a=null;var r="records";t.filter=t.filterDef||this.filterDef;t.limit=t.limit||e;if(this.link){a={id:this.link.bean.id,link:this.link.name};i=this.link.bean.module;r="relationships"}var s=_.pick(t,"success","complete","error");t=_.omit(t,"success","complete","error");t=SUGAR.App.data.parseOptionsForSync(n,this,t);return SUGAR.App.api[r](n,i,a,t.params,s,t.apiOptions)},getPageNumber:function(e){var t=1;var n=SUGAR.App.config.maxQueryResult;if(e){n=e.limit||n}if(this.offset&&n){t=Math.ceil(this.offset/n)}return t},toString:function(){return"coll:"+(this.link?this.link.bean.module+"/"+this.link.bean.id+"/":"")+this.module+"-"+this.length},getNext:function(e,t){var n=-1;var i=()=>{t.apply(this,[this.at(n+1),"next"])};if(this.hasNextModel(e)){n=this.getModelIndex(e);if(n+1>=this.length){this.paginate({add:true,success:i})}else{i()}}},getPrev:function(e,t){var n=-1,i=null,a=this;if(this.hasPreviousModel(e)){n=this.getModelIndex(e);i=this.at(n-1)}t.apply(a,[i,"prev"])},hasNextModel:function(e){var t=this.getModelIndex(e),n=!_.isUndefined(this.next_offset)?parseInt(this.next_offset,10):-1;return t>=0&&(this.length>t+1||n!==-1)},hasPreviousModel:function(e){return this.getModelIndex(e)>0},getModelIndex:function(e){return this.indexOf(this.get(e.id))},setOption:function(e,t){var n;if(_.isObject(e)){n=e}else{(n={})[e]=t}_.extend(this._persistentOptions,n);return this},unsetOption:function(e){if(e){this.setOption(e,void 0)}else{this._persistentOptions={}}return this},getOption:function(e){if(e){return this._persistentOptions[e]}return this._persistentOptions},clone:function(){var e=Backbone.Collection.prototype.clone.call(this);e.link=_.clone(this.link);e.setOption(_.clone(this.getOption()));return e}});e.exports=r},function(e,t,n){const i=n(35);const a=n(16);const r=n(158);Backbone.Model.prototype.doValidate=function(e,t){t(this.isValid())};function s(e,t,n,i){if(_.isUndefined(t))return;if(_.isUndefined(e[n])){e[n]={}}e[n][i]=t}const o=Backbone.Model.extend({constructor:function(e,t){i.attach(this,"model");Backbone.Model.prototype.constructor.call(this,e,t)},initialize:function(e){Backbone.Model.prototype.initialize.call(this,e);this.setSyncedAttributes(this.attributes);this._bindEvents();this._relatedCollections=this._relatedCollections||null;this._activeFetchRequest=null;if(this.isNew()&&this._defaults){_.each(this._defaults,function(e,t){if(!this.has(t)){this.set(t,e,{silent:true})}},this)}if(this.fields){this.fields=a.deepCopy(this.fields)}this.addValidationTask("sidecar",_.bind(this._doValidate,this))},fetch:function(e){e=_.extend({},this.getOption(),e);this.abortFetchRequest();this._activeFetchRequest=Backbone.Model.prototype.fetch.call(this,e);return this._activeFetchRequest},getFetchRequest:function(){return this._activeFetchRequest},abortFetchRequest:function(){var e=this.getFetchRequest();if(e){SUGAR.App.api.abortRequest(e.uid)}},set:function(e,t,n){if(_.isUndefined(e)||_.isNull(e)){return this}var i;if(typeof e==="object"){i=e;n=t}else{(i={})[e]=t}n=n||{};var a=this.getCollectionFields(i);i=_.omit(i,_.keys(a));Backbone.Model.prototype.set.call(this,i,n);this._setCollectionFieldValues(a,n);return this},get:function(e){var t=Backbone.Model.prototype.get.call(this,e);if(!this.fields||!this.fields[e]||this.fields[e].type!=="collection"||t instanceof SUGAR.App.MixedBeanCollection){return t}t=this._createMixedBeanCollectionField(e);Backbone.Model.prototype.set.call(this,_.object([e],[t]),{silent:true});return t},_setCollectionFieldValues:function(e,t){_.each(e,function(e,n){if(e instanceof SUGAR.App.MixedBeanCollection){if(this.get(n)!==e){this.stopListening(this.get(n));Backbone.Model.prototype.set.call(this,_.object([n],[e]),t);this.listenTo(e,"update reset",function(e,t){this.trigger("change:"+n,this,e,t)});this.off("sync",e.resetDelta,e);this.on("sync",e.resetDelta,e)}}else{var i={};var a=this.get(n);if(_.isObject(e)&&e.records){i=_.extend(i,_.omit(e,"records"));e=e.records}_.each(i,function(e,t){a[t]=e});a.offset=a.next_offset;a.reset(e,t)}},this)},_createMixedBeanCollectionField:function(e,t){var n=this.fields[e];if(n&&n.links){var i=n.links;if(_.isString(i)){i=[i]}var a={};_.each(i,function(e){if(_.isObject(e)&&_.has(e,"name")){e=e.name}if(_.isString(e)){a[e]=this.getRelatedCollection(e)}},this);var r=SUGAR.App.data.createMixedBeanCollection(t||[],{links:a,parentBean:this,collectionField:e});this.listenTo(r,"update reset",function(t,n){this.trigger("change:"+e,this,t,n)});this.off("sync",r.resetDelta,r);this.on("sync",r.resetDelta,r);return r}},_bindEvents:function(){this.on("sync",function(){this._checkAcl();this.setSyncedAttributes(this.attributes)},this)},_checkAcl:function(){var e=this._checkFieldAcls();if(_.size(e)||!_.isEqual(_.omit(this.get("_acl"),"fields"),_.omit(this.getSynced("_acl"),"fields"))){this.trigger("acl:change",e)}},_checkFieldAcls:function(){var e={};var t=_.property("fields");var n=t(this.getSynced("_acl"))||{};var i=t(this.get("_acl"))||{};var a=_.extend({},n,i);_.each(a,function(t,a){if(!_.isEqual(n[a],i[a])){this.trigger("acl:change:"+a);e[a]=true}},this);return e},dispose:function(){i.detach(this,"model")},_setRelatedCollection:function(e,t){if(!this._relatedCollections)this._relatedCollections={};this._relatedCollections[e]=t},getRelatedCollection:function(e){if(this._relatedCollections&&this._relatedCollections[e]){return this._relatedCollections[e]}return SUGAR.App.data.createRelatedCollection(this,e)},isValidAsync:function(e,t){e=e||this.fields;async.waterfall(_.flatten([function(t){t(null,e,{})},_.sortBy(this._validationTasks)]),function(e,n,i){if(!e){var a=_.isEmpty(i);if(_.isFunction(t)){t(a,i)}}})},doValidate:function(e,t){var n=this;this.trigger("validation:start");this.isValidAsync(e,function(e,i){if(e){n.trigger("validation:success")}n.trigger("validation:complete",n._processValidationErrors(i));if(_.isFunction(t)){t(e)}})},_doValidate:function(e,t,n){var i;_.each(e,function(e,n){if(_.isString(e)){n=e;e=this.fields[n]}i=this.get(n);if(e){s(t,r.requiredValidator(e,e.name,this,i),n,"required");if(i||i===0){_.each(r.validators,function(a,r){if(r==="url"){return}s(t,a(e,i,this),n,r)},this)}}},this);n(null,e,t)},addValidationTask:function(e,t){this._validationTasks=this._validationTasks||{};this._validationTasks[e]=t},removeValidationTask:function(e){if(this._validationTasks){this._validationTasks=_.omit(this._validationTasks,e)}},_processValidationErrors:function(e){var t=true;if(!_.isEmpty(e)){SUGAR.App.error.handleValidationError(this,e);_.each(e,function(e,t){this.trigger("error:validation:"+t,e)},this);this.trigger("error:validation",e);t=false}return t},save:function(e,t){if(!t||!t.fieldsToValidate){return Backbone.Model.prototype.save.call(this,e,t)}this.doValidate(t.fieldsToValidate,n=>{if(n){return Backbone.Model.prototype.save.call(this,e,t)}})},canHaveAttachments:function(){return _.has(this.fields,"attachment_list")},getFiles:function(e,t){t=t||{};t.passOAuthToken=false;return SUGAR.App.api.file("read",{module:this.module,id:this.id},null,e,t)},copy:function(e,t,n){var i={};var r=SUGAR.App.metadata.getModule(this.module).fields;t=t||_.pluck(r,"name");_.each(t,function(t){var n=r[t],s;if(!n||n.duplicate_on_record_copy==="no"){return}s=n.duplicate_on_record_copy==="always"||t!=="id"&&n.type!=="link"&&!n.auto_increment;if(s&&e.has(t)){var o=e.get(t);if(_.isObject(o)){o=a.deepCopy(o)}i[t]=o}});this.set(i,n);this.isCopied=true},isCopy:function(){return this.isCopied===true},uploadFile:function(e,t,n,i){n=n||{};i=i||{};return SUGAR.App.api.file("create",{id:i.temp!==true?this.id:"temp",module:this.module,field:e},t,n,i)},favorite:function(e,t){t=t||{};t.favorite=true;return this.save({my_favorite:!!e},t)},follow:function(e,t){t=t||{};e=e||false;t.following=true;return this.save({following:e},t)},isFavorite:function(){var e=this.get("my_favorite");return e==="1"||e===true},getChangeDiff:function(e,t){var n={};e=e||{};t=t||[];_.each(this.attributes,function(i,a){if(_.contains(t,a))return;var r=e[a];if(!_.isEqual(r,i)){n[a]=r}});return n},hasChanged:function(e){if(this.get(e)instanceof SUGAR.App.MixedBeanCollection){return this.get(e).hasDelta()}return Backbone.Model.prototype.hasChanged.call(this,e)},toJSON:function(e){var t=e&&e.fields?e.fields:_.keys(this.attributes),n={};_.each(t,function(t){let i=this.get(t);if(i instanceof SUGAR.App.MixedBeanCollection){_.each(i.getDelta(),(e,t)=>{n[t]=e})}else{if(_.isObject(i)&&_.isFunction(i.toJSON)){SUGAR.App.logger.warn("Calling `toJSON` on object attributes is deprecated in 7.9 and will be "+"removed in 7.10");i=i.toJSON(e)}n[t]=i}},this);return n},toString:function(){return"bean:"+this.module+"/"+(this.id?this.id:"<no-id>")},revertAttributes:function(e){e=e||{};e.revert=true;var t=this.changedAttributes(this.getSynced());this.set(a.deepCopy(t)||{},e);if(!e.silent){this.trigger("attributes:revert")}},changedAttributes:function(e){let t=this.getCollectionFields(e);if(!_.isUndefined(e)){e=_.omit(e,_.keys(t))}let n=Backbone.Model.prototype.changedAttributes.call(this,e);_.each(t,(e,t)=>{if(this.get(t).hasDelta()){n=n||{};n[t]=e}},this);return n},setSyncedAttributes:function(e){this._syncedAttributes=e?a.deepCopy(e):{}},getSynced:function(e){return e?this._syncedAttributes[e]:this._syncedAttributes},getDefault:function(e){var t=_.clone(this._defaults)||{};if(_.isUndefined(e)){return t}return t[e]},setDefault:function(e,t){var n;if(_.isObject(e)){n=e}else{(n={})[e]=t}this._defaults=_.extend({},this._defaults,n);this.attributes=_.defaults(this.attributes,n);return this},setOption:function(e,t){var n;if(_.isObject(e)){n=e}else{(n={})[e]=t}this._persistentOptions=_.extend({},this._persistentOptions,n);return this},unsetOption:function(e){if(e){this.setOption(e,void 0)}else{this._persistentOptions={}}return this},getOption:function(e){if(e){return this._persistentOptions[e]}return this._persistentOptions},fieldsOfType:function(e){return _.where(this.fields,{type:e})},getCollectionFields:function(e){return _.pick(e,_.pluck(this.fieldsOfType("collection"),"name"))},merge:function(e,t,n){return _.extend(e,t)}});e.exports=o},function(e,t,n){const i=n(78);const a=n(19);const r=Backbone.View.extend({_isInitialized:false,constructor:function(e){this.options=e||{};this._wrapInitialize(e);return Backbone.View.apply(this,arguments)},_wrapInitialize:function(e){this.initialize=_.wrap(this.initialize,_.bind(function(t){t.call(this,e);this.initialize=t;this._isInitialized=true;this.delegateEvents()},this))},initialize:function(e){this.context=e.context||SUGAR.App.controller&&SUGAR.App.controller.context||new Backbone.Model;this.meta=e.meta;this.module=e.module||this.context.get("module");this.model=e.model||this.context.get("model");this.collection=e.collection||this.context.get("collection");if(this.meta&&this.meta.css_class){this.$el.addClass(this.meta.css_class)}this.updateVisibleState(true);a.lastState.register(this)},_render:function(){return this},render:function(){if(this.disposed===true){SUGAR.App.logger.error("Unable to render component because it's disposed "+this+"\n");return false}if(!this.triggerBefore("render"))return false;this._render();this.trigger("render");return this},delegateEvents:function(){if(!this._isInitialized){return this}return Backbone.View.prototype.delegateEvents.apply(this,arguments)},setTemplateOption:function(e,t){this.options.templateOptions=this.options.templateOptions||{};this.options.templateOptions[e]=_.extend({},this.options.templateOptions[e],t)},bindDataChange:function(){},unbindData:function(){if(this.model)this.model.off(null,null,this);if(this.collection)this.collection.off(null,null,this)},unbind:function(){this.off();this.offBefore();this.undelegateEvents();SUGAR.App.events.off(null,null,this);SUGAR.App.events.unregister(this);if(this.context)this.context.off(null,null,this);if(this.layout)this.layout.off(null,null,this)},loadData:_.noop,_dispose:function(){this.unbindData();this.unbind();this.remove();this.model=null;this.collection=null;this.context=null;this.$el=null;this.el=null},dispose:function(){if(this.disposed===true)return;this._dispose();this.disposed=true},toString:function(){return this.cid+"-"+(this.$el&&this.$el.id?this.$el.id:"<no-id>")+"/"+this.module+"/"+this.model+"/"+this.collection},closestComponent:_.noop,show:function(){if(!this.isVisible()){if(!this.triggerBefore("show")){return false}this._show();this.trigger("show")}},hide:function(){if(this.isVisible()){if(!this.triggerBefore("hide")){return false}this._hide();this.trigger("hide")}},isVisible:function(){return this._isVisible},updateVisibleState:function(e){this._isVisible=!!e},_show:function(){this.$el.removeClass("hide").show();this.updateVisibleState(true)},_hide:function(){this.$el.addClass("hide").hide();this.updateVisibleState(false)},_super:function(e,t){if(!e||!_.isString(e)){return SUGAR.App.logger.error("tried to call _super without specifying a parent method in "+this.name)}var n,i=Object.getPrototypeOf(this);t=t||[];this._superStack=this._superStack||{};this._superStack[e]=this._superStack[e]||[];if(this._superStack[e].length>0){n=Object.getPrototypeOf(_.last(this._superStack[e]));if(_.contains(this._superStack[e],n)){return SUGAR.App.logger.error("Loop detected calling "+e+" from "+this.name)}}else{n=Object.getPrototypeOf(i)}if(!i[e]){return SUGAR.App.logger.error("Unable to find method "+e+" on class "+this.name)}while(!n.hasOwnProperty(e)&&n!==r.prototype){n=Object.getPrototypeOf(n)}while(i[e]===n[e]&&n!==r.prototype){i=n;n=Object.getPrototypeOf(n)}this._superStack[e].push(n);if(!n){return SUGAR.App.logger.error("Unable to find parent of component "+this.name)}if(!n[e]){return SUGAR.App.logger.error("Unable to find method "+e+" on parent class of "+this.name)}var a=n[e].apply(this,t);this._superStack[e].pop();if(_.isEmpty(this._superStack[e])){this._superStack[e]=null}return a},getPlaceholder:function(){return new Handlebars.SafeString('<span cid="'+this.cid+'"></span>')}});_.extend(r.prototype,i);e.exports=r},function(e,t,n){const i=n(327);const a=n(329);const r=n(328);e.exports={getRecordActions({view:e,model:t,type:a,maxCount:r}){const s=n(10);const o=s.getCustomActions();const l=this._isMetaRelatedView(t,e)&&i({view:e,model:t,type:a});let c=e.contextMenuActions||_.union(l,o);c=_.chain(this.processRecordActions({actions:c,view:e,model:t,type:a})).filter(t=>e&&_.isFunction(e.isActionVisible)?e.isActionVisible(t):t.isVisible).value();if(r){c=c.slice(0,r)}return c},getRightMenuActions({view:e,model:t,viewType:i,viewSubType:r}){const s=i==="list"?"right-menu-list":"right-menu-detail";const o=n(10);const l=this._isMetaRelatedView(t,e)&&a({model:t,viewType:i,viewSubType:r});const c=this.processRecordActions({actions:_.union(l,o.getCustomActions()),view:e,model:t,type:s});return _.where(c,{isVisible:true})},getEditViewActions({view:e,model:t}){const i=n(10);const a=this._isMetaRelatedView(t,e)&&r({view:e,model:t});const s=this.processRecordActions({actions:_.union(a,i.getCustomActions()),view:e,model:t,type:"edit-menu"});return _.where(s,{isVisible:true})},processRecordActions({actions:e,view:t,model:n,type:i}){return _.chain(e).filter(e=>_.contains(e.types,i)&&(!e.modules||_.contains(e.modules,n.module))).reduce((e,t,n,i)=>{let a={};const r=t.name;if(_.findWhere(e,{name:r})){return e}if(!t.custom){a=_.find(i,e=>e.custom&&r===e.name)}e.push(_.extend({},t,a));return e},[]).each(e=>{this._updateActionState({action:e,view:t,model:n});if(i==="context-menu"){e.googleAnalyticsName=`c-${e.name}`}}).sortBy("rank").value()},_updateActionState({action:e,view:t,model:n}){_.each(e.stateHandlers,(i,a)=>{const r=e[a];if(_.isUndefined(r)){e[a]=Boolean(i.call(e,t,n))}});_.defaults(e,{isVisible:true,isEnabled:true})},_isMetaRelatedView(e){return e.module&&(e instanceof app.NomadBean||e instanceof app.BeanCollection)}}},function(e,t,n){let i=[];const a={registerBuddySteps(){const e=n(26);const t=n(20);i=[{id:"localSecurity",controller:t},{id:"bulkLoad",controller:{selfTrackComplete:true,isCompleted(){return!e.isRequired()},isStepNeeded(){return app.config.offline.bulkLoad.setupOnStartEnabled&&e.isRequired()},showSetupView(t){e.setupBulkLoad(t)}}}];_.each(i,e=>{_.defaults(e.controller,{isStepNeeded:()=>true,canPerformStep:()=>true,isCompleted:()=>true,cleanupStep:_.noop,showSetupView:_.noop})})},isSetupBuddySupported(){return app.config.setupBuddyEnabled},isSetupBuddyItemCompleted(e){return this._isStepCompleted(e)},resetPref(){app.loginManager.removeSetting("setupBuddy");this.currentStepIndex=null},show(e,t={}){if(!t.isResume){this.currentStepIndex=0}this.registerBuddySteps();this._setupBuddyCompleteCallback=e;if(this.isSetupBuddySupported()){this._performSetupBuddy()}else{this._setupBuddyCompleteCallback()}},resume(e){this.show(e,{isResume:true})},_performSetupBuddy(){this.currentStepIndex=this.currentStepIndex||0;while(this.currentStepIndex<i.length){const e=i[this.currentStepIndex];if(e&&!this._isStepCompleted(e.id)&&e.controller.isStepNeeded()&&e.controller.canPerformStep()){e.controller.showSetupView(()=>this.setupStepCompleted());break}if(e&&!e.controller.isStepNeeded()){this._setStepCompleted(e.id)}this.currentStepIndex++}if(this.currentStepIndex>=i.length){this._setupBuddyCompleteCallback()}},setupStepCompleted(){const e=i[this.currentStepIndex];if(e){this._setStepCompleted(e.id)}this.currentStepIndex++;this._performSetupBuddy()},_cleanUp(){_.each(i,e=>{e.controller.cleanupStep()})},_getPrefs(){const e=app.loginManager.getSetting("setupBuddy")||{};e.viewed=e.viewed||{};return e},_isStepCompleted(e){const t=this._getPrefs()||{};const n=this._getStepById(e);return n&&n.controller.selfTrackComplete?n.controller.isCompleted():t.viewed[e]},_setStepCompleted(e){const t=this._getPrefs();const n=this._getStepById(e);if(!n.controller.selfTrackComplete){t.viewed[e]=true;app.loginManager.setSetting("setupBuddy",t)}},_getStepById(e){return _.findWhere(i,{id:e})},isActive(){const e=this.currentStepIndex||0;return e<i.length}};e.exports=a},function(e,t,n){const i=n(91);e.exports={initSubpanels(){const e=app.metadata.getModuleNames({filter:"visible"});e.push("Users");_.each(e,t=>{const n=app.metadata.getModule(t,"layouts");const a=n?n.subpanels:null;if(!a||!a.meta||!_.isArray(a.meta.components)){return}const r=[];_.each(a.meta.components,(n,a)=>{let s;let o;try{s=app.data.getRelatedModule(t,n.context.link);o=i.getRelationship(t,n.context.link)}catch(e){s=null;o=null}if(!_.contains(e,s)){s=null}if(s){n.module=s;n.creatable=(_.isUndefined(n.canCreate)&&_.isUndefined(n.creatable)?true:n.canCreate||n.creatable)&&!_.contains(app.config.modules.nonCreatableModules,s);n.linkable=o&&(_.isUndefined(n.canLink)&&_.isUndefined(n.linkable)?true:n.canLink||n.linkable)&&!_.contains(app.config.modules.nonLinkableModules,s);n.unlinkable=_.isUndefined(n.unlinkable)?true:n.unlinkable}else{r.push(a)}});for(let e=0;e<r.length;++e){a.meta.components.splice(r[e]-e,1)}})},hasLinkableSubpanels(e){return _.any(e,e=>e.linkable&&app.acl.hasAccess("list",e.module))},hasCreatableSubpanels(e){return _.any(e,e=>e.creatable&&app.acl.hasAccess("create",e.module))},getSubpanels(e){const t=app.metadata.getModule(e,"layouts");const n=t?t.subpanels:null;return n&&n.meta?n.meta.components:[]},getSubpanel(e,t){return _.find(this.getSubpanels(e),e=>e.context.link===t)||{}}}},function(e,t,n){const i=n(1);const a=n(15);e.exports=i.extendComponent(a,{globalEvents:{"offline:data:updated":function(e){this._offlineRefetch(e,{relate:false})}},listItemDataProvider:"list-item-associate",multiselect:false,contextMenuDisabled:true,submitAfterSelect:false,_selections:null,_buttonTypes:{checkbox:{on:app.config.ui.icons.edit.checkboxOn,off:app.config.ui.icons.edit.checkboxOff,additionalClass:"checkbox-icon",listItemSelected:"item-checkbox_checked"},radio:{on:app.config.ui.icons.edit.radioOn,off:app.config.ui.icons.edit.radioOff,additionalClass:"radio-icon",listItemSelected:"list-item-radio--selected"}},_pickFromOptions:["multiselect","listItemTpl","listItemDataProvider","isPtrEnabled"],initialize(e){_.each(this._pickFromOptions,t=>{if(!_.isUndefined(e[t])){this[t]=e[t]}});this.submitAfterSelect=_.isBoolean(e.submitAfterSelect)?e.submitAfterSelect:!this.multiselect;this._super(e);this.button=this._buttonTypes[e.buttonType||"checkbox"];this._setSelectedIds(e.selections)},onAfterRender(){this._super();this._syncSelectionUI()},_setSelectedIds(e,t){this._selections=(t?_.union(this.getSelectedIds(),e):e)||[];this._syncSelectionUI()},getSelectedIds(){return this._selections},getSelectedModels(){const e=this.getSelectedIds();const t=[];_.each(e,function e(n){const i=this.collection.get(n);if(i){t.push(i)}},this);return t},toggleItemSelected(e,t){const n=this.getSelectedIds();const i=_.indexOf(n,e);const a=i!==-1;if(t===undefined){t=!a}if(t&&!a){if(!this.multiselect&&n[0]!==e){n.pop()}n.push(e)}else if(!t&&a){n.splice(i,1)}this.trigger("selection:change",this.getSelectedModels());this._syncSelectionUI()},onItemElementClick(e){if(e.defaultPrevented||e.cancelBubble){return}const t=$(e.currentTarget).closest("article");const n=t.attr("data-id");this.toggleItemSelected(n)},clearSelection(){this._selections=[];this._syncSelectionUI()},_syncSelectionUI(){if(!this.multiselect&&this.submitAfterSelect){return}const e=[];const{on:t,off:n,listItemSelected:i,additionalClass:a}=this.button;const r=`.${a}.${t.split(" ").join(".")}`;this.$(`.${i}`).removeClass(i);this.$(r).removeClass(t).addClass(n);_.each(this.getSelectedModels(),function r(s){const o=this.getListItemEl(s);o.addClass(i);o.find(`.${a}`).removeClass(n).addClass(t);e.push(s.id||s.cid)},this);this._selections=e}})},function(e,t,n){const i=n(34);const a=n(16);const r=n(46);const s=n(45);const o=n(157);var l={};var c={};const u=function(e,t){let n=SUGAR.App.metadata.getModule(e);let i=n.fields[t]&&n.fields[t].relationship;if(!i){return false}return i};const d=_.extend({beanModel:r,beanCollection:s,mixedBeanCollection:o,init:function(){var e=_.bind(this.sync,this);this.beanModel.prototype.sync=e;this.beanCollection.prototype.sync=e;SUGAR.App.events.register("data:sync:start",this);SUGAR.App.events.register("data:sync:complete",this);SUGAR.App.events.register("data:sync:success",this);SUGAR.App.events.register("data:sync:error",this);SUGAR.App.events.register("data:sync:abort",this)},reset:function(e){this.resetModel(e);this.resetCollection(e)},resetModel:function(e){if(e){delete l[e]}else{l={}}},resetCollection:function(e){if(e){delete c[e]}else{c={}}},declareModel:function(e,t,n,i,a){n=n||SUGAR.App.config.platform||"base";this.declareModelClass(e,t,n,i);this.declareCollectionClass(e,n,a)},declareModelClass:function(e,t,n,i){var r=a.capitalize(n);e=e||r+"Model";this.resetModel(e);var s=t?t.fields:{};var o=null;_.each(_.values(s),function(e){if(!_.isUndefined(e["default"])){if(o===null){o={}}o[e.name]=e["default"]}});var c={_defaults:o,module:e,fields:s};var u=l[r+"Model"]||l.BaseModel||this.beanModel;i=_.extend(i||{},c);return a.extendClass(l,u,e,i,r)},declareCollectionClass:function(e,t,n){var i=a.capitalize(t);var r=e||i+"Model";var s=l[r];e=e||i+"Collection";if(!s){return}this.resetCollection(e);var o={model:s,module:e,offset:0};var u=c[i+"Collection"]||c.BaseCollection||this.beanCollection;n=_.extend(n||{},o);return a.extendClass(c,u,e,n,i)},mergeModel:function(e,t){var n=t?t.fields:{};var i=null;_.each(_.values(n),function(e){if(!_.isUndefined(e["default"])){if(i===null){i={}}i[e.name]=e["default"]}});var a={_defaults:i,module:e,fields:n};_.extend(l[e].prototype,a)},getModelClasses:function(){return l},getCollectionClasses:function(){return c},declareModels:function(e){e=e||SUGAR.App.metadata.getModules();_.each(e,function(e,t){if(!l[t]){this.declareModel(t,e)}else{this.mergeModel(t,e)}},this)},getBeanClass:function(e){return l[e]||this.beanModel},createBean:function(e,t,n){return l[e]?new l[e](t,n):new d.beanModel(t,n)},createBeanCollection:function(e,t,n){return c[e]?new c[e](t,n):new d.beanCollection(t,n)},createRelatedBean:function(e,t,n,i){var a=this.getRelatedModule(e.module,n);i=i||{};if(_.isString(t)){i.id=t;t=this.createBean(a,i)}else if(_.isNull(t)){t=this.createBean(a,i)}else{t.set(i)}t.link={name:n,bean:e,isNew:true};t.setOption("relate",true);return t},createRelatedCollection:function(e,t,n){var i=this.getRelatedModule(e.module,t);var a=this.createBeanCollection(i,n,{link:{name:t,bean:e}});a.setOption("relate",true);e._setRelatedCollection(t,a);return a},createMixedBeanCollection:function(e,t){return new d.mixedBeanCollection(e,t)},canHaveMany:function(e,t){var n=SUGAR.App.metadata.getModule(e);if(!n||!n.fields||!n.fields[t]){return false}if(n.fields[t].link_type){return n.fields[t].link_type==="many"}var i=n.fields[t].relationship;var a=SUGAR.App.metadata.getRelationship(i);var r=a.relationship_type.split("-");var s;if(n.fields[t].side){s=n.fields[t].side==="left"?r[0]:r[2]}else if(a.lhs_module!==a.rhs_module){s=e===a.rhs_module?r[0]:r[2]}else{s=r[0]==="many"||r[2]==="many"?"many":"one"}return s==="many"},getRelateFields:function(e,t){var n=SUGAR.App.metadata.getModule(e);if(!n.fields[t]){SUGAR.App.logger.error(`Calling 'getRelateFields' on '${e}' with link '${t}' but no fields`+` have been found. Please fix your metadata.`);return[]}var i=n.fields[t].relationship;var a=this.getRelatedModule(e,t);var r=SUGAR.App.metadata.getModule(a).fields;var s=_.find(r,function(e){return e.type=="link"&&e.relationship==i});if(s){s=_.filter(r,function(e){return e.type=="relate"&&e.link==s.name})}return s||[]},getRelationshipFields:function(e,t){SUGAR.App.logger.warn("DataManager#getRelationshipFields is deprecated since 7.10. It will be removed "+"in a future release. Please use DataManager#getRelationFields instead");var n=null;var i=SUGAR.App.metadata.getModule(e).fields[t];if(i.rel_fields){var a=i.relationship;var r=this.getRelatedModule(e,t);var s=SUGAR.App.metadata.getModule(r).fields;var o=_.find(s,function(e){return e.type=="link"&&e.relationship==a});if(o){o=_.find(s,function(e){return e.link==o.name&&e.link_type=="relationship_info"})}if(o&&o.relationship_fields){var l=_.keys(i.rel_fields);_.each(o.relationship_fields,function(e,t){if(_.include(l,t)){if(!n)n=[];n.push(e)}})}}return n},getRelationFields:function(e,t){let n=SUGAR.App.metadata.getModule(e)&&SUGAR.App.metadata.getModule(e).fields;if(!n){return false}let i=_.filter(n,e=>{return e.link===t&&!_.isUndefined(e.rname_link)});if(!i){return false}return _.pluck(i,"name")},getOppositeLink:function(e,t){let n=u(e,t);let i=this.getRelatedModule(e,t);let a=SUGAR.App.metadata.getModule(i);if(!a||!a.fields){return false}let r=_.findWhere(a.fields,{type:"link",relationship:n});if(!r){return false}return r.name},getRelatedModule:function(e,t){var n=SUGAR.App.metadata.getModule(e);if(!n||!n.fields||!n.fields[t]){return false}let i=SUGAR.App.metadata.getRelationship(u(e,t));if(!i){return n.fields[t].module||false}return n.fields[t].module||(e===i.rhs_module?i.lhs_module:i.rhs_module)},getRelatedNameField:function(e,t){return _.find(SUGAR.App.metadata.getModule(e).fields,function(e){if(e.name!==t&&e.id_name===t){return e}},this)},getEditableFields:function(e,t){var n=["id"],a=["parent","relate"];t=t||[];if(!t.length){t=_.keys(e.attributes)}_.each(t,function(t){var r;if(e.has(t)&&e.fields[t]&&(!e.fields[t].source||e.fields[t].source!=="non-db"||!e.fields[t].type||a.indexOf(e.fields[t].type)===-1)&&i.hasAccessToModel("edit",e,t)){r=e.get(t);if(r&&e.fields[t].type==="collection"&&!_.isEmpty(r.links)){_.each(r.links,function(e){n.push(e.link.name)})}else{n.push(t)}}});return e.toJSON({fields:n})},sync:function(e,t,n){SUGAR.App.logger.trace("data-sync-"+(n.relate?"relate-":"")+e+": "+t);n=this.parseOptionsForSync(e,t,n);var i=this.getSyncCallbacks(e,t,n),a=null;t.dataFetched=false;this.trigger("data:sync:start",e,t,n);t.trigger("data:sync:start",e,n);if(_.isFunction(n.endpoint)){a=n.endpoint(e,t,n,i)}else if(t.link&&t.link.bean&&n.relate===true){var r=null;if(e=="create"||e=="update"){r=this.getEditableFields(t,n.fields);if(e=="update"&&t.link.isNew){e="create"}}if(!t.link.bean.id){SUGAR.App.logger.error("Attempted to load linked context with no id on the linked bean: "+t.link.bean);return false}a=SUGAR.App.api.relationships(e,t.link.bean.module,{id:t.link.bean.id,link:t.link.name,relatedId:t.id,related:r},n.params,i,n.apiOptions)}else if(n.favorite){a=SUGAR.App.api.favorite(t.module,t.id,t.isFavorite(),i,n.apiOptions)}else if(n.following){a=SUGAR.App.api.follow(t.module,t.id,t.get("following"),i,n.apiOptions)}else if(n.collectionField){a=SUGAR.App.api.collection(n.module,{id:n.beanId,field:n.collectionField},n.params,i,n.apiOptions)}else{if(n.query||t instanceof o){a=SUGAR.App.api.search(n.params,i,n.apiOptions)}else if(t.module){a=SUGAR.App.api.records(e,t.module,e=="update"||e=="create"?this.getEditableFields(t,n.fields):t.attributes,n.params,i,n.apiOptions)}else{SUGAR.App.logger.error("Unable to sync model with no module")}}return a},parseOptionsForSync:function(e,t,n){n=n||{};n.params=_.extend({},n.params);n.filterDef=n.filter||t.filterDef;n.method=e;if(n.view&&_.isString(n.view)&&e=="read"){n.params.view=n.view}if(n.fields&&e=="read"){n.params.fields=n.fields.join(",")}if(n.viewed===true){n.params.viewed="1"}if(e=="read"&&t instanceof s){if(n.offset&&n.offset!==0){n.params.offset=n.offset}if(n.limit||SUGAR.App.config&&SUGAR.App.config.maxQueryResult){n.params.max_num=n.limit||SUGAR.App.config.maxQueryResult}if(t.orderBy&&t.orderBy.field){n.params.order_by=t.orderBy.field+":"+t.orderBy.direction}if(n.myItems===true){n.params.my_items="1"}if(n.favorites===true){n.params.favorites="1"}if(!_.isEmpty(n.filterDef)){var i=a.deepCopy(n.filterDef);if(_.has(i,"filter")){i=i.filter}if(!_.isArray(i)){i=[i]}n.params.filter=i}if(!_.isEmpty(n.query)){n.params.q=n.query;if(_.isEmpty(n.module_list)&&t.module){n.module_list=[t.module]}}if(n.module_list){n.params.module_list=n.module_list.join(",")}}if(e==="update"&&n.lastModified){n.apiOptions=n.apiOptions||{};n.apiOptions.headers=n.apiOptions.headers||{};n.apiOptions.headers["X-TIMESTAMP"]=n.lastModified}return n},getSyncCallbacks:function(e,t,n){return{success:this.getSyncSuccessCallback(e,t,n),error:this.getSyncErrorCallback(e,t,n),complete:this.getSyncCompleteCallback(e,t,n),abort:this.getSyncAbortCallback(e,t,n)}},getSyncSuccessCallback:function(e,t,n){var i=this;return function(a,r){t.inSync=true;t.original_assigned_user_id=t.get("assigned_user_id");if(e=="read"&&t instanceof s){var l=n.offset||0;a=a||{};if(_.isNumber(a.next_offset)){t.offset=a.next_offset!=-1?a.next_offset:l+(a.records||[]).length;t.next_offset=a.next_offset;t.page=t.getPageNumber(n)}if(!n.update){t.total=_.isNumber(a.total)?a.total:null}if(t instanceof o){t.xmod_aggs=a.xmod_aggs||null;t.tags=a.tags||null;if(_.isObject(a.next_offset)){t.offset=a.next_offset;t.next_offset=a.next_offset}}a=a.records||[];i._updateCollectionProperties(t,n)}if(n.relate===true){t.link.isNew=false;if(e!="read"){if(t.link.bean){var c=t.link.bean.getSynced(),u=_.reduce(a.record,function(e,t,n){if(!_.isEqual(c[n],t)){e[n]=t}return e},{});t.link.bean.set(u);t.link.bean.setSyncedAttributes(a.record)}a=a.related_record;if(e=="delete"){t.set(a);delete t.link}}}t.dataFetched=true;if(n.success)n.success(a);i.trigger("data:sync:success",e,t,n,r);t.inSync=null}},getSyncErrorCallback:function(e,t,n){return _.bind(function(i){if(i.request&&i.request.aborted){var a=this.getSyncAbortCallback(e,t,n);return a(i.request)}SUGAR.App.error.handleHttpError(i,t,n);this.trigger("data:sync:error",e,t,n,i);t.trigger("data:sync:error",e,n,i);if(_.isFunction(n.error)){n.error(i)}},this)},getSyncCompleteCallback:function(e,t,n){return _.bind(function(i){this.trigger("data:sync:complete",e,t,n,i);t.trigger("data:sync:complete",e,n,i);if(_.isFunction(n.complete)){n.complete(i)}n.previousModels=null;n={}},this)},getSyncAbortCallback:function(e,t,n){return _.bind(function(i){this._updateCollectionProperties(t,n);this.trigger("data:sync:abort",e,t,n,i);t.trigger("data:sync:abort",e,n,i)},this)},_updateCollectionProperties:function(e,t){t=t||{};e.myItems=t.myItems;e.favorites=t.favorites;e.query=t.query;e.modelList=t.modelList;e.filterDef=t.filterDef}},Backbone.Events);e.exports=d},function(e,t,n){const i=n(19);const a=n(18);var r=moment;_.extend(r,{InvalidException:function(e,t){this.name="InvalidException";this.message=e;this.date=t},_cachedFormats:{},_serverDateFormat:"YYYY-MM-DD",_serverLocale:"en",convertFormat:function(e){if(r._cachedFormats[e]){return r._cachedFormats[e]}let t=[["d","DD"],["m","MM"],["Y","YYYY"],["H","HH"],["h","hh"],["G","H"],["g","h"],["i","mm"]];var n=e;_.each(t,e=>{let[t,i]=e;n=n.replace(t,i)});r._cachedFormats[e]=n;return n},compare:function(e,t){var n=moment(e),i=moment(t);if(!n.isValid()){throw new r.InvalidException("Invalid date passed for comparison.",e)}if(!i.isValid()){throw new r.InvalidException("Invalid date passed for comparison.",t)}if(n.isBefore(i)){return-1}if(n.isAfter(i)){return 1}return 0},getUserDateFormat:function(e){e=e||i;return this.convertFormat(e.getPreference("datepref"))},getUserTimeFormat:function(e){e=e||i;return this.convertFormat(e.getPreference("timepref"))}});var s={};_.extend(r,{parse:function(e,t){SUGAR.App.logger.warn("The function `Utils.Date.parse()` is deprecated and will be removed in a future release. "+"Please do not use it");var n=new Date("Jan 1, 1970 00:00:00"),i="",a,r,s,o,l,c;if(e instanceof Date)return e;if(!t){t=this.guessFormat(e)}if(t===false){if(/^\d+$/.test(e)){return new Date(e)}return false}a=$.trim(e);t=$.trim(t)+" ";for(r=0;r<t.length;r++){s=t.charAt(r);if(s===":"||s==="/"||s==="-"||s==="."||s===" "||s==="a"||s==="A"){o=a.indexOf(s);if(o===-1)o=a.length;l=a.substring(0,o);a=a.substring(o+1);switch(i){case"m":if(!(l>0&&l<13))return false;n.setMonth(l-1);break;case"d":if(!(l>0&&l<32))return false;n.setDate(l);break;case"Y":if(l>0===false)return false;n.setYear(l);break;case"h":c=t.substring(t.length-4);l=parseInt(l,10);var u=$.trim(c.toLowerCase());if(u==="i a"||u===s+"ia"){var d=a.substring(a.length-2).toLowerCase();if(d==="pm"){if(l<12){l+=12}}else if(d==="am"&&l===12){l=0}}n.setHours(l);break;case"H":n.setHours(l);break;case"i":l=l.substring(0,2);n.setMinutes(l);break;case"s":n.setSeconds(l);break}i=""}else{i=s}}return n},guessFormat:function(e){SUGAR.App.logger.warn("The function `Utils.Date.guessFormat()` is deprecated and will be removed in a future release. "+"Please do not use it");if(typeof e!=="string")return false;var t="",n,i,a,r,s,o,l,c;if(e.indexOf(" ")!==-1){t=e.substring(e.indexOf(" ")+1,e.length);e=e.substring(0,e.indexOf(" "))}n="/";if(e.indexOf("/")!==-1){}else if(e.indexOf("-")!==-1){n="-"}else if(e.indexOf(".")!==-1){n="."}else{return false}i=e.split(n);a="";if(i[0].length===4){a="Y"+n+"m"+n+"d"}else if(i[2].length===4){a="m"+n+"d"+n+"Y"}else{return false}r="";s=[];if(t!==""){s.push("i");o=":";if(t.indexOf(".")===2){o="."}if(t.split(o).length===3){s.push("s")}l="";c=t.substring(t.length-2,t.length);if(c.toLowerCase()==="am"||c.toLowerCase()==="pm"){s.unshift("h");if(c.toLowerCase()===c){l="lower"}else{l="upper"}}else{s.unshift("H")}r=s.join(o);if(t.indexOf(" ")!==-1){r+=" "}if(l&&l==="upper"){r+="A"}else if(l&&l==="lower"){r+="a"}a=a+" "+r}return a},parseFormat:function(e){SUGAR.App.logger.warn("The function `Utils.Date.parseFormat()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(e in s)){var t={},n,i;for(n=0;n<e.length;n++){i=e.charAt(n);switch(i){case"m":case"n":t.month=i;break;case"d":case"j":t.day=i;break;case"Y":t.year=i;break;case"H":case"h":case"g":t.hours=i;break;case"i":t.minutes=i;break;case"s":t.seconds=i;break;case"A":case"a":t.amPm=i;break;default:break}}s[e]=t}return s[e]},format:function(e,t){SUGAR.App.logger.warn("The function `Utils.Date.format()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!_.isDate(e))return"";var n="",i,a,r,s,o,l;for(i=0;i<t.length;i++){a=t.charAt(i);switch(a){case"\\":n+=t.charAt(i+1);i++;break;case"m":case"n":o=e.getMonth()+1;n+=o<10&&a==="m"?"0"+o:o;break;case"d":case"j":r=e.getDate();n+=r<10&&a==="d"?"0"+r:r;break;case"Y":n+=e.getFullYear();break;case"H":case"h":case"g":s=e.getHours();if(a==="h"||a==="g"){s=s>12?s-12:s;s=s===0?12:s}n+=s<10&&a!=="g"?"0"+s:s;break;case"i":o=e.getMinutes();n+=o<10?"0"+o:o;break;case"s":l=e.getSeconds();n+=l<10?"0"+l:l;break;case"a":case"A":if(e.getHours()<12)n+=a==="a"?"am":"AM";else n+=a==="a"?"pm":"PM";break;default:n+=a}}return n},roundTime:function(e){SUGAR.App.logger.warn("The function `Utils.Date.roundTime()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!e.getMinutes)return 0;var t=e.getMinutes();if(t<1){t=0}else if(t<16){t=15}else if(t<31){t=30}else if(t<46){t=45}else{t=0;e.setHours(e.getHours()+1)}e.setMinutes(t);return e},UTCtoLocalTime:function(e){SUGAR.App.logger.warn("The function `Utils.Date.UTCtoLocalTime()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(e instanceof Date))return e;return new Date(this.toUTC(e))},UTCtoTimezone:function(e,t){SUGAR.App.logger.warn("The function `Utils.Date.UTCtoTimezone()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(e instanceof Date)||undefined===t||null===t){return e}t=parseFloat(t)*60*60*1e3;t-=e.getTimezoneOffset()*60*1e3*-1;return new Date(this.toUTC(e)+t)},toUTC:function(e){SUGAR.App.logger.warn("The function `Utils.Date.toUTC()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(e instanceof Date)){return e}var t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),a=e.getHours(),r=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds();return Date.UTC(t,n,i,a,r,s,o)},getRelativeTimeLabel:function(e){SUGAR.App.logger.warn("The function `Utils.Date.getRelativeTimeLabel()` is deprecated and will be removed in a future release. "+"Please do not use it");var t=new Date;var n=t.getTime()<e.getTime();var i=n?e-t:t-e;var a=1e3,r=a*60,s=r*60,o=s*24,l={str:"",value:undefined};if(isNaN(i)||i<0){return l}if(i<a*2){l.str="LBL_TIME_AGO_NOW";return l}if(i<r){l.str=n?"LBL_TIME_UNTIL_SECONDS":"LBL_TIME_AGO_SECONDS";l.value=Math.floor(i/a);return l}if(i<r*2){l.str=n?"LBL_TIME_UNTIL_MINUTE":"LBL_TIME_AGO_MINUTE";return l}if(i<s){l.str=n?"LBL_TIME_UNTIL_MINUTES":"LBL_TIME_AGO_MINUTES";l.value=Math.floor(i/r);return l}if(i<s*2){l.str=n?"LBL_TIME_UNTIL_HOUR":"LBL_TIME_AGO_HOUR";return l}if(i<o){l.str=n?"LBL_TIME_UNTIL_HOURS":"LBL_TIME_AGO_HOURS";l.value=Math.floor(i/s);return l}if(i>o&&i<o*2){l.str=n?"LBL_TIME_UNTIL_DAY":"LBL_TIME_AGO_DAY";return l}if(i<o*365){l.str=n?"LBL_TIME_UNTIL_DAYS":"LBL_TIME_AGO_DAYS";l.value=Math.floor(i/o);return l}else{l.str=n?"LBL_TIME_UNTIL_YEAR":"LBL_TIME_AGO_YEAR";return l}},parseDisplayDefault:function(e,t){SUGAR.App.logger.warn("The function `Utils.Date.parseDisplayDefault()` is deprecated and will be removed in a future release. "+"Please do not use it");var n,i,a,r,s,o,l,c;var u=t?t:new Date,d,f,p;if(!e)return e;o=function(e,t){var n=e.getDate();e.setMonth(e.getMonth()+t);if(e.getDate()<n){e.setDate(1);e.setDate(e.getDate()-1)}return e};l=function(e){var t,n,i;t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];n=u.getDay();e=e.toLowerCase();for(var a=7;a--;){if(e===t[a]){e=a<=n?a+7:a;break}}i=e-n;return i};n={day:function(e){return new Date(u.setDate(u.getDate()+e))},week:function(e){return new Date(u.setDate(u.getDate()+e*7))},month:function(e){return o(u,e)},year:function(e){return o(u,e*12)},now:function(){return u},"next monday":function(){return new Date(u.setDate(u.getDate()+l("monday")))},"next friday":function(){return new Date(u.setDate(u.getDate()+l("friday")))},"first of next month":function(){u.setDate(1);var e=u.setMonth(u.getMonth()+1);return new Date(e)}};if(e&&e.indexOf("&")>=0){a=e.split("&");r=a[0];s=a[1]}else{r=e}if(r.match(/\b(now|day|week|month|year)/g)){if(r.indexOf("now")===0){f="now"}else if(r.indexOf("first day of next month")!==-1){f="firstnextmonth"}else{p=r.split(" ");d=p[0];f=p[1]}if(f.match("now")){i=n.now()}else if(f.match("firstnextmonth")){i=n["first of next month"]()}else if(f.match("days?")){i=n.day(parseInt(d,10))}else if(f.match("weeks?")){i=n.week(parseInt(d,10))}else if(f.match("months?")){i=n.month(parseInt(d,10))}else if(f.match("years?")){i=n.year(parseInt(d,10))}else{if(!n[r]){return}i=n[r]()}}else{if(!n[r]){return}i=n[r]()}c=function(e){var t,n,i;t=/^(\d\d?).(\d{2}).?([ap]m)?$/.exec(s);if(t&&t.length>2){n=t[1];if(n){if(t[3]==="pm"){if(n<12){n=parseInt(n,10)+12}}else{if(n==="12"){n="0"}}e.setHours(parseInt(n,10))}i=t[2];if(i){e.setMinutes(parseInt(i,10))}}}(i);return i},toDatepickerFormat:function(e){if(_.isUndefined(e)||!e)return"";var t,n={y:"yy",Y:"yyyy",m:"mm",d:"dd"};t=e.replace(/[yYmd]/g,function(e){return n[e]});return t},stripIsoTimeDelimterAndTZ:function(e){SUGAR.App.logger.warn("The function `Utils.Date.stripIsoTimeDelimterAndTZ()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!_.isUndefined(e)&&e){return e.replace("T"," ").substr(0,19)}},isIso:function(e){SUGAR.App.logger.warn("The function `Utils.Date.isIso()` is deprecated and will be removed in a future release. "+"Please do not use it");var t,n;t=e.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])$/);if(t){return true}if(e.match(/[T\+Z ]/g)){n=e.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])/);if(n)return true}return false}});_.extend(r.fn,{formatUser:function(e,t){var n=r.getUserDateFormat(t);if(!e){n+=" "+r.getUserTimeFormat(t)}return this.format(n)},formatServer:function(e){var t=e&&r._serverDateFormat;let n=this.locale();this.locale(r._serverLocale);let i=this.format(t);this.locale(n);return i},isBetween:function(e,t,n){n=_.isUndefined(n)?true:n;var i=this.isAfter(e)&&this.isBefore(t);if(n&&!i){i=this.isSame(e)||this.isSame(t)}return i}});_.extend(r.duration.fn,{format:function(){var e=[],t=this.minutes(),n=this.hours(),i=Math.floor(this.asDays());if(i>0){e.push(i);e.push(a.get(i===1?"LBL_DURATION_DAY":"LBL_DURATION_DAYS"))}if(n>0){e.push(n);e.push(a.get(n===1?"LBL_DURATION_HOUR":"LBL_DURATION_HOURS"))}if(t>0){e.push(t);e.push(a.get(t===1?"LBL_DURATION_MINUTE":"LBL_DURATION_MINUTES"))}return e.join(" ")}});e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")n=window}e.exports=n},function(e,t,n){const i=n(6);const a={getRootDirectory(){return i.getFileStorageRoot()},getStoreDirectory(){return"offlineFiles"},getFile(e){if(!app.isNative){return this._getFileStub(e)}return this._getFileSystem().then(t=>new Promise((n,i)=>{t.getFile(e.fileName,{create:false,exclusive:false},t=>{t.file(i=>{const a=new FileReader;a.onloadend=(()=>{n(this._getFileDescription(e.fileName,t,a.result))});a.readAsArrayBuffer(i)},i)},i)}))},saveFile(e){if(!app.isNative){return this._getFileStub(e)}const t=app.utils.generateUUID();return this._getFileSystem().then(n=>new Promise((i,a)=>{n.getFile(t,{create:true,exclusive:false},n=>{n.createWriter(r=>{r.onwriteend=(()=>{i(this._getFileDescription(t,n))});r.onerror=(e=>a(e));r.write(e.content)})},e=>a(e))}))},deleteFile(e){if(!app.isNative){return this._removeFileStub(e)}return this._getFileSystem().then(t=>new Promise((n,i)=>{t.getFile(e.fileName,{create:false},e=>{e.remove(()=>n(),e=>i(e))})}))},clear(e){if(!app.isNative){return this._clearStub()}return this._getFileSystem().then(t=>{const n=t.createReader();n.readEntries(t=>{const n=_.filter(t,t=>t.isFile&&!_.contains(e.keep,t.name));return Promise.mapSeries(n,e=>new Promise((t,n)=>{e.remove(t,n)}))},e=>e)})},_getFileSystem(){return new Promise((e,t)=>{window.resolveLocalFileSystemURL(this.getRootDirectory(),n=>{n.getDirectory(this.getStoreDirectory(),{create:true},e,t)},t)})},_getFileDescription(e,t,n){const i=t.toURI();const a=i.replace("file://","");return{name:e,uri:i,url:t.toURL(),internalUri:t.toInternalURL(),binary:n,dir:this.getStoreDirectory(),fullPath:a}},_removeFileStub(){return Promise.resolve()},_getFileStub(e){return Promise.resolve({name:app.utils.generateUUID(),internalUri:"cdvfile://internalURI",uri:"file:///URI",url:"file:///URL",binary:new Blob([]),dir:this.getStoreDirectory(),fullPath:"storage/file/"})},_clearStub(){return Promise.resolve()}};e.exports=a},function(e,t,n){const i=n(89).routes;const a=n(317);let r;class s{constructor(e,t){_.extend(this,_.pick(e,"name","trackingEnabled","loginRequired","isCustomStep","stepType"));this.getScreenOptions=t.getScreenOptions;const n=this._buildUrlTpl(t);this.url={tpl:n,regexp:Backbone.Router.prototype._routeToRegExp(n)}}buildUrlFromTemplate(e){let t=this.url.tpl.replace(/[()]/g,"");_.each(e,(e,n)=>{t=t.replace(`:${n}`,e)});return t.replace(/^\/*|\/*$/g,"")}checkUrlMatch(e){return this.url.regexp.test(e)}setUpNavigation(e,t){if(e){this.up={name:e,mappedOptions:t}}}getUpStep(){return this.up?r.stepsHash[this.up.name]:null}getMappedUpOptions(e){const t=this.up&&this.up.mappedOptions;let n;if(_.isFunction(t)){n=t(e)}else if(t){n=this._mapParams(e,t)}else{n=e}return n}_mapParams(e,t){const n={};_.each(t,(t,i)=>{n[t]=e[i]});return n}_buildUrlTpl(e){let t="";const n=_.indexOf(e.steps,_.findWhere(e.steps,{name:this.name}));_.each(e.steps,(e,i)=>{const a=i===0;const r=e.url[0]==="(";if(n===-1||i<=n){t+=r||a?e.url:`/${e.url}`}});return t}}r={_ready:false,routes:[],steps:[],stepsHash:{},init(){if(this._ready){return}this.addRoutes(i,{upNavigationMap:a,isInternal:true});this._ready=true},findStepByUrl(e){return _.find(this.steps,t=>t.checkUrlMatch(e))},getRoutes(){return this.routes},addRoutes(e,t={}){e=this._unifyRoutes(e);const n=this._createRoutes(e,t);this._storeSteps(n.steps);this._storeRoutes(n.routes);this._prepareUpNavigation(t.upNavigationMap)},_unifyRoutes(e){if(!_.isArray(e)){e=[e]}_.each(e,e=>{if(_.isString(e.steps)){e.steps=[{name:e.name,url:e.steps,trackingEnabled:e.trackingEnabled!==false,loginRequired:e.loginRequired!==false,stepType:e.stepType}];delete e.trackingEnabled}else{_.each(e.steps,e=>{_.defaults(e,{trackingEnabled:true,loginRequired:true})})}});return e},_createRoutes(e,t={}){const n=[];const i=[];const a=!t.isInternal;const r=()=>({});_.each(e,e=>{if(!e.getScreenOptions){e.getScreenOptions=r}_.each(e.steps,t=>{t.isCustomStep=a;i.push(new s(t,e))});n.push({name:e.name,getScreenOptions:e.getScreenOptions,callback:this._createRouteCallback(e),route:_.last(i).url.tpl})});return{routes:n,steps:i}},_createRouteCallback(e){return(...t)=>{const n=this._buildScreenOptions(e,t);if(e.handler){e.handler(n)}else{app.controller._loadScreen(n)}}},_buildScreenOptions(e,t){const n=e.getScreenOptions(...t);const i=app.navigation.manager.getCurrentStep();if(!_.isUndefined(i.data)){n.data=n.data||i.data}return n},_storeSteps(e){this.steps.unshift(...e);this._validateSteps(this.steps);_.each(e,e=>{this.stepsHash[e.name]=e})},_storeRoutes(e){const t=e.length-1;if(app.router){_.each(e,(n,i)=>{n=e[t-i];app.router.route(n.route,n.name,n.callback)})}else{this.routes.unshift(...e)}},_prepareUpNavigation(e){const t=(e,n,i)=>{if(n==="mappedOptions"){return}if(n){this.stepsHash[n].setUpNavigation(i,e.mappedOptions)}_.each(e,(e,i)=>{t(e,i,n)})};t(e,null,null)},_validateSteps(e){const t=_.pluck(e,"name");let n=true;_.each(_.groupBy(t),(e,t)=>{if(e.length>1){n=false;app.logger.error(`duplicate step name "${t}"`)}});if(!n){throw new Error("Routes config is invalid")}}};e.exports=r},function(e,t,n){const i=n(12);(function t(n){const a={inProgress:{read:"LBL_LOADING",update:"LBL_SAVING",create:"LBL_SAVING",delete:"LBL_DELETING",unlink:"LBL_UNLINKING",backgroundFetch:"LBL_OFFLINE_SERVER_FETCH"},finished:{update:"LBL_SAVED",create:"LBL_SAVED",delete:"LBL_DELETED",unlink:"LBL_UNLINKED"}};const r="DATA_READING";const s="DATA_UPDATING";const o={readInProgress:0,updateInProgress:0,init:function e(){this._subscribeSyncEvents();n.events.on("data:sync:error data:sync:abort",this.onSyncError,this)},_subscribeSyncEvents:function e(){n.events.on("data:sync:start",this.onSyncStart,this).on("data:sync:success",this.onSyncSuccess,this)},_unsubscribeSyncEvents:function e(){n.events.off("data:sync:start data:sync:success",null,this)},_updateCounters({method:e,isFinished:t}){if(e==="read"){this.readInProgress+=t?-1:1;if(this.readInProgress<0){this.readInProgress=0}}else{this.updateInProgress+=t?-1:1;if(this.updateInProgress<0){this.updateInProgress=0}}},onSyncStart:function e(t,n,i){i=i||{};if(!this._shouldShowAlert(t,n,i)){return}this.showSyncAlert(t,n,i);this._updateCounters({method:t,isFinished:false})},onSyncSuccess:function e(t,n,i){i=i||{};if(!this._shouldShowAlert(t,n,i)){return}this._updateCounters({method:t,isFinished:true});if(t==="read"&&!this.readInProgress||t!=="read"&&!this.updateInProgress){i.requestFinished=true;this.showSyncAlert(t,n,i)}},onSyncError:function e(t){this._updateCounters({method:t,isFinished:true});this.hideSyncAlert()},pause:function e(t,n,i){i=i||{};this._unsubscribeSyncEvents();this.onSyncStart(t,n,i)},resume:function e(t,n,i,a){a=a||{};this._subscribeSyncEvents();if(!i){this.onSyncSuccess(t,n,a)}},showSyncAlert:function e(t,i,r={}){const{requestFinished:s}=r;const o=s?"finished":"inProgress";if(s){this.hideSyncAlert()}else if(!this._overlayDisabled(t,i,r)){this.showOverlay()}if(t==="delete"&&r.relate){t="unlink"}if(r.backgroundFetch){t="backgroundFetch"}const l=n.lang.get(a[o][t]);if(l){this._showAlert(t,l,s)}},_shouldShowAlert:function e(t,n,i){return!(i.backgroundSync||this.isOfflineRead(t,n,i))},_showAlert:function e(t,i,a){const o=this.getAlertOptions(i,a);const l=t==="read"?r:s;n.alert.show(l,o)},getAlertOptions:function e(t,n){const i={level:"success",autoClose:true,messages:t};if(!n){_.extend(i,{level:"load",closeable:false,autoClose:false})}return i},hideSyncAlert:function e(){this.hideOverlay();if(!this._isSuccessAlertCurrentlyShowing()){n.alert.dismiss(s)}n.alert.dismiss(r)},_overlayDisabled:function e(t,i,a){return a.backgroundFetch||t==="read"&&i instanceof n.BeanCollection},showOverlay:function e(){i.show("data:sync")},hideOverlay:function e(){i.hide("data:sync")},isOfflineRead:function e(t,i,a){return n.offlineEnabled&&t==="read"&&!a.backgroundFetch&&!i.offlineReadDisabled},_isSuccessAlertCurrentlyShowing:function e(){const t=n.alert.get(s)||{};return t.level==="success"}};n.augment("syncAlertManager",o);e.exports=o})(SUGAR.App)},function(e,t,n){const i=n(7);const a=n(1);const r=n(39);const s=n(25);const o=n(12);const l=a.extendComponent(r,{_stringType:"activitystream-dashlet",navigationName:s.ACTIVITIES_LIST,events(){return{"click .panel__addpost":"onAddPost"}},getListViewDef(e,t){if(t.parentModel){t.listParams=_.extend({link:"activities"},t.listParams)}return this._super(e,t)},_getMenuActions(){const e=this;return[{name:"comment",types:["context-menu"],label:"LBL_COMMENT",iconKey:"actions.comment",autoClose:true,handler(t,n){const i=_.find(e._commentsViews,e=>e.options.parentModel.id===n.id);i.onCreateCommentItem(n)}}]},_getFilterDefFromMeta(e){let t;if(e){const n=app.metadata.getModule("Activities");if(_.isObject(n)&&_.isObject(n.filters)){_.each(n.filters,n=>{if(_.isObject(n.meta)){_.each(n.meta.filters,n=>{if(n.id===e){t=n}})}})}}return t},overrideListView(e){this._super(e);e.disableItemClick=true;e.template=app.template.get("activity-list");e.contextMenuActions=this._getMenuActions();e.getListItemTpl=function e(t){const n=t.get("activity_type");return n==="post"?`activity-${n}`:"activity-item"};e.listenTo(e.collection,"add",_.bind(this.onItemAdded,this));e.listenTo(e.collection,"data:sync:complete",_.bind(this.initComments,this));const t=this._getFilterDefFromMeta(this.meta.view.currentFilterId);if(t){e.collection.filterDef=t.filter_definition}this.listView=e},onItemAdded(e,t){let n;t.each((t,i)=>{if(t.id===e.id){n=i}});this.createCommentsView(e,n)},initComments(){this.resetCommentsViews();this.listView.collection.each(_.bind(this.createCommentsView,this));_.each(this._commentsViews,function e(t){this.listenTo(t,"view:after:render",this.listReflowScroll,this)},this);this.listView.reflowScroller()},listReflowScroll(){this.listView.reflowScroller()},createCommentsView(e,t){this.$(".activitystream-item").eq(t).append('<div class="clip comments-container"></div>');const n=this.$(".comments-container").eq(t);const i=app.view.createView({name:a.getViewClass({baseType:"list",module:"Comments"}),module:"Comments",parentModel:e,el:n});i.render();this._commentsViews.push(i)},resetCommentsViews(){_.each(this._commentsViews,function e(t){this.stopListening(t,"view:after:render",this.listReflowScroll);t.dispose()},this);this._commentsViews=[]},onAddPost(){const e=app.data.createBean("Activities");const t=this.listView.context.get("parentModule");const n=["activity_type","data"];const i=this;if(t){const{parentModel:i}=this.listView.options.listParams;e.set({parent_id:i.id,parent_type:t});n.push("parent_id","parent_type")}this.constructor.createPost(e,{appendTo:"root",savePost(t){e.save(null,{fields:n,success(e){i.listView.collection.unshift(e);i.listView.render();t(null,e)},error:t})}})},_dispose(){this.resetCommentsViews();this._super()}},{createPost(e,t){t=t||{};const n=new i({create:true,model:e});n.prepare();app.controller.loadScreen({isDynamic:true,fullScreen:true,primary:{view:a.getViewClass("taggable"),context:n,headerConfig:{title:t.editedFieldName,save:true,saveLabel:"LBL_COMMENT",cancel:true,btnsLong:true}}});const r=function t(){e.off("save");app.controller.goBack()};e.on("save",()=>{const n=e.get("value");if(!n){r();return}const i=(new Date).getTime().toString();o.show(i);e.set("data",{value:n,tags:e.get("tags")},{silent:true});t.savePost(e=>{o.hide(i);if(!e){r()}})})}});e.exports=l},function(e,t,n){const i=n(1);const a=n(37);const r=i.extendComponent(a,{template:"donutchart",initialize(e){this.metricsCollection=null;this.total=0;this._super(e);this._prepareChartObject()},render(){this._super();if(this.hasChartData()){this.renderChart();this.toggleDashletSwipe()}else{this.displayNoData(true)}},hasChartData(){return this.total!==0},displayNoData(e){this.$chartEl.toggleElement(!e);this.$dataUnavailableLbl.showElement(e)},processData(e){this.evaluateResult(e);this.render()},_prepareChartObject(){this.chart=sucrose.charts.pieChart().margin({top:20,right:20,bottom:25,left:20}).donut(true).donutLabelsOutside(true).donutRatio(.447).rotateDegrees(0).arcDegrees(360).maxRadius(200).hole(this.total).showTitle(false).tooltips(true).showLegend(false).colorData("data").direction(app.lang.direction).strings({noData:app.lang.get("LBL_CHART_NO_DATA"),noLabel:app.lang.getAppString("LBL_CHART_UNDEFINED")})},renderChart(){if(!this._super()){this.displayNoData(true);return}this.chart.hole(this.total);d3.select(this.el).select(".sc-chart").append("svg").attr("class","sucrose").datum(this.chartData).call(this.chart)},_valueFormat(e){const t=e.data?this.chart.pie.y()(e.data):e;return sucrose.utility.numberFormatSI(t,2,false)},_labelFormat(e){const t=e.data?this.chart.pie.x()(e.data):e;return t}});e.exports=r},function(e,t,n){const{isAccessibleModule:i}=n(3);const a=n(1);const r=n(39);const s=a.extendComponent(r,{className:"tabbed__dashlet",dashletParams:null,_defaultTabStorageKey:"dashboards:{0}:dashlets:{1}:default_tab_id",_extraFields:{"planned-activities":["assigned_user_id","assigned_user_name"],"inactive-tasks":["assigned_user_id","assigned_user_name"]},viewSwitcher:r.SwitcherTypes.TABS,initialize(e){this.activeTabStorageKey=app.utils.formatString(this._defaultTabStorageKey,[e.dashboardId,e.meta.view.type]);this._super(e)},getViewDefs(e){this.dashletParams.tabs=_.select(this.dashletParams.tabs,e=>i(e.module,"list"));const t=_.map(this.dashletParams.tabs,function t(n,i){const a=_.pluck(app.metadata.getModule(n.module,"views").list.meta.panels[0].fields,"name");const r=this._extraFields[e.meta.view.type]||[];n.display_columns=_.union(a,r);n.filters=this.adjustFilters(n.filters);const s=this.getListViewDef(n,{contextMenuOnSwipeDisabled:this.contextMenuOnSwipeDisabled,parentModel:this.options.parentModel,listParams:{limit:e.meta.view.limit}});s.viewId=i;return s},this);return t},getListViewDef(e,t){const n=this._super(e,t);n.listViewId=[this.options.dashboardId,this.options.dashletId,_.indexOf(this.dashletParams.tabs,e)].join("_");n.title=app.lang.get(e.label)||app.lang.getModuleName(e.module,{plural:true});return n},createView(e){const t=this._super(e);const n=_.bind(this._updateTabInfo,this,t);t.listenTo(t.collection,"sync",n);t.listenTo(t.collection,"remove",n);return t},switchView(e){this._super(e);this.saveState();this._gaHandler()},_getListLoadParams(e,t){const n=this.getViewIndex(e);const i=this.getFilters();const a=this.dashletParams.tabs[n];const r=app.metadata.getModule(a.module).mergedFields;if(a.order_by){const t=a.order_by.split(":");e.collection.orderBy={field:t[0],direction:t[1]}}e.collection.filterDef=i[n];return _.extend({},t,{fields:r,limit:this.options.meta.view.limit})},_updateTabInfo(e){const{collection:t}=e;let n=e.collection.length;const i=this.getViewIndex(e);if(!(t.next_offset===-1||_.isUndefined(t.next_offset))){n+="+"}if(this.viewSwitcher){this.viewSwitcher.updateSubtext(i,n)}},adjustFilters(e){const t=new Date;t.setHours(23,59,59);t.toISOString();if(e.date_due){_.each(e.date_due,(n,i)=>{if(n==="today"){e.date_due[i]=t}})}return e},getFilters(){this._super();const e=[];_.each(this.dashletParams.tabs,function t(n,i){const a=[];e[i]=a;Array.prototype.push.apply(a,this.getCollectionFilters(n));_.each(this.viewState.filters.attributes,function e(t,n){const r={};let s=parseInt(t,10);if(isNaN(s)){s=0}const o=app.date().subtract("days",s).format("YYYY-MM-DD");r[this.dashletParams.tabs[i].filter_applied_to]=n==="date"&&t==="today"?{$lte:o}:{$gt:o};a.push(r)},this)},this);return e},getCollectionFilters(e){const t=[];_.each(e.filters,(e,n)=>{const i={};i[n]=e;t.push(i)});if((e.module==="Meetings"||e.module==="Calls")&&this.viewState.visibility==="user"){t.push({$or:[{assigned_user_id:app.user.id},{"users.id":app.user.id}]})}else if(this.viewState.visibility==="user"){t.push({assigned_user_id:app.user.id})}return t},_gaHandler(){if(!app.config.analytics.enabled){return}const e=this.activeIndex;const t=this.meta.view.type;let n;const i=this.options&&this.options.parentModel?this.options.parentModel.module:null;const a=i?["record-dashlet",i,t]:["dashlet",t];switch(t){case"casessummary":case"inactive-tasks":case"active-tasks":n=e;break;default:n=this.dashletParams.tabs[e].module;break}a.push(n);app.analytics.setActiveView({view:a.join("/")})}});e.exports=s},function(e,t,n){const{isValidDate:i}=n(3);const a=n(1);const r=n(6);const s=n(5);const o=a.extendComponent(s,{events(){const e={"focusout input":"onBlur"};if(app.isNative&&!o.nativeSupport){e["click input"]="onClick"}const t=$.os.desktop?"click":"touchstart";e[`${t} .clear-button`]="onClear";return e},validDateRE:/^\d{4}-\d{2}-\d{2}$/,ONCLICK_BLOCKER_TIMEOUT:2e3,initialize(e){this._super(e);if(!o._dateFormat){o.initFormat()}this.setFormatting()},onBeforeRender(){this._super();this.setDefaultValue();this.setClearButtonVisibility()},onAfterRender(){this._super();this.$placeholder=this.$el.find(".placeholder").eq(0);this.setControls();this.toggleControls()},bindDomChange(){if(!this.model){return}this.setInputs();if(o.nativeSupport){this.dateInput.on($.browser.chromeWeb?"change":"blur",_.bind(this.handleValueChange,this))}},format(e){if(_.isEmpty(e)||this.isFormView()&&o.nativeSupport&&!this.isDisabled()){if(e&&!this.validDateRE.test(e)){const t=new Date(e);e=app.date.format(t,"Y-m-d")}return e}let t=new Date(e);if(isNaN(t.getDate())){t=app.date.parse(e,"Y-m-d")}const n=$.os.android&&$.os.version&&app.utils.versionCompare("4.1",$.os.version,">=");const i=app.isNative&&n?0:t.getTimezoneOffset()*6e4;const a=new Date(t.getTime()+i);return app.date.format(a,o._dateFormat)},unformat(e){if(_.isEmpty(e)||o.nativeSupport&&this.isFormView()){return e}const t=app.date.parse(e,o._dateFormat);return t?app.date.format(t,"Y-m-d"):null},setInputs(){this.dateInput=this.$el.find("input");this.inputs=this.dateInput},onClick(e){if(this.isOnClickLocked()){return}this.setOnClickBlocker();this.showDatePicker(e)},onBlur(){this.toggleControls()},onClear(e){this.setChanged();if(!o.nativeSupport&&$.os.android){this.setOnClickBlocker(500)}this.model.set(this.name,"");return false},setFormatting(){this.shouldFormatValues=!o.nativeSupport&&this.isFormView()},setDefaultValue(){if(this.context.isCreate()&&!this.getValue()&&this.def.display_default&&!this._changed){const e=app.date.parseDisplayDefault(this.def.display_default);this.model.set(this.name,this._adjustDefaultValue(e),{silent:true})}},_adjustDefaultValue(e){return app.date.format(e,"Y-m-d")},getDateInputValue(){let e=this.dateInput.val();if(e&&this.shouldFormatValues){const t=app.date.parse(e,o._dateFormat);e=app.date.format(t,"Y-m-d")}return e},setDateInputValue(e){if(e&&this.shouldFormatValues){const t=app.date.parse(e,"Y-m-d");e=app.date.format(t,o._dateFormat)}this.dateInput.val(e)},setClearButtonVisibility(){this.showClearButton=!this.def.required&&!_.isEmpty(this.getValue())},setControls(){this.input=this.$el.find("input");this.$clearButton=this.$el.find(".clear-button")},toggleControls(){const e=this.isValueEmpty();this.input.toggleClass("empty",e);this.$clearButton.toggleElement(!this.def.required&&!e);if(this.$placeholder){this.$placeholder.toggleElement(this.syncPlaceholderVisible())}},setChanged(){this._changed=true},getValue(){return this.model.get(this.name)},handleValueChange(e){this.setChanged();this.model.set(this.name,this.unformat(this.getDateInputValue()),{disableRenderForContext:this.view});this.toggleControls()},showDatePicker(e){const t=this.unformat(this.value)||"";if(o.ios7){let n=new Date;if(t){const e=app.date.parse(t,"Y-m-d");if(i(e)){n=e}}const a={date:n,mode:"date"};this._setPopoverCoordinates(a,e);const r=app.date.format(a.date,"Y-m-d");this.setDateInputValue(r);this.model.set(this.name,r);this.toggleControls();window.datePicker.show(a,_.bind(function e(t){this.clearOnClickBlocker();if(!t){return}const n=app.date.format(t,"Y-m-d");this.model.set(this.name,n)},this));return}r.showDateTimePicker(t,{callback:_.bind(function e(t){this.clearOnClickBlocker();this.model.set(this.name,t)},this)})},_setPopoverCoordinates(e,t){const n=t.screenX;let i=t.screenY;const{scrollTop:a}=document.body;if(i-a<250){i+=30}i-=a;e.x=String(n);e.y=String(i)},isFormView(){return _.contains(["create","edit"],this.view.action)},isOnClickLocked(){return o._onClickBlocker},setOnClickBlocker(e){o._onClickBlocker=window.setTimeout(_.bind(this.clearOnClickBlocker,this),e||this.ONCLICK_BLOCKER_TIMEOUT)},clearOnClickBlocker(){window.clearTimeout(o._onClickBlocker);o._onClickBlocker=false},_dispose(){this.clearOnClickBlocker();if(this.$clearButton){this.$clearButton.off()}this._super()}},{initFormat(){o._dateFormat=app.user.getPreference("datepref")||"Y-m-d"},setNativeSupport(){this.nativeSupport=$.os.ios||$.browser.chromeWeb||!$.os.ios&&!$.os.android&&$.browser.webkit||false;this.ios7=$.os.ios&&$.os.version&&($.os.version[0]==="7"||app.utils.versionCompare($.os.version,"8",">=")&&$.os.tablet);if(this.ios7&&app.isNative&&this.iosDatePickerPlugin){this.nativeSupport=false}},iosDatePickerPlugin:true});app.events.on("app:sync:complete",()=>{o.initFormat()}).on("app:init",()=>{o.setNativeSupport()});e.exports=o},function(e,t,n){const i=n(1);const a=n(4);const r=n(5);const s=n(3);const o=i.extendComponent(r,{cacheDisabled:true,initialize(e){if(app.supportedFeatures.enumViaActionSheet){_.extend(this,{_viaActionSheet:true,fieldTag:".actionsheet-select",events:{"click .actionsheet-select":"onFocus"}})}else{_.extend(this,{_viaActionSheet:false,fieldTag:"select",events:{"focusin select":"onFocus","focusout select":"onBlur"}})}this._super(e)},_sortResults:function e(t){if(this.def.sort_alpha){return _.sortBy(t,e=>e[1])}if(!_.isEmpty(this.items)||this.def.visibility_grid){return t}return this._getSortedItems(t)},_getSortedItems(e){const t=e.map(e=>e[0]);const n=this._getOrderedKeys();const i=this._getFilteredKeys();let a=i||n||t;if(this.module==="Leads"){const e="Converted";const t=this.model.get("status");if(!_.isUndefined(t)&&t!==e){a=_.filter(a,t=>t!==e)}}return _.map(a,t=>_.find(e,e=>e[0]===t))},_getOrderedKeys(){const e=app.lang.getAppListKeys(this.def.options);if(!_.isEmpty(e)){return _.map(e,e=>e.toString())}},_getFilteredKeys(){const e=app.metadata.getEditableDropdownFilter(this.def.options);const t=this.getValue();if(!_.isEmpty(e)){return _.chain(e).filter(e=>e[1]||t===e[0].toString()).map(e=>e[0].toString()).value()}},_getItemByValue:function e(t){return _.find(this.renderItems,e=>e[1]===t)},_getItemByKey:function e(t){return _.find(this.renderItems,e=>e[0]===t)},getItems:function e(){let t=this.def.options;if(!_.isEmpty(this.items)){t=this.items}else if(_.isString(this.def.options)){t=app.lang.getAppListStrings(this.def.options)}if(_.isEmpty(t)){return[]}if(_.isArray(t)){t=_.map(t,(e,t)=>[t.toString(),e])}else{t=_.pairs(t)}return t},setRenderItems(){const e=this.getItems();this.renderItems=[];if(!_.isEmpty(e)){this.renderItems=this._sortResults(e)}},onBeforeRender(){this._super();let e=this.getValue();this.setRenderItems();if(this.isEdit){if(_.isEmpty(this.renderItems)){return}if(this.model&&_.isUndefined(e)){e=this.getDefaultValue();if(e!==""){this.model.set(this.name,e,{silent:true})}}else if(e===""&&!this.hasEmptyOption()){this.renderItems.unshift(["",""])}if(this._viaActionSheet){const t=_.isString(e)?e:this.format(e);const n=this._getItemByKey(t);this.valueText=n?n[1]:e}}},onAfterRender(){this._super();this.$placeholder=this.$el.find(".placeholder").eq(0);this.$placeholder.toggleElement(this.isEmptyValue());if(this.isEdit){this.$el.toggleElement(!_.isEmpty(this.renderItems))}},onFocus(){this.$placeholder.hideElement();if(this._viaActionSheet){const e=this;const t=this.getValues(this.renderItems);a.showActionSheet(t,{onSelectCb:function n(i){const a=t[i];const r=e._getItemByValue(a)[0];e._$fieldEl.attr("value",r);e._$fieldEl.text(a);e.onFieldChange()}})}},onBlur(){this.$placeholder.toggleElement(this.isEmptyValue());document.activeElement.blur()},onFieldChange(){const e=this.unformat(this._$fieldEl.val()||this._$fieldEl.attr("value"));this.value=e;this.model.set(this.name,e,{disableRenderForContext:this.view});this.onBlur()},getValue(){const e=this.model.get(this.name);return _.isNumber(e)?e.toString():e},isEmptyValue(){return s.isEmptyValue(this.getValue())},getDefaultValue(){let e=this.def.default;const t=this._getFilteredKeys()||this.getKeys();if(_.isNumber(e)){e=e.toString(10)}if(!_.contains(t,e)&&!_.isEmpty(t)){e=t[0]}return _.isNumber(e)?e.toString():e},hasEmptyOption(){const e=this.getKeys();return _.contains(e,"")},getKeys(){let e=[];if(_.isString(this.def.options)){e=app.lang.getAppListKeys(this.def.options)}else if(_.isObject(this.def.options)){e=_.keys(this.def.options)}return e},getValues(e){return _.map(e,e=>e[1])},format(e){return _.isNumber(e)?e.toString():e}});e.exports=o},function(e,t,n){const i=n(1);const a=n(5);const r=n(6);const s=n(3);const o=false;const l=i.extendComponent(a,{events(){return{"click .input_upload":"_onInputClick","click .file-remove":"_onClearClick","change .input_upload":"_onFileSelected"}},supportedTypes:["*/*"],_fileType:null,_fileIsTooBigMessage:"9f2e903a-5bd9-4c8f-a822-83c125c43e5f",_nativeFileImportProcessed:false,_fileErrorCodesToStrings:{1:"ERR_MOBILE_FILE_NOT_SUPPORTED",2:"ERR_MOBILE_FILE_NOT_READABLE",3:"ERR_MOBILE_FILE_ABORTED",4:"ERR_MOBILE_FILE_SECURITY"},initialize(e){this.inputAccept=this.supportedTypes.join(",");this._super(e)},onAfterRender(){this._super();this._dirty=false;this.$fileInput=this.$el.find(".input_upload");this.$fileRemoveBtn=this.$el.find(".file-remove");if(this.def.required){this.$fileRemoveBtn.hideElement()}const e=this.model.get(this.name);this.value=e;this.$el.attr("file-id",e||"")},bindDomChange(){},_onInputClick(e){if(!app.acl.hasAccessToModel("edit",this.model,this.name)){e.preventDefault();e.stopPropagation()}},_onFileSelected(){if(this.$fileInput[0].files.length===0){return}const e=this.$fileInput[0].files[0].type;this._fileType=this._getFileType(e);if(e&&!this._fileType){this.trigger("file:field:change",app.lang.get("ERR_MOBILE_FILE_NOT_SUPPORTED"),"error");return}this._dirty=true;this.prepareFile()},_onClearClick(){this._changeFieldState();this._dirty=true;this.trigger("file:field:clear")},prepareFile(){this.trigger("file:field:change",this.$fileInput,"preparing");const e=[e=>this._readFileData(e)];if(this._fileType==="image"){e.push(e=>this._resizeImage(e))}asyncLib.series(e,e=>{if(e){this.trigger("file:field:change",e.message||app.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}else{this.$fileInput.fieldName=this.name;this._changeFieldState(true);this.trigger("file:field:change",this.$fileInput,"prepared")}})},_changeFieldState(e){if(e){if(!this.def.required){this.$fileRemoveBtn.showElement()}this.$el.find(".picture-icon").hideElement();this.$el.find(".value").text(this.$fileInput.fileData.name);this.$el.find(".placeholder").hideElement()}else{this.$fileRemoveBtn.hideElement();this.$el.find(".picture-icon").showElement();this.$el.find(".value").text("");this.$el.find(".placeholder").showElement();this._resetField()}},_readFileData(e){const t=this.$fileInput[0].files[0];if(!t){return e({message:"No file selected"})}const n=new FileReader;n.onload=(()=>{const i=$.os.ios?this._getUniqFileName(t.name):t.name;this.$fileInput.fileData={name:i,size:t.size,type:t.type,binary:n.result};e()});n.onerror=(t=>{const{error:n}=t.target;e({message:app.lang.get(this._fileErrorCodesToStrings[n.code]||"ERR_MOBILE_FILE_READ")});app.logger.error(`Failed to read file: [${n.code}]`)});if(t.size>app.config.files.fileSizeLimit*1024*1024||t.name===this._fileIsTooBigMessage){return e({message:app.lang.get("ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED",null,{size:s.humanFileSize(app.config.files.fileSizeLimit*1024*1024,true)})})}n.readAsArrayBuffer(t)},_resizeImage(e){const{fileData:t}=this.$fileInput;try{this._setImageOrientation(t.binary,t.name)}catch(e){}app.nomad.utils.imageUtils.resizeImage({type:t.type,orientation:t.orientation,inputBinary:t.binary,callback:t=>{if(t.binary){this.$fileInput.fileData.binary=t.binary;return e()}e(t)}})},_setImageOrientation(e,t){let n=e;if(e instanceof ArrayBuffer){n=this._convertBinaryToString(e)}const i=new JpegMeta.JpegFile(n,t);let a;const r=this;if(!("tiff"in i)){a="No TIFF tags in image"}else if("Orientation"in i.tiff){r.$fileInput.fileData.orientation=parseInt(i.tiff.Orientation.value,10);a=`Orientation tag: ${i.tiff.Orientation}`}else{a='No "Orientation" tag in image'}if(o){app.alert.show("orientation info",{level:"info",messages:a,closeable:true,autoClose:true})}},_convertBinaryToString(e){let t="";const n=new Uint8Array(e);const i=n.byteLength;for(let a=0;a<i;a++){t+=String.fromCharCode(n[a])}return t},_getFileType(e){const t=e.split("/");const n=_.find(this.supportedTypes,e=>{const n=e.split("/");return _.every(n,(e,n)=>e==="*"||e===t[n])});if(n){return _.first(t)}},_getUniqFileName(e){let t=e.match(/.*(\..+)$/i);t=t===null?"":t[1];let n=e.match(/^(.+)\./i);n=n===null?e:n[1];return`${n}_${Number(new Date)}${t}`},_resetField(){this.$fileInput.replaceWith(this.$fileInput.clone());this.$fileInput=this.$(".input_upload")},_removeImportedFile({filename:e}){if(e){r.removeCachedDoc([{filename:e}])}},onImportNativeDocument(e={}){if(!app.acl.hasAccessToModel("edit",this.model,this.name)||!e.fileUrl||!e.fileMimeType){this._removeImportedFile(e);return}const{fileMimeType:t}=e;this._fileType=this._getFileType(t);if(t&&!this._fileType){this.trigger("file:field:change",app.lang.get("ERR_MOBILE_FILE_NOT_SUPPORTED"),"error");this._removeImportedFile(e);return}this._dirty=true;this.prepareNativeFile(e)},prepareNativeFile(e){this.trigger("file:field:change",this.$fileInput,"preparing");const t=[_.bind(this._readNativeFileData,this,e)];if(this._fileType==="image"){t.push(_.bind(this._resizeImage,this))}asyncLib.series(t,t=>{if(t){this.model.set(this.name,"");this.trigger("file:field:change",t.message||app.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}else{this.$fileInput.fieldName=this.name;this._changeFieldState(true);this.trigger("file:field:change",this.$fileInput,"prepared")}this._removeImportedFile(e)})},_readNativeFileData(e,t){if(e.fileSize>app.config.files.fileSizeLimit*1024*1024||e.name===this._fileIsTooBigMessage){return t({message:app.lang.get("ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED",null,{size:s.humanFileSize(app.config.files.fileSizeLimit*1024*1024,true)})})}this.readFileAsBinaryString(e.fileUrl,(n,i)=>{if(n){t({message:app.lang.get(this._fileErrorCodesToStrings[n.code]||"ERR_MOBILE_FILE_READ")});app.logger.error(`Failed to read file: [${n.code}]`)}else{this.$fileInput.fileData={name:e.fileName,size:e.fileSize,type:e.fileMimeType,binary:i};if($.os.ios){this.$fileInput.fileData.name=this._getUniqFileName(e.fileName)}try{this._setImageOrientation(i,e.fileName)}catch(e){}finally{t()}}})},readFileAsBinaryString(e,t){const n=e=>{e.file(e=>{const n=new FileReader;n.onloadend=(e=>{t(null,e.target.result)});n.onerror=(e=>{t(e.target.error)});n.readAsBinaryString(e)})};window.resolveLocalFileSystemURL(e,n,t)}});e.exports=l},function(e,t,n){const i=SUGAR.App;const a=n(3);const r=n(1);const s=n(7);const o=n(5);const l=r.extendComponent(o,{events(){return{"click .secondary-btn":"onClearButtonClick","click .field":"onClick"}},bindDataChange(){this._super();if(this.model){if(this.def.link){this.model.on(`change:${this.def.link}`,this.render,this)}else{this.model.on("change:_erased_fields",this.render,this)}}},initialize(e){this._super(e);this.autoPopulateRelated=this.def.auto_populate},onBeforeRender(){this._super();const{module:e}=this.def;this.hasAccess=i.acl.hasAccess("read",e)&&!_.isEmpty(i.metadata.getModule(e));const t=this.model.get(this.def.id_name);this.link=i.navigation.manager.canLoadModuleScreen({module:e})&&!_.contains(i.config.modules.readonlyModules,e)&&t&&i.acl.hasAccess("view",e)?i.router.buildRoute(e,t):null;if(!this.hasAccess&&this.view.name==="edit"){this.action="disabled"}},onClick(e){if(e.defaultPrevented||this.isDisabled()){return false}const t=i.metadata.getModule(this.module).fields[this.name];const{module:n}=t;const a=new s({module:n}).prepare();const{def:o}=this.options;let l;if(o.initial_filter){l=_.pick(o,["initial_filter","filter_populate","filter_relate","initial_filter_label"]);l.relatedModel=this.model}const c=a.get("module");const u=i.controller.loadScreen({isDynamic:true,gaTrack:"relate",headerConfig:{title:i.lang.get("LBL_ASSIGN",c,i.lang.getModuleName(c)),rightMenu:true,save:false},view:r.getViewClass("selection-list"),context:a,initOptions:{initialFilter:l}})[0];u.on("selection:change",e=>{this.onRelatedItemSelected(e[0]);i.controller.disposeDynamic()})},onRelatedItemSelected(e){const t={};const{fields:n}=i.metadata.getModule(this.model.module);const r=n[this.name];const s=e.get("id");const o=e.get("name");t[r.id_name]=s;t[r.name]=o;if(this.def.link){const i=this.def.link?n[this.def.link].name:this.def.name;t[i]={id:s,name:o,_acl:e.get("_acl"),_erased_fields:e.get("_erased_fields")}}else if(a.isNameErased(e)){const e=this.model.get("_erased_fields")||[];t._erased_fields=[r.name,...e]}if(r.populate_list&&this.autoPopulateRelated){_.each(r.populate_list,function n(a,r){r=_.isNumber(r)?a:r;const s=e.get(r);if(!_.isUndefined(s)&&i.acl.hasAccessToModel("edit",this.model,a)){t[a]=s}if(r==="currency_id"&&this.model.get("currency_id")!==s){this.model.changeCurrencyId(s)}},this)}this.model.set(t);if(_.isEmpty(this.model.get(r.name))&&_.isEmpty(t[r.name])){this.model.trigger(`change:${this.def.name}`)}},setAutoPopulate({shouldPopulate:e,checkFn:t}){this.autoPopulateRelated=e},onClearButtonClick(e){let t=false;if(_.isEmpty(this.model.get(this.name))){t=true}this.model.set(this.name,"");this.model.set(this.def.id_name,"");if(this.def.link){this.model.set(this.def.link,{})}else{const e=_.without(this.model.get("_erased_fields"),this.def.name);this.model.set("_erased_fields",e)}if(t){this.model.trigger(`change:${this.def.name}`)}return false},getErased(){if(this.model.get(this.name)){return false}const{module:e}=this.view;const{fields:t}=i.metadata.getModule(e);const n=t[this.def.link];if(n){const e=this.model.get(n.name);const t=i.data.createBean(this.def.module,e);return a.isNameErased(t)}return _.contains(this.model.get("_erased_fields"),this.name)}});e.exports=l},function(e,t,n){const i=n(1);const a=n(7);const r=n(5);const s=i.extendComponent(r,{fieldTag:"textarea",events:{"click .field--textarea":"onClick","click .field-detail--textarea":"toggleTextarea"},onClick(e){if(_.isEmpty(this.value)&&this.isDisabled()){return}const t=this.isDisabled()||this.action==="detail";const n=new a({parentModel:this.model,fieldName:this.def.name,isReadOnly:t});const r=app.controller.loadScreen({isDynamic:true,view:i.getViewClass("textarea-edit"),context:n,headerConfig:{title:this.label,save:!t,saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true},gaTrack:"textarea"})[0];r.setValue(this.model.get(this.name)||"")},toggleTextarea(e){$(e.currentTarget).toggleClass("field-detail--expanded")}});e.exports=s},function(e,t,n){const i=n(1);const a=n(6);const r=n(5);const s=i.extendComponent(r,{regexp:/^(https?:\/\/)?[\w-]+(\.[\w-]+)+([\w\s.,@?^=%&amp;:\/~+#-]*)?$/,events(){return{"click .field-detail__value a":"openUrl"}},unformat(e){const t="://";let n=e;e=$.trim(e);if(e.indexOf(t)>-1){n=e.split(t)[1];if(!n){return""}}return e},openUrl(){a.openUrl(this.model.get(this.name),{encode:true})}});e.exports=s},function(e,t,n){const i=n(1);const a=n(11);const r=i.extendComponent(a,{events(){return{"touchstart .item":"onItemTouchStart","touchmove .item":"onItemTouchMove","click .item":"onSelect","click .cancel":"onCancel"}},name:"actionsheet",template:"actionsheet",initialize(e){const t=this;$(window).on("orientationchange.actionsheet",()=>{$(t.popup).addClass("invisible");_.delay(()=>{t.position()},1e3)});this.$container=$("#actionsheet-overlay");this.orientationSupport=_.isNumber(window.orientation);_.defaults(e,{title:"",template:this.template,items:[],onSelect:false,onCancel:false,cancelText:app.lang.get("LBL_CANCEL_BUTTON_LABEL")});this._super(e);this.show()},onItemTouchStart(e){this._moved=false},onItemTouchMove(e){this._moved=true},onSelect(e){if(this._moved){this._moved=false;return false}const t=parseInt(e.target.dataset.index,10);let n=true;if(this.options.onSelect){n=this.options.onSelect.call(this,t)}if(n!==false){this.remove()}},onCancel(){this.remove();if(this.options.onCancel){this.options.onCancel.call(this)}},render(){const e=this.options.template(this.options);const t=$(e);this.popup=t;this.$container.empty();this.$el.empty().append(t).appendTo(this.$container);_.delay(_.bind(this.position,this),20)},redraw(e){const t=$(document.body);const n=$("<style> body {opacity: 0.99;}</style>");const i=()=>{t.append(n);_.delay(()=>{n.remove()},e)};if(e){_.delay(i,e)}else{i()}},show(){this.render();this.$container.showElement();app.activeComponents.add(this)},hide(){this.$container.hideElement();if($.os.ios){this.redraw(100)}app.activeComponents.remove(this)},onClose(){this.onCancel()},position(){const{popup:e}=this;const t=this.orientationSupport&&_.contains([90,-90],window.orientation);e.toggleClass("compact",t);const n=document.documentElement;const i=e.get(0);const a=n.clientWidth;const r=n.clientHeight;const s=i.offsetWidth;const o=i.offsetHeight;const l=r-o;const c=a-s;let u;let d;if(l<=0){u=0}else{u=l/2}if(c<=0){d=0}else{d=c/2}e.css({top:`${u}px`,left:`${d}px`}).removeClass("invisible")},remove(){this._super();this.hide();app.activeComponents.remove(this.name);this.$container.empty();$(window).off("orientationchange.actionsheet")}},{show(e,t,n,i){return new r({title:e,items:t,onSelect:n,onCancel:i})}});e.exports=r},function(e,t,n){const i=n(13);const a=n(1);const r=n(43);const s=n(32);const o=n(7);const l=a.extendComponent(r,{partialLoadViewIds:["relatedrecs"],isRecSummaryVisisble:true,isRelatedRecsVisible:true,isActivityStreamVisible:true,isDashboardsTabVisible:true,getViewDefs(e){this.isActivityStreamVisible=this.isActivityStreamVisible&&app.supportedFeatures.activities&&app.metadata.getModule(e.module).activityStreamEnabled;return[{view:a.getViewClass("record-card"),viewId:"detail",module:e.module,overlayTarget:this.$el},{view:a.getViewClass("switch-container"),viewId:"tabs",className:"view__detail-tabs",partialLoadEnabled:true,views:this.getTabViews(e),viewSwitcher:s.SwitcherTypes.TABS}]},getTabViews(e){const t=[];if(this.isRecSummaryVisisble){t.push(this.getRecSummaryViewDef(e))}if(this.isRelatedRecsVisible){t.push(this.getRelatedRecsViewDef(e))}if(this.isDashboardsTabVisible){t.push(this.getDashboardsDef(e))}if(this.isActivityStreamVisible){t.push(this.getActivityStreamViewDef(e))}return _.compact(t)},getRecSummaryViewDef(e){return{title:app.lang.get("LBL_DETAILS"),view:a.getViewClass("record-summary"),viewId:"recordsummary",module:e.module,overlayTarget:this.$el}},getRelatedRecsViewDef(e){return{title:app.lang.get("LBL_DETAIL_RELATED"),view:a.getViewClass("related-records"),module:e.module,modelId:e.modelId,viewId:"relatedrecs",gaData:{category:"click",action:"tab-related"}}},getDashboardsDef(e){const t=i.dashboards.getDashboards({module:e.module});const n=e.modelId;if(!app.config.dashboards.recordDashboardsEnabled||_.isEmpty(t)||!app.config.dashboards.enabled){return}const r=_.map(t,t=>({id:t.id,viewId:t.id,view:a.getViewClass("dashboard"),module:"Dashboards",title:app.lang.get(t.get("name"),e.module),parentModelId:n,parentModule:e.module,model:t}));return{title:app.lang.get("LBL_DASHBOARDS"),view:a.getViewClass("switch-container"),viewId:"recdashboard",views:r,viewSwitcher:s.SwitcherTypes.DROPDOWN,gaData:{category:"click",action:"tab-dashboard"},context:new o({})}},getActivityStreamViewDef(e){return{title:app.lang.get("LBL_ACTIVITY_STREAM"),view:a.getViewClass({baseType:"list",module:"Activities"}),viewId:"activities",dashletName:"activitystream-dashlet",module:"Activities",parentModel:e.context.get("model"),gaData:{category:"click",action:"tab-activity-stream"}}},loadData(e={}){if(!e.partialLoad){return this._super(e)}const t=this.getViewById("tabs");t.resetLoadedState(this.partialLoadViewIds);const{currentView:n}=t;if(n&&_.contains(this.partialLoadViewIds,n.options.viewId)){t.reloadCurrentView(e)}}});e.exports=l},function(e,t,n){const i=n(21);const a=n(1);const r=n(12);const s=n(48);const o=n(75);const{buildRoute:l}=n(3);const c=a.extendComponent(o,{_stringType:"record-card",className:"view__detail",events(){return{"click .box__record-actions .context-menu__item:not(.disabled)":"onActionBtnClick","click .box_detail__title":"_onTitleClick"}},plugins:[],globalEvents:{"offline:data:updated":function(e){if(e.id!==this.model.id){return}if(e.action==="delete"){this.showRecordOverlay(e.data,e.status);return}this.model.fetch({params:{skipServerSync:true}})},"app:orientation:changed":function(){this._renderActionButtons()}},_afterShowTasks:{},_docsRequestTimestamp:null,initialize(e){e.meta=_.extend({},app.metadata.getView(e.module,"detail"),{action:"detail"});this._super(e);this.modContextData=i.getContextMeta("detail");const t=this.modContextData[this.model.module];this.headerField=t.headerField;this.avatarField=t.avatarField;this.hasLinkableSubpanels=t.hasLinkableSubpanels;this.hasCreatableSubpanels=t.hasCreatableSubpanels;this.phoneFields=t.phoneFields;this.emailFields=t.emailFields;this.urlFields=t.urlFields;this.docFields=t.docFields;this.addressFieldsGroups={};_.each(t.addressFieldsGroups,function e(t,n){this.addressFieldsGroups[n]=t[0].fields},this);this.actions=t.actions;if(this.actions.doc||this.module==="Emails"){this.actions.file=true}this.model.on("docs:ready",function e(t){this.model.docData=t;this._setDocLoading(false)},this)},onDataSyncComplete(e,t,n,...i){this._super("onDataSyncComplete",[e,t,n,...i]);this._requestDocuments();this._renderActionButtons()},receiveSyncData(e,t,n){let i;this._super(e);n=n||{};const r=n.responseData||{};const s=r[n.fileFieldName];if(this._isModelUpdated){if(s){i={};i[n.fileFieldName]=s;this._afterShowTasks.file=_.bind(this._requestDocuments,this,i)}const e=app.controller.layoutManager.getRecordLayout();const t=e&&_.any(e._components,e=>e instanceof a.getViewClass("detail"));if(t){this._renderActionButtons();this._requestDocuments()}}},isActionVisible(e){return e.isVisible},_getAvailableActions:function e(t){return s.getRecordActions({view:this,model:this.model,type:"toolbar",maxCount:t})},_renderActionButtons(){const e=app.template.get("record-actions");const t=this.$(".box__record-actions");this.actionBtns=this._getAvailableActions();this._setActionItemsWidth(this.actionBtns);t.html(e(this.actionBtns));this.$el.toggleClass("view__detail_noactions",_.isEmpty(this.actionBtns))},_setActionItemsWidth(e){const t=e.length;const n=this.$el.width();const i=75;const a=(n/i).toFixed(1);let r;if(t>a){r=Math.floor(a)+.55}else{r=t}const s=Math.round(n/r);_.each(e,e=>{e.width=`${s}px`})},_setDocLoading(e){if(!this.actions.doc){return}this.model.docsLoading=e;this._renderActionButtons()},onActionBtnClick:function e(t){const n=$(t.currentTarget).attr("action");const i=_.findWhere(this.actionBtns,{name:n});if(_.isFunction(i.handler)){i.handler(this,this.model,t)}},onAfterShow(){this._super();this._renderActionButtons();this._performAfterShowTasks();app.tutorial.show(this.name,this.module)},_onFileFieldChange(e,t,n){this._super(e,t,n);if(n==="preparing"){this._showOverlay()}else if(n==="prepared"){this._postFile(e,t)}else if(n==="error"){this._hideOverlay();app.alert.show("file_upload_error",{level:"error",messages:t,autoClose:true,closeable:true});this.render()}},_showOverlay(){r.show("uploading_image");app.alert.show("upload_mask",{level:"info",messages:app.lang.get("LBL_MOBILE_UPLOAD_IN_PROGRESS"),autoClose:false,closeable:false})},_hideOverlay(){r.hide("uploading_image");app.alert.dismiss("upload_mask")},_postFile(e,t){const n={success:_.bind(function t(n){const i=app.offline.isOnline()?"LBL_MOBILE_UPLOAD_SUCCESS":"LBL_FILE_STORED_LOCALLY";app.alert.show("file_upload_success",{level:"success",messages:app.lang.get(i),autoClose:true,closeable:true});this.model.set(e.name,n[e.name].name);this._requestDocuments();this._hideOverlay()},this),error:_.bind(function t(n){app.error.handleHttpError(n);e.render();this._hideOverlay()},this)};this.model.uploadFile(e.name,t,n,{htmlJsonFormat:false})},_performAfterShowTasks(){_.each(this._afterShowTasks,function e(t,n){t.call(this);delete this._afterShowTasks[n]},this)},_requestDocuments(e){const t=this.model.get("date_modified");this._setDocLoading(false);if(e||!this._docsRequestTimestamp||this.model._docsUpdated||this._docsRequestTimestamp<t){this._docsRequestTimestamp=t;this.model._docsUpdated=false;this._setDocLoading(true);this.model.getDocuments(this.docFields)}},_onTitleClick(e){this._openEditView()},_openEditView(e={}){const t=l(this.model,{hash:{action:"edit",link:this.context.get("link"),appendRoot:true}});app.controller.navigate(t,{initiator:this.navigationName,data:e.data})}});e.exports=c},function(e,t,n){const i=n(1);const a=n(27);const r=i.extendComponent({parent:a},{_populateParentInfo(e,t,n){const i=app.acl.hasAccessToModel("edit",this.model,"parent_name");const a=app.acl.hasAccessToModel("edit",this.model,"contact_name");const r=app.metadata.getRelationship(app.metadata.getModule(t,"fields")[n].relationship)||{};if(r.via_parent_id){this._viaParent=true}if(r.via_parent_id){this._viaParent=true}if(t==="Contacts"){if(a){this.model.set({contact_id:e.id,contact_name:e.full_name||e.name});this._sendContactId=true}if(i){this.model.set({parent_id:e.account_id,parent_type:"Accounts",parent_name:e.account_name});this._sendParentId=true}}else if(i){this.model.set({parent_name:e.name,parent_id:e.id,parent_type:t});this._sendParentId=true}},save(e=[]){if(this._sendContactId){e.push("contact_id")}this._super(e)}});e.exports=r},function(e,t,n){const i=n(1);const a=n(11);const r=n(14);const s=i.extendComponent(a,{_stringType:"filters",template:"filters",className:"view__filters",isFilterDDOpened:false,customFilters:null,sortable:true,_cacheKey:"filters",_customFiltersSynced:false,isSortingDDOpened:false,SORT_DEFAULT:"date_modified",SORT_CHANGED_EVENT:"sort:changed",FILTER_CHANGED_EVENT:"filter:changed",events:{"click .filter__item-main a":"onFilterBtnClick","click .dropdown__filter [data-filter-id]":"onFilterClick","click .dropdown__filter .filters-reload":"onFiltersReloadClick","click .filter__item-by a":"onSortingBtnClick","click .filter__item-sort a":"onSortDirectionBtnClick","click .dropdown__sortBy [data-fieldname]":"onSortableFieldClick"},modulesCustomSortConfig:{Meetings:[{field:"date_start",direction:"asc",isDefault:true}],Emails:[{field:"date_sent",direction:"desc",isDefault:true}]},initialize:function e(t){this._super(t);this.$body=$(document.body);this.cacheStore=app.nomad.stores.filters;this._persistLastState=!this._isOnStatelessLayout();this._searchMode=this._isOnSearchLayout();this._initFilters();this._initSorting()},_isOnSearchLayout:function e(){return _.contains(["Search","Recents"],this.options.module)},_isOnStatelessLayout:function e(){return this.options.subType==="selector"},_initFilters:function e(){this.unsupportedFilterIds=this._getUnsupportedFilterIds();this.compatibleFilters=this._getCompatibleFilters();this.filtersFromMetadata=this._getFiltersFromMetadata();if(app.supportedFeatures.filters&&!this._searchMode){this.customFilters=app.data.createBeanCollection("Filters");this.listenTo(this.customFilters,"data:sync:start",this.onCustomFiltersSyncStart);this.listenTo(this.customFilters,"data:sync:error",this.onCustomFiltersSyncError);this.listenTo(this.customFilters,"sync",this.onCustomFiltersSync)}this.filters=this._getAvailableFilters();this._addRecentsFilter(false)},_getUnsupportedFilterIds(){const e=[];const t=app.metadata.getModule(this.options.module);if(!t.favoritesEnabled){e.push("favorites")}if(!_.getNested(t,"fields.assigned_user_id")){e.push("assigned_to_me")}return e},_getAvailableFilters(){return!app.supportedFeatures.filters||this._searchMode||this._isOnSearchLayout()?this.compatibleFilters.slice():_.union(this.filtersFromMetadata,this._getFiltersFromCache())},_getCompatibleFilters(){const e=this._isOnSearchLayout()?app.lang.get("LBL_RECORDS"):app.lang.getModuleName(this.options.module,{plural:true});return _.reject([{id:"all_records",name:app.lang.get("LBL_LISTVIEW_FILTER_ALL",null,{module:e})},{id:"favorites",name:app.lang.get("LBL_FAVORITES_FILTER"),params:{favorites:true}},{id:"assigned_to_me",name:app.lang.get("LBL_ASSIGNED_TO_ME",null,{module:e}),params:{my_items:true}}],e=>_.contains(this.unsupportedFilterIds,e.id))},_getFiltersFromMetadata(){const e=app.metadata.getModule(this.options.module,"filters");if(!_.isArray(_.getNested(e,"basic.meta.filters"))){return[]}const t=app.utils.deepCopy(e.basic.meta.filters);const n=app.lang.getModuleName(this.options.module,{plural:true});let i=_.getNested(this.options,"def.initOptions.initialFilter.initial_filter");t.forEach(e=>{if(e.id==="favorites"){e.name="LBL_FAVORITES_FILTER"}if(e.id===i){if(this._populateInitialFilter(e)===null){i=null}}e.name=app.lang.get(e.name,this.options.module,{module:n});if(!_.isArray(e.filter_definition)){e.filter_definition=[e.filter_definition]}});const a=i||(e.default?e.default.meta.default_filter:"all_records");t.forEach(e=>{if(e.id===a){e.active=true}});return _.reject(t,e=>_.contains(this.unsupportedFilterIds,e.id)||e.is_template&&e.id!==i)},_populateInitialFilter(e){const t=this.options.def.initOptions.initialFilter;const n=_.clone(t.filter_populate)||{};let i=true;_.each(t.filter_relate,(e,a)=>{const r=t.relatedModel.get(a);i=i&&!_.isEmpty(r);n[e]={$in:[r]}});if(!i){return null}_.each(e.filter_definition,e=>{_.each(e,(t,i)=>{const a=_.isString(t)||_.isNumber(t);if(a){t={$equals:t}}const r=_.keys(t)[0];let s=t[r];const o=!_.isNumber(s)&&_.isEmpty(s);if(o&&!_.isUndefined(n[i])){s=n[i]}if(a){e[i]=s}else{e[i][r]=s}})});e.name=t.initial_filter_label||e.name},_getCustomFilters:function e(){const t={limit:app.config.fetchLimit.filters,params:{filter:[{created_by:app.user.get("id"),module_name:this.options.module}]}};this.customFilters.fetch(t)},_addRecentsFilter:function e(t){if(!this.filters.length||!app.supportedFeatures.filters||!this._isOnSearchLayout()||t){return}this.filters.push({id:"recently_viewed",name:app.lang.get("LBL_RECENTLY_VIEWED"),params:{recents:true}})},_initSorting(){const{module:e}=this;const t=app.metadata.getView(e,"list").panels[0].fields;const n=app.metadata.getModule(e,"fields");const i=this.modulesCustomSortConfig[e];let a;this.sortableFields=_.chain(t).filter(t=>app.utils.isSortable(e,t)).map(t=>({label:app.lang.get(t.label,e),name:t.name})).value();a=[this.SORT_DEFAULT];if(i){a=_.union(a,_.pluck(i,"field"))}_.each(a,function t(i){if(n[i]&&!_.findWhere(this.sortableFields,{name:i})){this.sortableFields.unshift({name:i,label:app.lang.get(n[i].vname,e)})}},this);if(this._isSortAvailable()){this._setDefaultSortState()}else{this.sortable=false}},_isSortAvailable:function e(){return!_.isEmpty(this.sortableFields)},_setDefaultSortState:function e(){const t=app.metadata.getModule(this.module);const n=this._persistLastState&&this._getLastState().sorting;const i=t.views.list.meta.orderBy;const a=_.findWhere(this.modulesCustomSortConfig[this.module],{isDefault:true});const r=app.metadata.getModule(this.module,"fields");const s={direction:"desc"};const o=[n,i,a&&_.pick(a,"field","direction"),r[this.SORT_DEFAULT]&&{field:this.SORT_DEFAULT},{field:this.sortableFields[0].name}];_.each(o,function e(t){if(t&&!s.field&&_.findWhere(this.sortableFields,{name:t.field})){_.extend(s,t)}},this);this.sortState=s},onCustomFiltersSyncStart:function e(){this.$filters.preloader.showElement();this.$filters.fetchingErr.hideElement()},onCustomFiltersSyncError:function e(){this.$filters.preloader.hideElement();this.$filters.fetchingErr.showElement()},onCustomFiltersSync:function e(t,n){const i=this.getActiveFilter();const a=[];_.each(n,e=>{if(_.isEmpty(e.filter_definition)){return}a.push({id:e.id,name:e.name,filter_definition:e.filter_definition,custom:true})});this._setFiltersToCache(a);this.filters=this._getAvailableFilters();_.each(this.filters,e=>{e.active=e.id===i.id});this._customFiltersSynced=true;this.render();app.analytics.trackEvent({category:"app",action:"custom-filter",value:this.customFilters.length})},onAfterRender:function e(){this._super();this.$overlay=this.$(".overlay-dropdown");if(this.filters.length){this.$filters={DD:this.$(".dropdown__filter"),DDItems:this.$(".dropdown__filter a"),btn:this.$(".filter__item-main a"),preloader:this.$(".filters-preloader"),fetchingErr:this.$(".filters-fetching-error")};this._setActiveFilter(this.getActiveFilter());if(this.isFilterDDOpened){this.activeUI=this.$filters}}if(this.sortable){this.$sorting={DD:this.$(".dropdown__sortBy"),DDItems:this.$(".dropdown__sortBy a"),btn:this.$(".filter__item-by a"),btnLbl:this.$(".filter__item-by .field-name"),directionBtn:this.$(".filter__item-sort")};this._setActiveSortState();if(this.isSortingDDOpened){this.activeUI=this.$sorting}}},_setActiveSortState:function e(){this._setSortField(this.sortState.field);this._setSortDirection(this.sortState.direction)},_setSortDirection:function e(t){const n=t;const i=t==="asc"?"desc":"asc";this.sortState.direction=t;this.$sorting.directionBtn.removeClass(i).addClass(n).attr("data-direction",t);this._setLastState()},_setSortField:function e(t){this.sortState.field=t;this.$sorting.DDItems.removeClass("active");this.$sorting.DDItems.filter(`[data-fieldname=${t}]`).addClass("active");this.$sorting.btnLbl.text(_.findWhere(this.sortableFields,{name:t}).label);this._setLastState()},onFilterBtnClick:function e(t){this.toggleDD(this.$filters);t.stopPropagation();t.preventDefault()},onSortingBtnClick:function e(t){this.toggleDD(this.$sorting);t.stopPropagation();t.preventDefault()},onSortDirectionBtnClick:function e(){const t=this.$sorting.directionBtn.attr("data-direction")==="asc"?"desc":"asc";this._setSortDirection(t);this.trigger(this.SORT_CHANGED_EVENT,this.getPreparedState())},toggleDD:function e(t){const n=this.activeUI&&this.activeUI!==t;const i=this;if(n){this._closeActiveDD()}this.activeUI=t;const a=this.activeUI===this.$filters;const r=a?!this.isFilterDDOpened:!this.isSortingDDOpened;this.activeUI.DD.toggleElement(r);this.activeUI.btn.toggleClass("active",r);this.$overlay.toggleElement(r);if(r){if(a&&app.supportedFeatures.filters&&!this._customFiltersSynced&&!this._searchMode&&!this._isOnSearchLayout()){this._getCustomFilters();this.$filters.fetchingErr.hideElement()}this.$body.on("click.filters",e=>{if(_.isEmpty($(e.target).closest(i.activeUI.DD))){i._closeActiveDD();e.stopPropagation();e.preventDefault()}})}else{this._removeOutsideClickHandling()}if(a){this.isFilterDDOpened=!this.isFilterDDOpened}else{this.isSortingDDOpened=!this.isSortingDDOpened}},onFilterClick:function e(t){const n=$(t.currentTarget);const i=n.attr("data-filter-id");const a=this.getFilter(i);const r=this.getActiveFilter();this._closeActiveDD();if(a.id!==r.id){this._setActiveFilter(a);this.trigger(this.FILTER_CHANGED_EVENT,this.getPreparedState())}const s=a.custom?"custom":a.id;app.analytics.trackEvent({category:"filter",action:s});t.preventDefault();t.stopPropagation()},onSortableFieldClick:function e(t){const n=$(t.currentTarget);const i=n.attr("data-fieldname");this._closeActiveDD();if(i!==this.sortState.field){this._setSortField(i);this.trigger(this.SORT_CHANGED_EVENT,this.getPreparedState())}app.analytics.trackEvent({category:"sort",action:i});t.preventDefault();t.stopPropagation()},onFiltersReloadClick(e){this._getCustomFilters();e.preventDefault();e.stopPropagation()},getFilter:function e(t){return _.findWhere(this.filters,{id:t})},getActiveFilter:function e(){if(!this.filters.length){return}const t=this._persistLastState&&this._getLastState();const n=t?t.filter:null;const i=[{id:n},{active:true},this._isOnSearchLayout()&&{id:"recently_viewed"},{id:"all_records"}];let a;_.each(i,function e(t){a=a||_.findWhere(this.filters,t)},this);if(!a){a=this.filters[0]}return a},resetToPreviousFilter:function e(){const t=_.findWhere(this.filters,{previouslyActive:true});if(t){this._setActiveFilter(t)}},toggleSearchMode:function e(t,n){if(!this.filters.length){return}const i=this.getActiveFilter();this._searchMode=t;this.filters=this._getAvailableFilters();this._addRecentsFilter(this._searchMode);this._persistLastState=this._searchMode?false:!this._isOnStatelessLayout();this.sortable=this._searchMode?false:this._isSortAvailable();this.render();if(this._searchMode&&_.findWhere(this.filters,{id:i.id})){this._setActiveFilter(i)}if(!this._searchMode&&!n&&this.getActiveFilter().id!==i.id){this.trigger(this.FILTER_CHANGED_EVENT,this.getPreparedState())}},getPreparedState:function e(){const t=this.getActiveFilter()||{};const n=t.params||{};const i=t.filter_definition;if(!_.isEmpty(i)){_.extend(n,{filter:i})}if(this.sortable){_.extend(n,{order_by:`${this.sortState.field}:${this.sortState.direction}`})}return n},toggle:function e(t){this.$el.toggleClass("filters-hidden",!t)},_closeActiveDD:function e(){if(!this.activeUI){return}this.activeUI.DD.hideElement();this.activeUI.btn.removeClass("active");this.$overlay.hideElement();this._removeOutsideClickHandling();if(this.activeUI===this.$filters){this._abortPendingRequests();this.isFilterDDOpened=false}else{this.isSortingDDOpened=false}this.activeUI=null},_setActiveFilter:function e(t){this.$filters.DDItems.removeClass("active");_.each(this.filters,function e(n,i){if(n.id===t.id){this.$filters.DDItems[i].classList.add("active");this.$filters.btn.text(n.name);this.$filters.btn.data("active-filter-id",n.id);n.active=true;this._setLastState(n.id)}else{n.previouslyActive=false;if(n.active){n.previouslyActive=true;n.active=false}}},this)},_removeOutsideClickHandling:function e(){this.$body.off("click.filters")},_getStoreCacheKey(){return this.options.module},_getLastStateKey(){const e=app.controller.getScreenContext();const t=e.parentModule||this.options.module;const n=e.link||"";return["filters",t,n].join(":")},_setLastState:function e(t){if(!this._persistLastState){return}const n=this._getLastState()||{};if(t){n.filter=t}if(this.sortState){n.sorting=this.sortState}r.setSetting({store:r.Stores.LAST_STATE,name:this._getLastStateKey(),value:n})},_getLastState:function e(){return r.getSetting({store:r.Stores.LAST_STATE,name:this._getLastStateKey()})||{}},_setFiltersToCache:function e(t=[]){this.cacheStore.set(this._getStoreCacheKey(),JSON.stringify(t))},_getFiltersFromCache:function e(){let t=this.cacheStore.get(this._getStoreCacheKey());t=t?JSON.parse(t):[];return t},onDetachFromDom:function e(){this._abortPendingRequests();this._super()},_abortPendingRequests:function e(){if(this.customFilters&&this.customFilters.getFetchRequest()){this.customFilters.abortFetchRequest()}},_dispose:function e(){this.$body.off("click.filters");this._super()}});e.exports=s},function(e,t,n){const i=n(13);const a=n(1);const r=n(11);const{isDirectionLTR:s,getOfflineStatusClass:o}=n(3);let l;const c=a.extendComponent(r,{_stringType:"header",template:"header",className:"view__header",events:{"click .menuBtn":"onMenuClick","click .create-entity":"onAddClicked","click .header__btn--save":"onSaveClicked","click .header__btn--cancel":"onCancelClicked","click .backBtn":"onBackClicked","click .dashHomeBtn":"onDashboardHomeClicked","click .searchBtn":"onSearchBtnClicked","click h1":"onTitleClicked",swipeLeft(e){if(s()){this.onSwipeLeft(e)}else{this.onSwipeRight(e)}},swipeRight(e){if(s()){this.onSwipeRight(e)}else{this.onSwipeLeft(e)}}},buttonSelectorMap:{back:".backBtn",mainMenu:".menuBtn",search:".searchBtn",save:".header__btn--save",cancel:".header__btn--cancel",caret:".header__btn--caret",dashHome:".dashHomeBtn"},_saveBtnDisabled:false,dataContainer:null,globalEvents:{"offline:status:update":function(e){const t=this.$el.find(".offline-icon, .offline-status");t.removeClass("status-success status-warning status-error status-default");t.addClass(o())},"app:orientation:changed":function(){if(!app.isTablet){return}window.scrollTo(0,0);if(app.controller.layoutManager.getRecordLayout()){l.addClass("show-content-child")}}},offlineStatusIconPartial:"offline-status-icon",offlineStatusClass(){return o()},initialize(e){this.initHeaderActions();this._super(e);this.model=e.model||e.parentView&&e.parentView.model;this.context=e.context||e.parentView&&e.parentView.context;this.defaults={title:app.config.productName,mainMenu:true,rightMenu:true,back:false,save:false,cancel:false,dashboardHome:false};this.config=e.config;l=$(document.body);if(this.model){this.listenTo(this.model,"data:sync:error",function e(t,n,i){if(_.contains([404,403],i.status)){this.$(".createBtn").hideElement()}})}},initHeaderActions(){const e={click:"click",menuClick:"menu:click",save:"save:click",cancel:"cancel:click",dashboardHome:"dashboard:home:click",search:"search:click"};this.headerActions=e},onBeforeRender(){this._super();if(this.config.rightMenu&&this.model&&!this.rightMenu){this.rightMenu=app.view.createView({name:a.getViewClass("right-menu"),model:this.model,viewSubType:this.options.viewSubType,parentView:this.options.parentView,headerRef:this})}this.config.isMenuButtonSupported=this._isMenuButtonSupported();this.config.ui={hasEditButton:this.config.save||this.config.cancel}},onAfterShow(){this._super();if(this.rightMenu){if(this.rightMenu.isActionListAvailable()){this.rightMenu.render();if(app.isTablet){this.$rightMenu=this.$el.find(".right-menu__container_tablet")}else{this.$rightMenu=l.find("#right-menu")}this.$rightMenu.html(this.rightMenu.$el)}else if(!this.rightMenu.quickAction){this.$(".createBtn").hideElement()}}},onTitleClicked(e){this._processAction(e,this.headerActions.click)},onSaveClicked(e){if(!this.$(".header__btn--save").hasClass("disabled")){this._processAction(e,this.headerActions.save)}},onCancelClicked(e){if(!this.$(".header__btn--cancel").hasClass("disabled")){this._processAction(e,this.headerActions.cancel)}},onDashboardHomeClicked(e){this._processAction(e,this.headerActions.dashboardHome)},onSearchBtnClicked(e){this._processAction(e,this.headerActions.search)},onBackClicked(e){this._processAction(e,this.headerActions.cancel)},onMenuClick(e){e.preventDefault();if(!this._isMenuButtonSupported()){return}this._processAction(e,this.headerActions.menuClick);i.dismissAlerts()},onSwipeLeft(e){if(app.nomad.mainMenu.isOpened()){this.onMenuClick(e)}else if(!this.isRightMenuOpened()&&this.rightMenu&&!this.rightMenu.quickAction){this.onAddClicked(e)}},onSwipeRight(e){if(i.getOrientation()==="landscape"&&app.isTablet){return}if(this.isRightMenuOpened()){this.onAddClicked(e);return}this.onMenuClick(e)},_processAction(e,t,n){if(e){e.preventDefault()}t=`header:${t}`;i.dismissAlerts();this.trigger(this.ACTION_NAME,{name:t,options:n})},onAddClicked(e){e.preventDefault();e.stopPropagation();i.dismissAlerts();if(this.rightMenu.isActionListAvailable()){this.rightMenu.toggle();app.tutorial.show("plus-menu")}else{this.rightMenu.executeAction(this.rightMenu.quickAction)}},setTitle(e){this.$el.find(".header-title").text(e)},setSubtitle(e){this.$el.find(".header-subtitle").text(e)},setButtonVisible(e){_.each(e,function e(t,n){t=Boolean(t);this.$el.find(this.buttonSelectorMap[n]).toggleElement(t);if(n==="save"){this.$(".header__save-container").toggleElement(t)}},this)},_isMenuButtonSupported(){return this.config.mainMenu},setSaveBtnState({enabled:e}={}){this._saveBtnDisabled=!e;this.$(".header__btn--save").toggleClass("disabled",!e)},_dispose(){if(this.rightMenu){this.rightMenu.dispose();this.rightMenu=undefined}this._super()},isRightMenuOpened(){return this.rightMenu&&this.rightMenu.isActionListAvailable()&&this.rightMenu._isRightMenuOpened},setConfig(e){_.extend(this.config,e);if(this._rendered){this.render()}}},{getBaseButtonNames(){return["back","rightMenu","search","mainMenu","cancel","save"]}});e.exports=c},function(e,t,n){const i=n(1);const a=n(7);const r=n(4);const s=n(15);const o=i.extendComponent(s,{disableItemClick:false,isLiveRelativeDateEnabled:true,initialize(e){const{listParams:t}=e;this.listParams=t;const n=this.getCollection(t);e=_.extend({},e,{meta:this.calculateListMeta(t),collection:n,context:this.getContext(e,n),template:this.template});_.extend(e,_.pick(t,"template","listItemDataProvider","listItemTpl"));this._super(e);if(this.isLiveRelativeDateEnabled){this.listenTo(this.collection,"data:sync:start",function e(){this.$("time").liverelativedate("destroy")});this.listenTo(this.collection,"data:sync:complete",function e(){this.$("time").liverelativedate()})}},getContext(e,t){const{listParams:n}=this;const{parentModel:i}=n;const r=app.metadata.getModule(n.module);const s={fields:r&&r.mergedFields,model:app.data.createBean("Filters"),collection:t,module:n.module,limit:n.limit,link:i&&n.link,parentModule:i&&i.module};return new a(s)},getCollection(e){const t={limit:e.limit};const{link:n}=e;const{parentModel:i}=e;const a=n&&i&&app.metadata.getModule(i.module).fields[n];const r=a?app.data.createRelatedCollection(i,n):app.data.createBeanCollection(e.module,null,t);this.setFilter(r,e);r.options=t;r.limit=t.limit;return r},setFilter(e,t){let{filter:n}=t;const i=t.filter_id||"assigned_to_me";if(!n){const e=app.metadata.getModule(t.module,"filters");if(e&&e.basic){n=_.find(e.basic.meta.filters,e=>e.id===i)}}if(n){e.filterDef=n.filter_definition||n}else{e.filterId=i}},calculateListMeta(e){const t=app.metadata.getModule(e.module,"fields");const n=[];_.each(e.display_columns,e=>{n.push(t[e])});return{panels:[{fields:n}]}},getFieldNames(){return this.listParams.display_columns},loadData(e){const t=this._super;return new Promise((e,t)=>{this.loadUserFilter(n=>{if(n){t(new Error(n.message));return}e()})}).then(()=>t.call(this,e)).catchReturn()},loadUserFilter:function e(t){const n=app.data.createBean("Filters",{id:this.collection.filterId});const i=this;if(!this.collection.filterDef&&this.collection.filterId){n.fetch({success:function e(n,a){i.collection.filterDef=a.filter_definition;t()},error:function e(n){r.showAlert(app.lang.get("ERR_MOBILE_CONNECTION_FAILED"));t(n)}})}else{t()}},onItemElementClick(e){if(!this.disableItemClick&&!$(e.target).closest("a").length){this._super(e)}return true}});e.exports=o},function(e,t,n){const i=n(1);const a=n(7);const r=n(79);const s=n(6);const o=n(49);const l=n(20);const c=n(9);const u=n(145);const d=n(391);const f=n(12);const p=i.extendComponent(u,{_stringType:"login",className:"view__login",privacyLink:app.config.about.privacy,tosLink:app.config.about.tos,showAttribution:app.config.about.showAttribution,_bodyScroll:true,events(){const e=this._super();_.extend(e,{"click .about-link":function(){const e=new a({module:"About",create:true}).prepare();app.controller._loadScreen({isDynamic:true,layouts:{module:"About",baseType:"about",appendTo:"root",context:e,gaTrack:"about"}})},"click .login__settings_btn":function(...e){return this.showLoginSettings(...e)},"click #login_btn":function(...e){return this.login(...e)},"click #external_login_btn":function(...e){return this.externalLogin(...e)},"click .legal-link":function(e){e.preventDefault();s.openUrl(e.target.href)},"keypress input":function(e){if(e.which===13){e.srcElement.blur();this.login()}},"keyup input":"_updateBtnsState","focusout input":"_updateBtnsState","change input":"_updateBtnsState","click .continue_btn":"onSettingsContinue"});return e},initialize(e){this.meta=r.getView("Login","login");e.meta=this.meta;this._super(e);this.productVersion=app.clientInfo.app.productVersion;this.settingsButtonVisible=app.isNative;this.loginSettingsTitle=app.lang.get("LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE",null,{brandName:app.config.brandName});this.loginSettingsDesc=app.lang.get("LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC",null,{brandName:app.config.brandName})},onAppResume(e){if(l.isTouchIdForLoginSetup()&&_.isEmpty(this.model.get("password"))){this.login()}},onAfterShow(){_.delay(_.bind(function e(){f.hideAll();if(!this.disposed){this.$el.animate({opacity:"1"},500,"ease");l.toggleTouchIdOnLogin(true)}},this),100)},login(){const e=this;const t=function(){e.reEnableLogin("#login_btn","LBL_LOGIN_BUTTON_TITLE")};const n={password:e.model.get("password"),username:e.model.get("username")};asyncLib.series([function t(i){if(l.isTouchIdForLoginSetup()&&_.isEmpty(e.model.get("password"))){l.performTouchId(n.username,(t,a)=>{if(t){e.$el.find("#password").val(a);n.password=a;e.model.set("password",a);e._updateBtnsState()}i(!t)})}else{i()}},function i(a){if(!e.updateButtonAndInfo("#login_btn",n.username,false)){a(true);return}e.model.doValidate(e.model.fields,e=>{if(!e){t()}a(!e)})},function i(a){app.alert.dismiss("field_validation_error");app.logger.debug(`Username: ${n.username}`);app.login(n,app.clientInfo,{error(n){if(e.disposed){return}if(n&&n.status>=400&&n.status<=403){e.model.unset("password")}t()},success(){if(l.isTouchIdAuthenticationSupported()&&o.isSetupBuddySupported()&&!o.isSetupBuddyItemCompleted("localsecurity")){l.setTempCredential(n.password)}_.delay(()=>{t()},500)},complete(){a()}})}])},externalLogin(){if(this.updateButtonAndInfo("#external_login_btn","",true)){const e=this;c.verifyExternalLogin(()=>{e.reEnableLogin("#external_login_btn","LBL_EXTERNAL_LOGIN_BUTTON_TITLE")})}},onSettingsContinue(){if(!this.$(".continue_btn").is("[disabled=disabled]")){this.updateLoginSettings(()=>{this.render()})}},showLoginSettings(e={}){if(this.model.get("username")){c.setTempSetting({loginName:this.model.get("username")})}const t=new a({create:true}).prepare();const n=app.controller._loadScreen({isDynamic:true,layouts:{className:e.firstLaunch?"layout__noHeader":"layout__loginSettings",views:[d],gaTrack:"login-settings",appendTo:"root",context:t,headerConfig:{title:app.lang.get("LBL_LOGIN_SETTINGS_HEADER"),back:true}}})[0];const i=n.getComponent(d);i.once("settings:submit",e=>{app.controller.disposeDynamic({disposeAll:true});this.render()})},updateButtonAndInfo(e,t,n){const i=this.$(e);i.focus();if(i.is("[disabled=disabled]")){return false}app.alert.dismissAll();this.$el.find(".btn").attr("disabled","disabled");i.html(`${Handlebars.templates.spinner()} ${app.lang.get("LBL_LOADING")}`);f.show("login");let a={loginName:t||"",isSSO:n};a=c.setTempSetting(a);c.applyLoginSettings(a);return true},reEnableLogin(e,t){f.hide("login");if(this.disposed){return}this.$(e).text(app.lang.get(t));this._updateBtnsState()},render(){const e=c.getTempSetting();c.applyLoginSettings(e);this.model.set({username:e.loginName,password:""},{silent:true});if(app.isNative){this.firstLaunch=_.isEmpty(e.loginUrl);this.serverUrl=e.loginUrl;this.useHttps=e.useHttps;this.isIdm=e.isIdm;this.isSSO=e.isSSO;this.settingsButtonVisible=!this.firstLaunch&&!this.isIdm;this.showLoginSettingsSection=this.firstLaunch||this.isIdm}this._super();this._updateUIControls();this._updateBtnsState()},_updateUIControls(){if(app.isNative){const e=c.getTempSetting();this.$("#login_btn").toggle(!e.isSSO);this.$("#external_login_btn").toggle(e.isSSO);this.$el.find(".login-fields").toggle(!e.isSSO)}},_updateBtnsState(){if(this.showLoginSettingsSection){this._updateSettingsBtnsState()}else{if(app.config.loginSettings.externalLoginVisible){this.$("#external_login_btn").removeAttr("disabled")}const e=_.some(["username","password"],e=>_.isEmpty($(`input[name=${e}]`).val()));this.$("#login_btn").attr("disabled",e?"disabled":null)}}});e.exports=p},function(e,t,n){const{isModelSynchronized:i}=n(3);const a=n(1);const r=n(77);const s=n(12);const o=a.extendComponent(r,{_stringType:"record",_statusMessageMap:{403:"LBL_NOT_AUTHORIZED",404:"LBL_RECORD_NOT_FOUND",link:"LBL_RELATED_RECORD_NOT_FOUND"},_modelEvents:{sync:"onDataSyncSuccess","data:sync:error":"onDataSyncError","data:sync:complete":"onDataSyncComplete"},_isModelUpdated:false,initialize(e){this._super(e);this.fileFields=_.select(this.displayFields,e=>_.contains(["image","file"],e.type));this._bindModelEvents()},_listenFileFieldEvents(){_.each(this.fileFields,function e(t){const n=this.getField(t.name,this.model);if(n){this.listenTo(n,"file:field:change",function e(t,i){this._onFileFieldChange(n,t,i)});this.listenTo(n,"file:field:clear",function e(){this._onFileFieldClear(n)})}},this)},_onFileFieldChange:_.noop,_onFileFieldClear:_.noop,onBeforeRender(){this._super();this.model.dataFetched=false},onAfterRender(){this._super();this.overlayTarget=this.options.overlayTarget?$(this.options.overlayTarget,this.$el):this.$el},_renderFields(...e){this._super(...e);if(!_.isEmpty(this.fileFields)){this._listenFileFieldEvents()}},_dispose(){this._super();this._unbindModelEvents()},getOverlayKey(){return`${this.action}-${this.model.id}`},showRecordOverlay(e,t){if(document.activeElement){document.activeElement.blur()}const n=e.link&&t===404?"link":t;const i=app.lang.get(this._statusMessageMap[n]);if(i){this.overlayIsShown=true;s.show(this.getOverlayKey(),{template:"overlay-record",$appendTo:this.overlayTarget,templateOptions:{message:i}})}},hideRecordOverlay(){this.overlayIsShown=false;s.hide(this.getOverlayKey())},bindViewSyncListener(){this.listenTo(this.model,"sync",this.publishModelSyncData)},unbindViewSyncListener(){this.stopListening(this.model,"sync",this.publishModelSyncData)},publishModelSyncData(e,t,n){this.publishSyncData(e.toJSON(),null,_.extend({},n,{responseData:t}))},receiveSyncData(e){let t;let n=false;if(_.isArray(e)){t=_.find(e,function e(t){return t.id===this.model.id},this)}else if(e&&e.id===this.model.id){t=e}if(t&&!i(this.model,t)){this.model.set(t);n=true}this._isModelUpdated=n},onDataSyncSuccess(e,t,n){if(this.overlayIsShown){this.hideRecordOverlay()}},onDataSyncError(e,t,n){if(e==="read"){this.showRecordOverlay(this.model,n.status);if(app.error.isAccessError(n)){this.publishSyncData(this.model.toJSON(),n);this._clearModel()}}},onDataSyncComplete(e,t,n){},_clearModel(){const e={};_.each(this.model.attributes,(t,n)=>{if(n!=="id"){e[n]=undefined}});this.model.set(e,{unset:true})},_bindModelEvents(){_.each(this._modelEvents,function e(t,n){this.listenTo(this.model,n,this[t])},this)},_unbindModelEvents(){_.each(this._modelEvents,function e(t,n){this.stopListening(this.model,n,this[t])},this)}});e.exports=o},function(e,t,n){const i=n(1);const a=n(11);const r=i.extendComponent(a,{_stringType:"search-box",className:"view__search-box",touchOutsideEventName:"touchstart.outside",_toggleSearchEventName:"search:toggle",events:{"textInput .search-query":"onKeyUp","keyup .search-query":"onKeyUp","cut   .search-query":"onChange","paste .search-query":"onChange","change .search-query":"onChange","focusin .search-query":"onFocusIn","blur .search-query":"onBlur","touchstart .search__cancel-btn":function(){this.onCancelSearch()},"submit form":"onSubmit"},initialize(e){this._super(e);this.timerId=null;this._searchText="";this.$searchBox=null;if($.os.ios){this.$el.find(".search-query").on("textInput",this.onKeyUp,this)}},showSearch({skipAnimation:e=false}={}){const t=this.$(".view__search").addClass("show-search");const n=e?"css":"animate";t[n]({opacity:1},200);this.hideProgress();this.$searchBox.focus();this.trigger(this._toggleSearchEventName,true)},onCancelSearch(){document.activeElement.blur();this.$searchBox.val("").trigger("change");this.hideSearch()},hideSearch({skipAnimation:e=false}={}){const t=e?"css":"animate";this.$(".view__search")[t]({opacity:0},200,function e(){$(this).removeClass("show-search")});this.trigger(this._toggleSearchEventName,false)},onAfterRender(){this._super();this.$searchBox=this.$(".search-query")},onAfterShow(){this.hideProgress();if($.os.android){const e=this;_.delay(()=>{e.offsetHeight=parseInt(document.body.offsetHeight,10)},600)}},onKeyUp(e){this._clearTimer();const t=e.keyCode===13||e.type==="submit";if(t){document.activeElement.blur()}this.timerId=window.setTimeout(()=>{const e=this.$searchBox.val();this.search(e);if(e===""&&!t){this.focusSearchBox()}},r.searchDelay)},onChange(e,{triggeredByClearField:t=false}={}){if(t){this._clearTimer();return}this.onKeyUp(e)},onFocusIn(){this._bindTouchOutside();if(this.$el.parents("#content").length){$(document.body).addClass("body--search-onfocus")}if($.os.android){const e=this;_.delay(()=>{const t=window.setInterval(()=>{e.trigger(e.ACTION_NAME,{name:"app:keyboard:hide"});window.clearInterval(t)},200)},600)}},onBlur(){$(document.body).removeClass("body--search-onfocus")},onSubmit(e){e.preventDefault();this.onChange(e)},resetSearch(){this._clearTimer()},focusSearchBox(){this.$searchBox.get(0).focus()},search(e){const t=e.trim();if(this._searchText===t){return}this._searchText=t;this.trigger("search:text");this.showProgress()},getPreparedState:function e(){const t={};if(this._searchText){t.q=this._searchText}return t},showProgress(){this.$el.addClass("in-progress")},hideProgress(){this.$el.removeClass("in-progress")},getFieldNames(){return[]},_clearTimer(){if(this.timerId){window.clearTimeout(this.timerId)}},_dispose(){this._clearTimer();this._super()},setPlaceholder:function e(t){const n=app.lang.get("LBL_MOBILE_SEARCH_PLACEHOLDER",null,{searchCriteria:t});this.$searchBox.attr("placeholder",n)},_bindTouchOutside(){$(document).one(this.touchOutsideEventName,e=>{const t=$(e.target).parents(`.${this.className}`);if(_.isEmpty(t)){document.activeElement.blur()}})}},{searchDelay:600});e.exports=r},function(e,t,n){const i=n(92);const a=n(1);const r=n(8);const s=a.extendComponent(r,{initialize(e){this._super(e);i.registerView(this);this.bindViewSyncListener()},_dispose(){i.unregisterView(this);this.unbindViewSyncListener();this._super()},bindViewSyncListener(){},unbindViewSyncListener(){},publishSyncData(e,t,n){i.triggerViewSync(this,e,t,n)},receiveSyncData(e,t){}});e.exports=s},function(e,t){const n=/\s+/;const i=function(e,t,i,a){if(!i)return true;if(typeof i==="object"){for(let n in i){e[t].apply(e,[n,i[n]].concat(a))}return false}if(n.test(i)){let r=i.split(n);for(let n=0,i=r.length;n<i;n++){e[t].apply(e,[r[n]].concat(a))}return false}return true};const a=function(e,t){let n=false;let i=-1;let a=e.length;let r;switch(t.length){case 0:case 1:case 2:case 3:while(++i<a)n=(r=e[i]).callback.call(r.ctx,t[0],t[1],t[2])===false||n;break;default:while(++i<a)n=(r=e[i]).callback.apply(r.ctx,t)===false||n}return!n};e.exports={before(e,t,n){if(!i(this,"before",e,[t,n])||!t){return this}this._before=this._before||{};let a=this._before[e]||(this._before[e]=[]);a.push({callback:t,context:n,ctx:n||this});return this},triggerBefore(e){let t=false;if(!this._before){return!t}let i=Array.prototype.slice.call(arguments,1);if(n.test(e)){let a=e.split(n);for(let e=0,n=a.length;e<n;e++){t=!this.triggerBefore.apply(this,[a[e]].concat(i))||t}return!t}let r=this._before[e];let s=this._before.all;if(r){t=a(r,i)===false}if(s){t=a(s,i)===false||t}return!t},offBefore(e,t,n){let a;let r;let s;let o;if(!this._before||!i(this,"offBefore",e,[t,n])){return this}if(!e&&!t&&!n){this._before=void 0;return this}o=e?[e]:_.keys(this._before);for(let i=0,l=o.length;i<l;i++){e=o[i];s=this._before[e];if(s){this._before[e]=a=[];if(t||n){for(let e=0,i=s.length;e<i;e++){r=s[e];if(t&&t!==r.callback||n&&n!==r.ctx){a.push(r)}}}if(!a.length){delete this._before[e]}}}return this}}},function(module,exports,__webpack_require__){const Acl=__webpack_require__(34);const Events=__webpack_require__(28);const Template=__webpack_require__(29);const User=__webpack_require__(19);const Utils=__webpack_require__(16);const Language=__webpack_require__(18);const ViewManager=__webpack_require__(36);const DataManager=__webpack_require__(52);var _keyPrefix="meta:";var _metadata={};var _mdLoaded={};var _syncing=false;function _setHash(e,t){var n=t?"public:":"";SUGAR.App.cache.set(_keyPrefix+n+"hash",e._hash)}function _cacheMeta(e){SUGAR.App.cache.set(_keyPrefix+"data",e)}function _getCachedMeta(){return SUGAR.App.cache.get(_keyPrefix+"data")}function _injectLabels(e,t){_.each(t,function(n,i){if(i!=="_hash"){e[i]=t[i]}});delete e.labels}function _fetchLabels(e,t){var n,i,a;var r=User.getLanguage();n=e.ordered_labels||e.labels;Language.setDefaultLanguage(n["default"]);if(t.language&&n[t.language]){i=t.language}else if(n[r]){i=r}else{i=Language.getDefaultLanguage();if(User.id){User.updateLanguage(i)}}Language.setCurrentLanguage(i);a=Utils.buildUrl(n[i]);SUGAR.App.api.call("read",a,null,{success:function(e){try{e=_.isString(e)?JSON.parse(e):e}catch(e){SUGAR.App.logger.fatal("Failed to parse labels data: "+e);t.error({code:"sync_failed",label:"ERR_SYNC_FAILED"});return}t.success(e)},error:function(e){e.code="sync_failed";e.label="ERR_SYNC_FAILED";t.error(e)}})}function _initCustomComponents(e,t){var n=this,i=SUGAR.App.config.platform!=="base"?["base",SUGAR.App.config.platform]:["base"];_.each({layout:"layout",view:"view",fieldTemplate:"field",data:"data"},function(a,r){if(n._metaTypeIsSeparatedByPlatform(e,r,i)){_.each(i,function(i){var s=e[r+"s"][i];n._sortAndDeclareComponents(s,a,t,i)})}_.each(e[r+"s"],function(e,n){if(a==="view"&&e.templates){_.each(e.templates,function(e,i){var a=n===i;i=a?i:n+"."+i;Template.setView(i,t,e,true)})}if(a==="layout"&&e.templates){_.each(e.templates,function(e,i){i=n===i?i:n+"."+i;Template.setLayout(i,t,e,true)})}if(a==="field"&&e.templates){_.each(e.templates,function(e,i){Template.setField(n,i,t,e,true)})}})},this)}module.exports={fieldTypeMap:{varchar:"text",datetime:"datetimecombo",multienum:"enum",text:"textarea",decimal:"float"},_patchMetadata:function(e,t){if(!t||t._patched===true){return t}_.each(t.views,function(n){if(n.meta){_.each(n.meta.panels,function(n){n.fields=this._patchFields(e,t,n.fields)},this)}},this);t._patched=true;return t},_patchFields:function(e,t,n){var i=this;_.each(n,function(a,r){var s=_.isString(a)?a:a.name;var o=t.fields[s];if(a.fields){a.fields=i._patchFields(e,t,a.fields);return}if(!_.isEmpty(o)){if(_.isString(a)){a={name:a}}if(_.isObject(a.displayParams)){_.extend(a,a.displayParams);delete a.displayParams}a.type=a.type||o.custom_type||o.type||"base";a.type=i.fieldTypeMap[a.type]||a.type;a.label=a.label||o.vname||a.name;n[r]=a}else{if(a===""){a={view:"detail"};n[r]=a}}},this);return n},_patchForecastField:function(e){const t="commit_stage";let n;if(_.getNested(_metadata,`modules_info.RevenueLineItems.visible`)&&_.getNested(_metadata,`modules.RevenueLineItems.fields.${t}`)){n="RevenueLineItems"}else if(_.getNested(_metadata,`modules.Opportunities.fields.${t}`)){n="Opportunities"}else{return e()}if(SUGAR.App.isNative){SUGAR.App.keychain.oauth["meta:hash"]=SUGAR.App.metadata.getHash();SUGAR.App.keychain.oauth["userpref:hash"]=SUGAR.App.user.get("_hash")}SUGAR.App.api.enumOptions(n,t,{success:i=>{const a=`${t}_dom`;_metadata.app_list_strings[a]=i;_metadata.modules[n].fields[t].options=a;e()},error:n=>{SUGAR.App.logger.debug(`Failed fetching ${t} (forecast) field options.`);e(n)}})},_sortControllers:function(type,components,module){var updated={},nameMap={},entries={},updateWeights=function(e){var t=e.controller;if(e.type==="base"){entries["Base"+Utils.capitalize(type)].weight=-99999}if(_.isObject(t)&&_.isString(t.extendsFrom)&&entries[t.extendsFrom]&&!updated[t.extendsFrom]){entries[t.extendsFrom].weight--;updated[t.extendsFrom]=true;updateWeights(entries[t.extendsFrom])}};_.each(components,function(entry,name){if(entry.controller){var controller=entry.controller,className=(module||"")+Utils.capitalizeHyphenated(name)+Utils.capitalize(type);nameMap[className]=name;if(_.isString(controller)){try{controller=eval("["+controller+"][0]")}catch(e){SUGAR.App.logger.error("Failed to eval view controller for "+className+": "+e+":\n"+entry.controller)}}else{var emptyController=type!=="field"&&Object.getOwnPropertyNames(controller).length===1&&controller.hasOwnProperty("extendsFrom");if(emptyController){SUGAR.App.logger.warn("Instead of creating an empty js controller `"+className+"` and specify the parent with extendsFrom, please use `type` property in the metadata `"+name+"`, to specify controller to use. It will allow you to delete your empty controllers and save memory.")}}entries[className]={type:name,controller:controller,weight:0}}});_.each(entries,function(e,t){var n=e.controller,i;if(_.isObject(n)&&_.isString(n.extendsFrom)){i="Custom"+n.extendsFrom;if(i in entries&&t!=i){n.extendsFrom=i}}});_.each(entries,function(e){updated={};updateWeights(e)});return _.sortBy(entries,"weight")},_sortAndDeclareComponents:function(e,t,n,i){var a,r=this;if(!_.isUndefined(e)&&e){a=r._sortControllers(t,e,n);if(t==="data"){var s,o;_.each(a,function(e){if(e.type==="model"){s=e.controller}else if(e.type==="collection"){o=e.controller}});DataManager.declareModelClass(n,null,i,s);DataManager.declareCollectionClass(n,i,o)}else{_.each(a,function(e){ViewManager.declareComponent(t,e.type,n,e.controller,true,i)})}}},_metaTypeIsSeparatedByPlatform:function(e,t,n){if(!_.isUndefined(e[t+"s"])){for(var i=0;i<n.length;i++){if(!_.isUndefined(e[t+"s"][n[i]])){if(_.isUndefined(e[t+"s"][n[i]].controller)){return true}}}}return false},_declareClasses:function(e){var t=this,n=SUGAR.App.config.platform!=="base"?["base",SUGAR.App.config.platform]:["base"];_.each(["field","view","layout","data"],function(i){var a;if(t._metaTypeIsSeparatedByPlatform(e,i,n)){_.each(n,function(n){a=e[i+"s"][n];t._sortAndDeclareComponents(a,i,null,n)},this)}},this);_.each(e.modules,function(e,t){_initCustomComponents.call(this,e,t)},this)},getModules:function(){return _metadata.modules},getHiddenSubpanels:function(){return _metadata.hidden_subpanels},getModule:function(e,t){var n=this.getModules();if(n)n=n[e];if(n&&t)n=n[t];return n},getRelationship:function(e){return _metadata.relationships?_metadata.relationships[e]:null},getField:function(e){e=e||{};if(!e.module){throw new Error("Cannot get vardefs without a module")}var t=this.getModule(e.module,"fields");if(t&&e.name){return t[e.name]}return t},getView:function(e,t,n){if(!e&&!t){return _metadata.views}var i=this.getModule(e,"views");if(t){if(i&&i[t]&&i[t].meta!==void 0){i=i[t].meta}else if(n){i=this.getModule(n,"views");i=i&&i[t]?i[t].meta:null}else if(_metadata.views&&_metadata.views[t]){i=_metadata.views[t].meta}else{i=null}}return i?this.copy(i,{module:e,view:t}):i},getLayout:function(e,t,n){if(!e&&!t){return _metadata.layouts}var i=this.getModule(e,"layouts");if(t){if(i&&i[t]&&i[t].meta!==void 0){i=i[t].meta}else if(n){i=this.getModule(n,"layouts");i=i&&i[t]?i[t].meta:null}else if(_metadata.layouts&&_metadata.layouts[t]){i=_metadata.layouts[t].meta}else{i=null}}return i?this.copy(i,{module:e,layout:t}):i},getModuleNames:function(e){var t=["enabled","!enabled","visible","!visible","display_tab","!display_tab","show_subpanels","!show_subpanels","quick_create","!quick_create"];e=e||{};var n=[];var i=_.isUndefined(_metadata.modules_info);if(i){n=_.clone(User.get("module_list"));if(e.access){n=_.filter(n,function(t){return Acl.hasAccess(e.access,t)})}return n||[]}var a,r=false;if(e.filter){if(!_.isArray(e.filter)){e.filter=[e.filter]}a=[];_.each(e.filter,function(e){if(e&&_.indexOf(t,e)>-1){a.push(e);r=e==="display_tab"}else if(e){SUGAR.App.logger.warn("Can't filter getModuleNames by "+e)}});if(_.isEmpty(a)){a=undefined}}n=_.chain(_metadata.modules_info).keys().without("_hash").value();if(a){_.each(a,function(t){var i=t.charAt(0)==="!";if(i){var a=this.getModuleNames({filter:t.substring(1),access:e.access});n=_.difference(n,a)}else{n=_.filter(n,function(e){return _metadata.modules_info[e][t]})}},this)}if(!_.isEmpty(User.get("module_list"))){if(r){n=_.intersection(User.get("module_list"),n)}else if(!a){n=_.union(User.get("module_list"),n)}}if(e.access){n=_.filter(n,function(t){return Acl.hasAccess(e.access,t)})}return n},getStrings:function(e){return _metadata[e]||{}},getFullModuleList:function(){return _metadata.full_module_list||{}},getConfig:function(){return _metadata.config||{}},getBaseCurrencyId:function(){return"-99"},getCurrency:function(e){return this.getCurrencies()[e]},getCurrencies:function(){return _metadata.currencies||{}},getLogoUrl:function(){return _metadata.logo_url},getServerInfo:function(){return _metadata.server_info||{}},getModuleTabMap:function(){return _metadata.module_tab_map||{}},getTabMappedModule:function(e){var t=this.getModuleTabMap();return t[e]||e},getFilterOperators:function(e){var t=_metadata.filters&&_metadata.filters.operators&&_metadata.filters.operators.meta||{};var n=e&&this.getModule(e,"filters");var i=n&&n.operators&&n.operators.meta;if(i){return _.extend({},t,i)}return t},get:function(){return _metadata},getEditableDropdownFilter:function(e){var t=_metadata.editable_dropdown_filters;if(t&&t[e]){return this.copy(t[e])}return{}},copy:function(e,t){return Utils.deepCopy(e)},set:function(e,t,n){_.each(e.modules,function(e,t){this._patchMetadata(t,e)},this);this._declareClasses(e);if(e.config){SUGAR.App.setConfig(e.config)}Template.set(e,e._hash&&e._hash!=this.getHash(t));if(!_.isEmpty(e._hash))_setHash(e,t);if(!n){var i=e._override_values||[];delete e._override_values;_.each(e,function(e,t){_metadata[t]=_.isObject(e)&&!_.contains(i,t)?_.extend(_metadata[t]||{},e):e})}else{_metadata=e}if(SUGAR.App.config.cacheMeta&&!t){_cacheMeta(_metadata)}if(SUGAR.App.config.env!="prod"){this._dev_data=_metadata}},getHash:function(e){var t=e?_keyPrefix+"public:hash":_keyPrefix+"hash";return SUGAR.App.cache.get(t)||_metadata._hash||""},sync:function(e,t){_syncing=true;t=t||{};t.params=t.params||{};var n=this,i=t.metadataTypes||(t.getPublic?SUGAR.App.config.publicMetadataTypes:SUGAR.App.config.metadataTypes)||[],a=function(i){SUGAR.App.logger.debug("Failed fetching metadata");if(!t.getPublic){SUGAR.App.error.handleHttpError(i)}e.call(n,i)},r=e;e=function(e){_syncing=false;if(_.isFunction(r))r(e)};SUGAR.App.api.getMetadata({types:i,callbacks:{success:function(r){var s;t=t||{};if(!_.isEmpty(r)){SUGAR.App.logger.debug("Updating metadata");if(_mdLoaded[t.getPublic?"public:md":"md"]&&n.getHash(t.getPublic)==r._hash&&!t.forceRefresh){SUGAR.App.logger.debug("Skipping update as metadata hash matches");return e.call(n)}if(_.isEmpty(i)||_.include(i,"server_info")&&!t.getPublic){s=SUGAR.App.isServerCompatible(r.server_info);if(s!==true){return e(s)}}_mdLoaded[t.getPublic?"public:md":"md"]=true;if(r.jssource){n._loadJSSource(r,t,e,a,n)}else{if(r.labels||r.ordered_labels){_fetchLabels(r,{language:t.language,success:function(i){_injectLabels(r,i);n.set(r,t.getPublic);n._patchForecastField(t=>{if(t){a(t)}else{e.call(n)}})},error:a})}else{e.call(n)}}}else{e.call(n,{code:"sync_failed",label:"ERR_SYNC_FAILED"})}},error:a},public:t.getPublic,params:t.params})},isSyncing:function(){return _syncing},_loadJSSource:function(e,t,n,i,a){var r,s=this._checkJSSourceUpdated(e,!!t.getPublic);if(s==="reload"){return Utils.hardRefresh()}else if(s){SUGAR.jssource=false;r=document.createElement("script");r.src=Utils.buildUrl(e.jssource);document.head.appendChild(r)}async.parallel([function(e){if(s){Utils.doWhen("SUGAR.jssource",function(){a._declareClasses(SUGAR.jssource);e()})}else{e()}},function(n){_fetchLabels(e,{language:t.language,success:function(i){_injectLabels(e,i);a.set(e,t.getPublic);n()},error:function(){i.apply(a,arguments);n()}})}],()=>{if(n){n.call(a)}})},_checkJSSourceUpdated:function(e,t){if(t){if(this._publicJSSourceFile){if(this._publicJSSourceFile!=e.jssource){return"reload"}return false}else{this._publicJSSourceFile=e.jssource;return true}}if(e.jssource_public&&this._publicJSSourceFile&&e.jssource_public!=this._publicJSSourceFile){Utils.hardRefresh();return"reload"}if(this._jsSourceFile){if(this._jsSourceFile!=e.jssource){return"reload"}return false}this._jsSourceFile=e.jssource;return true},init:function(){_.bindAll(this,"storageHandler");window.addEventListener("storage",this.storageHandler);if(SUGAR.App.config.cacheMeta){var e=_getCachedMeta();if(e)this.set(e,false)}Events.on("cache:clean",function(e){e([_keyPrefix+"public:hash",_keyPrefix+"hash",_keyPrefix+"data"])})},storageHandler:function(){if(!_syncing&&(this.getHash()!=_metadata._hash&&_mdLoaded.md||SUGAR.App.api.getUserprefHash()&&User.get("_hash")&&SUGAR.App.api.getUserprefHash()!=User.get("_hash"))){_syncing=true;_mdLoaded.md=false;SUGAR.App.sync({getPublic:!SUGAR.App.api.isAuthenticated()})}},clearCache:function(){SUGAR.App.cache.cut(_keyPrefix+"public:hash");SUGAR.App.cache.cut(_keyPrefix+"hash");SUGAR.App.cache.cut(_keyPrefix+"data")},reset:function(){_metadata={};this.clearCache()}}},function(e,t,n){const i=n(47);const a=i.extend({tpl:'<div class="alert alert-block">{{#if title}}<strong>{{title}}</strong>{{/if}}{{#each messages}}{{./this}}{{/each}}</div>',render:function(){var e=Handlebars.compile(this.tpl);this.$el.html(e(this.options));this.$(".alert").addClass("alert-"+this.options.level)}});e.exports=a},function(e,t,n){const i=n(80);const a=n(16);const r=n(36);var s={};const o={preventAnyAlert:false,init:function(){this.$alerts=$("#alerts");this.klass=i;if(SUGAR.App.config){this.$alerts=$(SUGAR.App.config.alertsEl).length?$(SUGAR.App.config.alertsEl):this.$alerts;this.klass=r[a.capitalize(SUGAR.App.config.appId)+"AlertView"]||r.views[a.capitalize(SUGAR.App.config.platform)+"AlertView"]||r.views.BaseAlertView||r[a.capitalize(SUGAR.App.config.platform)+"AlertView"]||this.klass}_.each(this.$alerts.find(".alert-wrapper"),function(e,t){var n="init-"+t;s[n]=this._create(n,{el:e})},this)},show:function(e,t){if(!this.$alerts||!this.$alerts.length){return null}if(this.preventAnyAlert)return null;t=_.extend({level:"info",autoClose:false},t||{});if(t.level==="confirmation"){this.dismissAll();this.preventAnyAlert=true}if(t.messages){t.messages=_.isString(t.messages)?[t.messages]:t.messages}var n=s[e];if(!n){n=this._create(e,t);s[e]=n}n.level=t.level;if(!!t.autoClose)this._setAutoCloseTimer(n,t.onAutoClose,t.autoCloseDelay);n.render();return n},_create:function(e,t){var n=new this.klass(t);n.key=e;n.$el.prependTo(this.$alerts);return n},_setAutoCloseTimer:function(e,t,n){if(e.timerId)clearTimeout(e.timerId);e.timerId=setTimeout(_.bind(function(){if(_.isFunction(t)){t(e.key)}this.dismiss(e.key)},this),n||SUGAR.App.config.alertAutoCloseDelay||5e3)},dismiss:function(e,t){this.preventAnyAlert=false;var n=s[e];if(!n)return;if(n.timerId)clearTimeout(n.timerId);n.dispose();delete s[e]},dismissAll:function(e,t){_.each(s,function(n,i){if(!e||n.level==e){this.dismiss(i,t)}},this)},get:function(e){return s[e]},getAll:function(){return s}};e.exports=o},function(e,t,n){const i=n(34);const a=n(47);const r=n(35);const s=n(18);const o=n(29);const l=a.extend({initialize:function(e){r.attach(this,"view");a.prototype.initialize.call(this,e);this.type=e.type;this.name=e.name||this.type;this.action=e.meta&&e.meta.action?e.meta.action:this.name;this._loadTemplate(e);this.fields={};this.nestedFields={};this.fallbackFieldTemplate=this.fallbackFieldTemplate||"detail";this.layout=this.options.layout;this.primary=e.primary;this._setLabels();if(this.dataView){this.context.set("dataView",this.dataView)}else{this.context.addFields(this.getFieldNames())}SUGAR.App.events.on("app:locale:change",function(){this._setLabels()},this)},_getTemplate:function(e,t){return o.getView(e,this.module)||o.getView(e,t)},_loadTemplate:function(e){var t,n;e=e||{};if(e.template){t=e.template;n=null}else if(this.meta&&this.meta.template){t=this._getTemplate(this.meta.template,e.loadModule);n=this.meta.template}else{t=this._getTemplate(this.name,e.loadModule);n=this.name}if(!t){if(this.meta&&this.meta.type){t=this._getTemplate(this.meta.type,e.loadModule);n=this.meta.type}else{t=o.empty;n=""}}this.tplName=n;this.template=t},_renderHtml:function(e,t){if(this.template){try{this.$el.html(this.template(e||this,t||this.options.templateOptions))}catch(e){SUGAR.App.logger.error("Failed to render "+this+"\n"+e);SUGAR.App.error.handleRenderError(this,"_renderHtml")}}},_renderFields:function(){var e=this;var t={};this.$("span[sfuuid]").each(function(){var e=$(this),n=e.attr("sfuuid");t[n]=e});_.each(this.fields,function(n){e._renderField(n,t[n.sfId])})},_renderField:function(e,t){e.setElement(t||this.$("span[sfuuid='"+e.sfId+"']"));try{e.render()}catch(t){SUGAR.App.logger.error("Failed to render "+e+" on "+this+"\n"+t);SUGAR.App.error.handleRenderError(this,"_renderField",e)}},_render:function(){if(i.hasAccessToModel(this.action,this.model)){this._disposeFields();this._renderHtml();this._renderFields()}else{SUGAR.App.logger.info("Current user does not have access to this module view. name: "+this.name+" module: "+this.module);if(this.primary){SUGAR.App.error.handleRenderError(this,"view_render_denied")}}return this},_setLabels:function(){this.modulePlural=s.getAppListStrings("moduleList")[this.module]||this.module;this.moduleSingular=s.getAppListStrings("moduleListSingular")[this.module]||this.modulePlural},loadData:function(e){if(i.hasAccess("read",this.module)){this.context.loadData(e)}},getFieldNames:function(e){var t=[];e=e||this.context.get("module");if(this.meta&&this.meta.panels){t=_.reduce(_.map(this.meta.panels,function(e){var t=_.flatten(_.compact(_.pluck(e.fields,"fields")));return _.pluck(e.fields,"name").concat(_.pluck(t,"name")).concat(_.flatten(_.compact(_.pluck(e.fields,"related_fields"))))}),function(e,t){return e.concat(t)},[])}t=_.compact(_.uniq(t));var n=SUGAR.App.metadata.getModule(e,"fields");if(n){t=_.reject(t,function(e){return _.isUndefined(n[e])});var i=[];_.each(t,function(e){if(n[e].type=="relate"){i.push(n[e].id_name)}else if(n[e].type=="parent"){i.push(n[e].id_name);i.push(n[e].type_name)}if(_.isArray(n[e].fields)){i=i.concat(n[e].fields)}});t=_.union(t,i)}return t},getFields:function(e,t){var n={};var i=this.getFieldNames(e);_.each(i,function(e){var i=this.getField(e,t);if(i){n[e]=i.def}},this);return n},getField:function(e,t){return _.find(_.extend({},this.fields,this.nestedFields),function(n){return n.name==e&&(!t||n.model==t)})},closestComponent:function(e){if(!this.layout){return}if(this.layout.name===e){return this.layout}return this.layout.closestComponent(e)},_show:function(){a.prototype._show.call(this);_.each(_.extend({},this.fields,this.nestedFields),function(e){e.updateVisibleState(true)})},_hide:function(){a.prototype._hide.call(this);_.each(_.extend({},this.fields,this.nestedFields),function(e){e.updateVisibleState(true)})},_dispose:function(){r.detach(this,"view");this._disposeFields();a.prototype._dispose.call(this)},_disposeFields:function(){_.each(this.fields,function(e){e.dispose()});this.fields={};this.nestedFields={}},toString:function(){return"view-"+this.name+"-"+a.prototype.toString.call(this)},getFieldMeta:function(e,t){var n=_.flatten(_.pluck(this.meta.panels,"fields")),i=_.find(n,function(t){return t.name===e});if(!i&&t){i=_.find(_.flatten(_.pluck(n,"fields")),function(t){return t&&t.name===e});if(i){i._isChild=true}}return i},setFieldMeta:function(e,t){_.each(this.meta.panels,function(n){_.each(n.fields,function(i,a){if(i.name===e){n.fields[a]=_.extend(i,t)}else if(_.isArray(i.fields)){_.each(i.fields,function(n,a){if(n.name===e){i.fields[a]=_.extend(n,t)}})}})})}});e.exports=l},function(e,t){var n=e.exports={};var i;var a;function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=r}}catch(e){i=r}try{if(typeof clearTimeout==="function"){a=clearTimeout}else{a=s}}catch(e){a=s}})();function o(e){if(i===setTimeout){return setTimeout(e,0)}if((i===r||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(a===clearTimeout){return clearTimeout(e)}if((a===s||!a)&&clearTimeout){a=clearTimeout;return clearTimeout(e)}try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}var c=[];var u=false;var d;var f=-1;function p(){if(!u||!d){return}u=false;if(d.length){c=d.concat(c)}else{f=-1}if(c.length){h()}}function h(){if(u){return}var e=o(p);u=true;var t=c.length;while(t){d=c;c=[];while(++f<t){if(d){d[f].run()}}f=-1;t=c.length}d=null;u=false;l(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}c.push(new m(e,t));if(c.length===1&&!u){o(h)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function _(){}n.on=_;n.addListener=_;n.once=_;n.off=_;n.removeListener=_;n.removeAllListeners=_;n.emit=_;n.prependListener=_;n.prependOnceListener=_;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,t,n){(function(e,n){true?n(t):typeof define==="function"&&define.amd?define(["exports"],n):n(e.d3sugar=e.d3sugar||{})})(this,function(e){"use strict";var t="4.9.1";var n=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var i=function(e){if(e.length===1)e=a(e);return{left:function(t,n,i,a){if(i==null)i=0;if(a==null)a=t.length;while(i<a){var r=i+a>>>1;if(e(t[r],n)<0)i=r+1;else a=r}return i},right:function(t,n,i,a){if(i==null)i=0;if(a==null)a=t.length;while(i<a){var r=i+a>>>1;if(e(t[r],n)>0)a=r;else i=r+1}return i}}};function a(e){return function(t,i){return n(e(t),i)}}var r=i(n);var s=r.right;var o=r.left;var l=function(e,t){if(t==null)t=c;var n=0,i=e.length-1,a=e[0],r=new Array(i<0?0:i);while(n<i)r[n]=t(a,a=e[++n]);return r};function c(e,t){return[e,t]}var u=function(e,t,n){var i=e.length,a=t.length,r=new Array(i*a),s,o,l,u;if(n==null)n=c;for(s=l=0;s<i;++s){for(u=e[s],o=0;o<a;++o,++l){r[l]=n(u,t[o])}}return r};var d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};var f=function(e){return e===null?NaN:+e};var p=function(e,t){var n=e.length,i=0,a=-1,r=0,s,o,l=0;if(t==null){while(++a<n){if(!isNaN(s=f(e[a]))){o=s-r;r+=o/++i;l+=o*(s-r)}}}else{while(++a<n){if(!isNaN(s=f(t(e[a],a,e)))){o=s-r;r+=o/++i;l+=o*(s-r)}}}if(i>1)return l/(i-1)};var h=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n};var m=function(e,t){var n=e.length,i=-1,a,r,s;if(t==null){while(++i<n){if((a=e[i])!=null&&a>=a){r=s=a;while(++i<n){if((a=e[i])!=null){if(r>a)r=a;if(s<a)s=a}}}}}else{while(++i<n){if((a=t(e[i],i,e))!=null&&a>=a){r=s=a;while(++i<n){if((a=t(e[i],i,e))!=null){if(r>a)r=a;if(s<a)s=a}}}}}return[r,s]};var _=Array.prototype;var g=_.slice;var v=_.map;var b=function(e){return function(){return e}};var y=function(e){return e};var x=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;var i=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(a);while(++i<a){r[i]=e+i*n}return r};var w=Math.sqrt(50);var S=Math.sqrt(10);var L=Math.sqrt(2);var E=function(e,t,n){var i=t<e,a=-1,r,s,o;if(i)r=e,e=t,t=r;if((o=k(e,t,n))===0||!isFinite(o))return[];if(o>0){e=Math.ceil(e/o);t=Math.floor(t/o);s=new Array(r=Math.ceil(t-e+1));while(++a<r)s[a]=(e+a)*o}else{e=Math.floor(e*o);t=Math.ceil(t*o);s=new Array(r=Math.ceil(e-t+1));while(++a<r)s[a]=(e-a)/o}if(i)s.reverse();return s};function k(e,t,n){var i=(t-e)/Math.max(0,n),a=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,a);return a>=0?(r>=w?10:r>=S?5:r>=L?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(r>=w?10:r>=S?5:r>=L?2:1)}function M(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/a;if(r>=w)a*=10;else if(r>=S)a*=5;else if(r>=L)a*=2;return t<e?-a:a}var T=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1};var A=function(){var e=y,t=m,n=T;function i(i){var a,r=i.length,o,l=new Array(r);for(a=0;a<r;++a){l[a]=e(i[a],a,i)}var c=t(l),u=c[0],d=c[1],f=n(l,u,d);if(!Array.isArray(f)){f=M(u,d,f);f=x(Math.ceil(u/f)*f,Math.floor(d/f)*f,f)}var p=f.length;while(f[0]<=u)f.shift(),--p;while(f[p-1]>d)f.pop(),--p;var h=new Array(p+1),m;for(a=0;a<=p;++a){m=h[a]=[];m.x0=a>0?f[a-1]:u;m.x1=a<p?f[a]:d}for(a=0;a<r;++a){o=l[a];if(u<=o&&o<=d){h[s(f,o,0,p)].push(i[a])}}return h}i.value=function(t){return arguments.length?(e=typeof t==="function"?t:b(t),i):e};i.domain=function(e){return arguments.length?(t=typeof e==="function"?e:b([e[0],e[1]]),i):t};i.thresholds=function(e){return arguments.length?(n=typeof e==="function"?e:Array.isArray(e)?b(g.call(e)):b(e),i):n};return i};var C=function(e,t,n){if(n==null)n=f;if(!(i=e.length))return;if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,a=(i-1)*t,r=Math.floor(a),s=+n(e[r],r,e),o=+n(e[r+1],r+1,e);return s+(o-s)*(a-r)};var D=function(e,t,i){e=v.call(e,f).sort(n);return Math.ceil((i-t)/(2*(C(e,.75)-C(e,.25))*Math.pow(e.length,-1/3)))};var R=function(e,t,n){return Math.ceil((n-t)/(3.5*h(e)*Math.pow(e.length,-1/3)))};var I=function(e,t){var n=e.length,i=-1,a,r;if(t==null){while(++i<n){if((a=e[i])!=null&&a>=a){r=a;while(++i<n){if((a=e[i])!=null&&a>r){r=a}}}}}else{while(++i<n){if((a=t(e[i],i,e))!=null&&a>=a){r=a;while(++i<n){if((a=t(e[i],i,e))!=null&&a>r){r=a}}}}}return r};var O=function(e,t){var n=e.length,i=n,a=-1,r,s=0;if(t==null){while(++a<n){if(!isNaN(r=f(e[a])))s+=r;else--i}}else{while(++a<n){if(!isNaN(r=f(t(e[a],a,e))))s+=r;else--i}}if(i)return s/i};var F=function(e,t){var i=e.length,a=-1,r,s=[];if(t==null){while(++a<i){if(!isNaN(r=f(e[a]))){s.push(r)}}}else{while(++a<i){if(!isNaN(r=f(t(e[a],a,e)))){s.push(r)}}}return C(s.sort(n),.5)};var N=function(e){var t=e.length,n,i=-1,a=0,r,s;while(++i<t)a+=e[i].length;r=new Array(a);while(--t>=0){s=e[t];n=s.length;while(--n>=0){r[--a]=s[n]}}return r};var B=function(e,t){var n=e.length,i=-1,a,r;if(t==null){while(++i<n){if((a=e[i])!=null&&a>=a){r=a;while(++i<n){if((a=e[i])!=null&&r>a){r=a}}}}}else{while(++i<n){if((a=t(e[i],i,e))!=null&&a>=a){r=a;while(++i<n){if((a=t(e[i],i,e))!=null&&r>a){r=a}}}}}return r};var P=function(e,t){var n=t.length,i=new Array(n);while(n--)i[n]=e[t[n]];return i};var U=function(e,t){if(!(i=e.length))return;var i,a=0,r=0,s,o=e[r];if(t==null)t=n;while(++a<i){if(t(s=e[a],o)<0||t(o,o)!==0){o=s,r=a}}if(t(o,o)===0)return r};var Y=function(e,t,n){var i=(n==null?e.length:n)-(t=t==null?0:+t),a,r;while(i){r=Math.random()*i--|0;a=e[i+t];e[i+t]=e[r+t];e[r+t]=a}return e};var H=function(e,t){var n=e.length,i=-1,a,r=0;if(t==null){while(++i<n){if(a=+e[i])r+=a}}else{while(++i<n){if(a=+t(e[i],i,e))r+=a}}return r};var G=function(e){if(!(r=e.length))return[];for(var t=-1,n=B(e,V),i=new Array(n);++t<n;){for(var a=-1,r,s=i[t]=new Array(r);++a<r;){s[a]=e[a][t]}}return i};function V(e){return e.length}var $=function(){return G(arguments)};var j=Array.prototype.slice;var z=function(e){return e};var q=1;var W=2;var K=3;var J=4;var X=1e-6;function Q(e){return"translate("+(e+.5)+",0)"}function Z(e){return"translate(0,"+(e+.5)+")"}function ee(e){var t=Math.max(0,e.bandwidth()-1)/2;if(e.round())t=Math.round(t);return function(n){return e(n)+t}}function te(){return!this.__axis}function ne(e,t){var n=[],i=null,a=null,r=6,s=6,o=3,l=e===q||e===J?-1:1,c=e===J||e===W?"x":"y",u=e===q||e===K?Q:Z;function d(d){var f=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,p=a==null?t.tickFormat?t.tickFormat.apply(t,n):z:a,h=Math.max(r,0)+o,m=t.range(),_=m[0]+.5,g=m[m.length-1]+.5,v=(t.bandwidth?ee:z)(t.copy()),b=d.selection?d.selection():d,y=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(f,t).order(),w=x.exit(),S=x.enter().append("g").attr("class","tick"),L=x.select("line"),E=x.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000"));x=x.merge(S);L=L.merge(S.append("line").attr("stroke","#000").attr(c+"2",l*r));E=E.merge(S.append("text").attr("fill","#000").attr(c,l*h).attr("dy",e===q?"0em":e===K?"0.71em":"0.32em"));if(d!==b){y=y.transition(d);x=x.transition(d);L=L.transition(d);E=E.transition(d);w=w.transition(d).attr("opacity",X).attr("transform",function(e){return isFinite(e=v(e))?u(e):this.getAttribute("transform")});S.attr("opacity",X).attr("transform",function(e){var t=this.parentNode.__axis;return u(t&&isFinite(t=t(e))?t:v(e))})}w.remove();y.attr("d",e===J||e==W?"M"+l*s+","+_+"H0.5V"+g+"H"+l*s:"M"+_+","+l*s+"V0.5H"+g+"V"+l*s);x.attr("opacity",1).attr("transform",function(e){return u(v(e))});L.attr(c+"2",l*r);E.attr(c,l*h).text(p);b.filter(te).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===W?"start":e===J?"end":"middle");b.each(function(){this.__axis=v})}d.scale=function(e){return arguments.length?(t=e,d):t};d.ticks=function(){return n=j.call(arguments),d};d.tickArguments=function(e){return arguments.length?(n=e==null?[]:j.call(e),d):n.slice()};d.tickValues=function(e){return arguments.length?(i=e==null?null:j.call(e),d):i&&i.slice()};d.tickFormat=function(e){return arguments.length?(a=e,d):a};d.tickSize=function(e){return arguments.length?(r=s=+e,d):r};d.tickSizeInner=function(e){return arguments.length?(r=+e,d):r};d.tickSizeOuter=function(e){return arguments.length?(s=+e,d):s};d.tickPadding=function(e){return arguments.length?(o=+e,d):o};return d}function ie(e){return ne(q,e)}function ae(e){return ne(W,e)}function re(e){return ne(K,e)}function se(e){return ne(J,e)}var oe="$";function le(){}le.prototype=ce.prototype={constructor:le,has:function(e){return oe+e in this},get:function(e){return this[oe+e]},set:function(e,t){this[oe+e]=t;return this},remove:function(e){var t=oe+e;return t in this&&delete this[t]},clear:function(){for(var e in this)if(e[0]===oe)delete this[e]},keys:function(){var e=[];for(var t in this)if(t[0]===oe)e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)if(t[0]===oe)e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)if(t[0]===oe)e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)if(t[0]===oe)++e;return e},empty:function(){for(var e in this)if(e[0]===oe)return false;return true},each:function(e){for(var t in this)if(t[0]===oe)e(this[t],t.slice(1),this)}};function ce(e,t){var n=new le;if(e instanceof le)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i=-1,a=e.length,r;if(t==null)while(++i<a)n.set(i,e[i]);else while(++i<a)n.set(t(r=e[i],i,e),r)}else if(e)for(var s in e)n.set(s,e[s]);return n}var ue=function(){var e=[],t=[],n,i,a;function r(t,a,s,o){if(a>=e.length)return i!=null?i(t):n!=null?t.sort(n):t;var l=-1,c=t.length,u=e[a++],d,f,p=ce(),h,m=s();while(++l<c){if(h=p.get(d=u(f=t[l])+"")){h.push(f)}else{p.set(d,[f])}}p.each(function(e,t){o(m,t,r(e,a,s,o))});return m}function s(n,a){if(++a>e.length)return n;var r,o=t[a-1];if(i!=null&&a>=e.length)r=n.entries();else r=[],n.each(function(e,t){r.push({key:t,values:s(e,a)})});return o!=null?r.sort(function(e,t){return o(e.key,t.key)}):r}return a={object:function(e){return r(e,0,de,fe)},map:function(e){return r(e,0,pe,he)},entries:function(e){return s(r(e,0,pe,he),0)},key:function(t){e.push(t);return a},sortKeys:function(n){t[e.length-1]=n;return a},sortValues:function(e){n=e;return a},rollup:function(e){i=e;return a}}};function de(){return{}}function fe(e,t,n){e[t]=n}function pe(){return ce()}function he(e,t,n){e.set(t,n)}function me(){}var _e=ce.prototype;me.prototype=ge.prototype={constructor:me,has:_e.has,add:function(e){e+="";this[oe+e]=e;return this},remove:_e.remove,clear:_e.clear,values:_e.keys,size:_e.size,empty:_e.empty,each:_e.each};function ge(e,t){var n=new me;if(e instanceof me)e.each(function(e){n.add(e)});else if(e){var i=-1,a=e.length;if(t==null)while(++i<a)n.add(e[i]);else while(++i<a)n.add(t(e[i],i,e))}return n}var ve=function(e){var t=[];for(var n in e)t.push(n);return t};var be=function(e){var t=[];for(var n in e)t.push(e[n]);return t};var ye=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};var xe=function(e,t,n){e.prototype=t.prototype=n;n.constructor=e};function we(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Se(){}var Le=.7;var Ee=1/Le;var ke="\\s*([+-]?\\d+)\\s*";var Me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*";var Te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*";var Ae=/^#([0-9a-f]{3})$/;var Ce=/^#([0-9a-f]{6})$/;var De=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$");var Re=new RegExp("^rgb\\("+[Te,Te,Te]+"\\)$");var Ie=new RegExp("^rgba\\("+[ke,ke,ke,Me]+"\\)$");var Oe=new RegExp("^rgba\\("+[Te,Te,Te,Me]+"\\)$");var Fe=new RegExp("^hsl\\("+[Me,Te,Te]+"\\)$");var Ne=new RegExp("^hsla\\("+[Me,Te,Te,Me]+"\\)$");var Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xe(Se,Pe,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}});function Pe(e){var t;e=(e+"").trim().toLowerCase();return(t=Ae.exec(e))?(t=parseInt(t[1],16),new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1)):(t=Ce.exec(e))?Ue(parseInt(t[1],16)):(t=De.exec(e))?new Ve(t[1],t[2],t[3],1):(t=Re.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ie.exec(e))?Ye(t[1],t[2],t[3],t[4]):(t=Oe.exec(e))?Ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fe.exec(e))?$e(t[1],t[2]/100,t[3]/100,1):(t=Ne.exec(e))?$e(t[1],t[2]/100,t[3]/100,t[4]):Be.hasOwnProperty(e)?Ue(Be[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function Ue(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function Ye(e,t,n,i){if(i<=0)e=t=n=NaN;return new Ve(e,t,n,i)}function He(e){if(!(e instanceof Se))e=Pe(e);if(!e)return new Ve;e=e.rgb();return new Ve(e.r,e.g,e.b,e.opacity)}function Ge(e,t,n,i){return arguments.length===1?He(e):new Ve(e,t,n,i==null?1:i)}function Ve(e,t,n,i){this.r=+e;this.g=+t;this.b=+n;this.opacity=+i}xe(Ve,Ge,we(Se,{brighter:function(e){e=e==null?Ee:Math.pow(Ee,e);return new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){e=e==null?Le:Math.pow(Le,e);return new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&(0<=this.g&&this.g<=255)&&(0<=this.b&&this.b<=255)&&(0<=this.opacity&&this.opacity<=1)},toString:function(){var e=this.opacity;e=isNaN(e)?1:Math.max(0,Math.min(1,e));return(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}}));function $e(e,t,n,i){if(i<=0)e=t=n=NaN;else if(n<=0||n>=1)e=t=NaN;else if(t<=0)e=NaN;return new qe(e,t,n,i)}function je(e){if(e instanceof qe)return new qe(e.h,e.s,e.l,e.opacity);if(!(e instanceof Se))e=Pe(e);if(!e)return new qe;if(e instanceof qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),r=Math.max(t,n,i),s=NaN,o=r-a,l=(r+a)/2;if(o){if(t===r)s=(n-i)/o+(n<i)*6;else if(n===r)s=(i-t)/o+2;else s=(t-n)/o+4;o/=l<.5?r+a:2-r-a;s*=60}else{o=l>0&&l<1?0:s}return new qe(s,o,l,e.opacity)}function ze(e,t,n,i){return arguments.length===1?je(e):new qe(e,t,n,i==null?1:i)}function qe(e,t,n,i){this.h=+e;this.s=+t;this.l=+n;this.opacity=+i}xe(qe,ze,we(Se,{brighter:function(e){e=e==null?Ee:Math.pow(Ee,e);return new qe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){e=e==null?Le:Math.pow(Le,e);return new qe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,a=2*n-i;return new Ve(We(e>=240?e-240:e+120,a,i),We(e,a,i),We(e<120?e+240:e-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)}}));function We(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Ke=Math.PI/180;var Je=180/Math.PI;var Xe=18;var Qe=.95047;var Ze=1;var et=1.08883;var tt=4/29;var nt=6/29;var it=3*nt*nt;var at=nt*nt*nt;function rt(e){if(e instanceof ot)return new ot(e.l,e.a,e.b,e.opacity);if(e instanceof ht){var t=e.h*Ke;return new ot(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}if(!(e instanceof Ve))e=He(e);var n=dt(e.r),i=dt(e.g),a=dt(e.b),r=lt((.4124564*n+.3575761*i+.1804375*a)/Qe),s=lt((.2126729*n+.7151522*i+.072175*a)/Ze),o=lt((.0193339*n+.119192*i+.9503041*a)/et);return new ot(116*s-16,500*(r-s),200*(s-o),e.opacity)}function st(e,t,n,i){return arguments.length===1?rt(e):new ot(e,t,n,i==null?1:i)}function ot(e,t,n,i){this.l=+e;this.a=+t;this.b=+n;this.opacity=+i}xe(ot,st,we(Se,{brighter:function(e){return new ot(this.l+Xe*(e==null?1:e),this.a,this.b,this.opacity)},darker:function(e){return new ot(this.l-Xe*(e==null?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;e=Ze*ct(e);t=Qe*ct(t);n=et*ct(n);return new Ve(ut(3.2404542*t-1.5371385*e-.4985314*n),ut(-.969266*t+1.8760108*e+.041556*n),ut(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}}));function lt(e){return e>at?Math.pow(e,1/3):e/it+tt}function ct(e){return e>nt?e*e*e:it*(e-tt)}function ut(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ft(e){if(e instanceof ht)return new ht(e.h,e.c,e.l,e.opacity);if(!(e instanceof ot))e=rt(e);var t=Math.atan2(e.b,e.a)*Je;return new ht(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function pt(e,t,n,i){return arguments.length===1?ft(e):new ht(e,t,n,i==null?1:i)}function ht(e,t,n,i){this.h=+e;this.c=+t;this.l=+n;this.opacity=+i}xe(ht,pt,we(Se,{brighter:function(e){return new ht(this.h,this.c,this.l+Xe*(e==null?1:e),this.opacity)},darker:function(e){return new ht(this.h,this.c,this.l-Xe*(e==null?1:e),this.opacity)},rgb:function(){return rt(this).rgb()}}));var mt=-.14861;var _t=+1.78277;var gt=-.29227;var vt=-.90649;var bt=+1.97294;var yt=bt*vt;var xt=bt*_t;var wt=_t*gt-vt*mt;function St(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(!(e instanceof Ve))e=He(e);var t=e.r/255,n=e.g/255,i=e.b/255,a=(wt*i+yt*t-xt*n)/(wt+yt-xt),r=i-a,s=(bt*(n-a)-gt*r)/vt,o=Math.sqrt(s*s+r*r)/(bt*a*(1-a)),l=o?Math.atan2(s,r)*Je-120:NaN;return new Et(l<0?l+360:l,o,a,e.opacity)}function Lt(e,t,n,i){return arguments.length===1?St(e):new Et(e,t,n,i==null?1:i)}function Et(e,t,n,i){this.h=+e;this.s=+t;this.l=+n;this.opacity=+i}xe(Et,Lt,we(Se,{brighter:function(e){e=e==null?Ee:Math.pow(Ee,e);return new Et(this.h,this.s,this.l*e,this.opacity)},darker:function(e){e=e==null?Le:Math.pow(Le,e);return new Et(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Ke,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),a=Math.sin(e);return new Ve(255*(t+n*(mt*i+_t*a)),255*(t+n*(gt*i+vt*a)),255*(t+n*(bt*i)),this.opacity)}}));var kt={value:function(){}};function Mt(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n)throw new Error("illegal type: "+i);n[i]=[]}return new Tt(n)}function Tt(e){this._=e}function At(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");if(i>=0)n=e.slice(i+1),e=e.slice(0,i);if(e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}Tt.prototype=Mt.prototype={constructor:Tt,on:function(e,t){var n=this._,i=At(e+"",n),a,r=-1,s=i.length;if(arguments.length<2){while(++r<s)if((a=(e=i[r]).type)&&(a=Ct(n[a],e.name)))return a;return}if(t!=null&&typeof t!=="function")throw new Error("invalid callback: "+t);while(++r<s){if(a=(e=i[r]).type)n[a]=Dt(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Dt(n[a],e.name,null)}return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Tt(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,r;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,r=i.length;a<r;++a)i[a].value.apply(t,n)}};function Ct(e,t){for(var n=0,i=e.length,a;n<i;++n){if((a=e[n]).name===t){return a.value}}}function Dt(e,t,n){for(var i=0,a=e.length;i<a;++i){if(e[i].name===t){e[i]=kt,e=e.slice(0,i).concat(e.slice(i+1));break}}if(n!=null)e.push({name:t,value:n});return e}var Rt="http://www.w3.org/1999/xhtml";var It={svg:"http://www.w3.org/2000/svg",xhtml:Rt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var Ot=function(e){var t=e+="",n=t.indexOf(":");if(n>=0&&(t=e.slice(0,n))!=="xmlns")e=e.slice(n+1);return It.hasOwnProperty(t)?{space:It[t],local:e}:e};function Ft(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Rt&&t.documentElement.namespaceURI===Rt?t.createElement(e):t.createElementNS(n,e)}}function Nt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var Bt=function(e){var t=Ot(e);return(t.local?Nt:Ft)(t)};var Pt=0;function Ut(){return new Yt}function Yt(){this._="@"+(++Pt).toString(36)}Yt.prototype=Ut.prototype={constructor:Yt,get:function(e){var t=this._;while(!(t in e))if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Ht=function(e){return function(){return this.matches(e)}};if(typeof document!=="undefined"){var Gt=document.documentElement;if(!Gt.matches){var Vt=Gt.webkitMatchesSelector||Gt.msMatchesSelector||Gt.mozMatchesSelector||Gt.oMatchesSelector;Ht=function(e){return function(){return Vt.call(this,e)}}}}var $t=Ht;var jt={};e.event=null;if(typeof document!=="undefined"){var zt=document.documentElement;if(!("onmouseenter"in zt)){jt={mouseenter:"mouseover",mouseleave:"mouseout"}}}function qt(e,t,n){e=Wt(e,t,n);return function(t){var n=t.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){e.call(this,t)}}}function Wt(t,n,i){return function(a){var r=e.event;e.event=a;try{t.call(this,this.__data__,n,i)}finally{e.event=r}}}function Kt(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0)t=e.slice(n+1),e=e.slice(0,n);return{type:e,name:t}})}function Jt(e){return function(){var t=this.__on;if(!t)return;for(var n=0,i=-1,a=t.length,r;n<a;++n){if(r=t[n],(!e.type||r.type===e.type)&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.capture)}else{t[++i]=r}}if(++i)t.length=i;else delete this.__on}}function Xt(e,t,n){var i=jt.hasOwnProperty(e.type)?qt:Wt;return function(a,r,s){var o=this.__on,l,c=i(t,r,s);if(o)for(var u=0,d=o.length;u<d;++u){if((l=o[u]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture);this.addEventListener(l.type,l.listener=c,l.capture=n);l.value=t;return}}this.addEventListener(e.type,c,n);l={type:e.type,name:e.name,value:t,listener:c,capture:n};if(!o)this.__on=[l];else o.push(l)}}var Qt=function(e,t,n){var i=Kt(e+""),a,r=i.length,s;if(arguments.length<2){var o=this.node().__on;if(o)for(var l=0,c=o.length,u;l<c;++l){for(a=0,u=o[l];a<r;++a){if((s=i[a]).type===u.type&&s.name===u.name){return u.value}}}return}o=t?Xt:Jt;if(n==null)n=false;for(a=0;a<r;++a)this.each(o(i[a],t,n));return this};function Zt(t,n,i,a){var r=e.event;t.sourceEvent=e.event;e.event=t;try{return n.apply(i,a)}finally{e.event=r}}var en=function(){var t=e.event,n;while(n=t.sourceEvent)t=n;return t};var tn=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();i.x=t.clientX,i.y=t.clientY;i=i.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]};var nn=function(e){var t=en();if(t.changedTouches)t=t.changedTouches[0];return tn(e,t)};function an(){}var rn=function(e){return e==null?an:function(){return this.querySelector(e)}};var sn=function(e){if(typeof e!=="function")e=rn(e);for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a){for(var r=t[a],s=r.length,o=i[a]=new Array(s),l,c,u=0;u<s;++u){if((l=r[u])&&(c=e.call(l,l.__data__,u,r))){if("__data__"in l)c.__data__=l.__data__;o[u]=c}}}return new Ei(i,this._parents)};function on(){return[]}var ln=function(e){return e==null?on:function(){return this.querySelectorAll(e)}};var cn=function(e){if(typeof e!=="function")e=ln(e);for(var t=this._groups,n=t.length,i=[],a=[],r=0;r<n;++r){for(var s=t[r],o=s.length,l,c=0;c<o;++c){if(l=s[c]){i.push(e.call(l,l.__data__,c,s));a.push(l)}}}return new Ei(i,a)};var un=function(e){if(typeof e!=="function")e=$t(e);for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a){for(var r=t[a],s=r.length,o=i[a]=[],l,c=0;c<s;++c){if((l=r[c])&&e.call(l,l.__data__,c,r)){o.push(l)}}}return new Ei(i,this._parents)};var dn=function(e){return new Array(e.length)};var fn=function(){return new Ei(this._enter||this._groups.map(dn),this._parents)};function pn(e,t){this.ownerDocument=e.ownerDocument;this.namespaceURI=e.namespaceURI;this._next=null;this._parent=e;this.__data__=t}pn.prototype={constructor:pn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var hn=function(e){return function(){return e}};var mn="$";function _n(e,t,n,i,a,r){var s=0,o,l=t.length,c=r.length;for(;s<c;++s){if(o=t[s]){o.__data__=r[s];i[s]=o}else{n[s]=new pn(e,r[s])}}for(;s<l;++s){if(o=t[s]){a[s]=o}}}function gn(e,t,n,i,a,r,s){var o,l,c={},u=t.length,d=r.length,f=new Array(u),p;for(o=0;o<u;++o){if(l=t[o]){f[o]=p=mn+s.call(l,l.__data__,o,t);if(p in c){a[o]=l}else{c[p]=l}}}for(o=0;o<d;++o){p=mn+s.call(e,r[o],o,r);if(l=c[p]){i[o]=l;l.__data__=r[o];c[p]=null}else{n[o]=new pn(e,r[o])}}for(o=0;o<u;++o){if((l=t[o])&&c[f[o]]===l){a[o]=l}}}var vn=function(e,t){if(!e){p=new Array(this.size()),c=-1;this.each(function(e){p[++c]=e});return p}var n=t?gn:_n,i=this._parents,a=this._groups;if(typeof e!=="function")e=hn(e);for(var r=a.length,s=new Array(r),o=new Array(r),l=new Array(r),c=0;c<r;++c){var u=i[c],d=a[c],f=d.length,p=e.call(u,u&&u.__data__,c,i),h=p.length,m=o[c]=new Array(h),_=s[c]=new Array(h),g=l[c]=new Array(f);n(u,d,m,_,g,p,t);for(var v=0,b=0,y,x;v<h;++v){if(y=m[v]){if(v>=b)b=v+1;while(!(x=_[b])&&++b<h);y._next=x||null}}}s=new Ei(s,i);s._enter=o;s._exit=l;return s};var bn=function(){return new Ei(this._exit||this._groups.map(dn),this._parents)};var yn=function(e){for(var t=this._groups,n=e._groups,i=t.length,a=n.length,r=Math.min(i,a),s=new Array(i),o=0;o<r;++o){for(var l=t[o],c=n[o],u=l.length,d=s[o]=new Array(u),f,p=0;p<u;++p){if(f=l[p]||c[p]){d[p]=f}}}for(;o<i;++o){s[o]=t[o]}return new Ei(s,this._parents)};var xn=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;){for(var i=e[t],a=i.length-1,r=i[a],s;--a>=0;){if(s=i[a]){if(r&&r!==s.nextSibling)r.parentNode.insertBefore(s,r);r=s}}}return this};var wn=function(e){if(!e)e=Sn;function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,i=n.length,a=new Array(i),r=0;r<i;++r){for(var s=n[r],o=s.length,l=a[r]=new Array(o),c,u=0;u<o;++u){if(c=s[u]){l[u]=c}}l.sort(t)}return new Ei(a,this._parents).order()};function Sn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Ln=function(){var e=arguments[0];arguments[0]=this;e.apply(null,arguments);return this};var En=function(){var e=new Array(this.size()),t=-1;this.each(function(){e[++t]=this});return e};var kn=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t){for(var i=e[t],a=0,r=i.length;a<r;++a){var s=i[a];if(s)return s}}return null};var Mn=function(){var e=0;this.each(function(){++e});return e};var Tn=function(){return!this.node()};var An=function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n){for(var a=t[n],r=0,s=a.length,o;r<s;++r){if(o=a[r])e.call(o,o.__data__,r,a)}}return this};function Cn(e){return function(){this.removeAttribute(e)}}function Dn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rn(e,t){return function(){this.setAttribute(e,t)}}function In(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function On(e,t){return function(){var n=t.apply(this,arguments);if(n==null)this.removeAttribute(e);else this.setAttribute(e,n)}}function Fn(e,t){return function(){var n=t.apply(this,arguments);if(n==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,n)}}var Nn=function(e,t){var n=Ot(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Dn:Cn:typeof t==="function"?n.local?Fn:On:n.local?In:Rn)(n,t))};var Bn=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function Pn(e){return function(){this.style.removeProperty(e)}}function Un(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Yn(e,t,n){return function(){var i=t.apply(this,arguments);if(i==null)this.style.removeProperty(e);else this.style.setProperty(e,i,n)}}var Hn=function(e,t,n){return arguments.length>1?this.each((t==null?Pn:typeof t==="function"?Yn:Un)(e,t,n==null?"":n)):Gn(this.node(),e)};function Gn(e,t){return e.style.getPropertyValue(t)||Bn(e).getComputedStyle(e,null).getPropertyValue(t)}function Vn(e){return function(){delete this[e]}}function $n(e,t){return function(){this[e]=t}}function jn(e,t){return function(){var n=t.apply(this,arguments);if(n==null)delete this[e];else this[e]=n}}var zn=function(e,t){return arguments.length>1?this.each((t==null?Vn:typeof t==="function"?jn:$n)(e,t)):this.node()[e]};function qn(e){return e.trim().split(/^|\s+/)}function Wn(e){return e.classList||new Kn(e)}function Kn(e){this._node=e;this._names=qn(e.getAttribute("class")||"")}Kn.prototype={add:function(e){var t=this._names.indexOf(e);if(t<0){this._names.push(e);this._node.setAttribute("class",this._names.join(" "))}},remove:function(e){var t=this._names.indexOf(e);if(t>=0){this._names.splice(t,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(e){return this._names.indexOf(e)>=0}};function Jn(e,t){var n=Wn(e),i=-1,a=t.length;while(++i<a)n.add(t[i])}function Xn(e,t){var n=Wn(e),i=-1,a=t.length;while(++i<a)n.remove(t[i])}function Qn(e){return function(){Jn(this,e)}}function Zn(e){return function(){Xn(this,e)}}function ei(e,t){return function(){(t.apply(this,arguments)?Jn:Xn)(this,e)}}var ti=function(e,t){var n=qn(e+"");if(arguments.length<2){var i=Wn(this.node()),a=-1,r=n.length;while(++a<r)if(!i.contains(n[a]))return false;return true}return this.each((typeof t==="function"?ei:t?Qn:Zn)(n,t))};function ni(){this.textContent=""}function ii(e){return function(){this.textContent=e}}function ai(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}var ri=function(e){return arguments.length?this.each(e==null?ni:(typeof e==="function"?ai:ii)(e)):this.node().textContent};function si(){this.innerHTML=""}function oi(e){return function(){this.innerHTML=e}}function li(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}var ci=function(e){return arguments.length?this.each(e==null?si:(typeof e==="function"?li:oi)(e)):this.node().innerHTML};function ui(){if(this.nextSibling)this.parentNode.appendChild(this)}var di=function(){return this.each(ui)};function fi(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}var pi=function(){return this.each(fi)};var hi=function(e){var t=typeof e==="function"?e:Bt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})};function mi(){return null}var _i=function(e,t){var n=typeof e==="function"?e:Bt(e),i=t==null?mi:typeof t==="function"?t:rn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})};function gi(){var e=this.parentNode;if(e)e.removeChild(this)}var vi=function(){return this.each(gi)};var bi=function(e){return arguments.length?this.property("__data__",e):this.node().__data__};function yi(e,t,n){var i=Bn(e),a=i.CustomEvent;if(typeof a==="function"){a=new a(t,n)}else{a=i.document.createEvent("Event");if(n)a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail;else a.initEvent(t,false,false)}e.dispatchEvent(a)}function xi(e,t){return function(){return yi(this,e,t)}}function wi(e,t){return function(){return yi(this,e,t.apply(this,arguments))}}var Si=function(e,t){return this.each((typeof t==="function"?wi:xi)(e,t))};var Li=[null];function Ei(e,t){this._groups=e;this._parents=t}function ki(){return new Ei([[document.documentElement]],Li)}Ei.prototype=ki.prototype={constructor:Ei,select:sn,selectAll:cn,filter:un,data:vn,enter:fn,exit:bn,merge:yn,order:xn,sort:wn,call:Ln,nodes:En,node:kn,size:Mn,empty:Tn,each:An,attr:Nn,style:Hn,property:zn,classed:ti,text:ri,html:ci,raise:di,lower:pi,append:hi,insert:_i,remove:vi,datum:bi,on:Qt,dispatch:Si};var Mi=function(e){return typeof e==="string"?new Ei([[document.querySelector(e)]],[document.documentElement]):new Ei([[e]],Li)};var Ti=function(e){return typeof e==="string"?new Ei([document.querySelectorAll(e)],[document.documentElement]):new Ei([e==null?[]:e],Li)};var Ai=function(e,t,n){if(arguments.length<3)n=t,t=en().changedTouches;for(var i=0,a=t?t.length:0,r;i<a;++i){if((r=t[i]).identifier===n){return tn(e,r)}}return null};var Ci=function(e,t){if(t==null)t=en().touches;for(var n=0,i=t?t.length:0,a=new Array(i);n<i;++n){a[n]=tn(e,t[n])}return a};function Di(){e.event.stopImmediatePropagation()}var Ri=function(){e.event.preventDefault();e.event.stopImmediatePropagation()};var Ii=function(e){var t=e.document.documentElement,n=Mi(e).on("dragstart.drag",Ri,true);if("onselectstart"in t){n.on("selectstart.drag",Ri,true)}else{t.__noselect=t.style.MozUserSelect;t.style.MozUserSelect="none"}};function Oi(e,t){var n=e.document.documentElement,i=Mi(e).on("dragstart.drag",null);if(t){i.on("click.drag",Ri,true);setTimeout(function(){i.on("click.drag",null)},0)}if("onselectstart"in n){i.on("selectstart.drag",null)}else{n.style.MozUserSelect=n.__noselect;delete n.__noselect}}var Fi=function(e){return function(){return e}};function Ni(e,t,n,i,a,r,s,o,l,c){this.target=e;this.type=t;this.subject=n;this.identifier=i;this.active=a;this.x=r;this.y=s;this.dx=o;this.dy=l;this._=c}Ni.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Bi(){return!e.event.button}function Pi(){return this.parentNode}function Ui(t){return t==null?{x:e.event.x,y:e.event.y}:t}var Yi=function(){var t=Bi,n=Pi,i=Ui,a={},r=Mt("start","drag","end"),s=0,o,l,c,u,d=0;function f(e){e.on("mousedown.drag",p).on("touchstart.drag",_).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",v).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(u||!t.apply(this,arguments))return;var i=b("mouse",n.apply(this,arguments),nn,this,arguments);if(!i)return;Mi(e.event.view).on("mousemove.drag",h,true).on("mouseup.drag",m,true);Ii(e.event.view);Di();c=false;o=e.event.clientX;l=e.event.clientY;i("start")}function h(){Ri();if(!c){var t=e.event.clientX-o,n=e.event.clientY-l;c=t*t+n*n>d}a.mouse("drag")}function m(){Mi(e.event.view).on("mousemove.drag mouseup.drag",null);Oi(e.event.view,c);Ri();a.mouse("end")}function _(){if(!t.apply(this,arguments))return;var i=e.event.changedTouches,a=n.apply(this,arguments),r=i.length,s,o;for(s=0;s<r;++s){if(o=b(i[s].identifier,a,Ai,this,arguments)){Di();o("start")}}}function g(){var t=e.event.changedTouches,n=t.length,i,r;for(i=0;i<n;++i){if(r=a[t[i].identifier]){Ri();r("drag")}}}function v(){var t=e.event.changedTouches,n=t.length,i,r;if(u)clearTimeout(u);u=setTimeout(function(){u=null},500);for(i=0;i<n;++i){if(r=a[t[i].identifier]){Di();r("end")}}}function b(t,n,o,l,c){var u=o(n,t),d,p,h,m=r.copy();if(!Zt(new Ni(f,"beforestart",d,t,s,u[0],u[1],0,0,m),function(){if((e.event.subject=d=i.apply(l,c))==null)return false;p=d.x-u[0]||0;h=d.y-u[1]||0;return true}))return;return function e(i){var r=u,_;switch(i){case"start":a[t]=e,_=s++;break;case"end":delete a[t],--s;case"drag":u=o(n,t),_=s;break}Zt(new Ni(f,i,d,t,_,u[0]+p,u[1]+h,u[0]-r[0],u[1]-r[1],m),m.apply,m,[i,l,c])}}f.filter=function(e){return arguments.length?(t=typeof e==="function"?e:Fi(!!e),f):t};f.container=function(e){return arguments.length?(n=typeof e==="function"?e:Fi(e),f):n};f.subject=function(e){return arguments.length?(i=typeof e==="function"?e:Fi(e),f):i};f.on=function(){var e=r.on.apply(r,arguments);return e===r?f:e};f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)};return f};function Hi(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function Gi(e,t){var n=Hi(e);return function(i,a){return t(n(i),a,e)}}function Vi(e){var t=Object.create(null),n=[];e.forEach(function(e){for(var i in e){if(!(i in t)){n.push(t[i]=i)}}});return n}var $i=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function i(e,t){var n,i,r=a(e,function(e,a){if(n)return n(e,a-1);i=e,n=t?Gi(e,t):Hi(e)});r.columns=i;return r}function a(e,t){var i={},a={},r=[],s=e.length,o=0,l=0,c,u;function d(){if(o>=s)return a;if(u)return u=false,i;var t=o,r;if(e.charCodeAt(t)===34){var l=t;while(l++<s){if(e.charCodeAt(l)===34){if(e.charCodeAt(l+1)!==34)break;++l}}o=l+2;r=e.charCodeAt(l+1);if(r===13){u=true;if(e.charCodeAt(l+2)===10)++o}else if(r===10){u=true}return e.slice(t+1,l).replace(/""/g,'"')}while(o<s){var c=1;r=e.charCodeAt(o++);if(r===10)u=true;else if(r===13){u=true;if(e.charCodeAt(o)===10)++o,++c}else if(r!==n)continue;return e.slice(t,o-c)}return e.slice(t)}while((c=d())!==a){var f=[];while(c!==i&&c!==a){f.push(c);c=d()}if(t&&(f=t(f,l++))==null)continue;r.push(f)}return r}function r(t,n){if(n==null)n=Vi(t);return[n.map(l).join(e)].concat(t.map(function(t){return n.map(function(e){return l(t[e])}).join(e)})).join("\n")}function s(e){return e.map(o).join("\n")}function o(t){return t.map(l).join(e)}function l(e){return e==null?"":t.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}return{parse:i,parseRows:a,format:r,formatRows:s}};var ji=$i(",");var zi=ji.parse;var qi=ji.parseRows;var Wi=ji.format;var Ki=ji.formatRows;var Ji=$i("\t");var Xi=Ji.parse;var Qi=Ji.parseRows;var Zi=Ji.format;var ea=Ji.formatRows;function ta(e){return+e}function na(e){return e*e}function ia(e){return e*(2-e)}function aa(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function ra(e){return e*e*e}function sa(e){return--e*e*e+1}function oa(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var la=3;var ca=function e(t){t=+t;function n(e){return Math.pow(e,t)}n.exponent=e;return n}(la);var ua=function e(t){t=+t;function n(e){return 1-Math.pow(1-e,t)}n.exponent=e;return n}(la);var da=function e(t){t=+t;function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}n.exponent=e;return n}(la);var fa=Math.PI;var pa=fa/2;function ha(e){return 1-Math.cos(e*pa)}function ma(e){return Math.sin(e*pa)}function _a(e){return(1-Math.cos(fa*e))/2}function ga(e){return Math.pow(2,10*e-10)}function va(e){return 1-Math.pow(2,-10*e)}function ba(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function ya(e){return 1-Math.sqrt(1-e*e)}function xa(e){return Math.sqrt(1- --e*e)}function wa(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Sa=4/11;var La=6/11;var Ea=8/11;var ka=3/4;var Ma=9/11;var Ta=10/11;var Aa=15/16;var Ca=21/22;var Da=63/64;var Ra=1/Sa/Sa;function Ia(e){return 1-Oa(1-e)}function Oa(e){return(e=+e)<Sa?Ra*e*e:e<Ea?Ra*(e-=La)*e+ka:e<Ta?Ra*(e-=Ma)*e+Aa:Ra*(e-=Ca)*e+Da}function Fa(e){return((e*=2)<=1?1-Oa(1-e):Oa(e-1)+1)/2}var Na=1.70158;var Ba=function e(t){t=+t;function n(e){return e*e*((t+1)*e-t)}n.overshoot=e;return n}(Na);var Pa=function e(t){t=+t;function n(e){return--e*e*((t+1)*e+t)+1}n.overshoot=e;return n}(Na);var Ua=function e(t){t=+t;function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}n.overshoot=e;return n}(Na);var Ya=2*Math.PI;var Ha=1;var Ga=.3;var Va=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Ya);function a(e){return t*Math.pow(2,10*--e)*Math.sin((i-e)/n)}a.amplitude=function(t){return e(t,n*Ya)};a.period=function(n){return e(t,n)};return a}(Ha,Ga);var $a=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Ya);function a(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+i)/n)}a.amplitude=function(t){return e(t,n*Ya)};a.period=function(n){return e(t,n)};return a}(Ha,Ga);var ja=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Ya);function a(e){return((e=e*2-1)<0?t*Math.pow(2,10*e)*Math.sin((i-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((i+e)/n))/2}a.amplitude=function(t){return e(t,n*Ya)};a.period=function(n){return e(t,n)};return a}(Ha,Ga);var za=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]};var qa=function(e){return e=za(Math.abs(e)),e?e[1]:NaN};var Wa=function(e,t){return function(n,i){var a=n.length,r=[],s=0,o=e[0],l=0;while(a>0&&o>0){if(l+o+1>i)o=Math.max(1,i-l);r.push(n.substring(a-=o,a+o));if((l+=o+1)>i)break;o=e[s=(s+1)%e.length]}return r.reverse().join(t)}};var Ka=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}};var Ja=function(e,t){e=e.toPrecision(t);e:for(var n=e.length,i=1,a=-1,r;i<n;++i){switch(e[i]){case".":a=r=i;break;case"0":if(a===0)a=i;r=i;break;case"e":break e;default:if(a>0)a=0;break}}return a>0?e.slice(0,a)+e.slice(r+1):e};var Xa;var Qa=function(e,t){var n=za(e,t);if(!n)return e+"";var i=n[0],a=n[1],r=a-(Xa=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=i.length;return r===s?i:r>s?i+new Array(r-s+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+za(e,Math.max(0,t+r-1))[0]};var Za=function(e,t){var n=za(e,t);if(!n)return e+"";var i=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")};var er={"":Ja,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Za(e*100,t)},r:Za,s:Qa,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var tr=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function nr(e){return new ir(e)}nr.prototype=ir.prototype;function ir(e){if(!(t=tr.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",a=t[3]||"-",r=t[4]||"",s=!!t[5],o=t[6]&&+t[6],l=!!t[7],c=t[8]&&+t[8].slice(1),u=t[9]||"";if(u==="n")l=true,u="g";else if(!er[u])u="";if(s||n==="0"&&i==="=")s=true,n="0",i="=";this.fill=n;this.align=i;this.sign=a;this.symbol=r;this.zero=s;this.width=o;this.comma=l;this.precision=c;this.type=u}ir.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var ar=function(e){return e};var rr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];var sr=function(e){var t=e.grouping&&e.thousands?Wa(e.grouping,e.thousands):ar,n=e.currency,i=e.decimal,a=e.numerals?Ka(e.numerals):ar,r=e.percent||"%";function s(e){e=nr(e);var s=e.fill,o=e.align,l=e.sign,c=e.symbol,u=e.zero,d=e.width,f=e.comma,p=e.precision,h=e.type;var m=c==="$"?n[0]:c==="#"&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",_=c==="$"?n[1]:/[%p]/.test(h)?r:"";var g=er[h],v=!h||/[defgprs%]/.test(h);p=p==null?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function b(e){var n=m,r=_,c,b,y;if(h==="c"){r=g(e)+r;e=""}else{e=+e;var x=e<0;e=g(Math.abs(e),p);if(x&&+e===0)x=false;n=(x?l==="("?l:"-":l==="-"||l==="("?"":l)+n;r=r+(h==="s"?rr[8+Xa/3]:"")+(x&&l==="("?")":"");if(v){c=-1,b=e.length;while(++c<b){if(y=e.charCodeAt(c),48>y||y>57){r=(y===46?i+e.slice(c+1):e.slice(c))+r;e=e.slice(0,c);break}}}}if(f&&!u)e=t(e,Infinity);var w=n.length+e.length+r.length,S=w<d?new Array(d-w+1).join(s):"";if(f&&u)e=t(S+e,S.length?d-r.length:Infinity),S="";switch(o){case"<":e=n+e+r+S;break;case"=":e=n+S+e+r;break;case"^":e=S.slice(0,w=S.length>>1)+n+e+r+S.slice(w);break;default:e=S+n+e+r;break}return a(e)}b.toString=function(){return e+""};return b}function o(e,t){var n=s((e=nr(e),e.type="f",e)),i=Math.max(-8,Math.min(8,Math.floor(qa(t)/3)))*3,a=Math.pow(10,-i),r=rr[8+i/3];return function(e){return n(a*e)+r}}return{format:s,formatPrefix:o}};var or;lr({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function lr(t){or=sr(t);e.format=or.format;e.formatPrefix=or.formatPrefix;return or}var cr=function(e){return Math.max(0,-qa(Math.abs(e)))};var ur=function(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qa(t)/3)))*3-qa(Math.abs(e)))};var dr=function(e,t){e=Math.abs(e),t=Math.abs(t)-e;return Math.max(0,qa(t)-qa(e))+1};function fr(e,t){return e.parent===t.parent?1:2}function pr(e){return e.reduce(hr,0)/e.length}function hr(e,t){return e+t.x}function mr(e){return 1+e.reduce(_r,0)}function _r(e,t){return Math.max(e,t.y)}function gr(e){var t;while(t=e.children)e=t[0];return e}function vr(e){var t;while(t=e.children)e=t[t.length-1];return e}var br=function(){var e=fr,t=1,n=1,i=false;function a(a){var r,s=0;a.eachAfter(function(t){var n=t.children;if(n){t.x=pr(n);t.y=mr(n)}else{t.x=r?s+=e(t,r):0;t.y=0;r=t}});var o=gr(a),l=vr(a),c=o.x-e(o,l)/2,u=l.x+e(l,o)/2;return a.eachAfter(i?function(e){e.x=(e.x-a.x)*t;e.y=(a.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t;e.y=(1-(a.y?e.y/a.y:1))*n})}a.separation=function(t){return arguments.length?(e=t,a):e};a.size=function(e){return arguments.length?(i=false,t=+e[0],n=+e[1],a):i?null:[t,n]};a.nodeSize=function(e){return arguments.length?(i=true,t=+e[0],n=+e[1],a):i?[t,n]:null};return a};function yr(e){var t=0,n=e.children,i=n&&n.length;if(!i)t=1;else while(--i>=0)t+=n[i].value;e.value=t}var xr=function(){return this.eachAfter(yr)};var wr=function(e){var t=this,n,i=[t],a,r,s;do{n=i.reverse(),i=[];while(t=n.pop()){e(t),a=t.children;if(a)for(r=0,s=a.length;r<s;++r){i.push(a[r])}}}while(i.length);return this};var Sr=function(e){var t=this,n=[t],i,a;while(t=n.pop()){e(t),i=t.children;if(i)for(a=i.length-1;a>=0;--a){n.push(i[a])}}return this};var Lr=function(e){var t=this,n=[t],i=[],a,r,s;while(t=n.pop()){i.push(t),a=t.children;if(a)for(r=0,s=a.length;r<s;++r){n.push(a[r])}}while(t=i.pop()){e(t)}return this};var Er=function(e){return this.eachAfter(function(t){var n=+e(t.data)||0,i=t.children,a=i&&i.length;while(--a>=0)n+=i[a].value;t.value=n})};var kr=function(e){return this.eachBefore(function(t){if(t.children){t.children.sort(e)}})};var Mr=function(e){var t=this,n=Tr(t,e),i=[t];while(t!==n){t=t.parent;i.push(t)}var a=i.length;while(e!==n){i.splice(a,0,e);e=e.parent}return i};function Tr(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),a=null;e=n.pop();t=i.pop();while(e===t){a=e;e=n.pop();t=i.pop()}return a}var Ar=function(){var e=this,t=[e];while(e=e.parent){t.push(e)}return t};var Cr=function(){var e=[];this.each(function(t){e.push(t)});return e};var Dr=function(){var e=[];this.eachBefore(function(t){if(!t.children){e.push(t)}});return e};var Rr=function(){var e=this,t=[];e.each(function(n){if(n!==e){t.push({source:n.parent,target:n})}});return t};function Ir(e,t){var n=new Pr(e),i=+e.value&&(n.value=e.value),a,r=[n],s,o,l,c;if(t==null)t=Fr;while(a=r.pop()){if(i)a.value=+a.data.value;if((o=t(a.data))&&(c=o.length)){a.children=new Array(c);for(l=c-1;l>=0;--l){r.push(s=a.children[l]=new Pr(o[l]));s.parent=a;s.depth=a.depth+1}}}return n.eachBefore(Br)}function Or(){return Ir(this).eachBefore(Nr)}function Fr(e){return e.children}function Nr(e){e.data=e.data.data}function Br(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Pr(e){this.data=e;this.depth=this.height=0;this.parent=null}Pr.prototype=Ir.prototype={constructor:Pr,count:xr,each:wr,eachAfter:Lr,eachBefore:Sr,sum:Er,sort:kr,path:Mr,ancestors:Ar,descendants:Cr,leaves:Dr,links:Rr,copy:Or};function Ur(e){this._=e;this.next=null}var Yr=function(e){var t,n=(e=e.slice()).length,i=null,a=i;while(n){var r=new Ur(e[n-1]);if(a)a=a.next=r;else a=i=r;e[t]=e[--n]}return{head:i,tail:a}};var Hr=function(e){return Vr(Yr(e),[])};function Gr(e,t){var n=t.x-e.x,i=t.y-e.y,a=e.r-t.r;return a*a+1e-6>n*n+i*i}function Vr(e,t){var n,i=null,a=e.head,r,s;switch(t.length){case 1:n=$r(t[0]);break;case 2:n=jr(t[0],t[1]);break;case 3:n=zr(t[0],t[1],t[2]);break}while(a){s=a._,r=a.next;if(!n||!Gr(n,s)){if(i)e.tail=i,i.next=null;else e.head=e.tail=null;t.push(s);n=Vr(e,t);t.pop();if(e.head)a.next=e.head,e.head=a;else a.next=null,e.head=e.tail=a;i=e.tail,i.next=r}else{i=a}a=r}e.tail=i;return n}function $r(e){return{x:e.x,y:e.y,r:e.r}}function jr(e,t){var n=e.x,i=e.y,a=e.r,r=t.x,s=t.y,o=t.r,l=r-n,c=s-i,u=o-a,d=Math.sqrt(l*l+c*c);return{x:(n+r+l/d*u)/2,y:(i+s+c/d*u)/2,r:(d+a+o)/2}}function zr(e,t,n){var i=e.x,a=e.y,r=e.r,s=t.x,o=t.y,l=t.r,c=n.x,u=n.y,d=n.r,f=2*(i-s),p=2*(a-o),h=2*(l-r),m=i*i+a*a-r*r-s*s-o*o+l*l,_=2*(i-c),g=2*(a-u),v=2*(d-r),b=i*i+a*a-r*r-c*c-u*u+d*d,y=_*p-f*g,x=(p*b-g*m)/y-i,w=(g*h-p*v)/y,S=(_*m-f*b)/y-a,L=(f*v-_*h)/y,E=w*w+L*L-1,k=2*(x*w+S*L+r),M=x*x+S*S-r*r,T=(-k-Math.sqrt(k*k-4*E*M))/(2*E);return{x:x+w*T+i,y:S+L*T+a,r:T}}function qr(e,t,n){var i=e.x,a=e.y,r=t.r+n.r,s=e.r+n.r,o=t.x-i,l=t.y-a,c=o*o+l*l;if(c){var u=.5+((s*=s)-(r*=r))/(2*c),d=Math.sqrt(Math.max(0,2*r*(s+c)-(s-=c)*s-r*r))/(2*c);n.x=i+u*o+d*l;n.y=a+u*l-d*o}else{n.x=i+s;n.y=a}}function Wr(e,t){var n=t.x-e.x,i=t.y-e.y,a=e.r+t.r;return a*a-1e-6>n*n+i*i}function Kr(e,t,n){var i=e._,a=e.next._,r=i.r+a.r,s=(i.x*a.r+a.x*i.r)/r-t,o=(i.y*a.r+a.y*i.r)/r-n;return s*s+o*o}function Jr(e){this._=e;this.next=null;this.previous=null}function Xr(e){if(!(a=e.length))return 0;var t,n,i,a;t=e[0],t.x=0,t.y=0;if(!(a>1))return t.r;n=e[1],t.x=-n.r,n.x=t.r,n.y=0;if(!(a>2))return t.r+n.r;qr(n,t,i=e[2]);var r=t.r*t.r,s=n.r*n.r,o=i.r*i.r,l=r+s+o,c=r*t.x+s*n.x+o*i.x,u=r*t.y+s*n.y+o*i.y,d,f,p,h,m,_,g;t=new Jr(t),n=new Jr(n),i=new Jr(i);t.next=i.previous=n;n.next=t.previous=i;i.next=n.previous=t;e:for(p=3;p<a;++p){qr(t._,n._,i=e[p]),i=new Jr(i);h=n.next,m=t.previous,_=n._.r,g=t._.r;do{if(_<=g){if(Wr(h._,i._)){n=h,t.next=n,n.previous=t,--p;continue e}_+=h._.r,h=h.next}else{if(Wr(m._,i._)){t=m,t.next=n,n.previous=t,--p;continue e}g+=m._.r,m=m.previous}}while(h!==m.next);i.previous=t,i.next=n,t.next=n.previous=n=i;l+=o=i._.r*i._.r;c+=o*i._.x;u+=o*i._.y;r=Kr(t,d=c/l,f=u/l);while((i=i.next)!==n){if((o=Kr(i,d,f))<r){t=i,r=o}}n=t.next}t=[n._],i=n;while((i=i.next)!==n)t.push(i._);i=Hr(t);for(p=0;p<a;++p)t=e[p],t.x-=i.x,t.y-=i.y;return i.r}var Qr=function(e){Xr(e);return e};function Zr(e){return e==null?null:es(e)}function es(e){if(typeof e!=="function")throw new Error;return e}function ts(){return 0}var ns=function(e){return function(){return e}};function is(e){return Math.sqrt(e.value)}var as=function(){var e=null,t=1,n=1,i=ts;function a(a){a.x=t/2,a.y=n/2;if(e){a.eachBefore(rs(e)).eachAfter(ss(i,.5)).eachBefore(os(1))}else{a.eachBefore(rs(is)).eachAfter(ss(ts,1)).eachAfter(ss(i,a.r/Math.min(t,n))).eachBefore(os(Math.min(t,n)/(2*a.r)))}return a}a.radius=function(t){return arguments.length?(e=Zr(t),a):e};a.size=function(e){return arguments.length?(t=+e[0],n=+e[1],a):[t,n]};a.padding=function(e){return arguments.length?(i=typeof e==="function"?e:ns(+e),a):i};return a};function rs(e){return function(t){if(!t.children){t.r=Math.max(0,+e(t)||0)}}}function ss(e,t){return function(n){if(i=n.children){var i,a,r=i.length,s=e(n)*t||0,o;if(s)for(a=0;a<r;++a)i[a].r+=s;o=Xr(i);if(s)for(a=0;a<r;++a)i[a].r-=s;n.r=o+s}}}function os(e){return function(t){var n=t.parent;t.r*=e;if(n){t.x=n.x+e*t.x;t.y=n.y+e*t.y}}}var ls=function(e){e.x0=Math.round(e.x0);e.y0=Math.round(e.y0);e.x1=Math.round(e.x1);e.y1=Math.round(e.y1)};var cs=function(e,t,n,i,a){var r=e.children,s,o=-1,l=r.length,c=e.value&&(i-t)/e.value;while(++o<l){s=r[o],s.y0=n,s.y1=a;s.x0=t,s.x1=t+=s.value*c}};var us=function(){var e=1,t=1,n=0,i=false;function a(a){var s=a.height+1;a.x0=a.y0=n;a.x1=e;a.y1=t/s;a.eachBefore(r(t,s));if(i)a.eachBefore(ls);return a}function r(e,t){return function(i){if(i.children){cs(i,i.x0,e*(i.depth+1)/t,i.x1,e*(i.depth+2)/t)}var a=i.x0,r=i.y0,s=i.x1-n,o=i.y1-n;if(s<a)a=s=(a+s)/2;if(o<r)r=o=(r+o)/2;i.x0=a;i.y0=r;i.x1=s;i.y1=o}}a.round=function(e){return arguments.length?(i=!!e,a):i};a.size=function(n){return arguments.length?(e=+n[0],t=+n[1],a):[e,t]};a.padding=function(e){return arguments.length?(n=+e,a):n};return a};var ds="$";var fs={depth:-1};var ps={};function hs(e){return e.id}function ms(e){return e.parentId}var _s=function(){var e=hs,t=ms;function n(n){var i,a,r=n.length,s,o,l,c=new Array(r),u,d,f={};for(a=0;a<r;++a){i=n[a],l=c[a]=new Pr(i);if((u=e(i,a,n))!=null&&(u+="")){d=ds+(l.id=u);f[d]=d in f?ps:l}}for(a=0;a<r;++a){l=c[a],u=t(n[a],a,n);if(u==null||!(u+="")){if(s)throw new Error("multiple roots");s=l}else{o=f[ds+u];if(!o)throw new Error("missing: "+u);if(o===ps)throw new Error("ambiguous: "+u);if(o.children)o.children.push(l);else o.children=[l];l.parent=o}}if(!s)throw new Error("no root");s.parent=fs;s.eachBefore(function(e){e.depth=e.parent.depth+1;--r}).eachBefore(Br);s.parent=null;if(r>0)throw new Error("cycle");return s}n.id=function(t){return arguments.length?(e=es(t),n):e};n.parentId=function(e){return arguments.length?(t=es(e),n):t};return n};function gs(e,t){return e.parent===t.parent?1:2}function vs(e){var t=e.children;return t?t[0]:e.t}function bs(e){var t=e.children;return t?t[t.length-1]:e.t}function ys(e,t,n){var i=n/(t.i-e.i);t.c-=i;t.s+=n;e.c+=i;t.z+=n;t.m+=n}function xs(e){var t=0,n=0,i=e.children,a=i.length,r;while(--a>=0){r=i[a];r.z+=t;r.m+=t;t+=r.s+(n+=r.c)}}function ws(e,t,n){return e.a.parent===t.parent?e.a:n}function Ss(e,t){this._=e;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=t}Ss.prototype=Object.create(Pr.prototype);function Ls(e){var t=new Ss(e,0),n,i=[t],a,r,s,o;while(n=i.pop()){if(r=n._.children){n.children=new Array(o=r.length);for(s=o-1;s>=0;--s){i.push(a=n.children[s]=new Ss(r[s],s));a.parent=n}}}(t.parent=new Ss(null,0)).children=[t];return t}var Es=function(){var e=gs,t=1,n=1,i=null;function a(a){var o=Ls(a);o.eachAfter(r),o.parent.m=-o.z;o.eachBefore(s);if(i)a.eachBefore(l);else{var c=a,u=a,d=a;a.eachBefore(function(e){if(e.x<c.x)c=e;if(e.x>u.x)u=e;if(e.depth>d.depth)d=e});var f=c===u?1:e(c,u)/2,p=f-c.x,h=t/(u.x+f+p),m=n/(d.depth||1);a.eachBefore(function(e){e.x=(e.x+p)*h;e.y=e.depth*m})}return a}function r(t){var n=t.children,i=t.parent.children,a=t.i?i[t.i-1]:null;if(n){xs(t);var r=(n[0].z+n[n.length-1].z)/2;if(a){t.z=a.z+e(t._,a._);t.m=t.z-r}else{t.z=r}}else if(a){t.z=a.z+e(t._,a._)}t.parent.A=o(t,a,t.parent.A||i[0])}function s(e){e._.x=e.z+e.parent.m;e.m+=e.parent.m}function o(t,n,i){if(n){var a=t,r=t,s=n,o=a.parent.children[0],l=a.m,c=r.m,u=s.m,d=o.m,f;while(s=bs(s),a=vs(a),s&&a){o=vs(o);r=bs(r);r.a=t;f=s.z+u-a.z-l+e(s._,a._);if(f>0){ys(ws(s,t,i),t,f);l+=f;c+=f}u+=s.m;l+=a.m;d+=o.m;c+=r.m}if(s&&!bs(r)){r.t=s;r.m+=u-c}if(a&&!vs(o)){o.t=a;o.m+=l-d;i=t}}return i}function l(e){e.x*=t;e.y=e.depth*n}a.separation=function(t){return arguments.length?(e=t,a):e};a.size=function(e){return arguments.length?(i=false,t=+e[0],n=+e[1],a):i?null:[t,n]};a.nodeSize=function(e){return arguments.length?(i=true,t=+e[0],n=+e[1],a):i?[t,n]:null};return a};var ks=function(e,t,n,i,a){var r=e.children,s,o=-1,l=r.length,c=e.value&&(a-n)/e.value;while(++o<l){s=r[o],s.x0=t,s.x1=i;s.y0=n,s.y1=n+=s.value*c}};var Ms=(1+Math.sqrt(5))/2;function Ts(e,t,n,i,a,r){var s=[],o=t.children,l,c,u=0,d=0,f=o.length,p,h,m=t.value,_,g,v,b,y,x,w;while(u<f){p=a-n,h=r-i;do{_=o[d++].value}while(!_&&d<f);g=v=_;x=Math.max(h/p,p/h)/(m*e);w=_*_*x;y=Math.max(v/w,w/g);for(;d<f;++d){_+=c=o[d].value;if(c<g)g=c;if(c>v)v=c;w=_*_*x;b=Math.max(v/w,w/g);if(b>y){_-=c;break}y=b}s.push(l={value:_,dice:p<h,children:o.slice(u,d)});if(l.dice)cs(l,n,i,a,m?i+=h*_/m:r);else ks(l,n,i,m?n+=p*_/m:a,r);m-=_,u=d}return s}var As=function e(t){function n(e,n,i,a,r){Ts(t,e,n,i,a,r)}n.ratio=function(t){return e((t=+t)>1?t:1)};return n}(Ms);var Cs=function(){var e=As,t=false,n=1,i=1,a=[0],r=ts,s=ts,o=ts,l=ts,c=ts;function u(e){e.x0=e.y0=0;e.x1=n;e.y1=i;e.eachBefore(d);a=[0];if(t)e.eachBefore(ls);return e}function d(t){var n=a[t.depth],i=t.x0+n,u=t.y0+n,d=t.x1-n,f=t.y1-n;if(d<i)i=d=(i+d)/2;if(f<u)u=f=(u+f)/2;t.x0=i;t.y0=u;t.x1=d;t.y1=f;if(t.children){n=a[t.depth+1]=r(t)/2;i+=c(t)-n;u+=s(t)-n;d-=o(t)-n;f-=l(t)-n;if(d<i)i=d=(i+d)/2;if(f<u)u=f=(u+f)/2;e(t,i,u,d,f)}}u.round=function(e){return arguments.length?(t=!!e,u):t};u.size=function(e){return arguments.length?(n=+e[0],i=+e[1],u):[n,i]};u.tile=function(t){return arguments.length?(e=es(t),u):e};u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()};u.paddingInner=function(e){return arguments.length?(r=typeof e==="function"?e:ns(+e),u):r};u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()};u.paddingTop=function(e){return arguments.length?(s=typeof e==="function"?e:ns(+e),u):s};u.paddingRight=function(e){return arguments.length?(o=typeof e==="function"?e:ns(+e),u):o};u.paddingBottom=function(e){return arguments.length?(l=typeof e==="function"?e:ns(+e),u):l};u.paddingLeft=function(e){return arguments.length?(c=typeof e==="function"?e:ns(+e),u):c};return u};var Ds=function(e,t,n,i,a){var r=e.children,s,o=r.length,l,c=new Array(o+1);for(c[0]=l=s=0;s<o;++s){c[s+1]=l+=r[s].value}u(0,o,e.value,t,n,i,a);function u(e,t,n,i,a,s,o){if(e>=t-1){var l=r[e];l.x0=i,l.y0=a;l.x1=s,l.y1=o;return}var d=c[e],f=n/2+d,p=e+1,h=t-1;while(p<h){var m=p+h>>>1;if(c[m]<f)p=m+1;else h=m}if(f-c[p-1]<c[p]-f&&e+1<p)--p;var _=c[p]-d,g=n-_;if(s-i>o-a){var v=(i*g+s*_)/n;u(e,p,_,i,a,v,o);u(p,t,g,v,a,s,o)}else{var b=(a*g+o*_)/n;u(e,p,_,i,a,s,b);u(p,t,g,i,b,s,o)}}};var Rs=function(e,t,n,i,a){(e.depth&1?ks:cs)(e,t,n,i,a)};var Is=function e(t){function n(e,n,i,a,r){if((s=e._squarify)&&s.ratio===t){var s,o,l,c,u=-1,d,f=s.length,p=e.value;while(++u<f){o=s[u],l=o.children;for(c=o.value=0,d=l.length;c<d;++c)o.value+=l[c].value;if(o.dice)cs(o,n,i,a,i+=(r-i)*o.value/p);else ks(o,n,i,n+=(a-n)*o.value/p,r);p-=o.value}}else{e._squarify=s=Ts(t,e,n,i,a,r);s.ratio=t}}n.ratio=function(t){return e((t=+t)>1?t:1)};return n}(Ms);function Os(e,t,n,i,a){var r=e*e,s=r*e;return((1-3*e+3*r-s)*t+(4-6*r+3*s)*n+(1+3*e+3*r-3*s)*i+s*a)/6}var Fs=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],r=e[i+1],s=i>0?e[i-1]:2*a-r,o=i<t-1?e[i+2]:2*r-a;return Os((n-i/t)*t,s,a,r,o)}};var Ns=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),a=e[(i+t-1)%t],r=e[i%t],s=e[(i+1)%t],o=e[(i+2)%t];return Os((n-i/t)*t,a,r,s,o)}};var Bs=function(e){return function(){return e}};function Ps(e,t){return function(n){return e+n*t}}function Us(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Ys(e,t){var n=t-e;return n?Ps(e,n>180||n<-180?n-360*Math.round(n/360):n):Bs(isNaN(e)?t:e)}function Hs(e){return(e=+e)===1?Gs:function(t,n){return n-t?Us(t,n,e):Bs(isNaN(t)?n:t)}}function Gs(e,t){var n=t-e;return n?Ps(e,n):Bs(isNaN(e)?t:e)}var Vs=function e(t){var n=Hs(t);function i(e,t){var i=n((e=Ge(e)).r,(t=Ge(t)).r),a=n(e.g,t.g),r=n(e.b,t.b),s=Gs(e.opacity,t.opacity);return function(t){e.r=i(t);e.g=a(t);e.b=r(t);e.opacity=s(t);return e+""}}i.gamma=e;return i}(1);function $s(e){return function(t){var n=t.length,i=new Array(n),a=new Array(n),r=new Array(n),s,o;for(s=0;s<n;++s){o=Ge(t[s]);i[s]=o.r||0;a[s]=o.g||0;r[s]=o.b||0}i=e(i);a=e(a);r=e(r);o.opacity=1;return function(e){o.r=i(e);o.g=a(e);o.b=r(e);return o+""}}}var js=$s(Fs);var zs=$s(Ns);var qs=function(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(n),r=new Array(n),s;for(s=0;s<i;++s)a[s]=no(e[s],t[s]);for(;s<n;++s)r[s]=t[s];return function(e){for(s=0;s<i;++s)r[s]=a[s](e);return r}};var Ws=function(e,t){var n=new Date;return e=+e,t-=e,function(i){return n.setTime(e+t*i),n}};var Ks=function(e,t){return e=+e,t-=e,function(n){return e+t*n}};var Js=function(e,t){var n={},i={},a;if(e===null||typeof e!=="object")e={};if(t===null||typeof t!=="object")t={};for(a in t){if(a in e){n[a]=no(e[a],t[a])}else{i[a]=t[a]}}return function(e){for(a in n)i[a]=n[a](e);return i}};var Xs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;var Qs=new RegExp(Xs.source,"g");function Zs(e){return function(){return e}}function eo(e){return function(t){return e(t)+""}}var to=function(e,t){var n=Xs.lastIndex=Qs.lastIndex=0,i,a,r,s=-1,o=[],l=[];e=e+"",t=t+"";while((i=Xs.exec(e))&&(a=Qs.exec(t))){if((r=a.index)>n){r=t.slice(n,r);if(o[s])o[s]+=r;else o[++s]=r}if((i=i[0])===(a=a[0])){if(o[s])o[s]+=a;else o[++s]=a}else{o[++s]=null;l.push({i:s,x:Ks(i,a)})}n=Qs.lastIndex}if(n<t.length){r=t.slice(n);if(o[s])o[s]+=r;else o[++s]=r}return o.length<2?l[0]?eo(l[0].x):Zs(t):(t=l.length,function(e){for(var n=0,i;n<t;++n)o[(i=l[n]).i]=i.x(e);return o.join("")})};var no=function(e,t){var n=typeof t,i;return t==null||n==="boolean"?Bs(t):(n==="number"?Ks:n==="string"?(i=Pe(t))?(t=i,Vs):to:t instanceof Pe?Vs:t instanceof Date?Ws:Array.isArray(t)?qs:typeof t.valueOf!=="function"&&typeof t.toString!=="function"||isNaN(t)?Js:Ks)(e,t)};var io=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}};var ao=180/Math.PI;var ro={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};var so=function(e,t,n,i,a,r){var s,o,l;if(s=Math.sqrt(e*e+t*t))e/=s,t/=s;if(l=e*n+t*i)n-=e*l,i-=t*l;if(o=Math.sqrt(n*n+i*i))n/=o,i/=o,l/=o;if(e*i<t*n)e=-e,t=-t,l=-l,s=-s;return{translateX:a,translateY:r,rotate:Math.atan2(t,e)*ao,skewX:Math.atan(l)*ao,scaleX:s,scaleY:o}};var oo;var lo;var co;var uo;function fo(e){if(e==="none")return ro;if(!oo)oo=document.createElement("DIV"),lo=document.documentElement,co=document.defaultView;oo.style.transform=e;e=co.getComputedStyle(lo.appendChild(oo),null).getPropertyValue("transform");lo.removeChild(oo);e=e.slice(7,-1).split(",");return so(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5])}function po(e){if(e==null)return ro;if(!uo)uo=document.createElementNS("http://www.w3.org/2000/svg","g");uo.setAttribute("transform",e);if(!(e=uo.transform.baseVal.consolidate()))return ro;e=e.matrix;return so(e.a,e.b,e.c,e.d,e.e,e.f)}function ho(e,t,n,i){function a(e){return e.length?e.pop()+" ":""}function r(e,i,a,r,s,o){if(e!==a||i!==r){var l=s.push("translate(",null,t,null,n);o.push({i:l-4,x:Ks(e,a)},{i:l-2,x:Ks(i,r)})}else if(a||r){s.push("translate("+a+t+r+n)}}function s(e,t,n,r){if(e!==t){if(e-t>180)t+=360;else if(t-e>180)e+=360;r.push({i:n.push(a(n)+"rotate(",null,i)-2,x:Ks(e,t)})}else if(t){n.push(a(n)+"rotate("+t+i)}}function o(e,t,n,r){if(e!==t){r.push({i:n.push(a(n)+"skewX(",null,i)-2,x:Ks(e,t)})}else if(t){n.push(a(n)+"skewX("+t+i)}}function l(e,t,n,i,r,s){if(e!==n||t!==i){var o=r.push(a(r)+"scale(",null,",",null,")");s.push({i:o-4,x:Ks(e,n)},{i:o-2,x:Ks(t,i)})}else if(n!==1||i!==1){r.push(a(r)+"scale("+n+","+i+")")}}return function(t,n){var i=[],a=[];t=e(t),n=e(n);r(t.translateX,t.translateY,n.translateX,n.translateY,i,a);s(t.rotate,n.rotate,i,a);o(t.skewX,n.skewX,i,a);l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,i,a);t=n=null;return function(e){var t=-1,n=a.length,r;while(++t<n)i[(r=a[t]).i]=r.x(e);return i.join("")}}}var mo=ho(fo,"px, ","px)","deg)");var _o=ho(po,", ",")",")");var go=Math.SQRT2;var vo=2;var bo=4;var yo=1e-12;function xo(e){return((e=Math.exp(e))+1/e)/2}function wo(e){return((e=Math.exp(e))-1/e)/2}function So(e){return((e=Math.exp(2*e))-1)/(e+1)}var Lo=function(e,t){var n=e[0],i=e[1],a=e[2],r=t[0],s=t[1],o=t[2],l=r-n,c=s-i,u=l*l+c*c,d,f;if(u<yo){f=Math.log(o/a)/go;d=function(e){return[n+e*l,i+e*c,a*Math.exp(go*e*f)]}}else{var p=Math.sqrt(u),h=(o*o-a*a+bo*u)/(2*a*vo*p),m=(o*o-a*a-bo*u)/(2*o*vo*p),_=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(m*m+1)-m);f=(g-_)/go;d=function(e){var t=e*f,r=xo(_),s=a/(vo*p)*(r*So(go*t+_)-wo(_));return[n+s*l,i+s*c,a*r/xo(go*t+_)]}}d.duration=f*1e3;return d};function Eo(e){return function(t,n){var i=e((t=ze(t)).h,(n=ze(n)).h),a=Gs(t.s,n.s),r=Gs(t.l,n.l),s=Gs(t.opacity,n.opacity);return function(e){t.h=i(e);t.s=a(e);t.l=r(e);t.opacity=s(e);return t+""}}}var ko=Eo(Ys);var Mo=Eo(Gs);function To(e,t){var n=Gs((e=st(e)).l,(t=st(t)).l),i=Gs(e.a,t.a),a=Gs(e.b,t.b),r=Gs(e.opacity,t.opacity);return function(t){e.l=n(t);e.a=i(t);e.b=a(t);e.opacity=r(t);return e+""}}function Ao(e){return function(t,n){var i=e((t=pt(t)).h,(n=pt(n)).h),a=Gs(t.c,n.c),r=Gs(t.l,n.l),s=Gs(t.opacity,n.opacity);return function(e){t.h=i(e);t.c=a(e);t.l=r(e);t.opacity=s(e);return t+""}}}var Co=Ao(Ys);var Do=Ao(Gs);function Ro(e){return function t(n){n=+n;function i(t,i){var a=e((t=Lt(t)).h,(i=Lt(i)).h),r=Gs(t.s,i.s),s=Gs(t.l,i.l),o=Gs(t.opacity,i.opacity);return function(e){t.h=a(e);t.s=r(e);t.l=s(Math.pow(e,n));t.opacity=o(e);return t+""}}i.gamma=t;return i}(1)}var Io=Ro(Ys);var Oo=Ro(Gs);var Fo=function(e,t){var n=new Array(t);for(var i=0;i<t;++i)n[i]=e(i/(t-1));return n};var No=Math.PI;var Bo=2*No;var Po=1e-6;var Uo=Bo-Po;function Yo(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function Ho(){return new Yo}Yo.prototype=Ho.prototype={constructor:Yo,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,a,r){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+a)+","+(this._y1=+r)},arcTo:function(e,t,n,i,a){e=+e,t=+t,n=+n,i=+i,a=+a;var r=this._x1,s=this._y1,o=n-e,l=i-t,c=r-e,u=s-t,d=c*c+u*u;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null){this._+="M"+(this._x1=e)+","+(this._y1=t)}else if(!(d>Po)){}else if(!(Math.abs(u*o-l*c)>Po)||!a){this._+="L"+(this._x1=e)+","+(this._y1=t)}else{var f=n-r,p=i-s,h=o*o+l*l,m=f*f+p*p,_=Math.sqrt(h),g=Math.sqrt(d),v=a*Math.tan((No-Math.acos((h+d-m)/(2*_*g)))/2),b=v/g,y=v/_;if(Math.abs(b-1)>Po){this._+="L"+(e+b*c)+","+(t+b*u)}this._+="A"+a+","+a+",0,0,"+ +(u*f>c*p)+","+(this._x1=e+y*o)+","+(this._y1=t+y*l)}},arc:function(e,t,n,i,a,r){e=+e,t=+t,n=+n;var s=n*Math.cos(i),o=n*Math.sin(i),l=e+s,c=t+o,u=1^r,d=r?i-a:a-i;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null){this._+="M"+l+","+c}else if(Math.abs(this._x1-l)>Po||Math.abs(this._y1-c)>Po){this._+="L"+l+","+c}if(!n)return;if(d<0)d=d%Bo+Bo;if(d>Uo){this._+="A"+n+","+n+",0,1,"+u+","+(e-s)+","+(t-o)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c)}else if(d>Po){this._+="A"+n+","+n+",0,"+ +(d>=No)+","+u+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))}},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Go=function(e){var t=-1,n=e.length,i,a=e[n-1],r=0;while(++t<n){i=a;a=e[t];r+=i[1]*a[0]-i[0]*a[1]}return r/2};var Vo=function(e){var t=-1,n=e.length,i=0,a=0,r,s=e[n-1],o,l=0;while(++t<n){r=s;s=e[t];l+=o=r[0]*s[1]-s[0]*r[1];i+=(r[0]+s[0])*o;a+=(r[1]+s[1])*o}return l*=3,[i/l,a/l]};var $o=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])};function jo(e,t){return e[0]-t[0]||e[1]-t[1]}function zo(e){var t=e.length,n=[0,1],i=2;for(var a=2;a<t;++a){while(i>1&&$o(e[n[i-2]],e[n[i-1]],e[a])<=0)--i;n[i++]=a}return n.slice(0,i)}var qo=function(e){if((n=e.length)<3)return null;var t,n,i=new Array(n),a=new Array(n);for(t=0;t<n;++t)i[t]=[+e[t][0],+e[t][1],t];i.sort(jo);for(t=0;t<n;++t)a[t]=[i[t][0],-i[t][1]];var r=zo(i),s=zo(a);var o=s[0]===r[0],l=s[s.length-1]===r[r.length-1],c=[];for(t=r.length-1;t>=0;--t)c.push(e[i[r[t]][2]]);for(t=+o;t<s.length-l;++t)c.push(e[i[s[t]][2]]);return c};var Wo=function(e,t){var n=e.length,i=e[n-1],a=t[0],r=t[1],s=i[0],o=i[1],l,c,u=false;for(var d=0;d<n;++d){i=e[d],l=i[0],c=i[1];if(c>r!==o>r&&a<(s-l)*(r-c)/(o-c)+l)u=!u;s=l,o=c}return u};var Ko=function(e){var t=-1,n=e.length,i=e[n-1],a,r,s=i[0],o=i[1],l=0;while(++t<n){a=s;r=o;i=e[t];s=i[0];o=i[1];a-=s;r-=o;l+=Math.sqrt(a*a+r*r)}return l};var Jo=[].slice;var Xo={};function Qo(e){this._size=e;this._call=this._error=null;this._tasks=[];this._data=[];this._waiting=this._active=this._ended=this._start=0}Qo.prototype=al.prototype={constructor:Qo,defer:function(e){if(typeof e!=="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var t=Jo.call(arguments,1);t.push(e);++this._waiting,this._tasks.push(t);Zo(this);return this},abort:function(){if(this._error==null)nl(this,new Error("abort"));return this},await:function(e){if(typeof e!=="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");this._call=function(t,n){e.apply(null,[t].concat(n))};il(this);return this},awaitAll:function(e){if(typeof e!=="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");this._call=e;il(this);return this}};function Zo(e){if(!e._start){try{el(e)}catch(t){if(e._tasks[e._ended+e._active-1])nl(e,t);else if(!e._data)throw t}}}function el(e){while(e._start=e._waiting&&e._active<e._size){var t=e._ended+e._active,n=e._tasks[t],i=n.length-1,a=n[i];n[i]=tl(e,t);--e._waiting,++e._active;n=a.apply(null,n);if(!e._tasks[t])continue;e._tasks[t]=n||Xo}}function tl(e,t){return function(n,i){if(!e._tasks[t])return;--e._active,++e._ended;e._tasks[t]=null;if(e._error!=null)return;if(n!=null){nl(e,n)}else{e._data[t]=i;if(e._waiting)Zo(e);else il(e)}}}function nl(e,t){var n=e._tasks.length,i;e._error=t;e._data=undefined;e._waiting=NaN;while(--n>=0){if(i=e._tasks[n]){e._tasks[n]=null;if(i.abort){try{i.abort()}catch(t){}}}}e._active=NaN;il(e)}function il(e){if(!e._active&&e._call){var t=e._data;e._data=undefined;e._call(e._error,t)}}function al(e){if(e==null)e=Infinity;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new Qo(e)}var rl=function(){return Math.random()};var sl=function e(t){function n(e,n){e=e==null?0:+e;n=n==null?1:+n;if(arguments.length===1)n=e,e=0;else n-=e;return function(){return t()*n+e}}n.source=e;return n}(rl);var ol=function e(t){function n(e,n){var i,a;e=e==null?0:+e;n=n==null?1:+n;return function(){var r;if(i!=null)r=i,i=null;else do{i=t()*2-1;r=t()*2-1;a=i*i+r*r}while(!a||a>1);return e+n*r*Math.sqrt(-2*Math.log(a)/a)}}n.source=e;return n}(rl);var ll=function e(t){function n(){var e=ol.source(t).apply(this,arguments);return function(){return Math.exp(e())}}n.source=e;return n}(rl);var cl=function e(t){function n(e){return function(){for(var n=0,i=0;i<e;++i)n+=t();return n}}n.source=e;return n}(rl);var ul=function e(t){function n(e){var n=cl.source(t)(e);return function(){return n()/e}}n.source=e;return n}(rl);var dl=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}n.source=e;return n}(rl);var fl=function(e,t){var n,i=Mt("beforesend","progress","load","error"),a,r=ce(),s=new XMLHttpRequest,o=null,l=null,c,u,d=0;if(typeof XDomainRequest!=="undefined"&&!("withCredentials"in s)&&/^(http(s)?:)?\/\//.test(e))s=new XDomainRequest;"onload"in s?s.onload=s.onerror=s.ontimeout=f:s.onreadystatechange=function(e){s.readyState>3&&f(e)};function f(e){var t=s.status,a;if(!t&&hl(s)||t>=200&&t<300||t===304){if(c){try{a=c.call(n,s)}catch(e){i.call("error",n,e);return}}else{a=s}i.call("load",n,a)}else{i.call("error",n,e)}}s.onprogress=function(e){i.call("progress",n,e)};n={header:function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return r.get(e);if(t==null)r.remove(e);else r.set(e,t+"");return n},mimeType:function(e){if(!arguments.length)return a;a=e==null?null:e+"";return n},responseType:function(e){if(!arguments.length)return u;u=e;return n},timeout:function(e){if(!arguments.length)return d;d=+e;return n},user:function(e){return arguments.length<1?o:(o=e==null?null:e+"",n)},password:function(e){return arguments.length<1?l:(l=e==null?null:e+"",n)},response:function(e){c=e;return n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,c,f){s.open(t,e,true,o,l);if(a!=null&&!r.has("accept"))r.set("accept",a+",*/*");if(s.setRequestHeader)r.each(function(e,t){s.setRequestHeader(t,e)});if(a!=null&&s.overrideMimeType)s.overrideMimeType(a);if(u!=null)s.responseType=u;if(d>0)s.timeout=d;if(f==null&&typeof c==="function")f=c,c=null;if(f!=null&&f.length===1)f=pl(f);if(f!=null)n.on("error",f).on("load",function(e){f(null,e)});i.call("beforesend",n,s);s.send(c==null?null:c);return n},abort:function(){s.abort();return n},on:function(){var e=i.on.apply(i,arguments);return e===i?n:e}};if(t!=null){if(typeof t!=="function")throw new Error("invalid callback: "+t);return n.get(t)}return n};function pl(e){return function(t,n){e(t==null?n:null)}}function hl(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}var ml=function(e,t){return function(n,i){var a=fl(n).mimeType(e).response(t);if(i!=null){if(typeof i!=="function")throw new Error("invalid callback: "+i);return a.get(i)}return a}};var _l=ml("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)});var gl=ml("application/json",function(e){return JSON.parse(e.responseText)});var vl=ml("text/plain",function(e){return e.responseText});var bl=ml("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t});var yl=function(e,t){return function(n,i,a){if(arguments.length<3)a=i,i=null;var r=fl(n).mimeType(e);r.row=function(e){return arguments.length?r.response(xl(t,i=e)):i};r.row(i);return a?r.get(a):r}};function xl(e,t){return function(n){return e(n.responseText,t)}}var wl=yl("text/csv",zi);var Sl=yl("text/tab-separated-values",Xi);var Ll=Array.prototype;var El=Ll.map;var kl=Ll.slice;var Ml={name:"implicit"};function Tl(e){var t=ce(),n=[],i=Ml;e=e==null?[]:kl.call(e);function a(a){var r=a+"",s=t.get(r);if(!s){if(i!==Ml)return i;t.set(r,s=n.push(a))}return e[(s-1)%e.length]}a.domain=function(e){if(!arguments.length)return n.slice();n=[],t=ce();var i=-1,r=e.length,s,o;while(++i<r)if(!t.has(o=(s=e[i])+""))t.set(o,n.push(s));return a};a.range=function(t){return arguments.length?(e=kl.call(t),a):e.slice()};a.unknown=function(e){return arguments.length?(i=e,a):i};a.copy=function(){return Tl().domain(n).range(e).unknown(i)};return a}function Al(){var e=Tl().unknown(undefined),t=e.domain,n=e.range,i=[0,1],a,r,s=false,o=0,l=0,c=.5;delete e.unknown;function u(){var e=t().length,u=i[1]<i[0],d=i[u-0],f=i[1-u];a=(f-d)/Math.max(1,e-o+l*2);if(s)a=Math.floor(a);d+=(f-d-a*(e-o))*c;r=a*(1-o);if(s)d=Math.round(d),r=Math.round(r);var p=x(e).map(function(e){return d+a*e});return n(u?p.reverse():p)}e.domain=function(e){return arguments.length?(t(e),u()):t()};e.range=function(e){return arguments.length?(i=[+e[0],+e[1]],u()):i.slice()};e.rangeRound=function(e){return i=[+e[0],+e[1]],s=true,u()};e.bandwidth=function(){return r};e.step=function(){return a};e.round=function(e){return arguments.length?(s=!!e,u()):s};e.padding=function(e){return arguments.length?(o=l=Math.max(0,Math.min(1,e)),u()):o};e.paddingInner=function(e){return arguments.length?(o=Math.max(0,Math.min(1,e)),u()):o};e.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),u()):l};e.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),u()):c};e.copy=function(){return Al().domain(t()).range(i).round(s).paddingInner(o).paddingOuter(l).align(c)};return u()}function Cl(e){var t=e.copy;e.padding=e.paddingOuter;delete e.paddingInner;delete e.paddingOuter;e.copy=function(){return Cl(t())};return e}function Dl(){return Cl(Al().paddingInner(1))}var Rl=function(e){return function(){return e}};var Il=function(e){return+e};var Ol=[0,1];function Fl(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Rl(t)}function Nl(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:i(e)}}}function Bl(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:i(e)}}}function Pl(e,t,n,i){var a=e[0],r=e[1],s=t[0],o=t[1];if(r<a)a=n(r,a),s=i(o,s);else a=n(a,r),s=i(s,o);return function(e){return s(a(e))}}function Ul(e,t,n,i){var a=Math.min(e.length,t.length)-1,r=new Array(a),o=new Array(a),l=-1;if(e[a]<e[0]){e=e.slice().reverse();t=t.slice().reverse()}while(++l<a){r[l]=n(e[l],e[l+1]);o[l]=i(t[l],t[l+1])}return function(t){var n=s(e,t,1,a)-1;return o[n](r[n](t))}}function Yl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Hl(e,t){var n=Ol,i=Ol,a=no,r=false,s,o,l;function c(){s=Math.min(n.length,i.length)>2?Ul:Pl;o=l=null;return u}function u(t){return(o||(o=s(n,i,r?Nl(e):e,a)))(+t)}u.invert=function(e){return(l||(l=s(i,n,Fl,r?Bl(t):t)))(+e)};u.domain=function(e){return arguments.length?(n=El.call(e,Il),c()):n.slice()};u.range=function(e){return arguments.length?(i=kl.call(e),c()):i.slice()};u.rangeRound=function(e){return i=kl.call(e),a=io,c()};u.clamp=function(e){return arguments.length?(r=!!e,c()):r};u.interpolate=function(e){return arguments.length?(a=e,c()):a};return c()}var Gl=function(t,n,i){var a=t[0],r=t[t.length-1],s=M(a,r,n==null?10:n),o;i=nr(i==null?",f":i);switch(i.type){case"s":{var l=Math.max(Math.abs(a),Math.abs(r));if(i.precision==null&&!isNaN(o=ur(s,l)))i.precision=o;return e.formatPrefix(i,l)}case"":case"e":case"g":case"p":case"r":{if(i.precision==null&&!isNaN(o=dr(s,Math.max(Math.abs(a),Math.abs(r)))))i.precision=o-(i.type==="e");break}case"f":case"%":{if(i.precision==null&&!isNaN(o=cr(s)))i.precision=o-(i.type==="%")*2;break}}return e.format(i)};function Vl(e){var t=e.domain;e.ticks=function(e){var n=t();return E(n[0],n[n.length-1],e==null?10:e)};e.tickFormat=function(e,n){return Gl(t(),e,n)};e.nice=function(n){if(n==null)n=10;var i=t(),a=0,r=i.length-1,s=i[a],o=i[r],l;if(o<s){l=s,s=o,o=l;l=a,a=r,r=l}l=k(s,o,n);if(l>0){s=Math.floor(s/l)*l;o=Math.ceil(o/l)*l;l=k(s,o,n)}else if(l<0){s=Math.ceil(s*l)/l;o=Math.floor(o*l)/l;l=k(s,o,n)}if(l>0){i[a]=Math.floor(s/l)*l;i[r]=Math.ceil(o/l)*l;t(i)}else if(l<0){i[a]=Math.ceil(s*l)/l;i[r]=Math.floor(o*l)/l;t(i)}return e};return e}function $l(){var e=Hl(Fl,Ks);e.copy=function(){return Yl(e,$l())};return Vl(e)}function jl(){var e=[0,1];function t(e){return+e}t.invert=t;t.domain=t.range=function(n){return arguments.length?(e=El.call(n,Il),t):e.slice()};t.copy=function(){return jl().domain(e)};return Vl(t)}var zl=function(e,t){e=e.slice();var n=0,i=e.length-1,a=e[n],r=e[i],s;if(r<a){s=n,n=i,i=s;s=a,a=r,r=s}e[n]=t.floor(a);e[i]=t.ceil(r);return e};function ql(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:Rl(t)}function Wl(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function Kl(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jl(e){return e===10?Kl:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Xl(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Ql(e){return function(t){return-e(-t)}}function Zl(){var t=Hl(ql,Wl).domain([1,10]),n=t.domain,i=10,a=Xl(10),r=Jl(10);function s(){a=Xl(i),r=Jl(i);if(n()[0]<0)a=Ql(a),r=Ql(r);return t}t.base=function(e){return arguments.length?(i=+e,s()):i};t.domain=function(e){return arguments.length?(n(e),s()):n()};t.ticks=function(e){var t=n(),s=t[0],o=t[t.length-1],l;if(l=o<s)c=s,s=o,o=c;var c=a(s),u=a(o),d,f,p,h=e==null?10:+e,m=[];if(!(i%1)&&u-c<h){c=Math.round(c)-1,u=Math.round(u)+1;if(s>0)for(;c<u;++c){for(f=1,d=r(c);f<i;++f){p=d*f;if(p<s)continue;if(p>o)break;m.push(p)}}else for(;c<u;++c){for(f=i-1,d=r(c);f>=1;--f){p=d*f;if(p<s)continue;if(p>o)break;m.push(p)}}}else{m=E(c,u,Math.min(u-c,h)).map(r)}return l?m.reverse():m};t.tickFormat=function(n,s){if(s==null)s=i===10?".0e":",";if(typeof s!=="function")s=e.format(s);if(n===Infinity)return s;if(n==null)n=10;var o=Math.max(1,i*n/t.ticks().length);return function(e){var t=e/r(Math.round(a(e)));if(t*i<i-.5)t*=i;return t<=o?s(e):""}};t.nice=function(){return n(zl(n(),{floor:function(e){return r(Math.floor(a(e)))},ceil:function(e){return r(Math.ceil(a(e)))}}))};t.copy=function(){return Yl(t,Zl().base(i))};return t}function ec(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function tc(){var e=1,t=Hl(i,a),n=t.domain;function i(t,n){return(n=ec(n,e)-(t=ec(t,e)))?function(i){return(ec(i,e)-t)/n}:Rl(n)}function a(t,n){n=ec(n,e)-(t=ec(t,e));return function(i){return ec(t+n*i,1/e)}}t.exponent=function(t){return arguments.length?(e=+t,n(n())):e};t.copy=function(){return Yl(t,tc().exponent(e))};return Vl(t)}function nc(){return tc().exponent(.5)}function ic(){var e=[],t=[],i=[];function a(){var n=0,a=Math.max(1,t.length);i=new Array(a-1);while(++n<a)i[n-1]=C(e,n/a);return r}function r(e){if(!isNaN(e=+e))return t[s(i,e)]}r.invertExtent=function(n){var a=t.indexOf(n);return a<0?[NaN,NaN]:[a>0?i[a-1]:e[0],a<i.length?i[a]:e[e.length-1]]};r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var i=0,r=t.length,s;i<r;++i)if(s=t[i],s!=null&&!isNaN(s=+s))e.push(s);e.sort(n);return a()};r.range=function(e){return arguments.length?(t=kl.call(e),a()):t.slice()};r.quantiles=function(){return i.slice()};r.copy=function(){return ic().domain(e).range(t)};return r}function ac(){var e=0,t=1,n=1,i=[.5],a=[0,1];function r(e){if(e<=e)return a[s(i,e,0,n)]}function o(){var a=-1;i=new Array(n);while(++a<n)i[a]=((a+1)*t-(a-n)*e)/(n+1);return r}r.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],o()):[e,t]};r.range=function(e){return arguments.length?(n=(a=kl.call(e)).length-1,o()):a.slice()};r.invertExtent=function(r){var s=a.indexOf(r);return s<0?[NaN,NaN]:s<1?[e,i[0]]:s>=n?[i[n-1],t]:[i[s-1],i[s]]};r.copy=function(){return ac().domain([e,t]).range(a)};return Vl(r)}function rc(){var e=[.5],t=[0,1],n=1;function i(i){if(i<=i)return t[s(e,i,0,n)]}i.domain=function(a){return arguments.length?(e=kl.call(a),n=Math.min(e.length,t.length-1),i):e.slice()};i.range=function(a){return arguments.length?(t=kl.call(a),n=Math.min(e.length,t.length-1),i):t.slice()};i.invertExtent=function(n){var i=t.indexOf(n);return[e[i-1],e[i]]};i.copy=function(){return rc().domain(e).range(t)};return i}var sc=new Date;var oc=new Date;function lc(e,t,n,i){function a(t){return e(t=new Date(+t)),t}a.floor=a;a.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n};a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n};a.offset=function(e,n){return t(e=new Date(+e),n==null?1:Math.floor(n)),e};a.range=function(n,i,r){var s=[];n=a.ceil(n);r=r==null?1:Math.floor(r);if(!(n<i)||!(r>0))return s;do{s.push(new Date(+n))}while(t(n,r),e(n),n<i);return s};a.filter=function(n){return lc(function(t){if(t>=t)while(e(t),!n(t))t.setTime(t-1)},function(e,i){if(e>=e)while(--i>=0)while(t(e,1),!n(e)){}})};if(n){a.count=function(t,i){sc.setTime(+t),oc.setTime(+i);e(sc),e(oc);return Math.floor(n(sc,oc))};a.every=function(e){e=Math.floor(e);return!isFinite(e)||!(e>0)?null:!(e>1)?a:a.filter(i?function(t){return i(t)%e===0}:function(t){return a.count(0,t)%e===0})}}return a}var cc=lc(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});cc.every=function(e){e=Math.floor(e);if(!isFinite(e)||!(e>0))return null;if(!(e>1))return cc;return lc(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e})};var uc=cc.range;var dc=1e3;var fc=6e4;var pc=36e5;var hc=864e5;var mc=6048e5;var _c=lc(function(e){e.setTime(Math.floor(e/dc)*dc)},function(e,t){e.setTime(+e+t*dc)},function(e,t){return(t-e)/dc},function(e){return e.getUTCSeconds()});var gc=_c.range;var vc=lc(function(e){e.setTime(Math.floor(e/fc)*fc)},function(e,t){e.setTime(+e+t*fc)},function(e,t){return(t-e)/fc},function(e){return e.getMinutes()});var bc=vc.range;var yc=lc(function(e){var t=e.getTimezoneOffset()*fc%pc;if(t<0)t+=pc;e.setTime(Math.floor((+e-t)/pc)*pc+t)},function(e,t){e.setTime(+e+t*pc)},function(e,t){return(t-e)/pc},function(e){return e.getHours()});var xc=yc.range;var wc=lc(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fc)/hc},function(e){return e.getDate()-1});var Sc=wc.range;function Lc(e){return lc(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7);t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t*7)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fc)/mc})}var Ec=Lc(0);var kc=Lc(1);var Mc=Lc(2);var Tc=Lc(3);var Ac=Lc(4);var Cc=Lc(5);var Dc=Lc(6);var Rc=Ec.range;var Ic=kc.range;var Oc=Mc.range;var Fc=Tc.range;var Nc=Ac.range;var Bc=Cc.range;var Pc=Dc.range;var Uc=lc(function(e){e.setDate(1);e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});var Yc=Uc.range;var Hc=lc(function(e){e.setMonth(0,1);e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Hc.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:lc(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e);t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};var Gc=Hc.range;var Vc=lc(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*fc)},function(e,t){return(t-e)/fc},function(e){return e.getUTCMinutes()});var $c=Vc.range;var jc=lc(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*pc)},function(e,t){return(t-e)/pc},function(e){return e.getUTCHours()});var zc=jc.range;var qc=lc(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/hc},function(e){return e.getUTCDate()-1});var Wc=qc.range;function Kc(e){return lc(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7);t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t*7)},function(e,t){return(t-e)/mc})}var Jc=Kc(0);var Xc=Kc(1);var Qc=Kc(2);var Zc=Kc(3);var eu=Kc(4);var tu=Kc(5);var nu=Kc(6);var iu=Jc.range;var au=Xc.range;var ru=Qc.range;var su=Zc.range;var ou=eu.range;var lu=tu.range;var cu=nu.range;var uu=lc(function(e){e.setUTCDate(1);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});var du=uu.range;var fu=lc(function(e){e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});fu.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:lc(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e);t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};var pu=fu.range;function hu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);t.setFullYear(e.y);return t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));t.setUTCFullYear(e.y);return t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _u(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function gu(e){var t=e.dateTime,n=e.date,i=e.time,a=e.periods,r=e.days,s=e.shortDays,o=e.months,l=e.shortMonths;var c=Lu(a),u=Eu(a),d=Lu(r),f=Eu(r),p=Lu(s),h=Eu(s),m=Lu(o),_=Eu(o),g=Lu(l),v=Eu(l);var b={a:I,A:O,b:F,B:N,c:null,d:Yu,e:Yu,H:Hu,I:Gu,j:Vu,L:$u,m:ju,M:zu,p:B,S:qu,U:Wu,w:Ku,W:Ju,x:null,X:null,y:Xu,Y:Qu,Z:Zu,"%":hd};var y={a:P,A:U,b:Y,B:H,c:null,d:ed,e:ed,H:td,I:nd,j:id,L:ad,m:rd,M:sd,p:G,S:od,U:ld,w:cd,W:ud,x:null,X:null,y:dd,Y:fd,Z:pd,"%":hd};var x={a:k,A:M,b:T,B:A,c:C,d:Iu,e:Iu,H:Fu,I:Fu,j:Ou,L:Pu,m:Ru,M:Nu,p:E,S:Bu,U:Mu,w:ku,W:Tu,x:D,X:R,y:Cu,Y:Au,Z:Du,"%":Uu};b.x=w(n,b);b.X=w(i,b);b.c=w(t,b);y.x=w(n,y);y.X=w(i,y);y.c=w(t,y);function w(e,t){return function(n){var i=[],a=-1,r=0,s=e.length,o,l,c;if(!(n instanceof Date))n=new Date(+n);while(++a<s){if(e.charCodeAt(a)===37){i.push(e.slice(r,a));if((l=vu[o=e.charAt(++a)])!=null)o=e.charAt(++a);else l=o==="e"?" ":"0";if(c=t[o])o=c(n,l);i.push(o);r=a+1}}i.push(e.slice(r,a));return i.join("")}}function S(e,t){return function(n){var i=_u(1900),a=L(i,e,n+="",0);if(a!=n.length)return null;if("p"in i)i.H=i.H%12+i.p*12;if("W"in i||"U"in i){if(!("w"in i))i.w="W"in i?1:0;var r="Z"in i?mu(_u(i.y)).getUTCDay():t(_u(i.y)).getDay();i.m=0;i.d="W"in i?(i.w+6)%7+i.W*7-(r+5)%7:i.w+i.U*7-(r+6)%7}if("Z"in i){i.H+=i.Z/100|0;i.M+=i.Z%100;return mu(i)}return t(i)}}function L(e,t,n,i){var a=0,r=t.length,s=n.length,o,l;while(a<r){if(i>=s)return-1;o=t.charCodeAt(a++);if(o===37){o=t.charAt(a++);l=x[o in vu?t.charAt(a++):o];if(!l||(i=l(e,n,i))<0)return-1}else if(o!=n.charCodeAt(i++)){return-1}}return i}function E(e,t,n){var i=c.exec(t.slice(n));return i?(e.p=u[i[0].toLowerCase()],n+i[0].length):-1}function k(e,t,n){var i=p.exec(t.slice(n));return i?(e.w=h[i[0].toLowerCase()],n+i[0].length):-1}function M(e,t,n){var i=d.exec(t.slice(n));return i?(e.w=f[i[0].toLowerCase()],n+i[0].length):-1}function T(e,t,n){var i=g.exec(t.slice(n));return i?(e.m=v[i[0].toLowerCase()],n+i[0].length):-1}function A(e,t,n){var i=m.exec(t.slice(n));return i?(e.m=_[i[0].toLowerCase()],n+i[0].length):-1}function C(e,n,i){return L(e,t,n,i)}function D(e,t,i){return L(e,n,t,i)}function R(e,t,n){return L(e,i,t,n)}function I(e){return s[e.getDay()]}function O(e){return r[e.getDay()]}function F(e){return l[e.getMonth()]}function N(e){return o[e.getMonth()]}function B(e){return a[+(e.getHours()>=12)]}function P(e){return s[e.getUTCDay()]}function U(e){return r[e.getUTCDay()]}function Y(e){return l[e.getUTCMonth()]}function H(e){return o[e.getUTCMonth()]}function G(e){return a[+(e.getUTCHours()>=12)]}return{format:function(e){var t=w(e+="",b);t.toString=function(){return e};return t},parse:function(e){var t=S(e+="",hu);t.toString=function(){return e};return t},utcFormat:function(e){var t=w(e+="",y);t.toString=function(){return e};return t},utcParse:function(e){var t=S(e,mu);t.toString=function(){return e};return t}}}var vu={"-":"",_:" ",0:"0"};var bu=/^\s*\d+/;var yu=/^%/;var xu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function wu(e,t,n){var i=e<0?"-":"",a=(i?-e:e)+"",r=a.length;return i+(r<n?new Array(n-r+1).join(t)+a:a)}function Su(e){return e.replace(xu,"\\$&")}function Lu(e){return new RegExp("^(?:"+e.map(Su).join("|")+")","i")}function Eu(e){var t={},n=-1,i=e.length;while(++n<i)t[e[n].toLowerCase()]=n;return t}function ku(e,t,n){var i=bu.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Mu(e,t,n){var i=bu.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Tu(e,t,n){var i=bu.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Au(e,t,n){var i=bu.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Cu(e,t,n){var i=bu.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Du(e,t,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Ru(e,t,n){var i=bu.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Iu(e,t,n){var i=bu.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Ou(e,t,n){var i=bu.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function Fu(e,t,n){var i=bu.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Nu(e,t,n){var i=bu.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Bu(e,t,n){var i=bu.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Pu(e,t,n){var i=bu.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Uu(e,t,n){var i=yu.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Yu(e,t){return wu(e.getDate(),t,2)}function Hu(e,t){return wu(e.getHours(),t,2)}function Gu(e,t){return wu(e.getHours()%12||12,t,2)}function Vu(e,t){return wu(1+wc.count(Hc(e),e),t,3)}function $u(e,t){return wu(e.getMilliseconds(),t,3)}function ju(e,t){return wu(e.getMonth()+1,t,2)}function zu(e,t){return wu(e.getMinutes(),t,2)}function qu(e,t){return wu(e.getSeconds(),t,2)}function Wu(e,t){return wu(Ec.count(Hc(e),e),t,2)}function Ku(e){return e.getDay()}function Ju(e,t){return wu(kc.count(Hc(e),e),t,2)}function Xu(e,t){return wu(e.getFullYear()%100,t,2)}function Qu(e,t){return wu(e.getFullYear()%1e4,t,4)}function Zu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wu(t/60|0,"0",2)+wu(t%60,"0",2)}function ed(e,t){return wu(e.getUTCDate(),t,2)}function td(e,t){return wu(e.getUTCHours(),t,2)}function nd(e,t){return wu(e.getUTCHours()%12||12,t,2)}function id(e,t){return wu(1+qc.count(fu(e),e),t,3)}function ad(e,t){return wu(e.getUTCMilliseconds(),t,3)}function rd(e,t){return wu(e.getUTCMonth()+1,t,2)}function sd(e,t){return wu(e.getUTCMinutes(),t,2)}function od(e,t){return wu(e.getUTCSeconds(),t,2)}function ld(e,t){return wu(Jc.count(fu(e),e),t,2)}function cd(e){return e.getUTCDay()}function ud(e,t){return wu(Xc.count(fu(e),e),t,2)}function dd(e,t){return wu(e.getUTCFullYear()%100,t,2)}function fd(e,t){return wu(e.getUTCFullYear()%1e4,t,4)}function pd(){return"+0000"}function hd(){return"%"}var md;_d({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _d(t){md=gu(t);e.timeFormat=md.format;e.timeParse=md.parse;e.utcFormat=md.utcFormat;e.utcParse=md.utcParse;return md}var gd="%Y-%m-%dT%H:%M:%S.%LZ";function vd(e){return e.toISOString()}var bd=Date.prototype.toISOString?vd:e.utcFormat(gd);function yd(e){var t=new Date(e);return isNaN(t)?null:t}var xd=+new Date("2000-01-01T00:00:00.000Z")?yd:e.utcParse(gd);var wd=1e3;var Sd=wd*60;var Ld=Sd*60;var Ed=Ld*24;var kd=Ed*7;var Md=Ed*30;var Td=Ed*365;function Ad(e){return new Date(e)}function Cd(e){return e instanceof Date?+e:+new Date(+e)}function Dd(e,t,n,a,r,s,o,l,c){var u=Hl(Fl,Ks),d=u.invert,f=u.domain;var p=c(".%L"),h=c(":%S"),m=c("%I:%M"),_=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),y=c("%Y");var x=[[o,1,wd],[o,5,5*wd],[o,15,15*wd],[o,30,30*wd],[s,1,Sd],[s,5,5*Sd],[s,15,15*Sd],[s,30,30*Sd],[r,1,Ld],[r,3,3*Ld],[r,6,6*Ld],[r,12,12*Ld],[a,1,Ed],[a,2,2*Ed],[n,1,kd],[t,1,Md],[t,3,3*Md],[e,1,Td]];function w(i){return(o(i)<i?p:s(i)<i?h:r(i)<i?m:a(i)<i?_:t(i)<i?n(i)<i?g:v:e(i)<i?b:y)(i)}function S(t,n,a,r){if(t==null)t=10;if(typeof t==="number"){var s=Math.abs(a-n)/t,o=i(function(e){return e[2]}).right(x,s);if(o===x.length){r=M(n/Td,a/Td,t);t=e}else if(o){o=x[s/x[o-1][2]<x[o][2]/s?o-1:o];r=o[1];t=o[0]}else{r=M(n,a,t);t=l}}return r==null?t:t.every(r)}u.invert=function(e){return new Date(d(e))};u.domain=function(e){return arguments.length?f(El.call(e,Cd)):f().map(Ad)};u.ticks=function(e,t){var n=f(),i=n[0],a=n[n.length-1],r=a<i,s;if(r)s=i,i=a,a=s;s=S(e,i,a,t);s=s?s.range(i,a+1):[];return r?s.reverse():s};u.tickFormat=function(e,t){return t==null?w:c(t)};u.nice=function(e,t){var n=f();return(e=S(e,n[0],n[n.length-1],t))?f(zl(n,e)):u};u.copy=function(){return Yl(u,Dd(e,t,n,a,r,s,o,l,c))};return u}var Rd=function(){return Dd(Hc,Uc,Ec,wc,yc,vc,_c,cc,e.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])};var Id=function(){return Dd(fu,uu,Jc,qc,jc,Vc,_c,cc,e.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};var Od=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})};var Fd=Od("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Nd=Od("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");var Bd=Od("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var Pd=Od("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var Ud=Oo(Lt(300,.5,0),Lt(-240,.5,1));var Yd=Oo(Lt(-100,.75,.35),Lt(80,1.5,.8));var Hd=Oo(Lt(260,.75,.35),Lt(80,1.5,.8));var Gd=Lt();var Vd=function(e){if(e<0||e>1)e-=Math.floor(e);var t=Math.abs(e-.5);Gd.h=360*e-100;Gd.s=1.5-1.5*t;Gd.l=.8-.9*t;return Gd+""};function $d(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var jd=$d(Od("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var zd=$d(Od("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var qd=$d(Od("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));var Wd=$d(Od("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Kd(e){var t=0,n=1,i=false;function a(a){var r=(a-t)/(n-t);return e(i?Math.max(0,Math.min(1,r)):r)}a.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],a):[t,n]};a.clamp=function(e){return arguments.length?(i=!!e,a):i};a.interpolator=function(t){return arguments.length?(e=t,a):e};a.copy=function(){return Kd(e).domain([t,n]).clamp(i)};return Vl(a)}var Jd=function(e){return function t(){return e}};var Xd=Math.abs;var Qd=Math.atan2;var Zd=Math.cos;var ef=Math.max;var tf=Math.min;var nf=Math.sin;var af=Math.sqrt;var rf=1e-12;var sf=Math.PI;var of=sf/2;var lf=2*sf;function cf(e){return e>1?0:e<-1?sf:Math.acos(e)}function uf(e){return e>=1?of:e<=-1?-of:Math.asin(e)}function df(e){return e.innerRadius}function ff(e){return e.outerRadius}function pf(e){return e.startAngle}function hf(e){return e.endAngle}function mf(e){return e&&e.padAngle}function _f(e,t,n,i,a,r,s,o){var l=n-e,c=i-t,u=s-a,d=o-r,f=(u*(t-r)-d*(e-a))/(d*l-u*c);return[e+f*l,t+f*c]}function gf(e,t,n,i,a,r,s){var o=e-n,l=t-i,c=(s?r:-r)/af(o*o+l*l),u=c*l,d=-c*o,f=e+u,p=t+d,h=n+u,m=i+d,_=(f+h)/2,g=(p+m)/2,v=h-f,b=m-p,y=v*v+b*b,x=a-r,w=f*m-h*p,S=(b<0?-1:1)*af(ef(0,x*x*y-w*w)),L=(w*b-v*S)/y,E=(-w*v-b*S)/y,k=(w*b+v*S)/y,M=(-w*v+b*S)/y,T=L-_,A=E-g,C=k-_,D=M-g;if(T*T+A*A>C*C+D*D)L=k,E=M;return{cx:L,cy:E,x01:-u,y01:-d,x11:L*(a/x-1),y11:E*(a/x-1)}}var vf=function(){var e=df,t=ff,n=Jd(0),i=null,a=pf,r=hf,s=mf,o=null;function l(){var l,c,u=+e.apply(this,arguments),d=+t.apply(this,arguments),f=a.apply(this,arguments)-of,p=r.apply(this,arguments)-of,h=Xd(p-f),m=p>f;if(!o)o=l=Ho();if(d<u)c=d,d=u,u=c;if(!(d>rf))o.moveTo(0,0);else if(h>lf-rf){o.moveTo(d*Zd(f),d*nf(f));o.arc(0,0,d,f,p,!m);if(u>rf){o.moveTo(u*Zd(p),u*nf(p));o.arc(0,0,u,p,f,m)}}else{var _=f,g=p,v=f,b=p,y=h,x=h,w=s.apply(this,arguments)/2,S=w>rf&&(i?+i.apply(this,arguments):af(u*u+d*d)),L=tf(Xd(d-u)/2,+n.apply(this,arguments)),E=L,k=L,M,T;if(S>rf){var A=uf(S/u*nf(w)),C=uf(S/d*nf(w));if((y-=A*2)>rf)A*=m?1:-1,v+=A,b-=A;else y=0,v=b=(f+p)/2;if((x-=C*2)>rf)C*=m?1:-1,_+=C,g-=C;else x=0,_=g=(f+p)/2}var D=d*Zd(_),R=d*nf(_),I=u*Zd(b),O=u*nf(b);if(L>rf){var F=d*Zd(g),N=d*nf(g),B=u*Zd(v),P=u*nf(v);if(h<sf){var U=y>rf?_f(D,R,B,P,F,N,I,O):[I,O],Y=D-U[0],H=R-U[1],G=F-U[0],V=N-U[1],$=1/nf(cf((Y*G+H*V)/(af(Y*Y+H*H)*af(G*G+V*V)))/2),j=af(U[0]*U[0]+U[1]*U[1]);E=tf(L,(u-j)/($-1));k=tf(L,(d-j)/($+1))}}if(!(x>rf))o.moveTo(D,R);else if(k>rf){M=gf(B,P,D,R,d,k,m);T=gf(F,N,I,O,d,k,m);o.moveTo(M.cx+M.x01,M.cy+M.y01);if(k<L)o.arc(M.cx,M.cy,k,Qd(M.y01,M.x01),Qd(T.y01,T.x01),!m);else{o.arc(M.cx,M.cy,k,Qd(M.y01,M.x01),Qd(M.y11,M.x11),!m);o.arc(0,0,d,Qd(M.cy+M.y11,M.cx+M.x11),Qd(T.cy+T.y11,T.cx+T.x11),!m);o.arc(T.cx,T.cy,k,Qd(T.y11,T.x11),Qd(T.y01,T.x01),!m)}}else o.moveTo(D,R),o.arc(0,0,d,_,g,!m);if(!(u>rf)||!(y>rf))o.lineTo(I,O);else if(E>rf){M=gf(I,O,F,N,u,-E,m);T=gf(D,R,B,P,u,-E,m);o.lineTo(M.cx+M.x01,M.cy+M.y01);if(E<L)o.arc(M.cx,M.cy,E,Qd(M.y01,M.x01),Qd(T.y01,T.x01),!m);else{o.arc(M.cx,M.cy,E,Qd(M.y01,M.x01),Qd(M.y11,M.x11),!m);o.arc(0,0,u,Qd(M.cy+M.y11,M.cx+M.x11),Qd(T.cy+T.y11,T.cx+T.x11),m);o.arc(T.cx,T.cy,E,Qd(T.y11,T.x11),Qd(T.y01,T.x01),!m)}}else o.arc(0,0,u,b,v,m)}o.closePath();if(l)return o=null,l+""||null}l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+a.apply(this,arguments)+ +r.apply(this,arguments))/2-sf/2;return[Zd(i)*n,nf(i)*n]};l.innerRadius=function(t){return arguments.length?(e=typeof t==="function"?t:Jd(+t),l):e};l.outerRadius=function(e){return arguments.length?(t=typeof e==="function"?e:Jd(+e),l):t};l.cornerRadius=function(e){return arguments.length?(n=typeof e==="function"?e:Jd(+e),l):n};l.padRadius=function(e){return arguments.length?(i=e==null?null:typeof e==="function"?e:Jd(+e),l):i};l.startAngle=function(e){return arguments.length?(a=typeof e==="function"?e:Jd(+e),l):a};l.endAngle=function(e){return arguments.length?(r=typeof e==="function"?e:Jd(+e),l):r};l.padAngle=function(e){return arguments.length?(s=typeof e==="function"?e:Jd(+e),l):s};l.context=function(e){return arguments.length?(o=e==null?null:e,l):o};return l};function bf(e){this._context=e}bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};var yf=function(e){return new bf(e)};function xf(e){return e[0]}function wf(e){return e[1]}var Sf=function(){var e=xf,t=wf,n=Jd(true),i=null,a=yf,r=null;function s(s){var o,l=s.length,c,u=false,d;if(i==null)r=a(d=Ho());for(o=0;o<=l;++o){if(!(o<l&&n(c=s[o],o,s))===u){if(u=!u)r.lineStart();else r.lineEnd()}if(u)r.point(+e(c,o,s),+t(c,o,s))}if(d)return r=null,d+""||null}s.x=function(t){return arguments.length?(e=typeof t==="function"?t:Jd(+t),s):e};s.y=function(e){return arguments.length?(t=typeof e==="function"?e:Jd(+e),s):t};s.defined=function(e){return arguments.length?(n=typeof e==="function"?e:Jd(!!e),s):n};s.curve=function(e){return arguments.length?(a=e,i!=null&&(r=a(i)),s):a};s.context=function(e){return arguments.length?(e==null?i=r=null:r=a(i=e),s):i};return s};var Lf=function(){var e=xf,t=null,n=Jd(0),i=wf,a=Jd(true),r=null,s=yf,o=null;function l(l){var c,u,d,f=l.length,p,h=false,m,_=new Array(f),g=new Array(f);if(r==null)o=s(m=Ho());for(c=0;c<=f;++c){if(!(c<f&&a(p=l[c],c,l))===h){if(h=!h){u=c;o.areaStart();o.lineStart()}else{o.lineEnd();o.lineStart();for(d=c-1;d>=u;--d){o.point(_[d],g[d])}o.lineEnd();o.areaEnd()}}if(h){_[c]=+e(p,c,l),g[c]=+n(p,c,l);o.point(t?+t(p,c,l):_[c],i?+i(p,c,l):g[c])}}if(m)return o=null,m+""||null}function c(){return Sf().defined(a).curve(s).context(r)}l.x=function(n){return arguments.length?(e=typeof n==="function"?n:Jd(+n),t=null,l):e};l.x0=function(t){return arguments.length?(e=typeof t==="function"?t:Jd(+t),l):e};l.x1=function(e){return arguments.length?(t=e==null?null:typeof e==="function"?e:Jd(+e),l):t};l.y=function(e){return arguments.length?(n=typeof e==="function"?e:Jd(+e),i=null,l):n};l.y0=function(e){return arguments.length?(n=typeof e==="function"?e:Jd(+e),l):n};l.y1=function(e){return arguments.length?(i=e==null?null:typeof e==="function"?e:Jd(+e),l):i};l.lineX0=l.lineY0=function(){return c().x(e).y(n)};l.lineY1=function(){return c().x(e).y(i)};l.lineX1=function(){return c().x(t).y(n)};l.defined=function(e){return arguments.length?(a=typeof e==="function"?e:Jd(!!e),l):a};l.curve=function(e){return arguments.length?(s=e,r!=null&&(o=s(r)),l):s};l.context=function(e){return arguments.length?(e==null?r=o=null:o=s(r=e),l):r};return l};var Ef=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};var kf=function(e){return e};var Mf=function(){var e=kf,t=Ef,n=null,i=Jd(0),a=Jd(lf),r=Jd(0);function s(s){var o,l=s.length,c,u,d=0,f=new Array(l),p=new Array(l),h=+i.apply(this,arguments),m=Math.min(lf,Math.max(-lf,a.apply(this,arguments)-h)),_,g=Math.min(Math.abs(m)/l,r.apply(this,arguments)),v=g*(m<0?-1:1),b;for(o=0;o<l;++o){if((b=p[f[o]=o]=+e(s[o],o,s))>0){d+=b}}if(t!=null)f.sort(function(e,n){return t(p[e],p[n])});else if(n!=null)f.sort(function(e,t){return n(s[e],s[t])});for(o=0,u=d?(m-l*v)/d:0;o<l;++o,h=_){c=f[o],b=p[c],_=h+(b>0?b*u:0)+v,p[c]={data:s[c],index:o,value:b,startAngle:h,endAngle:_,padAngle:g}}return p}s.value=function(t){return arguments.length?(e=typeof t==="function"?t:Jd(+t),s):e};s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t};s.sort=function(e){return arguments.length?(n=e,t=null,s):n};s.startAngle=function(e){return arguments.length?(i=typeof e==="function"?e:Jd(+e),s):i};s.endAngle=function(e){return arguments.length?(a=typeof e==="function"?e:Jd(+e),s):a};s.padAngle=function(e){return arguments.length?(r=typeof e==="function"?e:Jd(+e),s):r};return s};var Tf=Cf(yf);function Af(e){this._curve=e}Af.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Cf(e){function t(t){return new Af(e(t))}t._curve=e;return t}function Df(e){var t=e.curve;e.angle=e.x,delete e.x;e.radius=e.y,delete e.y;e.curve=function(e){return arguments.length?t(Cf(e)):t()._curve};return e}var Rf=function(){return Df(Sf().curve(Tf))};var If=function(){var e=Lf().curve(Tf),t=e.curve,n=e.lineX0,i=e.lineX1,a=e.lineY0,r=e.lineY1;e.angle=e.x,delete e.x;e.startAngle=e.x0,delete e.x0;e.endAngle=e.x1,delete e.x1;e.radius=e.y,delete e.y;e.innerRadius=e.y0,delete e.y0;e.outerRadius=e.y1,delete e.y1;e.lineStartAngle=function(){return Df(n())},delete e.lineX0;e.lineEndAngle=function(){return Df(i())},delete e.lineX1;e.lineInnerRadius=function(){return Df(a())},delete e.lineY0;e.lineOuterRadius=function(){return Df(r())},delete e.lineY1;e.curve=function(e){return arguments.length?t(Cf(e)):t()._curve};return e};var Of=Array.prototype.slice;var Ff=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]};function Nf(e){return e.source}function Bf(e){return e.target}function Pf(e){var t=Nf,n=Bf,i=xf,a=wf,r=null;function s(){var s,o=Of.call(arguments),l=t.apply(this,o),c=n.apply(this,o);if(!r)r=s=Ho();e(r,+i.apply(this,(o[0]=l,o)),+a.apply(this,o),+i.apply(this,(o[0]=c,o)),+a.apply(this,o));if(s)return r=null,s+""||null}s.source=function(e){return arguments.length?(t=e,s):t};s.target=function(e){return arguments.length?(n=e,s):n};s.x=function(e){return arguments.length?(i=typeof e==="function"?e:Jd(+e),s):i};s.y=function(e){return arguments.length?(a=typeof e==="function"?e:Jd(+e),s):a};s.context=function(e){return arguments.length?(r=e==null?null:e,s):r};return s}function Uf(e,t,n,i,a){e.moveTo(t,n);e.bezierCurveTo(t=(t+i)/2,n,t,a,i,a)}function Yf(e,t,n,i,a){e.moveTo(t,n);e.bezierCurveTo(t,n=(n+a)/2,i,n,i,a)}function Hf(e,t,n,i,a){var r=Ff(t,n),s=Ff(t,n=(n+a)/2),o=Ff(i,n),l=Ff(i,a);e.moveTo(r[0],r[1]);e.bezierCurveTo(s[0],s[1],o[0],o[1],l[0],l[1])}function Gf(){return Pf(Uf)}function Vf(){return Pf(Yf)}function $f(){var e=Pf(Hf);e.angle=e.x,delete e.x;e.radius=e.y,delete e.y;return e}var jf={draw:function(e,t){var n=Math.sqrt(t/sf);e.moveTo(n,0);e.arc(0,0,n,0,lf)}};var zf={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n);e.lineTo(-n,-n);e.lineTo(-n,-3*n);e.lineTo(n,-3*n);e.lineTo(n,-n);e.lineTo(3*n,-n);e.lineTo(3*n,n);e.lineTo(n,n);e.lineTo(n,3*n);e.lineTo(-n,3*n);e.lineTo(-n,n);e.lineTo(-3*n,n);e.closePath()}};var qf=Math.sqrt(1/3);var Wf=qf*2;var Kf={draw:function(e,t){var n=Math.sqrt(t/Wf),i=n*qf;e.moveTo(0,-n);e.lineTo(i,0);e.lineTo(0,n);e.lineTo(-i,0);e.closePath()}};var Jf=.8908130915292852;var Xf=Math.sin(sf/10)/Math.sin(7*sf/10);var Qf=Math.sin(lf/10)*Xf;var Zf=-Math.cos(lf/10)*Xf;var ep={draw:function(e,t){var n=Math.sqrt(t*Jf),i=Qf*n,a=Zf*n;e.moveTo(0,-n);e.lineTo(i,a);for(var r=1;r<5;++r){var s=lf*r/5,o=Math.cos(s),l=Math.sin(s);e.lineTo(l*n,-o*n);e.lineTo(o*i-l*a,l*i+o*a)}e.closePath()}};var tp={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}};var np=Math.sqrt(3);var ip={draw:function(e,t){var n=-Math.sqrt(t/(np*3));e.moveTo(0,n*2);e.lineTo(-np*n,-n);e.lineTo(np*n,-n);e.closePath()}};var ap=-.5;var rp=Math.sqrt(3)/2;var sp=1/Math.sqrt(12);var op=(sp/2+1)*3;var lp={draw:function(e,t){var n=Math.sqrt(t/op),i=n/2,a=n*sp,r=i,s=n*sp+n,o=-r,l=s;e.moveTo(i,a);e.lineTo(r,s);e.lineTo(o,l);e.lineTo(ap*i-rp*a,rp*i+ap*a);e.lineTo(ap*r-rp*s,rp*r+ap*s);e.lineTo(ap*o-rp*l,rp*o+ap*l);e.lineTo(ap*i+rp*a,ap*a-rp*i);e.lineTo(ap*r+rp*s,ap*s-rp*r);e.lineTo(ap*o+rp*l,ap*l-rp*o);e.closePath()}};var cp=[jf,zf,Kf,tp,ep,ip,lp];var up=function(){var e=Jd(jf),t=Jd(64),n=null;function i(){var i;if(!n)n=i=Ho();e.apply(this,arguments).draw(n,+t.apply(this,arguments));if(i)return n=null,i+""||null}i.type=function(t){return arguments.length?(e=typeof t==="function"?t:Jd(t),i):e};i.size=function(e){return arguments.length?(t=typeof e==="function"?e:Jd(+e),i):t};i.context=function(e){return arguments.length?(n=e==null?null:e,i):n};return i};var dp=function(){};function fp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function pp(e){this._context=e}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:fp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fp(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};var hp=function(e){return new pp(e)};function mp(e){this._context=e}mp.prototype={areaStart:dp,areaEnd:dp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2);this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break}case 3:{this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x2=e,this._y2=t;break;case 1:this._point=2;this._x3=e,this._y3=t;break;case 2:this._point=3;this._x4=e,this._y4=t;this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fp(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};var _p=function(e){return new mp(e)};function gp(e){this._context=e}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:fp(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};var vp=function(e){return new gp(e)};function bp(e,t){this._basis=new pp(e);this._beta=t}bp.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0){var i=e[0],a=t[0],r=e[n]-i,s=t[n]-a,o=-1,l;while(++o<=n){l=o/n;this._basis.point(this._beta*e[o]+(1-this._beta)*(i+l*r),this._beta*t[o]+(1-this._beta)*(a+l*s))}}this._x=this._y=null;this._basis.lineEnd()},point:function(e,t){this._x.push(+e);this._y.push(+t)}};var yp=function e(t){function n(e){return t===1?new pp(e):new bp(e,t)}n.beta=function(t){return e(+t)};return n}(.85);function xp(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function wp(e,t){this._context=e;this._k=(1-t)/6}wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xp(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;this._x1=e,this._y1=t;break;case 2:this._point=3;default:xp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Sp=function e(t){function n(e){return new wp(e,t)}n.tension=function(t){return e(+t)};return n}(0);function Lp(e,t){this._context=e;this._k=(1-t)/6}Lp.prototype={areaStart:dp,areaEnd:dp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:xp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ep=function e(t){function n(e){return new Lp(e,t)}n.tension=function(t){return e(+t)};return n}(0);function kp(e,t){this._context=e;this._k=(1-t)/6}kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Mp=function e(t){function n(e){return new kp(e,t)}n.tension=function(t){return e(+t)};return n}(0);function Tp(e,t,n){var i=e._x1,a=e._y1,r=e._x2,s=e._y2;if(e._l01_a>rf){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l;a=(a*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>rf){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);r=(r*c+e._x1*e._l23_2a-t*e._l12_2a)/u;s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,a,r,s,e._x2,e._y2)}function Ap(e,t){this._context=e;this._alpha=t}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Tp(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Cp=function e(t){function n(e){return t?new Ap(e,t):new wp(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function Dp(e,t){this._context=e;this._alpha=t}Dp.prototype={areaStart:dp,areaEnd:dp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:Tp(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Rp=function e(t){function n(e){return t?new Dp(e,t):new Lp(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function Ip(e,t){this._context=e;this._alpha=t}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tp(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Op=function e(t){function n(e){return t?new Ip(e,t):new kp(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function Fp(e){this._context=e}Fp.prototype={areaStart:dp,areaEnd:dp,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(e,t){e=+e,t=+t;if(this._point)this._context.lineTo(e,t);else this._point=1,this._context.moveTo(e,t)}};var Np=function(e){return new Fp(e)};function Bp(e){return e<0?-1:1}function Pp(e,t,n){var i=e._x1-e._x0,a=t-e._x1,r=(e._y1-e._y0)/(i||a<0&&-0),s=(n-e._y1)/(a||i<0&&-0),o=(r*a+s*i)/(i+a);return(Bp(r)+Bp(s))*Math.min(Math.abs(r),Math.abs(s),.5*Math.abs(o))||0}function Up(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yp(e,t,n){var i=e._x0,a=e._y0,r=e._x1,s=e._y1,o=(r-i)/3;e._context.bezierCurveTo(i+o,a+o*t,r-o,s-o*n,r,s)}function Hp(e){this._context=e}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yp(this,this._t0,Up(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(e,t){var n=NaN;e=+e,t=+t;if(e===this._x1&&t===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;Yp(this,Up(this,n=Pp(this,e,t)),n);break;default:Yp(this,this._t0,n=Pp(this,e,t));break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t;this._t0=n}};function Gp(e){this._context=new Vp(e)}(Gp.prototype=Object.create(Hp.prototype)).point=function(e,t){Hp.prototype.point.call(this,t,e)};function Vp(e){this._context=e}Vp.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,a,r){this._context.bezierCurveTo(t,e,i,n,r,a)}};function $p(e){return new Hp(e)}function jp(e){return new Gp(e)}function zp(e){this._context=e}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n){this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]);if(n===2){this._context.lineTo(e[1],t[1])}else{var i=qp(e),a=qp(t);for(var r=0,s=1;s<n;++r,++s){this._context.bezierCurveTo(i[0][r],a[0][r],i[1][r],a[1][r],e[s],t[s])}}}if(this._line||this._line!==0&&n===1)this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(e,t){this._x.push(+e);this._y.push(+t)}};function qp(e){var t,n=e.length-1,i,a=new Array(n),r=new Array(n),s=new Array(n);a[0]=0,r[0]=2,s[0]=e[0]+2*e[1];for(t=1;t<n-1;++t)a[t]=1,r[t]=4,s[t]=4*e[t]+2*e[t+1];a[n-1]=2,r[n-1]=7,s[n-1]=8*e[n-1]+e[n];for(t=1;t<n;++t)i=a[t]/r[t-1],r[t]-=i,s[t]-=i*s[t-1];a[n-1]=s[n-1]/r[n-1];for(t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/r[t];r[n-1]=(e[n]+a[n-1])/2;for(t=0;t<n-1;++t)r[t]=2*e[t+1]-a[t+1];return[a,r]}var Wp=function(e){return new zp(e)};function Kp(e,t){this._context=e;this._t=t}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0){this._context.lineTo(this._x,t);this._context.lineTo(e,t)}else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y);this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};var Jp=function(e){return new Kp(e,.5)};function Xp(e){return new Kp(e,0)}function Qp(e){return new Kp(e,1)}var Zp=function(e,t){if(!((s=e.length)>1))return;for(var n=1,i,a,r=e[t[0]],s,o=r.length;n<s;++n){a=r,r=e[t[n]];for(i=0;i<o;++i){r[i][1]+=r[i][0]=isNaN(a[i][1])?a[i][0]:a[i][1]}}};var eh=function(e){var t=e.length,n=new Array(t);while(--t>=0)n[t]=t;return n};function th(e,t){return e[t]}var nh=function(){var e=Jd([]),t=eh,n=Zp,i=th;function a(a){var r=e.apply(this,arguments),s,o=a.length,l=r.length,c=new Array(l),u;for(s=0;s<l;++s){for(var d=r[s],f=c[s]=new Array(o),p=0,h;p<o;++p){f[p]=h=[0,+i(a[p],d,p,a)];h.data=a[p]}f.key=d}for(s=0,u=t(c);s<l;++s){c[u[s]].index=s}n(c,u);return c}a.keys=function(t){return arguments.length?(e=typeof t==="function"?t:Jd(Of.call(t)),a):e};a.value=function(e){return arguments.length?(i=typeof e==="function"?e:Jd(+e),a):i};a.order=function(e){return arguments.length?(t=e==null?eh:typeof e==="function"?e:Jd(Of.call(e)),a):t};a.offset=function(e){return arguments.length?(n=e==null?Zp:e,a):n};return a};var ih=function(e,t){if(!((i=e.length)>0))return;for(var n,i,a=0,r=e[0].length,s;a<r;++a){for(s=n=0;n<i;++n)s+=e[n][a][1]||0;if(s)for(n=0;n<i;++n)e[n][a][1]/=s}Zp(e,t)};var ah=function(e,t){if(!((l=e.length)>1))return;for(var n,i=0,a,r,s,o,l,c=e[t[0]].length;i<c;++i){for(s=o=0,n=0;n<l;++n){if((r=(a=e[t[n]][i])[1]-a[0])>=0){a[0]=s,a[1]=s+=r}else if(r<0){a[1]=o,a[0]=o+=r}else{a[0]=s}}}};var rh=function(e,t){if(!((a=e.length)>0))return;for(var n=0,i=e[t[0]],a,r=i.length;n<r;++n){for(var s=0,o=0;s<a;++s)o+=e[s][n][1]||0;i[n][1]+=i[n][0]=-o/2}Zp(e,t)};var sh=function(e,t){if(!((s=e.length)>0)||!((r=(a=e[t[0]]).length)>0))return;for(var n=0,i=1,a,r,s;i<r;++i){for(var o=0,l=0,c=0;o<s;++o){var u=e[t[o]],d=u[i][1]||0,f=u[i-1][1]||0,p=(d-f)/2;for(var h=0;h<o;++h){var m=e[t[h]],_=m[i][1]||0,g=m[i-1][1]||0;p+=_-g}l+=d,c+=p*d}a[i-1][1]+=a[i-1][0]=n;if(l)n-=c/l}a[i-1][1]+=a[i-1][0]=n;Zp(e,t)};var oh=function(e){var t=e.map(lh);return eh(e).sort(function(e,n){return t[e]-t[n]})};function lh(e){var t=0,n=-1,i=e.length,a;while(++n<i)if(a=+e[n][1])t+=a;return t}var ch=function(e){return oh(e).reverse()};var uh=function(e){var t=e.length,n,i,a=e.map(lh),r=eh(e).sort(function(e,t){return a[t]-a[e]}),s=0,o=0,l=[],c=[];for(n=0;n<t;++n){i=r[n];if(s<o){s+=a[i];l.push(i)}else{o+=a[i];c.push(i)}}return c.reverse().concat(l)};var dh=function(e){return eh(e).reverse()};var fh=0;var ph=0;var hh=0;var mh=1e3;var _h;var gh;var vh=0;var bh=0;var yh=0;var xh=typeof performance==="object"&&performance.now?performance:Date;var wh=typeof requestAnimationFrame==="function"?requestAnimationFrame:function(e){setTimeout(e,17)};function Sh(){return bh||(wh(Lh),bh=xh.now()+yh)}function Lh(){bh=0}function Eh(){this._call=this._time=this._next=null}Eh.prototype=kh.prototype={constructor:Eh,restart:function(e,t,n){if(typeof e!=="function")throw new TypeError("callback is not a function");n=(n==null?Sh():+n)+(t==null?0:+t);if(!this._next&&gh!==this){if(gh)gh._next=this;else _h=this;gh=this}this._call=e;this._time=n;Dh()},stop:function(){if(this._call){this._call=null;this._time=Infinity;Dh()}}};function kh(e,t,n){var i=new Eh;i.restart(e,t,n);return i}function Mh(){Sh();++fh;var e=_h,t;while(e){if((t=bh-e._time)>=0)e._call.call(null,t);e=e._next}--fh}function Th(){bh=(vh=xh.now())+yh;fh=ph=0;try{Mh()}finally{fh=0;Ch();bh=0}}function Ah(){var e=xh.now(),t=e-vh;if(t>mh)yh-=t,vh=e}function Ch(){var e,t=_h,n,i=Infinity;while(t){if(t._call){if(i>t._time)i=t._time;e=t,t=t._next}else{n=t._next,t._next=null;t=e?e._next=n:_h=n}}gh=e;Dh(i)}function Dh(e){if(fh)return;if(ph)ph=clearTimeout(ph);var t=e-bh;if(t>24){if(e<Infinity)ph=setTimeout(Th,t);if(hh)hh=clearInterval(hh)}else{if(!hh)vh=bh,hh=setInterval(Ah,mh);fh=1,wh(Th)}}var Rh=function(e,t,n){var i=new Eh;t=t==null?0:+t;i.restart(function(n){i.stop();e(n+t)},t,n);return i};var Ih=function(e,t,n){var i=new Eh,a=t;if(t==null)return i.restart(e,t,n),i;t=+t,n=n==null?Sh():+n;i.restart(function r(s){s+=a;i.restart(r,a+=t,n);e(s)},t,n);return i};var Oh=Mt("start","end","interrupt");var Fh=[];var Nh=0;var Bh=1;var Ph=2;var Uh=3;var Yh=4;var Hh=5;var Gh=6;var Vh=function(e,t,n,i,a,r){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;qh(e,n,{name:t,index:i,group:a,on:Oh,tween:Fh,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Nh})};function $h(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>Nh)throw new Error("too late");return n}function jh(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>Ph)throw new Error("too late");return n}function zh(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("too late");return n}function qh(e,t,n){var i=e.__transition,a;i[t]=n;n.timer=kh(r,0,n.time);function r(e){n.state=Bh;n.timer.restart(s,n.delay,n.time);if(n.delay<=e)s(e-n.delay)}function s(r){var c,u,d,f;if(n.state!==Bh)return l();for(c in i){f=i[c];if(f.name!==n.name)continue;if(f.state===Uh)return Rh(s);if(f.state===Yh){f.state=Gh;f.timer.stop();f.on.call("interrupt",e,e.__data__,f.index,f.group);delete i[c]}else if(+c<t){f.state=Gh;f.timer.stop();delete i[c]}}Rh(function(){if(n.state===Uh){n.state=Yh;n.timer.restart(o,n.delay,n.time);o(r)}});n.state=Ph;n.on.call("start",e,e.__data__,n.index,n.group);if(n.state!==Ph)return;n.state=Uh;a=new Array(d=n.tween.length);for(c=0,u=-1;c<d;++c){if(f=n.tween[c].value.call(e,e.__data__,n.index,n.group)){a[++u]=f}}a.length=u+1}function o(t){var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=Hh,1),r=-1,s=a.length;while(++r<s){a[r].call(null,i)}if(n.state===Hh){n.on.call("end",e,e.__data__,n.index,n.group);l()}}function l(){n.state=Gh;n.timer.stop();delete i[t];for(var a in i)return;delete e.__transition}}var Wh=function(e,t){var n=e.__transition,i,a,r=true,s;if(!n)return;t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){r=false;continue}a=i.state>Ph&&i.state<Hh;i.state=Gh;i.timer.stop();if(a)i.on.call("interrupt",e,e.__data__,i.index,i.group);delete n[s]}if(r)delete e.__transition};var Kh=function(e){return this.each(function(){Wh(this,e)})};function Jh(e,t){var n,i;return function(){var a=jh(this,e),r=a.tween;if(r!==n){i=n=r;for(var s=0,o=i.length;s<o;++s){if(i[s].name===t){i=i.slice();i.splice(s,1);break}}}a.tween=i}}function Xh(e,t,n){var i,a;if(typeof n!=="function")throw new Error;return function(){var r=jh(this,e),s=r.tween;if(s!==i){a=(i=s).slice();for(var o={name:t,value:n},l=0,c=a.length;l<c;++l){if(a[l].name===t){a[l]=o;break}}if(l===c)a.push(o)}r.tween=a}}var Qh=function(e,t){var n=this._id;e+="";if(arguments.length<2){var i=zh(this.node(),n).tween;for(var a=0,r=i.length,s;a<r;++a){if((s=i[a]).name===e){return s.value}}return null}return this.each((t==null?Jh:Xh)(n,e,t))};function Zh(e,t,n){var i=e._id;e.each(function(){var e=jh(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)});return function(e){return zh(e,i).value[t]}}var em=function(e,t){var n;return(typeof t==="number"?Ks:t instanceof Pe?Vs:(n=Pe(t))?(t=n,Vs):to)(e,t)};function tm(e){return function(){this.removeAttribute(e)}}function nm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function im(e,t,n){var i,a;return function(){var r=this.getAttribute(e);return r===n?null:r===i?a:a=t(i=r,n)}}function am(e,t,n){var i,a;return function(){var r=this.getAttributeNS(e.space,e.local);return r===n?null:r===i?a:a=t(i=r,n)}}function rm(e,t,n){var i,a,r;return function(){var s,o=n(this);if(o==null)return void this.removeAttribute(e);s=this.getAttribute(e);return s===o?null:s===i&&o===a?r:r=t(i=s,a=o)}}function sm(e,t,n){var i,a,r;return function(){var s,o=n(this);if(o==null)return void this.removeAttributeNS(e.space,e.local);s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i&&o===a?r:r=t(i=s,a=o)}}var om=function(e,t){var n=Ot(e),i=n==="transform"?_o:em;return this.attrTween(e,typeof t==="function"?(n.local?sm:rm)(n,i,Zh(this,"attr."+e,t)):t==null?(n.local?nm:tm)(n):(n.local?am:im)(n,i,t+""))};function lm(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttributeNS(e.space,e.local,i(t))}}n._value=t;return n}function cm(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttribute(e,i(t))}}n._value=t;return n}var um=function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=="function")throw new Error;var i=Ot(e);return this.tween(n,(i.local?lm:cm)(i,t))};function dm(e,t){return function(){$h(this,e).delay=+t.apply(this,arguments)}}function fm(e,t){return t=+t,function(){$h(this,e).delay=t}}var pm=function(e){var t=this._id;return arguments.length?this.each((typeof e==="function"?dm:fm)(t,e)):zh(this.node(),t).delay};function hm(e,t){return function(){jh(this,e).duration=+t.apply(this,arguments)}}function mm(e,t){return t=+t,function(){jh(this,e).duration=t}}var _m=function(e){var t=this._id;return arguments.length?this.each((typeof e==="function"?hm:mm)(t,e)):zh(this.node(),t).duration};function gm(e,t){if(typeof t!=="function")throw new Error;return function(){jh(this,e).ease=t}}var vm=function(e){var t=this._id;return arguments.length?this.each(gm(t,e)):zh(this.node(),t).ease};var bm=function(e){if(typeof e!=="function")e=$t(e);for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a){for(var r=t[a],s=r.length,o=i[a]=[],l,c=0;c<s;++c){if((l=r[c])&&e.call(l,l.__data__,c,r)){o.push(l)}}}return new Gm(i,this._parents,this._name,this._id)};var ym=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,a=n.length,r=Math.min(i,a),s=new Array(i),o=0;o<r;++o){for(var l=t[o],c=n[o],u=l.length,d=s[o]=new Array(u),f,p=0;p<u;++p){if(f=l[p]||c[p]){d[p]=f}}}for(;o<i;++o){s[o]=t[o]}return new Gm(s,this._parents,this._name,this._id)};function xm(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");if(t>=0)e=e.slice(0,t);return!e||e==="start"})}function wm(e,t,n){var i,a,r=xm(t)?$h:jh;return function(){var s=r(this,e),o=s.on;if(o!==i)(a=(i=o).copy()).on(t,n);s.on=a}}var Sm=function(e,t){var n=this._id;return arguments.length<2?zh(this.node(),n).on.on(e):this.each(wm(n,e,t))};function Lm(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;if(t)t.removeChild(this)}}var Em=function(){return this.on("end.remove",Lm(this._id))};var km=function(e){var t=this._name,n=this._id;if(typeof e!=="function")e=rn(e);for(var i=this._groups,a=i.length,r=new Array(a),s=0;s<a;++s){for(var o=i[s],l=o.length,c=r[s]=new Array(l),u,d,f=0;f<l;++f){if((u=o[f])&&(d=e.call(u,u.__data__,f,o))){if("__data__"in u)d.__data__=u.__data__;c[f]=d;Vh(c[f],t,n,f,c,zh(u,n))}}}return new Gm(r,this._parents,t,n)};var Mm=function(e){var t=this._name,n=this._id;if(typeof e!=="function")e=ln(e);for(var i=this._groups,a=i.length,r=[],s=[],o=0;o<a;++o){for(var l=i[o],c=l.length,u,d=0;d<c;++d){if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),p,h=zh(u,n),m=0,_=f.length;m<_;++m){if(p=f[m]){Vh(p,t,n,m,f,h)}}r.push(f);s.push(u)}}}return new Gm(r,s,t,n)};var Tm=ki.prototype.constructor;var Am=function(){return new Tm(this._groups,this._parents)};function Cm(e,t){var n,i,a;return function(){var r=Gn(this,e),s=(this.style.removeProperty(e),Gn(this,e));return r===s?null:r===n&&s===i?a:a=t(n=r,i=s)}}function Dm(e){return function(){this.style.removeProperty(e)}}function Rm(e,t,n){var i,a;return function(){var r=Gn(this,e);return r===n?null:r===i?a:a=t(i=r,n)}}function Im(e,t,n){var i,a,r;return function(){var s=Gn(this,e),o=n(this);if(o==null)o=(this.style.removeProperty(e),Gn(this,e));return s===o?null:s===i&&o===a?r:r=t(i=s,a=o)}}var Om=function(e,t,n){var i=(e+="")==="transform"?mo:em;return t==null?this.styleTween(e,Cm(e,i)).on("end.style."+e,Dm(e)):this.styleTween(e,typeof t==="function"?Im(e,i,Zh(this,"style."+e,t)):Rm(e,i,t+""),n)};function Fm(e,t,n){function i(){var i=this,a=t.apply(i,arguments);return a&&function(t){i.style.setProperty(e,a(t),n)}}i._value=t;return i}var Nm=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!=="function")throw new Error;return this.tween(i,Fm(e,t,n==null?"":n))};function Bm(e){return function(){this.textContent=e}}function Pm(e){return function(){var t=e(this);this.textContent=t==null?"":t}}var Um=function(e){return this.tween("text",typeof e==="function"?Pm(Zh(this,"text",e)):Bm(e==null?"":e+""))};var Ym=function(){var e=this._name,t=this._id,n=$m();for(var i=this._groups,a=i.length,r=0;r<a;++r){for(var s=i[r],o=s.length,l,c=0;c<o;++c){if(l=s[c]){var u=zh(l,t);Vh(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}}}return new Gm(i,this._parents,e,n)};var Hm=0;function Gm(e,t,n,i){this._groups=e;this._parents=t;this._name=n;this._id=i}function Vm(e){return ki().transition(e)}function $m(){return++Hm}var jm=ki.prototype;Gm.prototype=Vm.prototype={constructor:Gm,select:km,selectAll:Mm,filter:bm,merge:ym,selection:Am,transition:Ym,call:jm.call,nodes:jm.nodes,node:jm.node,size:jm.size,empty:jm.empty,each:jm.each,on:Sm,attr:om,attrTween:um,style:Om,styleTween:Nm,text:Um,remove:Em,tween:Qh,delay:pm,duration:_m,ease:vm};var zm={time:null,delay:0,duration:250,ease:oa};function qm(e,t){var n;while(!(n=e.__transition)||!(n=n[t])){if(!(e=e.parentNode)){return zm.time=Sh(),zm}}return n}var Wm=function(e){var t,n;if(e instanceof Gm){t=e._id,e=e._name}else{t=$m(),(n=zm).time=Sh(),e=e==null?null:e+""}for(var i=this._groups,a=i.length,r=0;r<a;++r){for(var s=i[r],o=s.length,l,c=0;c<o;++c){if(l=s[c]){Vh(l,e,t,c,s,n||qm(l,t))}}}return new Gm(i,this._parents,e,t)};ki.prototype.interrupt=Kh;ki.prototype.transition=Wm;var Km=[null];var Jm=function(e,t){var n=e.__transition,i,a;if(n){t=t==null?null:t+"";for(a in n){if((i=n[a]).state>Bh&&i.name===t){return new Gm([[e]],Km,t,+a)}}}return null};var Xm=function(e){return function(){return e}};function Qm(e){return e[0]}function Zm(e){return e[1]}function e_(){this._=null}function t_(e){e.U=e.C=e.L=e.R=e.P=e.N=null}e_.prototype={constructor:e_,insert:function(e,t){var n,i,a;if(e){t.P=e;t.N=e.N;if(e.N)e.N.P=t;e.N=t;if(e.R){e=e.R;while(e.L)e=e.L;e.L=t}else{e.R=t}n=e}else if(this._){e=a_(this._);t.P=null;t.N=e;e.P=e.L=t;n=e}else{t.P=t.N=null;this._=t;n=null}t.L=t.R=null;t.U=n;t.C=true;e=t;while(n&&n.C){i=n.U;if(n===i.L){a=i.R;if(a&&a.C){n.C=a.C=false;i.C=true;e=i}else{if(e===n.R){n_(this,n);e=n;n=e.U}n.C=false;i.C=true;i_(this,i)}}else{a=i.L;if(a&&a.C){n.C=a.C=false;i.C=true;e=i}else{if(e===n.L){i_(this,n);e=n;n=e.U}n.C=false;i.C=true;n_(this,i)}}n=e.U}this._.C=false},remove:function(e){if(e.N)e.N.P=e.P;if(e.P)e.P.N=e.N;e.N=e.P=null;var t=e.U,n,i=e.L,a=e.R,r,s;if(!i)r=a;else if(!a)r=i;else r=a_(a);if(t){if(t.L===e)t.L=r;else t.R=r}else{this._=r}if(i&&a){s=r.C;r.C=e.C;r.L=i;i.U=r;if(r!==a){t=r.U;r.U=e.U;e=r.R;t.L=e;r.R=a;a.U=r}else{r.U=t;t=r;e=r.R}}else{s=e.C;e=r}if(e)e.U=t;if(s)return;if(e&&e.C){e.C=false;return}do{if(e===this._)break;if(e===t.L){n=t.R;if(n.C){n.C=false;t.C=true;n_(this,t);n=t.R}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C){n.L.C=false;n.C=true;i_(this,n);n=t.R}n.C=t.C;t.C=n.R.C=false;n_(this,t);e=this._;break}}else{n=t.L;if(n.C){n.C=false;t.C=true;i_(this,t);n=t.L}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C){n.R.C=false;n.C=true;n_(this,n);n=t.L}n.C=t.C;t.C=n.L.C=false;i_(this,t);e=this._;break}}n.C=true;e=t;t=t.U}while(!e.C);if(e)e.C=false}};function n_(e,t){var n=t,i=t.R,a=n.U;if(a){if(a.L===n)a.L=i;else a.R=i}else{e._=i}i.U=a;n.U=i;n.R=i.L;if(n.R)n.R.U=n;i.L=n}function i_(e,t){var n=t,i=t.L,a=n.U;if(a){if(a.L===n)a.L=i;else a.R=i}else{e._=i}i.U=a;n.U=i;n.L=i.R;if(n.L)n.L.U=n;i.R=n}function a_(e){while(e.L)e=e.L;return e}function r_(e,t,n,i){var a=[null,null],r=F_.push(a)-1;a.left=e;a.right=t;if(n)o_(a,e,t,n);if(i)o_(a,t,e,i);I_[e.index].halfedges.push(r);I_[t.index].halfedges.push(r);return a}function s_(e,t,n){var i=[t,n];i.left=e;return i}function o_(e,t,n,i){if(!e[0]&&!e[1]){e[0]=i;e.left=t;e.right=n}else if(e.left===n){e[1]=i}else{e[0]=i}}function l_(e,t,n,i,a){var r=e[0],s=e[1],o=r[0],l=r[1],c=s[0],u=s[1],d=0,f=1,p=c-o,h=u-l,m;m=t-o;if(!p&&m>0)return;m/=p;if(p<0){if(m<d)return;if(m<f)f=m}else if(p>0){if(m>f)return;if(m>d)d=m}m=i-o;if(!p&&m<0)return;m/=p;if(p<0){if(m>f)return;if(m>d)d=m}else if(p>0){if(m<d)return;if(m<f)f=m}m=n-l;if(!h&&m>0)return;m/=h;if(h<0){if(m<d)return;if(m<f)f=m}else if(h>0){if(m>f)return;if(m>d)d=m}m=a-l;if(!h&&m<0)return;m/=h;if(h<0){if(m>f)return;if(m>d)d=m}else if(h>0){if(m<d)return;if(m<f)f=m}if(!(d>0)&&!(f<1))return true;if(d>0)e[0]=[o+d*p,l+d*h];if(f<1)e[1]=[o+f*p,l+f*h];return true}function c_(e,t,n,i,a){var r=e[1];if(r)return true;var s=e[0],o=e.left,l=e.right,c=o[0],u=o[1],d=l[0],f=l[1],p=(c+d)/2,h=(u+f)/2,m,_;if(f===u){if(p<t||p>=i)return;if(c>d){if(!s)s=[p,n];else if(s[1]>=a)return;r=[p,a]}else{if(!s)s=[p,a];else if(s[1]<n)return;r=[p,n]}}else{m=(c-d)/(f-u);_=h-m*p;if(m<-1||m>1){if(c>d){if(!s)s=[(n-_)/m,n];else if(s[1]>=a)return;r=[(a-_)/m,a]}else{if(!s)s=[(a-_)/m,a];else if(s[1]<n)return;r=[(n-_)/m,n]}}else{if(u<f){if(!s)s=[t,m*t+_];else if(s[0]>=i)return;r=[i,m*i+_]}else{if(!s)s=[i,m*i+_];else if(s[0]<t)return;r=[t,m*t+_]}}}e[0]=s;e[1]=r;return true}function u_(e,t,n,i){var a=F_.length,r;while(a--){if(!c_(r=F_[a],e,t,n,i)||!l_(r,e,t,n,i)||!(Math.abs(r[0][0]-r[1][0])>C_||Math.abs(r[0][1]-r[1][1])>C_)){delete F_[a]}}}function d_(e){return I_[e.index]={site:e,halfedges:[]}}function f_(e,t){var n=e.site,i=t.left,a=t.right;if(n===a)a=i,i=n;if(a)return Math.atan2(a[1]-i[1],a[0]-i[0]);if(n===i)i=t[1],a=t[0];else i=t[0],a=t[1];return Math.atan2(i[0]-a[0],a[1]-i[1])}function p_(e,t){return t[+(t.left!==e.site)]}function h_(e,t){return t[+(t.left===e.site)]}function m_(){for(var e=0,t=I_.length,n,i,a,r;e<t;++e){if((n=I_[e])&&(r=(i=n.halfedges).length)){var s=new Array(r),o=new Array(r);for(a=0;a<r;++a)s[a]=a,o[a]=f_(n,F_[i[a]]);s.sort(function(e,t){return o[t]-o[e]});for(a=0;a<r;++a)o[a]=i[s[a]];for(a=0;a<r;++a)i[a]=o[a]}}}function __(e,t,n,i){var a=I_.length,r,s,o,l,c,u,d,f,p,h,m,_,g=true;for(r=0;r<a;++r){if(s=I_[r]){o=s.site;c=s.halfedges;l=c.length;while(l--){if(!F_[c[l]]){c.splice(l,1)}}l=0,u=c.length;while(l<u){h=h_(s,F_[c[l]]),m=h[0],_=h[1];d=p_(s,F_[c[++l%u]]),f=d[0],p=d[1];if(Math.abs(m-f)>C_||Math.abs(_-p)>C_){c.splice(l,0,F_.push(s_(o,h,Math.abs(m-e)<C_&&i-_>C_?[e,Math.abs(f-e)<C_?p:i]:Math.abs(_-i)<C_&&n-m>C_?[Math.abs(p-i)<C_?f:n,i]:Math.abs(m-n)<C_&&_-t>C_?[n,Math.abs(f-n)<C_?p:t]:Math.abs(_-t)<C_&&m-e>C_?[Math.abs(p-t)<C_?f:e,t]:null))-1);++u}}if(u)g=false}}if(g){var v,b,y,x=Infinity;for(r=0,g=null;r<a;++r){if(s=I_[r]){o=s.site;v=o[0]-e;b=o[1]-t;y=v*v+b*b;if(y<x)x=y,g=s}}if(g){var w=[e,t],S=[e,i],L=[n,i],E=[n,t];g.halfedges.push(F_.push(s_(o=g.site,w,S))-1,F_.push(s_(o,S,L))-1,F_.push(s_(o,L,E))-1,F_.push(s_(o,E,w))-1)}}for(r=0;r<a;++r){if(s=I_[r]){if(!s.halfedges.length){delete I_[r]}}}}var g_=[];var v_;function b_(){t_(this);this.x=this.y=this.arc=this.site=this.cy=null}function y_(e){var t=e.P,n=e.N;if(!t||!n)return;var i=t.site,a=e.site,r=n.site;if(i===r)return;var s=a[0],o=a[1],l=i[0]-s,c=i[1]-o,u=r[0]-s,d=r[1]-o;var f=2*(l*d-c*u);if(f>=-D_)return;var p=l*l+c*c,h=u*u+d*d,m=(d*p-c*h)/f,_=(l*h-u*p)/f;var g=g_.pop()||new b_;g.arc=e;g.site=a;g.x=m+s;g.y=(g.cy=_+o)+Math.sqrt(m*m+_*_);e.circle=g;var v=null,b=O_._;while(b){if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(b.L)b=b.L;else{v=b.P;break}}else{if(b.R)b=b.R;else{v=b;break}}}O_.insert(v,g);if(!v)v_=g}function x_(e){var t=e.circle;if(t){if(!t.P)v_=t.N;O_.remove(t);g_.push(t);t_(t);e.circle=null}}var w_=[];function S_(){t_(this);this.edge=this.site=this.circle=null}function L_(e){var t=w_.pop()||new S_;t.site=e;return t}function E_(e){x_(e);R_.remove(e);w_.push(e);t_(e)}function k_(e){var t=e.circle,n=t.x,i=t.cy,a=[n,i],r=e.P,s=e.N,o=[e];E_(e);var l=r;while(l.circle&&Math.abs(n-l.circle.x)<C_&&Math.abs(i-l.circle.cy)<C_){r=l.P;o.unshift(l);E_(l);l=r}o.unshift(l);x_(l);var c=s;while(c.circle&&Math.abs(n-c.circle.x)<C_&&Math.abs(i-c.circle.cy)<C_){s=c.N;o.push(c);E_(c);c=s}o.push(c);x_(c);var u=o.length,d;for(d=1;d<u;++d){c=o[d];l=o[d-1];o_(c.edge,l.site,c.site,a)}l=o[0];c=o[u-1];c.edge=r_(l.site,c.site,null,a);y_(l);y_(c)}function M_(e){var t=e[0],n=e[1],i,a,r,s,o=R_._;while(o){r=T_(o,n)-t;if(r>C_)o=o.L;else{s=t-A_(o,n);if(s>C_){if(!o.R){i=o;break}o=o.R}else{if(r>-C_){i=o.P;a=o}else if(s>-C_){i=o;a=o.N}else{i=a=o}break}}}d_(e);var l=L_(e);R_.insert(i,l);if(!i&&!a)return;if(i===a){x_(i);a=L_(i.site);R_.insert(l,a);l.edge=a.edge=r_(i.site,l.site);y_(i);y_(a);return}if(!a){l.edge=r_(i.site,l.site);return}x_(i);x_(a);var c=i.site,u=c[0],d=c[1],f=e[0]-u,p=e[1]-d,h=a.site,m=h[0]-u,_=h[1]-d,g=2*(f*_-p*m),v=f*f+p*p,b=m*m+_*_,y=[(_*v-p*b)/g+u,(f*b-m*v)/g+d];o_(a.edge,c,h,y);l.edge=r_(c,e,null,y);a.edge=r_(e,h,null,y);y_(i);y_(a)}function T_(e,t){var n=e.site,i=n[0],a=n[1],r=a-t;if(!r)return i;var s=e.P;if(!s)return-Infinity;n=s.site;var o=n[0],l=n[1],c=l-t;if(!c)return o;var u=o-i,d=1/r-1/c,f=u/c;if(d)return(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-l+c/2+a-r/2)))/d+i;return(i+o)/2}function A_(e,t){var n=e.N;if(n)return T_(n,t);var i=e.site;return i[1]===t?i[0]:Infinity}var C_=1e-6;var D_=1e-12;var R_;var I_;var O_;var F_;function N_(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function B_(e,t){return t[1]-e[1]||t[0]-e[0]}function P_(e,t){var n=e.sort(B_).pop(),i,a,r;F_=[];I_=new Array(e.length);R_=new e_;O_=new e_;while(true){r=v_;if(n&&(!r||n[1]<r.y||n[1]===r.y&&n[0]<r.x)){if(n[0]!==i||n[1]!==a){M_(n);i=n[0],a=n[1]}n=e.pop()}else if(r){k_(r.arc)}else{break}}m_();if(t){var s=+t[0][0],o=+t[0][1],l=+t[1][0],c=+t[1][1];u_(s,o,l,c);__(s,o,l,c)}this.edges=F_;this.cells=I_;R_=O_=F_=I_=null}P_.prototype={constructor:P_,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return p_(t,e[n])});n.data=t.site.data;return n})},triangles:function(){var e=[],t=this.edges;this.cells.forEach(function(n,i){if(!(o=(r=n.halfedges).length))return;var a=n.site,r,s=-1,o,l,c=t[r[o-1]],u=c.left===a?c.right:c.left;while(++s<o){l=u;c=t[r[s]];u=c.left===a?c.right:c.left;if(l&&u&&i<l.index&&i<u.index&&N_(a,l,u)<0){e.push([a.data,l.data,u.data])}}});return e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){var i=this,a,r=i._found||0,s=i.cells.length,o;while(!(o=i.cells[r]))if(++r>=s)return null;var l=e-o.site[0],c=t-o.site[1],u=l*l+c*c;do{o=i.cells[a=r],r=null;o.halfedges.forEach(function(n){var a=i.edges[n],s=a.left;if((s===o.site||!s)&&!(s=a.right))return;var l=e-s[0],c=t-s[1],d=l*l+c*c;if(d<u)u=d,r=s.index})}while(r!==null);i._found=a;return n==null||u<=n*n?o.site:null}};var U_=function(){var e=Qm,t=Zm,n=null;function i(i){return new P_(i.map(function(n,a){var r=[Math.round(e(n,a,i)/C_)*C_,Math.round(t(n,a,i)/C_)*C_];r.index=a;r.data=n;return r}),n)}i.polygons=function(e){return i(e).polygons()};i.links=function(e){return i(e).links()};i.triangles=function(e){return i(e).triangles()};i.x=function(t){return arguments.length?(e=typeof t==="function"?t:Xm(+t),i):e};i.y=function(e){return arguments.length?(t=typeof e==="function"?e:Xm(+e),i):t};i.extent=function(e){return arguments.length?(n=e==null?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]};i.size=function(e){return arguments.length?(n=e==null?null:[[0,0],[+e[0],+e[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]};return i};var Y_=function(e){return function(){return e}};function H_(e,t,n){this.target=e;this.type=t;this.transform=n}function G_(e,t,n){this.k=e;this.x=t;this.y=n}G_.prototype={constructor:G_,scale:function(e){return e===1?this:new G_(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new G_(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var V_=new G_(1,0,0);$_.prototype=G_.prototype;function $_(e){return e.__zoom||V_}function j_(){e.event.stopImmediatePropagation()}var z_=function(){e.event.preventDefault();e.event.stopImmediatePropagation()};function q_(){return!e.event.button}function W_(){var e=this,t,n;if(e instanceof SVGElement){e=e.ownerSVGElement||e;t=e.width.baseVal.value;n=e.height.baseVal.value}else{t=e.clientWidth;n=e.clientHeight}return[[0,0],[t,n]]}function K_(){return this.__zoom||V_}var J_=function(){var t=q_,n=W_,i=0,a=Infinity,r=-a,s=a,o=r,l=s,c=250,u=Lo,d=[],f=Mt("start","zoom","end"),p,h,m=500,_=150,g=0;function v(e){e.on("wheel.zoom",k).on("mousedown.zoom",M).on("dblclick.zoom",T).on("touchstart.zoom",A).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",K_)}v.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",K_);if(e!==n){S(e,t)}else{n.interrupt().each(function(){L(this,arguments).start().zoom(null,typeof t==="function"?t.apply(this,arguments):t).end()})}};v.scaleBy=function(e,t){v.scaleTo(e,function(){var e=this.__zoom.k,n=typeof t==="function"?t.apply(this,arguments):t;return e*n})};v.scaleTo=function(e,t){v.transform(e,function(){var e=n.apply(this,arguments),i=this.__zoom,a=w(e),r=i.invert(a),s=typeof t==="function"?t.apply(this,arguments):t;return x(y(b(i,s),a,r),e)})};v.translateBy=function(e,t,i){v.transform(e,function(){return x(this.__zoom.translate(typeof t==="function"?t.apply(this,arguments):t,typeof i==="function"?i.apply(this,arguments):i),n.apply(this,arguments))})};function b(e,t){t=Math.max(i,Math.min(a,t));return t===e.k?e:new G_(t,e.x,e.y)}function y(e,t,n){var i=t[0]-n[0]*e.k,a=t[1]-n[1]*e.k;return i===e.x&&a===e.y?e:new G_(e.k,i,a)}function x(e,t){var n=e.invertX(t[0][0])-r,i=e.invertX(t[1][0])-s,a=e.invertY(t[0][1])-o,c=e.invertY(t[1][1])-l;return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),c>a?(a+c)/2:Math.min(0,a)||Math.max(0,c))}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function S(e,t,i){e.on("start.zoom",function(){L(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).end()}).tween("zoom",function(){var e=this,a=arguments,r=L(e,a),s=n.apply(e,a),o=i||w(s),l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=e.__zoom,d=typeof t==="function"?t.apply(e,a):t,f=u(c.invert(o).concat(l/c.k),d.invert(o).concat(l/d.k));return function(e){if(e===1)e=d;else{var t=f(e),n=l/t[2];e=new G_(n,o[0]-t[0]*n,o[1]-t[1]*n)}r.zoom(null,e)}})}function L(e,t){for(var n=0,i=d.length,a;n<i;++n){if((a=d[n]).that===e){return a}}return new E(e,t)}function E(e,t){this.that=e;this.args=t;this.index=-1;this.active=0;this.extent=n.apply(e,t)}E.prototype={start:function(){if(++this.active===1){this.index=d.push(this)-1;this.emit("start")}return this},zoom:function(e,t){if(this.mouse&&e!=="mouse")this.mouse[1]=t.invert(this.mouse[0]);if(this.touch0&&e!=="touch")this.touch0[1]=t.invert(this.touch0[0]);if(this.touch1&&e!=="touch")this.touch1[1]=t.invert(this.touch1[0]);this.that.__zoom=t;this.emit("zoom");return this},end:function(){if(--this.active===0){d.splice(this.index,1);this.index=-1;this.emit("end")}return this},emit:function(e){Zt(new H_(v,e,this.that.__zoom),f.apply,f,[e,this.that,this.args])}};function k(){if(!t.apply(this,arguments))return;var n=L(this,arguments),r=this.__zoom,s=Math.max(i,Math.min(a,r.k*Math.pow(2,-e.event.deltaY*(e.event.deltaMode?120:1)/500))),o=nn(this);if(n.wheel){if(n.mouse[0][0]!==o[0]||n.mouse[0][1]!==o[1]){n.mouse[1]=r.invert(n.mouse[0]=o)}clearTimeout(n.wheel)}else if(r.k===s)return;else{n.mouse=[o,r.invert(o)];Wh(this);n.start()}z_();n.wheel=setTimeout(l,_);n.zoom("mouse",x(y(b(r,s),n.mouse[0],n.mouse[1]),n.extent));function l(){n.wheel=null;n.end()}}function M(){if(h||!t.apply(this,arguments))return;var n=L(this,arguments),i=Mi(e.event.view).on("mousemove.zoom",o,true).on("mouseup.zoom",l,true),a=nn(this),r=e.event.clientX,s=e.event.clientY;Ii(e.event.view);j_();n.mouse=[a,this.__zoom.invert(a)];Wh(this);n.start();function o(){z_();if(!n.moved){var t=e.event.clientX-r,i=e.event.clientY-s;n.moved=t*t+i*i>g}n.zoom("mouse",x(y(n.that.__zoom,n.mouse[0]=nn(n.that),n.mouse[1]),n.extent))}function l(){i.on("mousemove.zoom mouseup.zoom",null);Oi(e.event.view,n.moved);z_();n.end()}}function T(){if(!t.apply(this,arguments))return;var i=this.__zoom,a=nn(this),r=i.invert(a),s=i.k*(e.event.shiftKey?.5:2),o=x(y(b(i,s),a,r),n.apply(this,arguments));z_();if(c>0)Mi(this).transition().duration(c).call(S,o,a);else Mi(this).call(v.transform,o)}function A(){if(!t.apply(this,arguments))return;var n=L(this,arguments),i=e.event.changedTouches,a,r=i.length,s,o,l;j_();for(s=0;s<r;++s){o=i[s],l=Ai(this,i,o.identifier);l=[l,this.__zoom.invert(l),o.identifier];if(!n.touch0)n.touch0=l,a=true;else if(!n.touch1)n.touch1=l}if(p){p=clearTimeout(p);if(!n.touch1){n.end();l=Mi(this).on("dblclick.zoom");if(l)l.apply(this,arguments);return}}if(a){p=setTimeout(function(){p=null},m);Wh(this);n.start()}}function C(){var t=L(this,arguments),n=e.event.changedTouches,i=n.length,a,r,s,o;z_();if(p)p=clearTimeout(p);for(a=0;a<i;++a){r=n[a],s=Ai(this,n,r.identifier);if(t.touch0&&t.touch0[2]===r.identifier)t.touch0[0]=s;else if(t.touch1&&t.touch1[2]===r.identifier)t.touch1[0]=s}r=t.that.__zoom;if(t.touch1){var l=t.touch0[0],c=t.touch0[1],u=t.touch1[0],d=t.touch1[1],f=(f=u[0]-l[0])*f+(f=u[1]-l[1])*f,h=(h=d[0]-c[0])*h+(h=d[1]-c[1])*h;r=b(r,Math.sqrt(f/h));s=[(l[0]+u[0])/2,(l[1]+u[1])/2];o=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else if(t.touch0)s=t.touch0[0],o=t.touch0[1];else return;t.zoom("touch",x(y(r,s,o),t.extent))}function D(){var t=L(this,arguments),n=e.event.changedTouches,i=n.length,a,r;j_();if(h)clearTimeout(h);h=setTimeout(function(){h=null},m);for(a=0;a<i;++a){r=n[a];if(t.touch0&&t.touch0[2]===r.identifier)delete t.touch0;else if(t.touch1&&t.touch1[2]===r.identifier)delete t.touch1}if(t.touch1&&!t.touch0)t.touch0=t.touch1,delete t.touch1;if(t.touch0)t.touch0[1]=this.__zoom.invert(t.touch0[0]);else t.end()}v.filter=function(e){return arguments.length?(t=typeof e==="function"?e:Y_(!!e),v):t};v.extent=function(e){return arguments.length?(n=typeof e==="function"?e:Y_([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):n};v.scaleExtent=function(e){return arguments.length?(i=+e[0],a=+e[1],v):[i,a]};v.translateExtent=function(e){return arguments.length?(r=+e[0][0],s=+e[1][0],o=+e[0][1],l=+e[1][1],v):[[r,o],[s,l]]};v.duration=function(e){return arguments.length?(c=+e,v):c};v.interpolate=function(e){return arguments.length?(u=e,v):u};v.on=function(){var e=f.on.apply(f,arguments);return e===f?v:e};v.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,v):Math.sqrt(g)};return v};e.version=t;e.bisect=s;e.bisectRight=s;e.bisectLeft=o;e.ascending=n;e.bisector=i;e.cross=u;e.descending=d;e.deviation=h;e.extent=m;e.histogram=A;e.thresholdFreedmanDiaconis=D;e.thresholdScott=R;e.thresholdSturges=T;e.max=I;e.mean=O;e.median=F;e.merge=N;e.min=B;e.pairs=l;e.permute=P;e.quantile=C;e.range=x;e.scan=U;e.shuffle=Y;e.sum=H;e.ticks=E;e.tickIncrement=k;e.tickStep=M;e.transpose=G;e.variance=p;e.zip=$;e.axisTop=ie;e.axisRight=ae;e.axisBottom=re;e.axisLeft=se;e.nest=ue;e.set=ge;e.map=ce;e.keys=ve;e.values=be;e.entries=ye;e.color=Pe;e.rgb=Ge;e.hsl=ze;e.lab=st;e.hcl=pt;e.cubehelix=Lt;e.dispatch=Mt;e.drag=Yi;e.dragDisable=Ii;e.dragEnable=Oi;e.dsvFormat=$i;e.csvParse=zi;e.csvParseRows=qi;e.csvFormat=Wi;e.csvFormatRows=Ki;e.tsvParse=Xi;e.tsvParseRows=Qi;e.tsvFormat=Zi;e.tsvFormatRows=ea;e.easeLinear=ta;e.easeQuad=aa;e.easeQuadIn=na;e.easeQuadOut=ia;e.easeQuadInOut=aa;e.easeCubic=oa;e.easeCubicIn=ra;e.easeCubicOut=sa;e.easeCubicInOut=oa;e.easePoly=da;e.easePolyIn=ca;e.easePolyOut=ua;e.easePolyInOut=da;e.easeSin=_a;e.easeSinIn=ha;e.easeSinOut=ma;e.easeSinInOut=_a;e.easeExp=ba;e.easeExpIn=ga;e.easeExpOut=va;e.easeExpInOut=ba;e.easeCircle=wa;e.easeCircleIn=ya;e.easeCircleOut=xa;e.easeCircleInOut=wa;e.easeBounce=Oa;e.easeBounceIn=Ia;e.easeBounceOut=Oa;e.easeBounceInOut=Fa;e.easeBack=Ua;e.easeBackIn=Ba;e.easeBackOut=Pa;e.easeBackInOut=Ua;e.easeElastic=$a;e.easeElasticIn=Va;e.easeElasticOut=$a;e.easeElasticInOut=ja;e.formatDefaultLocale=lr;e.formatLocale=sr;e.formatSpecifier=nr;e.precisionFixed=cr;e.precisionPrefix=ur;e.precisionRound=dr;e.cluster=br;e.hierarchy=Ir;e.pack=as;e.packSiblings=Qr;e.packEnclose=Hr;e.partition=us;e.stratify=_s;e.tree=Es;e.treemap=Cs;e.treemapBinary=Ds;e.treemapDice=cs;e.treemapSlice=ks;e.treemapSliceDice=Rs;e.treemapSquarify=As;e.treemapResquarify=Is;e.interpolate=no;e.interpolateArray=qs;e.interpolateBasis=Fs;e.interpolateBasisClosed=Ns;e.interpolateDate=Ws;e.interpolateNumber=Ks;e.interpolateObject=Js;e.interpolateRound=io;e.interpolateString=to;e.interpolateTransformCss=mo;e.interpolateTransformSvg=_o;e.interpolateZoom=Lo;e.interpolateRgb=Vs;e.interpolateRgbBasis=js;e.interpolateRgbBasisClosed=zs;e.interpolateHsl=ko;e.interpolateHslLong=Mo;e.interpolateLab=To;e.interpolateHcl=Co;e.interpolateHclLong=Do;e.interpolateCubehelix=Io;e.interpolateCubehelixLong=Oo;e.quantize=Fo;e.path=Ho;e.polygonArea=Go;e.polygonCentroid=Vo;e.polygonHull=qo;e.polygonContains=Wo;e.polygonLength=Ko;e.queue=al;e.randomUniform=sl;e.randomNormal=ol;e.randomLogNormal=ll;e.randomBates=ul;e.randomIrwinHall=cl;e.randomExponential=dl;e.request=fl;e.html=_l;e.json=gl;e.text=vl;e.xml=bl;e.csv=wl;e.tsv=Sl;e.scaleBand=Al;e.scalePoint=Dl;e.scaleIdentity=jl;e.scaleLinear=$l;e.scaleLog=Zl;e.scaleOrdinal=Tl;e.scaleImplicit=Ml;e.scalePow=tc;e.scaleSqrt=nc;e.scaleQuantile=ic;e.scaleQuantize=ac;e.scaleThreshold=rc;e.scaleTime=Rd;e.scaleUtc=Id;e.schemeCategory10=Fd;e.schemeCategory20b=Nd;e.schemeCategory20c=Bd;e.schemeCategory20=Pd;e.interpolateCubehelixDefault=Ud;e.interpolateRainbow=Vd;e.interpolateWarm=Yd;e.interpolateCool=Hd;e.interpolateViridis=jd;e.interpolateMagma=zd;e.interpolateInferno=qd;e.interpolatePlasma=Wd;e.scaleSequential=Kd;e.creator=Bt;e.local=Ut;e.matcher=$t;e.mouse=nn;e.namespace=Ot;e.namespaces=It;e.select=Mi;e.selectAll=Ti;e.selection=ki;e.selector=rn;e.selectorAll=ln;e.style=Gn;e.touch=Ai;e.touches=Ci;e.window=Bn;e.customEvent=Zt;e.arc=vf;e.area=Lf;e.line=Sf;e.pie=Mf;e.radialArea=If;e.radialLine=Rf;e.linkHorizontal=Gf;e.linkVertical=Vf;e.linkRadial=$f;e.symbol=up;e.symbols=cp;e.symbolCircle=jf;e.symbolCross=zf;e.symbolDiamond=Kf;e.symbolSquare=tp;e.symbolStar=ep;e.symbolTriangle=ip;e.symbolWye=lp;e.curveBasisClosed=_p;e.curveBasisOpen=vp;e.curveBasis=hp;e.curveBundle=yp;e.curveCardinalClosed=Ep;e.curveCardinalOpen=Mp;e.curveCardinal=Sp;e.curveCatmullRomClosed=Rp;e.curveCatmullRomOpen=Op;e.curveCatmullRom=Cp;e.curveLinearClosed=Np;e.curveLinear=yf;e.curveMonotoneX=$p;e.curveMonotoneY=jp;e.curveNatural=Wp;e.curveStep=Jp;e.curveStepAfter=Qp;e.curveStepBefore=Xp;e.stack=nh;e.stackOffsetExpand=ih;e.stackOffsetDiverging=ah;e.stackOffsetNone=Zp;e.stackOffsetSilhouette=rh;e.stackOffsetWiggle=sh;e.stackOrderAscending=oh;e.stackOrderDescending=ch;e.stackOrderInsideOut=uh;e.stackOrderNone=eh;e.stackOrderReverse=dh;e.timeInterval=lc;e.timeMillisecond=cc;e.timeMilliseconds=uc;e.utcMillisecond=cc;e.utcMilliseconds=uc;e.timeSecond=_c;e.timeSeconds=gc;e.utcSecond=_c;e.utcSeconds=gc;e.timeMinute=vc;e.timeMinutes=bc;e.timeHour=yc;e.timeHours=xc;e.timeDay=wc;e.timeDays=Sc;e.timeWeek=Ec;e.timeWeeks=Rc;e.timeSunday=Ec;e.timeSundays=Rc;e.timeMonday=kc;e.timeMondays=Ic;e.timeTuesday=Mc;e.timeTuesdays=Oc;e.timeWednesday=Tc;e.timeWednesdays=Fc;e.timeThursday=Ac;e.timeThursdays=Nc;e.timeFriday=Cc;e.timeFridays=Bc;e.timeSaturday=Dc;e.timeSaturdays=Pc;e.timeMonth=Uc;e.timeMonths=Yc;e.timeYear=Hc;e.timeYears=Gc;e.utcMinute=Vc;e.utcMinutes=$c;e.utcHour=jc;e.utcHours=zc;e.utcDay=qc;e.utcDays=Wc;e.utcWeek=Jc;e.utcWeeks=iu;e.utcSunday=Jc;e.utcSundays=iu;e.utcMonday=Xc;e.utcMondays=au;e.utcTuesday=Qc;e.utcTuesdays=ru;e.utcWednesday=Zc;e.utcWednesdays=su;e.utcThursday=eu;e.utcThursdays=ou;e.utcFriday=tu;e.utcFridays=lu;e.utcSaturday=nu;e.utcSaturdays=cu;e.utcMonth=uu;e.utcMonths=du;e.utcYear=fu;e.utcYears=pu;e.timeFormatDefaultLocale=_d;e.timeFormatLocale=gu;e.isoFormat=bd;e.isoParse=xd;e.now=Sh;e.timer=kh;e.timerFlush=Mh;e.timeout=Rh;e.interval=Ih;e.transition=Vm;e.active=Jm;e.interrupt=Wh;e.voronoi=U_;e.zoom=J_;e.zoomTransform=$_;e.zoomIdentity=V_;Object.defineProperty(e,"__esModule",{value:true})})},function(e,t){const n=function(e,t){let n;if(e){n=_.every(t.criteria,t=>t==="test_passed"?e.testing_enabled&&e.test_passed:e[t]);e._isValid=n}const i=n?t.success:t.error;i(e)};e.exports={_cacheKey:"connectors",checkConnector(e){const{name:t}=e;const i=app.cache.get(this._cacheKey);const a=i&&i[t];let r=false;if(a){n(a,e);r=a._isValid}if(!r){this.getConnectors(i=>n(i[t],e))}},getConnectorModuleFieldMapping(e,t={}){t=app.cache.get(this._cacheKey)[t];const n=_.getNested(t,"field_mapping.beans",{})[e]||{};return n},getConnectors(e){const t=app.api.buildURL("connectors");app.api.call("GET",t,{},{success:t=>{const n=_.omit(t.connectors,"_hash")||{};_.each(n,e=>{e.connectorHash=t._hash});app.cache.set(this._cacheKey,n);e(n)}})},cleanCache(){app.cache.cut(this._cacheKey)}}},function(e,t){e.exports={get(e,t){const{baseType:n}=e;let i=e.module||e.parentModule;const a=t&&t.model;const{link:r}=e;const{create:s}=e;const{isLoggingCall:o}=e;let l;switch(n){case"errorEmulation":l={title:"Error Emulation",save:false,back:true};break;case"offlineSettings":l={title:app.lang.get("LBL_OFFLINE_DEBUG_SETTINGS"),mainMenu:true,back:true};break;case"offlineStats":l={title:app.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS"),mainMenu:true,back:true};break;case"offlineDataGeneration":l={title:"Data Generation",mainMenu:true,back:true};break;case"offline":l={title:app.lang.get("LBL_OFFLINE_MENU_SETTINGS"),mainMenu:true,back:true};break;case"about":l={title:app.lang.get("LNK_ABOUT"),mainMenu:app.api.isAuthenticated()&&app.isSynced,rightMenu:false,back:true};break;case"settings":l={title:app.lang.get("LNK_SETTINGS"),save:true,cancel:true};break;case"detail":if(i==="TxLog"){l={title:app.lang.get("LBL_TX_LOG_DETAIL"),cancel:true}}else{const e=app.lang.getModuleName(i)||i;const t=r?app.lang.get("LBL_RELATED_MODULE",i,e):e;const n=!app.isTablet||app.isTablet&&!r;l={title:t,mainMenu:true,rightMenu:true,back:n}}break;case"edit":{const t=Boolean(r);const n=app.acl.hasAccess("edit",i)&&(a?a.hasEditAccess():true);if(t){i=app.data.getRelatedModule(e.parentModule||i,r)}let c;const u=app.lang.getModuleName(i)||i;l={save:true,cancel:true,mainMenu:false};if(s){const e=o;c=t&&!e?app.lang.get("LBL_CREATE_RELATED",i,u):app.lang.get("LBL_CREATE_MODULE",i,u)}else if(n){c=t?app.lang.get("LBL_EDIT_RELATED",i,u):app.lang.get("LBL_EDIT",i,u)}else{c=t?app.lang.get("LBL_RELATED_MODULE",i,u):u}l.title=c;break}case"list":if(i==="Activities"){l={mainMenu:true,title:app.lang.getAppString("LBL_ACTIVITY_STREAM"),offlineEnabled:app.offlineEnabled}}else if(i==="Search"){l={title:app.lang.get("LBL_MOBILE_GLOBAL_SEARCH"),mainMenu:true,rightMenu:true,search:true}}else if(i==="TxLog"){l={title:app.lang.get("LBL_TX_LOG"),mainMenu:true,back:true}}else{const e=app.lang.getModuleName(i,{plural:true})||i;let t=false;let n=e||i;if(r){n=app.lang.get("LBL_RELATED_MODULE_PLURAL",i,e);t=true}l={title:n,back:t,mainMenu:true,rightMenu:true};if(i==="Teams"){l.rightMenu=false;l.save=false}}break;case"selection-list":l={title:app.lang.get("LBL_ASSOC",i,app.lang.getModuleName(i)||i),save:app.data.canHaveMany(e.parentModule,r),cancel:true,search:true,back:false,rightMenu:false};break}return l}}},function(e,t,n){const i=n(119);const a=n(7);const r=n(1);const s=n(124);const o=n(86);e.exports=_.extend({layoutCacheSize:10,_noCacheLayouts:["associate","pickerlist"],_dynamicLayout:null,init(e){this.rootLayout={el:e.rootHolder,layoutRef:null};this.recordLayout={el:e.recordHolder,layoutRef:null};this.layoutCache=new s;return this},_loadScreen(e){const t=this._getLayoutDefs(e);if(!e.isDynamic){this.disposeDynamicLayout({disposeAll:true})}app.activeComponents.closeAll();const n=t.length===2||t[0].appendTo===this.recordLayout;$(document.body).toggleClass("show-content-child",n);this._updateMainMenuVisibility();const i=this._buildLayoutsFromDef(t,e);const a=e.isDynamic&&e.layouts[0]&&e.layouts[0].fullScreen;if(app.isTablet&&this.getRecordLayout()&&!n&&!a){this._disposeLayout(this.getRecordLayout())}this._afterLoad(e);return i},getLayouts(){const e=[];if(this.getRootLayout()){e.push(this.getRootLayout())}if(this.getRecordLayout()){e.push(this.getRecordLayout())}if(app.isTablet){return e}return e.length?[_.last(e)]:[]},onAppPause(){app.activeComponents.closeAll();_.invoke(this.getLayouts(),"onAppPause")},onAppResume(){const e=(new Date).getTime()-app.nomad.timePaused;_.each(this.getLayouts(),t=>{if(e>app.config.ui.refreshOnResumeTimeout&&t.name!=="edit"){t.context.resetLoadFlag();t.loadData()}t.onAppResume()})},_getRootLayoutDef(e){let t;let n;if(_.isEmpty(e.layouts)){switch(e.root){case"Recents":case"Search":n="list";t={mixed:true,module:"Search",views:r.getViewClass({baseType:n,module:"Search"})};break;case"Offline":if(e.module==="TxLog"){n="list";t={module:"TxLog",views:r.getViewClass({baseType:n,module:"TxLog"})}}else{n=e.module||"offline";t={module:"Offline",create:true,cacheDisabled:true,views:r.getViewClass(n)}}break;case"About":case"Settings":case"Login":n=e.root.toLowerCase();t={module:e.root,views:r.getViewClass(n),create:true,cacheDisabled:true};if(e.root==="Login"){t.headerConfig={enabled:false}}break;case"ErrorEmulation":n="errorEmulation";t={views:r.getViewClass(n)};break;default:if(e.root==="Dashboards"||e.dashboardId){t=this._getDashboardLayoutParams(e,true);if(!t){return null}n=t.baseType}else if(e.link){const i=app.data.getRelatedModule(e.parentModule,e.link);n="list";t={views:r.getViewClass({baseType:n,module:i}),link:e.link,module:i,parentModelId:e.parentModelId,parentModule:e.parentModule,subType:"relationships"}}else{n="list";t={module:e.module,views:r.getViewClass({baseType:n,module:e.module})}}break}}else{t=e.layouts[0]}if(t){t.appendTo=this.rootLayout;t.baseType=n||t.baseType}return t},_getRecordLayoutDef(e){let t;const{action:n}=e;let i;if(_.isEmpty(e.layouts)){if(e.module==="Dashboards"||!(e.modelId||e.dashboardId||n==="create"||n==="associate")){return null}if(e.link){const s=app.data.getRelatedModule(e.parentModule,e.link);if(n==="create"){i="edit";t={link:e.link,parentModule:e.parentModule,parentModelId:e.parentModelId,create:true,views:r.getViewClass({baseType:i,module:s})}}else if(n==="associate"){i="selection-list";const{parentModule:n}=e;const o=new a({module:s}).prepare();t={link:e.link,views:r.getViewClass({baseType:i,module:s}),context:o,cacheDisabled:true,multiselect:app.data.canHaveMany(n,e.link)}}else{i=n?"edit":"detail";t={link:e.link,parentModule:e.parentModule,parentModelId:e.parentModelId,modelId:e.modelId,views:r.getViewClass({baseType:i,module:s})}}}else if(e.root==="Dashboards"||e.dashboardId){t=this._getDashboardLayoutParams(e,false);if(!t){return null}t.animateRender=false;i=t.baseType}else if(n==="create"){i="edit";t={module:e.module,create:true,views:r.getViewClass({baseType:i,module:e.module})}}else{i=n?"edit":"detail";t={views:r.getViewClass({baseType:i,module:e.module}),module:e.module,modelId:e.modelId}}}else if(e.layouts.length===2){t=e.layouts[1]}else{return null}t.baseType=i||t.baseType;t.appendTo=this._getRecordLayoutContainer();if(_.isUndefined(t.animateRender)){t.animateRender=true}return t},_getLayoutDefs(e){if(!_.isEmpty(e.layouts)||!_.isEmpty(e.views)){e.layouts=this._getLayoutDefsFromShortcuts(e)}let t=[];const n=this._getRootLayoutDef(e);const i=this._getRecordLayoutDef(e);if(n){n.isRootScreen=true;n.isRecordVisible=Boolean(i);t.push(n)}if(i){i.isRecordScreen=true;t.push(i)}if(!app.isTablet){t=[_.last(t)]}if(e.data){_.each(t,t=>t.data=t.data||e.data)}return t},_getLayoutDefsFromShortcuts(e){let t=e.views?[{views:e.views}]:e.layouts;if(!_.isArray(t)){t=[t]}const n=_.map(t,t=>{let n;if(_.isFunction(t)){n={type:t,controller:t}}else{n=_.clone(t);if(_.isEmpty(t.name)&&_.isEmpty(t.type)){n.type=i;n.controller=i}if(t.baseType&&!t.views){n.views=r.getViewClass({baseType:t.baseType,module:t.module});n.baseType=t.baseType}}if(e.isDynamic){_.defaults(n,{isDynamic:true,animateRender:true,appendTo:"record"})}return n});if(_.first(n).appendTo==="record"){n.unshift(null)}return n},_afterLoad(e){this._checkAlerts()},_updateMainMenuVisibility(){const e=app.nomad.mainMenu;const t=app.api.isAuthenticated();if(e){e.$el.toggle(t)}},_getLayout(e){const t=this._getLayoutCacheId(e);const n=this.layoutCache.get(t);if(!n){const t=e.context||this._getPreparedContext(e);return app.view.createLayout(_.extend(_.omit(e,"appendTo","controller"),{context:t,def:e}))}n.options.def=e;return n},_attachLayout(e){const t=this;const n=e.options.def;const i=n.appendTo;const a=n.appendTo.layoutRef;const r=function(){if(a&&!app.isTablet&&$.os.android){a.$el.hideElement()}t._handleLayoutFullScreen(e,a);i.layoutRef=e;e.$el.showElement();$(i.el).append(e.$el);_.each([t.rootLayout,t.recordLayout],t=>{if(t!==e.getDefinition().appendTo&&t.layoutRef===e){t.layoutRef=null}})};if(!a||a&&a!==e){if(e.getDefinition().animateRender){const t=e.getOverlay$El();if(!_.isEmpty(t)){t.showElement()}}r();this._renderLayout(e)}this._renderHeader(n,e);e.onAfterShow();return a},_renderLayout(e){if(e.cached){e.renderFromCache({animation:{enabled:e.getDefinition().animateRender,preAnimationDelay:0,animationLength:200}})}else{e.render({animation:this._getFreshRenderAnimationOptions(e)})}},_renderHeader(e,t){if(t._headerAttached){return}t._headerAttached=true;const n=r.getViewClass({baseType:e.baseType==="edit"?"headerEdit":"header",module:e.module});const i=this._buildHeaderConfig(t,{headerClass:n});t.$el.toggleClass("layout__noHeader",!i.enabled);if(!i.enabled){return}const a={name:n,module:e.module,config:i,model:t._components[0].model,context:t._components[0].context};if(i.rightMenu){_.extend(a,{parentView:_.first(t._components),viewSubType:e.subType})}const s=app.view.createView(a);s.render();t._components.unshift(s);t._header=s;t.$el.prepend(s.$el);s.onAfterShow();t.listenTo(s,"component:action",e=>{t.handleComponentAction(s,e)});s.listenTo(t.model,"data:sync:complete",()=>{const e=this._buildHeaderConfig(t,{headerClass:n,model:t.model});s.config.title=e.title;s.config.subtitle=e.subtitle;s.$(".header-title").text(s.config.title);s.$(".header-subtitle").text(s.config.subtitle)})},_buildHeaderConfig(e,t){const n=t&&t.headerClass;let i=o.get(e.options,t)||{};_.each(e._components,e=>{if(e.headerConfig){i=_.isFunction(e.headerConfig)?e.headerConfig(i):_.extend(i,e.headerConfig)}});_.extend(i,e.options.headerConfig);i.enabled=_.isUndefined(i.enabled)?true:_.isFunction(i.enabled)?i.enabled():Boolean(i.enabled);if(!i.enabled){return i}i.offlineEnabled=app.offlineEnabled;if(i.buttons){const{buttons:e}=i;const t={cancelLabel:_.getNested(e,"cancel.label"),saveLabel:_.getNested(e,"save.label")};if(e){_.each(n.getBaseButtonNames(),n=>{if(!_.isUndefined(e[n])){t[n]=Boolean(e[n])}})}_.each(t,(e,t)=>{if(!_.isUndefined(e)){i[t]=e}})}return i},_getFreshRenderAnimationOptions(e){return{enabled:e.getDefinition().animateRender,preAnimationDelay:200,animationLength:200}},_cacheLayout(e){const t=e.options.def;const n=this._getLayoutCacheId(t);const i=this.layoutCache.get(n);if(!this._canCache(t)){return}if(i){this.layoutCache.remove(i);this.layoutCache.push(n,i)}else{e.cached=true;this.layoutCache.push(n,e)}if(this.layoutCache.count()>this.layoutCacheSize){const e=this.layoutCache.shift();this._disposeLayout(e,{hardDispose:true})}},_canCache(e){const t=e.cacheDisabled||e.isDynamic||e.baseType==="edit"||_.contains(this._noCacheLayouts,e.subType);return!t},_disposeLayout(e,t){if(e.disposed===true){app.logger.debug(`Trying to dispose already disposed layout ${e.name}.`);return}t=t||{};e.onDetachFromDom();if(e.getDefinition().appendTo.layoutRef===e){e.getDefinition().appendTo.layoutRef=null}const n=this._dynamicLayout&&this._dynamicLayout.prevLayout===e;if((n||e.cached)&&!t.hardDispose){if(t.detachDelay){const n=this;_.delay(()=>{if(!(_.contains(n.getLayouts(),e)||e.disposed)){e.$el.detach()}},t.detachDelay)}else{e.$el.detach()}}else{delete e.prevLayout;e.dispose()}},_getPreparedContext(e){const t=["appendTo","animateRender","baseType","cacheDisabled","context","controller","headerConfig","isDynamic","isRootScreen","isRecordScreen","controller","type","views"];const n=new a(_.omit(e,t));const i=Boolean(e.module||e.parentModule||e.mixed);n.prepare();if(!i){n.setFetch(false)}if(e.parentModelId){this.layoutCache.iterate(t=>{const i=t.context.get("model");if(i&&e.parentModelId===i.id){n.set("parentModel",i)}})}return n},_buildLayoutsFromDef(e,t){const n=[];const i=t&&t.propagatingData;_.each(e,function e(t){const a=this._getLayout(t);const{model:r}=a;if(r&&i&&i.id===r.id&&_.contains(["detail","edit"],a.options.baseType)){r.inSync=true;r.set(i);r.inSync=null}if(a.options.isDynamic){this._dynamicLayout=a}else{this._dynamicLayout=null}const s=this._attachLayout(a);this._cacheLayout(a);if(a.options.isDynamic){if(s){s.cached=true;a.prevLayout=s}}if(s&&s!==a){this._disposeLayout(s,{detachDelay:200})}n.push(a)},this);return n},getRecordLayout(){return this._getRecordLayoutContainer().layoutRef},getRootLayout(){return this.rootLayout.layoutRef},isDynamicLayoutLoaded(){return Boolean(this._dynamicLayout)},invalidateLayouts(e){this.layoutCache.iterate(t=>{let n;const i=e[t.options.baseType];if(!i){return}const a=_.isArray(i)?i:i.items;if(i.modules){n=_.contains(i.modules,t.module)}else if(i.modelIds){n=_.contains(i.modelIds,t.model.get("id"))}else if(a){_.each(a,e=>{n=e.module===t.module&&(!e.modelId||e.modelId===t.model.get("id"));return!n})}if(n){t.needLoadParams=i.loadParams||e.loadParams||true}})},disposeDynamicLayout({disposeAll:e=false,skipAttachPrevious:t=false,layoutsToDispose:n=1}={}){const i=()=>{if(e||n>0){return Boolean(this._dynamicLayout)}return false};do{if(this._dynamicLayout){const e=this._dynamicLayout;const i=e.prevLayout;if(i){if(!t){this._attachLayout(i)}this._dynamicLayout=i.options.isDynamic?i:null}else{this._dynamicLayout=null}n--;this._disposeLayout(e,{hardDispose:true})}}while(i())},_getLayoutCacheId(e){if(e.controller){const{config:t}=e.controller;return t&&t.enableCache?e.controller._layoutId:app.utils.generateUUID()}const t=_.chain(e).omit(["child","appendTo","context","animateRender","dashletId","view","headerConfig","isRecordVisible"]).keys().sort().value();return JSON.stringify(_.pick(e,t))},_getRecordLayoutContainer(){return app.isTablet?this.recordLayout:this.rootLayout},_checkAlerts(){const e=app.alert.getAll();_.each(e,(e,t)=>{if(!e.viewCounter){e.viewCounter=0}e.viewCounter++;if(e.viewCounter>=(app.config.ui.maxAlertsPerLayout||2)){app.alert.dismiss(t)}})},_clean(e){const t=this;const n=function(e){const n=function(e,t){if(e.prevLayout===t){return true}else if(e.prevLayout){return n(e.prevLayout,t)}return false};return t._dynamicLayout&&n(t._dynamicLayout,e)};if(e.disposeAll){this.disposeDynamicLayout({disposeAll:true});_.each(this.getLayouts(),function e(t){if(t){this._disposeLayout(t,{hardDispose:true})}},this)}const i=[];this.layoutCache.iterate(function e(t){if(this.getRootLayout()!==t&&this.getRecordLayout()!==t&&!n(t)){t.dispose();i.push(t)}else if(_.isFunction(t.clean)){t.clean()}},this);_.each(i,function e(t){this.layoutCache.remove(t)},this)},_handleLayoutFullScreen(e,t){if(!app.isTablet){return}const n="show-content-child";const i=e.options.def.fullScreen&&this.getLayouts().length>1;if(i){$(document.body).removeClass(n);e._inFullScreen=true}else if(t&&t._inFullScreen){t._inFullScreen=false;$(document.body).addClass(n)}},_getDashboardLayoutParams(e,t){const n=Boolean(e.modelId);const i=Boolean(e.parentModule&&e.parentModelId);let a;let s;const o={module:"Dashboards",baseType:"dashboard",views:r.getViewClass("dashboard"),dashletId:e.dashletId,dashboardId:e.dashboardId,parentModule:e.parentModule,parentModelId:e.parentModelId};if(i){if(e.parentDashboardId){a={baseType:"dashboard",views:r.getViewClass("dashboard"),module:"Dashboards",dashboardId:e.parentDashboardId,dashletId:e.parentDashletId}}else{a={baseType:"list",views:r.getViewClass({baseType:"list",module:e.parentModule}),module:e.parentModule};if(e.linkParentModule){_.extend(a,{link:e.moduleLink,parentModule:e.linkParentModule,parentModelId:e.linkParentModelId,subType:"relationships"})}}}if(n){const t=e.action?"edit":"detail";s={module:e.module,modelId:e.modelId,baseType:t,views:r.getViewClass({baseType:t,module:e.module})};if(e.action==="create"){s.create=true}}if(app.isTablet){if(n){return t?o:s}if(t){return i?a:o}return i?o:null}return t||e.root&&!n?o:s}},Backbone.Events)},function(e,t,n){const i=n(25);const a=n(56);const{StepTypes:r}=n(89);const s=n(14);const o=n(22);const l=n(1);let c=true;e.exports={started:false,LoadScreenError:{NO_DASHBOARDS_MODULE:1,NO_DASHBOARD:2,NO_DASHLET:3,NO_MODULE:4,NO_CREATE_ACCESS:5,NO_OFFLINE_MODE:6,NEED_LOGIN:7,CONVERT_ROUTE_HAPPENED:8,CONVERT_ROUTE_ERROR:9,NEED_APP_SYNC:10,UNKNOWN_STEP:11},_contextList:null,_contextRec:null,_stepsBlackList:null,_history:null,_seedId:0,init(){a.init();this._history=app.navigation.history;this._stepsBlackList=[];this.started=true},navigate(e){e.url=this._adjustUrl(e.url);if(!e.initiator){e.initiator=i.GENERIC}if(e.initiator===i.CONFIGURE){c=true}if(e.url===null){this._navigateByParams(e)}else{this._navigateByUrl(e)}},refresh(){const e=this.getCurrentStep();const t=e?e.url:window.location.hash;app.controller.navigate(t)},forbidStep(e){if(!_.contains(this._stepsBlackList,e.modelId)){this._stepsBlackList.push(e.modelId)}},getRoutes(){return a.getRoutes()},getHistoryLength(){return this._history.getLength()},hasStepChanged(){const e=this._history.getPrevStep({includeSkipped:true});const t=this.getCurrentStep();return e&&e.stepDef.name!==t.stepDef.name},getCurrentStep(){return this._history.getCurrentStep()},_isStepAvailable(e){return!_.any(this._stepsBlackList,t=>e.url.indexOf(t)!==-1)},_getUpStepParams(e){const t=e.stepDef;const n=this.getCurrentStep();const{initiator:a}=e;let r;if(!n){return null}r=e.replaceCurrent?n.upParentId:n.id;this._syncContextRefs(t,e);if(a===i.UP){r=e.upParentId}else if(_.contains([i.LIST,i.DASHLET_LIST],a)){if(this._isDetailOrActionStep(t)){r=this._contextList}}else if(a===i.SAVE){if(this._isDetailOrActionStep(t)&&!this._isQuickCreateRelated(n.stepDef)){r=this._contextList}}else if(a===i.DASHBOARD){if(_.contains(["home-dashboard-dashlet","record-dashboard-dashlet"],n.stepDef.name)){r=this._contextRec}}return{upParentId:r,contextList:this._contextList,contextRec:this._contextRec}},_syncContextRefs(e,t){const n=this.getCurrentStep();const{initiator:a}=t;if(a===i.UP||a===i.BACK){if(t.contextList){this._contextList=t.contextList}if(t.contextRec){this._contextRec=t.contextRec}}else if(this._isListStep(n.stepDef,a)){this._contextList=n.id}else if(n.stepDef.name==="home-dashboard"||this._isDetailStep(n.stepDef)&&e.name==="record-dashboard-dashlet"){this._contextRec=n.id}},_isQuickCreateRelated(e){const t=this._history.getPrevStep();return t&&this._isDetailStep(t.stepDef)&&e.name==="relationships-create"},_isListStep(e,t){if(_.contains(["home-dashboard-dashlet","record-dashboard-dashlet","double-dashboard"],e.name)){return t===i.DASHLET_LIST}return e.stepType===r.LIST},_isDetailOrActionStep(e){return this._isDetailStep(e)||this._isActionStep(e)},_isDetailStep(e){return e.stepType===r.DETAIL},_isActionStep(e){return e.stepType===r.ACTION},_getContextUpStep(){return this._history.getStepById(this.getCurrentStep().upParentId)},_getDefaultUpStep(e,t){e=e||this.getCurrentStep().stepDef;const n=e.getMappedUpOptions(t||app.controller.getScreenContext());const i=e.getUpStep();let a;if(i){a={url:i.buildUrlFromTemplate(n),stepDef:i,screenOptions:n}}return a},_getUrlInfo(e){const t=e.substr(1);let n=a.findStepByUrl(t);let i;if(n){const e=n.url.regexp.exec(t).slice(1);i=n.getScreenOptions.apply(this,e)}else{n={unknown:true}}return{url:e,stepDef:n,screenOptions:i}},_navigate(e){const t=_.extend({},e,{id:++this._seedId,replaceCurrent:!this._shouldTrackCurrentStep(e.url)});const n=this._getUpStepParams(t);_.extend(t,n);this._history.navigate(t)},_shouldTrackCurrentStep(e){const t=this.getCurrentStep();return t&&!t.updateUrlOnly&&t.stepDef.trackingEnabled&&t.url!==e},_navigateByUrl(e){_.extend(e,this._getUrlInfo(e.url));const t=this.checkNavigationAllowed(e);if(t.errorType){this.onNavigationAbort(t,e)}else{this.checkNavigationCancelled(e,t=>{if(e.callback){e.callback(t)}if(!t.cancel){this._navigate(e)}})}},onNavigationAbort(e,t){const n=e.errorType===this.LoadScreenError.NEED_LOGIN;const a=app.api.isAuthenticated();if(t.callback){t.callback({cancel:true})}if(n||a){this._navigateByParams({error:e,originalParams:t,initiator:i.ERROR_LOAD_SCREEN,stepDef:t.stepDef})}if(n||!a){t.updateUrlOnly=true;this._navigate(t)}},_navigateByParams(e){switch(e.initiator){case i.BACK:this._handleBackNavigation(e);break;case i.UP:this._handleUpNavigation(e);break;case i.HOME:this._handleHomeNavigation();break;case i.SAVE:this._handleSaveNavigation(e);break;case i.RELATE:this._handleRelateNavigation(e);break;case i.DELETE:this._handleDeleteNavigation(e);break;case i.ERROR_LOAD_SCREEN:this._handleLoadScreenError(e);break}},_handleBackNavigation(e={}){let t;while(!t&&this._history.getLength()!==1){t=this._history.getPrevStep();if(!this._canGoBack(t)){t=null;this._history.pop()}}this.checkNavigationCancelled(e,n=>{if(e.callback){e.callback(n)}if(!n.cancel){if(this._history.getLength()===1){this.exitApp()}else{t.initiator=i.BACK;this._syncContextRefs(t.stepDef,t);this._history.navigate({back:true})}}})},_handleUpNavigation(e){const t=this._history.getSteps();let n;let a;let r;if(this.getCurrentStep()){n=this._getContextUpStep()||this._getDefaultUpStep()}while(n&&!a){const e=n&&this._isStepAvailable(n);if(e){a=n}else{r=this._history.getStepById(n.upParentId);if(r){n=r;t.length=_.indexOf(t,n)}else{n=this._getDefaultUpStep(n.stepDef,n.screenOptions)}}}if(a){e=_.extend({},e,a);e.initiator=i.UP;this.navigate(e)}else{app.controller.navigateToDefaultView()}},_handleHomeNavigation(){let e;let t;let n;if(app.supportedFeatures.settingsDefaultView){if(app.supportedFeatures.dashboards){o.verifyDefaultView()}e=app.loginManager.getSetting("default_view")||app.config.ui.defaultViewScheme;t=e.split(":");if(t[0]==="Modules"){if(_.contains(app.metadata.getModuleNames(),t[1])){t.shift()}else{s.removeSetting({store:s.Stores.SETTINGS,name:"default_view"});t=[]}}n=t.join("/")}this.navigate({url:n||app.router.DEFAULT_ROUTE})},_handleSaveNavigation({initiator:e,contextOptions:{module:t,modelId:n,parentModule:i,parentModelId:a,isCreate:r}}){const{link:s}=app.controller.getScreenContext();const o=app.controller.getScreenContextRoot();let l;if(r){l=o?`${o}/`:"";l+=s?app.router.buildLinkRoute(i,a,s,n):app.router.buildRoute(t,n);this.navigate({url:l,initiator:e})}else{this._handleUpNavigation()}},_handleRelateNavigation(e){this._handleUpNavigation(e)},_handleDeleteNavigation(e){this._stepsBlackList.push(e.contextOptions.modelId);this._handleUpNavigation()},_handleLoadScreenError(e){const t=this.LoadScreenError;switch(e.error.errorType){case t.NO_DASHLET:this._handleUpNavigation();break;case t.UNKNOWN_STEP:case t.NO_MODULE:{const t=this.getCurrentStep()&&app.api.isAuthenticated()&&e.originalParams.initiator!==i.CONFIGURE;if(t){const t=e.originalParams.url.substring(1);this.showBackToSugarPage(t)}else{app.controller.navigateToDefaultView()}break}case t.NO_CREATE_ACCESS:this._loadErrorScreen({errorCode:403});break;case t.NO_DASHBOARDS_MODULE:case t.NO_DASHBOARD:case t.NO_OFFLINE_MODE:app.controller.navigateToDefaultView();break;case t.CONVERT_ROUTE_HAPPENED:app.controller.navigate({url:e.error.redirectUrl});break;case t.CONVERT_ROUTE_ERROR:this.showBackToSugarPage(e.error.redirectUrl);break;case t.NEED_APP_SYNC:app.nomad.syncApp();break;case t.NEED_LOGIN:app.router.login();break}},checkNavigationAllowed(e){let t={};if(!e.stepDef.loginRequired||_.contains(app.config.unsecureRoutes,e.url)){return t}if(!app.api.isAuthenticated()){t.errorType=this.LoadScreenError.NEED_LOGIN;return t}if(c&&!e.stepDef.isCustomStep){t=this._checkUrlOnFirstStart(e.url)}if(t.errorType){return t}if(e.stepDef.unknown){t.errorType=this.LoadScreenError.UNKNOWN_STEP;return t}if(app.api.isAuthenticated()&&!app.isSynced){t.errorType=this.LoadScreenError.NEED_APP_SYNC;return t}return this._checkCanLoadScreen(e.screenOptions)},_checkUrlOnFirstStart(e){const t={};e=e.replace("#","");c=false;app.logger.debug("PARSING ROUTE ON STARTUP FOR DETECTING SUGAR ROUTE");if(e){const n=app.routing.utils.convertExternalRoute(e);if(n!==e){if(_.isString(n)){t.errorType=this.LoadScreenError.CONVERT_ROUTE_HAPPENED;t.redirectUrl=n}else{t.errorType=this.LoadScreenError.CONVERT_ROUTE_ERROR;t.redirectUrl=e}}}return t},_checkCanLoadScreen(e){const t=app.data.getRelatedModule(e.parentModule,e.link);const n=e.module||t||e.parentModule;const i=this.LoadScreenError;let a;let r;if(e.dashboardId||e.root==="Dashboards"){if(app.supportedFeatures.dashboards){a=o.getDashboard(e.dashboardId);if(!a){r=i.NO_DASHBOARD}else if(e.dashletId&&!o.isDashletAvailable(e.dashboardId,e.dashletId)){r=i.NO_DASHLET}}else{r=i.NO_DASHBOARDS_MODULE}}else if(!this.canLoadModuleScreen(e)){r=i.NO_MODULE}else if(!app.offlineEnabled&&(e.root==="Offline"||e.module==="TxLog")){r=i.NO_OFFLINE_MODE}else if(!_.contains(app.config.modules.nonAclModules,n)){if(e.action==="create"&&!app.nomad.canCreateModule(n)||!app.acl.hasAccess("access",n)){r=i.NO_CREATE_ACCESS}}return{errorType:r}},canLoadModuleScreen({module:e,parentModule:t,link:n}){const i=app.metadata.getModuleNames({filter:"visible"});const a=_.union(i,app.config.ui.constantlyVisibleViews);const r=[];if(e){r.push(e)}if(t){r.push(t)}if(t&&n){r.push(app.data.getRelatedModule(t,n))}return _.every(r,e=>_.contains(a,e))},checkNavigationCancelled(e,t){const n=_.compact(_.unique(app.controller.layoutManager.getLayouts()));const i=_.map(n,t=>n=>{t.onBeforeLeave({params:e,callback:e=>{n(e&&e.cancel,e)}})});asyncLib.parallel(i,e=>{t({cancel:e})})},_canGoBack(e){return this._isStepAvailable(e)&&e.url!==this.getCurrentStep().url&&!this._checkCanLoadScreen(e.screenOptions).errorType},exitApp(){app.logger.debug("Exiting Application");if(app.isNative&&navigator.app&&navigator.app.exitApp){navigator.app.exitApp()}},_loadErrorScreen(e){const t=l.getViewClass("error");app.controller.loadScreen({applyMaskToList:false,isDynamic:true,fullScreen:true,view:t,initOptions:{backToSugar:true,code:e.errorCode,sugarRoute:e.sugarRoute},headerConfig:{title:app.lang.get("ERR_GENERIC_TITLE"),mainMenu:true}})},showBackToSugarPage(e){this._loadErrorScreen({errorCode:404,sugarRoute:e})},_adjustUrl(e){if(_.isString(e)){if(e[0]!=="#"){e=`#${e}`}}else{e=null}return e}}},function(e,t,n){const i=n(316);const a={LIST:"LIST",DETAIL:"DETAIL",ACTION:"ACTION"};const r=[{name:"configure",steps:"Configure(/)(:serverUrl)(/)(:loginName)(/)(:pageUrl)(/)(:ssoOption)(/)(:useHttps)(/)",getScreenOptions:i.configure,trackingEnabled:false,loginRequired:false,handler(e){const t={serverUrl:e.serverUrl?decodeURIComponent(e.serverUrl):"",loginName:e.loginName?decodeURIComponent(e.loginName):"",pageUrl:e.pageUrl?decodeURIComponent(e.pageUrl):"#",ssoOption:e.ssoOption,useHttps:e.useHttps};app.nomad.configure(t)}},{name:"linked-list-dashboard",getScreenOptions:i.linkedListRecordDashboard,steps:":linkParentModule/:linkParentModelId/link/:moduleLink/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"double-dashboard",getScreenOptions:i.twinDashboard,steps:"Dashboards/:parentDashboardId/:parentDashletId/:parentModule/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"record-dashboard",getScreenOptions:i.recordDashboard,steps:[{name:"record-dashboard-dashlet",url:"(:root/):parentModule/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"record-dashboard-detail",url:"(/:module)(/:modelId)",stepType:a.DETAIL},{name:"record-dashboard-action",url:"(/:action)",trackingEnabled:false}]},{name:"dashboard",getScreenOptions:i.dashboard,steps:[{name:"home-dashboard",url:"Dashboards/:dashboardId"},{name:"home-dashboard-dashlet",url:"(/:dashletId)"},{name:"home-dashboard-detail",url:"(/:module)(/:modelId)",stepType:a.DETAIL},{name:"home-dashboard-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"about",getScreenOptions:i.about,steps:"About",loginRequired:false},{name:"settings",getScreenOptions:i.settings,steps:"Settings"},{name:"logout",handler:i.logout,steps:"logout(/?clear=:clear)",trackingEnabled:false},{name:"error-emulation",getScreenOptions:i.errorEmulation,steps:"ErrorEmulation"},{name:"offline",getScreenOptions:i.offline,steps:[{name:"offline",url:"Offline"},{name:"offline-list",url:"(/:module)"},{name:"offline-detail",url:"(/:modelId)"}]},{name:"record-createCall",getScreenOptions:i.createCall,steps:"createCall?direction=:direction&start_date=:start_date&duration_hours=:duration_hours&duration_minutes=:duration_minutes&status=:status",trackingEnabled:false},{name:"relationships-createCall",getScreenOptions:i.createRelatedCall,steps:":module/:id/link/:calls_link/createCall?direction=:direction&start_date=:start_date&duration_hours=:duration_hours&duration_minutes=:duration_minutes&status=:status&log_call=:log_call",trackingEnabled:false},{name:"relationships-list",getScreenOptions:i.relatedList,steps:":parentModule/:parentModelId/link/:link",stepType:a.LIST},{name:"relationships-create",getScreenOptions:i.createRelated,steps:":parentModule/:parentModelId/link/:link/create",trackingEnabled:false},{name:"relationships-associate",getScreenOptions:i.associate,steps:":parentModule/:parentModelId/link/:link/associate",trackingEnabled:false},{name:"relationships-action",getScreenOptions:i.relatedRecord,steps:[{name:"relationships-detail",url:":parentModule/:parentModelId/link/:link/:modelId",stepType:a.DETAIL},{name:"relationships-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"search-list",getScreenOptions:_.partial(i.list,"Search"),steps:"Search",stepType:a.LIST},{name:"search-create",getScreenOptions:_.partial(i.create,"Search"),steps:"Search/:module/create",trackingEnabled:false},{name:"search-record",getScreenOptions:_.partial(i.record,"Search"),steps:[{name:"search-record-detail",url:"Search/:module/:modelId",stepType:a.DETAIL},{name:"search-record-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"list",getScreenOptions:_.partial(i.list,""),steps:":module",stepType:a.LIST},{name:"list-create",getScreenOptions:_.partial(i.create,""),steps:":module/create",trackingEnabled:false},{name:"record",getScreenOptions:_.partial(i.record,""),steps:[{name:"record-detail",url:":module/:modelId",stepType:a.DETAIL},{name:"record-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"default-view",handler:i.defaultView,steps:"",trackingEnabled:false}];e.exports={routes:r,StepTypes:a}},function(e,t){e.exports={isEditActionVisible(e){return e.hasEditAccess()&&app.acl.hasAccessToModel("view",e)},isViewActionVisible(e){return!e.hasEditAccess()&&app.acl.hasAccessToModel("view",e)}}},function(e,t){e.exports={getRelationshipLink(e,t){const n=app.metadata.getModule(e);const i=_.find(n.fields,e=>{if(e.type==="link"){const n=app.metadata.getRelationship(e.relationship);return n&&(n.lhs_module===t||n.rhs_module===t)}});return i?i.name:null},getRelationship(e,t){const n=app.metadata.getModule(e);const i=n.fields[t].relationship;return app.metadata.getRelationship(i)}}},function(e,t){let n={};const i={triggerViewSync(e,t,i,a){_.each(n,function n(r){if(this.shouldSync(r,e)){r.receiveSyncData(t,i,a)}},this)},shouldSync(e,t){return e!==t},registerView(e){n[e.cid]=e},unregisterView(e){delete n[e.cid]},_getSyncableViews(){return n},_reset(){n={}}};app.syncableViewsManager=i;e.exports=i},function(e,t,n){const{wrapAsyncCallback:i}=n(3);const a=n(1);const r=n(30);const s=a.extendComponent(r,{params:null,likelyField:"",filterDuration:null,responseDataAttr:"records",template:"bubblechart",initialize(e){this._super(e);const t=["id","name","account_name","base_rate","currency_id","assigned_user_name","date_closed","probability","account_id","sales_stage","commit_stage"];this.dashletConfig=app.metadata.getView(null,"bubblechart");this.filterDuration=this.dashletConfig.filter_duration[0];this.setFilterDurationOptions();this.viewState.filtersDef.filter_duration=this.filterDuration;this.likelyField=this.forecastBy==="Opportunities"?"amount":"likely_case";t.push(this.likelyField);const n=`${this.likelyField}:desc`;this.params={fields:t.join(","),max_num:10,order_by:n};this.tooltiptemplate=app.template.getView("bubblechart-tooltip");this.setFilters({filter_duration:_.keys(this.viewState.filtersDef.filter_duration.options)[0]})},setFilterDurationOptions(){if(!_.isString(this.filterDuration.options)){return false}this.filterDuration.options=app.lang.getAppListStrings(this.filterDuration.options);if(_.isEmpty(this.filterDuration.options)){this.filterDuration.options=app.lang.getAppListStrings("generic_timeperiod_options")}},loadChartData:function e(t){this.setDateRange();const n=[{date_closed:{$gte:this.dateRange.begin}},{date_closed:{$lte:this.dateRange.end}}];if(!this.isManager||this.viewState.visibility==="user"){n.push({$owner:""})}const a=_.extend({filter:n},this.params);const r=app.api.buildURL(this.forecastBy,null,null,a,this.params);this.apiCall("read",r,null,i(t))},processData(e){this.evaluateResult(e);if(!_.isEmpty(e.records)){this._super(e)}this.$chartEl.toggle(!_.isEmpty(e.records));this.$dataUnavailableLbl.toggle(_.isEmpty(e.records))},prepareChartObject(){const e=this;this.chart=sucrose.charts.bubbleChart().x(e=>d3.timeParse("%Y-%m-%d")(e.x)).y(e=>e.y).tooltipContent((t,n)=>{const{point:i}=t;i.close_date=d3.timeFormat("%x")(d3.timeParse("%Y-%m-%d")(i.x));i.amount=i.currency_symbol+d3.format(",.2d")(i.base_amount);return e.tooltiptemplate(i).replace(/(\r\n|\n|\r)/gm,"")}).showTitle(false).tooltips(true).showLegend(true).seriesClick((t,n,i)=>{app.controller.navigate(app.router.buildRoute(e.forecastBy,n.point.id),{initiator:e.navigationName})}).colorData("class",{step:2}).groupBy(t=>e.isManager&&e.viewState.visibility==="user"?t.sales_stage_short:t.assigned_user_name).filterBy(e=>e.probability).strings({legend:{close:app.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:app.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:app.lang.getAppString("LBL_CHART_NO_DATA"),noLabel:app.lang.getAppString("LBL_CHART_UNDEFINED")})},renderChart(){if(!this._super()){return}this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".sc-chart").append("svg").attr("class","sucrose").datum(this.chartData).call(this.chart)},evaluateResult(e){this.total=e.records.length;let t="sales_stage_dom";const n=app.metadata.getModule(this.forecastBy,"fields");if(n){t=n.sales_stage.options||t}this.chartData={data:e.records.map(function e(n){const i=app.lang.getAppListStrings(t)[n.sales_stage]||n.sales_stage;return{id:n.id,x:n.date_closed,y:Math.round(parseInt(n[this.likelyField],10)/parseFloat(n.base_rate)),shape:"circle",account_name:n.account_name,assigned_user_name:n.assigned_user_name,sales_stage:i,sales_stage_short:i,probability:parseInt(n.probability,10),base_amount:parseInt(n[this.likelyField],10),currency_symbol:app.currency.getCurrencySymbol(n.currency_id)}},this),properties:{title:app.lang.getAppString("LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME"),value:e.records.length,xDataType:"datetime",yDataType:"string"}}},setDateRange(){const e=app.date();const t=this.getDateRangeDuration();let n;let i;let a;if(t===12){n=app.date().startOf("year");i=app.date().endOf("year")}else{a=Math.floor(e.month()/3)*3;n=app.date(new Date(e.year(),a+t,1));i=app.date(new Date(n.year(),n.month()+3,0))}this.dateRange={begin:n.format("YYYY-MM-DD"),end:i.format("YYYY-MM-DD")}},getDateRangeDuration(){let e=parseInt(this.viewState.filters.get("filter_duration"),10);const t={current:0,next:3,year:12};if(isNaN(e)){e=t[this.viewState.filters.get("filter_duration")]}return e}});e.exports=s},function(e,t,n){const i=n(1);const a=n(60);const r={dashlets:[{description:"LBL_CASE_SUMMARY_CHART_DESC",label:"LBL_CASE_SUMMARY_CHART"}],tabs:[{filters:{status:{$in:["New"]}},status:"New",link:"cases",module:"Cases"},{filters:{status:{$in:["Pending Input"]}},status:"Pending Input",link:"cases",module:"Cases",favoritesEnabled:false,ftsEnabled:false},{filters:{status:{$in:["Assigned"]}},status:"Assigned",link:"cases",module:"Cases",favoritesEnabled:false,ftsEnabled:false}]};const s=i.extendComponent(a,{initialize(e){this.dashletParams=this.getDashletMetadata();this._super(e)},getDashletMetadata(){return _.clone(r)},getListViewDef(e,t){const n=this._super(e,t);const i=app.metadata.getModule("Cases","fields").status.options;const a=app.lang.getAppListStrings(i);n.title=a[e.status];return n}});e.exports=s},function(e,t,n){const{isForecastConfigValid:i,getForecastNotSetUpMessage:a,wrapAsyncCallback:r}=n(3);const s=n(1);const o=n(6);const l=n(30);const c=n(37);const u=n(17);const d=s.extendComponent(l,{_isChartInitialized:false,isForecastSetup:false,isForecastConfigValid:false,forecastsNotSetUpMsg:"",$groupByFilter:null,template:"forecast-pareto",events(){const{events:e}=c.prototype;return _.extend({},e,{"click .lnk-non-forecast":function(e){e.preventDefault();o.openUrl(e.target.href)}})},initialize(e){this._super(e);this.forecastConfig=app.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=i();this.showManagerData=false;if(this.isForecastSetup){this.dashletConfig=app.metadata.getView(null,"forecast-pareto");if(_.isString(this.dashletConfig.dataset.options)&&_.isString(this.dashletConfig.group_by.options)){const e=app.lang.getAppListStrings(this.dashletConfig.dataset.options);this.dashletConfig.group_by.options=app.lang.getAppListStrings(this.dashletConfig.group_by.options);this.dashletConfig.dataset.options={};if(this.forecastConfig.show_worksheet_worst&&app.acl.hasAccess("read",this.forecastBy,{field:"worst_case"})){this.dashletConfig.dataset.options.worst=e.worst}if(this.forecastConfig.show_worksheet_likely&&app.acl.hasAccess("read",this.forecastBy,{field:"likely_case"})){this.dashletConfig.dataset.options.likely=e.likely}if(this.forecastConfig.show_worksheet_best&&app.acl.hasAccess("read",this.forecastBy,{field:"best_case"})){this.dashletConfig.dataset.options.best=e.best}}}else{const e=_.isUndefined(app.user.getAcls().Forecasts.admin);this.forecastsNotSetUpMsg=a(e)}},loadData(e){const t=this.previousVisibilityState!==this.viewState.visibility;if(!this.isForecastSetup){this.hidePreloader()}if(this.isForecastSetup||e.byPtr||t){this.previousVisibilityState=this.viewState.visibility;if(this.$groupByFilter&&t){this.$groupByFilter.toggleElement(this.viewState.visibility!=="group")}return this._super(e)}else if(this._serverData){this.saveState();this.renderChart()}return u.resolve()},loadDataError(e){this._super(e);this._serverData=null},processData(e){this._serverData=e;if(this._serverData){this._super(e)}},loadInitData:function e(t){const n=e=>{this.initForecast(e);t(null,e)};this.apiCall("GET",app.api.buildURL("Forecasts/init"),null,{success:e=>{const{parentModel:t}=this.options;if(t){t.once("sync",()=>{n(e)}).fetch()}else{n(e)}},error:t})},loadChartData:function e(t){const n={};n.no_data=this.viewState.filters.get("no_data")===true;if(this.isManager){n.target_quota=this.viewState.filters.get("show_target_quota")?1:0}const i=app.api.buildURL(this.buildChartUrl(),null,null,n);this.apiCall("read",i,{},r(t))},initForecast(e){const t={user_id:app.user.get("id"),show_target_quota:false,selectedTimePeriod:e.defaultSelections.timeperiod_id.id,timeperiod_id:e.defaultSelections.timeperiod_id.id,timeperiod_label:e.defaultSelections.timeperiod_id.label,dataset:e.defaultSelections.dataset,group_by:e.defaultSelections.group_by,ranges:_.keys(app.lang.getAppListStrings(this.forecastConfig.buckets_dom))};this._isChartInitialized=true;this.viewState.filtersDef={group_by:this.dashletConfig.group_by,dataset:this.dashletConfig.dataset};this.previousVisibilityState=this.viewState.visibility;this.setFilters(t);this.render();this.$groupByFilter=this.$(".filter.group_by");if(this.viewState.visibility==="group"){this.$groupByFilter.hideElement()}},prepareChartObject(){const e=this.getUserCurrencyFormatter();const t=this.getUserCurrencyFormatterSi();this.chartId=`${this.cid}_chart`;this.chart=sucrose.charts.paretoChart().margin({top:0,right:10,bottom:10,left:10}).showTitle(false).tooltips(true).tooltipQuota((t,n,i,a,r)=>`<p><b>${a.key}: <b>${e(a.val)}</b></p>`).tooltipLine((t,n,i,a,r)=>`<p><b>${app.lang.get("LBL_CUMULATIVE_TOTAL","Forecasts")}</b></p><p>${t}: <b>${e(a.point.y)}</b></p>`).tooltipBar(_.bind(function t(n,i,a,r,s){let o=app.lang.get("LBL_SALES_STAGE","Forecasts");if(this.viewState.filters.get("group_by")==="probability"){o=`${app.lang.get("LBL_OW_PROBABILITY","Forecasts")} (%)`}return`<p>${o}: <b>${n}</b></p>`+`<p>${app.lang.get("LBL_AMOUNT","Forecasts")}: <b>${e(r.value)}</b></p>`+`<p>${app.lang.get("LBL_PERCENT","Forecasts")}: <b>${i}%</b></p>`},this)).colorData("default").colorFill("default").valueFormat(e=>t(e,2)).seriesClick((e,t,n,i)=>{}).id(this.chartId).strings({legend:{close:app.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:app.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:app.lang.getAppString("LBL_CHART_NO_DATA"),noLabel:app.lang.getAppString("LBL_CHART_UNDEFINED")})},renderChart(){if(this.isManager&&this.viewState.visibility==="group"){this.showManagerData=true;this.convertManagerDataToChartData()}else{this.showManagerData=false;this.convertUserDataToChartData()}this.generateD3Chart()},convertUserDataToChartData(){_.each(this._serverData.data,e=>{if(_.has(e,"likely")&&isNaN(e.likely)){e.likely=0}if(_.has(e,"best")&&isNaN(e.best)){e.best=0}if(_.has(e,"worst")&&isNaN(e.worst)){e.worst=0}});const e=this.viewState.filters.get("group_by");const t=this.viewState.filters.get("dataset");const n=this.viewState.filters.get("ranges");let i=0;const a=[];const r=this._serverData["x-axis"].map((e,t)=>({series:i,x:t+1,y:0}));const s={key:this._serverData.labels.dataset[t],type:"line",series:i,values:[],valuesOrig:[]};const o={properties:{name:this._serverData.title,yDataType:"currency",xDataType:"string",quota:parseFloat(this._serverData.quota),quotaLabel:app.lang.get("LBL_QUOTA","Forecasts"),groupData:this._serverData["x-axis"].map((e,t)=>({group:t,l:e.label,t:0}))},data:[]};const l=this._serverData.data;const c=_.isEmpty(n)?l:l.filter(e=>_.contains(n,e.forecast));_.each(this._serverData.labels[e],function n(s,l){const u=c.filter(t=>t[e]==l);if(!_.isEmpty(u)){const e=this._serverData["x-axis"].map((e,t)=>({series:i,x:t+1,y:0,y0:0}));const n=this._serverData["x-axis"];_.each(u,i=>{for(let a=0;a<n.length;a++){if(i.date_closed_timestamp>=n[a].start_timestamp&&i.date_closed_timestamp<=n[a].end_timestamp){const n=parseFloat(i[t]);e[a].y+=n;o.properties.groupData[a].t+=n;r[a].y+=n;break}}},this);a.push({key:s,series:i,type:"bar",values:e,valuesOrig:app.utils.deepCopy(e)});i++}},this);if(!_.isEmpty(a)){let e=0;_.each(r,(t,n,i)=>{i[n].y+=e;e=i[n].y});s.values=r;s.valuesOrig=app.utils.deepCopy(r);a.push(s);o.data=a}this.chartData=o},convertManagerDataToChartData(){const e=this.viewState.filters.get("dataset");const t=this._serverData.data;const n={properties:{name:this._serverData.title,quota:parseFloat(this._serverData.quota),quotaLabel:app.lang.get(this.viewState.filters.get("show_target_quota")?"LBL_QUOTA_ADJUSTED":"LBL_QUOTA","Forecasts"),groupData:t.map((t,n)=>({group:n,l:t.name,t:parseFloat(t[e])+parseFloat(t[`${e}_adjusted`])}))},data:[]};const i=[e,`${e}_adjusted`].map(function e(n,i){const a=t.map((e,t)=>({series:i,x:t+1,y:parseFloat(e[n]),y0:0}));return{key:this._serverData.labels.dataset[n],series:i,type:"bar",values:a,valuesOrig:a}},this);const a=[e,`${e}_adjusted`].map(function e(n,i){const a=t.map((e,t)=>({series:i,x:t+1,y:parseFloat(e[n])}));let r=0;_.each(a,(e,t,n)=>{n[t].y+=r;r=n[t].y});return{key:this._serverData.labels.dataset[n],series:i,type:"line",values:a,valuesOrig:a}},this);if(this.viewState.filters.get("show_target_quota")){n.properties.targetQuota=Number(this._serverData.target_quota);n.properties.targetQuotaLabel=app.lang.get("LBL_QUOTA","Forecasts")}n.data=[...i,...a];this.chartData=n},generateD3Chart(){if(!this._super()){return}this.chart.barLegend.rowsCount(this._maxLegendRows);this.chart.lineLegend.rowsCount(this._maxLegendRows);this.chart.stacked(!this.showManagerData);d3.select(this.el).select(".sc-chart").append("svg").attr("class","sucrose").datum(this.chartData).call(this.chart)},updateChartLegend(){if(this.chart.barLegend){this.chart.barLegend.rowsCount(this._maxLegendRows)}if(this.chart.lineLegend){this.chart.lineLegend.rowsCount(this._maxLegendRows)}},buildChartUrl(){const{parentModel:e}=this.options;const t=e&&e.get("date_closed_timestamp");const n=t||this.viewState.filters.get("timeperiod_id");const i=[this.viewState.visibility==="group"?"ForecastManagerWorksheets":"ForecastWorksheets","chart",n,this.viewState.filters.get("user_id")];return i.join("/")}});e.exports=d},function(e,t,n){const i=n(1);const{isForecastConfigValid:a,getForecastNotSetUpMessage:r,wrapAsyncCallback:s}=n(3);const o=n(30);const l=n(17);const c=i.extendComponent(o,{_isChartInitialized:false,forecastAdmin:false,forecastConfig:null,isForecastSetup:false,isForecastsConfigValid:false,forecastsNotSetUpMsg:null,template:"forecast-pipeline",initialize(e){this._super(e);this.forecastConfig=app.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=a();this.forecastAdmin=_.isUndefined(app.user.getAcls().Forecasts.admin);this.salesStageLabels=app.lang.getAppListStrings("sales_stage_dom");if(!this.isForecastSetup){if(_.isEmpty(app.metadata.getModule("Forecasts").views)){this.forecastsNotSetUpMsg=r(this.forecastAdmin)}else{this.viewState.filtersDef.timeperiod=app.utils.deepCopy(app.metadata.getModule("Forecasts").views["forecast-pipeline"].meta.timeperiod[0]);this.viewState.filtersDef.timeperiod.options=app.lang.getAppListStrings("generic_timeperiod_options");this.setFilters({selectedTimePeriod:this.viewState.filtersDef.timeperiod.options[0]});this._isChartInitialized=true}}},loadData(e){const t=!app.metadata.getModule("Opportunities");const n=!app.acl.hasAccess("view","Opportunities");const i=!_.contains(app.metadata.getModuleNames({filter:"visible"}),"RevenueLineItems");if(t||n&&i){this.loadDataError(this.ERR_NO_DATA_AVAILABLE)}else if(this.forecastsNotSetUpMsg){this.hidePreloader()}else{return this._super(e)}return l.resolve()},loadInitData:function e(t){const n=this;asyncLib.parallel({loadTimeperiodOptions:function e(t){n.apiCall("read",app.api.buildURL("Forecasts/enum/selectedTimePeriod"),null,s(t))},loadCurrentTimeperiod:function e(t){n.apiCall("GET",app.api.buildURL("TimePeriods/current"),null,s(t))}},function e(...i){const[a,r]=i;if(a){t.apply(this,i);return}n.viewState.filtersDef.timeperiod=app.utils.deepCopy(app.metadata.getModule("Forecasts").views["forecast-pipeline"].meta.timeperiod[0]);n.viewState.filtersDef.timeperiod.options=r.loadTimeperiodOptions;n.saveState();n.setFilters({selectedTimePeriod:r.loadCurrentTimeperiod.id});n._isChartInitialized=true;n.render();t(null,r)})},loadChartData:function e(t){const n=[this.forecastBy,"chart","pipeline"];n.push(this.viewState.filters.get("selectedTimePeriod"));n.push(this.viewState.visibility);const i=app.api.buildURL(n.join("/"));this.apiCall("GET",i,null,s(t))},processData(e){if(e&&e.data&&this.salesStageLabels){_.each(e.data,function e(t){if(t&&t.key&&this.salesStageLabels[t.key]){t.key=this.salesStageLabels[t.key]}},this)}this.chartData=e;this._super(e)},prepareChartObject(){const e=this.getUserCurrencyFormatter();this.chart=sucrose.charts.funnelChart().showTitle(false).tooltips(true).wrapLabels(false).tooltipContent((t,n)=>{const i=this.chart.fmtKey()(t);const a=this.chart.getValue()(t);const r=n.total?(a*100/n.total).toFixed(1):100;return`<p>${SUGAR.App.lang.get("LBL_SALES_STAGE","Forecasts")}: <b>${i}</b></p>`+`<p>${SUGAR.App.lang.get("LBL_AMOUNT","Forecasts")}: <b>${e(a)}</b></p>`+`<p>${SUGAR.App.lang.get("LBL_PERCENT","Forecasts")}: <b>${r}%</b></p>`}).colorData("class",{step:2}).fmtValue(t=>{const n=t.value||(isNaN(t)?0:t);return e(n)}).strings({legend:{close:app.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:app.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:app.lang.getAppString("LBL_CHART_NO_DATA"),noLabel:app.lang.getAppString("LBL_CHART_UNDEFINED")})},renderChart(){if(!this._super()){return}this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".sc-chart").append("svg").attr("class","sucrose").datum(this.chartData).call(this.chart)}});e.exports=c},function(e,t,n){const i=n(1);const a=n(30);const{isForecastConfigValid:r,getForecastNotSetUpMessage:s,wrapAsyncCallback:o}=n(3);const l=n(17);const c=i.extendComponent(a,{className:"chart-wrapper has-scroll",template:"forecastdetails",forecastConfig:null,isForecastSetup:false,isForecastsConfigValid:false,forecastsNotSetUpMsg:false,isAdmin:false,isTopLevelManager:false,showTargetQuota:false,spanCSS:"",detailsDataSet:null,responseDataAttr:null,initialize(e){this._super(e);this.forecastConfig=app.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=r();this.isAdmin=_.isUndefined(app.user.getAcls().Forecasts.admin);if(this.isForecastSetup){this.serverData=app.data.createBean("Forecasts");this.model=app.data.createBean("Forecasts");const e=this.forecastBy==="RevenueLineItems"?"likely_case":"amount";this.fieldDataAccess={likely:app.acl.hasAccess("read",this.forecastBy,{field:e}),best:app.acl.hasAccess("read",this.forecastBy,{field:"best_case"}),worst:app.acl.hasAccess("read",this.forecastBy,{field:"worst_case"})};this.spanCSS=_.compact([this.forecastConfig.show_worksheet_likely,this.forecastConfig.show_worksheet_best,this.forecastConfig.show_worksheet_worst]).length;this.spanCSS=_.compact([this.forecastConfig.show_worksheet_likely,this.forecastConfig.show_worksheet_best,this.forecastConfig.show_worksheet_worst]).length;this.model.set({opportunities:0,spanCSS:this.spanCSS,isForecastSetup:this.isForecastSetup,isForecastAdmin:this.isForecastAdmin});this.isTopLevelManager=app.user.get("is_top_level_manager");this.showTargetQuota=this.isManager&&!this.isTopLevelManager;this.detailsDataSet=this.getDetailsDataSet()}else{this.forecastsNotSetUpMsg=s(this.isAdmin)}},onAfterRender(){this._super();this.$chartEl=this.$(".fd__wrapper")},loadData(e={}){if(this.isForecastSetup){return this._super(e)}this.hidePreloader();if(!this.loaded&&!e.byPtr){this.$chartEl.hideElement()}return l.resolve()},loadInitData:function e(t){const n=this;const{parentModel:i}=this.options;if(i&&!i.inSync){i.once("sync",()=>{n.loadInitData(t)}).fetch();return}const a=i&&i.get("date_closed")||"current";asyncLib.parallel({loadTimeperiodOptions:function e(t){n.apiCall("read",app.api.buildURL("Forecasts/enum/selectedTimePeriod"),null,o(t))},loadCurrentTimeperiod:function e(t){n.apiCall("GET",app.api.buildURL(`TimePeriods/${a}`),null,o(t))}},function e(...i){const[a,r]=i;if(a){t.apply(this,i);return}n.viewState.filtersDef.timeperiod=app.metadata.getView(null,"forecastdetails").timeperiod[0];n.viewState.filtersDef.timeperiod.options=r.loadTimeperiodOptions;n.setFilters({timePeriods:r.loadCurrentTimeperiod.id,selectedTimePeriod:r.loadCurrentTimeperiod.id});n._isChartInitialized=true;t(null,r)})},loadChartData(e){const t=this.buildChartUrl();this.apiCall("read",t,null,o(e))},processData(e){e=this.adjustDashletData(e);this.calculateData(e);this.render();this.applyCSSChanges();this.hidePreloader();this.$chartEl.showElement()},getDetailsDataSet(){const e=app.metadata.getStrings("app_list_strings").forecasts_options_dataset||[];const t={};_.each(e,function e(n,i){if(this.forecastConfig[`show_worksheet_${i}`]===1){t[i]=n}},this);return t},buildChartUrl(){const e=this.isManager?"progressManager":"progressRep";const t=["Forecasts",this.viewState.filters.get("selectedTimePeriod"),e,app.user.get("id")];let n={};if(this.isManager){n={target_quota:this.showTargetQuota?1:0}}return app.api.buildURL(t.join("/"),"create",null,n)},adjustDashletData(e){if(this.isManager){e.likely=e.likely_adjusted||e.likely_case;e.best=e.best_adjusted||e.best_case;e.worst=e.worst_adjusted||e.worst_case}else{e.likely=e.amount;e.best=e.best_case;e.worst=e.worst_case;e.closed_amount=e.won_amount;if(_.isUndefined(e.closed_amount)){delete e.closed_amount}}return e},calculateData(e){this.serverData.set(e);const t=_.extend({},e,this.serverData.toJSON());const n=this.forecastConfig;const i=app.user.getPreference("currency_id");this.likelyTotal=t.likely;this.bestTotal=t.best;this.worstTotal=t.worst;t.quota_amount_str=app.currency.formatAmountLocale(t.quota_amount,i);t.closed_amount_str=app.currency.formatAmountLocale(t.closed_amount,i);if(this.showTargetQuota){t.target_quota_amount_str=app.currency.formatAmountLocale(t.target_quota_amount,i)}else{this.serverData.unset("target_quota_amount_str")}t.showTargetQuota=this.showTargetQuota;t.deficit_amount=Math.abs(app.math.sub(t.quota_amount,t.closed_amount));t.deficit_amount_str=app.currency.formatAmountLocale(t.deficit_amount,i);t.is_deficit=parseFloat(t.quota_amount)>parseFloat(t.closed_amount);const a=t.is_deficit?"LBL_FORECAST_DETAILS_DEFICIT":"LBL_FORECAST_DETAILS_SURPLUS";t.deficit_label=app.lang.get(a,"Forecasts");t.detailsOpts=[];if(n.show_worksheet_worst){t.detailsOpts.push(this.getDetailsForCase("worst",this.worstTotal,t.quota_amount,t.closed_amount))}if(n.show_worksheet_likely){t.detailsOpts.push(this.getDetailsForCase("likely",this.likelyTotal,t.quota_amount,t.closed_amount))}if(n.show_worksheet_best){t.detailsOpts.push(this.getDetailsForCase("best",this.bestTotal,t.quota_amount,t.closed_amount))}if(this.isManager&&!_.isEmpty(app.user.get("reports_to_id"))){t.quota_label=app.lang.get("LBL_QUOTA_ADJUSTED","Forecasts")}else{t.quota_label=app.lang.get("LBL_QUOTA","Forecasts")}this.model.set(t,{silent:true})},getDetailsForCase(e,t,n,i){const a={};const r=parseFloat(app.math.add(t,i));const s=parseFloat(n);let o=0;const l=app.user.getPreference("currency_id");a.label=app.lang.get(`LBL_${e.toUpperCase()}`,"Forecasts");a.spanCSS=this.spanCSS;a.case=e;a.shortOrExceed="&nbsp;";a.openPipeline="&nbsp;";a.feedbackLn1="";a.feedbackLn2="";a.hasAccess=true;if(!this.isManager&&!this.fieldDataAccess[e]){a.hasAccess=false}if(a.hasAccess){if(t){a.amount=app.currency.formatAmountLocale(t,l);a.labelAmount=`${a.label}: ${a.amount.toString()}`}if(r===0&&s===0){a.amount=app.lang.get("LBL_FORECAST_DETAILS_NO_DATA","Forecasts")}else if(r!==0&&s!==0&&r===s){a.shortOrExceed=app.lang.get("LBL_FORECAST_DETAILS_MEETING_QUOTA","Forecasts")}else{if(r>s){a.shortOrExceed=app.lang.get("LBL_FORECAST_DETAILS_EXCEED","Forecasts");o=app.math.sub(r,s)}else{a.shortOrExceed=app.lang.get("LBL_FORECAST_DETAILS_SHORT","Forecasts");o=app.math.sub(s,r)}a.percent=this.getPercent(o,s);a.openPipeline=`(${app.currency.formatAmountLocale(o,l)})`}a.feedbackLn1=a.shortOrExceed;if(a.percent){a.feedbackLn1+=` ${a.percent}`}a.feedbackLn2=a.openPipeline}return a},applyCSSChanges(){this.checkPropertySetCSS("worst");this.checkPropertySetCSS("likely");this.checkPropertySetCSS("best");const e=this.model.get("is_deficit");let t="";if(e){t=this.getClassBasedOnAmount(0,1,"color")}else{t=this.getClassBasedOnAmount(1,0,"color")}if(t!==""){this.$el.find(".deficitRow").addClass(t)}},checkPropertySetCSS(e){if(this.forecastConfig[`show_worksheet_${e}`]&&(this.isManager||!this.isManager&&this.fieldDataAccess[e])){const t=this.getClassBasedOnAmount(app.math.add(this.serverData.get(e),this.serverData.get("closed_amount")),this.model.get("quota_amount"),"background-color");if(t!==""){this.$el.find(`.forecast_details_${e}_feedback`).addClass(t)}}},getClassBasedOnAmount(e,t,n){let i="";e=parseFloat(e);t=parseFloat(t);if(n==="color"){if(e===t){}else if(e>t){i="font-green"}else{i="font-red"}}else if(n==="background-color"){if(e===t&&e!==0){i="grayLight"}else if(e>t){i="green"}else if(e<t){i="red"}}return i},getPercent(e,t){let n=0;if(t>0&&e>0){n=e/t*100;if(n>1){n=Math.round(n)}else{n=Math.round(n*100)/100}}return`${Math.abs(n)}%`}});e.exports=c},function(e,t,n){const{wrapAsyncCallback:i}=n(3);const a=n(1);const r=n(59);const s=a.extendComponent(r,{template:"donutchart",className:"opportunity-metrics-wrapper",initialize(e){this._super(e);this.parentModel=e.parentModel||{}},loadChartData:function e(t){const n=app.api.buildURL(this.parentModel.module,"opportunity_stats",{id:this.parentModel.get("id")});this.apiCall("read",n,null,i(t))},evaluateResult(e){let t=0;_.each(e,(n,i)=>{e[i].formattedAmount=app.currency.formatAmountLocale(n.amount_usdollar,null,0);e[i].cssClass=i==="won"?"won":i==="lost"?"lost":"active";e[i].dealLabel=i;e[i].stageLabel=app.lang.getAppListStrings("opportunity_metrics_dom")[i];t+=n.count});this.total=t;this.metricsCollection=e;this.chartData={data:_.map(this.metricsCollection,(e,t)=>({key:e.stageLabel,value:e.count,classes:t}))}},isDataEmpty(e,t){let n=0;e=e||{};_.each(e,(e,t)=>{n+=e.count});return n===0}});e.exports=s},function(e,t,n){const{wrapAsyncCallback:i}=n(3);const a=n(1);const r=n(37);const s=a.extendComponent(r,{responseDataAttr:"chartData",template:"saved-reports-chart",initialize(...e){this._super("initialize",e);this.chartId=Math.floor(Math.random()*1e4)},loadChartData:function e(t){const n=this.meta.view.saved_report_id;this.apiCall("create",app.api.buildURL(`Reports/chart/${n}`),null,i(t))},isDataEmpty(e){if(this._super(e)){return true}const t=e.chartData.properties[0].type;const n=this.getChartConfig(t);const i=this._getDataAttribute(n);return _.isEmpty(e.chartData[i])},processData(e){if(e&&e.chartData){this.rawChartData=e.chartData}this._super(e)},prepareChartObject(){const e=this.rawChartData;const t={minColumnWidth:120,show_title:true,show_legend:true,show_controls:false,show_tooltips:true,show_y_label:false,y_axis_label:"",show_x_label:false,x_axis_label:"",wrapTicks:true,staggerTicks:true,rotateTicks:true,reduceXTicks:false,overflowHandler:false,allowScroll:false,vertical:true,showValues:false,hideEmptyGroups:true,stacked:true,colorData:"default",margin:{top:10,right:10,bottom:10,left:10}};let n=e.properties[0].type;if(app.supportedFeatures.configurableSavedReportsChart){_.extend(t,this.meta.view);n=this.meta.view.chart_type}const i=this.getChartConfig(n);t.report_module=this.getReportModule(e);this.chartData=this.translateDataToD3(e,t,i);this.chart=this.getChartModel(t,i);this.chart.id(this.chartId).margin(t.margin).showTitle(t.show_title).showLegend(t.show_legend).tooltips(t.show_tooltips).colorData(t.colorData).strings({legend:{close:app.lang.get("LBL_CHART_LEGEND_CLOSE"),open:app.lang.get("LBL_CHART_LEGEND_OPEN")},noData:app.lang.get("LBL_CHART_NO_DATA"),noLabel:app.lang.getAppString("LBL_CHART_UNDEFINED")});if(i.ReportModule){this.chart.legend.showAll(true)}},renderChart(){if(!this._super()){return}this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".sc-chart").append("svg").attr("class","sucrose").datum(this.chartData).call(this.chart);this.$el.on("touchcancel",e=>{const t=d3.select(window);_.each(_.keys(window),e=>{const n=e.match(/^__on((?:touch|drag|select).+)$/);if(n){t.on(n[1],null)}})})},getChartModel(e,t){let n;switch(t.chartType){case"pieChart":n=sucrose.charts.pieChart();break;case"funnelChart":n=sucrose.charts.funnelChart();break;case"lineChart":{n=sucrose.charts.lineChart();n.useVoronoi(true).clipEdge(false).wrapTicks(e.wrapTicks).staggerTicks(e.staggerTicks).rotateTicks(e.rotateTicks);if(e.show_x_label){n.xAxis.axisLabel(e.x_axis_label)}if(e.show_y_label){n.yAxis.axisLabel(e.y_axis_label)}let t=[];let i=e=>e;let a=e=>e[0];let r=e=>e[1];if(this.chartData.data.length){if(this.chartData.properties.labels){t=this.chartData.properties.labels.map(e=>e.l||e)}if(this.chartData.data[0].values.length&&this.chartData.data[0].values[0]instanceof Array){if(sucrose.utility.isValidDate(this.chartData.data[0].values[0][0])){i=(e=>d3.timeFormat("%x")(new Date(e)))}else if(t.length>0){i=(e=>t[e]||" ")}}else{a=(e=>e.x);r=(e=>e.y);if(t.length>0){i=(e=>t[e-1]||" ")}}}n.x(a).y(r);n.xAxis.tickFormat(i).highlightZero(false).reduceXTicks(false);break}case"barChart":n=sucrose.charts.multibarChart().vertical(t.orientation==="vertical").stacked(e.stacked).showControls(e.show_controls).showValues(e.showValues).wrapTicks(e.wrapTicks).staggerTicks(e.staggerTicks).rotateTicks(e.rotateTicks).reduceXTicks(e.reduceXTicks);n.yAxis.tickSize(0);if(e.show_x_label){n.xAxis.axisLabel(e.x_axis_label)}if(e.show_y_label){n.yAxis.axisLabel(e.y_axis_label)}break;default:n=sucrose.charts.multibarChart();break}return n},getChartConfig(e){let t;switch(e){case"pie chart":t={pieType:"basic",tip:"name",chartType:"pieChart"};break;case"line chart":t={lineType:"basic",tip:"name",chartType:"lineChart"};break;case"funnel chart":case"funnel chart 3D":t={lineType:"basic",tip:"name",chartType:"funnelChart"};break;case"stacked group by chart":t={orientation:"vertical",barType:"stacked",tip:"title",chartType:"barChart"};break;case"group by chart":t={orientation:"vertical",barType:"grouped",tip:"name",chartType:"barChart"};break;case"bar chart":t={orientation:"vertical",barType:"basic",tip:"label",chartType:"barChart"};break;case"horizontal group by chart":t={orientation:"horizontal",barType:"stacked",tip:"name",chartType:"barChart"};break;case"horizontal bar chart":case"horizontal":t={orientation:"horizontal",barType:"basic",tip:"label",chartType:"barChart"};break;default:t={orientation:"vertical",barType:"stacked",tip:"name",chartType:"barChart"};break}this.chartType=t.chartType;return t},getReportModule(e){const t=_.isEmpty(e.properties)?{}:_.first(e.properties);let n="";if(!_.isEmpty(t)&&!_.isUndefined(t.base_module)){n=t.base_module}return n},translateDataToD3(e,t,n){const i=app.utils.versionCompare(app.metadata.getServerInfo().version,"7.10",">=");let a=[];const r=0;const s=_.filter(e.values,e=>e.values.length);const o=d3.max(s,e=>e.values.length)===1;const l=n.barType==="stacked"||n.barType==="grouped";const c=this._getDataAttribute(l,o);let u=e[c];const d=_.first(e.properties)||{};let f;let p;if(!_.isEmpty(s)){switch(n.chartType){case"barChart":f=this._getBarChartDataMapper({values:s,discreteValues:o,groupedBarType:l,params:t,useLabelDataMapper:i});p=this._getBarChartDataFilter({discreteValues:o,groupedBarType:l,useLabelDataMapper:i});break;case"pieChart":f=((e,t)=>({key:this._pickLabel(e.label),value:this._sumValues(e.values)}));break;case"funnelChart":u=e[c].reverse();f=((e,t)=>({key:this._pickLabel(e.label),count:e.values.length,values:[{label:e.valuelabels[0]?e.valuelabels[0]:e.values[0],x:0,y:this._sumValues(e.values)}]}));break;case"lineChart":f=((e,t)=>({key:this._pickLabel(e.label),values:o?e.values.map((e,n)=>({x:t+1,y:parseFloat(e)})):e.values.map((e,t)=>({x:t+1,y:parseFloat(e)}))}));break}}if(f){if(p){a=u.filter(p).map(f)}else{a=_.isFunction(f)?u.map(f):f}}return{properties:{title:d.title||this.meta.view.report_title,yDataType:d.yDataType,groups:n.chartType==="gaugeChart"?[{group:1,total:r}]:n.chartType==="lineChart"&&e.label?e.label.map((e,t)=>({label:this._pickLabel(e)})):s.map((e,t)=>({label:this._pickLabel(e.label)}))},data:a}},_sumValues(e){return e.reduce((e,t)=>parseFloat(e)+parseFloat(t),0)},_pickLabel(e){const t=app.lang.get("LBL_CHART_UNDEFINED");const n=[].concat(e)[0];return n||t},_getBarChartDataMapper({values:e,discreteValues:t,groupedBarType:n,params:i,useLabelDataMapper:a}){let r;if(n&&!t){r=((t,n)=>({key:this._pickLabel(t),type:"bar",values:e.map((e,t)=>({x:t+1,y:parseFloat(e.values[n])||0}))}))}else if(n&&t||!n&&!t){r=a?(t,n)=>({key:t.values.length>1?t.label:this._pickLabel(t.label),type:"bar",values:e.map((e,t)=>({x:t+1,y:n===t?this._sumValues(e.values):0}))}):(t,n)=>({key:i.report_module||"Module",type:"bar",values:e.map((e,t)=>({x:t+1,y:this._sumValues(e.values)}))})}else{r=a?[{key:i.report_module||"Module",type:"bar",values:e.map((e,t)=>({x:t+1,y:this._sumValues(e.values)}))}]:(t,n)=>({key:t.values.length>1?t.label:this._pickLabel(t.label),type:"bar",values:e.map((e,t)=>({x:t+1,y:n===t?this._sumValues(e.values):0}))})}return r},_getBarChartDataFilter({groupedBarType:e,discreteValues:t,useLabelDataMapper:n}){if(e&&t&&!n){return(e,t)=>t===0}},_getDataAttribute(e,t){return e&&!t?"label":"values"}});e.exports=s},function(e,t,n){const i=n(1);const a=n(39);const r=n(390);const s=i.extendComponent(a,{className:"twitter-wrapper",getListViewDef(e,t){const n=_.extend({parentModel:t.parentModel},e,t.listParams);return{name:r,listParams:n,skipFetch:true,contextMenuOnSwipeDisabled:true,listItemTpl:"twitter-list-item"}}});e.exports=s},function(e,t,n){const i=n(3);const a=n(1);const r=n(6);const s=n(38);const o=a.extendComponent(s,{className:"dashlet-webpage",template:"webpage",events:{"click .wp__container":function(e){e.preventDefault();r.openWebPage(this.url)}},initialize(e){this.url=i._normalizeUrl(e.meta.view.url);this.title=e.meta.view.title;this._super(e)},onInvokedFromDashboard(){r.openWebPage(this.url)}});e.exports=o},function(e,t,n){const i=n(7);const a=n(1);const r=n(6);const s=n(5);const o=a.extendComponent(s,{cacheDisabled:true,events(){return{"click .field":"onClick","click .field-detail__value a":"openAddress"}},initialize(e){this._super(e);this._subfieldStub={};this.model.on("error:validation",this._handleValidationError,this);this.model.on(`acl:change:${this.def.fields[0].name}`,this.handleAclChange,this);this.fieldNames=_.pluck(this.def.fields,"name");this.required=this.isRequired()},onClick(){if(this.isDisabled()){return}const e=new app.NomadBean;e.module=this.model.module;e.fields={};e.attributes=app.utils.deepCopy(this.model.attributes);_.each(this.def.fields,t=>{e.fields[t.name]=app.utils.deepCopy(this.model.fields[t.name]);e.attributes[t.name]=this.model.attributes[t.name]});const t=new i({editedFieldName:this.label,addressFields:this._prepareAddressFieldDefs(),parentModel:this.model,model:e,module:e.module,collection:new app.BeanCollection,skipFetch:true});t.prepare();this.addressEditView=app.controller.loadScreen({isDynamic:true,gaTrack:"address",view:a.getViewClass("address-edit"),headerConfig:{title:this.label,save:true,saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true},context:t,initOptions:{className:"edit-address"}})[0];this._disableSubfields()},_disableSubfields(){_.each(this._subfieldStub,(e,t)=>{if(e.isDisabled()){_.each(this.addressEditView.fields,e=>{if(e.name===t){e.setDisabled(true)}})}})},bindDataChange(){if(this.model){_.each(this.def.fields,function e(t){this.model.on(`change:${t.name}`,this.render,this)},this)}},onBeforeRender(){const e=[];const t=[];const n=/street/;_.each(this.def.fields,function i(a){let r=this.model.get(a.name);if(r){const{name:i}=a;if(n.exec(i)){if(!app.serverInfo.isSevenUp){r=r.replace(/(\n(\r)?)/g," ").replace(/\s{2,}/g," ");this.model.set(i,r)}e.push(r)}else{t.push(r)}}},this);this.addressValue=(e.length>0?`${e.join()}\n`:"")+t.join(" ");this._super()},isValueEmpty(){return _.isEmpty(this.addressValue)},getErased(){const e=this.model.get("_erased_fields");const t=_.some(this.def.fields,t=>_.contains(e,t.name));return t&&this.isValueEmpty()},_checkAccessToAction(e){return app.acl.hasAccessToModel(e,this.model,this.def.fields[0].name)},_handleValidationError(e){const t={};const n=[];const i=this.$(".field");const{module:a}=this.model;_.each(e,function e(n,i){if(_.contains(this.fieldNames,i)){t[i]=n}},this);i.children(".field__error-message").remove();if(_.isEmpty(t)){return}i.addClass("error");_.each(t,function e(t,i){const r=_.find(this.def.fields,e=>e.name===i);const s=r?app.lang.get(r.label,a):i;_.each(t,(e,t)=>{n.push(`${s} : ${app.error.getErrorString(t,e)}`)})},this);const r=app.template.get("edit-field-error");i.append(r(n))},openAddress(){const e={};e[this.name]=this.def.fields;const t=this.model.getAddresses(e);r.openAddress({addresses:t})},getSubfield(e){const t=_.findWhere(this.def.fields,{name:e});let n;if(!t){return null}if(this.addressEditView){n=_.findWhere(this.addressEditView.fields,{name:e})}else if(!this._subfieldStub[e]){this._subfieldStub[e]=app.view.createField({def:t,view:this.view,model:this.model});const n=this._subfieldStub[e].setRequired;this._subfieldStub[e].setRequired=(e=>{const t=this.required;n.call(this,e);this.required=this.isRequired();if(t!==this.required){this.render()}})}return n||this._subfieldStub[e]},isRequired(){const e=this._subfieldStub||{};return _.any(this.def.fields,function t(n){return e[n.name]?e[n.name].isRequired():n.required||app.metadata.getModule(this.module).fields[n.name].required},this)},_prepareAddressFieldDefs(){return _.map(this.def.fields,function e(t){const n=this._subfieldStub[t.name];let i=t;if(n){i=_.extend({},t,{view:"edit",required:n.isRequired()})}return i},this)},_dispose(){this._super();this._subfieldStub=null}});e.exports=o},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{events:{"touchstart .checkbox_custom":"onTouchCheckbox"},format(e){return e=="1"},onBeforeRender(){this._super();if(this.model&&this.view.isEditView()&&!this.model.has(this.name)){this.model.set(this.name,false,{silent:true})}},unformat(){return Boolean(this.$(this.fieldTag)[0].checked)},onTouchCheckbox(e){e.stopPropagation()}});e.exports=r},function(e,t,n){const{isValidDate:i}=n(3);const a=n(1);const r=n(6);const s=n(61);const o=a.extendComponent(s,{initialize(e){this._super(e);if(!o._tsFormat){o.initFormat()}},onBeforeRender(){this._super();this.setDefaultValue();this.calculateAndBackupInputValues();this.setClearButtonVisibility()},bindDomChange(){this.setInputs();if(o.nativeSupport){this.inputs.on($.browser.chromeWeb?"change":"blur",_.bind(this.handleValueChange,this))}},format(e){const t=_.isEmpty(e);if(t||this.view.name==="edit"&&o.nativeSupport&&!this.isDisabled()){return e}return app.date.format(new Date(e),o._tsFormat)},unformat(e){return e},setInputs(){this.dateInput=this.$("input[data-type=date]");this.timeInput=this.$("input[data-type=time]");this.inputs=this.dateInput.add(this.timeInput)},calculateAndBackupInputValues(){let e="";let t="";const n=this.getValue();let i;if(n){i=new Date(n);e=app.date.format(i,"Y-m-d");t=app.date.format(i,"H:i:00")}this.values={date:e,time:t};this.formattedValues=null;if(n&&this.shouldFormatValues){i=new Date(n);this.formattedValues={date:app.date.format(i,o._dateFormat),time:app.date.format(i,o._timeFormat)}}this._prevValues=this.values},handleValueChange(e){this.setChanged();this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.calculateAndBackupInputValues();this.toggleControls()},setDefaultInputValues(){const e=this.getDateInputValue();const t=this.getTimeInputValue();const n=this._prevValues.date&&!e;const i=this._prevValues.time&&!t;if(e&&!t&&!i){const e=app.date.format(new Date,"H:i");this.setTimeInputValue(e)}else if(t&&!e&&!n){const e=app.date.format(new Date,"Y-m-d");this.setDateInputValue(e)}else if(n){this.setTimeInputValue("")}else if(i){this.setDateInputValue("")}},onClick(e){if(this.isOnClickLocked()){return false}const t=e.target.getAttribute("data-type");this.setOnClickBlocker();this.showDateTimePicker(t,e)},onBlur(){this.toggleControls()},getTimeInputValue(){let e=this.timeInput.val();if(e&&this.shouldFormatValues){const t=app.date.parse(e,o._timeFormat);e=`${app.date.format(t,"H:i")}:00`}return e},setTimeInputValue(e){if(e&&this.shouldFormatValues){const t=app.date.parse(e,"H:i");e=app.date.format(t,o._timeFormat)}this.timeInput.val(e)},setModelValue(e,t){let n="";const i=new Date(this.getValue());let a;let r;if(o.nativeSupport){r={disableRenderForContext:this.view}}if(e&&t){a=this._getDate(`${e} ${t}:00`,true);n=a.toISOString()}if(!(a&&a.getTime()===i.getTime())){this.model.set(this.name,n,r)}},showDateTimePicker(e,t){const n=e==="date";const a=this.getDateInputValue()||app.date.format(new Date,"Y-m-d");const s=this.getTimeInputValue()||(this.def.default_current_time?app.date.format(new Date,"H:i"):"00:00");if(o.ios7){let e=this._getDate(`${a} ${s}:00`,true);if(!i(e)){e=new Date}const r={date:e,mode:n?"date":"time"};this._setPopoverCoordinates(r,t);this.setDateInputValue(a);this.setTimeInputValue(s);this.setModelValue(a,s);this.toggleControls();window.datePicker.show(r,_.bind(function e(t){this.clearOnClickBlocker();if(!t){return}if(n){const e=`${app.date.format(t,"Y-m-d H:i")}:00`;this.setDateInputValue(e)}else{this.setTimeInputValue(t)}this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.toggleControls()},this));return}r.showDateTimePicker(n?a:s,{mode:n?"showDatePicker":"showTimePicker",callback:_.bind(function e(t){this.clearOnClickBlocker();if(n){this.setDateInputValue(t)}else{this.setTimeInputValue(t)}this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.toggleControls()},this)})},_adjustDefaultValue(e){return e.toISOString()},_getDate(e,t){const n=e.split(/[^0-9]/);const i=new Date(n[0],n[1]-1,n[2],n[3],n[4],n[5]);const a=t?0:i.getTimezoneOffset()*6e4;return new Date(i.getTime()-a)},_dispose(){this._super();if(this.inputs){this.inputs.off()}}},{initFormat(){o._dateFormat=app.user.getPreference("datepref")||"Y-m-d";o._timeFormat=app.user.getPreference("timepref")||"H:i";o._tsFormat=`${o._dateFormat} ${o._timeFormat}`}});app.events.on("app:sync:complete",()=>{o.initFormat()}).on("app:init",()=>{o.setNativeSupport()});e.exports=o},function(e,t,n){const i=n(6);const a=n(4);const r=n(1);const s=n(5);const o=r.extendComponent(s,{_errorIcon:'<span class="icondefault error-icon {0}></span>',events:{"click .actions-btn":"showActions","click .field-detail__value a":"sendEmail","click .field--email__add":"onNewEmailBtnClick",'keyup [email-id="-1"] input':"onNewEmailFieldKeyUp"},_getValue(){return this.model.get(this.name)},_getPrimaryEmail(){return _.findWhere(this._getValue(),{primary_address:true})},_render(){let e=this._getValue();if(e&&e.length){_.each(e,e=>{_.each(["primary_address","opt_out","invalid_email"],t=>{e[t]=Boolean(Number(e[t]))})});e=_.sortBy(e,e=>-Number(e.primary_address));this.model.set(this.name,e,{silent:true})}this._super()},onAfterRender(){const e=this._getPrimaryEmail();if(!this.model.get("email1")&&e){this._setEmail1Value(e.email_address)}this._super()},_modelHasEmail1(){return Boolean(this.model.fields.email1)},_setEmail1Value(e){if(this._modelHasEmail1()){this.model.set("email1",e,{silent:true})}},_getEmailObject(e){const t=e.closest("[email-id]").attr("email-id");return t!=-1&&this._getValue()[t]||null},setPrimaryEmail(e){const t=this._getValue();let n=this._getPrimaryEmail();if(n){n.primary_address=false}this.$el.find(".primary-address").removeClass("primary-address");n=t[e];n.primary_address=true;this._setEmail1Value(n.email_address);this.$el.find(`[email-id="${e}"]`).addClass("primary-address")},_toggleAttr(e,t){const n=this._getValue()[e];const i=t.replace("_","-");const a=!n[t];n[t]=a;this._getEmailFieldRow(e)[a?"addClass":"removeClass"](i)},toggleOptOut(e){this._toggleAttr(e,"opt_out")},toggleInvalid(e){this._toggleAttr(e,"invalid_email")},_getEmailFieldRow(e){return this.$el.find(`.field__controls--flex[email-id="${e}"]`)},removeEmail(e){const t=this._getValue();const n=t.splice(e,1)[0];if(n.primary_address){let e="";if(t.length){t[0].primary_address=true;e=t[0].email_address}this._setEmail1Value(e)}this.model.trigger("change:email")},_makeEmail(e){const t=!this._getValue().length;if(_.isUndefined(e)){e=""}if(t){this._setEmail1Value(e)}return{email_address:e,primary_address:t,invalid_email:false,opt_out:false}},onFieldChange(e){const t=$(e.currentTarget);const n=this._getEmailObject(t);const i=this.unformat(t.val());let a;if(n){n.email_address=i}else if(i){a=this._getValue();if(!a){a=[];this.model.set(this.name,a,{silent:true})}a.push(this._makeEmail(i))}this.model.trigger("change:email")},onNewEmailFieldKeyUp(e){const t=$(e.currentTarget);const n=this.unformat(t.val());this.$el.find(".add-btn").css({visibility:n?"visible":"hidden"})},onNewEmailBtnClick(e){const t=this.$el.find(".field--email__add + .field__controls--flex");t.showElement();t.find("input").focus()},_displayValidationMessage(e){let t;const n=[];const i=this.$(".field");i.children(".field__error-message").remove();i.removeClass("error");this.$("[email-address]").removeClass("error").remove(`.${app.config.ui.icons.edit.error}`);if(e){const a=[];i.addClass("error");_.each(this._getValue(),(t,n)=>{if(_.contains(e.email,t.email_address)){a.push(n)}});_.each(a,e=>{this.$(`[email-id="${e}"]`).addClass("error").append(app.utils.formatString(this._errorIcon,[app.config.ui.icons.edit.error]))});_.each(e,(e,t)=>{n.push(app.error.getErrorString(t,e))});t=app.template.get("edit-field-error");i.append(t(n))}app.analytics.trackEvent({category:"validation",action:this.name})},showActions(e){const t=$(e.currentTarget);t.addClass("active");const n=t.closest("[email-id]").attr("email-id");const i=this._getValue()[n];let r=[this.toggleOptOut,this.toggleInvalid,this.removeEmail];let s=[i.opt_out?"LBL_EMAIL_ACTION_SET_OPT_IN":"LBL_EMAIL_ACTION_SET_OPT_OUT",i.invalid_email?"LBL_EMAIL_ACTION_SET_VALID":"LBL_EMAIL_ACTION_SET_INVALID","LBL_REMOVE"];if(!i.primary_address){s.unshift("LBL_EMAIL_ACTION_SET_PRIMARY");r.unshift(this.setPrimaryEmail)}r=_.map(r,function e(t){return _.bind(t,this,n)},this);s=_.map(s,e=>app.lang.get(e));const o=()=>{t.removeClass("active")};a.showActionSheet(s,{onSelectCb(e){r[e]();o()},onCancelCb:o});return false},sendEmail(e){const t=$(e.target);const n=t.data("index");const a=!_.isUndefined(n)&&!t.hasClass("email_type_invalid")&&!t.hasClass("email_type_opt-out");if(a){const e=this._getValue();if(_.isObject(e[n])){i.sendEmail([e[n].email_address])}}}});e.exports=o},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{events:{"click .favorite-icon":"onClick"},onClick(e){e.preventDefault();e.stopPropagation();app.alert.dismissAll();const t=$(e.currentTarget);const n=!t.hasClass("color-disabled");const{model:i}=this;const a=function(){i.set("my_favorite",n)};i.favorite(!n,{error:a});return false}});e.exports=r},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{fields:null,subfields:"",initialize(e){this._super(e);_.each(this.def.fields,function e(t){if(t.type==="label"){const e=t.css_class.match(/label_[^\s]+/);if(e.length>0){const t=e[0].substring(6);this.model.on(`change:${t}`,function e(){const n=this.model.get(t);if(n||n===0||n===""){this.$el.find(`.label_${t}`).showElement()}else{this.$el.find(`.label_${t}`).hideElement()}},this)}}},this)},_loadTemplate(){this._super();const e=this.module==="Products"&&this.def.name==="discount";if(e){const e=this.tplName==="edit";const t=this.template!==app.template.getField("fieldset","readonly");if(e&&t){this.template=app.template.getField("fieldset","products-edit")}}},_render(){if(this.template===app.template.empty){this._super()}},getPlaceholder(){let e="";if(!this.fields){this.fields=[];_.each(this.def.fields,t=>{const n=app.view.createField({def:t,view:this.view,model:this.model,viewName:this.options.viewName});this.fields.push(n);e+=n.getPlaceholder()})}if(this.def.orientation==="horizontal"){this.subfields=new Handlebars.SafeString(e);return this._super()}return new Handlebars.SafeString(e)}});e.exports=r},function(e,t,n){const i=n(1);const a=n(42);const r=i.extendComponent(a,{isFloat:true});e.exports=r},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{events:{"click .follow-label":"onClick"},onClick(e){e.preventDefault();e.stopPropagation();this.model.follow(!this.model.get("following"),{error:_.bind(this.onError,this)})},onError(){this.model.set("following",!this.model.get("following"))}});e.exports=r},function(e,t,n){const i=n(1);const a=n(63);const r=n(9);const s=i.extendComponent(a,{supportedTypes:["image/jpeg","image/png","image/gif"],initialize(e){this._super(e);this._canvas=document.createElement("canvas")},onAfterRender(){this._super();if(this.value){this._showAndPositionImage()}},_setForcedRefresh(e){this.cacheDisabled=e},_showAndPositionImage(e,t={}){t.field=this.name;t.isContentRequired=$.os.ios;t.iframe=false;return app.api.file("read",{module:this.module,id:this.model.id},null,{success:(e={})=>{const t=this._prepareUrl(e);this._updateAvatar(t);this._setForcedRefresh(!e[this.name])},error:e=>{this._setForcedRefresh(true);this._updateAvatar(this._prepareUrl(null))}},t)},_prepareUrl(e){if(!e||this.disposed){return null}const t=e[this.name]||{};const n=t.fsEntry||{};const i=_.isEmpty(t)&&_.isEmpty(n);if(i){const e=this.context.get("name");return`img/offline-${e}.svg`}if(n&&n.binary){return this._getLocalObjectUrl({binary:n.binary,type:t.type})}let a=t.uri||n.uri||"";if(a.indexOf("file:")===0){return a}const s=r.getRestVersion();const o=a.split(new RegExp(`rest\\/v${s}\\/`,"gi"))[1];a=`${app.api.serverUrl}/${o}?platform=${app.config.platform}&_id=${this.model.get(this.name)}`;const l=!_.isEmpty(app.api.getDownloadToken());if(l){if(!t.oauth){a+=`&download_token=${app.api.getDownloadToken()}`}}else{a+=`&oauth_token=${app.api.getOAuthToken()}`}return a},_updateAvatar(e){if(this.$el){const t=this.$el.find("div.avatar");t.css({backgroundImage:`url(${e})`})}},prepareFile(){this.trigger("file:field:change",this.$fileInput,"preparing");asyncLib.series([_.bind(this._readFileData,this),_.bind(this._resizeImage,this),_.bind(this._applyPreview,this)],_.bind(function e(t){if(t){this.trigger("file:field:change",t.message||app.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}else{this.$fileInput.fieldName=this.name;this._changeFieldState(true);this.trigger("file:field:change",this.$fileInput,"prepared")}},this))},_changeFieldState(e){this.$el.find(".picture-icon").toggleElement(!e);this.$el.find(".placeholder").toggleElement(!e);if(!this.def.required){this.$fileRemoveBtn.toggleElement(e)}if(!e){this.$el.find("div.avatar").css({backgroundImage:"none"})}},_applyPreview(e){this.$el.find(".user-icon").hideElement();const t=this._getLocalObjectUrl(this.$fileInput.fileData);this._updateAvatar(t);e()},_getLocalObjectUrl(e){const t=new Blob([e.binary],{type:e.type});const n=URL.createObjectURL(t);return n}});e.exports=s},function(e,t,n){const i=SUGAR.App;const a=n(3);const r=n(1);const s=n(7);const o=n(5);const l=r.extendComponent(o,{cacheDisabled:true,events(){return{"click .secondary-btn":"onSecondaryClick","click .field":"onClick"}},fieldTag:"invitees",onClick(e){if(e.defaultPrevented||this.isDisabled()){return false}const t=i.metadata.getModuleNames({filter:"visible",access:"list"});if(i.acl.hasAccess("list","Users")){t.push("Users")}const n=_.intersection(["Contacts","Leads","Users"],t);const a=_.map(n,e=>({value:e,label:i.lang.getModuleName(e,{plural:true}),module:e})).sort((e,t)=>e.label>t.label?1:-1);const o=new s({collection:new i.BeanCollection(a),skipFetch:true});const l=i.controller.loadScreen({isDynamic:true,gaTrack:"invitees-picker-list",view:r.getViewClass("selection-list"),context:o,headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),save:false},initOptions:{preset:"staticItems"}})[0];l.on("selection:change",e=>{const t=e[0];this.createListLayout(t.get("value"),this.model)})},createListLayout(e){const t=new s({module:e});t.prepare();const n=t.get("module");const o=i.lang.get("LBL_ASSOC",n,i.lang.getModuleName(n));const l=i.controller.loadScreen({isDynamic:true,gaTrack:"invitees-list",view:r.getViewClass("selection-list"),context:t,headerConfig:{title:o,cancel:true,save:true,search:true},initOptions:{multiselect:true}})[0];l.onHeaderSaveClick=(()=>{let t=l.getSelectedModels();t=_.map(t,t=>{const n=_.pick(t.attributes,"id","name");n.link=e.toLowerCase();n.isNameErased=a.isNameErased(t);return n});const n=_.compact(this.model.get("invitees"));let r=_.pluck(n,"id");r=_.map(r,e=>e.toString());t=_.chain(t).reject(e=>_.include(r,e.id.toString())).union(n).value();this.model.set("invitees",t);i.controller.disposeDynamic({layoutsToDispose:2})})},onSecondaryClick(e){const t=this.model.get("invitees");const n=$(e.currentTarget).attr("uid");const i=_.reject(t,e=>e.id==n);this.model.set("invitees",i);return false}});e.exports=l},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{onAfterRender(){this._super();if(this.el){const e=this.el.className.match(/label_[^\s]+/);if(e.length>0){const t=this.model.get(e[0].substring(6));const n=t||t===0||t==="";this.$el.toggleElement(n)}}}});e.exports=r},function(e,t,n){const i=n(1);const a=n(5);const r=n(7);const s=n(52);const o=i.extendComponent(a,{events:{"touchstart .multienum-list__remove":"highlightRemoveClick","click .multienum-list__remove":"onRemoveClick","click .field":"onClick"},onBeforeRender(){const e=this.model.get(this.name);if(this.view.isEditView()&&_.isArray(e)&&e.length===1&&e[0]===""){this.model.set(this.name,[],{silent:true})}this._super()},onClick(e){if(e.defaultPrevented||this.isDisabled()){return false}const t=new r({collection:s.createBeanCollection(null,this._getItemsToShow()),skipFetch:true});const n=app.controller.loadScreen({isDynamic:true,gaTrack:"multienum",headerConfig:{title:app.lang.get("LBL_CHOOSE_ITEMS"),saveLabel:"LBL_DONE_BUTTON_LABEL",save:true},view:i.getViewClass("selection-list"),context:t,initOptions:{className:"multienum__list",preset:"staticItems",multiselect:true}})[0];n.onHeaderSaveClick=(()=>{const e=_.map(n.getSelectedModels(),e=>e.get("value"));const t=_.compact(this.model.get(this.name));this.model.set(this.name,_.union(t,e));app.controller.disposeDynamic()});e.preventDefault()},_getItemsToShow:function e(){const t=this.model.fields[this.name].options;let n=app.lang.getAppListStrings(this.def.options);const i=app.metadata.getEditableDropdownFilter(this.def.options);const a=[];if(_.isObject(t)&&!_.isEmpty(t)){n=_.pick(n,_.keys(t))}if(!_.isEmpty(i)){const e=_.chain(i).filter(e=>e[1]===false).map(e=>e[0]).value();n=_.omit(n,e)}_.each(n,function e(t,n){if(!_.contains(this.value,n)&&n!==""){a.push({label:t,value:n})}},this);return a},highlightRemoveClick(e){$(e.target).addClass("selected-item")},onRemoveClick(e){const t=this.model.get(this.name);const n=$(e.target).is("[item-id]")?$(e.target):$(e.target).closest("[item-id]");const i=n.attr("item-id");const a=_.without(t,i);this.model.set(this.name,a);return false}});e.exports=o},function(e,t,n){const i=SUGAR.App;const a=n(3);const r=n(1);const s=n(7);const o=n(5);const l=r.extendComponent(o,{events:{"click .secondary-btn":"onSecondaryClick","click .field":"onClick"},onBeforeRender(){this._super();const e=this.model.get("parent_type");this.hasAccess=i.acl.hasAccess("read",e)&&!_.isEmpty(i.metadata.getModule(e));const t=this.model.get(this.def.id_name);this.link=!_.contains(i.config.modules.readonlyModules,e)&&t&&i.acl.hasAccess("view",e)?i.router.buildRoute(e,t):null},onClick(e){if(e.defaultPrevented||this.isDisabled()){return false}const t=i.lang.getAppListStrings(this.def.options)||{};const n=i.metadata.getModuleNames({filter:"visible"});let a=_.intersection(_.keys(t),n);if(_.contains(["Notes","Tasks"],this.module)){a=_.without(a,"Contacts")}a=_.filter(a,e=>i.acl.hasAccess("read",e),this);const o=_.map(a,e=>({value:e,label:t[e],module:e})).sort((e,t)=>e.label>t.label?1:-1);const l=new s({collection:new i.BeanCollection(o),skipFetch:true});const c=i.controller.loadScreen({isDynamic:true,gaTrack:"parent-picker-list",headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),cancel:true,save:false,search:false},view:r.getViewClass("selection-list"),context:l,initOptions:{preset:"staticItems"}})[0];c.on("selection:change",e=>{const t=e[0];this.createParentListLayout(t.get("value"),this.model)})},createParentListLayout(e,t){const n=new s({module:e}).prepare();const o=n.get("module");const l=i.controller.loadScreen({isDynamic:true,gaTrack:"parent-list",view:r.getViewClass("selection-list"),context:n,headerConfig:{title:i.lang.get("LBL_ASSIGN",o,i.lang.getModuleName(o)),rightMenu:true,save:false}})[0];l.on("selection:change",n=>{const r=n[0];const s=r.get("id");const o=r.get("name");const l=a.isNameErased(r);const c=this.model.get("parent_name");t.set({parent_name:o,parent_id:s,parent_type:e,parent:{id:s,name:o,type:e,_acl:r.get("_acl"),_erased_fields:r.get("_erased_fields")}});if(l&&!c){this.model.trigger("change:parent_name",this.model,o)}i.controller.disposeDynamic({layoutsToDispose:2})})},onSecondaryClick(e){const t=i.data.createBean(this.model.get("parent_type"),this.model.get("parent"));const n=a.isNameErased(t);const r="";this.model.set({parent_name:r,parent_id:r,parent_type:r,parent:null});if(n){this.model.trigger("change:parent_name",this.model,r)}return false},getErased(){if(this.model.get(this.name)){return false}const e=i.data.createBean(this.model.get("parent_type"),this.model.get("parent"));return a.isNameErased(e)}});e.exports=l},function(e,t,n){const i=n(1);const a=n(6);const r=n(4);const s=n(5);const o=i.extendComponent(s,{events:{"click .field-detail__value a":"onClickNumber"},availableActions:[{name:"sms",label:"LBL_SMS_BUTTON",action(e){a.sendSms(e)}},{name:"call",label:"LBL_CALL_BUTTON",action(e,t){a.callPhone(e,t)}}],onFieldChange(){const e=this.format(this.unformat(this._$fieldEl.val()))||"";const t=this.model.get(this.name);this.model.set(this.name,e);if(t===e){this.model.trigger(`change:${this.name}`,this.model,e)}},onClickNumber(){const e=this;const t=this.value;const n=_.map(this.availableActions,e=>app.lang.get(e.label));r.showActionSheet(n,{title:t,onSelectCb(n){e.availableActions[n].action(t,{model:e.model})}})}});e.exports=o},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{events:{"click .btn-group .btn":"onClick"},onClick(e){this.model.set(this.name,$(e.currentTarget).data("value"))}});e.exports=r},function(e,t,n){const i=n(1);const a=n(5);const r=i.extendComponent(a,{initialize(e){if(e.view.name==="edit"){e.viewName="disabled"}this._super(e)}});e.exports=r},function(e,t,n){const i=n(1);const a=n(7);const r=n(5);const s=i.extendComponent(r,{cacheDisabled:true,events:{"click .primary-btn":"onPrimaryClick","click .selected-btn":"onSelectedClick","click .remove-btn":"onRemoveClick","click .field":"onClick"},initialize(e){this._super(e);this.isTBAEnabled=this.isTeamBasedAclEnabledForModule(this.module);this.model.on("change:team_name",function e(){this.$el.find("[team-id]").removeClass("active")},this)},isTeamBasedAclEnabledForModule(e){return app.config.teamBasedAcl.enabled&&app.supportedFeatures.teamBasedAclServerSupport&&!_.contains(app.config.teamBasedAcl.unsupportedModules,e)&&app.metadata.getModule(e,"isTBAEnabled")},_render(){let e=this.model.get(this.name);if(_.isArray(e)){e=_.sortBy(e,e=>e.primary!==true);this.model.set(this.name,e,{silent:true})}this._super()},onClick(e){if(e.defaultPrevented||this.isDisabled()){return false}const t="Teams";const n=new a({module:t}).prepare();const r=app.controller.loadScreen({isDynamic:true,gaTrack:"teamset",view:i.getViewClass("selection-list"),context:n,headerConfig:{title:app.lang.get("LBL_MOBILE_SELECT_TEAMS"),saveLabel:"LBL_DONE_BUTTON_LABEL"},initOptions:{multiselect:true,listItemTpl:"list-item-teamset"}})[0];r.onHeaderSaveClick=(()=>{const e=_.map(r.getSelectedModels(),e=>_.pick(e.attributes,"id","name","name_2"));const t=_.compact(this.model.get("team_name"));let n=_.pluck(t,"id");n=_.map(n,e=>e.toString());const i=_.chain(e).reject(e=>_.include(n,e.id.toString())).union(t).value();this.model.set("team_name",i);app.controller.goBack()})},onPrimaryClick(e){const t=app.config.ui.icons.edit.teamsetPrimary;const n=app.config.ui.icons.edit.teamsetSecondary;const i=this.$el.find("[team-id].primary-btn.active");const a=i.removeClass("active").attr("team-id");const r=$(e.currentTarget);i.find(".icondefault").toggleClass(t,false).toggleClass(n,true);r.addClass("active").find(".icondefault").toggleClass(n,false).toggleClass(t,true);const s=_.find(this.model.get("team_name"),e=>e.id==a);if(s){s.primary=false}const o=$(e.currentTarget).attr("team-id");const l=_.find(this.model.get("team_name"),e=>e.id==o);l.primary=true;return false},onSelectedClick(e){const t=$(e.currentTarget).attr("team-id");const n=_.find(this.model.get("team_name"),e=>e.id==t);if(n){n.selected=!n.selected;const t=app.config.ui.icons.edit.unlock;const i=app.config.ui.icons.edit.lock;const a=$(e.currentTarget).toggleClass("active",n.selected).find(".icondefault");if(n.selected){$(a).toggleClass(i,false);$(a).toggleClass(t,true)}else{$(a).toggleClass(t,false);$(a).toggleClass(i,true)}}return false},onRemoveClick(e){const t=this.model.get("team_name");const n=$(e.currentTarget).attr("team-id");const i=_.reject(t,e=>e.id==n);this.model.set("team_name",i);return false}});e.exports=s},function(e,t,n){const i=n(44);const a=n(1);const{buildActionHandlerName:r}=n(3);const s=a.extendComponent({parent:app.view.Layout},{initialize(e){e.meta=e.meta||{};delete e.className;this._super(e);let t=this.prepareComponents(e);t=this.initComponents(t);const n=this.module||this.context&&this.context.get("module");const a=n?`layout__${n}`:"";const r=this._getLayoutTypeCss(e);const s=!_.isEmpty(this.options.link);this.$el.addClass(`${a} ${r} layout__def${s?" related":""}`);if(t.length===1&&t[0]instanceof i){e.subType="selector"}if(e.subType){this.$el.attr("layout-name",e.subType)}_.each(t,function e(t){this.listenTo(t,"component:action",function e(n){this.handleComponentAction(t,n)})},this)},_getLayoutTypeCss(e){let t;if(e.baseType){t=e.baseType}else if(e.context&&e.context.get("duplicate")){t="edit"}else{const n=_.first(e.views);if(n){t=n.prototype._stringType}}if(_.contains(["selection-list","filtered-list"],t)){t="list"}return t?`layout__${t}`:""},prepareComponents(e){let t=e.views;let n;if(t){if(!_.isArray(t)){t=[t]}n=_.map(t,e=>({view:{name:e}}))}return n},getComponent(e){if(_.isFunction(e)){return _.find(this._components,t=>t instanceof e)}return this._super(e)},bindGlobalEvents(){_.invoke(this._components,"bindGlobalEvents")},unbindGlobalEvents(){_.invoke(this._components,"unbindGlobalEvents")},onDetachFromDom:function e(){this.unbindGlobalEvents();_.invoke(this._components,"onDetachFromDom")},onAppResume(){_.invoke(this._components,"onAppResume")},onAppPause(){_.invoke(this._components,"onAppPause")},render(e){e={animation:{enabled:false}};this._prepareBodyScroll();this._handleRenderWithAnimation((...e)=>{app.view.Layout.prototype.render.apply(this,e)},e)},renderFromCache(e){const t=this;this._prepareBodyScroll();this.$el.showElement();this._handleRenderWithAnimation(()=>{_.each(t._components,e=>{_.each(e.fields,e=>{if(e.cacheDisabled===true||e.hasAccess!==e.getAccess()){e.render()}})})},e)},loadData(e){if(this.disposed){return}_.find(this._components,t=>{if(t.name!=="header"){t.loadData(e);return true}})},onAfterShow(){const e=_.getNested(this.constructor,"config.header.buttons.save");if(!_.isUndefined(e)&&this._header){this._header.setButtonVisible({save:e})}this.bindGlobalEvents();_.invoke(this._components,"onAfterShow")},getDefinition(){return this.options.def},getOverlay$El(){const e=this.getDefinition().appendTo.el.find(".background");return e.length?e:null},getDataById(e){const t=this.context&&this.context.get("collection");if(this.model.id===e){return this.model.toJSON()}else if(t&&t.get(e)){return t.get(e).getSnapshot()}return null},_handleRenderWithAnimation(e,t){const n=this.getOverlay$El();if(t.animation.enabled&&n){app.logger.debug(`Overlay show '_handleRenderWithAnimation'`);n.showElement();e();_.delay(()=>{n.animate({opacity:0},{duration:t.animation.animationLength,complete(){app.logger.debug(`Overlay hide '_handleRenderWithAnimation'`);n.hideElement();n.css("opacity",1)}})},t.animation.preAnimationDelay)}else{e();if(n){app.logger.debug(`Overlay hide '_handleRenderWithAnimation'`);n.hideElement()}}},_prepareBodyScroll(){if(app.isBodyScrollRequired){const e=_.find(this._components,e=>e._bodyScroll);if(e){$("html").addClass(`${this.module==="Login"?"loginView":""} bodyScroll`);_.defer(()=>{document.body.scrollTop=0})}else{$("html").removeClass("bodyScroll loginView");const e=$("#alerts");e.remove();_.defer(()=>{document.body.scrollTop=0;$("#nomad").append(e)})}}},_dispose(){if(this.model){this.stopListening(this.model)}this.$el.off();app.view.Layout.prototype._dispose.call(this)},onBeforeLeave(e){const t=_.chain(this._components).filter(e=>Boolean(e.onBeforeLeave)).map(e=>(function t(n){e.onBeforeLeave({callback(e){n(e&&e.cancel,e)}})})).value();asyncLib.parallel(t,t=>{e.callback({cancel:t})})},handleComponentAction(e,t){const n=r(t.name);const i=this[n];let a;if(_.isFunction(i)){a=i.call(this,t.options)}if(!a){_.each(this._components,i=>{if(i!==e){i.handleComponentAction(n,t.options)}});if(_.isFunction(app.controller[n])){app.controller[n](t)}}},createComponentFromDef(e,t,n){if(!(e.view&&_.isFunction(e.view.name))){return this._super(e,t,n)}t=t||this.context;n=n||this.module;if(e.context){if(e.context instanceof app.Context){t=e.context}else{t=t.getChildContext(e.context);t.prepare()}n=t.get("module")}const i=_.extend({},this.options,{context:t,module:n,def:e,loadModule:e.loadModule,type:e.view.type,name:e.view.name,primary:e.view.primary,layout:this});delete i.meta;if(this.options.initOptions){_.extend(i,this.options.initOptions)}return app.view.createView(i)}});app.view.NomadLayout=s;e.exports=s},function(e,t,n){(function e(t){const i=n(346);const a={START:"start",FINISH:"finish"};const r={readCollection:function e(n){const{method:r,module:s,data:o,params:l,callbacks:c,options:u}=n;const d=o&&o.relatedModule||s;const f=[];let p;t.offline.utils.callOnce(c);if(s==="Recents"){return i.readCollection(n,this._onReadCollectionComplete)}if(s==="TxLog"){l.skipServerSync=true}if(!l.skipOfflineRead){p=this._getOfflineReadParams(d,l);if(!p.skipOfflineRead){f.push(_.bind(function e(t){this._offlineRead(t,r,s,o,p,c,u)},this))}}if(t.offline.isOnline()){if(!l.skipServerSync){f.push(_.bind(function e(t){if(l.filter&&p&&!p.skipOfflineRead){l.fields=_.union(l.fields?l.fields.split(","):[],p.filterParsed.filterFields).join()}this._serverRead(t,r,s,o,l,c,u)},this))}}else if(c.error){const e=_.extend({request:{params:u}},t.offline.api.NO_CONNECTION_ERROR);c.error(e)}t.events.trigger("offline:collection:read",{status:a.START,apiOptions:u});asyncLib.waterfall(f,(e,t)=>this._onReadCollectionComplete(e,t,u,c))},_offlineRead(e,n,i,a,r,s,o={}){t.offline.storage.sync("read",a,i,_.extend({collectionFields:o.collectionFields},r,{ts:t.utils.getTimestamp(),success:function n(a){let o;a=a||[];if(!_.isArray(a)){a=[a]}if(i==="TxLog"){const{totalTransactions:e}=a.pop();a=_.map(a,e=>{e.id=e._tx_uid;return e});const n=(r.offset||0)+a.length;o=e>n?n:-1;t.offline.storage.fillTxLogData(a,()=>{s.success({records:a,next_offset:o})})}else{o=r.max_num>a.length||r.serverNextOffset===-1?-1:(r.offset||0)+a.length;const e={records:a,next_offset:o};if(s.success){s.success(e)}}e()},error(t){if(s.error){s.error(t)}e(t)},complete:s.complete}))},_getOfflineReadParams:function e(n,i){const a=t.utils.deepCopy(i);const r=t.offline.convertReadRecordsFilter(a,n);if(r){if(r.isSupported){a.filterParsed=r}else{a.skipOfflineRead=true}}return a},_serverRead(e,n,i,a,r,s,o){const l=r.relate?"relationships":"records";t.offline.api.callOriginalApi(l,[n,i,a,t.offline.utils.getCleanedParams(r),{success(n){if(s.success){s.success(n)}n=n||{};if(r.serverSyncSuccess&&n.records){r.serverSyncSuccess({records:n.records,next_offset:n.next_offset},r)}if(_.isEmpty(n.records)){e(null,{serverData:n})}else{t.offline.storage.saveRecords({module:i,serverData:n.records,relationshipData:r.relate?a:null,collectionFields:o.collectionFields,callback(s,l){const c=!s&&l.isDataUpdated&&!r.skipOfflineRead;e(s,{serverData:n,isDataUpdated:c});if(c){t.trigger("offline:data:updated",{isCollection:true,action:"update",module:i,relationsData:a,serverNextOffset:n.next_offset,requestParams:r,cid:o.cid})}}})}},error(t){if(s.error){s.error(t)}e(t)},complete:s.complete},o])},_onReadCollectionComplete(e,n,i,r){n=n||{};if(e){if(r.error){r.error(e)}if(e instanceof t.offline.Error&&e!==t.offline.Error.OfflineDisabledError){t.logger.error(`read_collection failed. ${e}`)}}else{t.trigger("offline:api:read:success")}if(r.complete){r.complete(n.serverData)}t.events.trigger("offline:collection:read",{status:a.FINISH,isDataUpdated:n.isDataUpdated,apiOptions:i})}};_.extend(t.offline.api,{readCollection:_.bind(r.readCollection,r),_readCollectionScope:r,ReadCollectionStatus:a})})(SUGAR.App)},function(e,t,n){const i=n(23);const a="offline:bulkload:core:cache";const r=function(){const e=app.cache.get(a)||{};_.extend(this,e)};r.prototype.save=function e(){app.cache.set(a,this)};const s={error412Handler:null,_status:{working:false,module:null,bucketName:null,count:0},cache:null,init(){this.cache=new r;this.error412Handler=app.error.handleStatusCodesFallback.bind(app.error);if(_.isEmpty(this.cache)){this._initCacheValues()}},uninit(){this.stop()},queueBuckets(e){e=_.isArray(e)?e:[e];if(!e.length){return}_.each(e,e=>{this.cache.queue.push(e);if(!_.contains(this.cache.queuedBuckets,e.name)){this.cache.queuedBuckets.push(e.name)}});this.cache.save()},start(){if(this._status.working||!this.cache.queue.length){return}this._status.working=true;if(!this._loading){this._load()}},_stopCallback:null,stop(e=(()=>{})){const t=(...t)=>{app.events.trigger("offline:bulkload:progress",i.ProgressEventType.STOP);e.apply(this,t)};this._status.working=false;if(this._loading){this._stopCallback=t}else{t()}},_initCacheValues(){this.cache.queue=[];this.cache.queuedBuckets=[];this.cache.status={};this.cache.pausedByUser=false;this.cache.lastCompletedTs=null;this.cache.save()},clearCache(){app.cache.cut(a);if(this.cache){this._initCacheValues()}},resetModulesStatus(){this.cache.status={};this.cache.save()},_loading:false,_load(){this._loading=true;let e=false;asyncLib.whilst(()=>{if(this._status.working&&this.cache.queue.length){if(!e){app.events.trigger("offline:bulkload:progress",i.ProgressEventType.START);e=true}return true}},e=>{this._loadNextModule(e)},e=>{const t=this.cache.queue.length===0;const{bucketName:n}=this._status;this._loading=false;if(this._stopCallback){this._stopCallback();this._stopCallback=null}this._status={working:false,module:null,count:0};if(t){this.cache.lastCompletedTs=app.utils.getTimestamp();this.cache.save();app.events.trigger("offline:bulkload:progress",i.ProgressEventType.COMPLETE,n)}})},_loadNextModule(e){const{queue:t}=this.cache;const n=t[0];if(n){const t=n.modules[0];this._status.bucketName=n.name;this._processModule(t,t=>{e()})}else{e()}},_processModule(e,t){const n=e.name;if(!this.cache.status[n]){this.cache.status[n]={status:i.ModuleStatus.IN_PROGRESS,currentCount:0,serverOffset:0,gtFilterTimestamp:null}}this.cache.status[n].status=i.ModuleStatus.IN_PROGRESS;this.cache.save();this._status.module=n;this._status.count=this.cache.status[n].currentCount;asyncLib.whilst(()=>this._status.working&&_.getNested(this.cache.status,`${n}.status`)===i.ModuleStatus.IN_PROGRESS,t=>{_.delay(()=>{const n=e.name;const i=this.cache.status[n];if(this._status.working&&i){this._fetchAndSaveNextPage(e,t)}else{t()}},app.config.offline.bulkLoad.requestDelay)},t)},_fetchAndSaveNextPage(e,t){const n=e.name;const a=this.cache.status[n];const r=app.metadata.getModule(n);if(!r){this._onPageComplete(new Error(`Module meta of '${n}' is empty.`),e,null,t);return}const s=e.filter||[];if(a.gtFilterTimestamp){s.push({date_modified:{$gt:new Date(a.gtFilterTimestamp).toISOString()}})}const o=a.serverOffset||0;const l={max_num:e.pageSize,order_by:"date_modified:desc",filter:s,offset:o,e2e_skip:app.config.scheme==="e2e",erased_fields:1};_.extend(l,this._getFieldsLoadParams(n));app.events.trigger("offline:bulkload:progress",i.ProgressEventType.PAGE_START);app.offline.api.callOriginalApi("records",["read",n,null,l,{success:n=>{const{records:i}=n;if(i.length){if(o===0){a.firstRecordTimestamp=n.records[0].date_modified;this.cache.save()}app.offline.storage.saveRecords({module:e.name,serverData:i,backgroundMode:true,forceColFieldsSaving:true,callback:i=>{this._onPageComplete(i,e,n,t)}})}else{this._onPageComplete(null,e,n,t)}},error:n=>{this._onPageComplete(n,e,null,t)}}])},_getFieldsLoadParams(e){return e==="Quotes"?{view:"record"}:{fields:app.metadata.getModule(e,"mergedFields").join()}},_pageRetryCount:0,_retriesLim:3,_onPageComplete(e,t,n,a){const r=t.name;const s=this.cache.status[r];let o=true;if(e){if(e instanceof app.offline.Error){if(e===app.offline.Error.OfflineDisabledError){this.stop()}else{app.logger.error(`Bulk Loader (${r}): Failed to save records to database. ${e}`);s.status=`${i.ModuleStatus.OFFLINE_ERROR}.Code:${e.code}`;s.currentCount=0;this._shiftQueue()}}else if(e.status===401){this.stop();app.logger.debug(`Bulk Loader (${r}): 401 Unauthorized. Stopping.`)}else if(e.status===412){this.stop();app.logger.debug(`Bulk Loader (${r}): metadata change detected. Invoking default handler.`);this.error412Handler(e)}else if(app.utils.isConnectivityError(e)&&this._pageRetryCount<this._retriesLim){app.logger.debug(`Bulk Loader(${r}): Server connectivity error. Retrying.`);this._pageRetryCount++;o=false}else{const t=_.isUndefined(e.status)?i.ModuleStatus.UNKNOWN_ERROR:e.status;app.logger.error(`Bulk Loader (${r}): Server error - ${t}`);s.status=t;s.currentCount=0;this._shiftQueue()}}else{app.events.trigger("offline:bulkload:progress",i.ProgressEventType.PAGE_FINISH,{module:r});const e=n.records.length;if(e){s.currentCount+=e;s.serverOffset+=e;this._status.count=s.currentCount;this.cache.save()}if(n.next_offset===-1||s.currentCount>=t.limit){s.status=200;s.currentCount=0;if(n.next_offset===-1&&s.firstRecordTimestamp){s.gtFilterTimestamp=app.utils.getTimestamp(s.firstRecordTimestamp);s.serverOffset=0}s.firstRecordTimestamp=null;this._shiftQueue()}}if(o){this._pageRetryCount=0}a(e)},_shiftQueue(){this.cache.queue[0].modules.shift();if(this.cache.queue[0].modules.length===0){this.cache.queue.shift()}this.cache.save()}};app.offline.syncManager.bulkLoader=s;e.exports=s},function(e,t,n){const i=n(3);const a=n(14);e.exports={LAST_SENT_TIMESTAMP:"offline:db_analytics:last_sent_timestamp",_onBulkLoadProgress(e,t){const i=n(26);const a=n(23);if(e===a.ProgressEventType.COMPLETE&&t===a.BucketType.COMPLETE){const e=[];_.each(i.getCache().status,(t,n)=>{if(t.status!==200){e.push(_.extend({name:n},t))}});if(e.length===0){app.analytics.trackEvent({category:"bulkload",action:"success",value:null,label:app.clientInfo.device.uuid})}else{app.analytics.trackEvent({category:"bulkload",action:"failure",value:null,label:app.clientInfo.device.uuid});_.each(e,e=>{app.analytics.trackEvent({category:`bulkload-error-${e.name}`,action:e.status,value:undefined,label:app.clientInfo.device.uuid})})}}},onOfflineToggled(e){if(!app.config.analytics.enabled){return}if(e){const e=a.getSetting({store:a.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP});if(!e){a.setSetting({store:a.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP,value:(new Date).getTime()})}app.events.on("offline:bulkload:progress",this._onBulkLoadProgress,this);app.events.on("offline:cleanup:completed",this._trackModulesLimitHit,this)}else{app.events.off("offline:bulkload:progress",this._onBulkLoadProgress,this);app.events.off("offline:cleanup:completed",this._trackModulesLimitHit,this);a.removeSetting({store:a.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP})}},_trackModulesLimitHit(e){_.each(e,e=>{app.analytics.trackEvent({category:"db-limit",action:e.moduleName,value:null,label:app.clientInfo.device.uuid})})},processPeriodicAnalytics(e){if(!app.config.analytics.enabled){return}const t=a.getSetting({store:a.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP});const n=(new Date).getTime();const i=app.config.analytics.dbAnalyticsInterval*60*60*1e3;const r=n-t;if(r>=i){this._sendRecordsCountAnalytics(e);a.setSetting({store:a.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP,value:n})}},_sendRecordsCountAnalytics(e){_.each(e.count,(e,t)=>{const n=i.getRange(e,1e3);app.analytics.trackEvent({category:`offline-count-${t}`,action:n,value:undefined,label:app.clientInfo.device.uuid})});app.analytics.trackEvent({category:"offline-count",action:i.getRange(e.totalRecords,1e3),value:undefined,label:app.clientInfo.device.uuid})}}},function(e,t,n){const i="db_cleanup";const a=n(12);const r=n(14);e.exports={_working:false,_offlineConfirmedCacheKey:"offline:cleanup:confirmed",cleanUp(e){if(this._working){return Promise.resolve()}const t=n(31);const i=r.getSetting({store:r.Stores.LAST_STATE,name:this._offlineConfirmedCacheKey});const a=e?Promise.resolve(e):t.getOfflineDbStats();return a.then(e=>{const t=this._getModulesToCleanUp(e);if(_.isEmpty(t)){return null}return i?this.cleanUpStorage(t):this.showCleanupAlert(t)}).catch(e=>app.logger.error(e.message))},showCleanupAlert(e){const t=n(4);return new Promise(e=>{t.showAlert(app.lang.get("ERR_OFFLINE_CLEAN_UP_CONFIRMATION"),{callback:t=>{r.setSetting({store:r.Stores.LAST_STATE,name:this._offlineConfirmedCacheKey,value:true});app.nomad.dismissAlerts();e()}})}).then(()=>this.cleanUpStorage(e))},_getModulesToCleanUp(e){const t=[];const{dbLimits:n}=app.config.offline;_.each(e.count,(e,i)=>{if(e>(n.modules[i]||n.default)){t.push({moduleName:i,recordsCount:e})}});return t},cleanUpStorage(e){return new Promise((t,n)=>{const r=(new Date).getTime();const s=1e3*60*60*24;let o=new Date(r-s*app.config.offline.cleanUp.defaultPurgeInterval);this._working=true;o=app.utils.getTimestamp(o);a.show("offline:cleanup");app.alert.show(i,{level:"info",messages:app.lang.get("LBL_OFFLINE_DB_CLEANING_IN_PROGRESS"),autoClose:false,closable:false});app.offline.compactStorage({expirationDate:o,modules:e,callback:r=>{a.hide("offline:cleanup",{animate:true});app.alert.dismiss(i);app.events.trigger("offline:cleanup:completed",e);this._working=false;if(r){n(r)}else{t()}}})}).then(()=>{app.alert.show(i,{level:"success",messages:app.lang.get("LBL_OFFLINE_DB_CLEANING_COMPLETED"),autoClose:true,closable:true})}).catch(e=>{if(e!==app.offline.Error.OfflineDisabledError){app.alert.show(i,{level:"error",messages:app.lang.get("ERR_OFFLINE_DB_CLEANING_ERROR"),autoClose:true,closable:true})}})}}},function(e,t){const n=function(){this.stack=[];this.hash={}};n.prototype={clear(){this.stack=[];this.hash={}},iterate(e,t){_.each(this.stack,function t(n,i){e.call(this,n.item,i)},t)},remove(e,t){const n=[];if(_.isFunction(e)){_.each(this.stack,(i,a)=>{const r=e.call(t,i.item,a);if(r){n.push(i)}},this);_.each(n,function e(t){this.remove(t.uid)},this)}else{let t=-1;let n;for(let i=0;i<this.stack.length;i++){if(_.isString(e)?this.stack[i].uid===e:this.stack[i].item===e){t=i;n=this.stack[i];break}}if(t>-1&&n){delete this.hash[n.uid];this.stack.splice(t,1)}}},shift(){const e=this.stack.shift();delete this.hash[e.uid];return e.item},pop(){const e=this.stack.pop();delete this.hash[e.uid];return e.item},push(e,t){if(!this.hash[e]){this.stack.push({uid:e,item:t})}this.hash[e]=t},get(e){return this.hash[e]},getByIndex(e){const t=this.stack[e];return t?t.item:null},count(){return this.stack.length},isEmpty(){return!this.stack.length}};e.exports=n},function(e,t){e.exports={saveUser(){app.cache.set("user",app.user.toJSON())},restoreUser(){app.user.set(app.cache.get("user")||{})}}},function(e,t,n){const i=n(24);const a=n(1);const r=n(6);const s=n(11);const{resolveUrl:o}=n(3);const l=a.extendComponent(s,{_stringType:"about",events:{"click .legal a":function(e){e.preventDefault();r.openUrl(e.target.href)},"click .support_email":function(e){e.preventDefault();const t=app.isNative?`\n\n\nrequest ID: ${app.clientInfo.device.uuid}`:"";r.sendConsoleLog({email:app.config.about.supportEmail,subject:`${app.config.productName} support request`,body:t})},"click .support_website":function(e){e.preventDefault();r.openUrl(app.config.about.support)},"click .server_url a":function(e){e.preventDefault();r.openUrl(this._getServerUrl())},"swipeRight .support_website":function(e){if(app.config.about.supportEmailVisible!=="concealed"){return}this._feedBack=(this._feedBack||0)+1;if(this._feedBack>=3){this.getField("support_email").$el.showElement()}}},onAfterRender(){if(app.config.about.supportEmailVisible==="visible"){this.getField("support_email").$el.showElement()}const e=["sdk_version","support_website","trial_until"];[!app.config.about.showSdkVersion,_.isEmpty(app.config.about.support),_.isEmpty(app.config.trialUntil)].forEach((t,n)=>{if(t){this.getField(e[n]).$el.hideElement()}})},initialize(e){const t=i.getServerVersion();this._super(e);_.extend(this,{showAttribution:app.config.about.showAttribution,_displayTrademarks:app.config.about.displayTrademarks,_copyrightText:app.config.about.copyrightText,_trademarkText:app.config.about.trademarkText,_trademark2Text:app.config.about.trademark2Text});const n=this._getServerUrl().replace(/(http:\/\/)|(https:\/\/)|(\/rest\/v10\/)/,"");this.model.set({app_version:i.getProductVersion(),trial_until:app.config.trialUntil,sdk_version:i.getSdkVersion(),server_version:t,server_url:n,support_email:app.config.about.supportEmail,support_website:app.config.about.support,privacy:app.config.about.privacy,tos:app.config.about.tos,thirdPartySoftware:app.config.about.thirdPartySoftware})},_getServerUrl(){let e;const t=app.api.isAuthenticated()?app.loginManager.getSetting():app.loginManager.getTempSetting();if(app.isNative){e=t.loginUrl;if(!e&&!app.config.loginSettings.showLoginUrl&&app.config.loginSettings.defaultServerUrl){e=app.config.loginSettings.defaultServerUrl}}else{e=t.siteUrl;if(e.indexOf("..")===0){e=o(e,window.location.href)}}return e||""}});e.exports=l},function(e,t,n){const i=n(1);const a=n(67);const r=i.extendComponent(a,{events(){const e=this._super();_.extend(e,{"click .rate-btn":"onSelect","click .submit-rate-app":"onRateAppSelect","click .cancel-rate-app":"onRateAppCancel"});return e},name:"nps-actionsheet",template:"nps-actionsheet",onRateAppSelect(e){this.options.onRateAppSelect();this.remove()},onSelect(e){if(this.options.confirmVisible){return}const t=parseInt($(e.currentTarget).attr("data-index"),10)+1;this.options.onSelect({rateCount:t});if(!this.options.storeUrl||t<app.config.nps.minRatingForStore){_.extend(this.options,{confirmVisible:true,rateCount:t});this.render();_.delay(()=>{this.remove()},app.config.nps.autoCloseTimeout)}else{_.extend(this.options,{rateAppVisible:true});this.render()}},onRateAppCancel(e){this.remove()}},{show({onSelect:e=_.noop,onRateAppSelect:t=_.noop,onCancel:n=_.noop,storeUrl:i}){return new r({onSelect:e,onRateAppSelect:t,onCancel:n,rateCount:0,ratingMsg:app.lang.get("LBL_NPS_RATING_MSG",null,{productName:app.config.productName}),storeUrl:i})}});e.exports=r},function(e,t,n){const i=n(1);const a=n(80);const r=i.extendComponent(a,{tpl:"alert",events:{click:"onClick"},initialize(e){if(_.isUndefined(e.closeable)){e.closeable=e.level!=="info"}this._super(e)},close(e){if(this.disposed){return}const t=this.dispose.bind(this);e=e||{};let n=!($.os.android&&this.options.level==="load");n=_.isUndefined(e.animate)?n:e.animate;if(n){this.$el.animate({minHeight:"0",height:"0",borderTop:"0"},500,"ease",()=>{t()})}else{t()}},render(){const{options:e}=this;const t=app.template.get(e.tpl||this.tpl)||app.template.empty;this.$el.html(t(e))},onClick(){if(this.options.closeable){app.alert.dismiss(this.key)}}});e.exports=r},function(e,t,n){const i=n(1);const a=n(32);const r=n(25);const s=n(22);const o=n(3);const l=i.extendComponent(a,{_stringType:"dashboard",navigationName:r.DASHBOARD,template:"dashboard",lazyRender:true,lazyLoad:true,activeIndex:null,switcherCss:"dashboard-container",hiddenViewCss:"",events(){return{"click .dashlets__list .dashlet__item":"_onDashletItemClick"}},globalEvents:{"app:orientation:changed":"_onOrientationChange"},_dashlets:null,_isRecordDashboard:false,_$dashboard:null,_dashletTypeMap:{"tabbed-dashlet":"tabbed-list-view-dashlet",dashablelist:"list-view-dashlet",casessummary:"cases-summary","sales-pipeline":"forecast-pipeline",twitter:"twitter-container-dashlet"},initialize(e){const t=s.getDashboard(e.dashboardId||e.id);this._isRecordDashboard=t.get("dashboard_module")!=="Home"&&t.get("view_name")==="record";if(this._isRecordDashboard){const t=e.context.get("parentModel");this.parentModel=app.data.createBean(e.parentModule,t?t.toJSON():{id:e.parentModelId});e.parentModel=this.parentModel;if(!t){this._shouldLoadParent=true}}e.model=t;e.context.set({model:t,parentModel:this.parentModel});this._super(e)},_getDashboardName(){const e=this._isRecordDashboard?this.parentModel:this.model;const t=o.isNameErased(e);if(t){return app.lang.get("LBL_VALUE_ERASED")}const n=e.get("name");const i=this._isRecordDashboard?this.module:"Home";return app.lang.get(n,i)||null},updateHeader(){const e=this.currentView;const t=this._isRecordDashboard;const n={subtitle:t&&app.lang.getModuleName(this.parentModel.module),dashboardHome:Boolean(e&&!t),back:false,mainMenu:true,title:this._getDashboardName()||app.lang.get("LBL_LOADING"),offlineEnabled:app.offlineEnabled};let i;if(e){i=e.title;if(e.dataTitle){i+=e.dataTitle}}else{i=this._getDashboardName()}if(this._isRecordDashboard){this.setSubtitle(i);n.back=app.isTablet?!this.options.isRootScreen:true}else{n.title=i}app.controller.updateHeader(this,()=>n)},showDashboardHome(){app.controller.goUp()},loadData(){},getFieldNames(e){return null},onAfterShow(){this.handleActiveDashlet();const e=this.options.isRootScreen;const t=this.options.isRecordVisible;const n=e&&t?"root":"record";this.setPaginatorVisible(n!=="root");this.updateHeader();this._super()},onHeaderDashboardHomeClick(){this.showDashboardHome();return true},createSwitcher(){this.omitSwitcherForOneView=false;this.viewSwitcher={switcherType:a.SwitcherTypes.PAGINATION,options:{$parentEl:this.$el,containerSelector:".dashlets__slider-area",settings:{wrapperClass:"dashlets__slider",slideClass:"dashlet__b",spaceBetween:2}}};this._super()},getViewDefs(e){const t=e.model.get("metadata")||{};const n=[];this._dashlets=[];_.each(t.dashlets,function e(t,i){const a=t.view;this._dashlets.push({index:i,meta:t,title:s.getDashletTitle(a),icon:this._getDashletIcon(a)});n.push(this._getDashletViewCfg(t))},this);return n},_getDashletViewCfg(e){let t=e.view.type;const n=app.metadata.getView(null,t);const a=this.options.parentModel||this.options.context.get("parentModel");const r=s.getDashletTypeRegistry();if(n&&n.tabs){t="tabbed-dashlet"}t=r[t]||this._dashletTypeMap[t]||t;const o=_.isFunction(t)?t:i.getViewClass({baseType:t,module:e.view.module});return{viewId:e.id,dashletId:e.id,name:o,meta:e,module:e.view.module,dashboardId:this.options.model.id,parentModel:a}},getActiveDashletId(){const e=this._dashlets[this.activeIndex];return e&&e.meta.id},_checkSwiperUpdateRequired(){if(app.navigation.manager.hasStepChanged()){this.viewSwitcher.update()}},handleActiveDashlet(){const e=app.controller.getScreenContext().dashletId;const t=this.getActiveDashletId()===e;this._$dashboard=this._$dashboard||this.$el.parent(".layout__Dashboards");if(e){this.ensureDashlets(e);const n=!this.currentView||this.currentView.meta.id!==e;const i=this.currentView&&this.currentView._dataObsolete;this._checkSwiperUpdateRequired();if(n){const n=_.findIndex(this._dashlets,t=>t.meta.id===e);this.switchView({index:n,disableAnimation:t})}else if(i){this._loadView(this.currentView)}}else{this.home()}},ensureDashlets(e=this.options.dashletId){const t=this.shouldRenderDashlets;this.shouldRenderDashlets=Boolean(e);if(!t&&this.shouldRenderDashlets){this.render()}},home(){this.setDashletsVisible(false);this.setSubtitleVisible(false);if(this.currentView){this.currentView.onBeforeHide()}this.abortActiveRequests();this._eachView(e=>e.unbindGlobalEvents());this.activeIndex=null;this.currentView=null;this.trigger("views:switch")},createView(e){const t=this._super(e);t._dataObsolete=true;return t},_onDashletItemClick(e){const t=$(e.currentTarget).data("dashlet-index");const n=this._dashlets[t];if(n.meta.view){_.extend(n.meta.view,{invokedFromDashboard:true})}this.navigateByIndex(t)},switchView(e){if(this.currentView){this.currentView.onBeforeHide()}else{e.disableAnimation=true}this._super(e);const t=this._dashlets[this.activeIndex];if(t.meta.view.invokedFromDashboard){this.currentView.onInvokedFromDashboard();t.meta.view.invokedFromDashboard=false}this.setDashletsVisible(true);if(this._isRecordDashboard){this.setSubtitle(t.title);this.setSubtitleVisible(true)}this.updateHeader(this.currentView);if(this._shouldLoadParent&&this.currentView){this.listenTo(this.parentModel,"sync",this.updateHeader);this.parentModel.fetch({view:"record"});this._shouldLoadParent=false}},onSwitchView(e){if(e.index!==this.activeIndex){this.navigateByIndex(e.index)}},navigateByIndex(e){const t=String(this._dashlets[e].meta.id);this.navigateToDashlet(t)},navigateToDashlet(e){const{model:t}=this;const n=app.controller.getScreenContext();let i;let a;let r;if(this._isRecordDashboard){if(n.link){a=[n.parentModule,n.parentModelId,"link",n.link,n.modelId,"Dashboards",t.id,e]}else if(n.moduleLink){a=[n.linkParentModule,n.linkParentModelId,"link",n.moduleLink,n.parentModelId,"Dashboards",n.dashboardId,e]}else{i=this.options.parentModelId||this.context.get("parentModelId");a=[t.get("dashboard_module"),i,"Dashboards",t.id,e];if(n.root){a.splice(0,0,app.controller.getScreenContextRoot())}}r=a.join("/")}else{r=app.router.buildRoute(this.module,t.id,e)}app.controller.navigate(r,{initiator:this.navigationName})},_getDashletIcon(e){const t=s.getDashletTypeRegistry()[e.type];const n=t&&_.getNested(t.prototype,"iconKey");if(n){return n}const i=e.template==="tabbed-dashlet";const a=i?app.config.ui.icons.dashlets["tabbed-dashlet"]:app.config.ui.icons.dashlets;const r=i?"dashlets.tabbed-dashlet":"dashlets";return a[e.type]&&`${r}.${e.type}`||"dashlets.default"},setSubtitle(e){this.$el.find(".dashlets__title").text(e)},setSubtitleVisible(e){this.$el.find(".dashlets__title").toggleElement(e)},setPaginatorVisible(e){if(!this.currentView||this._dashlets.length===1){e=false}this._$dashboard.toggleClass("show-paginator",e)},setDashletsVisible(e){this._$dashboard.toggleClass("show-dashlets",e);this.setPaginatorVisible(e)},_dispose(){this._super();this._dashlets=null;this._$dashboard=null}});e.exports=l},function(e,t,n){const{supportsFollowing:i}=n(3);const a=n(1);const r=n(4);const s=n(8);const o=_.noop;const l=a.extendComponent(s,{events(){return{"click .delete:not(.disabled)":"rollbackRecord"}},globalEvents:{"offline:tx:delete":"onTxDeleted"},template:"detail.TxLog",_render(){if(!this.model.get("_tx_action")){return}this._super()},onBeforeRender(){const e=this.model.get("_tx_bean_module");const t=parseInt(this.model.get("_tx_action"),10);const n=app.metadata.getModule(e);const a=n||{fields:{}};this.updatedFields=app.utils.deepCopy(this.model.get("_tx_updated_fields"));if(this.updatedFields){const r=this.updatedFields.currency_id;let s=this.updatedFields.parent_type;if(s){s=_.clone(s)}else if(this.updatedFields.parent_id){this.model.attributes.parent_type=this.model.attributes.bean.parent_type}let o;switch(t){case app.offline.SyncActions.CREATE:case app.offline.SyncActions.UPDATE:o=this._getViewableFields(e);this.updatedFields=o?_.pick(this.updatedFields,this._getViewableFields(e)):this.updatedFields}if(app.offline.SyncActions.LINK===t||app.offline.SyncActions.UNLINK===t){this.updatedFields.link=true}else{_.each(this.updatedFields,function t(o,l){if(l==="my_favorite"){o.vname="LBL_ACTION_FAVORITE";delete o.before;o.after=`${o.after}`}else if(l==="following"){if(i(this.model)){o.vname="LBL_ACTION_FOLLOW";delete o.before;o.after=`${o.after}`}else{delete this.updatedFields.following}}else{const t=_.contains(["assigned_user_id","deleted","currency_id"],l)||o.type==="id";if(n&&(!a.fields[l]||!app.config.offline.debug.render&&t)){delete this.updatedFields[l];return}o.vname=a.fields[l]||l;_.extend(o,a.fields[l]);const i={def:a.fields[l]||{type:"varchar",name:l},view:this,model:this.model,module:e};if(i.def.type==="email"){i.def=_.defaults({type:"varchar"},i.def);o.before=_.pluck(o.before,"email_address").join(", ");o.after=_.pluck(o.after,"email_address").join(", ")}if(_.contains(["image","file"],i.def.type)){i.def=_.defaults({type:"varchar"},i.def)}const c=app.view.createField(i);const u=app.view.createField(i);if(o.before||o.before===0){c.model.set(l,o.before,{silent:true});if(o.type==="currency"&&r){c.model.set("currency_id",r.before,{silent:true})}else if(o.type==="parent"&&s){c.model.set("parent_type",s.before,{silent:true})}o.before=c.render()}u.model.set(l,o.after,{silent:true});if(o.type==="currency"&&r){u.model.set("currency_id",r.after,{silent:true})}else if(o.type==="parent"&&s){u.model.set("parent_type",s.after,{silent:true})}o.after=u.render()}},this)}}this.fields={};this.isRollbackAvailable=app.offline.storage.isTxRollbackAvailable(this.model.attributes);this._super()},_getViewableFields(e){const t=app.metadata.getView(e,"edit");const n=app.metadata.getView(e,"detail");const i=[t&&t.panels,n&&n.panels];return _.chain(i).compact().flatten().reduce((e,t)=>{const n=[];_.each(t.fields,e=>{if(e.fields){n.push(..._.pluck(e.fields,"name"))}else{n.push(e.name)}});return _.union(e,n)},[]).value()},onAfterRender(){this._super();_.each(this.updatedFields,(e,t)=>{if(t==="my_favorite"||t==="following"||!e){return}if(e.before){e.before.dispose();e.before=null}if(e.after){e.after.dispose();e.after=null}},this)},_rollbackTx(){const e=this;r.showConfirm(app.lang.get("LBL_OFFLINE_ROLLBACK_PROMPT"),{callback(t){if(t===2){app.offline.storage.rollbackTransaction(e.model.attributes,{},t=>{if(t){app.alert.show("rollback_success",{level:"error",messages:app.lang.get("LBL_OFFLINE_ROLLBACK_FAILED"),closeable:true,autoClose:true});app.logger.error(`${t}`)}else{e.collection.remove(e.collection.get(e.model.id));app.alert.show("rollback_success",{level:"success",messages:app.lang.get("LBL_OFFLINE_ROLLBACK_SUCCESS"),closeable:true,autoClose:true});app.controller.clean();app.controller.goBack()}})}}})},rollbackRecord(e,t){if(app.offline.syncManager.isSyncing()){r.showAlert(app.lang.get("LBL_OFFLINE_SYNC_IN_PROGRESS"))}else{this._rollbackTx()}},onTxDeleted(e){if(e.txOptions.txId===this.model.get("_tx_uid")){this.$el.find(".btn.delete").addClass("disabled").html(app.lang.get("LBL_OFFLINE_TRANSACTION_SYNCED"))}},loadData(e){const t=this;this.model.sync=function e(n,i,a){const{success:r}=a;asyncLib.waterfall([function e(t){a.success=function e(n){t(null,n)};app.offline.storage.readTransactions(a,{id:i.id})},function e(t,n){if(t){app.offline.storage.fillTxLogData([t],()=>{n(null,t)})}else{n(new o)}}],(e,n)=>{if(!e){r(n);t.render()}else if(e instanceof o){app.controller.clean();app.controller.goBack()}})};this.model.fetch(e)}});e.exports=l},function(e,t,n){const i=n(21);const a=n(1);const r=n(8);const s=a.extendComponent(r,{_stringType:"record-summary",plugins:[],className:"view__record-summary",template:"record-summary",initialize(e){e.meta=_.extend({},app.metadata.getView(e.module,"detail"),{action:"detail"});this.modContextData=i.getContextMeta("detail");this._super(e)},getDisplayFields(){const e=this.modContextData[this.model.module];return _.chain(this._super()).union(this._getRelationshipFields()).reject(t=>t===e.headerField||t===e.avatarField||_.has(e.docFields,t.name)).value()}});e.exports=s},function(e,t,n){const i=n(1);const a=n(70);const r=n(27);const s=i.extendComponent({parent:a},{_isDateRangeMode:false,initialize(e){this._super(e);this._initDateRangeProperty();if(this._isDateRangeMode){this.model.addValidationTask("date_range_validation",_.bind(this._validateRange,this))}},_initDateRangeProperty(){const e=["date_start","date_end"];this._isDateRangeMode=_.some(this.options.meta.panels[0].fields,t=>t.type==="fieldset"&&_.intersection(t.related_fields,e).length===e.length)},onAfterRender(){if(!this.context.isCreate()){const e=this.getField("invitees");if(e){e.$el.hideElement()}}this._super();this._setDefaultDateValues()},setCallData(e){this.model.set(e);if(this._isDateRangeMode){this._populateEndDateByDuration(e)}this._skipSetDefaults=true},save(e=[]){e.push("send_invites");if(this._isDateRangeMode){if(_.intersection(this._getChangedFields(),["date_start","date_end"]).length){e.push("duration_hours","duration_minutes")}}else{this.model.unset("date_end")}this.sendInvites=this.model.get("send_invites");return this._super(e)},_saveRecord(e,t){t=_.without(t,"invitees");this._populateDurationValues();this._super(e,t)},_validateRange(e,t,n){const i=this.model.get("date_start");const a=this.model.get("date_end");let r;let s;let o;if(i&&a){o=app.date.compare(i,a)<1;if(!o){r=this.getField("date_start");s=this.getField("date_end");t.date_start={isBefore:s.label};t.date_end={isAfter:r.label}}}n(null,e,t||{})},_setDefaultDateValues(){const e=app.date().seconds(0);if(this._skipSetDefaults||!this.context.isCreate()||this.context.get("duplicate")){return}if(e.minutes()>30){e.add("h",1).minutes(0)}else if(e.minutes()>0){e.minutes(30)}this.model.set({date_start:e.formatServer(),duration_hours:0,duration_minutes:30});if(this._isDateRangeMode){this._populateEndDateByDuration()}this.model.set({send_invites:false});this._skipSetDefaults=true},_populateEndDateByDuration(e){const{model:t}=this;const n=t.get("date_start");if(!n){return}const i=e?e.duration_hours:t.get("duration_hours");const a=e?e.duration_minutes:t.get("duration_minutes");const r=app.date(n).add("h",i).add("m",a).formatServer();t.set("date_end",r)},_populateDurationValues(){if(!this._isDateRangeMode){return}const{model:e}=this;const t=app.date(e.get("date_end")).diff(e.get("date_start"));e.set("duration_hours",Math.floor(app.date.duration(t).asHours()));e.set("duration_minutes",app.date.duration(t).minutes())},_getSavingTasks(e){const t=r.prototype._getSavingTasks.call(this,e);const n=this;const i=this.model.get("invitees");if(i){_.each(i,e=>{t.push(t=>{const i=app.data.createRelatedBean(n.model,e.id,e.link);i.save(null,{relate:true,fields:["id"],success(){t()},error(e){t(e)}})})})}if(this.sendInvites&&this.context.isCreate()){t.push(e=>{n.model.set({send_invites:true},{silent:true});n._saveRecord(e,["send_invites"])})}return t},onBeforeValidate(){if(this.context.isCreate()){this.model.unset("send_invites",{silent:true})}},handleSaveError(e){this._super(e);if(!e.isFileUploadError){if(this.model){this.model.set({send_invites:this.sendInvites},{silent:true})}}}});e.exports=s},function(e,t,n){const i=n(1);const a=n(27);const r=i.extendComponent(a,{onAfterRender(){this._super();let e;if(this.model.link){e=this.model.link.bean.id}if(this.context.isCreate()&&_.isEmpty(this.model.get("opportunity_id"))){this.model.set("opportunity_id",e)}}});e.exports=r},function(e,t,n){const i=n(1);const a=n(9);const r=n(27);const s=i.extendComponent(r,{isIdmInstance:false,initialize(e){this.isIdmInstance=Boolean(a.getSetting().isIdm);this._super(e);this.model.on("change:attachment_list",_.bind(this._onChangeAttachmentList,this))},onAfterShow(){if(this.isIdmInstance){app.alert.show("UserEditView-readonly-mode",{level:"warning",messages:app.lang.get("LBL_IDM_USER_PROFILE_READONLY"),autoClose:true,closeable:true})}},_onChangeAttachmentList(){if(this.model.hasChanged("picture")){this.trigger(this.ACTION_NAME,{name:"user:picture:change",options:{pictureId:this.model.get("picture")}})}}});e.exports=s},function(e,t,n){const i=n(1);const a=n(8);const r=i.extendComponent(a,{_stringType:"error-emulation",globalEvents:{"app:error:emulation:exceptions":"processExceptions"},events:{"click .error-emulation-check input":"onClick","change .error-emulation-select":"onSelectChange"},initialize(e){const t=["app:error:emulation:offline","app:error:emulation:http","app:error:emulation:api","app:error:emulation:crud","app:error:emulation:exceptions"];_.each(t,e=>{app.events.unregister(app,e);app.events.register(e,app)});this._super(e)},loadData(){},onBeforeRender(){const e=app.config.errorEmulation;const t=e.emulationExceptions;const n=_.findWhere(e.http,{status:true});const i=_.keys(e.api);let a;let r;if(n){a=_.contains(_.keys(t),n.name);if(t[n.name]){r=_.difference(i,t[n.name].methods)}}this.crudDisabled=a;this.offlineErrorItems={};_.each(e.offline,function e(t,n){this.offlineErrorItems[n]=t.status},this);this.offlineDisabled=_.isEmpty(this.offlineErrorItems);this.httpErrorItems={};_.each(e.http,function e(t){this.httpErrorItems[t.name]=t.status},this);this.apiErrorItems={};_.each(e.api,function e(t,n){this.apiErrorItems[n]={status:t.status,crud:t.crud,disabled:r&&_.contains(r,n)}},this);if(!app.serverInfo.isSevenUp){delete this.apiErrorItems.follow}},onAfterRender(){this.$crudSelects=this.$el.find("[data-type=crud]");this.$apiBoxes=this.$el.find("[data-type=api]")},onClick(e){const t=$(e.target).data("type");const n=$(e.target).data("key");const i=`app:error:emulation:${t}`;app.config.errorEmulation[t][n].status=!app.config.errorEmulation[t][n].status;app.trigger(i,n)},onSelectChange(e){const t=$(e.target).attr("data-type");const n=$(e.target).attr("data-parent-type");const i=e.target.value;const a=`app:error:emulation:${t}`;const r=n?app.config.errorEmulation.api[n][t]:app.config.errorEmulation[t];this.updateConfig(r,i);app.trigger(a,i)},updateConfig(e,t){const n=_.findWhere(e,{name:t});_.each(e,e=>{e.status=false});if(t!=="default"){n.status=true}},processExceptions(e){const t=this;if(e.code==="enableAll"){this.$crudSelects.prop("disabled",false);this.$apiBoxes.prop("disabled",false)}else{if(e.operation){this.$crudSelects.val(e.operation);_.each(this.$crudSelects,n=>{const i=$(n).attr("data-parent-type");const a=app.config.errorEmulation.api[i].crud;t.updateConfig(a,e.operation)});this.$crudSelects.prop("disabled","disabled")}if(e.methods){const t=_.map(e.methods,e=>`.${e}`).join(", ");const n=this.$apiBoxes.not(t).prop("disabled","disabled").prop("checked",false);_.each(n,e=>{const t=$(e).data("key");app.config.errorEmulation.api[t].status=false})}}}});e.exports=r},function(e,t,n){const i=n(1);const a=n(72);const r=n(4);const s=n(48);const o=i.extendComponent(a,{events:{"click .header__btn--save":"onSaveClicked","click .header__btn--cancel":"onCancelClicked","click .header__btn--caret":"onCaretClicked"},initHeaderActions(){this._super();const e={additionalAction:"additional:action"};_.extend(this.headerActions,e)},onBeforeRender(){if(this.config.save&&!this.context.get("create")&&!app.controller.getScreenContext().isDynamic){this.config.saveHidden=true}},onAfterRender(){this._super();this.addCancelSaveHandlers()},addCancelSaveHandlers(){this.model.on("data:sync:start",(e,t,n)=>this.setButtonsEnabled(false),this).on("sync",(e,t,n,i)=>this.setButtonsEnabled(true,null,n.method),this).on("data:sync:error",(e,t,n)=>this.setButtonsEnabled(true,n,e),this)},setButtonsEnabled(e,t,n){if(e){const e=this._hasAccessToSave();if(e){this._refreshHeaderActions()}this.$(".header__save-container").toggleElement(e);if(t&&(t.status===404||t.status===403&&n==="read"||n==="read"&&(!app.offlineEnabled||t instanceof app.offline.Error))){this.$(".header__save-container").hideElement()}if(!this._saveBtnDisabled){this.$(".header__btn--save").removeClass("disabled")}this.$(".header__btn--cancel").removeClass("disabled")}else{this.$(".header__btn--save").addClass("disabled");this.$(".header__btn--cancel").addClass("disabled")}},_refreshHeaderActions(){this.availableAdditionalActions=s.getEditViewActions({view:this,model:this.model});const e=!_.isEmpty(this.availableAdditionalActions);this.$(".header__btn--caret").toggleElement(e);this.$(".header__btn--save").toggleClass("header__btn__save--combined",e)},onBackClicked(){},onDashboardHomeClicked(){},onHomeClicked(){},onTitleClicked(){},onCaretClicked(e){e.preventDefault();e.stopPropagation();const t=_.map(this.availableAdditionalActions,({label:e,name:t})=>({name:_.unescape(app.lang.get(e,null,this)),googleAnalyticsName:t}));if(t.length){r._showGATrackedActionSheet(t,{title:app.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:t=>{this._processAction(e,this.headerActions.additionalAction,{action:this.availableAdditionalActions[t].handler})}})}},_hasAccessToSave(){return!this.model.get("id")||this.model.hasEditAccess()}});e.exports=o},function(e,t,n){const i=n(1);const a=n(21);const r=n(15);e.exports=i.extendComponent(r,{template:"list",initialize(e){this.itemsConfig={isModuleVisible:true};this._super(e);this.modContextData=a.getContextMeta("list");this.listViewId="listing-home"}})},function(e,t,n){const i=n(1);const a=n(33);const r=n(137);const s=n(142);const o=n(7);const l=i.extendComponent(a,{_stringType:"global-search",defaultSorting:{field:"date_modified",direction:"desc"},initialize(e){this._super(e);this._ownContext=this.context},_dispose(){this.context=this._ownContext;this._ownContext=null;this._super()},getListViewDef(e){return[{view:s,viewId:"recentsList",module:"Recents",isEnabled:app.supportedFeatures.recents},{view:r,viewId:"searchList",module:"Search"}]},getViewContext(e){let{context:t}=this;if(e.viewId==="recentsList"){t=new o({collection:app.data.createBeanCollection("Recents")});t.isDataFetched=function e(){const t=app.navigation.history.getPrevStep();const n=o.prototype.isDataFetched.call(this);return n?t&&t.screenOptions.root==="Search":false}}else if(e.viewId==="searchList"){t=new o({collection:app.data.createMixedBeanCollection()})}return t},onAfterRender(){this._super();const e=app.supportedFeatures.recents;this.searchView=this.getViewById("searchList");this.recentsView=this.getViewById("recentsList");const t=e?this.recentsView:this.searchView;this.setActiveView(t)},setActiveView(e){if(this.getCurrentList()===e){return}if(e===this.searchView){e.collection=this._adjustSearchCollectionParams(e.collection)}_.each(this.getListViews(),e=>{e.active=false});e.active=true;this.resetCollectionEvents();this.layout.context=e.context;this.context=e.context},getCurrentList(){return _.find(this.getListViews(),e=>e.active)},filterChanged(e){this.toggleSearchList(!e.recents);this._super(e)},search(){const e=this._searchBox.getPreparedState().q;const t=Boolean(e)||!this._getRecentsState();let n=this.getCurrentList().collection;if(app.supportedFeatures.recents){this.toggleSearchList(t)}n=this._adjustSearchCollectionParams(n,e);this.listenTo(n,"data:sync:complete",(e,t,n)=>{this._searchBox.hideProgress()});this._super()},_getRecentsState(){return this._filter.getPreparedState().recents},onAfterShow(){this._super();const e=this._getRecentsState();this.toggleSearchList(!e)},toggleSearchList(e){const t=this.getCurrentList();const n=e?this.searchView:this.recentsView;if(t.collection.getFetchRequest()){t.collection.abortFetchRequest()}_.each(this.getListViews(),e=>e.getViewContainer().addClass("hide"));n.getViewContainer().removeClass("hide");this.setActiveView(n)},getFtsEnabledModules(){if(app.supportedFeatures.fts){const e=[];_.each(app.metadata.getModules(),(t,n)=>{if(t.ftsEnabled||t.globalSearchEnabled){e.push(n)}},this);return e}return null},_adjustSearchCollectionParams(e,t){e.orderBy=t?null:this.defaultSorting;delete e.limit;e.query=t;e.module_list=this.getFtsEnabledModules();return e},getFieldNames(e){const t=app.metadata.getModuleNames({filter:"visible",access:"list"});let n=this._super(e);_.each(t,e=>{const{mergedFields:t}=app.metadata.getModule(e);if(t){n=_.union(n,t)}});return n}});e.exports=l},function(e,t,n){const i=n(1);const a=n(8);const r=n(58);const s=i.extendComponent(a,{template:"comments-list",events:{"click .comments-more-btn":"_showMoreComments"},_moreCommentsCount:0,initialize(e){this._super(e);const{parentModel:t}=this.options;const n=[];if(t.get("last_comment").id){n.push(t.get("last_comment"))}this.collection=app.data.createRelatedCollection(t,"comments",n);this.listenTo(this.collection,"sync",this.onDataSyncSuccess);this.listenTo(this.collection,"data:sync:error",this.onDataSyncError);this._updateMoreCommentsCount(this.collection.length)},_updateMoreCommentsCount(e){this._moreCommentsCount=this.options.parentModel.get("comment_count")-e;if(this._moreCommentsCount<0){this._moreCommentsCount=0}},_showMoreComments(e){e.preventDefault();this.collection.paginate({relate:true,add:true})},onDataSyncSuccess(){this._updateMoreCommentsCount(this.collection.length);this.render()},onCreateCommentItem(e){const t=app.data.createRelatedBean(e,app.data.createBean("Comments"),"comments",{parent_id:e.get("id")});const n=this;r.createPost(t,{appendTo:"root",savePost(e){t.save(null,{relate:true,fields:["parent_id","data"],success(t){n.collection.unshift(t);n.render();e(null)},error:e})}})},onDataSyncError(e){}});e.exports=s},function(e,t,n){const i=n(10);const a=n(51);e.exports=i.extend(a,{listItemDataProvider:"lead-conversion-list-item-radio-selector",listItemTpl:"lead-conversion-list-item-radio-selector",multiselect:false,_selections:null,events(){return _.extend({},this._super(),{"click .show-more-link":function(e){this.toggleRecord(e,{expand:true})},"click .show-less-link":function(e){this.toggleRecord(e,{expand:false})},"click .edit-link":function(e){this.onEditClick(e)}})},initialize(e){this._super(e);const t=app.metadata.getModule(e.module,"views")["dupecheck-list"];if(t){this.additionalListFields=_.getNested(t,"meta.panels.0.fields")}this.button=this._buttonTypes.radio;this.action="dupecheck-list";this.collection.on("reset",this.render,this)},toggleRecord(e,{expand:t=true}={}){e.stopPropagation();e.preventDefault();const n=$(e.target);const i=n.closest("article");i.find(".rest-fields").toggleElement(t);i.find(".show-more-link").toggleElement(!t);i.find(".show-less-link").toggleElement(t)},onEditClick(e){e.preventDefault();e.stopPropagation();const t=$(e.target).closest("article");const n=t.attr("data-id");this.trigger("edit:click",this.getModel(n))},onItemElementClick(e){if(!$(e.target).closest("a").length){return this._super(e)}}})},function(e,t){const n={name:"list-item",parent:null,prepareItemData(e,t){const n=this.prepareFields(e,t);const i=t.itemsConfig;const a=Boolean(t.collection.query);const r=`${app.acl.hasAccessToModel("view",e)?"has-access":""} ${a?"search":""}`;const s={model:e,view:t,isMenuVisible:!t.contextMenuDisabled,isMenuGripVisible:!t.isListItemSwippable&&!t.contextMenuDisabled,moduleName:e.module,itemId:this.buildId(e),hasSearch:a,detailsCss:r,isModuleVisible:false};return _.extend(s,n,i)},buildId(e){return e.id},extractId(e){return e},prepareFields(e,t){const{module:n}=e;const i=t.modContextData[n]||{};let a=i.additionalListFields;const r=t._getRelationshipFields();const s=r[0];if(t.collection.query){const t=e.searchInfo&&e.searchInfo.highlighted;if(t){a=_.filter(a,e=>!t[e.name])}}return{titleField:i.listItemTitleField,relationshipField:s,additionalFields:_.isEmpty(a)?null:a,showLabel:t.config.ui.displayListFieldLabel}}};const i={storage:{},add(e){const t=this.storage[e.parent]||e.parent||n;const i=_.extend({},t,e);const a=_.map(i.name.split("-"),app.utils.capitalize).join("");i.parent=i.name==="list-item"?null:t;this.storage[i.name]=i;this.storage[a]=i}};i.add({});i.add({name:"list-item-associate",prepareFields(...e){const t=n.prepareFields.apply(this,e);if(t.additionalFields){t.additionalFields=[t.additionalFields[0]]}return t}});i.add({name:"list-item-picker",prepareItemData(e,t){return{view:t,model:e,label:e.get("label"),value:e.get("value"),module:e.get("module"),itemId:this.buildId(e)}},buildId(e){return e.cid}});e.exports=i},function(e,t,n){const i=n(1);const a=n(15);e.exports=i.extendComponent(a,{isPaginationEnabled:false,initialize(e){this.itemsConfig={isModuleVisible:true};this._super(e)}})},function(e,t,n){const i=n(1);const a=n(4);const r=n(15);const s=i.extendComponent(r,{contextMenuActions:[{name:"delete",types:["context-menu"],label:"LBL_ROLLBACK_BUTTON",iconKey:"actions.delete",stateHandlers:{isVisible:(e,t)=>app.offline.storage.isTxRollbackAvailable(t.attributes)},handler:function e(t,n){if(app.offline.syncManager.isSyncing()){a.showAlert(app.lang.get("LBL_OFFLINE_SYNC_IN_PROGRESS"))}else{t._rollbackTx(n)}}}],globalEvents:{"offline:tx:delete":"onTxDeleted"},listItemTpl:"list-item-tx-log",onAfterRender(){this._super();this.toggleNoRecLbl()},onAfterShow(){this._super();this.loadData()},_rollbackTx(e){const t=this;a.showConfirm(app.lang.get("LBL_OFFLINE_ROLLBACK_PROMPT"),{callback(n){if(n===2){app.offline.storage.rollbackTransaction(e.attributes,{},n=>{if(n){app.alert.show("rollback_success",{level:"error",messages:app.lang.get("LBL_OFFLINE_ROLLBACK_FAILED"),closeable:true,autoClose:true});app.logger.error(`${n}`)}else{t.collection.remove(t.collection.get(e.id));app.alert.show("rollback_success",{level:"success",messages:app.lang.get("LBL_OFFLINE_ROLLBACK_SUCCESS"),closeable:true,autoClose:true});app.controller.clean();if(app.controller.getScreenContext().modelId){app.controller.goBack()}t.toggleNoRecLbl()}})}}})},onTxDeleted(e){const t=this.collection.where({_tx_uid:e.txOptions.txId})[0];this.collection.remove(t);this.toggleNoRecLbl();this.scroll.reflow()},toggleNoRecLbl(){if(!this.collection.length){this.$(".no-records-found").show()}}});e.exports=s},function(e,t,n){const i=n(21);const a=n(1);const r=n(15);const s=a.extendComponent(r,{events:{},fallbackFieldTemplate:"list",contextMenuDisabled:true,initialize(e){e.meta=app.metadata.getView(e.module,"list");this._super(e);this.modContextData=i.getContextMeta("list")}});e.exports=s},function(e,t,n){const i=n(1);const a=n(9);const r=n(20);const s=n(11);const o=n(12);e.exports=i.extendComponent(s,{initialize(e){this._super(e);this.showExternalLogin=app.config.loginSettings.externalLoginVisible;this.loginSettingsEditable=app.config.loginSettings.editable},checkButtonState(){const e=this.$(".continue_btn");if(!e.is("[disabled=disabled]")){e.attr("disabled","disabled");e.html(Handlebars.templates.spinner());o.show("loginsettings");return true}},reEnableUpdateButton(){o.hide("loginsettings");if(this.disposed){return}this.$(".continue_btn").text(app.lang.get(this.firstLaunch?"LBL_CONTINUE":"LBL_UPDATE"));this._updateSettingsBtnsState()},updateLoginSettings(e){app.alert.dismissAll("error");const t=a.getTempSetting();const n=()=>{const e=a.setTempSetting(t);a.applyLoginSettings(e)};const i=()=>{const e=a.getTempSetting();if(t.id!==e.id){r.resetCredentials()}};asyncLib.series([e=>{const t=!this.loginSettingsEditable||this.checkButtonState()&&!_.isEmpty($(".login_settings_server_url").val());e(!t)},e=>{const n=this.$(".login_settings_server_url").val();const i=this.$(".ssl_checkbox").attr("checked");const r=this.$(".sso_checkbox").attr("checked");const s={loginUrl:n||"",useHttps:i,isSSO:r};if(n!==t.loginUrl){s.loginName=""}a.applyLoginSettings(a.setTempSetting(s));a.verifyLoginSettings((t,n)=>{if(t&a.LoginSettingsErrorCode.SSO_NOT_SUPPORTED){app.error.handleExternalLoginNotAvailable()}if(t&a.LoginSettingsErrorCode.SSL_NOT_SUPPORTED){this._showHttpMsg("ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN","error")}if(t&a.LoginSettingsErrorCode.SSL_AVAILABLE){this._showHttpMsg("ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN","error")}if(t&a.LoginSettingsErrorCode.OTHER_HTTP_ERROR){app.error.handleHttpError(n)}e(t)})}],t=>{this.reEnableUpdateButton();if(t){n()}else{const t=a.getTempSetting();if(!t.useHttps){this._showHttpMsg("ERR_MOBILE_HTTP_CONNECTION_USE_MSG","warning")}if(e){i();e()}}})},_updateSettingsBtnsState(){if(_.isEmpty(this.$("input[type=url]").val())){this.$(".continue_btn").attr("disabled","disabled")}else{this.$(".continue_btn").removeAttr("disabled")}},_showHttpMsg(e,t){app.alert.show("invalid_login_settings",{level:t,messages:app.lang.get(e),autoClose:true})}})},function(e,t,n){const i=n(13);const{getOfflineStatusClass:a,isDirectionLTR:r,isErrorEmulationEnabled:s}=n(3);const o=n(1);const l=n(6);const c=n(24);const u=n(11);const d=o.extendComponent(u,{_stringType:"main-menu",events:{"click #desktop":function(e){e.preventDefault();l.openUrl(e.currentTarget.href)},"click .menu__item.disabled .menu-item__link":function(e){e.preventDefault();e.stopPropagation()},'click .menu__item:not(.disabled) .menu-item__link:not([target="_blank"])':"onMenuItemClicked",swipe(e){e.stopPropagation()}},globalEvents:{"app:logout":function(){this.avatar=null},"offline:status:update":function(e){const t=this.$el.find(".offline-icon");t.removeClass("status-success status-warning status-error status-default");t.addClass(a())},"app:view:change":function(e){if(e.isDynamic){return}this.highlightActiveMenuItem(e);this.toggleMenu(false,true)},"app:orientation:changed":function(){if(!app.isTablet){return}this.toggleMenu(false,true)}},offlineStatusIconPartial:"offline-status-icon",_isOpened:false,isOpened(){return this._isOpened},initialize(e){const t=this;const n=$(document.body);this.$menuLeft=app.$rootEl.find("#menu-left");this.$contentOverlay=app.$rootEl.find("#content-overlay");this._super(e);n.on("click.menu swipe.menu",()=>{if(t.isOpened()){t.toggleMenu(false)}});this._isOpened=n.hasClass("show-menu-left")},start(){this.render();this._loadUserPicture()},onMenuItemClicked(e){const t=e.currentTarget;const n=t.getAttribute("href").substr(1);const i=_.findWhere(this.menuItems,{route:n});if(!app.isTablet){this.toggleMenu(false)}if(i&&_.isFunction(i.handler)){e.preventDefault();i.handler()}else{this.handleLinkClick(e)}},onBeforeRender(){this._super();this.buildMenu()},onAfterRender(){this._super();const e=app.controller.getScreenContext();this.highlightActiveMenuItem(e)},toggleMenu(e,t,n){const i=this;const a=t||!app.supportedFeatures.menuAnimation?0:200;const s=$(document.body);const o=r()?1:-1;const l=o>0?"0px":"-100%";if(!n){n=n||_.noop}if(e===undefined){e=!this.isOpened()}const c={menuAnimation:{"-webkit-transform":e?`translate3d(${l}, 0, 0)`:`translate3d(${o*-100}%, 0, 0)`},overlayAnimation:{"-webkit-transform":e?"translate3d(0, 0, 0)":`translate3d(${o*-100}%, 0, 0)`}};const u=function(){s.toggleClass("show-menu-left",e);i._isOpened=e;if(e){i.onClose=(()=>{i.toggleMenu(false,t,n)});app.activeComponents.add(i)}else{i.onClose=undefined;app.activeComponents.remove(i)}n()};this.animateMenu({isShowing:e,data:c,callback:u,duration:a})},animateMenu(e){const{data:t,isShowing:n}=e;if(n){$(document.body).addClass("show-menu-left")}this.$contentOverlay.animate(t.overlayAnimation,0);this.$menuLeft.animate(t.menuAnimation,e.duration,"ease-out",()=>{if(e.callback){e.callback()}})},_loadUserPicture(e){if(!app.api.isAuthenticated()){return}let t=app.api.buildFileURL({field:"picture",module:"Users",id:app.user.get("id")},i.getFileOptions());const n=new Image;let a;if(e){t+=`&id=${e}`;a=true}if(!this.avatar){a=true}n.onload=_.bind(this._applyUserPicture,this,{img:n,url:t});if(a){n.src=t}else{this._applyUserPicture(this.avatar)}},_applyUserPicture(e){if(this.disposed){return}const t=this.$("#me i");if(e.el){t.replaceWith(e.el);return}t.css({backgroundImage:`url(${e.url})`}).addClass("withPicture");this.avatar={url:e.url,el:t}},highlightActiveMenuItem(e){let t=e.root||e.module||e.parentModule;if(t==="TxLog"){t="Offline"}else if(t==="Dashboards"){t+=`/${e.dashboardId}`}this.$el.find("li").removeClass("current");this.$el.find(`a[href='#${t}']`).parent("li").addClass("current")},buildMenu(){const e=[];_.each(i.dashboards.getDashboards({type:"home"}),t=>{const n=t.get("metadata");if(n&&n.dashlets.length){e.push({id:t.id,label:app.lang.getAppString(t.get("name"))||app.lang.getModString(t.get("name"),"Home")||t.get("name")})}});this.menuItems=this._getMenuItems();_.extend(this,{items:this.menuItems,userName:app.user.get("full_name"),userId:app.user.get("id"),desktopURI:c.getDesktopUrl(),offlineEnabled:app.offlineEnabled,errorEmulationEnabled:s(),offlineStatusIconPartial:this.offlineStatusIconPartial,offlineStatusClass:a(),dashboards:e.length?e:undefined,dashboardsSupported:app.supportedFeatures.dashboards,activitiesSupported:app.supportedFeatures.activities})},_getMenuItems:function e(){const t=n(10);const i=_.map(app.metadata.getModuleNames({filter:["visible","display_tab"],access:"list"}),e=>({route:e,label:app.lang.getModuleName(e,{plural:true}),rank:10}));const a=t.getCustomMainMenuItems();return _.sortBy([...i,...a],"rank")},_dispose(){app.events.off("app:user:picturechanged",null,this);$(document.body).off("click.menu swipe.menu")}});e.exports=d},function(e,t,n){const i=n(1);const a=n(8);const r=i.extendComponent(a,{_stringType:"offline-settings",_cacheKey:"offline_debug",events(){return{"change .offline-property input":"onPropChange"}},initialize(e){this._super(e);this._restoreSettings();const{debug:t}=app.config.offline;this.sections={configProperties:{}};_.each(["online","forceMigrate","syncManagerEnabled","monitorStatus","outOfSpace"],e=>{this.sections.configProperties[e]={isBoolean:true,value:t[e]}});if(t.performanceTracing.enabled){this.sections.performanceTracing={enableZipkin:{isBoolean:true,value:t.performanceTracing.defaultReporter==="zipkin"},zipkinServerUrl:{isString:true,value:t.performanceTracing.zipkinServerUrl}}}},onPropChange(e){const t=$(e.target);const n=t.data("section");const i=t.data("key");const a=this.sections[n][i].isBoolean?e.target.checked:t.val();if(n==="configProperties"){this._updateBaseConfig(i,a)}else{this._updatePerfConfig(i,a)}},_updateBaseConfig(e,t){app.config.offline.debug[e]=t},_updatePerfConfig(e,t){const n=app.config.offline.debug.performanceTracing;if(e==="enableZipkin"){n.defaultReporter=t?"zipkin":"console"}else{n.zipkinServerUrl=t}this._storeSettings()},_restoreSettings(){const e=app.cache.get(this._cacheKey);_.extend(app.config.offline.debug.performanceTracing,e&&e.performanceTracing)},_storeSettings(){app.cache.set(this._cacheKey,{performanceTracing:app.config.offline.debug.performanceTracing})}});e.exports=r},function(e,t,n){const i=n(1);const a=n(8);const r=n(26);const s=n(23);const o=n(9);const l=i.extendComponent(a,{_stringType:"offline-stats",globalEvents:{"offline:bulkload:progress":function(e,t={}){this._updateBulkLoaderView();const n=s.ProgressEventType;if(!(e===n.START||e===n.PAGE_START)){const e={modules:t.module?[t.module]:undefined,updateRecCount:true};this._updateDbStatsView(e)}},"offline:cleanup:completed":function(){this._updateBulkLoaderView();this._updateDbStatsView({updateRecCount:true})}},dbStats:null,bulkLoaderEnabled:false,events(){return{"click .offline__start-stop-btn":"_onStartStopButtClick","click .js-checkbox-toggle--cellular":"_onCellularCheckboxClick"}},useCellularData:false,showCellularCb:false,statusText:null,startStopButtText:null,initialize(e){this._super(e);this.bulkLoaderEnabled=app.config.offline.bulkLoad.enabled;if(this.bulkLoaderEnabled){this.useCellularData=Boolean(o.getSetting(s.SettingsKey.ALLOW_CELLULAR));this.showCellularCb=app.isNative||app.config.scheme==="e2e";this.listenTo(this,"render",()=>this._updateBulkLoaderView())}this._updateDbStatsView()},_toggleSpinner(e){const t=e.state===s.State.WORKING;this.$el.find(".el__spinner").toggleElement(t)},_populateTimestamp(){const e=this.$(".bh__timestamp");const t=r.getCache().lastCompletedTs;if(t){$("span",e).text(app.date.format(new Date(t),"m/d/Y g:iA"))}},_getStatusText(e){switch(e.state){case s.State.WORKING:return app.lang.get("LBL_BULK_LOAD_STATUS_DOWNLOADING",null,{module:app.lang.getModuleName(e.module,{plural:true}),count:e.count});case s.State.IDLE:return app.lang.get("LBL_BULK_LOAD_STATUS_IDLE");case s.State.PAUSED_BY_CONNECTION:return app.lang.get("LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION");case s.State.PAUSED_BY_USER:return app.lang.get("LBL_BULK_LOAD_STATUS_PAUSED");default:return"Unknown error. Please connect support."}},_getButtonText(e){switch(e.state){case s.State.WORKING:return app.lang.get("LBL_BULK_LOAD_BTN_PAUSE");case s.State.IDLE:return app.lang.get("LBL_BULK_LOAD_BTN_DOWNLOAD");case s.State.PAUSED_BY_CONNECTION:return app.lang.get("LBL_BULK_LOAD_BTN_PAUSE");case s.State.PAUSED_BY_USER:return app.lang.get("LBL_BULK_LOAD_BTN_RESUME");default:return"Error!"}},_updateBulkLoaderView(){const e=r.getState();if(!(e.state===s.State.WORKING&&!e.module)){this.$el.find(".status-text").text(this._getStatusText(e))}this.$el.find(".offline__start-stop-btn").text(this._getButtonText(e));this._populateTimestamp(e);this._updateModuleIconsView()},_updateModuleIconsView(){const e=r.getCache().status;_.each(e,(t,n)=>{const i=e[n];const a=this.$(`tr[data-id=${n}] i`);if(i.status===200){a.hideElement()}else{a.removeClass();const e=i.status==="in_progress"?"warning":"error";a.addClass(`offline-icon status-${e}`)}})},_onStartStopButtClick(e){if(this.$el.find(".offline__start-stop-btn").hasClass("disabled")){return}const t=r.getState();switch(t.state){case s.State.WORKING:this._pauseBulkLoader();break;case s.State.IDLE:r.queueCompleteDownload();this._updateBulkLoaderView();break;case s.State.PAUSED_BY_CONNECTION:this._pauseBulkLoader();break;case s.State.PAUSED_BY_USER:r.userResume();this._updateBulkLoaderView();break;default:}},_pauseBulkLoader(){this.$el.find(".status-text").text(app.lang.get("LBL_BULK_LOAD_STATUS_STOPPING"));this.$el.find(".offline__start-stop-btn").toggleClass("disabled",true);r.userPause(()=>{if(this.disposed){return}this.$el.find(".offline__start-stop-btn").toggleClass("disabled",false);this._updateDbStatsView()})},_updateDbStatsView(e={}){app.offline.storage.getStats({modules:e.modules,success:t=>{if(this.disposed){return}if(t.dbSize){app.logger.trace(`Database size as calculated by offline.storage.getStats: ${t.dbSize}`)}const n=app.offline.utils.getOfflineModules({filter:"visible",includeStatic:true,checkAccess:true});const i=_.chain(n).map(e=>{const n=app.lang.getModuleName(e,{plural:true});const i=_.contains(app.config.offline.staticModules,e);let a=t.count[e];if(!_.isNumber(a)){a=this.dbStats?_.findWhere(this.dbStats.modules,{name:e}).count:0}return{moduleName:n,name:e,count:a,isStatic:i}}).sort((e,t)=>e.isStatic===t.isStatic?e.moduleName.localeCompare(t.moduleName):e.isStatic?1:-1).value();this.dbStats={modules:i,totalRecordsCount:_.reduce(i,(e,t)=>e+t.count,0)};if(e.updateRecCount){this._renderRecCount(t)}else{this.render()}}})},_renderRecCount(e){_.each(e.count,(e,t)=>this.$(`tr[data-id=${t}] span.lbl-count`).text(e));this.$("span.total-count").text(this.dbStats.totalRecordsCount)},_onCellularCheckboxClick(){this.useCellularData=!this.useCellularData;o.setSetting(s.SettingsKey.ALLOW_CELLULAR,this.useCellularData);r.processChangingConnection()}});e.exports=l},function(e,t,n){const{getOfflineStatusClass:i}=n(3);const a=n(1);const r=n(8);const s=a.extendComponent(r,{_stringType:"offline",_devMode:app.config.offline.debug.render,globalEvents:{"offline:status:update":"onOfflineStatusUpdated"},offlineStatusIconPartial:"offline-status-icon",offlineStatusBar:"offline-statusbar",initialize(e){this._super(e);this.offlineDbEncrypted=app.cache.get("offline:encrypted")},render(e){this.updatePropsForOfflineBar();this._super(e)},updatePropsForOfflineBar(){this.offlineStatusClass=i();this.offlineMessage=this.getOfflineMessage();this.isSyncing=window.status.isSyncing},onOfflineStatusUpdated(){const e=this.$el.find(".offline-statusbar");const t=app.template.get(this.offlineStatusBar);this.updatePropsForOfflineBar();e.html(t(this))},getOfflineMessage(){const{status:e}=app.offline;let t="";let n="LBL_OFFLINE_STATUS_ONLINE";let i="LBL_OFFLINE_STATUS_NO_PENDING_TX";const a="ERR_OFFLINE_OUT_OF_SPACE";if(!e){return{message:"..."}}if(e.lastSyncTs&&e.totalTransactions>0){t=app.lang.get("LBL_OFFLINE_LAST_SYNC_TS",null,{ts:e.lastSyncTs.toLocaleString()})}if(!app.offline.isOnline()){n="LBL_OFFLINE_STATUS_OFFLINE"}else if(e.noConnection){n="LBL_OFFLINE_STATUS_BAD_NETWORK"}if(e.state===app.offline.State.ERROR){i="LBL_OFFLINE_STATUS_SYNC_FAILED"}else if(e.state===app.offline.State.WARNING&&e.totalTransactions>0){i="LBL_OFFLINE_STATUS_PENDING_TX"}return{isSyncing:e.isSyncing,message:(e.isOutOfSpace?`${app.lang.get(a)} `:"")+app.lang.get(i),networkMessage:n,lastSyncMessage:t}}});e.exports=s},function(e,t){const n=e=>{app.analytics.trackEvent({category:"app",action:"ptr"});const t=_.isFunction(e.onPullDownToRefresh)?e.onPullDownToRefresh():e.loadData({forceFetch:true,byPtr:true});return t.catch(t=>{e.hidePtrSpinner();throw new Error(t.message)}).then(()=>e.hidePtrSpinner())};const i=e=>{e._ptrHandler=null;if(!e.scroll){return}if(e.$el&&e.$el.pullToRefresh){e.$el.pullToRefresh("destroy")}e.scroll.destroy();e.scroll=null};const a=e=>{if(e.scroll){e.scroll.reflow();return}if(!e.$easyScrollerParent){e.$el.wrap('<div class="easy-scroller-parent"><div class="easy-scroller-holder"></div></div>');e.$easyScrollerParent=e.$el.closest(".easy-scroller-parent")}const t=e.$easyScrollerParent;const n=t.get(0);const i=t.find(".easy-scroller-holder").get(0);e.scroll=new window.EasyScroller(i,n,{scrollingY:true,scrollingX:false});e.$el.pullToRefresh({callback:e._ptrHandler,template:app.template.get("ptr"),templateTarget:e.$easyScrollerParent,height:75,scroller:e.scroll.scroller,action:app.lang.get("LBL_MOBILE_PTR_RELEASE"),refresh:app.lang.get("LBL_LOADING")})};const r={_dispose:function e(){i(this)},onAfterRender:function e(){a(this)},hidePtrSpinner:function e(){if(this.$el){this.$el.pullToRefresh("hide")}this.reflowScroller()},reflowScroller:function e(){if(this.scroll){this.scroll.reflow()}}};e.exports=(({view:e,handler:t=n})=>{_.each(r,(t,n)=>{const i=e[n];e[n]=function e(...n){let a;if(_.isFunction(i)){a=i.apply(this,n)}t.apply(this,n);return a}});e._ptrHandler=(()=>t(e));e.listenTo(app,"app:orientation:changed",e.reflowScroller);e.listenTo(app,"app:keyboard:hide",e.reflowScroller)})},function(e,t,n){const i=n(13);const a=n(21);const{isOnline:r}=n(3);const s=n(1);const o=n(8);e.exports=s.extendComponent(o,{className:"scroll",template:"related-records",initialize(e){this._super(e);this._requestsInProgress={};const t=a.getContextMeta("detail",this.module);this.relatedList=_.chain(t.subpanels).filter(e=>app.acl.hasAccess("list",e.module)).map(function e(t){return _.extend({canCreate:i.canCreateRelated(t.module,this.module,t.context.link)},t)},this).value()},loadData(){if(app.supportedFeatures.bulkApi&&r()){this.getRelationshipData(function e(t,n){if(!t){this._prepareListData(n);this.render()}})}},getRelationshipData(e,t){const n=this;let a;t=t||this;const r=_.map(this.relatedList,function e(t){return i.buildBulkRequest({module:this.module,limit:app.config.fetchLimit.bulkQueryRelatedRecords,attributes:{id:this.model.id,link:t.context.link},params:{fields:"id"}})},this);if(_.isEmpty(r)){return}const s={success(n){e.call(t,null,n)},error(i){app.logger.debug(`Get related records error ${n.module} : ${i}`);e.call(t,i)},complete(){if(a){n._requestsInProgress[a.uid]=null}}};a=app.api.bulk({requests:r},s);if(a){this._requestsInProgress[a.uid]=a.uid}},_prepareListData(e){this.relatedList=_.map(this.relatedList,function t(n,i){const a=e[i];n.recordsCount=undefined;if(a.status===200){const e=a.contents;if(_.isArray(e.records)){const t=e.records.length;const i=app.config.fetchLimit.bulkQueryRelatedRecords;n.recordsCount=t;if(e.next_offset!==-1){n.recordsCount=`${i}+`}n.isEmpty=!t}}else{n.recordsCount="!";if(app.error.isAccessError(a)){this.trigger(this.ACTION_NAME,{name:"app:access:error",options:{module:n.module}})}}n.showCount=!_.isUndefined(n.recordsCount);return n},this)},_dispose(){_.each(this._requestsInProgress,(e,t)=>{app.api.abortRequest(t)});this._super()}})},function(e,t,n){const i=n(13);const a=n(14);const r=n(1);const s=n(4);const o=n(8);const l=n(20);const c=n(26);const u=n(31);const{isOnline:d}=n(3);const f=n(12);const p=r.extendComponent(o,{_stringType:"settings",_bodyScroll:true,_defaultViewSplitter:":",_defaultViewFieldName:"default_view",events:{"change #touchid-toggle":"_enableTouchIdClicked"},initialize(e){this._modelBackup=null;this._showOfflineButton=app.config.offline.enabled&&(app.config.offlineEnabled||app.config.offline.debug.ignoreEnabled)&&app.supportedFeatures.offline;this._offlineEnabled=app.offlineEnabled;this._configurableFontSize=app.config.ui.configurableFontSize;const t=new Backbone.Model(app.user.get("preferences"));const n=app.logger.levels[app.config.logger.level];if(n){t.set("logging",n.value-1)}const i=app.loginManager.getSetting("fontSize")||"normal";if(this._configurableFontSize&&i){t.set("fontSize",i)}this._showTouchIdButton=l.isTouchIdAuthenticationSupported();this._touchIdEnabled=l.isTouchIdForLoginSetup();this._isFaceIdSupported=Boolean(app.clientInfo.device.faceIdSupported);t.set("touchIdEnabled",this._touchIdEnabled);e.context.set("model",t);e.model=t;this._super(e);if(this._configurableFontSize){const e=this.getFieldMeta("fontSize");e.options={};_.each([["tiny","LBL_FONTSIZE_TINY"],["small","LBL_FONTSIZE_SMALL"],["normal","LBL_FONTSIZE_NORMAL"],["large","LBL_FONTSIZE_LARGE"],["larger","LBL_FONTSIZE_LARGER"],["huge","LBL_FONTSIZE_HUGE"],["extra_huge","LBL_FONTSIZE_EXTRA_HUGE"]],t=>{e.options[t[0]]=app.lang.get(t[1])})}else{this.meta.panels[0].fields=_.filter(this.meta.panels[0].fields,e=>e.name!=="fontSize")}if(app.supportedFeatures.settingsDefaultView){this._defineDefaultViewFields();this._adjustDefaultViewOptions();this.applyDefaultViewOnModel()}this.listenTo(this.model,"change",this.onSettingChange)},isEditView(){return true},_canSetValue(e,t){if(!t.dependencies.length){return true}return Boolean(_.find(t.dependencies,function t(n){const i=this.model.get(n.parentField);return!n.result||_.has(n.result(i),e)},this))},_defineDefaultViewFields(){const e=this.meta.panels[0].fields;this._defaultViewFields=[{name:"default_view",label:"LBL_MOBILE_DEFAULT_VIEW",options:{Modules:app.lang.get("LBL_MOBILE_SPECIFIC_MODULE")},view:"edit",type:"enum",dependencies:[]},{name:"default_module",label:"LBL_MOBILE_DEFAULT_MODULE",options:{},view:"edit",type:"enum",dependencies:[{parentField:"default_view",condition(e){const t=e.get(this.parentField);return t==="Modules"},result(){const e=app.metadata.getModuleNames({filter:"visible"});return _.object(e,_.map(e,e=>app.lang.getModuleName(e,{plural:true})))}}]},{name:"default_dashboard",label:"LBL_MOBILE_DEFAULT_DASHBOARD",options:{},view:"edit",type:"enum",dependencies:[{parentField:"default_view",condition(e){const t=e.get(this.parentField);return t==="Dashboards"},result(){const e={};_.each(i.dashboards.getDashboards({type:"home"}),t=>{e[t.id]=app.lang.get(t.get("name"),"Home")});return e}}]},{name:"default_dashlet",label:"LBL_MOBILE_DEFAULT_DASHLET",options:{},view:"edit",default:"-1",type:"enum",dependencies:[{parentField:"default_dashboard",condition(e){const t=e.get("default_view");return t==="Dashboards"},result:this._getDashboardDashlets}]}];_.each(this._defaultViewFields,t=>{const n=_.find(e,e=>e.name===t.name);if(!n){e.push(t)}},this);this._defaultViewFieldNames=_.pluck(this._defaultViewFields,"name")},resetDefaultView(){this.defaultView=app.config.ui.defaultViewScheme;_.each(this._defaultViewFields,function e(t){this.model.unset(t.name,{silent:true})},this);this.applyDefaultViewOnModel()},applyDefaultViewOnModel(){this.defaultView=this.defaultView||app.loginManager.getSetting(this._defaultViewFieldName)||app.config.ui.defaultViewScheme;if(!this.defaultView){return}const e=this.defaultView.split(this._defaultViewSplitter);_.find(this._defaultViewFields,function t(n){const i=!_.isEmpty(n.dependencies)&&n.dependencies[0].parentField;const a=this.model.get(i);let r=true;let s;if(a){r=Boolean(_.find(n.dependencies,function e(t){return t.condition(this.model)},this))}if(r){s=e.shift();if(!this._canSetValue(s,n)){this.resetDefaultView();return true}this.model.set(n.name,s,{silent:true})}return _.isEmpty(e)},this)},onSettingChange(e){const t=_.keys(e.changed);const n=_.intersection(this._defaultViewFieldNames,t);_.each(n,function e(t){this._onDefaultViewChange(t)},this)},_adjustDefaultViewOptions(){const e=_.find(this.meta.panels[0].fields,function e(t){return t.name===this._defaultViewFieldName},this);if(app.supportedFeatures.dashboards){const t=i.dashboards.getDashboards({type:"home"});e.options.Search=app.lang.get("LBL_MOBILE_GLOBAL_SEARCH");if(!_.isEmpty(t)){e.options.Dashboards=app.lang.get("LBL_MOBILE_SPECIFIC_DASHBOARD")}}if(app.supportedFeatures.activities){e.options.Activities=app.lang.get("LBL_ACTIVITY_STREAM")}},_getDependentFields(e){const t=[];_.each(this._defaultViewFields,n=>{if(_.contains(_.pluck(n.dependencies,"parentField"),e)){t.push(n)}});return t},_getDashboardDashlets(e){const t=i.dashboards.getDashboard(e).get("metadata");const{dashlets:n}=t;let a=_.chain(n).pluck("view").pluck("label").value();a=_.map(a,(e,t)=>{const a=n[t].view;const r=_.defaults({label:e},a);return i.dashboards.getDashletTitle(r)});const r=_.object(_.pluck(n,"id"),a);r[-1]=app.lang.get("LBL_ALL_DASHLETS");return r},_onDefaultViewChange(e,t){const n=this.getField(e);const i=n.getValue();const a=this._getDependentFields(e);_.each(a,function e(n){const a=n.name;const r=this.getField(a);let s={};if(!r){return}_.each(n.dependencies,function e(t){if(t.condition(this.model)){s=t.result;if(_.isFunction(s)&&!_.isUndefined(i)){s=s(i)}}},this);this._adjustSubviewGrid(r,s,t)},this)},_adjustSubviewGrid(e,t,n){if(_.isObject(t)){e.def.options=t;if(!n&&!_.isEmpty(this.model.changed)||_.isUndefined(this.model.get(e.name))){this.model.set(e.name,e.getDefaultValue())}e.render()}},onAfterRender(){const e=this.$(".pad");const t=this.$(".settings__other-fields");const n=this.$(".modal-footer");this.backupModel();this.$touchidItem=this.$("#touchid-toggle");if(!app.config.ui.showLogLevelSetting){this.getField("logging").remove()}_.each(this._defaultViewFieldNames,function e(n){this.getField(n).$el.detach().appendTo(t);this._onDefaultViewChange(n,true)},this);n.detach().appendTo(e)},onHeaderSaveClick(){this.save()},save(){this.setFontSize();const e=this;const t=this.model.get("language");const n=this.$el.find("#offline-toggle").attr("checked");const a=n!==app.offlineEnabled;let r=false;const s=this.$touchidItem.attr("checked");let o=false;let u=false;const d=_.once(()=>{app.controller.clean()});const p=[function t(){return e._showOfflineButton&&a},function t(){return e.model.get("fontSize")!==e._modelBackup.fontSize},function t(){let n=false;_.each(e._defaultViewFieldNames,t=>{if(n){return}const i=e.model.get(t);if(i){n=i!==e._modelBackup[t]}},this);return n},function t(){return e.model.get("logging")!==e._modelBackup.logging},function e(){const n=t!==app.user.getLanguage();if(n){u=true}return n},function t(){const i=e._showOfflineButton&&a;if(i&&n){u=true}return i},function t(){o=e._showTouchIdButton&&(s&&l.getTempCredential()||s!==Boolean(e._modelBackup.touchIdEnabled));return o}];const h=[function t(n){e._showOfflineToggleConfirm(!app.offlineEnabled,e=>{if(e){r=e}n()})},function t(n){const i=e.model?e.model.get("fontSize"):e._modelBackup.fontSize;app.loginManager.setSetting("fontSize",i);n(null)},function t(n){let i=e._modelBackup.default_view;if(e.model){i=_.reduce(e._defaultViewFieldNames,(t,n)=>{const i=e.model.get(n);if(n==="default_dashlet"&&parseInt(i,10)===-1){return t}if(i){t.push(e.model.get(n))}return t},[]).join(e._defaultViewSplitter)}app.loginManager.setSetting(e._defaultViewFieldName,i);n(null)},function t(n){const i=e.getField("logging");app.config.logger.level=i.options.def.options[i.value];app.config.debugSugarApi=i.value<=1;n(null)},function e(n){d();app.lang.setLanguage(t,e=>{n(e)})},function t(n){if(r){d();e.toggleOffline(!app.offlineEnabled,n)}else{n()}},function e(t){if(o){if(s){l.moveTempCredentialsToStorage()}else{l.resetCredentials()}}t()}];const m=_.select(h,(t,n)=>p[n].call(e));if(m.length){if(u){f.show("app:sync",{template:"preloader-panel"})}asyncLib.series(m,e=>{f.hide("app:sync");if(!e){if(app.offlineEnabled&&r){c.setupBulkLoad(()=>{i.mainMenu.render();app.controller.goUp()})}else{i.mainMenu.render();app.controller.goUp()}}})}else{app.controller.goUp()}},onHeaderCancelClick(){this.cancel()},cancel(){i.setFontSize(app.loginManager.getSetting("fontSize"));l.resetTempCredential();this.restoreModel()},backupModel(){const e=JSON.stringify(this.model.toJSON());this._modelBackup=JSON.parse(e)},restoreModel(){app.user.set("preferences",this._modelBackup)},toggleOffline(e,t){if(e&&!d()){this.showOfflineConnectionError(t);return false}app.logger.debug(`Offline enabled: ${e}`);this.toggleOfflineUserSetting(e);if(e){u.start().then(()=>this.onOfflineEnabled()).catch(e=>this.onOfflineFailure(e)).finally(t)}else{this.stopOffline(t)}},showOfflineConnectionError(e){const t="offline_enable_error";app.alert.show(t,{level:"error",messages:app.lang.get("ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR"),autoClose:true});if(e){e(t)}},onOfflineEnabled(e){if(e){c.start({isInitialBulkLoad:true})}},onOfflineFailure(e){this.toggleOfflineUserSetting(false);if(!e.err){return}if(e.err.status===0&&_.contains(["error","abort","timeout"],e.err.textStatus)){app.alert.dismiss("offline_error");this.showOfflineConnectionError()}this.stopOffline()},toggleOfflineUserSetting(e){app.offline.userEnabled=e;a.setSetting({store:a.Stores.SETTINGS,name:"offlineEnabled",value:e})},stopOffline(e){const t=[e=>i.dashboards.cleanDashletsCache(e),e=>u.stop({dropStorage:true}).then(()=>e()).catch(e)];asyncLib.parallel(t,e||_.noop)},_showOfflineToggleConfirm(e,t){const n=e?"LBL_OFFLINE_ENABLE_PROMPT":"LBL_OFFLINE_DISABLE_PROMPT";s.showConfirm(app.lang.get(n),{callback(e){t(e===2)}})},_enableTouchIdClicked(e){if(this.$touchidItem.attr("checked")){const e=this;l.performTouchIdSetup(t=>{if(!t){e.$touchidItem.prop("checked",false);e.$touchidItem.next(".checkbox-icon").removeClass(app.config.ui.icons.edit.checkboxOn).addClass(app.config.ui.icons.edit.checkboxOff)}})}},setFontSize(){const e=this.model.get("fontSize");i.setFontSize(e)}});e.exports=p},function(e,t){e.exports={_isTouchIdEnrolled(e){e(false)},_performTouchId(e,t){},_storeCredentials(e,t){},_resetCredentials(){}}},function(e,t,n){const i=n(28);let a="";let r={};let s=e=>a+e;let o=_.extend({},store,{cut:store.remove,cutAll:store.clear});let l=e=>new Function("return "+e)();let c=function(e){if(e.has("uniqueKey")){return}let t={};for(let n=0,i=localStorage.length;n<i;n++){let e=localStorage.key(n);t[e]=localStorage[e]}_.each(t,function(t,n){try{JSON.parse(t);t=e.store.deserialize(t)}catch(e){t=l(t)}if(t===null){t=undefined}e.store.set(n,t)});e.set("uniqueKey",r.uniqueKey)};const u=_.extend({},Backbone.Events,{store:o,init:function(){a=`${r.env}:${r.appId}:`;c(this);if(this.get("uniqueKey")!==r.uniqueKey){this.cutAll(true);this.set("uniqueKey",r.uniqueKey)}i.register("cache:clean",this)},has:function(e){return this.store.has(s(e))},get:function(e){return this.store.get(s(e))},set:function(e,t){e=s(e);try{this.store.set(e,t)}catch(n){if(n.name.toLowerCase().indexOf("quota")>-1){this.clean();this.store.set(e,t)}}},clean:function(){let e=[];let t={};this.trigger("cache:clean",function(t){e=_.union(t,e)});_.each(e,function(e){t[e]=this.get(e)},this);this.cutAll();_.each(t,function(e,t){if(!_.isUndefined(e)){this.set(t,e)}},this)},cut:function(e){e=s(e);if(this.store.has(e)){this.store.cut(e)}},cutAll:function(e){if(e===true){return this.store.cutAll()}var t=this.store.getAll();_.each(t,function(e,t){if(t.indexOf(a)===0){this.store.cut(t)}},this)}});e.exports=function(e){r=e||{};return u}},function(e,t,n){const i=n(81);const a=n(16);const r=n(18);function s(e,t,n){if(t){t.apply(l,_.union([e],n||[]))}else{l.handleStatusCodesFallback(e)}}function o(e,t){var n="handle"+a.classify(e.code)+"Error";(l[n]||t||l.handleStatusCodesFallback).call(l,e)}const l={init:function(){this.enableOnError();Object.defineProperty(this,"remoteLogging",{get:function(){SUGAR.App.logger.warn("`Core.Error#remoteLogging` property has been deprecated since 7.10.");return false},configurable:true})},initialize:function(e){SUGAR.App.logger.warn("The function `Core.Error#initialize` is deprecated in 7.10. "+"Please do not use it. The function initializing the component is `Core.Error#init`");e=e||{};this.statusCodes=e.statusCodes?_.extend(this.statusCodes,e.statusCodes):this.statusCodes;if(!e.disableOnError){this.enableOnError()}},statusCodes:{0:function(e,t,n){if(e.textStatus==="timeout"){s(e,this.handleTimeoutError)}else{this.handleStatusCodesFallback(e,t,n)}},400:function(e){o(e,this.handleUnspecified400Error)},401:function(e){o(e,this.handleUnauthorizedError)},403:function(e){s(e,this.handleForbiddenError)},404:function(e){s(e,this.handleNotFoundError,_.rest(arguments))},405:function(e){s(e,this.handleMethodNotAllowedError)},409:function(e){s(e,this.handleMethodConflictError)},412:function(e){s(e,this.handleHeaderPreconditionFailed)},422:function(e,t){e.model=t;s(e,this.handleValidationError,_.rest(arguments))},424:function(e,t){e.model=t;s(e,this.handleMethodFailureError,_.rest(arguments))},500:function(e){s(e,this.handleServerError)},502:function(e){s(e,this.handleServerError)},503:function(e){s(e,this.handleServerError)}},errorName2Keys:{maxValue:"ERROR_MAXVALUE",minValue:"ERROR_MINVALUE",maxLength:"ERROR_MAX_FIELD_LENGTH",minLength:"ERROR_MIN_FIELD_LENGTH",datetime:"ERROR_DATETIME",required:"ERROR_FIELD_REQUIRED",email:"ERROR_EMAIL",primaryEmail:"ERROR_PRIMARY_EMAIL",duplicateEmail:"ERROR_DUPLICATE_EMAIL",number:"ERROR_NUMBER",isBefore:"ERROR_IS_BEFORE",isAfter:"ERROR_IS_AFTER",greaterThan:"ERROR_IS_GREATER_THAN",lessThan:"ERROR_IS_LESS_THAN"},getErrorString:function(e,t){var n=t.module||"";return r.get(this.errorName2Keys[e]||e,n,t)},handleValidationError:function(e){var t=e.responseText;i.dismissAll();_.each(t,function(e,t){var n="";if(_.isObject(e)){_.each(e,function(e,t){n+="(Message) "+this.getErrorString(t,e)+"\n"},this)}else{n=e}SUGAR.App.logger.debug("validation failed for field `"+t+"`:\n"+n)},this)},handleHttpError:function(e,t,n){if(l.statusCodes[e.status]){l.statusCodes[e.status].call(l,e,t,n)}else{l.handleStatusCodesFallback(e)}},handleUnhandledError:function(e,t,n){SUGAR.App.logger.fatal(e+" at "+t+" on line "+n)},handleStatusCodesFallback:function(e){SUGAR.App.logger.error(e.toString())},handleRenderError:function(e,t,n){var s="render_error_"+e.module+"_"+e.name;var o="error";var l;var c;switch(t){case"_renderHtml":l=r.get("ERR_RENDER_FAILED_TITLE");c=[r.get("ERR_RENDER_FAILED_MSG"),r.get("ERR_CONTACT_TECH_SUPPORT")];break;case"_renderField":l=r.get("ERR_RENDER_FIELD_FAILED_TITLE");c=[a.formatString(r.get("ERR_RENDER_FIELD_FAILED_MSG"),[n.name]),r.get("ERR_CONTACT_TECH_SUPPORT")];break;case"view_render_denied":l=r.get("ERR_NO_VIEW_ACCESS_TITLE");o="warning";var u=r.getModuleName(e.module,{plural:true});c=[a.formatString(r.get("ERR_NO_VIEW_ACCESS_MSG"),[u])];break;case"layout_render":l=r.get("ERR_LAYOUT_RENDER_TITLE");c=[r.get("ERR_LAYOUT_RENDER_MSG")];break;default:l=r.get("ERR_GENERIC_TITLE");c=[r.get("ERR_INTERNAL_ERR_MSG"),r.get("ERR_CONTACT_TECH_SUPPORT")];SUGAR.App.logger.error("handleRenderError called for render error caught in "+t+", but we have no corresponding handler!");break}i.show(s,{level:o,title:l,messages:c})},enableOnError:function(e,t){var n;var i=this;if(this.overloaded){return false}n=window.onerror;window.onerror=function(a,r,s){if(e){e.call(t)}else{i.handleUnhandledError(a,r,s)}if(n){n()}};this.overloaded=true;return true},throwErrorWithCallStack:function(e,t){SUGAR.App.logger.warn("The function `Core.Error#throwErrorWithCallStack` is deprecated in 7.10. "+"Please do not use it.");if(_.isString(e)){e=new Error(e)}e.message=e.message+"; "+e.stack;if(t){return e}throw e},_callCustomHandler:function(e,t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Error#_callCustomHandler is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Error#_callCustomHandler is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(e,t,n)},_handleFineGrainedError:function(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Error#_handleFineGrainedError is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Error#_handleFineGrainedError is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return o(e,t)}};e.exports=l},function(e,t,n){const i=n(78);const a=n(28);const r={beforeRoute:function(e,t){if(!this.triggerBefore("route",{route:e,args:t})){return false}if(_.indexOf(SUGAR.App.config.unsecureRoutes,e)>=0){return true}if(!SUGAR.App.api.isAuthenticated()){SUGAR.App.router.login();return false}else if(!SUGAR.App.isSynced){Backbone.history.stop();SUGAR.App.sync();return false}return true},after:function(e,t){},start:function(){var e={};SUGAR.App.augment("router",new SUGAR.App.Router(e),false);a.trigger("router:start",SUGAR.App.router);SUGAR.App.router.init();SUGAR.App.router.start()},stop:function(){SUGAR.App.logger.warn("`Core.Routing#stop` method is deprecated since 7.10. Please use "+"`Core.Router#stop` instead.");SUGAR.App.router.stop()}};_.extend(r,i);e.exports=r},function(e,t,n){const i=n(46);const a=n(45);e.exports=a.extend({initialize:function(e,t){this._linkedCollections={};t=t||{};if(t.links){if(!t.parentBean){SUGAR.App.logger.error("You cannot instantiate a mixed-bean-collection with linked collections "+"but without a parent bean.");return}this._parentBean=t.parentBean;this._collectionField=t.collectionField;_.each(t.links,function(e,t){if(_.isString(e)){this._linkedCollections[t]=SUGAR.App.data.createBeanCollection(e)}else{this._linkedCollections[t]=e}this.listenTo(this._linkedCollections[t],"add",this._onLinkAdd);this.listenTo(this._linkedCollections[t],"remove",this._onLinkRemove);this.listenTo(this._linkedCollections[t],"reset",this._onLinkReset)},this);delete t.links}a.prototype.initialize.call(this,e,t)},_prepareModel:function(e,t){var n=e instanceof i?e.module:e._module;this.model=SUGAR.App.data.getBeanClass(n);return a.prototype._prepareModel.call(this,e,t)},_onLinkAdd:function(e,t,n){if(this._updating){return}a.prototype.set.call(this,e,{merge:false,add:true,remove:false})},_onLinkRemove:function(e,t,n){if(this._updating){return}a.prototype.remove.call(this,e)},_onLinkReset:function(e){let t=_.groupBy(this.models,function(e){return e instanceof i?e.get("_link"):e._link});let n=_.findKey(this._linkedCollections,t=>t===e);let r={};let s={merge:false,add:true,remove:false};if(this._updating){_.extend(r,{silent:true});_.extend(s,{silent:true})}a.prototype.remove.call(this,t[n],r);a.prototype.set.call(this,e.models,s)},set:function(e,t){e=Backbone.Collection.prototype.set.call(this,e,t);if(!this._parentBean){return e}this._updating=true;t=t||{};if(!_.isUndefined(e)&&!_.isArray(e)){e=[e]}_.each(e,function(e){var n=e.get("_link");if(!n){return}if(this._linkedCollections[n]){this._linkedCollections[n].add(e,t)}},this);this._updating=false;return e},remove:function(e,t){e=Backbone.Collection.prototype.remove.call(this,e,t);if(!this._parentBean){return e}this._updating=true;t=t||{};if(!_.isUndefined(e)&&!_.isArray(e)){e=[e]}_.each(e,function(e){var n=e.get("_link");if(n){if(this._linkedCollections[n]){this._linkedCollections[n].remove(e,t)}}else{_.each(this._linkedCollections,function(n){var a=e instanceof i?e.get("module"):e._module;if(n.module===a){n.remove(e,t)}})}},this);this._updating=false;return e},reset:function(e,t){if(!this._parentBean){return Backbone.Collection.prototype.reset.call(this,e,t)}t=t?_.clone(t):{};if(!_.isUndefined(e)&&!_.isArray(e)){e=[e]}var n=_.groupBy(e,function(e){return e instanceof i?e.get("_link"):e._link});this._updating=true;_.each(this._linkedCollections,function(e,i){e.reset(n[i],_.omit(t,"silent"))},this);this._updating=false;if(!t.silent){this.trigger("reset",this,t)}return e},getDelta:function(){var e={};_.each(this._linkedCollections,(t,n)=>{if(!t.hasDelta()){return}e[n]=t.getDelta()},this);return e},hasDelta:function(){return _.some(this._linkedCollections,e=>{return e.hasDelta()})},resetDelta:function(){_.each(this._linkedCollections,(e,t)=>{e.resetDelta()})},fetch:function(e){e=e||{};e.module_list=this.module_list=e.module_list||this.module_list||SUGAR.App.metadata.getModuleNames({filter:"visible"});return a.prototype.fetch.call(this,e)},groupByModule:function(){return _.groupBy(this.models,function(e){return e.module})},toString:function(){return"mcoll:"+this.length},paginate:function(e){e=e||{};if(this._parentBean){_.extend(e,{collectionField:this._collectionField,beanId:this._parentBean.id,module:this._parentBean.module,offset:this.offset})}return a.prototype.paginate.call(this,e)},resetPagination:function(){if(!this._parentBean){return a.prototype.resetPagination.call(this)}this.offset=this.next_offset={}}})},function(e,t,n){const i=n(53);const a=n(19);const r=n(16);const s=n(18);function o(){var e=function(e,t,n){var i=_.isUndefined(e[n])?e.validation?e.validation[n]:null:e[n];if(_.contains(["int","float","decimal","currency"],e.type)&&_.isFinite(i)){if(e.type=="int"){t=parseInt(t)}else{t=parseFloat(t)}if(n=="max"){if(t>i)return i}else if(n=="min"){if(t<i)return i}else if(n=="greaterthan"){if(t<=i)return i}else if(n=="lessthan"){if(t>=i)return i}}};var t=function(e,t,n,i){if(_.indexOf(["date","datetimecombo"],e.type)!==-1&&e.validation&&e.validation.type===n){var a=i.fields[e.validation.compareto];if(!_.isUndefined(a)&&_.indexOf(["date","datetimecombo"],a.type)!=-1){var r=Date.parse(i.get(a.name));t=Date.parse(t.toString());if(!_.isNaN(r)&&!_.isNaN(t)){var o=s.get(a.label||a.vname||a.name,i.module);if(n=="isbefore"){return r<t?o:undefined}if(n=="isafter"){return r>t?o:undefined}}}}};return{maxLength:function(e,t){if(_.isNumber(t)){t=t.toString()}if(_.isNumber(e.len)&&_.isString(t)){var n=e.len;t=t||"";t=t.toString();if(t.length>n){return n}}},minLength:function(e,t){if(_.isNumber(e.minlen)){var n=e.minlen;t=t||"";t=t.toString();if(t.length<n){return n}}},url:function(e,t){SUGAR.App.logger.warn("The function `app.validation.validators.url()` is deprecated since 7.10 "+"because it has no effect.")},email:function(e,t){var n;if(e.type=="email"||e.type==="email-text"){if(t.length>0){_.each(t,function(t){if(t.email_address===""&&(_.isUndefined(e.required)||!e.required)){return}if(!r.isValidEmailAddress(t.email_address)){if(!n)n=[];n.push(t.email_address)}})}if(n&&n.length>0){return n}}},primaryEmail:function(e,t){if(e.type=="email"){if(t.length>0&&!_.find(t,function(e){return e.primary_address=="1"})){return true}}},duplicateEmail:function(e,t){if(e.type=="email"){var n=_.pluck(t,"email_address"),i=[],a=n.length,r,s;for(r=0;r<a;r++){for(s=r+1;s<a;s++){if(n[r]==n[s])i.push(n[r])}}if(i&&i.length>0){return i}}},datetime:function(e,t){var n,r,s,o,l,c,u,d;function f(e,t,n){var i=parseInt(e,10);return!isNaN(i)&&i>=t&&i<=n}if(e.type==="date"||e.type==="datetimecombo"){if(_.isNaN(Date.parse(t))&&_.isNaN(Date.parse(t.replace(/[\.\-]/g,"/")))){return t}else{if(!i.isIso(t)){c=t.replace(/[\.\-]/g,"/").split("/");r=_.filter(c,e=>e.length===3||e.length>4);if(r.length){return t}if(/([\.\/\-])\1/.test(t)===true){return t}s=a.getPreference("datepref");o=s.match(/[.\/\-\s].*?/);l=s.split(o);for(u=0,d=l.length;u<d;u++){n=c[u];switch(l[u].toLowerCase().charAt(0)){case"m":if(!f(n,1,12)){return t}break;case"d":if(!f(n,1,31)){return t}break}}}else{if(t.charAt(0)==="0")return t}}}},minValue:function(t,n){return e(t,n,"min")},maxValue:function(t,n){return e(t,n,"max")},greaterThan:function(t,n){return e(t,n,"greaterthan")},lessThan:function(t,n){return e(t,n,"lessthan")},number:function(e,t){if(_.indexOf(["int","float","decimal","currency"],e.type)!=-1){return _.isBoolean(t)||_.isString(t)&&!t.trim().length||isNaN(parseFloat(t))||!_.isFinite(t)?true:undefined}},isBefore:function(e,n,i){return t(e,n,"isbefore",i)},isAfter:function(e,n,i){return t(e,n,"isafter",i)}}}function l(e){return _.every(e,_.isEmpty)}const c={validators:o(),requiredValidator:function(e,t,n,i){if(e.required===true&&t!=="id"&&e.type!=="image"&&_.isUndefined(e.auto_increment)){var a=n.get(t);var r=_.isUndefined(a);var s=_.isNull(i)||i===""||i===false||_.isArray(i)&&l(i)||i instanceof Backbone.Collection&&!i.length;if(e.id_name&&n.get(e.id_name)){return}if(r&&_.isUndefined(i)||s){return true}}},_isArrayEmpty:function(e){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Data.Validation#_isArrayEmpty is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Data.Validation#_isArrayEmpty is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return l(e)}};e.exports=c},function(e,t,n){const i=n(160);const a=n(19);const r=n(16);e.exports={getBaseCurrencyId:function(){return SUGAR.App.metadata.getBaseCurrencyId()},getBaseCurrency:function(){var e=SUGAR.App.metadata.getBaseCurrencyId(),t=SUGAR.App.metadata.getCurrency(e);t.currency_id=e;return t},getCurrenciesSelector:function(e){var t={};_.each(SUGAR.App.metadata.getCurrencies(),function(n,i){t[i]=e(n)});return t},getCurrencySymbol:function(e){var t=SUGAR.App.metadata.getCurrency(e);return t?t.symbol:""},formatAmount:function(e,t,n,i,a,s){if(!_.isFinite(e)){return e}var o;var l=SUGAR.App.metadata.getConfig();t=t||this.getBaseCurrencyId();s=s||"";if(!_.isFinite(n)){if(_.isFinite(l.defaultCurrencySignificantDigits)){n=l.defaultCurrencySignificantDigits}else{n=2}}a=a||l.defaultDecimalSeparator||".";i=!_.isUndefined(i)?i:l.defaultNumberGroupingSeparator||",";o=this.getCurrencySymbol(t)||this.getCurrencySymbol(this.getBaseCurrencyId());e=r.formatNumber(e,n,n,i,a);return o+s+e},formatAmountLocale:function(e,t,n){var i=a.getPreference("decimal_separator");var r=a.getPreference("number_grouping_separator");var s=a.getPreference("decimal_precision");n=_.isFinite(n)?n:s;return this.formatAmount(e,t,n,r,i)},unformatAmount:function(e,t,n,i){i=i||false;e=e.toString().replace(/^[^\d\.\,-]+/,"");return r.unformatNumberString(e,t,n,i)},unformatAmountLocale:function(e,t){var n,i,r=SUGAR.App.metadata.getConfig();n=a.getPreference("decimal_separator")||r.defaultDecimalSeparator||".";var s=a.getPreference("number_grouping_separator");i=s||r.defaultNumberGroupingSeparator||",";return this.unformatAmount(e,i,n,t)},convertAmount:function(e,t,n){var a;var r;if(t==n){return i.round(e,undefined,true)}a=SUGAR.App.metadata.getCurrency(t);r=SUGAR.App.metadata.getCurrency(n);return this.convertWithRate(e,a.conversion_rate,r.conversion_rate)},convertToBase:function(e,t){return this.convertAmount(e,t,this.getBaseCurrencyId())},convertFromBase:function(e,t){return this.convertAmount(e,this.getBaseCurrencyId(),t)},convertWithRate:function(e,t,n){t=t||1;n=n||1;return i.mul(i.div(e,t,undefined,true),n,undefined,true)}}},function(e,t,n){const i=n(19);e.exports={_math:function(e,t,n,i,a){i=_.isFinite(i)&&i>=0?parseInt(i):6;Big.E_NEG=-1*(i+1);a=a||false;var r;if(!_.isFinite(t)){return t}try{switch(e){case"round":r=Big(t).round(i);break;case"add":r=Big(t).plus(n);break;case"sub":r=Big(t).minus(n);break;case"mul":r=Big(t).times(n).round(i);break;case"div":r=Big(t).div(n).round(i);break;default:return t}}catch(e){if(e.name=="BigError"){return t}}if(a&&!_.isString(r)){return r.toFixed(i)}else if(!_.isString(r)){return r.toString()}else{return r}},round:function(e,t,n){return this._math("round",e,null,t,n)},add:function(e,t,n,i){return this._math("add",e,t,n,i)},sub:function(e,t,n,i){return this._math("sub",e,t,n,i)},mul:function(e,t,n,i){return this._math("mul",e,t,n,i)},div:function(e,t,n,i){return this._math("div",e,t,n,i)},isDifferentWithPrecision:function(e,t,n){var a=SUGAR.App.metadata.getConfig();var r=n||i.getPreference("decimal_precision");n=_.isFinite(r)?r:a.defaultCurrencySignificantDigits||2;var s=this._math("round",this.getDifference(e,t,true),null,n);var o=n===0?"0":this._math("div",.1,Math.pow(10,n-1));return s==="0"?false:parseFloat(s)>=parseFloat(o)},getDifference:function(e,t,n){var i=this._math("sub",e,t);n=_.isUndefined(n)?false:n;return n?Math.abs(i):i}}},function(e,t,n){const i=n(34);const a=n(47);const r=n(35);const s=n(18);const o=n(29);const l=a.extend({fieldTag:"input",initialize:function(e){r.attach(this,"field");a.prototype.initialize.call(this,e);this.sfId=e.sfId;this.view=e.view;this.viewDefs=e.viewDefs||{};this.name=this.viewDefs.name||e.def&&e.def.name;var t=this.model&&this.model.fields?this.model.fields[this.name]:null;this.fieldDefs=_.extend({},t,this.viewDefs.defs);this.def=_.extend({},t,e.def);this.type=this.viewDefs.type||this.def.type||this.fieldDefs.type;var n=this.def.label||this.def.vname||this.name;this.label=s.get(this.viewDefs.label||n,this.module);this.template=o.empty;if(this.model){this.model.on("error:validation:"+this.name,this.handleValidationError,this);this.model.on("validation:start attributes:revert",this.removeValidationErrors,this);this.model.on("acl:change:"+this.name,this.handleAclChange,this)}},viewFallbackMap:{edit:"detail"},handleAclChange:function(){this._resetAction();this.render()},_resetAction:function(){this.action=void 0},_checkAccessToAction:function(e){return i.hasAccessToModel(e,this.model,this.name)},_getFallbackTemplate:function(e){return this.isDisabled()&&e==="disabled"?"edit":this.view.fallbackFieldTemplate||"detail"},_loadTemplate:function(){var e;var t=this.options.viewName||this.options.def.view||(this.view.meta&&this.view.meta.type?this.view.meta.type:this.view.name);var n=this.action;if(this.isDisabled()&&t==="edit"){t=this.action}else{n=this.action||(this.view.action&&this.view.name!=this.view.action?this.view.action:t)}while(t){if(this._checkAccessToAction(n))break;t=this.viewFallbackMap[t];n=t}if(t){var i=this.module||this.context.get("module");e=this._getFallbackTemplate(t);this.template=o.getField(this.type,t,i,e)||o.getField("base",t,i,e)||o.empty}else{this.template=o.empty}this.tplName=t;this.action=n},delegateEvents:function(e){e=e||_.result(this,"events")||(this.def?this.def.events:null);if(!e)return;e=_.clone(e);_.each(e,function(t,n){var i=this[t];if(!i&&_.isString(t)){i=_.bind(function(e){if(_.isFunction(this.triggerMetadataEvent)){this.triggerMetadataEvent(e,t)}},this);this["callback_"+n]=i;e[n]="callback_"+n}if(!_.isFunction(t)&&!i){delete e[n]}},this);Backbone.View.prototype.delegateEvents.call(this,e)},_render:function(){this._loadTemplate();if(this.model instanceof Backbone.Model){this.value=this.getFormattedValue()}this.dir=_.result(this,"direction");if(s.direction===this.dir){delete this.dir}this.unbindDom();this.$el.html(this.template(this)||"");if(this.def&&this.def.css_class){this.getFieldElement().addClass(this.def.css_class)}this.$(this.fieldTag).attr("dir",this.dir);this.bindDomChange();return this},getFieldElement:function(){return this.$el},bindDomChange:function(){if(!(this.model instanceof Backbone.Model))return;var e=this;var t=this.$el.find(this.fieldTag);t.on("change",function(){e.model.set(e.name,e.unformat(t.val()))})},bindDataChange:function(){if(this.model){this.model.on("change:"+this.name,function(e,t){if(this.action==="edit"){this.$(this.fieldTag).val(this.format(t))}else{this.render()}},this)}},hasChanged:function(){return!_.isEqual(this.format(this.model.getSynced(this.name)),this.format(this.model.get(this.name)))},format:function(e){return e},unformat:function(e){return e},getFormattedValue:function(){return this.format(this.model.has(this.name)?this.model.get(this.name):null)},handleValidationError:function(e){},removeValidationErrors:function(){},getPlaceholder:function(){return new Handlebars.SafeString('<span sfuuid="'+this.sfId+'"></span>')},setDisabled:function(e,t={}){e=_.isUndefined(e)?true:e;let n=false;if(e&&this.isDisabled()===false){this._previousAction=this.action;this.action="disabled";this.render();n=true}else if(e===false&&this.isDisabled()){this.action=this._previousAction;delete this._previousAction;this.render();n=true}if(n&&t.trigger){this.context.trigger("field:disabled",this.name,e,this)}},isDisabled:function(){return this.action==="disabled"},setViewName:function(e){this.options.viewName=e},setMode:function(e){if(this.isDisabled()){this._previousAction=e}else{this.action=e}this.setViewName(e);this.render()},unbindDom:function(){this.$el.find(this.fieldTag).off()},_dispose:function(){r.detach(this,"field");this.unbindDom();a.prototype._dispose.call(this)},toString:function(){return"field-"+this.name+"-"+this.sfId+"-"+a.prototype.toString.call(this)},_show:function(){this.getFieldElement().removeClass("hide").show();this.updateVisibleState(true)},_hide:function(){this.getFieldElement().addClass("hide").hide();this.updateVisibleState(false)},equals:function(e){return this.type===e.type&&_.isEqual(this.getFormattedValue(),e.getFormattedValue())},closestComponent:function(e){if(!this.view){return}if(this.view.name===e){return this.view}return this.view.closestComponent(e)}});e.exports=l},function(e,t,n){const i=n(47);const a=n(35);const r=n(29);const s=n(36);const o=i.extend({initialize:function(e){a.attach(this,"layout");i.prototype.initialize.call(this,e);this._components=[];this.meta=this.meta||{};this.type=this.meta.type||this.options.type;this.name=this.meta.name||this.options.name||this.type||"";if(this.meta.label){this.label=this.meta.label}else if(this.options.def&&this.options.def.label){this.label=this.options.def.label}else if(this.options.label){this.label=this.options.label}else{this.label=""}this.layout=this.options.layout;this._loadTemplate(e);if(this.template){this.$el.append(this.template(this,e));this.placeComponentsFromTemplate()}if(this.meta.lazy_loaded){this._componentsMeta=this.meta.components;this.meta.components=[]}SUGAR.App.events.on("app:locale:change",function(){this.render()},this)},_loadTemplate:function(e){e=e||{};if(this.meta.template){this.template=r.getLayout(this.meta.template,this.module)||r.getLayout(this.meta.template,e.loadModule);return}var t=r.getLayout(this.name,this.module)||r.getLayout(this.type,this.module);if(!t){if(e.loadModule){t=r.getLayout(this.name,e.loadModule)||r.getLayout(this.type,e.loadModule)}else{t=r.getLayout(this.name)||r.getLayout(this.type)}}this.template=t},placeComponentsFromTemplate:function(){var e={};if(_.isEmpty(this._components)){return}this.$("span[cid]").each(function(){var t=$(this),n=t.attr("cid");e[n]=t});_.each(this._components,function(t){var n=e[t.cid];if(n){n.replaceWith(t.el)}},this)},initComponents:function(e,t,n){if(this.disposed){return}var i,a;e=e||this.meta.components;a=this._components.length;this._addComponentsFromDef(e,t,n);i=this._components.slice(a);_.each(i,function(e){if(_.isFunction(e.initComponents)){e.initComponents()}});this.trigger("init");return i},createComponentFromDef:function(e,t,n){t=t||this.context;n=n||this.module;if(e.context){if(e.context instanceof SUGAR.App.Context){t=e.context}else{t=t.getChildContext(e.context);t.prepare()}n=t.get("module")}if(e.view){if(_.isString(e.view)){return s.createView({context:t,name:e.view,def:e,module:n,loadModule:e.loadModule,primary:e.primary,layout:this})}else if(_.isObject(e.view)){return s.createView({context:t,module:n,loadModule:e.loadModule,meta:e.view,type:e.view.type,name:e.view.name,primary:e.view.primary,def:e,layout:this})}}else if(e.layout){if(_.isString(e.layout)){return s.createLayout({context:t,name:e.layout,def:e,module:n,loadModule:e.loadModule,layout:this})}else if(_.isObject(e.layout)){return s.createLayout({context:t,module:n,loadModule:e.loadModule,meta:e.layout,type:e.layout.type,name:e.layout.name,def:e,layout:this})}}else{SUGAR.App.logger.warn("Invalid layout definition:\n"+e.layout)}},_addComponentsFromDef:function(e,t,n){e=e||[];_.each(e,function(e){if(e.initializedInTemplate){delete e.initializedInTemplate;return}if(e.view||e.layout){this.addComponent(this.createComponentFromDef(e,t,n),e)}},this)},addComponent:function(e,t){if(!e.layout)e.layout=this;this._components.push(e);this._placeComponent(e,t)},_placeComponent:function(e){this.$el.append(e.el)},removeComponent:function(e){var t=_.isNumber(e)?e:this._components.indexOf(e);if(t>-1){var n=this._components.splice(t,1);n[0].layout=null}},getComponent:function(e){return _.find(this._components,function(t){return t.name===e})},_render:function(){if(this._components&&this._components.length>0){_.each(this._components,function(e){e.render()},this)}else{SUGAR.App.logger.info("Can't render anything because the layout has no components: "+this.toString()+"\nEither supply metadata or override Layout.render method")}return this},loadData:function(e){if(this.disposed){return}this.context.loadData(e);_.each(this._components,function(t){t.loadData(e)},this)},getFieldNames:function(e){var t=[];e=e||this.module;_.each(this._components,function(n){if(n.module==e){t=_.union(t,n.getFieldNames(null,true))}},this);return t},getFields:function(e){var t={};_.each(this._components,function(n){_.extend(t,n.getFields(e))});return t},closestComponent:function(e){if(!this.layout){return}if(this.layout.name===e){return this.layout}return this.layout.closestComponent(e)},_show:function(){i.prototype._show.call(this);_.each(this._components,function(e){e.updateVisibleState(true)})},_hide:function(){i.prototype._hide.call(this);_.each(this._components,function(e){e.updateVisibleState(true)})},_dispose:function(){a.detach(this,"layout");this._disposeComponents();i.prototype._dispose.call(this)},_disposeComponents:function(){_.each(this._components,function(e){e.dispose()});this._components=[]},toString:function(){return"layout-"+(this.options.type||this.options.name)+"-"+i.prototype.toString.call(this)}});e.exports=o},function(e,t){e.exports=function(e){var t=[];t.toString=function t(){return this.map(function(t){var i=n(t,e);if(t[2]){return"@media "+t[2]+"{"+i+"}"}else{return i}}).join("")};t.i=function(e,n){if(typeof e==="string")e=[[null,e,""]];var i={};for(var a=0;a<this.length;a++){var r=this[a][0];if(typeof r==="number")i[r]=true}for(a=0;a<e.length;a++){var s=e[a];if(typeof s[0]!=="number"||!i[s[0]]){if(n&&!s[2]){s[2]=n}else if(n){s[2]="("+s[2]+") and ("+n+")"}t.push(s)}}};return t};function n(e,t){var n=e[1]||"";var a=e[3];if(!a){return n}if(t&&typeof btoa==="function"){var r=i(a);var s=a.sources.map(function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"});return[n].concat(s).concat([r]).join("\n")}return[n].join("\n")}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));var n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+t;return"/*# "+n+" */"}},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){if(e<12){return n?"vm":"VM"}else{return n?"nm":"NM"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"};var n=function(e){return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5};var i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]};var a=function(e){return function(t,a,r,s){var o=n(t),l=i[e][n(t)];if(o===2){l=l[a?0:1]}return l.replace(/%d/i,t)}};var r=["","","","","","","","","","","",""];var s=e.defineLocale("ar-ly",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=function(e){return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5};var a={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]};var r=function(e){return function(t,n,r,s){var o=i(t),l=a[e][i(t)];if(o===2){l=l[n?0:1]}return l.replace(/%d/i,t)}};var s=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];var o=e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return o})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};var n=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"gec"}else if(e<12){return"shr"}else if(e<17){return"gndz"}else{return"axam"}},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(e===0){return e+"-nc"}var n=e%10,i=e%100-n,a=e>=100?100:null;return e+(t[n]||t[i]||t[a])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};if(i==="m"){return n?"":""}else if(i==="h"){return n?"":""}else{return e+" "+t(a[i],+e)}}var i=e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return(e%10===2||e%10===3)&&(e%100!==12&&e%100!==13)?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;if(e===0){return e+"-"}else if(n===0){return e+"-"}else if(n>10&&n<20){return e+"-"}else if(t===1){return e+"-"}else if(t===2){return e+"-"}else if(t===7||t===8){return e+"-"}else{return e+"-"}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""&&e>=4||t===""&&e<5||t===""){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""&&e>=4||t===""&&e<5||t===""){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+a(i[n],e)}function n(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){if(e>9){return i(e%10)}return e}function a(e,t){if(t===2){return r(e)}return e}function r(e){var t={m:"v",b:"v",d:"z"};if(t[e.charAt(0)]===undefined){return e}return t[e.charAt(0)]+e.substring(1)}var s=e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=e===1?"a":"vet";return e+t},week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){i+="minuta"}else if(e===2||e===3||e===4){i+="minute"}else{i+="minuta"}return i;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){i+="sat"}else if(e===2||e===3||e===4){i+="sata"}else{i+="sati"}return i;case"dd":if(e===1){i+="dan"}else{i+="dana"}return i;case"MM":if(e===1){i+="mjesec"}else if(e===2||e===3||e===4){i+="mjeseca"}else{i+="mjeseci"}return i;case"yy":if(e===1){i+="godina"}else if(e===2||e===3||e===4){i+="godine"}else{i+="godina"}return i}}var n=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:true,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=e===1?"r":e===2?"n":e===3?"r":e===4?"t":"";if(t==="w"||t==="W"){n="a"}return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_");var n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function i(e){return e>1&&e<5&&~~(e/10)!==1}function a(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"pr sekund":"pr sekundami";case"m":return t?"minuta":a?"minutu":"minutou";case"mm":if(t||a){return r+(i(e)?"minuty":"minut")}else{return r+"minutami"}break;case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":if(t||a){return r+(i(e)?"hodiny":"hodin")}else{return r+"hodinami"}break;case"d":return t||a?"den":"dnem";case"dd":if(t||a){return r+(i(e)?"dny":"dn")}else{return r+"dny"}break;case"M":return t||a?"msc":"mscem";case"MM":if(t||a){return r+(i(e)?"msce":"msc")}else{return r+"msci"}break;case"y":return t||a?"rok":"rokem";case"yy":if(t||a){return r+(i(e)?"roky":"let")}else{return r+"lety"}break}}var r=e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++){i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i")}return i}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(t),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(t>20){if(t===40||t===50||t===60||t===80||t===100){n="fed"}else{n="ain"}}else if(t>0){n=i[t]}return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["","","","","","","","","","","",""];var n=["","","","","","",""];var i=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}var n=e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){if(!e){return this._monthsNominativeEl}else if(typeof t==="string"&&/D/.test(t.substring(0,t.indexOf("MMMM")))){return this._monthsGenitiveEl[e.month()]}else{return this._monthsNominativeEl[e.month()]}},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){if(e>11){return n?"":""}else{return n?"":""}},isPM:function(e){return(e+"").toLowerCase()[0]===""},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,n){var i=this._calendarEl[e],a=n&&n.hours();if(t(i)){i=i.apply(n)}return i.replace("{}",a%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return e.charAt(0).toLowerCase()==="p"},meridiem:function(e,t,n){if(e>11){return n?"p.t.m.":"P.T.M."}else{return n?"a.t.m.":"A.T.M."}},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_");var n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i];var a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;var r=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_");var n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY H:mm",LLLL:"dddd, MMMM [de] D [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_");var n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i];var a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;var r=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};if(t){return a[n][2]?a[n][2]:a[n][1]}return i?a[n][0]:a[n][1]}var n=e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:true,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){if(e<12){return"  "}else{return"  "}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" ");var n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function i(e,t,n,i){var r="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":r=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":r=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":r=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":r=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":r=i?"vuoden":"vuotta";break}r=a(e,i)+" "+r;return r}function a(e,i){return e<10?i?n[e]:t[e]:e}var r=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(e===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_");var n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");var i=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"];var n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"];var i=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"];var a=["Did","Dil","Dim","Dic","Dia","Dih","Dis"];var r=["D","Lu","M","Ci","Ar","Ha","Sa"];var s=e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:true,weekdays:i,weekdaysShort:a,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=e===1?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:true,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma "+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){if(e.indexOf("un")===0){return"n"+e}return"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="rati"){return e<4?e:e+12}else if(t==="sokalli"){return e}else if(t==="donparam"){return e>12?e:e+12}else if(t==="sanje"){return e+12}},meridiem:function(e,t,n){if(e<4){return"rati"}else if(e<12){return"sokalli"}else if(e<16){return"donparam"}else if(e<20){return"sanje"}else{return"rati"}}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){if(e===2){return""}return e+" "},d:"",dd:function(e){if(e===2){return""}return e+" "},M:"",MM:function(e){if(e===2){return""}return e+" "},y:"",yy:function(e){if(e===2){return""}else if(e%10===0&&e!==10){return e+" "}return e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){if(e<5){return" "}else if(e<10){return""}else if(e<12){return n?'"':" "}else if(e<18){return n?'"':" "}else{return""}}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){i+="minuta"}else if(e===2||e===3||e===4){i+="minute"}else{i+="minuta"}return i;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){i+="sat"}else if(e===2||e===3||e===4){i+="sata"}else{i+="sati"}return i;case"dd":if(e===1){i+="dan"}else{i+="dana"}return i;case"MM":if(e===1){i+="mjesec"}else if(e===2||e===3||e===4){i+="mjeseca"}else{i+="mjeseci"}return i;case"yy":if(e===1){i+="godina"}else if(e===2||e===3||e===4){i+="godine"}else{i+="godina"}return i}}var n=e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,i){var a=e,r;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return a+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return a+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return a+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return a+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return a+(i||t?" v":" ve")}return""}function i(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}var a=e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return e.charAt(1).toLowerCase()==="u"},meridiem:function(e,t,n){if(e<12){return n===true?"de":"DE"}else{return n===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,false)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":if(e===1){return e+"-"}return e+"-";default:return e}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="siang"){return e>=11?e:e+12}else if(t==="sore"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"siang"}else if(e<19){return"sore"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e){if(e%100===11){return true}else if(e%10===1){return false}return true}function n(e,n,i,a){var r=e+" ";switch(i){case"s":return n||a?"nokkrar sekndur":"nokkrum sekndum";case"m":return n?"mnta":"mntu";case"mm":if(t(e)){return r+(n||a?"mntur":"mntum")}else if(n){return r+"mnta"}return r+"mntu";case"hh":if(t(e)){return r+(n||a?"klukkustundir":"klukkustundum")}return r+"klukkustund";case"d":if(n){return"dagur"}return a?"dag":"degi";case"dd":if(t(e)){if(n){return r+"dagar"}return r+(a?"daga":"dgum")}else if(n){return r+"dagur"}return r+(a?"dag":"degi");case"M":if(n){return"mnuur"}return a?"mnu":"mnui";case"MM":if(t(e)){if(n){return r+"mnuir"}return r+(a?"mnui":"mnuum")}else if(n){return r+"mnuur"}return r+(a?"mnu":"mnui");case"y":return n||a?"r":"ri";case"yy":if(t(e)){return r+(n||a?"r":"rum")}return r+(n||a?"r":"ri")}}var i=e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD HH:mm dddd"},meridiemParse:/|/i,isPM:function(e){return e===""},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="enjing"){return e}else if(t==="siyang"){return e>=11?e:e+12}else if(t==="sonten"||t==="ndalu"){return e+12}},meridiem:function(e,t,n){if(e<11){return"enjing"}else if(e<15){return"siyang"}else if(e<19){return"sonten"}else{return"ndalu"}},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){if(/(||||)/.test(e)){return e.replace(/(|)$/," ")}if(//.test(e)){return e.replace(/$/," ")}},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){if(e===0){return e}if(e===1){return e+"-"}if(e<20||e<=100&&e%20===0||e%100===0){return"-"+e}return e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};var n=e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return e===""},meridiem:function(e,t,n){return e<12?"":""}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};var n=e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?a[n][0]:a[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));if(a(t)){return"a "+e}return"an "+e}function i(e){var t=e.substr(0,e.indexOf(" "));if(a(t)){return"viru "+e}return"virun "+e}function a(e){e=parseInt(e,10);if(isNaN(e)){return false}if(e<0){return true}else if(e<10){if(4<=e&&e<=7){return true}return false}else if(e<100){var t=e%10,n=e/10;if(t===0){return a(n)}return a(t)}else if(e<1e4){while(e>=10){e=e/10}return a(e)}else{e=e/1e3;return a(e)}}var r=e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return e===""},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,i){if(t){return"kelios sekunds"}else{return i?"keli sekundi":"kelias sekundes"}}function i(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function a(e){return e%10===0||e>10&&e<20}function r(e){return t[e].split("_")}function s(e,t,n,s){var o=e+" ";if(e===1){return o+i(e,t,n[0],s)}else if(t){return o+(a(e)?r(n)[1]:r(n)[0])}else{if(s){return o+r(n)[1]}else{return o+(a(e)?r(n)[1]:r(n)[2])}}}var o=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:n,m:i,mm:s,h:i,hh:s,d:i,dd:s,M:i,MM:s,y:i,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return o})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){if(n){return t%10===1&&t%100!==11?e[2]:e[3]}else{return t%10===1&&t%100!==11?e[0]:e[1]}}function i(e,i,a){return e+" "+n(t[a],e,i)}function a(e,i,a){return n(t[a],e,i)}function r(e,t){return t?"daas sekundes":"dam sekundm"}var s=e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:r,m:a,mm:i,h:a,hh:i,d:a,dd:i,M:a,MM:i,y:a,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];if(i.length===1){return n?a[0]:a[1]}else{return e+" "+t.correctGrammaticalCase(e,a)}}};var n=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;if(e===0){return e+"-"}else if(n===0){return e+"-"}else if(n>10&&n<20){return e+"-"}else if(t===1){return e+"-"}else if(t===2){return e+"-"}else if(t===7||t===8){return e+"-"}else{return e+"-"}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){if(e===12){e=0}if(t===""&&e>=4||t===" "||t===""){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return""}else if(e<12){return""}else if(e<17){return" "}else if(e<20){return""}else{return""}}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(e,t,n,i){var a="";if(t){switch(n){case"s":a=" ";break;case"m":a=" ";break;case"mm":a="%d ";break;case"h":a=" ";break;case"hh":a="%d ";break;case"d":a=" ";break;case"dd":a="%d ";break;case"M":a=" ";break;case"MM":a="%d ";break;case"y":a=" ";break;case"yy":a="%d ";break}}else{switch(n){case"s":a=" ";break;case"m":a=" ";break;case"mm":a="%d ";break;case"h":a=" ";break;case"hh":a="%d ";break;case"d":a=" ";break;case"dd":a="%d ";break;case"M":a=" ";break;case"MM":a="%d ";break;case"y":a=" ";break;case"yy":a="%d ";break}}return a.replace(/%d/i,e)}var a=e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:true,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function(e,t,n){if(e<3){return""}else if(e<12){return""}else if(e<16){return""}else if(e<20){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_");var n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i];var a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;var r=e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_");var n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i];var a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;var r=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_");var n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function a(e,t,n){var a=e+" ";switch(n){case"m":return t?"minuta":"minut";case"mm":return a+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return a+(i(e)?"godziny":"godzin");case"MM":return a+(i(e)?"miesice":"miesicy");case"yy":return a+(i(e)?"lata":"lat")}}var r=e.defineLocale("pl",{months:function(e,i){if(!e){return t}else if(i===""){return"("+n[e.month()]+"|"+t[e.month()]+")"}else if(/D MMMM/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";if(e%100>=20||e>=100&&e%100===0){a=" de "}return e+a+i[n]}var n=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:true,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(i==="m"){return n?"":""}else{return e+" "+t(a[i],+e)}}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];var a=e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}}else{if(this.day()===2){return"[] dddd [] LT"}else{return"[] dddd [] LT"}}},lastWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}}else{if(this.day()===2){return"[] dddd [] LT"}else{return"[] dddd [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["","","","","","","","","","","",""];var n=["","","","","","",""];var i=e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){if(e<12){return""}return""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return e===".."||e===" "},meridiem:function(e,t,n){if(e>11){return n?"..":" "}else{return n?"..":" "}}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_");var n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function a(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"pr seknd":"pr sekundami";case"m":return t?"minta":a?"mintu":"mintou";case"mm":if(t||a){return r+(i(e)?"minty":"mint")}else{return r+"mintami"}break;case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":if(t||a){return r+(i(e)?"hodiny":"hodn")}else{return r+"hodinami"}break;case"d":return t||a?"de":"dom";case"dd":if(t||a){return r+(i(e)?"dni":"dn")}else{return r+"dami"}break;case"M":return t||a?"mesiac":"mesiacom";case"MM":if(t||a){return r+(i(e)?"mesiace":"mesiacov")}else{return r+"mesiacmi"}break;case"y":return t||a?"rok":"rokom";case"yy":if(t||a){return r+(i(e)?"roky":"rokov")}else{return r+"rokmi"}break}}var r=e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":if(e===1){a+=t?"minuta":"minuto"}else if(e===2){a+=t||i?"minuti":"minutama"}else if(e<5){a+=t||i?"minute":"minutami"}else{a+=t||i?"minut":"minutami"}return a;case"h":return t?"ena ura":"eno uro";case"hh":if(e===1){a+=t?"ura":"uro"}else if(e===2){a+=t||i?"uri":"urama"}else if(e<5){a+=t||i?"ure":"urami"}else{a+=t||i?"ur":"urami"}return a;case"d":return t||i?"en dan":"enim dnem";case"dd":if(e===1){a+=t||i?"dan":"dnem"}else if(e===2){a+=t||i?"dni":"dnevoma"}else{a+=t||i?"dni":"dnevi"}return a;case"M":return t||i?"en mesec":"enim mesecem";case"MM":if(e===1){a+=t||i?"mesec":"mesecem"}else if(e===2){a+=t||i?"meseca":"mesecema"}else if(e<5){a+=t||i?"mesece":"meseci"}else{a+=t||i?"mesecev":"meseci"}return a;case"y":return t||i?"eno leto":"enim letom";case"yy":if(e===1){a+=t||i?"leto":"letom"}else if(e===2){a+=t||i?"leti":"letoma"}else if(e<5){a+=t||i?"leta":"leti"}else{a+=t||i?"let":"leti"}return a}}var n=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:true,meridiemParse:/PD|MD/,isPM:function(e){return e.charAt(0)==="M"},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];if(i.length===1){return n?a[0]:a[1]}else{return e+" "+t.correctGrammaticalCase(e,a)}}};var n=e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];if(i.length===1){return n?a[0]:a[1]}else{return e+" "+t.correctGrammaticalCase(e,a)}}};var n=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){if(e<11){return"ekuseni"}else if(e<15){return"emini"}else if(e<19){return"entsambama"}else{return"ebusuku"}},meridiemHour:function(e,t){if(e===12){e=0}if(t==="ekuseni"){return e}else if(t==="emini"){return e>=11?e:e+12}else if(t==="entsambama"||t==="ebusuku"){if(e===0){return 0}return e+12}},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"e":t===1?"a":t===2?"a":t===3?"e":"e";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};var n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var i=e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){if(e<2){return" "}else if(e<6){return" "}else if(e<10){return" "}else if(e<14){return" "}else if(e<18){return" "}else if(e<22){return" "}else{return" "}},meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<2?e:e+12}else if(t===""||t===""){return e}else if(t===""){return e>=10?e:e+12}else{return e+12}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function(e,t,n){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return e===""},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"leS":e.indexOf("jar")!==-1?t.slice(0,-3)+"waQ":e.indexOf("DIS")!==-1?t.slice(0,-3)+"nem":t+" pIq";return t}function i(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"Hu":e.indexOf("jar")!==-1?t.slice(0,-3)+"wen":e.indexOf("DIS")!==-1?t.slice(0,-3)+"ben":t+" ret";return t}function a(e,t,n,i){var a=r(e);switch(n){case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}function r(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),a=e%10,r="";if(n>0){r+=t[n]+"vatlh"}if(i>0){r+=(r!==""?" ":"")+t[i]+"maH"}if(a>0){r+=(r!==""?" ":"")+t[a]}return r===""?"pagh":r}var s=e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:true,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:i,s:"puS lup",m:"wa tup",mm:a,h:"wa rep",hh:a,d:"wa jaj",dd:a,M:"wa jar",MM:a,y:"wa DIS",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};var n=e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(e===0){return e+"'nc"}var n=e%10,i=e%100-n,a=e>=100?100:null;return e+(t[n]||t[i]||t[a])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){if(e>11){return n?"d'o":"D'O"}else{return n?"d'a":"D'A"}},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function n(e,t,n,i){var a={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",""+e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",""+e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",""+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",""+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",""+e+" ars"]};return i?a[n][0]:t?a[n][0]:a[n][1]}return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};if(i==="m"){return n?"":""}else if(i==="h"){return n?"":""}else{return e+" "+t(a[i],+e)}}function i(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};if(!e){return n["nominative"]}var i=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]}function a(e){return function(){return e+""+(this.hours()===11?"":"")+"] LT"}}var r=e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:a("[ "),nextDay:a("[ "),lastDay:a("[ "),nextWeek:a("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[] dddd [").call(this);case 1:case 2:case 4:return a("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["","","","","","","","","","","",""];var n=["","","","","","",""];var i=e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){if(e<12){return""}return""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:true,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:true,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){if(e<12){return n?"sa":"SA"}else{return n?"ch":"CH"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:true,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""||t===""){return e+12}else{return e>=11?e:e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return""}else if(i<900){return""}else if(i<1130){return""}else if(i<1230){return""}else if(i<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""){return e>=11?e:e+12}else if(t===""||t===""){return e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return""}else if(i<900){return""}else if(i<1130){return""}else if(i<1230){return""}else if(i<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""){return e>=11?e:e+12}else if(t===""||t===""){return e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return""}else if(i<900){return""}else if(i<1130){return""}else if(i<1230){return""}else if(i<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,n){var i={};var a=function(e){var t;return function(){if(typeof t==="undefined")t=e.apply(this,arguments);return t}};var r=a(function(){return window&&document&&document.all&&!window.atob});var s=function(e){var t={};return function(n){if(typeof t[n]==="undefined"){var i=e.call(this,n);if(i instanceof window.HTMLIFrameElement){try{i=i.contentDocument.head}catch(e){i=null}}t[n]=i}return t[n]}}(function(e){return document.querySelector(e)});var o=null;var l=0;var c=[];var u=n(617);e.exports=function(e,t){if(typeof DEBUG!=="undefined"&&DEBUG){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}t=t||{};t.attrs=typeof t.attrs==="object"?t.attrs:{};if(!t.singleton)t.singleton=r();if(!t.insertInto)t.insertInto="head";if(!t.insertAt)t.insertAt="bottom";var n=f(e,t);d(n,t);return function e(a){var r=[];for(var s=0;s<n.length;s++){var o=n[s];var l=i[o.id];l.refs--;r.push(l)}if(a){var c=f(a,t);d(c,t)}for(var s=0;s<r.length;s++){var l=r[s];if(l.refs===0){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete i[l.id]}}}};function d(e,t){for(var n=0;n<e.length;n++){var a=e[n];var r=i[a.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++){r.parts[s](a.parts[s])}for(;s<a.parts.length;s++){r.parts.push(v(a.parts[s],t))}}else{var o=[];for(var s=0;s<a.parts.length;s++){o.push(v(a.parts[s],t))}i[a.id]={id:a.id,refs:1,parts:o}}}}function f(e,t){var n=[];var i={};for(var a=0;a<e.length;a++){var r=e[a];var s=t.base?r[0]+t.base:r[0];var o=r[1];var l=r[2];var c=r[3];var u={css:o,media:l,sourceMap:c};if(!i[s])n.push(i[s]={id:s,parts:[u]});else i[s].parts.push(u)}return n}function p(e,t){var n=s(e.insertInto);if(!n){throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.")}var i=c[c.length-1];if(e.insertAt==="top"){if(!i){n.insertBefore(t,n.firstChild)}else if(i.nextSibling){n.insertBefore(t,i.nextSibling)}else{n.appendChild(t)}c.push(t)}else if(e.insertAt==="bottom"){n.appendChild(t)}else if(typeof e.insertAt==="object"&&e.insertAt.before){var a=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,a)}else{throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n")}}function h(e){if(e.parentNode===null)return false;e.parentNode.removeChild(e);var t=c.indexOf(e);if(t>=0){c.splice(t,1)}}function m(e){var t=document.createElement("style");e.attrs.type="text/css";g(t,e.attrs);p(e,t);return t}function _(e){var t=document.createElement("link");e.attrs.type="text/css";e.attrs.rel="stylesheet";g(t,e.attrs);p(e,t);return t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function v(e,t){var n,i,a,r;if(t.transform&&e.css){r=t.transform(e.css);if(r){e.css=r}else{return function(){}}}if(t.singleton){var s=l++;n=o||(o=m(t));i=y.bind(null,n,s,false);a=y.bind(null,n,s,true)}else if(e.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){n=_(t);i=w.bind(null,n,t);a=function(){h(n);if(n.href)URL.revokeObjectURL(n.href)}}else{n=m(t);i=x.bind(null,n);a=function(){h(n)}}i(e);return function t(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap){return}i(e=n)}else{a()}}}var b=function(){var e=[];return function(t,n){e[t]=n;return e.filter(Boolean).join("\n")}}();function y(e,t,n,i){var a=n?"":i.css;if(e.styleSheet){e.styleSheet.cssText=b(t,a)}else{var r=document.createTextNode(a);var s=e.childNodes;if(s[t])e.removeChild(s[t]);if(s.length){e.insertBefore(r,s[t])}else{e.appendChild(r)}}}function x(e,t){var n=t.css;var i=t.media;if(i){e.setAttribute("media",i)}if(e.styleSheet){e.styleSheet.cssText=n}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(n))}}function w(e,t,n){var i=n.css;var a=n.sourceMap;var r=t.convertToAbsoluteUrls===undefined&&a;if(t.convertToAbsoluteUrls||r){i=u(i)}if(a){i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}var s=new Blob([i],{type:"text/css"});var o=e.href;e.href=URL.createObjectURL(s);if(o)URL.revokeObjectURL(o)}},function(e,t,n){var i=Function.prototype.apply;t.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function a(e,t){this._id=e;this._clearFn=t}a.prototype.unref=a.prototype.ref=function(){};a.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};n(614);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(e,t,n){var i,a;(function(){var n=this;var r=n._;var s=Array.prototype,o=Object.prototype,l=Function.prototype;var c=s.push,u=s.slice,d=o.toString,f=o.hasOwnProperty;var p=Array.isArray,h=Object.keys,m=l.bind,_=Object.create;var g=function(){};var v=function(e){if(e instanceof v)return e;if(!(this instanceof v))return new v(e);this._wrapped=e};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=v}t._=v}else{n._=v}v.VERSION="1.8.3";var b=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)}}return function(){return e.apply(t,arguments)}};var y=function(e,t,n){if(e==null)return v.identity;if(v.isFunction(e))return b(e,t,n);if(v.isObject(e))return v.matcher(e);return v.property(e)};v.iteratee=function(e,t){return y(e,t,Infinity)};var x=function(e,t){return function(n){var i=arguments.length;if(i<2||n==null)return n;for(var a=1;a<i;a++){var r=arguments[a],s=e(r),o=s.length;for(var l=0;l<o;l++){var c=s[l];if(!t||n[c]===void 0)n[c]=r[c]}}return n}};var w=function(e){if(!v.isObject(e))return{};if(_)return _(e);g.prototype=e;var t=new g;g.prototype=null;return t};var S=function(e){return function(t){return t==null?void 0:t[e]}};var L=Math.pow(2,53)-1;var E=S("length");var k=function(e){var t=E(e);return typeof t=="number"&&t>=0&&t<=L};v.each=v.forEach=function(e,t,n){t=b(t,n);var i,a;if(k(e)){for(i=0,a=e.length;i<a;i++){t(e[i],i,e)}}else{var r=v.keys(e);for(i=0,a=r.length;i<a;i++){t(e[r[i]],r[i],e)}}return e};v.map=v.collect=function(e,t,n){t=y(t,n);var i=!k(e)&&v.keys(e),a=(i||e).length,r=Array(a);for(var s=0;s<a;s++){var o=i?i[s]:s;r[s]=t(e[o],o,e)}return r};function M(e){function t(t,n,i,a,r,s){for(;r>=0&&r<s;r+=e){var o=a?a[r]:r;i=n(i,t[o],o,t)}return i}return function(n,i,a,r){i=b(i,r,4);var s=!k(n)&&v.keys(n),o=(s||n).length,l=e>0?0:o-1;if(arguments.length<3){a=n[s?s[l]:l];l+=e}return t(n,i,a,s,l,o)}}v.reduce=v.foldl=v.inject=M(1);v.reduceRight=v.foldr=M(-1);v.find=v.detect=function(e,t,n){var i;if(k(e)){i=v.findIndex(e,t,n)}else{i=v.findKey(e,t,n)}if(i!==void 0&&i!==-1)return e[i]};v.filter=v.select=function(e,t,n){var i=[];t=y(t,n);v.each(e,function(e,n,a){if(t(e,n,a))i.push(e)});return i};v.reject=function(e,t,n){return v.filter(e,v.negate(y(t)),n)};v.every=v.all=function(e,t,n){t=y(t,n);var i=!k(e)&&v.keys(e),a=(i||e).length;for(var r=0;r<a;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return false}return true};v.some=v.any=function(e,t,n){t=y(t,n);var i=!k(e)&&v.keys(e),a=(i||e).length;for(var r=0;r<a;r++){var s=i?i[r]:r;if(t(e[s],s,e))return true}return false};v.contains=v.includes=v.include=function(e,t,n,i){if(!k(e))e=v.values(e);if(typeof n!="number"||i)n=0;return v.indexOf(e,t,n)>=0};v.invoke=function(e,t){var n=u.call(arguments,2);var i=v.isFunction(t);return v.map(e,function(e){var a=i?t:e[t];return a==null?a:a.apply(e,n)})};v.pluck=function(e,t){return v.map(e,v.property(t))};v.where=function(e,t){return v.filter(e,v.matcher(t))};v.findWhere=function(e,t){return v.find(e,v.matcher(t))};v.max=function(e,t,n){var i=-Infinity,a=-Infinity,r,s;if(t==null&&e!=null){e=k(e)?e:v.values(e);for(var o=0,l=e.length;o<l;o++){r=e[o];if(r>i){i=r}}}else{t=y(t,n);v.each(e,function(e,n,r){s=t(e,n,r);if(s>a||s===-Infinity&&i===-Infinity){i=e;a=s}})}return i};v.min=function(e,t,n){var i=Infinity,a=Infinity,r,s;if(t==null&&e!=null){e=k(e)?e:v.values(e);for(var o=0,l=e.length;o<l;o++){r=e[o];if(r<i){i=r}}}else{t=y(t,n);v.each(e,function(e,n,r){s=t(e,n,r);if(s<a||s===Infinity&&i===Infinity){i=e;a=s}})}return i};v.shuffle=function(e){var t=k(e)?e:v.values(e);var n=t.length;var i=Array(n);for(var a=0,r;a<n;a++){r=v.random(0,a);if(r!==a)i[a]=i[r];i[r]=t[a]}return i};v.sample=function(e,t,n){if(t==null||n){if(!k(e))e=v.values(e);return e[v.random(e.length-1)]}return v.shuffle(e).slice(0,Math.max(0,t))};v.sortBy=function(e,t,n){t=y(t,n);return v.pluck(v.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria;var i=t.criteria;if(n!==i){if(n>i||n===void 0)return 1;if(n<i||i===void 0)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,i){var a={};n=y(n,i);v.each(t,function(i,r){var s=n(i,r,t);e(a,i,s)});return a}};v.groupBy=T(function(e,t,n){if(v.has(e,n))e[n].push(t);else e[n]=[t]});v.indexBy=T(function(e,t,n){e[n]=t});v.countBy=T(function(e,t,n){if(v.has(e,n))e[n]++;else e[n]=1});v.toArray=function(e){if(!e)return[];if(v.isArray(e))return u.call(e);if(k(e))return v.map(e,v.identity);return v.values(e)};v.size=function(e){if(e==null)return 0;return k(e)?e.length:v.keys(e).length};v.partition=function(e,t,n){t=y(t,n);var i=[],a=[];v.each(e,function(e,n,r){(t(e,n,r)?i:a).push(e)});return[i,a]};v.first=v.head=v.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];return v.initial(e,e.length-t)};v.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))};v.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return v.rest(e,Math.max(0,e.length-t))};v.rest=v.tail=v.drop=function(e,t,n){return u.call(e,t==null||n?1:t)};v.compact=function(e){return v.filter(e,v.identity)};var A=function(e,t,n,i){var a=[],r=0;for(var s=i||0,o=E(e);s<o;s++){var l=e[s];if(k(l)&&(v.isArray(l)||v.isArguments(l))){if(!t)l=A(l,t,n);var c=0,u=l.length;a.length+=u;while(c<u){a[r++]=l[c++]}}else if(!n){a[r++]=l}}return a};v.flatten=function(e,t){return A(e,t,false)};v.without=function(e){return v.difference(e,u.call(arguments,1))};v.uniq=v.unique=function(e,t,n,i){if(!v.isBoolean(t)){i=n;n=t;t=false}if(n!=null)n=y(n,i);var a=[];var r=[];for(var s=0,o=E(e);s<o;s++){var l=e[s],c=n?n(l,s,e):l;if(t){if(!s||r!==c)a.push(l);r=c}else if(n){if(!v.contains(r,c)){r.push(c);a.push(l)}}else if(!v.contains(a,l)){a.push(l)}}return a};v.union=function(){return v.uniq(A(arguments,true,true))};v.intersection=function(e){var t=[];var n=arguments.length;for(var i=0,a=E(e);i<a;i++){var r=e[i];if(v.contains(t,r))continue;for(var s=1;s<n;s++){if(!v.contains(arguments[s],r))break}if(s===n)t.push(r)}return t};v.difference=function(e){var t=A(arguments,true,true,1);return v.filter(e,function(e){return!v.contains(t,e)})};v.zip=function(){return v.unzip(arguments)};v.unzip=function(e){var t=e&&v.max(e,E).length||0;var n=Array(t);for(var i=0;i<t;i++){n[i]=v.pluck(e,i)}return n};v.object=function(e,t){var n={};for(var i=0,a=E(e);i<a;i++){if(t){n[e[i]]=t[i]}else{n[e[i][0]]=e[i][1]}}return n};function C(e){return function(t,n,i){n=y(n,i);var a=E(t);var r=e>0?0:a-1;for(;r>=0&&r<a;r+=e){if(n(t[r],r,t))return r}return-1}}v.findIndex=C(1);v.findLastIndex=C(-1);v.sortedIndex=function(e,t,n,i){n=y(n,i,1);var a=n(t);var r=0,s=E(e);while(r<s){var o=Math.floor((r+s)/2);if(n(e[o])<a)r=o+1;else s=o}return r};function D(e,t,n){return function(i,a,r){var s=0,o=E(i);if(typeof r=="number"){if(e>0){s=r>=0?r:Math.max(r+o,s)}else{o=r>=0?Math.min(r+1,o):r+o+1}}else if(n&&r&&o){r=n(i,a);return i[r]===a?r:-1}if(a!==a){r=t(u.call(i,s,o),v.isNaN);return r>=0?r+s:-1}for(r=e>0?s:o-1;r>=0&&r<o;r+=e){if(i[r]===a)return r}return-1}}v.indexOf=D(1,v.findIndex,v.sortedIndex);v.lastIndexOf=D(-1,v.findLastIndex);v.range=function(e,t,n){if(t==null){t=e||0;e=0}n=n||1;var i=Math.max(Math.ceil((t-e)/n),0);var a=Array(i);for(var r=0;r<i;r++,e+=n){a[r]=e}return a};var R=function(e,t,n,i,a){if(!(i instanceof t))return e.apply(n,a);var r=w(e.prototype);var s=e.apply(r,a);if(v.isObject(s))return s;return r};v.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,u.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2);var i=function(){return R(e,i,t,this,n.concat(u.call(arguments)))};return i};v.partial=function(e){var t=u.call(arguments,1);var n=function(){var i=0,a=t.length;var r=Array(a);for(var s=0;s<a;s++){r[s]=t[s]===v?arguments[i++]:t[s]}while(i<arguments.length)r.push(arguments[i++]);return R(e,n,this,this,r)};return n};v.bindAll=function(e){var t,n=arguments.length,i;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++){i=arguments[t];e[i]=v.bind(e[i],e)}return e};v.memoize=function(e,t){var n=function(i){var a=n.cache;var r=""+(t?t.apply(this,arguments):i);if(!v.has(a,r))a[r]=e.apply(this,arguments);return a[r]};n.cache={};return n};v.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};v.defer=v.partial(v.delay,v,1);v.throttle=function(e,t,n){var i,a,r;var s=null;var o=0;if(!n)n={};var l=function(){o=n.leading===false?0:v.now();s=null;r=e.apply(i,a);if(!s)i=a=null};return function(){var c=v.now();if(!o&&n.leading===false)o=c;var u=t-(c-o);i=this;a=arguments;if(u<=0||u>t){if(s){clearTimeout(s);s=null}o=c;r=e.apply(i,a);if(!s)i=a=null}else if(!s&&n.trailing!==false){s=setTimeout(l,u)}return r}};v.debounce=function(e,t,n){var i,a,r,s,o;var l=function(){var c=v.now()-s;if(c<t&&c>=0){i=setTimeout(l,t-c)}else{i=null;if(!n){o=e.apply(r,a);if(!i)r=a=null}}};return function(){r=this;a=arguments;s=v.now();var c=n&&!i;if(!i)i=setTimeout(l,t);if(c){o=e.apply(r,a);r=a=null}return o}};v.wrap=function(e,t){return v.partial(t,e)};v.negate=function(e){return function(){return!e.apply(this,arguments)}};v.compose=function(){var e=arguments;var t=e.length-1;return function(){var n=t;var i=e[t].apply(this,arguments);while(n--)i=e[n].call(this,i);return i}};v.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};v.before=function(e,t){var n;return function(){if(--e>0){n=t.apply(this,arguments)}if(e<=1)t=null;return n}};v.once=v.partial(v.before,2);var I=!{toString:null}.propertyIsEnumerable("toString");var O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function F(e,t){var n=O.length;var i=e.constructor;var a=v.isFunction(i)&&i.prototype||o;var r="constructor";if(v.has(e,r)&&!v.contains(t,r))t.push(r);while(n--){r=O[n];if(r in e&&e[r]!==a[r]&&!v.contains(t,r)){t.push(r)}}}v.keys=function(e){if(!v.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)if(v.has(e,n))t.push(n);if(I)F(e,t);return t};v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);if(I)F(e,t);return t};v.values=function(e){var t=v.keys(e);var n=t.length;var i=Array(n);for(var a=0;a<n;a++){i[a]=e[t[a]]}return i};v.mapObject=function(e,t,n){t=y(t,n);var i=v.keys(e),a=i.length,r={},s;for(var o=0;o<a;o++){s=i[o];r[s]=t(e[s],s,e)}return r};v.pairs=function(e){var t=v.keys(e);var n=t.length;var i=Array(n);for(var a=0;a<n;a++){i[a]=[t[a],e[t[a]]]}return i};v.invert=function(e){var t={};var n=v.keys(e);for(var i=0,a=n.length;i<a;i++){t[e[n[i]]]=n[i]}return t};v.functions=v.methods=function(e){var t=[];for(var n in e){if(v.isFunction(e[n]))t.push(n)}return t.sort()};v.extend=x(v.allKeys);v.extendOwn=v.assign=x(v.keys);v.findKey=function(e,t,n){t=y(t,n);var i=v.keys(e),a;for(var r=0,s=i.length;r<s;r++){a=i[r];if(t(e[a],a,e))return a}};v.pick=function(e,t,n){var i={},a=e,r,s;if(a==null)return i;if(v.isFunction(t)){s=v.allKeys(a);r=b(t,n)}else{s=A(arguments,false,false,1);r=function(e,t,n){return t in n};a=Object(a)}for(var o=0,l=s.length;o<l;o++){var c=s[o];var u=a[c];if(r(u,c,a))i[c]=u}return i};v.omit=function(e,t,n){if(v.isFunction(t)){t=v.negate(t)}else{var i=v.map(A(arguments,false,false,1),String);t=function(e,t){return!v.contains(i,t)}}return v.pick(e,t,n)};v.defaults=x(v.allKeys,true);v.create=function(e,t){var n=w(e);if(t)v.extendOwn(n,t);return n};v.clone=function(e){if(!v.isObject(e))return e;return v.isArray(e)?e.slice():v.extend({},e)};v.tap=function(e,t){t(e);return e};v.isMatch=function(e,t){var n=v.keys(t),i=n.length;if(e==null)return!i;var a=Object(e);for(var r=0;r<i;r++){var s=n[r];if(t[s]!==a[s]||!(s in a))return false}return true};var N=function(e,t,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;if(e instanceof v)e=e._wrapped;if(t instanceof v)t=t._wrapped;var a=d.call(e);if(a!==d.call(t))return false;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r=a==="[object Array]";if(!r){if(typeof e!="object"||typeof t!="object")return false;var s=e.constructor,o=t.constructor;if(s!==o&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(o)&&o instanceof o)&&("constructor"in e&&"constructor"in t)){return false}}n=n||[];i=i||[];var l=n.length;while(l--){if(n[l]===e)return i[l]===t}n.push(e);i.push(t);if(r){l=e.length;if(l!==t.length)return false;while(l--){if(!N(e[l],t[l],n,i))return false}}else{var c=v.keys(e),u;l=c.length;if(v.keys(t).length!==l)return false;while(l--){u=c[l];if(!(v.has(t,u)&&N(e[u],t[u],n,i)))return false}}n.pop();i.pop();return true};v.isEqual=function(e,t){return N(e,t)};v.isEmpty=function(e){if(e==null)return true;if(k(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e)))return e.length===0;return v.keys(e).length===0};v.isElement=function(e){return!!(e&&e.nodeType===1)};v.isArray=p||function(e){return d.call(e)==="[object Array]"};v.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}});if(!v.isArguments(arguments)){v.isArguments=function(e){return v.has(e,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){v.isFunction=function(e){return typeof e=="function"||false}}v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};v.isNaN=function(e){return v.isNumber(e)&&e!==+e};v.isBoolean=function(e){return e===true||e===false||d.call(e)==="[object Boolean]"};v.isNull=function(e){return e===null};v.isUndefined=function(e){return e===void 0};v.has=function(e,t){return e!=null&&f.call(e,t)};v.noConflict=function(){n._=r;return this};v.identity=function(e){return e};v.constant=function(e){return function(){return e}};v.noop=function(){};v.property=S;v.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}};v.matcher=v.matches=function(e){e=v.extendOwn({},e);return function(t){return v.isMatch(t,e)}};v.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var a=0;a<e;a++)i[a]=t(a);return i};v.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};v.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var P=v.invert(B);var U=function(e){var t=function(t){return e[t]};var n="(?:"+v.keys(e).join("|")+")";var i=RegExp(n);var a=RegExp(n,"g");return function(e){e=e==null?"":""+e;return i.test(e)?e.replace(a,t):e}};v.escape=U(B);v.unescape=U(P);v.result=function(e,t,n){var i=e==null?void 0:e[t];if(i===void 0){i=n}return v.isFunction(i)?i.call(e):i};var Y=0;v.uniqueId=function(e){var t=++Y+"";return e?e+t:t};v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/;var G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var V=/\\|'|\r|\n|\u2028|\u2029/g;var $=function(e){return"\\"+G[e]};v.template=function(e,t,n){if(!t&&n)t=n;t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g");var a=0;var r="__p+='";e.replace(i,function(t,n,i,s,o){r+=e.slice(a,o).replace(V,$);a=o+t.length;if(n){r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(i){r+="'+\n((__t=("+i+"))==null?'':__t)+\n'"}else if(s){r+="';\n"+s+"\n__p+='"}return t});r+="';\n";if(!t.variable)r="with(obj||{}){\n"+r+"}\n";r="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(t.variable||"obj","_",r)}catch(e){e.source=r;throw e}var o=function(e){return s.call(this,e,v)};var l=t.variable||"obj";o.source="function("+l+"){\n"+r+"}";return o};v.chain=function(e){var t=v(e);t._chain=true;return t};var j=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];c.apply(e,arguments);return j(this,n.apply(v,e))}})};v.mixin(v);v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];v.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e==="shift"||e==="splice")&&n.length===0)delete n[0];return j(this,n)}});v.each(["concat","join","slice"],function(e){var t=s[e];v.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}});v.prototype.value=function(){return this._wrapped};v.prototype.valueOf=v.prototype.toJSON=v.prototype.value;v.prototype.toString=function(){return""+this._wrapped};if(true){!(i=[],a=function(){return v}.apply(t,i),a!==undefined&&(e.exports=a))}}).call(this)},function(e,t){var n=function(){var e,t,n,i,a=[],r=a.slice,s=a.filter,o=window.document,l={},c={},u={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},d=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,h=/^(?:body|html)$/i,m=/([A-Z])/g,_=["val","css","html","text","data","width","height","offset"],g=["after","prepend","before","append"],v=o.createElement("table"),b=o.createElement("tr"),y={tr:o.createElement("tbody"),tbody:v,thead:v,tfoot:v,td:b,th:b,"*":o.createElement("div")},x=/complete|loaded|interactive/,w=/^[\w-]*$/,S={},L=S.toString,E={},k,M,T=o.createElement("div"),A={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C=Array.isArray||function(e){return e instanceof Array};E.matches=function(e,t){if(!t||!e||e.nodeType!==1)return false;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,a=e.parentNode,r=!a;if(r)(a=T).appendChild(e);i=~E.qsa(a,t).indexOf(e);r&&T.removeChild(e);return i};function D(e){return e==null?String(e):S[L.call(e)]||"object"}function R(e){return D(e)=="function"}function I(e){return e!=null&&e==e.window}function O(e){return e!=null&&e.nodeType==e.DOCUMENT_NODE}function F(e){return D(e)=="object"}function N(e){return F(e)&&!I(e)&&Object.getPrototypeOf(e)==Object.prototype}function B(e){return typeof e.length=="number"}function P(e){return s.call(e,function(e){return e!=null})}function U(e){return e.length>0?n.fn.concat.apply([],e):e}k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})};function Y(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}M=function(e){return s.call(e,function(t,n){return e.indexOf(t)==n})};function H(e){return e in c?c[e]:c[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function G(e,t){return typeof t=="number"&&!u[Y(e)]?t+"px":t}function V(e){var t,n;if(!l[e]){t=o.createElement(e);o.body.appendChild(t);n=getComputedStyle(t,"").getPropertyValue("display");t.parentNode.removeChild(t);n=="none"&&(n="block");l[e]=n}return l[e]}function $(e){return"children"in e?r.call(e.children):n.map(e.childNodes,function(e){if(e.nodeType==1)return e})}E.fragment=function(t,i,a){var s,l,c;if(f.test(t))s=n(o.createElement(RegExp.$1));if(!s){if(t.replace)t=t.replace(p,"<$1></$2>");if(i===e)i=d.test(t)&&RegExp.$1;if(!(i in y))i="*";c=y[i];c.innerHTML=""+t;s=n.each(r.call(c.childNodes),function(){c.removeChild(this)})}if(N(a)){l=n(s);n.each(a,function(e,t){if(_.indexOf(e)>-1)l[e](t);else l.attr(e,t)})}return s};E.Z=function(e,t){e=e||[];e.__proto__=n.fn;e.selector=t||"";return e};E.isZ=function(e){return e instanceof E.Z};E.init=function(t,i){var a;if(!t)return E.Z();else if(typeof t=="string"){t=t.trim();if(t[0]=="<"&&d.test(t))a=E.fragment(t,RegExp.$1,i),t=null;else if(i!==e)return n(i).find(t);else a=E.qsa(o,t)}else if(R(t))return n(o).ready(t);else if(E.isZ(t))return t;else{if(C(t))a=P(t);else if(F(t))a=[t],t=null;else if(d.test(t))a=E.fragment(t.trim(),RegExp.$1,i),t=null;else if(i!==e)return n(i).find(t);else a=E.qsa(o,t)}return E.Z(a,t)};n=function(e,t){return E.init(e,t)};function j(n,i,a){for(t in i)if(a&&(N(i[t])||C(i[t]))){if(N(i[t])&&!N(n[t]))n[t]={};if(C(i[t])&&!C(n[t]))n[t]=[];j(n[t],i[t],a)}else if(i[t]!==e)n[t]=i[t]}n.extend=function(e){var t,n=r.call(arguments,1);if(typeof e=="boolean"){t=e;e=n.shift()}n.forEach(function(n){j(e,n,t)});return e};E.qsa=function(e,t){var n,i=t[0]=="#",a=!i&&t[0]==".",s=i||a?t.slice(1):t,o=w.test(s);return O(e)&&o&&i?(n=e.getElementById(s))?[n]:[]:e.nodeType!==1&&e.nodeType!==9?[]:r.call(o&&!i?a?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))};function z(e,t){return t==null?n(e):n(e).filter(t)}n.contains=o.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t&&(t=t.parentNode))if(t===e)return true;return false};function q(e,t,n,i){return R(t)?t.call(e,n,i):t}function W(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function K(t,n){var i=t.className||"",a=i&&i.baseVal!==e;if(n===e)return a?i.baseVal:i;a?i.baseVal=n:t.className=n}function J(e){try{return e?e=="true"||(e=="false"?false:e=="null"?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}n.type=D;n.isFunction=R;n.isWindow=I;n.isArray=C;n.isPlainObject=N;n.isEmptyObject=function(e){var t;for(t in e)return false;return true};n.inArray=function(e,t,n){return a.indexOf.call(t,e,n)};n.camelCase=k;n.trim=function(e){return e==null?"":String.prototype.trim.call(e)};n.uuid=0;n.support={};n.expr={};n.map=function(e,t){var n,i=[],a,r;if(B(e))for(a=0;a<e.length;a++){n=t(e[a],a);if(n!=null)i.push(n)}else for(r in e){n=t(e[r],r);if(n!=null)i.push(n)}return U(i)};n.each=function(e,t){var n,i;if(B(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===false)return e}else{for(i in e)if(t.call(e[i],i,e[i])===false)return e}return e};n.grep=function(e,t){return s.call(e,t)};if(window.JSON)n.parseJSON=JSON.parse;n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){S["[object "+t+"]"]=t.toLowerCase()});n.fn={forEach:a.forEach,reduce:a.reduce,push:a.push,sort:a.sort,indexOf:a.indexOf,concat:a.concat,map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(r.apply(this,arguments))},ready:function(e){if(x.test(o.readyState)&&o.body)e(n);else o.addEventListener("DOMContentLoaded",function(){e(n)},false);return this},get:function(t){return t===e?r.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null)this.parentNode.removeChild(this)})},each:function(e){a.every.call(this,function(t,n){return e.call(t,n,t)!==false});return this},filter:function(e){if(R(e))return this.not(this.not(e));return n(s.call(this,function(t){return E.matches(t,e)}))},add:function(e,t){return n(M(this.concat(n(e,t))))},is:function(e){return this.length>0&&E.matches(this[0],e)},not:function(t){var i=[];if(R(t)&&t.call!==e)this.each(function(e){if(!t.call(this,e))i.push(this)});else{var a=typeof t=="string"?this.filter(t):B(t)&&R(t.item)?r.call(t):n(t);this.forEach(function(e){if(a.indexOf(e)<0)i.push(e)})}return n(i)},has:function(e){return this.filter(function(){return F(e)?n.contains(this,e):n(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!F(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!F(e)?e:n(e)},find:function(e){var t,i=this;if(!e)t=n();else if(typeof e=="object")t=n(e).filter(function(){var e=this;return a.some.call(i,function(t){return n.contains(t,e)})});else if(this.length==1)t=n(E.qsa(this[0],e));else t=this.map(function(){return E.qsa(this,e)});return t},closest:function(e,t){var i=this[0],a=false;if(typeof e=="object")a=n(e);while(i&&!(a?a.indexOf(i)>=0:E.matches(i,e)))i=i!==t&&!O(i)&&i.parentNode;return n(i)},parents:function(e){var t=[],i=this;while(i.length>0)i=n.map(i,function(e){if((e=e.parentNode)&&!O(e)&&t.indexOf(e)<0){t.push(e);return e}});return z(t,e)},parent:function(e){return z(M(this.pluck("parentNode")),e)},children:function(e){return z(this.map(function(){return $(this)}),e)},contents:function(){return this.map(function(){return r.call(this.childNodes)})},siblings:function(e){return z(this.map(function(e,t){return s.call($(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none")this.style.display=V(this.nodeName)})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=R(e);if(this[0]&&!t)var i=n(e).get(0),a=i.parentNode||this.length>1;return this.each(function(r){n(this).wrapAll(t?e.call(this,r):a?i.cloneNode(true):i)})},wrapAll:function(e){if(this[0]){n(this[0]).before(e=n(e));var t;while((t=e.children()).length)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=R(e);return this.each(function(i){var a=n(this),r=a.contents(),s=t?e.call(this,i):e;r.length?r.wrapAll(s):a.append(s)})},unwrap:function(){this.parent().each(function(){n(this).replaceWith(n(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var i=n(this);(t===e?i.css("display")=="none":t)?i.show():i.hide()})},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var i=this.innerHTML;n(this).empty().append(q(this,e,t,i))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=q(this,e,t,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this[0].textContent:null},attr:function(n,i){var a;return typeof n=="string"&&!(1 in arguments)?!this.length||this[0].nodeType!==1?e:!(a=this[0].getAttribute(n))&&n in this[0]?this[0][n]:a:this.each(function(e){if(this.nodeType!==1)return;if(F(n))for(t in n)W(this,t,n[t]);else W(this,n,q(this,i,e,this.getAttribute(n)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&e.split(" ").forEach(function(e){W(this,e)},this)})},prop:function(e,t){e=A[e]||e;return 1 in arguments?this.each(function(n){this[e]=q(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(t,n){var i="data-"+t.replace(m,"-$1").toLowerCase();var a=1 in arguments?this.attr(i,n):this.attr(i);return a!==null?J(a):e},val:function(e){return 0 in arguments?this.each(function(t){this.value=q(this,e,t,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var i=n(this),a=q(this,e,t,i.offset()),r=i.offsetParent().offset(),s={top:a.top-r.top,left:a.left-r.left};if(i.css("position")=="static")s["position"]="relative";i.css(s)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,i){if(arguments.length<2){var a,r=this[0];if(!r)return;a=getComputedStyle(r,"");if(typeof e=="string")return r.style[k(e)]||a.getPropertyValue(e);else if(C(e)){var s={};n.each(e,function(e,t){s[t]=r.style[k(t)]||a.getPropertyValue(t)});return s}}var o="";if(D(e)=="string"){if(!i&&i!==0)this.each(function(){this.style.removeProperty(Y(e))});else o=Y(e)+":"+G(e,i)}else{for(t in e)if(!e[t]&&e[t]!==0)this.each(function(){this.style.removeProperty(Y(t))});else o+=Y(t)+":"+G(t,e[t])+";"}return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){if(!e)return false;return a.some.call(this,function(e){return this.test(K(e))},H(e))},addClass:function(e){if(!e)return this;return this.each(function(t){if(!("className"in this))return;i=[];var a=K(this),r=q(this,e,t,a);r.split(/\s+/g).forEach(function(e){if(!n(this).hasClass(e))i.push(e)},this);i.length&&K(this,a+(a?" ":"")+i.join(" "))})},removeClass:function(t){return this.each(function(n){if(!("className"in this))return;if(t===e)return K(this,"");i=K(this);q(this,t,n,i).split(/\s+/g).forEach(function(e){i=i.replace(H(e)," ")});K(this,i.trim())})},toggleClass:function(t,i){if(!t)return this;return this.each(function(a){var r=n(this),s=q(this,t,a,K(this));s.split(/\s+/g).forEach(function(t){(i===e?!r.hasClass(t):i)?r.addClass(t):r.removeClass(t)})})},scrollTop:function(t){if(!this.length)return;var n="scrollTop"in this[0];if(t===e)return n?this[0].scrollTop:this[0].pageYOffset;return this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})},scrollLeft:function(t){if(!this.length)return;var n="scrollLeft"in this[0];if(t===e)return n?this[0].scrollLeft:this[0].pageXOffset;return this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})},position:function(){if(!this.length)return;var e=this[0],t=this.offsetParent(),i=this.offset(),a=h.test(t[0].nodeName)?{top:0,left:0}:t.offset();i.top-=parseFloat(n(e).css("margin-top"))||0;i.left-=parseFloat(n(e).css("margin-left"))||0;a.top+=parseFloat(n(t[0]).css("border-top-width"))||0;a.left+=parseFloat(n(t[0]).css("border-left-width"))||0;return{top:i.top-a.top,left:i.left-a.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.body;while(e&&!h.test(e.nodeName)&&n(e).css("position")=="static")e=e.offsetParent;return e})}};n.fn.detach=n.fn.remove;["width","height"].forEach(function(t){var i=t.replace(/./,function(e){return e[0].toUpperCase()});n.fn[t]=function(a){var r,s=this[0];if(a===e)return I(s)?s["inner"+i]:O(s)?s.documentElement["scroll"+i]:(r=this.offset())&&r[t];else return this.each(function(e){s=n(this);s.css(t,q(this,a,e,s[t]()))})}});function X(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)X(e.childNodes[n],t)}g.forEach(function(e,t){var i=t%2;n.fn[e]=function(){var e,a=n.map(arguments,function(t){e=D(t);return e=="object"||e=="array"||t==null?t:E.fragment(t)}),r,s=this.length>1;if(a.length<1)return this;return this.each(function(e,l){r=i?l:l.parentNode;l=t==0?l.nextSibling:t==1?l.firstChild:t==2?l:null;var c=n.contains(o.documentElement,r);a.forEach(function(e){if(s)e=e.cloneNode(true);else if(!r)return n(e).remove();r.insertBefore(e,l);if(c)X(e,function(e){if(e.nodeName!=null&&e.nodeName.toUpperCase()==="SCRIPT"&&(!e.type||e.type==="text/javascript")&&!e.src)window["eval"].call(window,e.innerHTML)})})})};n.fn[i?e+"To":"insert"+(t?"Before":"After")]=function(t){n(t)[e](this);return this}});E.Z.prototype=n.fn;E.uniq=M;E.deserializeValue=J;n.zepto=E;return n}();window.Zepto=n;window.$===undefined&&(window.$=n)},function(e,t,n){window._=n(284);_.mixin(n(619));window.Big=n(417);_.getNested=function e(t){return function e(...n){const i=n[1];n[1]=_.isArray(i)?i:String(i);return t.apply(this,n)}}(_.getNested);window.Promise=n(17);window.moment=n(2);window.asyncLib=window.async=n(305);window.store=n(294);window.MegaPixImage=n(289);window.FastClick=n(288);window.Raven=n(291);if(true){window.JpegMeta=n(420);window.d3=n(84);window.sucrose=n(303)}n(285);n(621);n(622);n(623);n(624);n(298);n(625);n(299);n(302);n(301);n(300);n(290);n(296);n(297);if(true){window.ScrollFix=n(292);n(293);n(615)}window.Backbone=n(416);window.Backbone.$=window.$;window.Handlebars=n(611);window.version_compare=n(626);window.SUGAR=n(409);SUGAR.Api=n(304);window.app=window.SUGAR.App;window.App=window.SUGAR.App;n(627);n(628);n(629);n(355);n(352);n(351);n(354);n(362);n(343);n(342);n(347);n(120);n(345);n(344);n(341);n(121);n(356);n(357);n(353);n(358);n(349);n(348);n(350);n(361);n(360);n(359);if(true){const e=n.p;n.p="js/";n(616);n.p=e}window.SUGAR.App.augment("config",n(612),false);if(false){window.SUGAR.App.config.logger.level="FATAL"}if(true){n(403)}n(295);if(true){n(311)}n(333);n(334);window.SUGAR.App.nomad=n(13);window.SUGAR.App.nomad.utils=n(3);const{nomad:i}=window.SUGAR.App;n(31);n(307);n(320);n(321);n(319);n(313);n(309);n(57);n(318);n(92);i.dashboards=n(22);n(312);n(308);n(335);n(20);n(49);n(9);n(322);n(323);n(324);n(325);n(326);n(10);n(9);n(124);n(119);n(8);n(77);n(75);n(72);n(136);n(146);n(126);n(152);n(149);n(147);n(148);n(128);n(74);n(71);n(76);n(151);n(401);n(402);n(67);n(127);n(12);n(15);n(33);n(138);n(44);n(137);n(51);n(139);n(144);n(73);n(142);n(143);n(383);n(69);n(131);n(68);n(130);n(373);n(27);n(70);n(132);n(133);n(134);n(38);n(37);n(39);n(60);n(30);n(95);n(93);n(96);n(58);n(99);n(97);n(100);n(101);n(59);n(98);n(94);n(129);n(5);n(103);n(42);n(40);n(41);n(61);n(104);n(42);n(111);n(63);n(110);n(108);n(109);n(62);n(105);n(115);n(65);n(116);n(64);n(113);n(106);n(107);n(118);n(114);n(66);n(112);n(102);n(117);n(332);n(331);n(330);n(367);n(380);n(381);n(310);if(true){n(407);n(153);n(406)}else{require("%app.js%/native/nomad");require("%app.js%/native/local-security");require("%app.js%/native/keychain");require("%app.js%/native/translation");require("%app.js%/native/login-manager");require("%app.core%/mdm-manager")}if(["e2e","debug","qa"].indexOf("store")!==-1){n(363);n(135)}window.Handlebars.templates=window.Handlebars.templates||{};if(true){n(306)}if(false){require("%app%/entries/custom")}if(false){e.hot.accept("%app%/less/bootstrap-mobile.less")}if(false){require("%app.views%/offline/offline-data-generation-view.js");require("%app.js%/utils/performance/logger.js")}if(false){require("%cukes%/tests/client/init-nomad-e2e.js")}},function(e,t,n){var i={"./dashlets/activity-item.hbs":429,"./dashlets/activity-list.hbs":430,"./dashlets/activity-post.hbs":431,"./dashlets/bubblechart-tooltip.hbs":432,"./dashlets/bubblechart.hbs":433,"./dashlets/dashlet-options.hbs":434,"./dashlets/donutchart.hbs":435,"./dashlets/emails-user-activity-list-item.hbs":436,"./dashlets/forecast-pareto.hbs":437,"./dashlets/forecast-pipeline.hbs":438,"./dashlets/forecastdetails.hbs":439,"./dashlets/saved-reports-chart.hbs":440,"./dashlets/user-activity-list-item.hbs":441,"./dashlets/webpage.hbs":442,"./fields/address/detail.hbs":443,"./fields/address/edit.hbs":444,"./fields/address/readonly.hbs":445,"./fields/base/detail-erased.hbs":446,"./fields/base/detail.hbs":447,"./fields/base/edit.hbs":448,"./fields/base/list-erased.hbs":449,"./fields/base/list.hbs":450,"./fields/base/login.hbs":451,"./fields/base/readonly.hbs":452,"./fields/bool/detail.hbs":453,"./fields/bool/edit.hbs":454,"./fields/bool/list.hbs":455,"./fields/bool/readonly.hbs":456,"./fields/currency/edit.hbs":457,"./fields/date/edit.hbs":458,"./fields/datetimecombo/edit.hbs":459,"./fields/discount-select/edit.hbs":460,"./fields/discount-select/list.hbs":461,"./fields/discount/edit.hbs":462,"./fields/email-recipients/list.hbs":463,"./fields/email-sender/list.hbs":464,"./fields/email/detail.hbs":465,"./fields/email/edit.hbs":466,"./fields/email/list.hbs":467,"./fields/email/readonly.hbs":468,"./fields/enum/detail.hbs":469,"./fields/enum/edit.hbs":470,"./fields/enum/list.hbs":471,"./fields/enum/readonly.hbs":472,"./fields/favorite/detail.hbs":473,"./fields/favorite/list.hbs":474,"./fields/fieldset/detail.hbs":475,"./fields/fieldset/products-edit.hbs":476,"./fields/fieldset/readonly.hbs":477,"./fields/file/detail.hbs":478,"./fields/file/edit.hbs":479,"./fields/file/list.hbs":480,"./fields/file/readonly.hbs":481,"./fields/float/edit.hbs":482,"./fields/follow/detail.hbs":483,"./fields/html/readonly.hbs":484,"./fields/htmleditable/detail.hbs":485,"./fields/htmleditable/readonly.hbs":486,"./fields/image/detail.hbs":487,"./fields/image/edit.hbs":488,"./fields/image/list.hbs":489,"./fields/image/readonly.hbs":490,"./fields/int/edit.hbs":491,"./fields/invitees/edit.hbs":492,"./fields/label/detail.hbs":493,"./fields/multienum/detail.hbs":494,"./fields/multienum/edit.hbs":495,"./fields/multienum/list.hbs":496,"./fields/multienum/readonly.hbs":497,"./fields/parent/detail.hbs":498,"./fields/parent/edit.hbs":499,"./fields/parent/list.hbs":500,"./fields/parent/readonly.hbs":501,"./fields/password/login.hbs":502,"./fields/phone/detail.hbs":503,"./fields/phone/edit.hbs":504,"./fields/phone/list.hbs":505,"./fields/phone/readonly.hbs":506,"./fields/radioenum/detail.hbs":507,"./fields/radioenum/edit.hbs":508,"./fields/radioenum/list.hbs":509,"./fields/radioenum/readonly.hbs":510,"./fields/relate/detail.hbs":511,"./fields/relate/edit.hbs":512,"./fields/relate/list.hbs":513,"./fields/relate/readonly.hbs":514,"./fields/relationship/list.hbs":515,"./fields/tag/detail.hbs":516,"./fields/tag/list.hbs":517,"./fields/tag/readonly.hbs":518,"./fields/teamset-name/list.hbs":519,"./fields/teamset/detail.hbs":520,"./fields/teamset/edit.hbs":521,"./fields/teamset/list.hbs":522,"./fields/teamset/readonly.hbs":523,"./fields/textarea/detail.hbs":524,"./fields/textarea/edit.hbs":525,"./fields/textarea/list.hbs":526,"./fields/textarea/readonly.hbs":527,"./fields/url/about.hbs":528,"./fields/url/detail.hbs":529,"./fields/url/edit.hbs":530,"./fields/url/list.hbs":531,"./fields/url/readonly.hbs":532,"./ui-elements/icon-module.hbs":533,"./ui-elements/icon.hbs":534,"./ui-elements/ptr-spinner.hbs":535,"./ui-elements/sugarcrm-copyright-logo.hbs":536,"./views/about/about.hbs":537,"./views/actionsheet/actionsheet.hbs":538,"./views/actionsheet/nps-actionsheet.hbs":539,"./views/alert/alert.hbs":540,"./views/bulk-load-setup/bulk-load-setup.hbs":541,"./views/container/dropdown-switcher.hbs":542,"./views/container/pagination-switcher.hbs":543,"./views/container/switch-container.hbs":544,"./views/container/tab-switcher.hbs":545,"./views/context-menu/context-menu.hbs":546,"./views/dashboard/dashboard.hbs":547,"./views/detail/modules/detail-TxLog.hbs":548,"./views/detail/modules/qli_bundles_summary.hbs":549,"./views/detail/record-card.hbs":550,"./views/detail/record-summary.hbs":551,"./views/edit/address-edit.hbs":552,"./views/edit/edit-field-error.hbs":553,"./views/edit/edit.hbs":554,"./views/edit/html-edit.hbs":555,"./views/edit/textarea-edit.hbs":556,"./views/error/error-emulation.hbs":557,"./views/error/error.hbs":558,"./views/filters/filters.hbs":559,"./views/header/header.hbs":560,"./views/lead-conversion/lead-conversion-list-item-radio-selector.hbs":561,"./views/lead-conversion/lead-conversion-list-switcher.hbs":562,"./views/lead-conversion/lead-conversion-navigation-view.hbs":563,"./views/lead-conversion/lead-conversion-view.hbs":564,"./views/list/comments-list.hbs":565,"./views/list/emails-list-item.hbs":566,"./views/list/leads-list-item.hbs":567,"./views/list/list-item-picker.hbs":568,"./views/list/list-item-teamset.hbs":569,"./views/list/list-item-tx-log.hbs":570,"./views/list/list-item.hbs":571,"./views/list/list-no-records.hbs":572,"./views/list/list-not-authorized.hbs":573,"./views/list/list-picker.hbs":574,"./views/list/list-show-more-bottom.hbs":575,"./views/list/list-show-more-top.hbs":576,"./views/list/list.hbs":577,"./views/list/menu-list-item.hbs":578,"./views/list/twitter-list-item.hbs":579,"./views/login-settings/login-settings-section.hbs":580,"./views/login-settings/login-settings.hbs":581,"./views/login/login.hbs":582,"./views/main-menu/main-menu.hbs":583,"./views/offline/offline-data-generation.hbs":584,"./views/offline/offline-settings.hbs":585,"./views/offline/offline-stats.hbs":586,"./views/offline/offline-status-icon.hbs":587,"./views/offline/offline-statusbar.hbs":588,"./views/offline/offline.hbs":589,"./views/overlay/overlay-default.hbs":590,"./views/overlay/overlay-record.hbs":591,"./views/overlay/preloader-convert-lead.hbs":592,"./views/overlay/preloader-panel.hbs":593,"./views/overlay/spinner.hbs":594,"./views/products/fields/currency/line-item-total.hbs":595,"./views/ptr.hbs":596,"./views/quotes/fields/currency/currency-total.hbs":597,"./views/quotes/fields/currency/deal-total.hbs":598,"./views/quotes/qli-container.hbs":599,"./views/quotes/qli-group-edit.hbs":600,"./views/record/record-action-button.hbs":601,"./views/record/record-actions.hbs":602,"./views/related-records/related-records.hbs":603,"./views/right-menu/right-menu.hbs":604,"./views/search-box/search-box.hbs":605,"./views/settings/settings.hbs":606,"./views/taggable/taggable.hbs":607,"./views/touchid-setup/touchid-setup.hbs":608,"./views/tutorial/tutorial-message.hbs":609,"./views/tutorial/tutorial.hbs":610};function a(e){return n(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(i)};a.resolve=r;e.exports=a;a.id=287},function(e,t,n){var i;(function(){"use strict";function a(e,t){var n;t=t||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=t.touchBoundary||10;this.layer=e;this.tapDelay=t.tapDelay||200;this.tapTimeout=t.tapTimeout||700;if(a.notNeeded(e)){return}function i(e,t){return function(){return e.apply(t,arguments)}}var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var o=this;for(var l=0,c=r.length;l<c;l++){o[r[l]]=i(o[r[l]],o)}if(s){e.addEventListener("mouseover",this.onMouse,true);e.addEventListener("mousedown",this.onMouse,true);e.addEventListener("mouseup",this.onMouse,true)}e.addEventListener("click",this.onClick,true);e.addEventListener("touchstart",this.onTouchStart,false);e.addEventListener("touchmove",this.onTouchMove,false);e.addEventListener("touchend",this.onTouchEnd,false);e.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(t,n,i){var a=Node.prototype.removeEventListener;if(t==="click"){a.call(e,t,n.hijacked||n,i)}else{a.call(e,t,n,i)}};e.addEventListener=function(t,n,i){var a=Node.prototype.addEventListener;if(t==="click"){a.call(e,t,n.hijacked||(n.hijacked=function(e){if(!e.propagationStopped){n(e)}}),i)}else{a.call(e,t,n,i)}}}if(typeof e.onclick==="function"){n=e.onclick;e.addEventListener("click",function(e){n(e)},false);e.onclick=null}}var r=navigator.userAgent.indexOf("Windows Phone")>=0;var s=navigator.userAgent.indexOf("Android")>0&&!r;var o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r;var l=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var c=o&&/OS [6-7]_\d/.test(navigator.userAgent);var u=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled){return true}break;case"input":if(o&&e.type==="file"||e.disabled){return true}break;case"label":case"iframe":case"video":return true}return/\bneedsclick\b/.test(e.className)};a.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return true;case"select":return!s;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};a.prototype.sendClick=function(e,t){var n,i;if(document.activeElement&&document.activeElement!==e&&!$(e).hasClass("clear-button")){document.activeElement.blur()}i=t.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent(this.determineEventType(e),true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;e.dispatchEvent(n)};a.prototype.determineEventType=function(e){if(s&&e.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};a.prototype.focus=function(e){var t;if(o&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"&&e.type!=="month"){t=e.value.length;e.setSelectionRange(t,t)}else{e.focus()}};a.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n;e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}if(t){t.fastClickLastScrollTop=t.scrollTop}};a.prototype.getTargetElementFromEventTarget=function(e){if(e.nodeType===Node.TEXT_NODE){return e.parentNode}return e};a.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1){return true}t=this.getTargetElementFromEventTarget(e.target);n=e.targetTouches[0];if(o){i=window.getSelection();if(i.rangeCount&&!i.isCollapsed){return true}if(!l){if(n.identifier&&n.identifier===this.lastTouchIdentifier){e.preventDefault();return false}this.lastTouchIdentifier=n.identifier;this.updateScrollParent(t)}}this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=n.pageX;this.touchStartY=n.pageY;if(e.timeStamp-this.lastClickTime<this.tapDelay){e.preventDefault()}return true};a.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;if(Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n){return true}return false};a.prototype.onTouchMove=function(e){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};a.prototype.findControl=function(e){if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};a.prototype.onTouchEnd=function(e){var t,n,i,a,r,u=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true}if(e.timeStamp-this.trackingClickStart>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=e.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(c){r=e.changedTouches[0];u=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||u;u.fastClickScrollParent=this.targetElement.fastClickScrollParent}i=u.tagName.toLowerCase();if(i==="label"){t=this.findControl(u);if(t){this.focus(u);if(s){return false}u=t}}else if(this.needsFocus(u)){if(e.timeStamp-n>100||o&&window.top!==window&&i==="input"){this.targetElement=null;return false}this.focus(u);this.sendClick(u,e);if(!o||i!=="select"){this.targetElement=null;e.preventDefault()}return false}if(o&&!l){a=u.fastClickScrollParent;if(a&&a.fastClickLastScrollTop!==a.scrollTop){return true}}if(!this.needsClick(u)){e.preventDefault();this.sendClick(u,e)}return false};a.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};a.prototype.onMouse=function(e){if(!this.targetElement){return true}if(e.forwardedTouchEvent){return true}if(!e.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.propagationStopped=true}e.stopPropagation();e.preventDefault();return false}return true};a.prototype.onClick=function(e){var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(e.target.type==="submit"&&e.detail===0){return true}t=this.onMouse(e);if(!t){this.targetElement=null}return t};a.prototype.destroy=function(){var e=this.layer;if(s){e.removeEventListener("mouseover",this.onMouse,true);e.removeEventListener("mousedown",this.onMouse,true);e.removeEventListener("mouseup",this.onMouse,true)}e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};a.notNeeded=function(e){var t;var n;var i;var a;if(typeof window.ontouchstart==="undefined"){return true}n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(s){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(n>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(u){i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(i[1]>=10&&i[2]>=3){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(e.style.msTouchAction==="none"||e.style.touchAction==="manipulation"){return true}a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(a>=27){t=document.querySelector("meta[name=viewport]");if(t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(e.style.touchAction==="none"||e.style.touchAction==="manipulation"){return true}return false};a.attach=function(e,t){return new a(e,t)};if(true){!(i=function(){return a}.call(t,n,t,e),i!==undefined&&(e.exports=i))}else if(typeof e!=="undefined"&&e.exports){e.exports=a.attach;e.exports.FastClick=a}else{window.FastClick=a}})()},function(e,t,n){var i,a;(function(){function n(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1024*1024){var i=document.createElement("canvas");i.width=i.height=1;var a=i.getContext("2d");a.drawImage(e,-t+1,0);return a.getImageData(0,0,1,1).data[3]===0}else{return false}}function r(e,t,n){var i=document.createElement("canvas");i.width=1;i.height=n;var a=i.getContext("2d");a.drawImage(e,0,0);var r=a.getImageData(0,0,1,n).data;var s=0;var o=n;var l=n;while(l>s){var c=r[(l-1)*4+3];if(c===0){o=l}else{s=l}l=o+s>>1}var u=l/n;return u===0?1:u}function s(e,t){var n=document.createElement("canvas");o(e,n,t);return n.toDataURL("image/jpeg",t.quality||.8)}function o(e,t,i){var a=e.naturalWidth,s=e.naturalHeight;var o=i.width,c=i.height;var u=t.getContext("2d");u.save();l(t,o,c,i.orientation);var d=n(e);if(d){a/=2;s/=2}var f=1024;var p=document.createElement("canvas");p.width=p.height=f;var h=p.getContext("2d");var m=r(e,a,s);var _=0;while(_<s){var g=_+f>s?s-_:f;var v=0;while(v<a){var b=v+f>a?a-v:f;h.clearRect(0,0,f,f);h.drawImage(e,-v,-_);var y=v*o/a<<0;var x=Math.ceil(b*o/a);var w=_*c/s/m<<0;var S=Math.ceil(g*c/s/m);u.drawImage(p,0,0,b,g,y,w,x,S);v+=f}_+=f}u.restore();p=h=null}function l(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n;e.height=t;break;default:e.width=t;e.height=n}var a=e.getContext("2d");switch(i){case 2:a.translate(t,0);a.scale(-1,1);break;case 3:a.translate(t,n);a.rotate(Math.PI);break;case 4:a.translate(0,n);a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI);a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI);a.translate(0,-n);break;case 7:a.rotate(.5*Math.PI);a.translate(t,-n);a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI);a.translate(-t,0);break;default:break}}function c(e){if(e instanceof Blob){var t=new Image;var n=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!n){throw Error("No createObjectURL function found to create blob url")}t.src=n.createObjectURL(e);e=t}if(!e.naturalWidth&&!e.naturalHeight){var i=this;e.onload=function(){var e=i.imageLoadListeners;if(e){i.imageLoadListeners=null;for(var t=0,n=e.length;t<n;t++){e[t]()}}};this.imageLoadListeners=[]}this.srcImage=e}c.prototype.render=function(e,t){if(this.imageLoadListeners){var n=this;this.imageLoadListeners.push(function(){n.render(e,t)});return}t=t||{};var i=this.srcImage.naturalWidth,a=this.srcImage.naturalHeight,r=t.width,l=t.height,c=t.maxWidth,u=t.maxHeight;if(r&&!l){l=a*r/i<<0}else if(l&&!r){r=i*l/a<<0}else{r=i;l=a}if(c&&r>c){r=c;l=a*r/i<<0}if(u&&l>u){l=u;r=i*l/a<<0}var d={width:r,height:l};for(var f in t)d[f]=t[f];var p=e.tagName.toLowerCase();if(p==="img"){e.src=s(this.srcImage,d)}else if(p==="canvas"){o(this.srcImage,e,d)}if(typeof this.onrender==="function"){this.onrender(e)}};if(true){!(i=[],a=function(){return c}.apply(t,i),a!==undefined&&(e.exports=a))}else{window.MegaPixImage=c}})()},function(e,t){(function(e){var t=function(e){var t=this;var n=t.options=_.extend({},t.defaults,e);var i=n.template||function(){return""};var a=n.templateTarget;n.template=void 0;t.$target=this;var r=n.height;a.find(".pull-to-refresh").length||a.append(i(n));t.$holder=a.find(".pull-to-refresh");t.$msg=t.$holder.find(".message-container");t.$msg.css({height:r});t.$spinner=t.$holder.find(".ptr__spinner");t.$spinner_wrapper=t.$holder.find(".ptr__wrap-spinner");var s=SUGAR.App.utils.generateUUID();var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");var l=n.height;t.$spinner_polygon=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(t.$spinner_polygon);o.setAttribute("id",s);t.$spinner.append(o);t.$spinner.find("g").attr("clip-path","url(#"+s+")");var c=function(e){var n=30;if(-e<n){return}var i=parseInt((-e-n)/(l-n)*360);var a=i*Math.PI/180;t.$spinner.css({"-webkit-transform":"rotate("+i+"deg)"});var r="54 54, 54 0";var s,o;if(i>0&&i<=45){s=50-Math.tan(a)*50;o=0;r=r+", "+parseInt(s)+" "+parseInt(o)}if(i>45&&i<=135){s=0;o=50-1/Math.tan(a)*50;r=r+", 0 0, "+parseInt(s)+" "+parseInt(o)}if(i>135&&i<=225){s=50+Math.tan(a)*50;o=100;r=r+", 0 0, 0 100, "+parseInt(s)+" "+parseInt(o)}if(i>225&&i<=315){s=100;o=50+1/Math.tan(a)*50;r=r+", 0 0, 0 100, 100 100, "+parseInt(s)+" "+parseInt(o)}if(i>315){r="0 0, 100 0, 100 100, 0 100"}t.$spinner_polygon.setAttribute("points",r)};n.scroller.activatePullToRefresh(r,function(){c(-l);t.$spinner_wrapper.addClass("animation--scale-once")},function(){t.$spinner_wrapper.removeClass("animation--scale-once")},function(){if(!t.isLoading){t.$spinner.addClass("rotate360");t.options.scroller.__publish(0,-t.options.height,1,false);t.isLoading=true;if(n.callback){n.callback()}}},function(e){c(e)})};t.prototype={defaults:{height:96,animationDelay:300,callback:function(){}},hide:function(){var e=this;e.isLoading=false;if(!e.options)return;e.options.scroller.finishPullToRefresh();e.$spinner.removeClass("rotate360");e.$spinner_wrapper.removeClass("animation--scale-once")},destroy:function(){var e=this;if(!e.options){return}e.options.scroller.finishPullToRefresh();e.$holder.remove();e.options.callback=null;e.options=null;e.$div=null;e.$holder=null;e.$msg=null;e.$spinner=null;e.$spinner_wrapper=null;e.$spinner_polygon=null;e.$target=null;e.isLoading=false}};e.fn.pullToRefresh=function(e){if(typeof e==="object"||!e){this._ptr=new t(e)}else if(this._ptr&&this._ptr[e]){this._ptr[e].apply(this._ptr,Array.prototype.slice.call(arguments,1));if(e==="destroy"){this._ptr=null}}}})(Zepto)},function(e,t,n){var i,a;(function(n,r){"use strict";var s={remoteFetching:false,collectWindowErrors:true,linesOfContext:7};var o=[].slice;var l="?";s.wrap=function e(t){function n(){try{return t.apply(this,arguments)}catch(e){s.report(e);throw e}}return n};s.report=function e(){var t=[],i=null,a=null,l=null;function c(e){_();t.push(e)}function u(e){for(var n=t.length-1;n>=0;--n){if(t[n]===e){t.splice(n,1)}}}function d(){g();t=[]}function f(e,n){var i=null;if(n&&!s.collectWindowErrors){return}for(var a in t){if(T(t,a)){try{t[a].apply(null,[e].concat(o.call(arguments,2)))}catch(e){i=e}}}if(i){throw i}}var p,h;function m(e,t,n,i,a){var r=null;if(l){s.computeStackTrace.augmentStackTraceWithInitialElement(l,t,n,e);v()}else if(a){r=s.computeStackTrace(a);f(r,true)}else{var o={url:t,line:n,column:i};o.func=s.computeStackTrace.guessFunctionName(o.url,o.line);o.context=s.computeStackTrace.gatherContext(o.url,o.line);r={message:e,url:document.location.href,stack:[o]};f(r,true)}if(p){return p.apply(this,arguments)}return false}function _(){if(h){return}p=n.onerror;n.onerror=m;h=true}function g(){if(!h){return}n.onerror=p;h=false;p=r}function v(){var e=l,t=i;i=null;l=null;a=null;f.apply(null,[e,false].concat(t))}function b(e,t){var r=o.call(arguments,1);if(l){if(a===e){return}else{v()}}var c=s.computeStackTrace(e);l=c;a=e;i=r;n.setTimeout(function(){if(a===e){v()}},c.incomplete?2e3:0);if(t!==false){throw e}}b.subscribe=c;b.unsubscribe=u;b.uninstall=d;return b}();s.computeStackTrace=function e(){var t=false,i={};function a(e){if(!s.remoteFetching){return""}try{var t=function(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject("Microsoft.XMLHTTP")}};var i=t();i.open("GET",e,false);i.send("");return i.responseText}catch(e){return""}}function r(e){if(!k(e))return[];if(!T(i,e)){var t="";if(e.indexOf(document.domain)!==-1){t=a(e)}i[e]=t?t.split("\n"):[]}return i[e]}function o(e,t){var n=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",s=10,o=r(e),c;if(!o.length){return l}for(var u=0;u<s;++u){a=o[t-u]+a;if(!L(a)){if(c=i.exec(a)){return c[1]}else if(c=n.exec(a)){return c[1]}}}return l}function c(e,t){var n=r(e);if(!n.length){return null}var i=[],a=Math.floor(s.linesOfContext/2),o=a+s.linesOfContext%2,l=Math.max(0,t-a-1),c=Math.min(n.length,t+o-1);t-=1;for(var u=l;u<c;++u){if(!L(n[u])){i.push(n[u])}}return i.length>0?i:null}function u(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function d(e){return u(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,t){var n,i;for(var a=0,s=t.length;a<s;++a){if((n=r(t[a])).length){n=n.join("\n");if(i=e.exec(n)){return{url:t[a],line:n.substring(0,i.index).split("\n").length,column:i.index-n.lastIndexOf("\n",i.index)-1}}}}return null}function p(e,t,n){var i=r(t),a=new RegExp("\\b"+u(e)+"\\b"),s;n-=1;if(i&&i.length>n&&(s=a.exec(i[n]))){return s.index}return null}function h(e){var t=[n.location.href],i=document.getElementsByTagName("script"),a,r=""+e,s=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,l,c,p;for(var h=0;h<i.length;++h){var m=i[h];if(m.src){t.push(m.src)}}if(!(c=s.exec(r))){l=new RegExp(u(r).replace(/\s+/g,"\\s+"))}else{var _=c[1]?"\\s+"+c[1]:"",g=c[2].split(",").join("\\s*,\\s*");a=u(c[3]).replace(/;$/,";?");l=new RegExp("function"+_+"\\s*\\(\\s*"+g+"\\s*\\)\\s*{\\s*"+a+"\\s*}")}if(p=f(l,t)){return p}if(c=o.exec(r)){var v=c[1];a=d(c[2]);l=new RegExp("on"+v+"=[\\'\"]\\s*"+a+"\\s*[\\'\"]","i");if(p=f(l,t[0])){return p}l=new RegExp(a);if(p=f(l,t)){return p}}return null}function m(e){if(!e.stack){return null}var t=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?).*?):(\d+)(?::(\d+))?\s*$/i,i=e.stack.split("\n"),a=[],r,s,u=/^(.*) is undefined$/.exec(e.message);for(var d=0,f=i.length;d<f;++d){if(r=n.exec(i[d])){s={url:r[3],func:r[1]||l,args:r[2]?r[2].split(","):"",line:+r[4],column:r[5]?+r[5]:null}}else if(r=t.exec(i[d])){s={url:r[2],func:r[1]||l,line:+r[3],column:r[4]?+r[4]:null}}else{continue}if(!s.func&&s.line){s.func=o(s.url,s.line)}if(s.line){s.context=c(s.url,s.line)}a.push(s)}if(!a.length){return null}if(a[0].line&&!a[0].column&&u){a[0].column=p(u[1],a[0].url,a[0].line)}else if(!a[0].column&&!L(e.columnNumber)){a[0].column=e.columnNumber+1}return{name:e.name,message:e.message,url:document.location.href,stack:a}}function _(e){var t=e.stacktrace;var n=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,i=t.split("\n"),a=[],r;for(var s=0,l=i.length;s<l;s+=2){if(r=n.exec(i[s])){var u={line:+r[1],column:+r[2],func:r[3]||r[4],args:r[5]?r[5].split(","):[],url:r[6]};if(!u.func&&u.line){u.func=o(u.url,u.line)}if(u.line){try{u.context=c(u.url,u.line)}catch(e){}}if(!u.context){u.context=[i[s+1]]}a.push(u)}}if(!a.length){return null}return{name:e.name,message:e.message,url:document.location.href,stack:a}}function g(e){var t=e.message.split("\n");if(t.length<4){return null}var i=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of function script\s*$/i,l=[],u=document.getElementsByTagName("script"),p=[],h,m,_,g;for(m in u){if(T(u,m)&&!u[m].src){p.push(u[m])}}for(m=2,_=t.length;m<_;m+=2){var v=null;if(h=i.exec(t[m])){v={url:h[2],func:h[3],line:+h[1]}}else if(h=a.exec(t[m])){v={url:h[3],func:h[4]};var b=+h[1];var y=p[h[2]-1];if(y){g=r(v.url);if(g){g=g.join("\n");var x=g.indexOf(y.innerText);if(x>=0){v.line=b+g.substring(0,x).split("\n").length}}}}else if(h=s.exec(t[m])){var w=n.location.href.replace(/#.*$/,""),S=h[1];var L=new RegExp(d(t[m+1]));g=f(L,[w]);v={url:w,line:g?g.line:S,func:""}}if(v){if(!v.func){v.func=o(v.url,v.line)}var E=c(v.url,v.line);var k=E?E[Math.floor(E.length/2)]:null;if(E&&k.replace(/^\s*/,"")===t[m+1].replace(/^\s*/,"")){v.context=E}else{v.context=[t[m+1]]}l.push(v)}}if(!l.length){return null}return{name:e.name,message:t[0],url:document.location.href,stack:l}}function v(e,t,n,i){var a={url:t,line:n};if(a.url&&a.line){e.incomplete=false;if(!a.func){a.func=o(a.url,a.line)}if(!a.context){a.context=c(a.url,a.line)}var r=/ '([^']+)' /.exec(i);if(r){a.column=p(r[1],a.url,a.line)}if(e.stack.length>0){if(e.stack[0].url===a.url){if(e.stack[0].line===a.line){return false}else if(!e.stack[0].line&&e.stack[0].func===a.func){e.stack[0].line=a.line;e.stack[0].context=a.context;return false}}}e.stack.unshift(a);e.partial=true;return true}else{e.incomplete=true}return false}function b(e,t){var n=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],a={},r=false,c,u,d;for(var f=b.caller;f&&!r;f=f.caller){if(f===y||f===s.report){continue}u={url:null,func:l,line:null,column:null};if(f.name){u.func=f.name}else if(c=n.exec(f.toString())){u.func=c[1]}if(d=h(f)){u.url=d.url;u.line=d.line;if(u.func===l){u.func=o(u.url,u.line)}var m=/ '([^']+)' /.exec(e.message||e.description);if(m){u.column=p(m[1],d.url,d.line)}}if(a[""+f]){r=true}else{a[""+f]=true}i.push(u)}if(t){i.splice(0,t)}var _={name:e.name,message:e.message,url:document.location.href,stack:i};v(_,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description);return _}function y(e,n){var i=null;n=n==null?0:+n;try{i=_(e);if(i){return i}}catch(e){if(t){throw e}}try{i=m(e);if(i){return i}}catch(e){if(t){throw e}}try{i=g(e);if(i){return i}}catch(e){if(t){throw e}}try{i=b(e,n+1);if(i){return i}}catch(e){if(t){throw e}}return{}}function x(e){e=(e==null?0:+e)+1;try{throw new Error}catch(t){return y(t,e+1)}}y.augmentStackTraceWithInitialElement=v;y.guessFunctionName=o;y.gatherContext=c;y.ofCaller=x;return y}();"use strict";var c=n.Raven,u=!!(n.JSON&&n.JSON.stringify),d,f,p,h,m,_,g={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:true,tags:{},extra:{}};var v={VERSION:"1.1.11",TraceKit:s,afterLoad:function(){var e=n.RavenConfig;if(e){this.config(e.dsn,e.config).install()}},noConflict:function(){n.Raven=c;return v},config:function(e,t){if(!e)return v;var n=S(e),i=n.path.lastIndexOf("/"),a=n.path.substr(1,i);if(t){A(t,function(e,t){g[e]=t})}g.ignoreErrors.push("Script error.");g.ignoreErrors.push("Script error");g.ignoreErrors=H(g.ignoreErrors);g.ignoreUrls=g.ignoreUrls.length?H(g.ignoreUrls):false;g.whitelistUrls=g.whitelistUrls.length?H(g.whitelistUrls):false;g.includePaths=H(g.includePaths);m=n.user;_=n.path.substr(i+1);p="//"+n.host+(n.port?":"+n.port:"")+"/"+a+"api/"+_+"/store/";if(n.protocol){p=n.protocol+":"+p}if(g.fetchContext){s.remoteFetching=true}if(g.linesOfContext){s.linesOfContext=g.linesOfContext}s.collectWindowErrors=!!g.collectWindowErrors;return v},install:function(){if(Y()){s.report.subscribe(R)}return v},context:function(e,t,n){if(E(e)){n=t||[];t=e;e=r}return v.wrap(e,t).apply(this,n)},wrap:function(e,t){if(L(t)&&!E(e)){return e}if(E(e)){t=e;e=r}if(!E(t)){return t}if(t.__raven__){return t}function n(){var n=[],i=arguments.length,a=!e||e&&e.deep!==false;while(i--)n[i]=a?v.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,n)}catch(t){v.captureException(t,e);throw t}}for(var i in t){if(t.hasOwnProperty(i)){n[i]=t[i]}}n.__raven__=true;return n},uninstall:function(){s.report.uninstall();return v},captureException:function(e,t){if(k(e))return v.captureMessage(e,t);d=e;try{s.report(e,t)}catch(t){if(e!==t){throw t}}return v},captureMessage:function(e,t){P(N({message:e},t));return v},setUser:function(e){h=e;return v},lastException:function(){return d},lastEventId:function(){return f}};function b(e,t){var n,i;t=t||{};e="raven"+e.substr(0,1).toUpperCase()+e.substr(1);if(document.createEvent){n=document.createEvent("HTMLEvents");n.initEvent(e,true,true)}else{n=document.createEventObject();n.eventType=e}for(i in t)if(t.hasOwnProperty(i)){n[i]=t[i]}if(document.createEvent){document.dispatchEvent(n)}else{try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}}var y="source protocol user pass host port path".split(" "),x=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;function w(e){this.name="RavenConfigError";this.message=e}w.prototype=new Error;w.prototype.constructor=w;function S(e){var t=x.exec(e),n={},i=7;try{while(i--)n[y[i]]=t[i]||""}catch(t){throw new w("Invalid DSN: "+e)}if(n.pass)throw new w("Do not specify your private key in the DSN!");return n}function L(e){return typeof e==="undefined"}function E(e){return typeof e==="function"}function k(e){return typeof e==="string"}function M(e){for(var t in e)return false;return true}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e,t){var n,i;if(L(e.length)){for(n in e){if(e.hasOwnProperty(n)){t.call(null,n,e[n])}}}else{i=e.length;if(i){for(n=0;n<i;n++){t.call(null,n,e[n])}}}}var C;function D(){if(C)return C;var e=["sentry_version=4","sentry_client=raven-js/"+v.VERSION];if(m){e.push("sentry_key="+m)}C="?"+e.join("&");return C}function R(e,t){var n=[];if(e.stack&&e.stack.length){A(e.stack,function(e,t){var i=I(t);if(i){n.push(i)}})}b("handle",{stackInfo:e,options:t});F(e.name,e.message,e.url,e.lineno,n,t)}function I(e){if(!e.url)return;var t={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"},n=O(e),i;if(n){var a=["pre_context","context_line","post_context"];i=3;while(i--)t[a[i]]=n[i]}t.in_app=!(!g.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t["function"])||/raven\.(min\.)js$/.test(t.filename));return t}function O(e){if(!e.context||!g.fetchContext)return;var t=e.context,n=~~(t.length/2),i=t.length,a=false;while(i--){if(t[i].length>300){a=true;break}}if(a){if(L(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}function F(e,t,n,i,a,r){var s,o,l;if(!t)return;if(g.ignoreErrors.test(t))return;if(a&&a.length){n=a[0].filename||n;a.reverse();s={frames:a}}else if(n){s={frames:[{filename:n,lineno:i}]}}if(g.ignoreUrls&&g.ignoreUrls.test(n))return;if(g.whitelistUrls&&!g.whitelistUrls.test(n))return;o=i?t+" at "+i:t;P(N({exception:{type:e,value:t},stacktrace:s,culprit:n,message:o},r))}function N(e,t){if(!t){return e}A(t,function(t,n){e[t]=n});return e}function B(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};if(document.referrer){e.headers.Referer=document.referrer}return e}function P(e){if(!Y())return;e=N({project:_,logger:g.logger,site:g.site,platform:"javascript",request:B()},e);e.tags=N(g.tags,e.tags);e.extra=N(g.extra,e.extra);if(M(e.tags))delete e.tags;if(M(e.extra))delete e.extra;if(h){e.user=h}if(E(g.dataCallback)){e=g.dataCallback(e)}if(E(g.shouldSendCallback)&&!g.shouldSendCallback(e)){return}f=e.event_id||(e.event_id=G());U(e)}function U(e){var t=new Image,n=p+D()+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.onload=function t(){b("success",{data:e,src:n})};t.onerror=t.onabort=function t(){b("failure",{data:e,src:n})};t.src=n}function Y(){if(!u)return false;if(!p){if(n.console&&console.error){console.error("Error: Raven has not been configured.")}return false}return true}function H(e){var t=[],n=0,i=e.length,a;for(;n<i;n++){a=e[n];if(k(a)){t.push(a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"))}else if(a&&a.source){t.push(a.source)}}return new RegExp(t.join("|"),"i")}function G(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}v.afterLoad();n.Raven=v;if(true){!(i=[],a=function(){return v}.apply(t,i),a!==r&&(e.exports=a))}})(window)},function(e,t){e.exports=function(e){var t,n;e=e||document.querySelector(e);if(!e)return;e.addEventListener("touchstart",function(i){t=i.touches[0].pageY;n=e.scrollTop;if(n<=0)e.scrollTop=1;if(n+e.offsetHeight>=e.scrollHeight)e.scrollTop=e.scrollHeight-e.offsetHeight-1},false)}},function(e,t){!function(e){var t=function(t){this.origHtmlMargin=parseFloat(e("html").css("margin-top"));this.options=e.extend({},e.smartbanner.defaults,t);var n=navigator.standalone,i=navigator.userAgent;if(this.options.force){this.type=this.options.force}else if(i.match(/iPhone|iPod/i)!=null||i.match(/iPad/)&&this.options.iOSUniversalApp){if(i.match(/Safari/i)!=null&&(i.match(/CriOS/i)!=null||window.Number(i.substr(i.indexOf("OS ")+3,3).replace("_","."))<6))this.type="ios"}else if(i.match(/\bSilk\/(.*\bMobile Safari\b)?/)||i.match(/\bKF\w/)||i.match("Kindle Fire")){this.type="kindle"}else if(i.match(/Android/i)!=null){this.type="android"}else if(i.match(/Windows NT 6.2/i)!=null&&i.match(/Touch/i)!==null){this.type="windows"}if(!this.type||n||this.getCookie("sb-closed")||this.getCookie("sb-installed")){return}this.scale=this.options.scale=="auto"?e(window).width()/window.screen.width:this.options.scale;if(this.scale<1)this.scale=1;var a=e(this.type=="android"?'meta[name="google-play-app"]':this.type=="ios"?'meta[name="apple-itunes-app"]':this.type=="kindle"?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]');if(a.length==0)return;if(this.type=="windows"){this.pfn=e('meta[name="msApplication-PackageFamilyName"]').attr("content");this.appId=a.attr("content")[1]}else{this.appId=/app-id=([^\s,]+)/.exec(a.attr("content"))[1]}this.title=this.options.title?this.options.title:a.data("title")||e("title").text().replace(/\s*[|\-].*$/,"");this.author=this.options.author?this.options.author:a.data("author")||(e('meta[name="author"]').length?e('meta[name="author"]').attr("content"):window.location.hostname);this.iconUrl=a.data("icon-url");this.price=a.data("price");this.create();this.show();this.listen()};t.prototype={constructor:t,create:function(){var t,n=this.options.url?this.options.url:(this.type=="windows"?"ms-windows-store:PDP?PFN="+this.pfn:this.type=="android"?"market://details?id=":this.type=="kindle"?"amzn://apps/android?asin=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,i=this.price||this.options.price,a=i?i+" - "+(this.type=="android"?this.options.inGooglePlay:this.type=="kindle"?this.options.inAmazonAppStore:this.type=="ios"?this.options.inAppStore:this.options.inWindowsStore):"",r=this.options.iconGloss===null?this.type=="ios":this.options.iconGloss;if(this.options.url)n=this.options.url;else{if(this.type=="android"){n="market://details?id="+this.appId;if(this.options.GooglePlayParams)n=n+"&referrer="+this.options.GooglePlayParams}else n="https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"+this.appId}var s='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+a+'</span></div><a href="'+n+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";e(this.options.appendToSelector).prepend(s);if(this.options.icon){t=this.options.icon}else if(this.iconUrl){t=this.iconUrl}else if(e('link[rel="apple-touch-icon-precomposed"]').length>0){t=e('link[rel="apple-touch-icon-precomposed"]').attr("href");if(this.options.iconGloss===null)r=false}else if(e('link[rel="apple-touch-icon"]').length>0){t=e('link[rel="apple-touch-icon"]').attr("href")}else if(e('meta[name="msApplication-TileImage"]').length>0){t=e('meta[name="msApplication-TileImage"]').attr("content")}else if(e('meta[name="msapplication-TileImage"]').length>0){t=e('meta[name="msapplication-TileImage"]').attr("content")}if(t){e("#smartbanner .sb-icon").css("background-image","url("+t+")");if(r)e("#smartbanner .sb-icon").addClass("gloss")}else{e("#smartbanner").addClass("no-icon")}this.bannerHeight=e("#smartbanner").height();if(this.scale>1){e("#smartbanner").css("top",parseFloat(e("#smartbanner").css("top"))*this.scale).css("height",parseFloat(e("#smartbanner").css("height"))*this.scale).hide();e("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",e(window).width()/this.scale)}e("#smartbanner").css("position",this.options.layer?"absolute":"static")},listen:function(){e("#smartbanner .sb-close").on("click",e.proxy(this.close,this));e("#smartbanner .sb-button").on("click",e.proxy(this.install,this))},show:function(t){var n=e("#smartbanner");if(this.options.layer){n.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show();e("#nomad").animate({top:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",t)}else{if(e.support.transition){n.animate({top:0},this.options.speedIn).addClass("shown");var i=function(){e("html").removeClass("sb-animation");if(t){t()}};e("html").addClass("sb-animation").one(e.support.transition.end,i).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)}else{n.slideDown(this.options.speedIn).addClass("shown")}}},hide:function(t){var n=e("#smartbanner");if(this.options.layer){n.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown");e("#nomad").animate({top:this.origHtmlMargin},this.options.speedIn,"swing",t)}else{if(e.support.transition){n.css("top",-1*this.bannerHeight*this.scale).removeClass("shown");var i=function(){e("html").removeClass("sb-animation");if(t){t()}};e("html").addClass("sb-animation").one(e.support.transition.end,i).emulateTransitionEnd(this.options.speedOut).css("margin-top",this.origHtmlMargin)}else{n.slideUp(this.options.speedOut).removeClass("shown")}}},close:function(e){e.preventDefault();this.hide();this.setCookie("sb-closed","true",this.options.daysHidden)},install:function(e){if(this.options.hideOnInstall){this.hide()}this.setCookie("sb-installed","true",this.options.daysReminder)},setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n);t=encodeURI(t)+(n==null?"":"; expires="+i.toUTCString());document.cookie=e+"="+t+"; path=/;"},getCookie:function(e){var t,n,i,a=document.cookie.split(";");for(t=0;t<a.length;t++){n=a[t].substr(0,a[t].indexOf("="));i=a[t].substr(a[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n==e){return decodeURI(i)}}return null},switchType:function(){var t=this;this.hide(function(){t.type=t.type=="android"?"ios":"android";var n=e(t.type=="android"?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");t.appId=/app-id=([^\s,]+)/.exec(n)[1];e("#smartbanner").detach();t.create();t.show()})}};e.smartbanner=function(n){var i=e(window),a=i.data("smartbanner"),r=typeof n=="object"&&n;if(!a)i.data("smartbanner",a=new t(r));if(typeof n=="string")a[n]()};e.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,hideOnInstall:true,layer:false,iOSUniversalApp:true,appendToSelector:"body"};e.smartbanner.Constructor=t;function n(){var e=document.createElement("smartbanner");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t){if(e.style[n]!==undefined){return{end:t[n]}}}return false}if(e.support.transition!==undefined)return;e.fn.emulateTransitionEnd=function(t){var n=false,i=this;e(this).one(e.support.transition.end,function(){n=true});var a=function(){if(!n)e(i).trigger(e.support.transition.end)};setTimeout(a,t);return this};e(function(){e.support.transition=n()})}(window.Zepto)},function(e,t,n){(function(i){var a,r;(function(i){var s={},o=i.document,l="localStorage",c;s.disabled=false;s.set=function(e,t){};s.get=function(e){};s.remove=function(e){};s.clear=function(){};s.transact=function(e,t,n){var i=s.get(e);if(n==null){n=t;t=null}if(typeof i=="undefined"){i=t||{}}n(i);s.set(e,i)};s.getAll=function(){};s.forEach=function(){};s.serialize=function(e){return JSON.stringify(e)};s.deserialize=function(e){if(typeof e!="string"){return undefined}try{return JSON.parse(e)}catch(t){return e||undefined}};function u(){try{return l in i&&i[l]}catch(e){return false}}if(u()){c=i[l];s.set=function(e,t){c.setItem(e,s.serialize(t));return t};s.get=function(e){return s.deserialize(c.getItem(e))};s.remove=function(e){c.removeItem(e)};s.clear=function(){c.clear()};s.getAll=function(){var e={};s.forEach(function(t,n){e[t]=n});return e};s.forEach=function(e){for(var t=0;t<c.length;t++){var n=c.key(t);e(n,s.get(n))}}}else if(o.documentElement.addBehavior){var d,f;try{f=new ActiveXObject("htmlfile");f.open();f.write("<s"+"cript>document.w=window</s"+'cript><iframe src="/favicon.ico"></iframe>');f.close();d=f.w.frames[0].document;c=d.createElement("div")}catch(e){c=o.createElement("div");d=o.body}function p(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(c);d.appendChild(c);c.addBehavior("#default#userData");c.load(l);var n=e.apply(s,t);d.removeChild(c);return n}}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function m(e){return e.replace(h,"___")}s.set=p(function(e,t,n){t=m(t);if(n===undefined){return s.remove(t)}e.setAttribute(t,s.serialize(n));e.save(l);return n});s.get=p(function(e,t){t=m(t);return s.deserialize(e.getAttribute(t))});s.remove=p(function(e,t){t=m(t);e.removeAttribute(t);e.save(l)});s.clear=p(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n=0,i;i=t[n];n++){e.removeAttribute(i.name)}e.save(l)});s.getAll=p(function(e){var t={};s.forEach(function(e,n){t[e]=n});return t});s.forEach=p(function(e,t){var n=e.XMLDocument.documentElement.attributes;for(var i=0,a;a=n[i];++i){var r=m(a.name);t(ret[a.name],s.deserialize(e.getAttribute(r)))}})}try{var _="__storejs__";s.set(_,_);if(s.get(_)!=_){s.disabled=true}s.remove(_)}catch(e){s.disabled=true}s.enabled=!s.disabled;if(typeof e!="undefined"&&e.exports){e.exports=s}else if(true){!(a=s,r=typeof a==="function"?a.call(t,n,t,e):a,r!==undefined&&(e.exports=r))}else{i.store=s}s.cut=s.remove;s.deserialize=function(e){if(typeof e!=="string"){return undefined}try{return JSON.parse(e)}catch(e){return undefined}};s.has=function(e){return window.localStorage.getItem(e)!==null};i.stash=s;if(s.enabled)return;c={getItem:function(e){return this[e]},setItem:function(e,t){this[e]=String(t)},removeItem:function(e){delete this[e]},clear:function(){for(var e in this){if(typeof this[e]!=="function"){delete this[e]}}}}})(window||i)}).call(t,n(54))},function(e,t){SUGAR.expressions.ForecastIncludedCommitStagesExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastIncludedCommitStagesExpression,SUGAR.expressions.EnumExpression,{className:"ForecastIncludedCommitStagesExpression",evaluate:function(){if(n===undefined){return SUGAR.language.get("app_list_strings","sales_stage_dom")}var e=n.metadata.getModule("Forecasts","config");return e.commit_stages_included},getParamCount:function(){return 0},getParameterTypes:function(){return[]}});SUGAR.expressions.SugarDropDownExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarDropDownExpression,SUGAR.expressions.EnumExpression,{className:"SugarDropDownExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,i=[];if(n){t=n.lang.getAppListStrings(e)}else{t=SUGAR.language.get("app_list_strings",e)}if(t&&t!="undefined"){for(var a in t){if(typeof a=="string")i[i.length]=a}}return i},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.ForecastSalesStageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastSalesStageExpression,SUGAR.expressions.EnumExpression,{className:"ForecastSalesStageExpression",evaluate:function(){if(n===undefined){return SUGAR.language.get("app_list_strings","sales_stage_dom")}var e=SUGAR.expressions.Expression,t=n.metadata.getModule("Forecasts","config"),i=this.getParameters(),a=i[0].evaluate(),r=i[1].evaluate(),s=_.keys(n.lang.getAppListStrings("sales_stage_dom")),o=[];if(!e.isTruthy(a)){o=_.union(o,t.sales_stage_won)}if(!e.isTruthy(r)){o=_.union(o,t.sales_stage_lost)}return _.difference(s,o)},getParamCount:function(){return 2},getParameterTypes:function(){return["boolean","boolean"]}});SUGAR.expressions.SugarTranslatedDropDownExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarTranslatedDropDownExpression,SUGAR.expressions.EnumExpression,{className:"SugarTranslatedDropDownExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,i=[];if(n){t=n.lang.getAppListStrings(e)}else{t=SUGAR.language.get("app_list_strings",e)}if(t&&t!="undefined"){for(var a in t){if(typeof a=="string")i[i.length]=t[a]}}return i},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.SugarListWhereExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarListWhereExpression,SUGAR.expressions.EnumExpression,{className:"SugarListWhereExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=[];for(var a=0;a<n.length;a++){if(n[a].length>0){if(n[a][0]==t){i=n[a][1];break}}}return i=="undefined"?[]:i},getParamCount:function(){return 2},getParameterTypes:function(){return["string","enum"]}});SUGAR.expressions.DefineEnumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineEnumExpression,SUGAR.expressions.EnumExpression,{className:"DefineEnumExpression",evaluate:function(){var e=this.getParameters();var t=[];if(typeof e.length!="undefined"){for(var n=0;n<e.length;n++){t[t.length]=e[n].evaluate()}}else{return[e.evaluate()]}return t},getParameterTypes:function(){return"generic"}});SUGAR.expressions.AndExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AndExpression,SUGAR.expressions.BooleanExpression,{className:"AndExpression",evaluate:function(){var e=this.getParameters();if(!(e instanceof Array))e=[e];for(var t=0;t<e.length;t++){if(e[t].evaluate()!=SUGAR.expressions.Expression.TRUE)return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE}});SUGAR.expressions.isBeforeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.isBeforeExpression,SUGAR.expressions.BooleanExpression,{className:"isBeforeExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(!t||!n||isNaN(t)||isNaN(n)){return SUGAR.expressions.Expression.FALSE}if(t<n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["date","date"]}});SUGAR.expressions.BinaryDependencyExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.BinaryDependencyExpression,SUGAR.expressions.BooleanExpression,{className:"BinaryDependencyExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(t!=null&&n!=null&&t!=""&&n!="")return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["string","string"]}});SUGAR.expressions.OrExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.OrExpression,SUGAR.expressions.BooleanExpression,{className:"OrExpression",evaluate:function(){var e=this.getParameters();for(var t=0;t<e.length;t++){if(e[t].evaluate()==SUGAR.expressions.Expression.TRUE)return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE}});SUGAR.expressions.IsAlphaExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsAlphaExpression,SUGAR.expressions.BooleanExpression,{className:"IsAlphaExpression",evaluate:function(){var e=this.getParameters().evaluate();if(/^[a-zA-Z]+$/.test(e))return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsForecastClosedLostExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedLostExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedLostExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config")||{},i=t.sales_stage_lost||["Closed Lost"];if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsValidTimeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidTimeExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidTimeExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=/^(\d{1,2}):(\d\d)\s*([ap]m)?$/i;if(e.length==0)return SUGAR.expressions.Expression.TRUE;myregexp=new RegExp(t);if(!myregexp.test(e))return SUGAR.expressions.Expression.FALSE;var n=e.match(t);if(n[1]>23||n[2]>59){return SUGAR.expressions.Expression.FALSE}if(n[3]&&(n[1]>12||n[1]==0)){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsAlphaNumericExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsAlphaNumericExpression,SUGAR.expressions.BooleanExpression,{className:"IsAlphaNumericExpression",evaluate:function(){var e=this.getParameters().evaluate();if(/^[a-zA-Z0-9]+$/.test(e))return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsRequiredCollectionExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsRequiredCollectionExpression,SUGAR.expressions.BooleanExpression,{className:"IsRequiredCollectionExpression",evaluate:function(){var e=this.getParameters().evaluate();table=document.getElementById(e);children=YAHOO.util.Dom.getElementsByClassName("sqsEnabled","input",table);for(id in children){if(trim(children[id].value)!=""){return SUGAR.expressions.Expression.TRUE}}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.isAfterExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.isAfterExpression,SUGAR.expressions.BooleanExpression,{className:"isAfterExpression",evaluate:function(){var e=this.getParameters();var t=SUGAR.util.DateUtils.parse(e[0].evaluate());var n=SUGAR.util.DateUtils.parse(e[1].evaluate());if(!t||!n||isNaN(t)||isNaN(n)){return SUGAR.expressions.Expression.FALSE}if(t>n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["date","date"]}});SUGAR.expressions.IsInEnumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsInEnumExpression,SUGAR.expressions.BooleanExpression,{className:"IsInEnumExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();for(var i=0;i<t.length;i++){var a=t[i];if(a instanceof SUGAR.expressions.Expression)a=a.evaluate();if(a==n)return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","enum"]}});SUGAR.expressions.IsValidEmailExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidEmailExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidEmailExpression",evaluate:function(){var e=this.getParameters().evaluate();if(typeof e!="string")return SUGAR.expressions.Expression.FALSE;if(e=="")return SUGAR.expressions.Expression.TRUE;var t=e.charAt(e.length-1);if(!t.match(/[^\.]/i))return SUGAR.expressions.Expression.FALSE;var n=e.split(/[,;]/);for(var i=0;i<n.length;i++){var a=n[i];a=a.replace(/^\s+|\s+$/g,"");if(a!=""&&!/^(([^<>()\[\]\.,;:\s@"]+(\.[^<>()\[\]\.,;:\s@"]+)*)|(".+"))@\S+$/.test(a)){return SUGAR.expressions.Expression.FALSE}}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsNumericExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsNumericExpression,SUGAR.expressions.BooleanExpression,{className:"IsNumericExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e===""||e===null){return SUGAR.expressions.Expression.FALSE}if(isFinite(e)&&!isNaN(parseFloat(e))){return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsValidPhoneExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidPhoneExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidPhoneExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e.length==0)return SUGAR.expressions.Expression.TRUE;if(!/^\+?[0-9\-\(\)\s]+$/.test(e))return SUGAR.expressions.Expression.FALSE;return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsValidDBNameExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidDBNameExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidDBNameExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e.length==0){return true}if(!/^[a-zA-Z][a-zA-Z\_0-9]+$/.test(e))return SUGAR.expressions.Expression.FALSE;return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.NotExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NotExpression,SUGAR.expressions.BooleanExpression,{className:"NotExpression",evaluate:function(){if(this.getParameters().evaluate()==SUGAR.expressions.Expression.FALSE)return SUGAR.expressions.Expression.TRUE;else return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1}});SUGAR.expressions.IsForecastClosedWonExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedWonExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedWonExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config")||{},i=t.sales_stage_won||["Closed Won"];if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsForecastClosedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config"),i=["Closed Won","Closed Lost"];if(!_.isUndefined(t)){i=_.union(t.sales_stage_won,t.sales_stage_lost)}if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.EqualExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.EqualExpression,SUGAR.expressions.BooleanExpression,{className:"EqualExpression",evaluate:function(){var e=SUGAR.expressions.Expression,t=this.getParameters(),n=t[0].evaluate(),i=t[1].evaluate(),a=t[0]instanceof SUGAR.expressions.BooleanExpression||t[1]instanceof SUGAR.expressions.BooleanExpression;if(n==i||a&&(e.isTruthy(n)&&e.isTruthy(i)||!e.isTruthy(n)&&!e.isTruthy(i))){return e.TRUE}return e.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","generic"]}});SUGAR.expressions.GreaterThanExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.GreaterThanExpression,SUGAR.expressions.BooleanExpression,{className:"GreaterThanExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(t>n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["number","number"]}});SUGAR.expressions.IsValidDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidDateExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidDateExpression",evaluate:function(){var e=this.getParameters().evaluate();if(typeof e!="string"||e=="")return SUGAR.expressions.Expression.FALSE;var t="Y-m-d";if(SUGAR.expressions.userPrefs)t=SUGAR.expressions.userPrefs.datef;var n=SUGAR.util.DateUtils.parse(e,t);if(n!=false&&n!="Invalid Date")return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsInRangeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsInRangeExpression,SUGAR.expressions.BooleanExpression,{className:"IsInRangeExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=e[2].evaluate();if(t>=n&&t<=i)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 3},getParameterTypes:function(){return["number","number","number"]}});SUGAR.expressions.HourOfDayExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.HourOfDayExpression,SUGAR.expressions.TimeExpression,{className:"HourOfDayExpression",evaluate:function(){var e=this.getParameters().evaluate();return new Date(e).getHours()},getParamCount:function(){return 1}});SUGAR.expressions.DefineTimeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineTimeExpression,SUGAR.expressions.TimeExpression,{className:"DefineTimeExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=Date.parse(e);if(isNaN(t))throw"Incorrect time format";return t},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.DefineDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineDateExpression,SUGAR.expressions.DateExpression,{className:"DefineDateExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=SUGAR.util.DateUtils.parse(e,"user");if(t==false)throw"Incorrect date format";return t},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.DaysUntilExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DaysUntilExpression,SUGAR.expressions.NumericExpression,{className:"DaysUntilExpression",evaluate:function(){var e=SUGAR.util.DateUtils.parse(this.getParameters().evaluate(),"user");var t=new Date;e.setHours(0);e.setMinutes(0);e.setSeconds(0);var n=e-t;var i=Math.ceil(n/864e5);return i},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.NowExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NowExpression,SUGAR.expressions.DateExpression,{className:"NowExpression",evaluate:function(){var e=SUGAR.util.DateUtils.getUserTime();e.setSeconds(0);if(this.context.view){e=n.date.format(e,"Y-m-d H:i:s")}return e},getParamCount:function(){return 0}});SUGAR.expressions.TodayExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.TodayExpression,SUGAR.expressions.DateExpression,{className:"TodayExpression",evaluate:function(){var e=new Date;e.setHours(0);e.setMinutes(0);e.setSeconds(0);if(this.context.view){e=n.date.format(e,"Y-m-d")}return e},getParamCount:function(){return 0}});SUGAR.expressions.MaxRelatedDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaxRelatedDateExpression,SUGAR.expressions.DateExpression,{className:"MaxRelatedDateExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.id||s.cid,l=function(e,t){return e<t?1:e>t?-1:0},c=this.context.isRemoveEvent||false,u=this.context.getRelatedField(a,"maxRelatedDate",r)||"",d=s.get(r)||"",f=[],p="";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"maxRelatedDate",r,s,c?"remove":"add")}var h=this.context.getRelatedCollectionValues(this.context.model,a,"maxRelatedDate",r)||{};if(_.isEqual(d,"")){return u}_.each(h,function(e){f.push(new n.date(e))});p=f.sort(l)[0].format("YYYY-MM-DD");if(!_.isEqual(p,u)){this.context.model.set(i,p);this.context.updateRelatedFieldValue(a,"maxRelatedDate",r,p,this.context.model.isNew())}},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.TimestampExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.TimestampExpression,SUGAR.expressions.DateExpression,{className:"TimestampExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,n=[],i=this.context.parseDate(e);return Math.round(+i.getTime()/1e3)},getParamCount:function(){return 1}});SUGAR.expressions.HoursUntilExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.HoursUntilExpression,SUGAR.expressions.NumericExpression,{className:"HoursUntilExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=SUGAR.util.DateUtils.parse(e);if(!t&&t!==0)return false;var n=new Date;if(typeof e=="string"&&e.indexOf(" ")==-1&&e.indexOf("T")==-1){n.setHours(0,0,0,0)}var i=t-n;return~~(i/36e5)},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.MonthOfYearExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MonthOfYearExpression,SUGAR.expressions.NumericExpression,{className:"MonthOfYearExpression",evaluate:function(){var e=this.getParameters().evaluate();return new Date(e).getMonth()+1},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.AddDaysExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AddDaysExpression,SUGAR.expressions.DateExpression,{className:"AddDaysExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();if(!t){return""}var i=parseInt(e[1].evaluate(),10);if(_.isNaN(i)){return""}var a=SUGAR.util.DateUtils.parse(t,"user");var r=new Date(a);r.setDate(r.getDate()+i);if(this.context.view){r=n.date.format(r,"Y-m-d")}return r},getParamCount:function(){return 2},getParameterTypes:function(){return["date","number"]}});SUGAR.expressions.DayOfWeekExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DayOfWeekExpression,SUGAR.expressions.NumericExpression,{className:"DayOfWeekExpression",evaluate:function(){var e,t=this.getParameters().evaluate();if(_.isString(t)&&_.isEmpty(t)){return""}if(this.context.view){e=n.date(t).format("d").toString()}else{e=new Date(t).getDay()}return e},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.AddExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AddExpression,SUGAR.expressions.NumericExpression,{className:"AddExpression",evaluate:function(){var e=this.getParameters(),t=0;for(var n=0;n<e.length;n++){t=this.context.add(t,e[n].evaluate())}return t}});SUGAR.expressions.MaxRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaxRelatedExpression,SUGAR.expressions.NumericExpression,{className:"MaxRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.id||s.cid,l=s.fields[r].type==="currency",c=function(e,t){return parseFloat(e)<parseFloat(t)?1:parseFloat(e)>parseFloat(t)?-1:0},u=this.context.isRemoveEvent||false,d=this.context.getRelatedField(a,"rollupMax",r)||"",f={},p="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupMax",r,s,u?"remove":"add")}var h=this.context.getRelatedCollectionValues(this.context.model,a,"rollupMax",r)||{};if(_.size(h)>0){f=_.map(_.values(h),_.partial(parseInt,_,10));f=_.filter(f,_.isFinite);p=f.sort(c)[0];if(l){p=n.currency.convertFromBase(p,this.context.model.get("currency_id"))}}if(!_.isEqual(p,d)){this.context.model.set(i,p);this.context.updateRelatedFieldValue(a,"rollupMax",r,p,this.context.model.isNew())}return p},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.StandardDeviationExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StandardDeviationExpression,SUGAR.expressions.NumericExpression,{className:"StandardDeviationExpression",evaluate:function(){var e=this.getParameters();var t=new Array;var n=0;var i=e.length;for(var a=0;a<e.length;a++){value=e[a].evaluate();t[t.length]=value;n=this.context.add(n,value)}var r=this.context.divide(n,i);var s=0;for(var a=0;a<t.length;a++)s+=Math.pow(this.context.subtract(t[a],r),2);var o=this.context.multiply(this.context.divide(1,i),s);return Math.sqrt(o)}});SUGAR.expressions.PowerExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.PowerExpression,SUGAR.expressions.NumericExpression,{className:"PowerExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();return Math.pow(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.ValueOfExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ValueOfExpression,SUGAR.expressions.NumericExpression,{className:"ValueOfExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";e=e.replace(/,/g,"");var t=0;if(e.indexOf(".")!=-1)t=parseFloat(e);else t=parseInt(e);if(isNaN(t))throw"Error: '"+e+"' is not a number";return t},getParamCount:function(){return 1},getParameterTypes:function(){return"generic"}});SUGAR.expressions.MinimumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MinimumExpression,SUGAR.expressions.NumericExpression,{className:"MinimumExpression",evaluate:function(){var e=this.getParameters();var t=null;for(var n=0;n<e.length;n++){var i=e[n].evaluate();if(t==null||i<t)t=i}return t}});SUGAR.expressions.LogExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.LogExpression,SUGAR.expressions.NumericExpression,{className:"LogExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();return this.context.divide(Math.log(n),Math.log(t))},getParamCount:function(){return 2}});SUGAR.expressions.FloorExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.FloorExpression,SUGAR.expressions.NumericExpression,{className:"FloorExpression",evaluate:function(){return Math.floor(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.MaximumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaximumExpression,SUGAR.expressions.NumericExpression,{className:"MaximumExpression",evaluate:function(){var e=this.getParameters();var t=null;for(var n=0;n<e.length;n++){var i=e[n].evaluate();if(t==null||i>t)t=i}return t}});SUGAR.expressions.SubtractExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SubtractExpression,SUGAR.expressions.NumericExpression,{className:"SubtractExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate();for(var n=1;n<e.length;n++){t=this.context.subtract(t,e[n].evaluate())}return t}});SUGAR.expressions.MedianExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MedianExpression,SUGAR.expressions.NumericExpression,{className:"MedianExpression",evaluate:function(){var e=this.getParameters();var t=new Array;for(var n=0;n<e.length;n++)t[t.length]=parseFloat(e[n].evaluate());t.sort(function(e,t){return e-t});if(t.length%2==0){return(t[t.length/2]+t[t.length/2-1])/2}return t[Math.round(t.length/2)-1]}});SUGAR.expressions.MinRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MinRelatedExpression,SUGAR.expressions.NumericExpression,{className:"MinRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.fields[r].type==="currency",l=function(e,t){return parseFloat(e)>parseFloat(t)?1:parseFloat(e)<parseFloat(t)?-1:0},c=this.context.isRemoveEvent||false,u=this.context.getRelatedField(a,"rollupMin",r)||"",d={},f="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupMin",r,s,c?"remove":"add")}var p=this.context.getRelatedCollectionValues(this.context.model,a,"rollupMin",r)||{};if(_.size(p)>0){d=_.map(_.values(p),_.partial(parseInt,_,10));d=_.filter(d,_.isFinite);f=d.sort(l)[0];if(o){f=n.currency.convertFromBase(f,this.context.model.get("currency_id"))}}if(!_.isEqual(f,u)){this.context.model.set(i,f);this.context.updateRelatedFieldValue(a,"rollupMin",r,f,this.context.model.isNew())}return f},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.AverageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AverageExpression,SUGAR.expressions.NumericExpression,{className:"AverageExpression",evaluate:function(){var e=0;var t=0;var n=this.getParameters();for(var i=0;i<n.length;i++){e=this.context.add(e,n[i].evaluate());t++}return this.context.divide(e,t)}});SUGAR.expressions.NaturalLogExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NaturalLogExpression,SUGAR.expressions.NumericExpression,{className:"NaturalLogExpression",evaluate:function(){return Math.log(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.StringLengthExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StringLengthExpression,SUGAR.expressions.NumericExpression,{className:"StringLengthExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.length},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.CountRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CountRelatedExpression,SUGAR.expressions.NumericExpression,{className:"CountRelatedExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){if(typeof e=="string"&&e!=""){return this.context.getRelatedField(e,"count")}return""}var t=this.context.target,i=0,a=this.context.model.getRelatedCollection(e);if(a.dataFetched||this.context.model.isNew()){i=a.length}else if(this.context.model.has(e)){var r=this.context.model.get(e);if(r.count){i=r.count}}this.context.model.set(t,i);this.context.updateRelatedFieldValue(e,"count","",i,this.context.model.isNew());return i},getParamCount:function(){return 1},getParameterTypes:function(){return["relate"]}});SUGAR.expressions.CountConditionalRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CountConditionalRelatedExpression,SUGAR.expressions.NumericExpression,{className:"CountConditionalRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate(),s=e[2].evaluate();if(!_.isArray(s)){s=[s]}var o=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),l=o.id||o.cid,c=this.context.isRemoveEvent||false,u=this.context.changingField===r,d=_.has(o.changed,r),f=_.contains(s,o.get(r));if(f||d){var p=this.context.getRelatedField(a,"countConditional",i)||"0",h=this.context.previous_values||{},m=h[i+"--"+l]||"",g=o.get(r);rollup_value=undefined;if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"countConditional",i,o,c?"remove":"add")}if(!this.context.model.isNew()&&_.isEmpty(m)){m=o.previous(r)}this.context.previous_values=this.context.previous_values||{};if(this.context.previous_values[i+"--"+o.cid]&&l!=o.cid){delete this.context.previous_values[i+"--"+o.cid]}this.context.previous_values[i+"--"+l]=g;if(g==m&&!c){return}if(f&&!c){if(!_.contains(s,m)){rollup_value=n.math.add(p,1,0,true)}}else if(!f&&!c||c&&f){rollup_value=n.math.sub(p,1,0,true)}if(!_.isUndefined(rollup_value)&&_.isFinite(rollup_value)){this.context.model.set(i,rollup_value);this.context.updateRelatedFieldValue(a,"countConditional",i,rollup_value,this.context.model.isNew())}}},getParamCount:function(){return 3},getParameterTypes:function(){return["relate","string","generic"]}});SUGAR.expressions.CeilingExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CeilingExpression,SUGAR.expressions.NumericExpression,{className:"CeilingExpression",evaluate:function(){return Math.ceil(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.SumConditionalRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SumConditionalRelatedExpression,SUGAR.expressions.NumericExpression,{className:"SumConditionalRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate(),s=e[2].evaluate(),o=e[3].evaluate();if(!_.isArray(o)){o=[o]}var l=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),c=l.id||l.cid,u=l.fields[r].precision||6,d=this.context.isRemoveEvent||false,f=this.context.changingField===s,p=_.has(l.changed,s),h=_.contains(o,l.get(s));if(h||p){var m=l.fields[r].type==="currency",g=this.context.getRelatedField(a,"rollupConditionalSum",r)||"0",v=this.context.model.getRelatedCollection(a),b="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupConditionalSum",r,l,d?"remove":"add")}var y=this.context.getRelatedCollectionValues(this.context.model,a,"rollupConditionalSum",r)||{};if(_.size(y)>0){b=_.reduce(y,function(e,t,i){var a=v.get(i);if(!a||_.contains(o,a.get(s))){return n.math.add(e,t,u,true)}return e},"0");if(m){b=n.currency.convertFromBase(b,this.context.model.get("currency_id"))}}if(!_.isEqual(b,g)){this.context.model.set(i,b);this.context.updateRelatedFieldValue(a,"rollupConditionalSum",r,b,this.context.model.isNew())}return b}},getParamCount:function(){return 4},getParameterTypes:function(){return["relate","string","string","generic"]}});SUGAR.expressions.AbsoluteValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AbsoluteValueExpression,SUGAR.expressions.NumericExpression,{className:"AbsoluteValueExpression",evaluate:function(){return Math.abs(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.DivideExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DivideExpression,SUGAR.expressions.NumericExpression,{className:"DivideExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate();denominator=e[1].evaluate();if(denominator==0){throw"Division by 0 error"}return this.context.divide(t,denominator)},getParamCount:function(){return 2}});SUGAR.expressions.RoundExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.RoundExpression,SUGAR.expressions.NumericExpression,{className:"RoundExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();return this.context.round(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.SumRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SumRelatedExpression,SUGAR.expressions.NumericExpression,{className:"SumRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.fields[r].type==="currency",l=s.fields[r].precision||6,c=this.context.isRemoveEvent||false,u=this.context.getRelatedField(a,"rollupSum",r)||"",d="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupSum",r,s,c?"remove":"add")}var f=this.context.getRelatedCollectionValues(this.context.model,a,"rollupSum",r)||{};if(_.size(f)>0){d=_.reduce(f,function(e,t){return n.math.add(e,t,l,true)},"0");if(o){d=n.currency.convertFromBase(d,this.context.model.get("currency_id"))}}if(!_.isEqual(d,u)){this.context.model.set(i,d);this.context.updateRelatedFieldValue(a,"rollupSum",r,d,this.context.model.isNew())}return d},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.AverageRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AverageRelatedExpression,SUGAR.expressions.NumericExpression,{className:"AverageRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.fields[r].type==="currency",l=s.fields[r].precision||6,c=this.context.isRemoveEvent||false,u=this.context.getRelatedField(a,"rollupAve",r)||"",d="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupAve",r,s,c?"remove":"add")}var f=this.context.getRelatedCollectionValues(this.context.model,a,"rollupAve",r)||{};if(_.size(f)>0){d=_.reduce(f,function(e,t){return n.math.add(e,t,l,true)},"0");d=n.math.div(d,_.size(f),l,true);if(o){d=n.currency.convertFromBase(d,this.context.model.get("currency_id"))}}if(!_.isEqual(d,u)){this.context.model.set(i,d);this.context.updateRelatedFieldValue(a,"rollupAve",r,d,this.context.model.isNew())}return d},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.NegateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NegateExpression,SUGAR.expressions.NumericExpression,{className:"NegateExpression",evaluate:function(){return this.context.multiply("-1",this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.MultiplyExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MultiplyExpression,SUGAR.expressions.NumericExpression,{className:"MultiplyExpression",evaluate:function(){var e=this.getParameters(),t="1";for(var n=0;n<e.length;n++){t=this.context.multiply(t,e[n].evaluate())}return t}});SUGAR.expressions.IndexOfExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IndexOfExpression,SUGAR.expressions.NumericExpression,{className:"IndexOfExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();for(var i=0;i<t.length;i++){if(t[i]==n){return i}}return-1},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","enum"]}});SUGAR.expressions.ForecastCommitStageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastCommitStageExpression,SUGAR.expressions.EnumExpression,{className:"ForecastCommitStageExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return""}var t=n.metadata.getModule("Forecasts","config");if(t.forecast_setup===0){return""}var i=t[t.forecast_ranges+"_ranges"],a="";_.find(i,function(t,n){if(e>=t.min&&e<=t.max){a=n;return true}return false});return a},getParamCount:function(){return 1},getParameterTypes:function(){return["number"]}});SUGAR.expressions.ConcatenateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConcatenateExpression,SUGAR.expressions.StringExpression,{className:"ConcatenateExpression",evaluate:function(){var e="";var t=this.getParameters();for(var n=0;n<t.length;n++){e+=t[n].evaluate()}return e}});SUGAR.expressions.CharacterAtExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CharacterAtExpression,SUGAR.expressions.StringExpression,{className:"CharacterAtExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();return t.charAt(n)},getParamCount:function(){return 2},getParameterTypes:function(){return["string","number"]}});SUGAR.expressions.StrToLowerExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StrToLowerExpression,SUGAR.expressions.StringExpression,{className:"StrToLowerExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.toLowerCase()},getParamCount:function(){return 1}});SUGAR.expressions.FormatedNameExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.FormatedNameExpression,SUGAR.expressions.StringExpression,{className:"FormatedNameExpression",evaluate:function(){var e=this.getParameters();var t={s:e[0].evaluate(),f:e[1].evaluate(),l:e[2].evaluate(),t:e[3].evaluate()};var n="";for(i=0;i<name_format.length;i++){if(t[name_format.substr(i,1)]!=undefined){n+=t[name_format.substr(i,1)]}else{n+=name_format.substr(i,1)}}return n},getParamCount:function(){return 4}});SUGAR.expressions.SubStrExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SubStrExpression,SUGAR.expressions.StringExpression,{className:"SubStrExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();var i=e[2].evaluate();return t.substr(n,i)},getParamCount:function(){return 3},getParameterTypes:function(){return["string","number","number"]}});SUGAR.expressions.DefineStringExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineStringExpression,SUGAR.expressions.StringExpression,{className:"DefineStringExpression",evaluate:function(){var e=this.getParameters().evaluate(),t;if(e instanceof Date){var i=e.type=="date";t=n.date(e).formatUser(i)}else{t=e+""}return t},getParamCount:function(){return 1},getParameterTypes:function(){return["generic"]}});SUGAR.expressions.SugarDropDownValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarDropDownValueExpression,SUGAR.expressions.StringExpression,{className:"SugarDropDownValueExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=this.context.getAppListStrings(t);if(i=="undefined")return"";for(var a in i){if(typeof a=="string"&&a==n)return i[a]}return""},getParamCount:function(){return 2}});SUGAR.expressions.StrToUpperExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StrToUpperExpression,SUGAR.expressions.StringExpression,{className:"StrToUpperExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.toUpperCase()},getParamCount:function(){return 1}});SUGAR.expressions.SugarTranslateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarTranslateExpression,SUGAR.expressions.StringExpression,{className:"SugarTranslateExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();if(t=="")t="app_strings";var n=e[0].evaluate();return SUGAR.language.get(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.ContainsExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ContainsExpression,SUGAR.expressions.BooleanExpression,{className:"ContainsExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();return t.indexOf(n)>-1?SUGAR.expressions.Expression.TRUE:SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return"string"}});SUGAR.expressions.ConditionExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConditionExpression,SUGAR.expressions.GenericExpression,{className:"ConditionExpression",evaluate:function(){var e=SUGAR.expressions.Expression,t=this.getParameters(),n=t[0].evaluate();if(e.isTruthy(n)){return t[1].evaluate()}else{return t[2].evaluate()}},getParamCount:function(){return 3},getParameterTypes:function(){return["boolean","generic","generic"]}});SUGAR.expressions.CurrencyRateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CurrencyRateExpression,SUGAR.expressions.GenericExpression,{className:"CurrencyRateExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.getParameters().evaluate();return n.metadata.getCurrency(e).conversion_rate},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IndexValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IndexValueExpression,SUGAR.expressions.GenericExpression,{className:"IndexValueExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();if(typeof n=="string"&&!isNaN(n))n=Number(n);if(n>=t.length||n<0)throw"value_at: Attempt to access an index out of bounds";return t[n]},getParamCount:function(){return 2},getParameterTypes:function(){return["number","enum"]}});SUGAR.expressions.SugarFieldExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarFieldExpression,SUGAR.expressions.GenericExpression,{className:"SugarFieldExpression",evaluate:function(){var e=this.getParameters().evaluate();return SUGAR.forms.AssignmentHandler.getValue(e)},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.RelatedFieldExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.RelatedFieldExpression,SUGAR.expressions.GenericExpression,{className:"RelatedFieldExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate(),n=e[1].evaluate();if(typeof t=="string"&&t!=""){return this.context.getRelatedField(t,"related",n)}else if(typeof rel=="object"){}return""},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.forms.StyleAction=function(e,t){this.target=e;this.attrs=t};SUGAR.util.extend(SUGAR.forms.StyleAction,SUGAR.forms.AbstractAction,{exec:function(e){if(SUGAR.App)return;if(typeof e=="undefined")e=this.context;try{var t={};for(var n in this.attrs){t[n]=this.evalExpression(this.attrs[n],e)}e.setStyle(this.target,t)}catch(e){return}}});SUGAR.forms.ReadOnlyAction=function(e,t){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}this.target=e;this.expr=t};SUGAR.util.extend(SUGAR.forms.ReadOnlyAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;var t=this.evalExpression(this.expr,e),n=t==SUGAR.expressions.Expression.TRUE;if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setFieldDisabled(this.target,n)}else{this.bwcExec(e,n)}},bwcExec:function(e,t){var n=SUGAR.forms.AssignmentHandler.getElement(this.target);if(!n){return}this.setReadOnly(n,t);this.setDateField(n,t)},setReadOnly:function(e,t){var n=YAHOO.util.Dom;var i=e.type=="checkbox"||"select"?"disabled":"readonly";e[i]=t;if(t){n.setStyle(e,"background-color","#EEE");if(!SUGAR.isIE)n.setStyle(e,"color","#22")}else{n.setStyle(e,"background-color","");if(!SUGAR.isIE)n.setStyle(e,"color","")}},setDateField:function(e,t){var n=YAHOO.util.Dom,i=e.id,a=n.get(i+"_trigger");if(!a)return;var r=[n.get(i+"_date"),n.get(i+"_minutes"),n.get(i+"_meridiem"),n.get(i+"_hours")];for(var s in r)if(r[s]&&r[s].id)this.setReadOnly(r[s],t);if(t)n.setStyle(a,"display","none");else n.setStyle(a,"display","")}});SUGAR.forms.SetValueAction=function(e,t){if(_.isObject(e)){this.expr=e.value;this.target=e.target;this.errorValue=!_.isUndefined(e.errorValue)?e.errorValue:null}else{this.expr=t;this.target=e}};SUGAR.util.extend(SUGAR.forms.SetValueAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined"){e=this.context}try{e.target=this.target;var t=this.evalExpression(this.expr,e),n=e.getValue(this.target).evaluate();if(!_.isUndefined(t)&&t!==n&&this.canSetValue(e)){e.setValue(this.target,t)}}catch(t){if(!_.isUndefined(this.errorValue)&&!_.isNull(this.errorValue)){e.setValue(this.target,this.errorValue)}}}});SUGAR.forms.SetOptionsAction=function(e,t,n){this.afterRender=true;if(_.isObject(e)){n=e.labels;t=e.keys;e=e.target}this.keyExpr=t;this.labelExpr=n;this.target=e};SUGAR.util.extend(SUGAR.forms.SetOptionsAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;var t=this.evalExpression(this.keyExpr,e),i=this.evalExpression(this.labelExpr,e),a,r="";if(e.view){var s=e.getField(this.target);if(!s){return}r=[].concat(s.model.get(this.target));if(!this.canSetValue(e)){t=_.uniq(t.concat(r))}a=(_.size(t)===0||_.size(t)===1)&&(t[0]==undefined||t[0]==="");if(_.isString(i))s.items=_.pick(n.lang.getAppListStrings(i),t);else s.items=_.object(t,i);slContext=e;s.model.fields[this.target].options=s.items;var o=new SUGAR.forms.SetVisibilityAction(this.target,a?"false":"true","");o.setContext(e);o.exec();r=_.filter(r,function(e){return _.contains(t,e)});if((r.length==0||r.length==1&&r[0]=="")&&s.model.fields[s.name].type!="multienum"){r=[a?"":t[0]]}e.setValue(this.target,r)}else{var s=e.getElement(this.target);if(s==null)return null;if(t instanceof Array&&s.options!=null){var l=s.options;r=[];for(var c=0;c<l.length;c++){if(l[c].selected)r=r.concat(l[c].value)}while(l.length>0){s.remove(l[0])}if(typeof i=="string"){var u=SUGAR.language.get("app_list_strings",i);i=[];for(var c in t){i[c]=u[t[c]]}}var d;for(var c in t){if(i instanceof Array){if(typeof t[c]=="string"){if(typeof i[c]=="string"){d=l[l.length]=new Option(i[c],t[c],t[c]==r)}else{d=l[l.length]=new Option(t[c],t[c],t[c]==r)}}}else{if(typeof t[0]=="undefined"){if(typeof t[c]=="string"){d=l[l.length]=new Option(t[c],c)}}else{if(typeof value[c]=="string"){d=l[l.length]=new Option(t[c],t[c])}}}if(_.indexOf(r,t[c])>-1){d.selected=true}}if(!s.multiple&&s.value!=r){SUGAR.forms.AssignmentHandler.assign(this.target,s.value)}var a=s.multiple&&s.options.length==0||!s.multiple&&s.options.length<=1&&s.value=="";var o=new SUGAR.forms.SetVisibilityAction(this.target,a?"false":"true","");o.setContext(e);o.exec();if(SUGAR.forms.AssignmentHandler.ANIMATE&&!a)SUGAR.forms.FlashField(s)}else if(t instanceof Array&&(t.length==0||t.length==1&&t[0]=="")){var f=new SUGAR.forms.SetVisibilityAction(this.target,"false","");f.exec(e)}}}});SUGAR.forms.AssignToAction=function(e){if(_.isObject(e)){e=e.value}this.expr=e;this.target="assigned_user_name";if(_.isUndefined(SUGAR.App)){this.dataSource=new YAHOO.util.DataSource("index.php?",{responseType:YAHOO.util.XHRDataSource.TYPE_JSON,responseSchema:{resultsList:"fields",total:"totalCount",metaNode:"fields",metaFields:{total:"totalCount",fields:"fields"}},connMethodPost:true})}};SUGAR.util.extend(SUGAR.forms.AssignToAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined"){e=this.context}this.userName=this.evalExpression(this.expr,e);if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setAssignedUserName(this.target,this.userName)}else{this.bwcExec(e)}},bwcExec:function(e){if(typeof e=="undefined"){e=this.context}var t=SUGAR.util.paramsToUrl({to_pdf:"true",module:"Home",action:"quicksearchQuery",data:YAHOO.lang.JSON.stringify(sqs_objects["EditView_"+this.target]),query:this.userName});this.sqs=sqs_objects["EditView_"+this.target];this.dataSource.sendRequest(t,{success:function(e,t){if(t.results.length>0){var n=t.results[0];for(var i=0;i<this.sqs.field_list.length;i++){SUGAR.forms.AssignmentHandler.assign(this.sqs.populate_list[i],n[this.sqs.field_list[i]])}}},scope:this})},targetUrl:"index.php?module=Home&action=TaxRate&to_pdf=1"});SUGAR.forms.SetRequiredAction=function(e,t,n){if(_.isObject(e)){t=e.value;n=e.label;e=e.target}this.variable=e;this.expr=t;this.label=n;this._el_lbl=document.getElementById(this.label);if(this._el_lbl)this.msg=this._el_lbl.innerText};SUGAR.util.extend(SUGAR.forms.SetRequiredAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;this.required=this.evalExpression(this.expr,e);if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setFieldRequired(this.variable,this.required)}else{this.bwcExec(e,this.required)}},bwcExec:function(e,t){var n=SUGAR.forms.AssignmentHandler.getElement(this.variable);if(typeof SUGAR.forms.FormValidator!="undefined")SUGAR.forms.FormValidator.setRequired(n.form.name,n.name,this.required);if(this._el_lbl!=null&&n!=null){var i=this._el_lbl,a=YAHOO.util.Dom.getElementsBy(function(e){return e.className=="req"},"span",i),r=false,s=n.name;if(a!=null&&a[0]!=null)r=a[0];if(this.required==true||this.required=="true"){if(!r){var o=document.createElement("span");o.innerHTML="<font color='red'>*</font>";o.className="req";this._el_lbl.appendChild(o);var l=this.findInValidate(e.formName,s);if(l>-1)validate[e.formName][l][2]=true;else addToValidate(e.formName,s,"text",true,this.msg)}}else{if(i!=null&&r!=false){r.parentNode.removeChild(r)}var l=this.findInValidate(e.formName,s);if(l>-1)validate[e.formName][l][2]=false}}},findInValidate:function(e,t){if(validate&&validate[e]){for(var n in validate[e]){if(typeof validate[e][n]=="object"&&validate[e][n][0]==t)return n}}return-1}});var n=window.App||null;SUGAR.forms.SetVisibilityAction=function(e,t,n){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}this.target=e;this.expr="cond("+t+', "", "none")';this.view=n;if(!SUGAR.forms.SetVisibilityAction.initialized){var i=document.getElementsByTagName("head")[0];var a="span.vis_action_hidden, .vis_action_hidden * { visibility:hidden}";var r=document.createElement("style");r.setAttribute("type","text/css");if(r.styleSheet)r.styleSheet.cssText=a;else r.innerHTML=a;i.appendChild(r);SUGAR.forms.SetVisibilityAction.initialized=true}};SUGAR.util.extend(SUGAR.forms.SetVisibilityAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;try{var t=e&&e.getElement&&e.getElement(this.target)||null;if(t==null){return}var n=this.evalExpression(this.expr,e);var i=n=="none"||n=="hidden";if(SUGAR.App){this.sidecarExec(e,t,i)}else{this.legacyExec(e,t,i)}}catch(e){if(console&&console.log)console.log(e)}},sidecarExec:function(e,t,n){var i="vis_action_hidden",a="record-panel-content",r=$(t).hasClass(i),s=e.view.getField(this.target),o=$(t).parents(".panel_body")[0];if(s&&_.isUndefined(s.wasRequired)){s.wasRequired=s.def.required}if(n){e.addClass(this.target,i,true);e.setFieldDisabled(this.target,true);if(s.wasRequired===true){e.setFieldRequired(this.target,false)}}else{e.removeClass(this.target,i,true);if(!s.def.calculated||!s.def.enforced){e.setFieldDisabled(this.target,false)}if(r){SUGAR.forms.FlashField(t,null,this.target)}if(s.wasRequired===true){e.setFieldRequired(this.target,true)}}if(o){this.checkRowSidecar(o,i);this.checkPanelSidecar(o.parentElement,i,a)}},legacyExec:function(e,t,n){var i=YAHOO.util.Dom,a="vis_action_hidden",r=i.getAncestorByTagName(t,"TD"),s=i.getPreviousSiblingBy(r,function(e){return e.tagName=="TD"});this.wrapContent(s);this.wrapContent(r);var o=i.hasClass(s,a);if(n){i.addClass(s,a);i.addClass(r,a)}else{i.removeClass(s,a);i.removeClass(r,a);if(o&&this.view=="EditView"){SUGAR.forms.FlashField(t)}}this.checkRow(i.getAncestorByTagName(r,"TR"),a)},wrapContent:function(e){if(e&&this.containsPlainText(e)){var t=document.createElement("SPAN");var n=[];for(var i=0;i<e.childNodes.length;i++){n[i]=e.childNodes[i]}for(var i=0;i<n.length;i++){t.appendChild(n[i])}e.appendChild(t)}},containsPlainText:function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(n.nodeName=="#text"&&YAHOO.lang.trim(n.textContent)!=""){return true}}return false},checkRow:function(e,t){var n=true;for(var i=0;i<e.children.length;i++){var a=e.children[i];if(a.tagName.toLowerCase()=="td"&&!YAHOO.util.Dom.hasClass(a,t)){n=false;break}}e.style.display=n?"none":""},checkRowSidecar:function(e,t){if(!e||e.children){return}var n=true;for(var i=0;i<e.children.length;i++){var a=e.children[i];if(a.tagName.toLowerCase()=="div"&&!$(a).hasClass(t)&&$(a).children().length>1){n=false;break}}e.style.display=n?"none":""},checkPanelSidecar:function(e,t,n){if(!e||!e.children){return}var i=true;for(var a=0;a<e.children.length;a++){var r=e.children[a];var s=$(r).children("."+t);var o=$(r).children(':not([data-type=""])');i&=s.length==o.length}if(i){$(e).removeClass(n)}else{$(e).addClass(n)}}});SUGAR.forms.SetPanelVisibilityAction=function(e,t){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}if(_.isString(e)&&_.isUndefined(SUGAR.App)){var n=$("#"+e).parents("div");if(n.length){e=n.attr("id")}}this.target=e;this.expr="cond("+t+', "", "none")'};SUGAR.util.extend(SUGAR.forms.SetPanelVisibilityAction,SUGAR.forms.AbstractAction,{hideChildren:function(){if(typeof SUGAR.forms.SetPanelVisibilityAction.hiddenFields=="undefined"){this.createFieldBin()}var e=document.getElementById(this.target);var t=e.getElementsByTagName("table")[0];if(t!=null){t.id=this.target+"_tbl";SUGAR.forms.SetPanelVisibilityAction.hiddenFields.appendChild(t)}},showChildren:function(){var e=document.getElementById(this.target);var t=document.getElementById(this.target+"_tbl");if(t!=null)e.appendChild(t)},createFieldBin:function(){var e=document.createElement("div");e.id="panelHiddenFields";e.style.display="none";document.body.appendChild(e);SUGAR.forms.SetPanelVisibilityAction.hiddenFields=e},exec:function(e){if(typeof e=="undefined")e=this.context;if(e.view)return this.sidecarExec(e);try{var t=this.evalExpression(this.expr,e);var n=document.getElementById(this.target);if(n!=null){if(n.style.display!="none")SUGAR.forms.animation.sizes[this.target]=n.clientHeight;if(SUGAR.forms.AssignmentHandler.ANIMATE){if(t=="none"&&n.style.display!="none"){SUGAR.forms.animation.Collapse(this.target,this.hideChildren,this);return}else if(t!="none"&&n.style.display=="none"){this.showChildren();SUGAR.forms.animation.Expand(this.target);return}}if(t=="none")this.hideChildren();else this.showChildren();n.style.display=t}}catch(e){if(console&&console.log)console.log(e)}},sidecarExec:function(e){var t=this.evalExpression(this.expr,e)==="none",n=e.view.$(".tab."+this.target),i=e.view.$("div.record-panel[data-panelname='"+this.target+"']"),a=n&&n.hasClass("active");if(!n||!n.length){if(i.length>0){if(t){i.hide()}else{i.show()}this.triggerFieldsVisibility(e,this.target,t)}else{console.log("unable to find panel "+this.target)}}else{if(t){n.hide();if(a){var r=e.view.$("li.tab:visible");if(r.length>0&&e.view.setActiveTab){e.view.setActiveTab({currentTarget:r[0].children[0]});e.view.handleActiveTab()}}}else{n.show()}this.triggerFieldsVisibility(e,this.target,t)}},triggerFieldsVisibility:function(e,t,n){_.each(this.getPanelFieldNames(e,t),function(t){var i=e.view.getField(t);if(i&&_.isUndefined(i.wasRequired)){i.wasRequired=i.def.required}e.setFieldDisabled(t,n);if(i.wasRequired===true)e.setFieldRequired(t,!n)})},getPanelFieldNames:function(e,t){var n=_.find(e.view.meta.panels,function(e){return e.name===t});return _.pluck(n.fields,"name")}});SUGAR.forms.animation.sizes={};SUGAR.forms.animation.Collapse=function(e,t,n){var i=document.getElementById(e);if(i==null)return;SUGAR.forms.animation.sizes[e]=i.clientHeight;i.style.overflow="hidden";var a=new YAHOO.util.Anim(e,{height:{to:0}},.5,YAHOO.util.Easing.easeBoth);a.onComplete.subscribe(function(){i.style.display="none";t.call(n)});a.animate()};SUGAR.forms.animation.Expand=function(e){var t=document.getElementById(e);if(t==null)return;t.style.overflow="hidden";t.style.height="0px";t.style.display="";var n=new YAHOO.util.Anim(e,{height:{to:SUGAR.forms.animation.sizes[e]}},.5,YAHOO.util.Easing.easeBoth);n.onComplete.subscribe(function(){t.style.height="auto"});n.animate()};SUGAR.FunctionMap={forecastIncludedCommitStages:SUGAR.expressions.ForecastIncludedCommitStagesExpression,getDropdownKeySet:SUGAR.expressions.SugarDropDownExpression,getDD:SUGAR.expressions.SugarDropDownExpression,forecastSalesStages:SUGAR.expressions.ForecastSalesStageExpression,getDropdownValueSet:SUGAR.expressions.SugarTranslatedDropDownExpression,getTransDD:SUGAR.expressions.SugarTranslatedDropDownExpression,getListWhere:SUGAR.expressions.SugarListWhereExpression,createList:SUGAR.expressions.DefineEnumExpression,enum:SUGAR.expressions.DefineEnumExpression,and:SUGAR.expressions.AndExpression,isBefore:SUGAR.expressions.isBeforeExpression,doBothExist:SUGAR.expressions.BinaryDependencyExpression,or:SUGAR.expressions.OrExpression,isAlpha:SUGAR.expressions.IsAlphaExpression,isForecastClosedLost:SUGAR.expressions.IsForecastClosedLostExpression,isValidTime:SUGAR.expressions.IsValidTimeExpression,isAlphaNumeric:SUGAR.expressions.IsAlphaNumericExpression,isRequiredCollection:SUGAR.expressions.IsRequiredCollectionExpression,isAfter:SUGAR.expressions.isAfterExpression,isInList:SUGAR.expressions.IsInEnumExpression,isInEnum:SUGAR.expressions.IsInEnumExpression,isValidEmail:SUGAR.expressions.IsValidEmailExpression,isNumeric:SUGAR.expressions.IsNumericExpression,isValidPhone:SUGAR.expressions.IsValidPhoneExpression,isValidDBName:SUGAR.expressions.IsValidDBNameExpression,not:SUGAR.expressions.NotExpression,isForecastClosedWon:SUGAR.expressions.IsForecastClosedWonExpression,isForecastClosed:SUGAR.expressions.IsForecastClosedExpression,equal:SUGAR.expressions.EqualExpression,greaterThan:SUGAR.expressions.GreaterThanExpression,isValidDate:SUGAR.expressions.IsValidDateExpression,isWithinRange:SUGAR.expressions.IsInRangeExpression,hourOfDay:SUGAR.expressions.HourOfDayExpression,time:SUGAR.expressions.DefineTimeExpression,date:SUGAR.expressions.DefineDateExpression,daysUntil:SUGAR.expressions.DaysUntilExpression,now:SUGAR.expressions.NowExpression,today:SUGAR.expressions.TodayExpression,maxRelatedDate:SUGAR.expressions.MaxRelatedDateExpression,timestamp:SUGAR.expressions.TimestampExpression,hoursUntil:SUGAR.expressions.HoursUntilExpression,monthofyear:SUGAR.expressions.MonthOfYearExpression,addDays:SUGAR.expressions.AddDaysExpression,dayofweek:SUGAR.expressions.DayOfWeekExpression,add:SUGAR.expressions.AddExpression,currencyAdd:SUGAR.expressions.AddExpression,rollupMax:SUGAR.expressions.MaxRelatedExpression,stddev:SUGAR.expressions.StandardDeviationExpression,pow:SUGAR.expressions.PowerExpression,number:SUGAR.expressions.ValueOfExpression,min:SUGAR.expressions.MinimumExpression,log:SUGAR.expressions.LogExpression,floor:SUGAR.expressions.FloorExpression,max:SUGAR.expressions.MaximumExpression,subtract:SUGAR.expressions.SubtractExpression,currencySubtract:SUGAR.expressions.SubtractExpression,sub:SUGAR.expressions.SubtractExpression,median:SUGAR.expressions.MedianExpression,rollupMin:SUGAR.expressions.MinRelatedExpression,average:SUGAR.expressions.AverageExpression,avg:SUGAR.expressions.AverageExpression,ln:SUGAR.expressions.NaturalLogExpression,strlen:SUGAR.expressions.StringLengthExpression,count:SUGAR.expressions.CountRelatedExpression,countConditional:SUGAR.expressions.CountConditionalRelatedExpression,ceil:SUGAR.expressions.CeilingExpression,ceiling:SUGAR.expressions.CeilingExpression,rollupConditionalSum:SUGAR.expressions.SumConditionalRelatedExpression,abs:SUGAR.expressions.AbsoluteValueExpression,divide:SUGAR.expressions.DivideExpression,currencyDivide:SUGAR.expressions.DivideExpression,div:SUGAR.expressions.DivideExpression,round:SUGAR.expressions.RoundExpression,rollupSum:SUGAR.expressions.SumRelatedExpression,rollupCurrencySum:SUGAR.expressions.SumRelatedExpression,rollupAve:SUGAR.expressions.AverageRelatedExpression,rollupAvg:SUGAR.expressions.AverageRelatedExpression,negate:SUGAR.expressions.NegateExpression,multiply:SUGAR.expressions.MultiplyExpression,currencyMultiply:SUGAR.expressions.MultiplyExpression,mul:SUGAR.expressions.MultiplyExpression,indexOf:SUGAR.expressions.IndexOfExpression,forecastCommitStage:SUGAR.expressions.ForecastCommitStageExpression,concat:SUGAR.expressions.ConcatenateExpression,charAt:SUGAR.expressions.CharacterAtExpression,strToLower:SUGAR.expressions.StrToLowerExpression,formatName:SUGAR.expressions.FormatedNameExpression,subStr:SUGAR.expressions.SubStrExpression,toString:SUGAR.expressions.DefineStringExpression,string:SUGAR.expressions.DefineStringExpression,getDropdownValue:SUGAR.expressions.SugarDropDownValueExpression,getDDValue:SUGAR.expressions.SugarDropDownValueExpression,strToUpper:SUGAR.expressions.StrToUpperExpression,translateLabel:SUGAR.expressions.SugarTranslateExpression,translate:SUGAR.expressions.SugarTranslateExpression,contains:SUGAR.expressions.ContainsExpression,ifElse:SUGAR.expressions.ConditionExpression,cond:SUGAR.expressions.ConditionExpression,currencyRate:SUGAR.expressions.CurrencyRateExpression,valueAt:SUGAR.expressions.IndexValueExpression,sugarField:SUGAR.expressions.SugarFieldExpression,related:SUGAR.expressions.RelatedFieldExpression};SUGAR.NumericConstants={pi:3.1415926535898,e:2.718281828459}},function(e,t){(function(e){e.__swipeHelper={init:function(){var t={},n=5;e.__swipeHelper.swipeOrientation="";var i=function(e,t,n,i){var a=Math.abs(e-t),r=Math.abs(n-i);return a>=r?"horizontal":"vertical"};e(document.body).on("touchstart",function(e){t.x1=e.touches[0].pageX;t.y1=e.touches[0].pageY}).on("touchmove",function(a){t.x2=a.touches[0].pageX;t.y2=a.touches[0].pageY;if(e.__swipeHelper.swipeOrientation===""&&(t.x2&&Math.abs(t.x1-t.x2)>n||t.y2&&Math.abs(t.y1-t.y2)>n)){e.__swipeHelper.swipeOrientation=i(t.x1,t.x2,t.y1,t.y2)}if(e.__swipeHelper.swipeOrientation==="horizontal"){}}).on("touchend",function(n){e.__swipeHelper.swipeOrientation="";t={}})}}})(Zepto)},function(e,t,n){(function(){"use strict";var e=function(n,i){if(!(this instanceof e))return new e(n,i);var a={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,keyboardControl:false,mousewheelControl:false,mousewheelForceToAxis:false,hashnav:false,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,pagination:null,paginationClickable:false,paginationHide:false,paginationBulletRender:null,resistance:true,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:true};var r=i&&i.virtualTranslate;i=i||{};for(var s in a){if(typeof i[s]==="undefined"){i[s]=a[s]}else if(typeof i[s]==="object"){for(var o in a[s]){if(typeof i[s][o]==="undefined"){i[s][o]=a[s][o]}}}}var l=this;l.version="3.0.7";l.params=i;l.classNames=[];var c;if(typeof t==="undefined"){c=window.Dom7||window.Zepto||window.jQuery}else{c=t}if(!c)return;l.$=c;l.container=c(n);if(l.container.length===0)return;if(l.container.length>1){l.container.each(function(){new e(this,i)});return}l.container[0].swiper=l;l.container.data("swiper",l);l.classNames.push("swiper-container-"+l.params.direction);if(l.params.freeMode){l.classNames.push("swiper-container-free-mode")}if(!l.support.flexbox){l.classNames.push("swiper-container-no-flexbox");l.params.slidesPerColumn=1}if(l.params.parallax||l.params.watchSlidesVisibility){l.params.watchSlidesProgress=true}if(["cube","coverflow"].indexOf(l.params.effect)>=0){if(l.support.transforms3d){l.params.watchSlidesProgress=true;l.classNames.push("swiper-container-3d")}else{l.params.effect="slide"}}if(l.params.effect!=="slide"){l.classNames.push("swiper-container-"+l.params.effect)}if(l.params.effect==="cube"){l.params.resistanceRatio=0;l.params.slidesPerView=1;l.params.slidesPerColumn=1;l.params.slidesPerGroup=1;l.params.centeredSlides=false;l.params.spaceBetween=0;l.params.virtualTranslate=true;l.params.setWrapperSize=false}if(l.params.effect==="fade"){l.params.slidesPerView=1;l.params.slidesPerColumn=1;l.params.slidesPerGroup=1;l.params.watchSlidesProgress=true;l.params.spaceBetween=0;if(typeof r==="undefined"){l.params.virtualTranslate=true}}if(l.params.grabCursor&&l.support.touch){l.params.grabCursor=false}l.wrapper=l.container.children("."+l.params.wrapperClass);if(l.params.pagination){l.paginationContainer=c(l.params.pagination);if(l.params.paginationClickable){l.paginationContainer.addClass("swiper-pagination-clickable")}}function u(){return l.params.direction==="horizontal"}l.rtl=u()&&(l.container[0].dir.toLowerCase()==="rtl"||l.container.css("direction")==="rtl");if(l.rtl){l.classNames.push("swiper-container-rtl")}if(l.rtl){l.wrongRTL=l.wrapper.css("display")==="-webkit-box"}if(l.params.slidesPerColumn>1){l.classNames.push("swiper-container-multirow")}if(l.device.android){l.classNames.push("swiper-container-android")}l.container.addClass(l.classNames.join(" "));l.translate=0;l.progress=0;l.velocity=0;l.lockSwipeToNext=function(){l.params.allowSwipeToNext=false};l.lockSwipeToPrev=function(){l.params.allowSwipeToPrev=false};l.lockSwipes=function(){l.params.allowSwipeToNext=l.params.allowSwipeToPrev=false};l.unlockSwipeToNext=function(){l.params.allowSwipeToNext=true};l.unlockSwipeToPrev=function(){l.params.allowSwipeToPrev=true};l.unlockSwipes=function(){l.params.allowSwipeToNext=l.params.allowSwipeToPrev=true};if(l.params.grabCursor){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grab";l.container[0].style.cursor="-moz-grab";l.container[0].style.cursor="grab"}l.imagesToLoad=[];l.imagesLoaded=0;l.loadImage=function(e,t,n,i){var a;function r(){if(i)i()}if(!e.complete||!n){if(t){a=new window.Image;a.onload=r;a.onerror=r;a.src=t}else{r()}}else{r()}};l.preloadImages=function(){l.imagesToLoad=l.container.find("img");function e(){if(typeof l==="undefined"||l===null)return;if(l.imagesLoaded!==undefined)l.imagesLoaded++;if(l.imagesLoaded===l.imagesToLoad.length){if(l.params.updateOnImagesReady)l.update();l.emit("onImagesReady",l)}}for(var t=0;t<l.imagesToLoad.length;t++){l.loadImage(l.imagesToLoad[t],l.imagesToLoad[t].currentSrc||l.imagesToLoad[t].getAttribute("src"),true,e)}};l.autoplayTimeoutId=undefined;l.autoplaying=false;l.autoplayPaused=false;function d(){l.autoplayTimeoutId=setTimeout(function(){if(l.params.loop){l.fixLoop();l._slideNext()}else{if(!l.isEnd){l._slideNext()}else{if(!i.autoplayStopOnLast){l._slideTo(0)}else{l.stopAutoplay()}}}},l.params.autoplay)}l.startAutoplay=function(){if(typeof l.autoplayTimeoutId!=="undefined")return false;if(!l.params.autoplay)return false;if(l.autoplaying)return false;l.autoplaying=true;l.emit("onAutoplayStart",l);d()};l.stopAutoplay=function(e){if(!l.autoplayTimeoutId)return;if(l.autoplayTimeoutId)clearTimeout(l.autoplayTimeoutId);l.autoplaying=false;l.autoplayTimeoutId=undefined;l.emit("onAutoplayStop",l)};l.pauseAutoplay=function(e){if(l.autoplayPaused)return;if(l.autoplayTimeoutId)clearTimeout(l.autoplayTimeoutId);l.autoplayPaused=true;if(e===0){l.autoplayPaused=false;d()}else{l.wrapper.transitionEnd(function(){if(!l)return;l.autoplayPaused=false;if(!l.autoplaying){l.stopAutoplay()}else{d()}})}};l.minTranslate=function(){return-l.snapGrid[0]};l.maxTranslate=function(){return-l.snapGrid[l.snapGrid.length-1]};l.updateContainerSize=function(){var e,t;if(typeof l.params.width!=="undefined"){e=l.params.width}else{e=l.container[0].clientWidth}if(typeof l.params.height!=="undefined"){t=l.params.height}else{t=l.container[0].clientHeight}if(e===0&&u()||t===0&&!u()){return}l.width=e;l.height=t;l.size=u()?l.width:l.height};l.updateSlidesSize=function(){l.slides=l.wrapper.children("."+l.params.slideClass);l.snapGrid=[];l.slidesGrid=[];l.slidesSizesGrid=[];var e=l.params.spaceBetween,t=0,n,i=0,a=0;if(typeof e==="string"&&e.indexOf("%")>=0){e=parseFloat(e.replace("%",""))/100*l.size}l.virtualSize=-e;if(l.rtl)l.slides.css({marginLeft:"",marginTop:""});else l.slides.css({marginRight:"",marginBottom:""});var r;if(l.params.slidesPerColumn>1){if(Math.floor(l.slides.length/l.params.slidesPerColumn)===l.slides.length/l.params.slidesPerColumn){r=l.slides.length}else{r=Math.ceil(l.slides.length/l.params.slidesPerColumn)*l.params.slidesPerColumn}}var s;for(n=0;n<l.slides.length;n++){s=0;var o=l.slides.eq(n);if(l.params.slidesPerColumn>1){var c;var d,f;var p=l.params.slidesPerColumn;var h;if(l.params.slidesPerColumnFill==="column"){d=Math.floor(n/p);f=n-d*p;c=d+f*r/p;o.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})}else{h=r/p;f=Math.floor(n/h);d=n-f*h}o.css({"margin-top":f!==0&&l.params.spaceBetween&&l.params.spaceBetween+"px"}).attr("data-swiper-column",d).attr("data-swiper-row",f)}if(o.css("display")==="none")continue;if(l.params.slidesPerView==="auto"){s=u()?o.outerWidth(true):o.outerHeight(true)}else{s=(l.size-(l.params.slidesPerView-1)*e)/l.params.slidesPerView;if(u()){l.slides[n].style.width=s+"px"}else{l.slides[n].style.height=s+"px"}}l.slides[n].swiperSlideSize=s;l.slidesSizesGrid.push(s);if(l.params.centeredSlides){t=t+s/2+i/2+e;if(n===0)t=t-l.size/2-e;if(Math.abs(t)<1/1e3)t=0;if(a%l.params.slidesPerGroup===0)l.snapGrid.push(t);l.slidesGrid.push(t)}else{if(a%l.params.slidesPerGroup===0)l.snapGrid.push(t);l.slidesGrid.push(t);t=t+s+e}l.virtualSize+=s+e;i=s;a++}l.virtualSize=Math.max(l.virtualSize,l.size);var m;if(l.rtl&&l.wrongRTL&&(l.params.effect==="slide"||l.params.effect==="coverflow")){l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"})}if(!l.support.flexbox||l.params.setWrapperSize){if(u())l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"});else l.wrapper.css({height:l.virtualSize+l.params.spaceBetween+"px"})}if(l.params.slidesPerColumn>1){l.virtualSize=(s+l.params.spaceBetween)*r;l.virtualSize=Math.ceil(l.virtualSize/l.params.slidesPerColumn)-l.params.spaceBetween;l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"});if(l.params.centeredSlides){m=[];for(n=0;n<l.snapGrid.length;n++){if(l.snapGrid[n]<l.virtualSize+l.snapGrid[0])m.push(l.snapGrid[n])}l.snapGrid=m}}if(!l.params.centeredSlides){m=[];for(n=0;n<l.snapGrid.length;n++){if(l.snapGrid[n]<=l.virtualSize-l.size){m.push(l.snapGrid[n])}}l.snapGrid=m;if(Math.floor(l.virtualSize-l.size)>Math.floor(l.snapGrid[l.snapGrid.length-1])){l.snapGrid.push(l.virtualSize-l.size)}}if(l.snapGrid.length===0)l.snapGrid=[0];if(l.params.spaceBetween!==0){if(u()){if(l.rtl)l.slides.css({marginLeft:e+"px"});else l.slides.css({marginRight:e+"px"})}else l.slides.css({marginBottom:e+"px"})}if(l.params.watchSlidesProgress){l.updateSlidesOffset()}};l.updateSlidesOffset=function(){for(var e=0;e<l.slides.length;e++){l.slides[e].swiperSlideOffset=u()?l.slides[e].offsetLeft:l.slides[e].offsetTop}};l.updateSlidesProgress=function(e){if(typeof e==="undefined"){e=l.translate||0}if(l.slides.length===0)return;if(typeof l.slides[0].swiperSlideOffset==="undefined")l.updateSlidesOffset();var t=l.params.centeredSlides?-e+l.size/2:-e;if(l.rtl)t=l.params.centeredSlides?e-l.size/2:e;var n=l.container[0].getBoundingClientRect();var i=u()?"left":"top";var a=u()?"right":"bottom";l.slides.removeClass(l.params.slideVisibleClass);for(var r=0;r<l.slides.length;r++){var s=l.slides[r];var o=l.params.centeredSlides===true?s.swiperSlideSize/2:0;var c=(t-s.swiperSlideOffset-o)/(s.swiperSlideSize+l.params.spaceBetween);if(l.params.watchSlidesVisibility){var d=-(t-s.swiperSlideOffset-o);var f=d+l.slidesSizesGrid[r];var p=d>=0&&d<l.size||f>0&&f<=l.size||d<=0&&f>=l.size;if(p){l.slides.eq(r).addClass(l.params.slideVisibleClass)}}s.progress=l.rtl?-c:c}};l.updateProgress=function(e){if(typeof e==="undefined"){e=l.translate||0}var t=l.maxTranslate()-l.minTranslate();if(t===0){l.progress=0;l.isBeginning=l.isEnd=true}else{l.progress=(e-l.minTranslate())/t;l.isBeginning=l.progress<=0;l.isEnd=l.progress>=1}if(l.isBeginning)l.emit("onReachBeginning",l);if(l.isEnd)l.emit("onReachEnd",l);if(l.params.watchSlidesProgress)l.updateSlidesProgress(e);l.emit("onProgress",l,l.progress)};l.updateActiveIndex=function(){var e=l.rtl?l.translate:-l.translate;var t,n,i;for(n=0;n<l.slidesGrid.length;n++){if(typeof l.slidesGrid[n+1]!=="undefined"){if(e>=l.slidesGrid[n]&&e<l.slidesGrid[n+1]-(l.slidesGrid[n+1]-l.slidesGrid[n])/2){t=n}else if(e>=l.slidesGrid[n]&&e<l.slidesGrid[n+1]){t=n+1}}else{if(e>=l.slidesGrid[n]){t=n}}}if(t<0||typeof t==="undefined")t=0;i=Math.floor(t/l.params.slidesPerGroup);if(i>=l.snapGrid.length)i=l.snapGrid.length-1;if(t===l.activeIndex){return}l.snapIndex=i;l.previousIndex=l.activeIndex;l.activeIndex=t;l.updateClasses()};l.updateClasses=function(){l.slides.removeClass(l.params.slideActiveClass+" "+l.params.slideNextClass+" "+l.params.slidePrevClass);var e=l.slides.eq(l.activeIndex);e.addClass(l.params.slideActiveClass);e.next("."+l.params.slideClass).addClass(l.params.slideNextClass);e.prev("."+l.params.slideClass).addClass(l.params.slidePrevClass);if(l.bullets&&l.bullets.length>0){l.bullets.removeClass(l.params.bulletActiveClass);var t;if(l.params.loop){t=Math.ceil(l.activeIndex-l.loopedSlides)/l.params.slidesPerGroup;if(t>l.slides.length-1-l.loopedSlides*2){t=t-(l.slides.length-l.loopedSlides*2)}if(t>l.bullets.length-1)t=t-l.bullets.length}else{if(typeof l.snapIndex!=="undefined"){t=l.snapIndex}else{t=l.activeIndex||0}}if(l.paginationContainer.length>1){l.bullets.each(function(){if(c(this).index()===t)c(this).addClass(l.params.bulletActiveClass)})}else{l.bullets.eq(t).addClass(l.params.bulletActiveClass)}}if(!l.params.loop){if(l.params.prevButton){if(l.isBeginning){c(l.params.prevButton).addClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.disable(c(l.params.prevButton))}else{c(l.params.prevButton).removeClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.enable(c(l.params.prevButton))}}if(l.params.nextButton){if(l.isEnd){c(l.params.nextButton).addClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.disable(c(l.params.nextButton))}else{c(l.params.nextButton).removeClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.enable(c(l.params.nextButton))}}}};l.updatePagination=function(){if(!l.params.pagination)return;if(l.paginationContainer&&l.paginationContainer.length>0){var e="";var t=l.params.loop?Math.ceil((l.slides.length-l.loopedSlides*2)/l.params.slidesPerGroup):l.snapGrid.length;for(var n=0;n<t;n++){if(l.params.paginationBulletRender){e+=l.params.paginationBulletRender(n,l.params.bulletClass)}else{e+='<span class="'+l.params.bulletClass+'"></span>'}}l.paginationContainer.html(e);l.bullets=l.paginationContainer.find("."+l.params.bulletClass.split(" ").join("."))}};l.update=function(e){l.updateContainerSize();l.updateSlidesSize();l.updateProgress();l.updatePagination();l.updateClasses();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}function t(){i=Math.min(Math.max(l.translate,l.maxTranslate()),l.minTranslate());l.setWrapperTranslate(i);l.updateActiveIndex();l.updateClasses()}if(e){var n,i;if(l.params.freeMode){t()}else{if(l.params.slidesPerView==="auto"&&l.isEnd&&!l.params.centeredSlides){n=l.slideTo(l.slides.length-1,0,false,true)}else{n=l.slideTo(l.activeIndex,0,false,true)}if(!n){t()}}}};l.onResize=function(e){l.updateContainerSize();l.updateSlidesSize();l.updateProgress();if(l.params.slidesPerView==="auto"||l.params.freeMode||e)l.updatePagination();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}if(l.params.freeMode){var t=Math.min(Math.max(l.translate,l.maxTranslate()),l.minTranslate());l.setWrapperTranslate(t);l.updateActiveIndex();l.updateClasses()}else{l.updateClasses();if(l.params.slidesPerView==="auto"&&l.isEnd&&!l.params.centeredSlides){l.slideTo(l.slides.length-1,0,false,true)}else{l.slideTo(l.activeIndex,0,false,true)}}};var f=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled)f=["pointerdown","pointermove","pointerup"];else if(window.navigator.msPointerEnabled)f=["MSPointerDown","MSPointerMove","MSPointerUp"];l.touchEvents={start:l.support.touch||!l.params.simulateTouch?"touchstart":f[0],move:l.support.touch||!l.params.simulateTouch?"touchmove":f[1],end:l.support.touch||!l.params.simulateTouch?"touchend":f[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(l.params.touchEventsTarget==="container"?l.container:l.wrapper).addClass("swiper-wp8-"+l.params.direction)}l.initEvents=function(e){var t=e?"off":"on";var n=e?"removeEventListener":"addEventListener";var a=l.params.touchEventsTarget==="container"?l.container[0]:l.wrapper[0];var r=l.support.touch?a:document;var s=l.params.nested?true:false;if(l.browser.ie){a[n](l.touchEvents.start,l.onTouchStart,false);r[n](l.touchEvents.move,l.onTouchMove,s);r[n](l.touchEvents.end,l.onTouchEnd,false)}else{if(l.support.touch){a[n](l.touchEvents.start,l.onTouchStart,false);a[n](l.touchEvents.move,l.onTouchMove,s);a[n](l.touchEvents.end,l.onTouchEnd,false)}if(i.simulateTouch&&!l.device.ios&&!l.device.android){a[n]("mousedown",l.onTouchStart,false);document[n]("mousemove",l.onTouchMove,s);document[n]("mouseup",l.onTouchEnd,false)}}window[n]("resize",l.onResize);if(l.params.nextButton){c(l.params.nextButton)[t]("click",l.onClickNext);if(l.params.a11y&&l.a11y)c(l.params.nextButton)[t]("keydown",l.a11y.onEnterKey)}if(l.params.prevButton){c(l.params.prevButton)[t]("click",l.onClickPrev);if(l.params.a11y&&l.a11y)c(l.params.prevButton)[t]("keydown",l.a11y.onEnterKey)}if(l.params.pagination&&l.params.paginationClickable){c(l.paginationContainer)[t]("click","."+l.params.bulletClass,l.onClickIndex)}if(l.params.preventClicks||l.params.preventClicksPropagation)a[n]("click",l.preventClicks,true)};l.attachEvents=function(e){l.initEvents()};l.detachEvents=function(){l.initEvents(true)};l.allowClick=true;l.preventClicks=function(e){if(!l.allowClick){if(l.params.preventClicks)e.preventDefault();if(l.params.preventClicksPropagation){e.stopPropagation();e.stopImmediatePropagation()}}};l.onClickNext=function(e){e.preventDefault();l.params.onClickNext?l.params.onClickNext():l.slideNext()};l.onClickPrev=function(e){e.preventDefault();l.params.onClickPrev?l.params.onClickPrev():l.slidePrev()};l.onClickIndex=function(e){e.preventDefault();var t=c(this).index()*l.params.slidesPerGroup;if(l.params.loop)t=t+l.loopedSlides;l.slideTo(t)};function p(e,t){var n=c(e.target);if(!n.is(t)){if(typeof t==="string"){n=n.parents(t)}else if(t.nodeType){var i;n.parents().each(function(e,n){if(n===t)i=t});if(!i)return undefined;else return t}}if(n.length===0){return undefined}return n[0]}l.updateClickedSlide=function(e){var t=p(e,"."+l.params.slideClass);var n=false;if(t){for(var i=0;i<l.slides.length;i++){if(l.slides[i]===t)n=true}}if(t&&n){l.clickedSlide=t;l.clickedIndex=c(t).index()}else{l.clickedSlide=undefined;l.clickedIndex=undefined;return}if(l.params.slideToClickedSlide&&l.clickedIndex!==undefined&&l.clickedIndex!==l.activeIndex){var a=l.clickedIndex,r;if(l.params.loop){r=c(l.clickedSlide).attr("data-swiper-slide-index");if(a>l.slides.length-l.params.slidesPerView){l.fixLoop();a=l.wrapper.children("."+l.params.slideClass+'[data-swiper-slide-index="'+r+'"]').eq(0).index();setTimeout(function(){l.slideTo(a)},0)}else if(a<l.params.slidesPerView-1){l.fixLoop();var s=l.wrapper.children("."+l.params.slideClass+'[data-swiper-slide-index="'+r+'"]');a=s.eq(s.length-1).index();setTimeout(function(){l.slideTo(a)},0)}else{l.slideTo(a)}}else{l.slideTo(a)}}};var h,m,_,g,v,b,y,x="input, select, textarea, button",w=Date.now(),S,L=[],E;l.animating=false;l.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var k,M;l.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;k=e.type==="touchstart";if(!k&&"which"in e&&e.which===3)return;if(l.params.noSwiping&&p(e,"."+l.params.noSwipingClass)){l.allowClick=true;return}if(l.params.swipeHandler){if(!p(e,l.params.swipeHandler))return}h=true;m=false;g=undefined;M=undefined;l.touches.startX=l.touches.currentX=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX;l.touches.startY=l.touches.currentY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY;_=Date.now();l.allowClick=true;l.updateContainerSize();l.swipeDirection=undefined;if(l.params.threshold>0)y=false;if(e.type!=="touchstart"){var t=true;if(c(e.target).is(x))t=false;if(document.activeElement&&c(document.activeElement).is(x)){document.activeElement.blur()}if(t){e.preventDefault()}}l.emit("onTouchStart",l,e)};l.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(k&&e.type==="mousemove")return;if(e.preventedByNestedSwiper)return;if(l.params.onlyExternal){m=true;l.allowClick=false;return}if(k&&document.activeElement){if(e.target===document.activeElement&&c(e.target).is(x)){m=true;l.allowClick=false;return}}l.emit("onTouchMove",l,e);if(e.targetTouches&&e.targetTouches.length>1)return;l.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;l.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(typeof g==="undefined"){var t=Math.atan2(Math.abs(l.touches.currentY-l.touches.startY),Math.abs(l.touches.currentX-l.touches.startX))*180/Math.PI;g=u()?t>l.params.touchAngle:90-t>l.params.touchAngle}if(g){l.emit("onTouchMoveOpposite",l,e)}if(typeof M==="undefined"&&l.browser.ieTouch){if(l.touches.currentX!==l.touches.startX||l.touches.currentY!==l.touches.startY){M=true}}if(!h)return;if(g){h=false;return}if(!M&&l.browser.ieTouch){return}l.allowClick=false;l.emit("onSliderMove",l,e);e.preventDefault();if(l.params.touchMoveStopPropagation&&!l.params.nested){e.stopPropagation()}if(!m){if(i.loop){l.fixLoop()}b=l.getWrapperTranslate();l.setWrapperTransition(0);if(l.animating){l.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd")}if(l.params.autoplay&&l.autoplaying){if(l.params.autoplayDisableOnInteraction){l.stopAutoplay()}else{l.pauseAutoplay()}}E=false;if(l.params.grabCursor){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grabbing";l.container[0].style.cursor="-moz-grabbin";l.container[0].style.cursor="grabbing"}}m=true;var n=l.touches.diff=u()?l.touches.currentX-l.touches.startX:l.touches.currentY-l.touches.startY;n=n*l.params.touchRatio;if(l.rtl)n=-n;l.swipeDirection=n>0?"prev":"next";v=n+b;var a=true;if(n>0&&v>l.minTranslate()){a=false;if(l.params.resistance)v=l.minTranslate()-1+Math.pow(-l.minTranslate()+b+n,l.params.resistanceRatio)}else if(n<0&&v<l.maxTranslate()){a=false;if(l.params.resistance)v=l.maxTranslate()+1-Math.pow(l.maxTranslate()-b-n,l.params.resistanceRatio)}if(a){e.preventedByNestedSwiper=true}if(!l.params.allowSwipeToNext&&l.swipeDirection==="next"&&v<b){v=b}if(!l.params.allowSwipeToPrev&&l.swipeDirection==="prev"&&v>b){v=b}if(!l.params.followFinger)return;if(l.params.threshold>0){if(Math.abs(n)>l.params.threshold||y){if(!y){y=true;l.touches.startX=l.touches.currentX;l.touches.startY=l.touches.currentY;v=b;l.touches.diff=u()?l.touches.currentX-l.touches.startX:l.touches.currentY-l.touches.startY;return}}else{v=b;return}}if(l.params.freeMode||l.params.watchSlidesProgress){l.updateActiveIndex()}if(l.params.freeMode){if(L.length===0){L.push({position:l.touches[u()?"startX":"startY"],time:_})}L.push({position:l.touches[u()?"currentX":"currentY"],time:(new window.Date).getTime()})}l.updateProgress(v);l.setWrapperTranslate(v)};l.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;l.emit("onTouchEnd",l,e);if(!h)return;if(l.params.grabCursor&&m&&h){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grab";l.container[0].style.cursor="-moz-grab";l.container[0].style.cursor="grab"}var t=Date.now();var n=t-_;if(l.allowClick){l.updateClickedSlide(e);l.emit("onTap",l,e);if(n<300&&t-w>300){if(S)clearTimeout(S);S=setTimeout(function(){if(!l)return;if(l.params.paginationHide&&l.paginationContainer.length>0&&!c(e.target).hasClass(l.params.bulletClass)){l.paginationContainer.toggleClass(l.params.paginationHiddenClass)}l.emit("onClick",l,e)},300)}if(n<300&&t-w<300){if(S)clearTimeout(S);l.emit("onDoubleTap",l,e)}}w=Date.now();setTimeout(function(){if(l&&l.allowClick)l.allowClick=true},0);if(!h||!m||!l.swipeDirection||l.touches.diff===0||v===b){h=m=false;return}h=m=false;var i;if(l.params.followFinger){i=l.rtl?l.translate:-l.translate}else{i=-v}if(l.params.freeMode){if(i<-l.minTranslate()){l.slideTo(l.activeIndex);return}else if(i>-l.maxTranslate()){if(l.slides.length<l.snapGrid.length){l.slideTo(l.snapGrid.length-1)}else{l.slideTo(l.slides.length-1)}return}if(l.params.freeModeMomentum){if(L.length>1){var a=L.pop(),r=L.pop();var s=a.position-r.position;var o=a.time-r.time;l.velocity=s/o;l.velocity=l.velocity/2;if(Math.abs(l.velocity)<.02){l.velocity=0}if(o>150||(new window.Date).getTime()-a.time>300){l.velocity=0}}else{l.velocity=0}L.length=0;var u=1e3*l.params.freeModeMomentumRatio;var d=l.velocity*u;var f=l.translate+d;if(l.rtl)f=-f;var p=false;var g;var y=Math.abs(l.velocity)*20*l.params.freeModeMomentumBounceRatio;if(f<l.maxTranslate()){if(l.params.freeModeMomentumBounce){if(f+l.maxTranslate()<-y){f=l.maxTranslate()-y}g=l.maxTranslate();p=true;E=true}else{f=l.maxTranslate()}}else if(f>l.minTranslate()){if(l.params.freeModeMomentumBounce){if(f-l.minTranslate()>y){f=l.minTranslate()+y}g=l.minTranslate();p=true;E=true}else{f=l.minTranslate()}}else if(l.params.freeModeSticky){var x=0,k;for(x=0;x<l.snapGrid.length;x+=1){if(l.snapGrid[x]>-f){k=x;break}}if(Math.abs(l.snapGrid[k]-f)<Math.abs(l.snapGrid[k-1]-f)||l.swipeDirection==="next"){f=l.snapGrid[k]}else{f=l.snapGrid[k-1]}if(!l.rtl)f=-f}if(l.velocity!==0){if(l.rtl){u=Math.abs((-f-l.translate)/l.velocity)}else{u=Math.abs((f-l.translate)/l.velocity)}}else if(l.params.freeModeSticky){l.slideReset();return}if(l.params.freeModeMomentumBounce&&p){l.updateProgress(g);l.setWrapperTransition(u);l.setWrapperTranslate(f);l.onTransitionStart();l.animating=true;l.wrapper.transitionEnd(function(){if(!l||!E)return;l.emit("onMomentumBounce",l);l.setWrapperTransition(l.params.speed);l.setWrapperTranslate(g);l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd()})})}else if(l.velocity){l.updateProgress(f);l.setWrapperTransition(u);l.setWrapperTranslate(f);l.onTransitionStart();if(!l.animating){l.animating=true;l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd()})}}else{l.updateProgress(f)}l.updateActiveIndex()}if(!l.params.freeModeMomentum||n>=l.params.longSwipesMs){l.updateProgress();l.updateActiveIndex()}return}var M,T=0,A=l.slidesSizesGrid[0];for(M=0;M<l.slidesGrid.length;M+=l.params.slidesPerGroup){if(typeof l.slidesGrid[M+l.params.slidesPerGroup]!=="undefined"){if(i>=l.slidesGrid[M]&&i<l.slidesGrid[M+l.params.slidesPerGroup]){T=M;A=l.slidesGrid[M+l.params.slidesPerGroup]-l.slidesGrid[M]}}else{if(i>=l.slidesGrid[M]){T=M;A=l.slidesGrid[l.slidesGrid.length-1]-l.slidesGrid[l.slidesGrid.length-2]}}}var C=(i-l.slidesGrid[T])/A;var D=function(e){l.params.onSlide?l.params.onSlide(e):l.slideTo(e)};if(n>l.params.longSwipesMs){if(!l.params.longSwipes){D(l.activeIndex);return}if(l.swipeDirection==="next"){if(C>=l.params.longSwipesRatio)D(T+l.params.slidesPerGroup);else D(T)}if(l.swipeDirection==="prev"){if(C>1-l.params.longSwipesRatio)D(T+l.params.slidesPerGroup);else D(T)}}else{if(!l.params.shortSwipes){D(l.activeIndex);return}if(l.swipeDirection==="next"){D(T+l.params.slidesPerGroup)}if(l.swipeDirection==="prev"){D(T)}}};l._slideTo=function(e,t){return l.slideTo(e,t,true,true)};l.slideTo=function(e,t,n,i){if(typeof n==="undefined")n=true;if(typeof e==="undefined")e=0;if(e<0)e=0;l.snapIndex=Math.floor(e/l.params.slidesPerGroup);if(l.snapIndex>=l.snapGrid.length)l.snapIndex=l.snapGrid.length-1;var a=-l.snapGrid[l.snapIndex];if(!l.params.allowSwipeToNext&&a<l.translate){return false}if(!l.params.allowSwipeToPrev&&a>l.translate){return false}if(l.params.autoplay&&l.autoplaying){if(i||!l.params.autoplayDisableOnInteraction){l.pauseAutoplay(t)}else{l.stopAutoplay()}}l.updateProgress(a);for(var r=0;r<l.slidesGrid.length;r++){if(-a>=l.slidesGrid[r]){e=r}}if(typeof t==="undefined")t=l.params.speed;l.previousIndex=l.activeIndex||0;l.activeIndex=e;if(a===l.translate){l.updateClasses();return false}l.updateClasses();l.onTransitionStart(n);var s=u()?a:0,o=u()?0:a;if(t===0){l.setWrapperTransition(0);l.setWrapperTranslate(a);l.onTransitionEnd(n)}else{l.setWrapperTransition(t);l.setWrapperTranslate(a);if(!l.animating){l.animating=true;l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd(n)})}}return true};l.onTransitionStart=function(e){if(typeof e==="undefined")e=true;if(l.lazy)l.lazy.onTransitionStart();if(e){l.emit("onTransitionStart",l);if(l.activeIndex!==l.previousIndex){l.emit("onSlideChangeStart",l)}}};l.onTransitionEnd=function(e){l.animating=false;l.setWrapperTransition(0);if(typeof e==="undefined")e=true;if(l.lazy)l.lazy.onTransitionEnd();if(e){l.emit("onTransitionEnd",l);if(l.activeIndex!==l.previousIndex){l.emit("onSlideChangeEnd",l)}}if(l.params.hashnav&&l.hashnav){l.hashnav.setHash()}};l.slideNext=function(e,t,n){if(l.params.loop){if(l.animating)return false;l.fixLoop();var i=l.container[0].clientLeft;return l.slideTo(l.activeIndex+l.params.slidesPerGroup,t,e,n)}else return l.slideTo(l.activeIndex+l.params.slidesPerGroup,t,e,n)};l._slideNext=function(e){return l.slideNext(true,e,true)};l.slidePrev=function(e,t,n){if(l.params.loop){if(l.animating)return false;l.fixLoop();var i=l.container[0].clientLeft;return l.slideTo(l.activeIndex-1,t,e,n)}else return l.slideTo(l.activeIndex-1,t,e,n)};l._slidePrev=function(e){return l.slidePrev(true,e,true)};l.slideReset=function(e,t,n){return l.slideTo(l.activeIndex,t,e)};l.setWrapperTransition=function(e,t){l.wrapper.transition(e);if(l.params.effect!=="slide"&&l.effects[l.params.effect]){l.effects[l.params.effect].setTransition(e)}if(l.params.parallax&&l.parallax){l.parallax.setTransition(e)}if(l.params.scrollbar&&l.scrollbar){l.scrollbar.setTransition(e)}if(l.params.control&&l.controller){l.controller.setTransition(e,t)}l.emit("onSetTransition",l,e)};l.setWrapperTranslate=function(e,t,n){var i=0,a=0,r=0;if(u()){i=l.rtl?-e:e}else{a=e}if(!l.params.virtualTranslate){if(l.support.transforms3d)l.wrapper.transform("translate3d("+i+"px, "+a+"px, "+r+"px)");else l.wrapper.transform("translate("+i+"px, "+a+"px)")}l.translate=u()?i:a;if(t)l.updateActiveIndex();if(l.params.effect!=="slide"&&l.effects[l.params.effect]){l.effects[l.params.effect].setTranslate(l.translate)}if(l.params.parallax&&l.parallax){l.parallax.setTranslate(l.translate)}if(l.params.scrollbar&&l.scrollbar){l.scrollbar.setTranslate(l.translate)}if(l.params.control&&l.controller){l.controller.setTranslate(l.translate,n)}l.emit("onSetTranslate",l,l.translate)};l.getTranslate=function(e,t){var n,i,a,r;if(typeof t==="undefined"){t="x"}if(l.params.virtualTranslate){return l.rtl?-l.translate:l.translate}a=window.getComputedStyle(e,null);if(window.WebKitCSSMatrix){r=new window.WebKitCSSMatrix(a.webkitTransform==="none"?"":a.webkitTransform)}else{r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");n=r.toString().split(",")}if(t==="x"){if(window.WebKitCSSMatrix)i=r.m41;else if(n.length===16)i=parseFloat(n[12]);else i=parseFloat(n[4])}if(t==="y"){if(window.WebKitCSSMatrix)i=r.m42;else if(n.length===16)i=parseFloat(n[13]);else i=parseFloat(n[5])}if(l.rtl&&i)i=-i;return i||0};l.getWrapperTranslate=function(e){if(typeof e==="undefined"){e=u()?"x":"y"}return l.getTranslate(l.wrapper[0],e)};l.observers=[];function T(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver;var i=new n(function(e){e.forEach(function(e){l.onResize(true);l.emit("onObserverUpdate",l,e)})});i.observe(e,{attributes:typeof t.attributes==="undefined"?true:t.attributes,childList:typeof t.childList==="undefined"?true:t.childList,characterData:typeof t.characterData==="undefined"?true:t.characterData});l.observers.push(i)}l.initObservers=function(){if(l.params.observeParents){var e=l.container.parents();for(var t=0;t<e.length;t++){T(e[t])}}T(l.container[0],{childList:false});T(l.wrapper[0],{attributes:false})};l.disconnectObservers=function(){for(var e=0;e<l.observers.length;e++){l.observers[e].disconnect()}l.observers=[]};l.createLoop=function(){l.wrapper.children("."+l.params.slideClass+"."+l.params.slideDuplicateClass).remove();var e=l.wrapper.children("."+l.params.slideClass);l.loopedSlides=parseInt(l.params.loopedSlides||l.params.slidesPerView,10);l.loopedSlides=l.loopedSlides+l.params.loopAdditionalSlides;if(l.loopedSlides>e.length){l.loopedSlides=e.length}var t=[],n=[],i;e.each(function(i,a){var r=c(this);if(i<l.loopedSlides)n.push(a);if(i<e.length&&i>=e.length-l.loopedSlides)t.push(a);r.attr("data-swiper-slide-index",i)});for(i=0;i<n.length;i++){l.wrapper.append(c(n[i].cloneNode(true)).addClass(l.params.slideDuplicateClass))}for(i=t.length-1;i>=0;i--){l.wrapper.prepend(c(t[i].cloneNode(true)).addClass(l.params.slideDuplicateClass))}};l.destroyLoop=function(){l.wrapper.children("."+l.params.slideClass+"."+l.params.slideDuplicateClass).remove();l.slides.removeAttr("data-swiper-slide-index")};l.fixLoop=function(){var e;if(l.activeIndex<l.loopedSlides){e=l.slides.length-l.loopedSlides*3+l.activeIndex;e=e+l.loopedSlides;l.slideTo(e,0,false,true)}else if(l.params.slidesPerView==="auto"&&l.activeIndex>=l.loopedSlides*2||l.activeIndex>l.slides.length-l.params.slidesPerView*2){e=-l.slides.length+l.activeIndex+l.loopedSlides;e=e+l.loopedSlides;l.slideTo(e,0,false,true)}};l.appendSlide=function(e){if(l.params.loop){l.destroyLoop()}if(typeof e==="object"&&e.length){for(var t=0;t<e.length;t++){if(e[t])l.wrapper.append(e[t])}}else{l.wrapper.append(e)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}};l.prependSlide=function(e){if(l.params.loop){l.destroyLoop()}var t=l.activeIndex+1;if(typeof e==="object"&&e.length){for(var n=0;n<e.length;n++){if(e[n])l.wrapper.prepend(e[n])}t=l.activeIndex+e.length}else{l.wrapper.prepend(e)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}l.slideTo(t,0,false)};l.removeSlide=function(e){if(l.params.loop){l.destroyLoop();l.slides=l.wrapper.children("."+l.params.slideClass)}var t=l.activeIndex,n;if(typeof e==="object"&&e.length){for(var i=0;i<e.length;i++){n=e[i];if(l.slides[n])l.slides.eq(n).remove();if(n<t)t--}t=Math.max(t,0)}else{n=e;if(l.slides[n])l.slides.eq(n).remove();if(n<t)t--;t=Math.max(t,0)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}if(l.params.loop){l.slideTo(t+l.loopedSlides,0,false)}else{l.slideTo(t,0,false)}};l.removeAllSlides=function(){var e=[];for(var t=0;t<l.slides.length;t++){e.push(t)}l.removeSlide(e)};l.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<l.slides.length;e++){var t=l.slides.eq(e);var n=t[0].swiperSlideOffset;var i=-n;if(!l.params.virtualTranslate)i=i-l.translate;var a=0;if(!u()){a=i;i=0}var r=l.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);if(r>0&&r<1){l.effects.fade.fadeIndex=e}t.css({opacity:r}).transform("translate3d("+i+"px, "+a+"px, 0px)")}},setTransition:function(e){l.slides.transition(e);if(l.params.virtualTranslate&&e!==0){var t=l.effects.fade.fadeIndex!==null?l.effects.fade.fadeIndex:l.activeIndex;if(!(l.params.loop||l.params.fade.crossFade)&&t===0){t=l.slides.length-1}l.slides.eq(t).transitionEnd(function(){if(!l)return;var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var t=0;t<e.length;t++){l.wrapper.trigger(e[t])}})}}},cube:{setTranslate:function(){var e=0,t;if(l.params.cube.shadow){if(u()){t=l.wrapper.find(".swiper-cube-shadow");if(t.length===0){t=c('<div class="swiper-cube-shadow"></div>');l.wrapper.append(t)}t.css({height:l.width+"px"})}else{t=l.container.find(".swiper-cube-shadow");if(t.length===0){t=c('<div class="swiper-cube-shadow"></div>');l.container.append(t)}}}for(var n=0;n<l.slides.length;n++){var i=l.slides.eq(n);var a=n*90;var r=Math.floor(a/360);if(l.rtl){a=-a;r=Math.floor(-a/360)}var s=Math.max(Math.min(i[0].progress,1),-1);var o=0,d=0,f=0;if(n%4===0){o=-r*4*l.size;f=0}else if((n-1)%4===0){o=0;f=-r*4*l.size}else if((n-2)%4===0){o=l.size+r*4*l.size;f=l.size}else if((n-3)%4===0){o=-l.size;f=3*l.size+l.size*4*r}if(l.rtl){o=-o}if(!u()){d=o;o=0}var p="rotateX("+(u()?0:-a)+"deg) rotateY("+(u()?a:0)+"deg) translate3d("+o+"px, "+d+"px, "+f+"px)";if(s<=1&&s>-1){e=n*90+s*90;if(l.rtl)e=-n*90-s*90}i.transform(p);if(l.params.cube.slideShadows){var h=u()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top");var m=u()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");if(h.length===0){h=c('<div class="swiper-slide-shadow-'+(u()?"left":"top")+'"></div>');i.append(h)}if(m.length===0){m=c('<div class="swiper-slide-shadow-'+(u()?"right":"bottom")+'"></div>');i.append(m)}var _=i[0].progress;if(h.length)h[0].style.opacity=-i[0].progress;if(m.length)m[0].style.opacity=i[0].progress}}l.wrapper.css({"-webkit-transform-origin":"50% 50% -"+l.size/2+"px","-moz-transform-origin":"50% 50% -"+l.size/2+"px","-ms-transform-origin":"50% 50% -"+l.size/2+"px","transform-origin":"50% 50% -"+l.size/2+"px"});if(l.params.cube.shadow){if(u()){t.transform("translate3d(0px, "+(l.width/2+l.params.cube.shadowOffset)+"px, "+-l.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+l.params.cube.shadowScale+")")}else{var g=Math.abs(e)-Math.floor(Math.abs(e)/90)*90;var v=1.5-(Math.sin(g*2*Math.PI/360)/2+Math.cos(g*2*Math.PI/360)/2);var b=l.params.cube.shadowScale,y=l.params.cube.shadowScale/v,x=l.params.cube.shadowOffset;t.transform("scale3d("+b+", 1, "+y+") translate3d(0px, "+(l.height/2+x)+"px, "+-l.height/2/y+"px) rotateX(-90deg)")}}var w=l.isSafari||l.isUiWebView?-l.size/2:0;l.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(u()?0:e)+"deg) rotateY("+(u()?-e:0)+"deg)")},setTransition:function(e){l.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e);if(l.params.cube.shadow&&!u()){l.container.find(".swiper-cube-shadow").transition(e)}}},coverflow:{setTranslate:function(){var e=l.translate;var t=u()?-e+l.width/2:-e+l.height/2;var n=u()?l.params.coverflow.rotate:-l.params.coverflow.rotate;var i=l.params.coverflow.depth;for(var a=0,r=l.slides.length;a<r;a++){var s=l.slides.eq(a);var o=l.slidesSizesGrid[a];var d=s[0].swiperSlideOffset;var f=(t-d-o/2)/o*l.params.coverflow.modifier;var p=u()?n*f:0;var h=u()?0:n*f;var m=-i*Math.abs(f);var _=u()?0:l.params.coverflow.stretch*f;var g=u()?l.params.coverflow.stretch*f:0;if(Math.abs(g)<.001)g=0;if(Math.abs(_)<.001)_=0;if(Math.abs(m)<.001)m=0;if(Math.abs(p)<.001)p=0;if(Math.abs(h)<.001)h=0;var v="translate3d("+g+"px,"+_+"px,"+m+"px)  rotateX("+h+"deg) rotateY("+p+"deg)";s.transform(v);s[0].style.zIndex=-Math.abs(Math.round(f))+1;if(l.params.coverflow.slideShadows){var b=u()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top");var y=u()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");if(b.length===0){b=c('<div class="swiper-slide-shadow-'+(u()?"left":"top")+'"></div>');s.append(b)}if(y.length===0){y=c('<div class="swiper-slide-shadow-'+(u()?"right":"bottom")+'"></div>');s.append(y)}if(b.length)b[0].style.opacity=f>0?f:0;if(y.length)y[0].style.opacity=-f>0?-f:0}}if(l.browser.ie){var x=l.wrapper[0].style;x.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){l.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}};l.lazy={initialImageLoaded:false,loadImageInSlide:function(e,t){if(typeof e==="undefined")return;if(typeof t==="undefined")t=true;if(l.slides.length===0)return;var n=l.slides.eq(e);var i=n.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(n.hasClass("swiper-lazy")&&!n.hasClass("swiper-lazy-loaded")&&!n.hasClass("swiper-lazy-loading")){i.add(n[0])}if(i.length===0)return;i.each(function(){var e=c(this);e.addClass("swiper-lazy-loading");var i=e.attr("data-background");var a=e.attr("data-src");l.loadImage(e[0],a||i,false,function(){if(i){e.css("background-image","url("+i+")");e.removeAttr("data-background")}else{e.attr("src",a);e.removeAttr("data-src")}e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");n.find(".swiper-lazy-preloader, .preloader").remove();if(l.params.loop&&t){var r=n.attr("data-swiper-slide-index");if(n.hasClass(l.params.slideDuplicateClass)){var s=l.wrapper.children('[data-swiper-slide-index="'+r+'"]:not(.'+l.params.slideDuplicateClass+")");l.lazy.loadImageInSlide(s.index(),false)}else{var o=l.wrapper.children("."+l.params.slideDuplicateClass+'[data-swiper-slide-index="'+r+'"]');l.lazy.loadImageInSlide(o.index(),false)}}l.emit("onLazyImageReady",l,n[0],e[0])});l.emit("onLazyImageLoad",l,n[0],e[0])})},load:function(){if(l.params.watchSlidesVisibility){l.wrapper.children("."+l.params.slideVisibleClass).each(function(){l.lazy.loadImageInSlide(c(this).index())})}else{if(l.params.slidesPerView>1){for(var e=l.activeIndex;e<l.activeIndex+l.params.slidesPerView;e++){if(l.slides[e])l.lazy.loadImageInSlide(e)}}else{l.lazy.loadImageInSlide(l.activeIndex)}}if(l.params.lazyLoadingInPrevNext){var t=l.wrapper.children("."+l.params.slideNextClass);if(t.length>0)l.lazy.loadImageInSlide(t.index());var n=l.wrapper.children("."+l.params.slidePrevClass);if(n.length>0)l.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){if(l.params.lazyLoading){if(l.params.lazyLoadingOnTransitionStart||!l.params.lazyLoadingOnTransitionStart&&!l.lazy.initialImageLoaded){l.lazy.load()}}},onTransitionEnd:function(){if(l.params.lazyLoading&&!l.params.lazyLoadingOnTransitionStart){l.lazy.load()}}};l.scrollbar={set:function(){if(!l.params.scrollbar)return;var e=l.scrollbar;e.track=c(l.params.scrollbar);e.drag=e.track.find(".swiper-scrollbar-drag");if(e.drag.length===0){e.drag=c('<div class="swiper-scrollbar-drag"></div>');e.track.append(e.drag)}e.drag[0].style.width="";e.drag[0].style.height="";e.trackSize=u()?e.track[0].offsetWidth:e.track[0].offsetHeight;e.divider=l.size/l.virtualSize;e.moveDivider=e.divider*(e.trackSize/l.size);e.dragSize=e.trackSize*e.divider;if(u()){e.drag[0].style.width=e.dragSize+"px"}else{e.drag[0].style.height=e.dragSize+"px"}if(e.divider>=1){e.track[0].style.display="none"}else{e.track[0].style.display=""}if(l.params.scrollbarHide){e.track[0].style.opacity=0}},setTranslate:function(){if(!l.params.scrollbar)return;var e;var t=l.scrollbar;var n=l.translate||0;var i;var a=t.dragSize;i=(t.trackSize-t.dragSize)*l.progress;if(l.rtl&&u()){i=-i;if(i>0){a=t.dragSize-i;i=0}else if(-i+t.dragSize>t.trackSize){a=t.trackSize+i}}else{if(i<0){a=t.dragSize+i;i=0}else if(i+t.dragSize>t.trackSize){a=t.trackSize-i}}if(u()){if(l.support.transforms3d){t.drag.transform("translate3d("+i+"px, 0, 0)")}else{t.drag.transform("translateX("+i+"px)")}t.drag[0].style.width=a+"px"}else{if(l.support.transforms3d){t.drag.transform("translate3d(0px, "+i+"px, 0)")}else{t.drag.transform("translateY("+i+"px)")}t.drag[0].style.height=a+"px"}if(l.params.scrollbarHide){clearTimeout(t.timeout);t.track[0].style.opacity=1;t.timeout=setTimeout(function(){t.track[0].style.opacity=0;t.track.transition(400)},1e3)}},setTransition:function(e){if(!l.params.scrollbar)return;l.scrollbar.drag.transition(e)}};l.controller={setTranslate:function(t,n){var i=l.params.control;var a,r;function s(e){t=e.rtl&&e.params.direction==="horizontal"?-l.translate:l.translate;a=(e.maxTranslate()-e.minTranslate())/(l.maxTranslate()-l.minTranslate());r=(t-l.minTranslate())*a+e.minTranslate();if(l.params.controlInverse){r=e.maxTranslate()-r}e.updateProgress(r);e.setWrapperTranslate(r,false,l);e.updateActiveIndex()}if(l.isArray(i)){for(var o=0;o<i.length;o++){if(i[o]!==n&&i[o]instanceof e){s(i[o])}}}else if(i instanceof e&&n!==i){s(i)}},setTransition:function(t,n){var i=l.params.control;var a;function r(e){e.setWrapperTransition(t,l);if(t!==0){e.onTransitionStart();e.wrapper.transitionEnd(function(){if(!i)return;e.onTransitionEnd()})}}if(l.isArray(i)){for(a=0;a<i.length;a++){if(i[a]!==n&&i[a]instanceof e){r(i[a])}}}else if(i instanceof e&&n!==i){r(i)}}};l.hashnav={init:function(){if(!l.params.hashnav)return;l.hashnav.initialized=true;var e=document.location.hash.replace("#","");if(!e)return;var t=0;for(var n=0,i=l.slides.length;n<i;n++){var a=l.slides.eq(n);var r=a.attr("data-hash");if(r===e&&!a.hasClass(l.params.slideDuplicateClass)){var s=a.index();l.slideTo(s,t,l.params.runCallbacksOnInit,true)}}},setHash:function(){if(!l.hashnav.initialized||!l.params.hashnav)return;document.location.hash=l.slides.eq(l.activeIndex).attr("data-hash")||""}};function A(e){if(e.originalEvent)e=e.originalEvent;var t=e.keyCode||e.charCode;if(!l.params.allowSwipeToNext&&(u()&&t===39||!u()&&t===40)){return false}if(!l.params.allowSwipeToPrev&&(u()&&t===37||!u()&&t===38)){return false}if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey){return}if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==="input"||document.activeElement.nodeName.toLowerCase()==="textarea")){return}if(t===37||t===39||t===38||t===40){var n=false;if(l.container.parents(".swiper-slide").length>0&&l.container.parents(".swiper-slide-active").length===0){return}var i={left:window.pageXOffset,top:window.pageYOffset};var a=window.innerWidth;var r=window.innerHeight;var s=l.container.offset();var o=[[s.left,s.top],[s.left+l.width,s.top],[s.left,s.top+l.height],[s.left+l.width,s.top+l.height]];for(var c=0;c<o.length;c++){var d=o[c];if(d[0]>=i.left&&d[0]<=i.left+a&&d[1]>=i.top&&d[1]<=i.top+r){n=true}}if(!n)return}if(u()){if(t===37||t===39){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t===39)l.slideNext();if(t===37)l.slidePrev()}else{if(t===38||t===40){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t===40)l.slideNext();if(t===38)l.slidePrev()}}l.disableKeyboardControl=function(){c(document).off("keydown",A)};l.enableKeyboardControl=function(){c(document).on("keydown",A)};l._wheelEvent=false;l._lastWheelScrollTime=(new window.Date).getTime();if(l.params.mousewheelControl){if(document.onmousewheel!==undefined){l._wheelEvent="mousewheel"}if(!l._wheelEvent){try{new window.WheelEvent("wheel");l._wheelEvent="wheel"}catch(e){}}if(!l._wheelEvent){l._wheelEvent="DOMMouseScroll"}}function C(e){if(e.originalEvent)e=e.originalEvent;var t=l._wheelEvent;var n=0;if(e.detail)n=-e.detail;else if(t==="mousewheel"){if(l.params.mousewheelForceToAxis){if(u()){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))n=e.wheelDeltaX;else return}else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))n=e.wheelDeltaY;else return}}else{n=e.wheelDelta}}else if(t==="DOMMouseScroll")n=-e.detail;else if(t==="wheel"){if(l.params.mousewheelForceToAxis){if(u()){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))n=-e.deltaX;else return}else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))n=-e.deltaY;else return}}else{n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY}}if(!l.params.freeMode){if((new window.Date).getTime()-l._lastWheelScrollTime>60){if(n<0)l.slideNext();else l.slidePrev()}l._lastWheelScrollTime=(new window.Date).getTime()}else{var i=l.getWrapperTranslate()+n;if(i>0)i=0;if(i<l.maxTranslate())i=l.maxTranslate();l.setWrapperTransition(0);l.setWrapperTranslate(i);l.updateProgress();l.updateActiveIndex();if(i===0||i===l.maxTranslate())return}if(l.params.autoplay)l.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}l.disableMousewheelControl=function(){if(!l._wheelEvent)return false;l.container.off(l._wheelEvent,C);return true};l.enableMousewheelControl=function(){if(!l._wheelEvent)return false;l.container.on(l._wheelEvent,C);return true};function D(e,t){e=c(e);var n,i,a;n=e.attr("data-swiper-parallax")||"0";i=e.attr("data-swiper-parallax-x");a=e.attr("data-swiper-parallax-y");if(i||a){i=i||"0";a=a||"0"}else{if(u()){i=n;a="0"}else{a=n;i="0"}}if(i.indexOf("%")>=0){i=parseInt(i,10)*t+"%"}else{i=i*t+"px"}if(a.indexOf("%")>=0){a=parseInt(a,10)*t+"%"}else{a=a*t+"px"}e.transform("translate3d("+i+", "+a+",0px)")}l.parallax={setTranslate:function(){l.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){D(this,l.progress)});l.slides.each(function(){var e=c(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);D(this,t)})})},setTransition:function(e){if(typeof e==="undefined")e=l.params.speed;l.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=c(this);var n=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;if(e===0)n=0;t.transition(n)})}};l._plugins=[];for(var R in l.plugins){var I=l.plugins[R](l,l.params[R]);if(I)l._plugins.push(I)}l.callPlugins=function(e){for(var t=0;t<l._plugins.length;t++){if(e in l._plugins[t]){l._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}};function O(e){if(e.indexOf("on")!==0){if(e[0]!==e[0].toUpperCase()){e="on"+e[0].toUpperCase()+e.substring(1)}else{e="on"+e}}return e}l.emitterEventListeners={};l.emit=function(e){if(l.params[e]){l.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}var t;if(l.emitterEventListeners[e]){for(t=0;t<l.emitterEventListeners[e].length;t++){l.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}if(l.callPlugins)l.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};l.on=function(e,t){e=O(e);if(!l.emitterEventListeners[e])l.emitterEventListeners[e]=[];l.emitterEventListeners[e].push(t);return l};l.off=function(e,t){var n;e=O(e);if(typeof t==="undefined"){l.emitterEventListeners[e]=[];return l}if(!l.emitterEventListeners[e]||l.emitterEventListeners[e].length===0)return;for(n=0;n<l.emitterEventListeners[e].length;n++){if(l.emitterEventListeners[e][n]===t)l.emitterEventListeners[e].splice(n,1)}return l};l.once=function(e,t){e=O(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);l.off(e,n)};l.on(e,n);return l};l.a11y={makeFocusable:function(e){e[0].tabIndex="0";return e},addRole:function(e,t){e.attr("role",t);return e},addLabel:function(e,t){e.attr("aria-label",t);return e},disable:function(e){e.attr("aria-disabled",true);return e},enable:function(e){e.attr("aria-disabled",false);return e},onEnterKey:function(e){if(e.keyCode!==13)return;if(c(e.target).is(l.params.nextButton)){l.onClickNext(e);if(l.isEnd){l.a11y.notify(l.params.lastSlideMsg)}else{l.a11y.notify(l.params.nextSlideMsg)}}else if(c(e.target).is(l.params.prevButton)){l.onClickPrev(e);if(l.isBeginning){l.a11y.notify(l.params.firstSlideMsg)}else{l.a11y.notify(l.params.prevSlideMsg)}}},liveRegion:c('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=l.a11y.liveRegion;if(t.length===0)return;t.html("");t.html(e)},init:function(){if(l.params.nextButton){var e=c(l.params.nextButton);l.a11y.makeFocusable(e);l.a11y.addRole(e,"button");l.a11y.addLabel(e,l.params.nextSlideMsg)}if(l.params.prevButton){var t=c(l.params.prevButton);l.a11y.makeFocusable(t);l.a11y.addRole(t,"button");l.a11y.addLabel(t,l.params.prevSlideMsg)}c(l.container).append(l.a11y.liveRegion)},destroy:function(){if(l.a11y.liveRegion&&l.a11y.liveRegion.length>0)l.a11y.liveRegion.remove()}};l.init=function(){if(l.params.loop)l.createLoop();l.updateContainerSize();l.updateSlidesSize();l.updatePagination();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}if(l.params.effect!=="slide"&&l.effects[l.params.effect]){if(!l.params.loop)l.updateProgress();l.effects[l.params.effect].setTranslate()}if(l.params.loop){l.slideTo(l.params.initialSlide+l.loopedSlides,0,l.params.runCallbacksOnInit)}else{l.slideTo(l.params.initialSlide,0,l.params.runCallbacksOnInit);if(l.params.initialSlide===0){if(l.parallax&&l.params.parallax)l.parallax.setTranslate();if(l.lazy&&l.params.lazyLoading){l.lazy.load();l.lazy.initialImageLoaded=true}}}l.attachEvents();if(l.params.observer&&l.support.observer){l.initObservers()}if(l.params.preloadImages&&!l.params.lazyLoading){l.preloadImages()}if(l.params.autoplay){l.startAutoplay()}if(l.params.keyboardControl){if(l.enableKeyboardControl)l.enableKeyboardControl()}if(l.params.mousewheelControl){if(l.enableMousewheelControl)l.enableMousewheelControl()}if(l.params.hashnav){if(l.hashnav)l.hashnav.init()}if(l.params.a11y&&l.a11y)l.a11y.init();l.emit("onInit",l)};l.cleanupStyles=function(){l.container.removeClass(l.classNames.join(" ")).removeAttr("style");l.wrapper.removeAttr("style");if(l.slides&&l.slides.length){l.slides.removeClass([l.params.slideVisibleClass,l.params.slideActiveClass,l.params.slideNextClass,l.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row")}if(l.paginationContainer&&l.paginationContainer.length){l.paginationContainer.removeClass(l.params.paginationHiddenClass)}if(l.bullets&&l.bullets.length){l.bullets.removeClass(l.params.bulletActiveClass)}if(l.params.prevButton)c(l.params.prevButton).removeClass(l.params.buttonDisabledClass);if(l.params.nextButton)c(l.params.nextButton).removeClass(l.params.buttonDisabledClass);if(l.params.scrollbar&&l.scrollbar){if(l.scrollbar.track&&l.scrollbar.track.length)l.scrollbar.track.removeAttr("style");if(l.scrollbar.drag&&l.scrollbar.drag.length)l.scrollbar.drag.removeAttr("style")}};l.destroy=function(e,t){l.detachEvents();l.stopAutoplay();if(l.params.loop){l.destroyLoop()}if(t){l.cleanupStyles()}l.disconnectObservers();if(l.params.keyboardControl){if(l.disableKeyboardControl)l.disableKeyboardControl()}if(l.params.mousewheelControl){if(l.disableMousewheelControl)l.disableMousewheelControl()}if(l.params.a11y&&l.a11y)l.a11y.destroy();l.emit("onDestroy");if(e!==false)l=null};l.init();return l};e.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent;var t=e.match(/(Android);?[\s\/]+([\d.]+)?/);var n=e.match(/(iPad).*OS\s([\d_]+)/);var i=e.match(/(iPod)(.*OS\s([\d_]+))?/);var a=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||a||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===true||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===true||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){var e=document.createElement("div").style;var t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var n=0;n<t.length;n++){if(t[n]in e)return true}}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};var t=function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++){t[n]=e[n]}t.length=e.length;return this};var t=function(t,n){var i=[],a=0;if(t&&!n){if(t instanceof e){return t}}if(t){if(typeof t==="string"){var r,s,o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";if(o.indexOf("<li")===0)l="ul";if(o.indexOf("<tr")===0)l="tbody";if(o.indexOf("<td")===0||o.indexOf("<th")===0)l="tr";if(o.indexOf("<tbody")===0)l="table";if(o.indexOf("<option")===0)l="select";s=document.createElement(l);s.innerHTML=t;for(a=0;a<s.childNodes.length;a++){i.push(s.childNodes[a])}}else{if(!n&&t[0]==="#"&&!t.match(/[ .<>:~]/)){r=[document.getElementById(t.split("#")[1])]}else{r=(n||document).querySelectorAll(t)}for(a=0;a<r.length;a++){if(r[a])i.push(r[a])}}}else if(t.nodeType||t===window||t===document){i.push(t)}else if(t.length>0&&t[0].nodeType){for(a=0;a<t.length;a++){i.push(t[a])}}}return new e(i)};e.prototype={addClass:function(e){if(typeof e==="undefined"){return this}var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.add(t[n])}}return this},removeClass:function(e){var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.remove(t[n])}}return this},hasClass:function(e){if(!this[0])return false;else return this[0].classList.contains(e)},toggleClass:function(e){var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.toggle(t[n])}}return this},attr:function(e,t){if(arguments.length===1&&typeof e==="string"){if(this[0])return this[0].getAttribute(e);else return undefined}else{for(var n=0;n<this.length;n++){if(arguments.length===2){this[n].setAttribute(e,t)}else{for(var i in e){this[n][i]=e[i];this[n].setAttribute(i,e[i])}}}return this}},removeAttr:function(e){for(var t=0;t<this.length;t++){this[t].removeAttribute(e)}return this},data:function(e,t){if(typeof t==="undefined"){if(this[0]){var n=this[0].getAttribute("data-"+e);if(n)return n;else if(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[e];else return undefined}else return undefined}else{for(var i=0;i<this.length;i++){var a=this[i];if(!a.dom7ElementDataStorage)a.dom7ElementDataStorage={};a.dom7ElementDataStorage[e]=t}return this}},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){if(typeof e!=="string"){e=e+"ms"}for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,i,a){function r(e){var a=e.target;if(t(a).is(n))i.call(a,e);else{var r=t(a).parents();for(var s=0;s<r.length;s++){if(t(r[s]).is(n))i.call(r[s],e)}}}var s=e.split(" ");var o,l;for(o=0;o<this.length;o++){if(typeof n==="function"||n===false){if(typeof n==="function"){i=arguments[1];a=arguments[2]||false}for(l=0;l<s.length;l++){this[o].addEventListener(s[l],i,a)}}else{for(l=0;l<s.length;l++){if(!this[o].dom7LiveListeners)this[o].dom7LiveListeners=[];this[o].dom7LiveListeners.push({listener:i,liveListener:r});this[o].addEventListener(s[l],r,a)}}}return this},off:function(e,t,n,i){var a=e.split(" ");for(var r=0;r<a.length;r++){for(var s=0;s<this.length;s++){if(typeof t==="function"||t===false){if(typeof t==="function"){n=arguments[1];i=arguments[2]||false}this[s].removeEventListener(a[r],n,i)}else{if(this[s].dom7LiveListeners){for(var o=0;o<this[s].dom7LiveListeners.length;o++){if(this[s].dom7LiveListeners[o].listener===n){this[s].removeEventListener(a[r],this[s].dom7LiveListeners[o].liveListener,i)}}}}}}return this},once:function(e,t,n,i){var a=this;if(typeof t==="function"){t=false;n=arguments[1];i=arguments[2]}function r(s){n(s);a.off(e,t,r,i)}a.on(e,t,r,i)},trigger:function(e,t){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:true,cancelable:true})}catch(n){i=document.createEvent("Event");i.initEvent(e,true,true);i.detail=t}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,i,a=this;function r(i){if(i.target!==this)return;e.call(this,i);for(n=0;n<t.length;n++){a.off(t[n],r)}}if(e){for(n=0;n<t.length;n++){a.on(t[n],r)}}return this},width:function(){if(this[0]===window){return window.innerWidth}else{if(this.length>0){return parseFloat(this.css("width"))}else{return null}}},outerWidth:function(e){if(this.length>0){if(e)return this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left"));else return this[0].offsetWidth}else return null},height:function(){if(this[0]===window){return window.innerHeight}else{if(this.length>0){return parseFloat(this.css("height"))}else{return null}}},outerHeight:function(e){if(this.length>0){if(e)return this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom"));else return this[0].offsetHeight}else return null},offset:function(){if(this.length>0){var e=this[0];var t=e.getBoundingClientRect();var n=document.body;var i=e.clientTop||n.clientTop||0;var a=e.clientLeft||n.clientLeft||0;var r=window.pageYOffset||e.scrollTop;var s=window.pageXOffset||e.scrollLeft;return{top:t.top+r-i,left:t.left+s-a}}else{return null}},css:function(e,t){var n;if(arguments.length===1){if(typeof e==="string"){if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}else{for(n=0;n<this.length;n++){for(var i in e){this[n].style[i]=e[i]}}return this}}if(arguments.length===2&&typeof e==="string"){for(n=0;n<this.length;n++){this[n].style[e]=t}return this}return this},each:function(e){for(var t=0;t<this.length;t++){e.call(this[t],t,this[t])}return this},html:function(e){if(typeof e==="undefined"){return this[0]?this[0].innerHTML:undefined}else{for(var t=0;t<this.length;t++){this[t].innerHTML=e}return this}},is:function(n){if(!this[0])return false;var i,a;if(typeof n==="string"){var r=this[0];if(r===document)return n===document;if(r===window)return n===window;if(r.matches)return r.matches(n);else if(r.webkitMatchesSelector)return r.webkitMatchesSelector(n);else if(r.mozMatchesSelector)return r.mozMatchesSelector(n);else if(r.msMatchesSelector)return r.msMatchesSelector(n);else{i=t(n);for(a=0;a<i.length;a++){if(i[a]===this[0])return true}return false}}else if(n===document)return this[0]===document;else if(n===window)return this[0]===window;else{if(n.nodeType||n instanceof e){i=n.nodeType?[n]:n;for(a=0;a<i.length;a++){if(i[a]===this[0])return true}return false}return false}},index:function(){if(this[0]){var e=this[0];var t=0;while((e=e.previousSibling)!==null){if(e.nodeType===1)t++}return t}else return undefined},eq:function(t){if(typeof t==="undefined")return this;var n=this.length;var i;if(t>n-1){return new e([])}if(t<0){i=n+t;if(i<0)return new e([]);else return new e([this[i]])}return new e([this[t]])},append:function(t){var n,i;for(n=0;n<this.length;n++){if(typeof t==="string"){var a=document.createElement("div");a.innerHTML=t;while(a.firstChild){this[n].appendChild(a.firstChild)}}else if(t instanceof e){for(i=0;i<t.length;i++){this[n].appendChild(t[i])}}else{this[n].appendChild(t)}}return this},prepend:function(t){var n,i;for(n=0;n<this.length;n++){if(typeof t==="string"){var a=document.createElement("div");a.innerHTML=t;for(i=a.childNodes.length-1;i>=0;i--){this[n].insertBefore(a.childNodes[i],this[n].childNodes[0])}}else if(t instanceof e){for(i=0;i<t.length;i++){this[n].insertBefore(t[i],this[n].childNodes[0])}}else{this[n].insertBefore(t,this[n].childNodes[0])}}return this},insertBefore:function(e){var n=t(e);for(var i=0;i<this.length;i++){if(n.length===1){n[0].parentNode.insertBefore(this[i],n[0])}else if(n.length>1){for(var a=0;a<n.length;a++){n[a].parentNode.insertBefore(this[i].cloneNode(true),n[a])}}}},insertAfter:function(e){var n=t(e);for(var i=0;i<this.length;i++){if(n.length===1){n[0].parentNode.insertBefore(this[i],n[0].nextSibling)}else if(n.length>1){for(var a=0;a<n.length;a++){n[a].parentNode.insertBefore(this[i].cloneNode(true),n[a].nextSibling)}}}},next:function(n){if(this.length>0){if(n){if(this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n))return new e([this[0].nextElementSibling]);else return new e([])}else{if(this[0].nextElementSibling)return new e([this[0].nextElementSibling]);else return new e([])}}else return new e([])},nextAll:function(n){var i=[];var a=this[0];if(!a)return new e([]);while(a.nextElementSibling){var r=a.nextElementSibling;if(n){if(t(r).is(n))i.push(r)}else i.push(r);a=r}return new e(i)},prev:function(n){if(this.length>0){if(n){if(this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n))return new e([this[0].previousElementSibling]);else return new e([])}else{if(this[0].previousElementSibling)return new e([this[0].previousElementSibling]);else return new e([])}}else return new e([])},prevAll:function(n){var i=[];var a=this[0];if(!a)return new e([]);while(a.previousElementSibling){var r=a.previousElementSibling;if(n){if(t(r).is(n))i.push(r)}else i.push(r);a=r}return new e(i)},parent:function(e){var n=[];for(var i=0;i<this.length;i++){if(e){if(t(this[i].parentNode).is(e))n.push(this[i].parentNode)}else{n.push(this[i].parentNode)}}return t(t.unique(n))},parents:function(e){var n=[];for(var i=0;i<this.length;i++){var a=this[i].parentNode;while(a){if(e){if(t(a).is(e))n.push(a)}else{n.push(a)}a=a.parentNode}}return t(t.unique(n))},find:function(t){var n=[];for(var i=0;i<this.length;i++){var a=this[i].querySelectorAll(t);for(var r=0;r<a.length;r++){n.push(a[r])}}return new e(n)},children:function(n){var i=[];for(var a=0;a<this.length;a++){var r=this[a].childNodes;for(var s=0;s<r.length;s++){if(!n){if(r[s].nodeType===1)i.push(r[s])}else{if(r[s].nodeType===1&&t(r[s]).is(n))i.push(r[s])}}}return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++){if(this[e].parentNode)this[e].parentNode.removeChild(this[e])}return this},add:function(){var e=this;var n,i;for(n=0;n<arguments.length;n++){var a=t(arguments[n]);for(i=0;i<a.length;i++){e[e.length]=a[i];e.length++}}return e}};t.fn=e.prototype;t.unique=function(e){var t=[];for(var n=0;n<e.length;n++){if(t.indexOf(e[n])===-1)t.push(e[n])}return t};return t}();var n=["jQuery","Zepto","Dom7"];function i(t){t.fn.swiper=function(n){var i;t(this).each(function(){var t=new e(this,n);if(!i)i=t});return i}}for(var a=0;a<n.length;a++){if(window[n[a]]){i(window[n[a]])}}var r;if(typeof t==="undefined"){r=window.Dom7||window.Zepto||window.jQuery}else{r=t}if(r){if(!("transitionEnd"in r.fn)){r.fn.transitionEnd=function(e){var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,i,a=this;function r(i){if(i.target!==this)return;e.call(this,i);for(n=0;n<t.length;n++){a.off(t[n],r)}}if(e){for(n=0;n<t.length;n++){a.on(t[n],r)}}return this}}if(!("transform"in r.fn)){r.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}}if(!("transition"in r.fn)){r.fn.transition=function(e){if(typeof e!=="string"){e=e+"ms"}for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}}}window.Swiper=e})();if(true){e.exports=window.Swiper}else if(typeof define==="function"&&define.amd){define([],function(){"use strict";return window.Swiper})}},function(e,t){(function(e,t){var n=window.document,i=n.documentElement,a=e.fn.show,r=e.fn.hide,s=e.fn.toggle;function o(n,i,a,r,s){if(typeof i=="function"&&!s)s=i,i=t;var o={opacity:a};if(r){o.scale=r;n.css(e.fx.cssPrefix+"transform-origin","0 0")}return n.animate(o,i,null,s)}function l(t,n,i,a){return o(t,n,0,i,function(){r.call(e(this));a&&a.call(this)})}e.fn.toggle=function(n,i){if(n===t||typeof n=="boolean")return s.call(this,n);else return this.each(function(){var t=e(this);t[t.css("display")=="none"?"show":"hide"](n,i)})};e.fn.fadeTo=function(e,t,n){return o(this,e,t,null,n)};e.fn.fadeIn=function(e,t){var n=this.css("opacity");if(n>0)this.css("opacity",0);else n=1;return a.call(this).fadeTo(e,n,t)};e.fn.fadeOut=function(e,t){return l(this,e,null,t)};e.fn.fadeToggle=function(t,n){return this.each(function(){var i=e(this);i[i.css("opacity")==0||i.css("display")=="none"?"fadeIn":"fadeOut"](t,n)})};e.fn.hideElement=function(){this.addClass("hide")};e.fn.showElement=function(){this.removeClass("hide")};e.fn.toggleElement=function(e){this.toggleClass("hide",_.isUndefined(e)?t:!e)}})(Zepto)},function(e,t){(function(e){var t={},n,i,a,r,s=750,o;function l(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}function c(){r=null;if(t.last){if(t.el)t.el.trigger("longTap");t={}}}function u(){if(r)clearTimeout(r);r=null}function d(){if(n)clearTimeout(n);if(i)clearTimeout(i);if(a)clearTimeout(a);if(r)clearTimeout(r);n=i=a=r=null;t={}}function f(e){return(e.pointerType=="touch"||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function p(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}e(document).ready(function(){var h,m,_=0,g=0,v,b;if("MSGesture"in window){o=new MSGesture;o.target=document.body}e(document).bind("MSGestureEnd",function(e){var n=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;if(n){if(t.el)t.el.trigger("swipe");if(t.el)t.el.trigger("swipe"+n)}}).on("touchstart MSPointerDown",function(i){if((b=p(i,"down"))&&!f(i))return;v=b?i:i.touches[0];if(i.touches&&i.touches.length===1&&t.x2){t.x2=undefined;t.y2=undefined}h=Date.now();m=h-(t.last||h);t.el=e("tagName"in v.target?v.target:v.target.parentNode);n&&clearTimeout(n);t.x1=v.pageX;t.y1=v.pageY;if(m>0&&m<=250)t.isDoubleTap=true;t.last=h;r=setTimeout(c,s);if(o&&b)o.addPointer(i.pointerId)}).on("touchmove MSPointerMove",function(e){if((b=p(e,"move"))&&!f(e))return;v=b?e:e.touches[0];u();t.x2=v.pageX;t.y2=v.pageY;_+=Math.abs(t.x1-t.x2);g+=Math.abs(t.y1-t.y2)}).on("touchend MSPointerUp",function(r){if((b=p(r,"up"))&&!f(r))return;u();if(t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30)a=setTimeout(function(){if(t.el)t.el.trigger("swipe");if(t.el)t.el.trigger("swipe"+l(t.x1,t.x2,t.y1,t.y2));t={}},0);else if("last"in t)if(_<30&&g<30){i=setTimeout(function(){var i=e.Event("tap");i.cancelTouch=d;if(t.el)t.el.trigger(i);if(t.isDoubleTap){if(t.el)t.el.trigger("doubleTap");t={}}else{n=setTimeout(function(){n=null;if(t.el)t.el.trigger("singleTap");t={}},250)}},0)}else{t={}}_=g=0}).on("touchcancel MSPointerCancel",d);e(window).on("scroll",d)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})})(Zepto)},function(e,t){(function(e){var t=Date.now||function(){return+new Date};var n=60;var i=1e3;var a={};var r=1;if(!e.core){e.core={effect:{}}}else if(!core.effect){core.effect={}}core.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame;var n=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())){n=false}if(n){return function(e,n){t(e,n)}}var i=60;var a={};var r=0;var s=1;var o=null;var l=+new Date;return function(e,t){var n=s++;a[n]=e;r++;if(o===null){o=setInterval(function(){var e=+new Date;var t=a;a={};r=0;for(var n in t){if(t.hasOwnProperty(n)){t[n](e);l=e}}if(e-l>2500){clearInterval(o);o=null}},1e3/i)}return n}}(),stop:function(e){var t=a[e]!=null;if(t){a[e]=null}return t},isRunning:function(e){return a[e]!=null},start:function(e,s,o,l,c,u){var d=t();var f=d;var p=0;var h=0;var m=r++;if(!u){u=document.body}if(m%20===0){var _={};for(var g in a){_[g]=true}a=_}var v=function(r){var _=r!==true;var g=t();if(!a[m]||s&&!s(m)){a[m]=null;o&&o(n-h/((g-d)/i),m,false);return}if(_){var b=Math.round((g-f)/(i/n))-1;for(var y=0;y<Math.min(b,4);y++){v(true);h++}}if(l){p=(g-d)/l;if(p>1){p=1}}var x=c?c(p):p;if((e(x,g,_)===false||p===1)&&_){a[m]=null;o&&o(n-h/((g-d)/i),m,p===1||l==null)}else if(_){f=g;core.effect.Animate.requestAnimationFrame(v,u)}};a[m]=true;core.effect.Animate.requestAnimationFrame(v,u);return m}}})(window)},function(e,t){window.EasyScroller=function(e,t,n){this.content=e;this.container=t;this.options=n||{};var i=this;this.scroller=new Scroller(function(e,t,n){i.render(e,t,n)},n);this.bindEvents();this.content.style[EasyScroller.vendorPrefix+"TransformOrigin"]="left top";this.reflow()};EasyScroller.prototype.render=function(){var e=document.documentElement.style;var t;if(window.opera&&Object.prototype.toString.call(opera)==="[object Opera]"){t="presto"}else if("MozAppearance"in e){t="gecko"}else if("WebkitAppearance"in e){t="webkit"}else if(typeof navigator.cpuClass==="string"){t="trident"}var n=EasyScroller.vendorPrefix={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[t];var i=document.createElement("div");var a;var r=n+"Perspective";var s=n+"Transform";if(i.style[r]!==a){return function(e,t,n){if(this.content){this.content.style[s]="translate3d("+-e+"px,"+-t+"px,0) scale("+n+")"}}}else if(i.style[s]!==a){return function(e,t,n){if(this.content){this.content.style[s]="translate("+-e+"px,"+-t+"px) scale("+n+")"}}}else{return function(e,t,n){this.content.style.marginLeft=e?-e/n+"px":"";this.content.style.marginTop=t?-t/n+"px":"";this.content.style.zoom=n||""}}}();EasyScroller.prototype.reflow=function(){if(!this.container){return}this.scroller.setDimensions(this.container.clientWidth,this.container.clientHeight,this.content.offsetWidth,this.content.offsetHeight);var e=this.container.getBoundingClientRect();this.scroller.setPosition(e.left+this.container.clientLeft,e.top+this.container.clientTop)};EasyScroller.prototype.destroy=function(){$(window).off("resize.zynga");if("ontouchstart"in window){$(this.container).off("touchstart.zynga");$(this.container).off("touchmove.zynga");$(this.container).off("touchend.zynga");$(this.container).off("touchcancel.zynga")}else{$(this.container).off("mousedown.zynga");$(this.container).off("mousemove.zynga");$(this.container).off("mouseup.zynga");$(this.container).off("mousewheel.zynga")}this.content=null;this.container=null};EasyScroller.prototype.bindEvents=function(){var e=this;if("ontouchstart"in window){$(this.container).on("touchstart.zynga",function(t){if(t.touches[0]&&t.touches[0].target&&t.touches[0].target.tagName&&t.touches[0].target.tagName.match(/input|textarea|select/i)){return}e.scroller.doTouchStart(t.touches,t.timeStamp)},false);$(this.container).on("touchmove.zynga",function(t){t.preventDefault();if($.__swipeHelper.swipeOrientation==="vertical"){e.scroller.doTouchMove(t.touches,t.timeStamp,t.scale)}if($.os.ios&&SUGAR.App.isNative&&t.changedTouches[0].pageY<0){e.scroller.doTouchEnd(t.timeStamp)}},false);$(this.container).on("touchend.zynga",function(t){e.scroller.doTouchEnd(t.timeStamp)},false);$(this.container).on("touchcancel.zynga",function(t){e.scroller.doTouchEnd(t.timeStamp)},false)}else{var t=false;$(this.container).on("mousedown.zynga",function(n){if(n.target.tagName.match(/input|textarea|select/i)){return}e.scroller.doTouchStart([{pageX:n.pageX,pageY:n.pageY}],n.timeStamp);t=true;n.preventDefault()},false);$(this.container).on("mousemove.zynga",function(n){if(!t){return}e.scroller.doTouchMove([{pageX:n.pageX,pageY:n.pageY}],n.timeStamp);t=true},false);$(this.container).on("mouseup.zynga",function(n){if(!t){return}e.scroller.doTouchEnd(n.timeStamp);t=false},false);$(this.container).on("mousewheel.zynga",function(t){if(e.options.zooming){e.scroller.doMouseZoom(t.wheelDelta,t.timeStamp,t.pageX,t.pageY);t.preventDefault()}},false)}};document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-scrollable],[data-zoomable]"),t;for(var n=0;n<e.length;n++){t=e[n];var i=t.dataset.scrollable;var a=t.dataset.zoomable||"";var r=a.split("-");var s=r.length>1&&parseFloat(r[0]);var o=r.length>1&&parseFloat(r[1]);new EasyScroller(t,{scrollingX:i==="true"||i==="x",scrollingY:i==="true"||i==="y",zooming:a==="true"||r.length>1,minZoom:s,maxZoom:o})}},false)},function(e,t){var n;(function(){n=function(e,t){this.__callback=e;this.options={scrollingX:true,scrollingY:true,animating:true,animationDuration:250,bouncing:true,locking:true,paging:false,snapping:false,zooming:false,minZoom:.5,maxZoom:3,speedMultiplier:1};for(var n in t){this.options[n]=t[n]}};var e=function(e){return Math.pow(e-1,3)+1};var t=function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)};var i={__isSingleTouch:false,__isTracking:false,__isGesturing:false,__isDragging:false,__isDecelerating:false,__isAnimating:false,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:false,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,n,i){var a=this;if(e===+e){a.__clientWidth=e}if(t===+t){a.__clientHeight=t}if(n===+n){a.__contentWidth=n}if(i===+i){a.__contentHeight=i}a.__computeScrollMax();a.scrollTo(a.__scrollLeft,a.__scrollTop,true)},setPosition:function(e,t){var n=this;n.__clientLeft=e||0;n.__clientTop=t||0},setSnapSize:function(e,t){var n=this;n.__snapWidth=e;n.__snapHeight=t},activatePullToRefresh:function(e,t,n,i,a){var r=this;r.__refreshHeight=e;r.__refreshActivate=t;r.__refreshDeactivate=n;r.__refreshStart=i;r.__refreshPreActivate=a},finishPullToRefresh:function(){var e=this;e.__refreshActive=false;if(e.__refreshDeactivate){e.__refreshDeactivate()}e.scrollTo(e.__scrollLeft,e.__scrollTop,true)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,t,n,i){var a=this;if(!a.options.zooming){throw new Error("Zooming is not enabled!")}if(a.__isDecelerating){core.effect.Animate.stop(a.__isDecelerating);a.__isDecelerating=false}var r=a.__zoomLevel;if(n==null){n=a.__clientWidth/2}if(i==null){i=a.__clientHeight/2}e=Math.max(Math.min(e,a.options.maxZoom),a.options.minZoom);a.__computeScrollMax(e);var s=(n+a.__scrollLeft)*e/r-n;var o=(i+a.__scrollTop)*e/r-i;if(s>a.__maxScrollLeft){s=a.__maxScrollLeft}else if(s<0){s=0}if(o>a.__maxScrollTop){o=a.__maxScrollTop}else if(o<0){o=0}a.__publish(s,o,e,t)},zoomBy:function(e,t,n,i){var a=this;a.zoomTo(a.__zoomLevel*e,t,n,i)},scrollTo:function(e,t,n,i){var a=this;if(a.__isDecelerating){core.effect.Animate.stop(a.__isDecelerating);a.__isDecelerating=false}if(i!=null&&i!==a.__zoomLevel){if(!a.options.zooming){throw new Error("Zooming is not enabled!")}e*=i;t*=i;a.__computeScrollMax(i)}else{i=a.__zoomLevel}if(!a.options.scrollingX){e=a.__scrollLeft}else{if(a.options.paging){e=Math.round(e/a.__clientWidth)*a.__clientWidth}else if(a.options.snapping){e=Math.round(e/a.__snapWidth)*a.__snapWidth}}if(!a.options.scrollingY){t=a.__scrollTop}else{if(a.options.paging){t=Math.round(t/a.__clientHeight)*a.__clientHeight}else if(a.options.snapping){t=Math.round(t/a.__snapHeight)*a.__snapHeight}}e=Math.max(Math.min(a.__maxScrollLeft,e),0);t=Math.max(Math.min(a.__maxScrollTop,t),0);if(e===a.__scrollLeft&&t===a.__scrollTop){n=false}a.__publish(e,t,i,n)},scrollBy:function(e,t,n){var i=this;var a=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft;var r=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(a+(e||0),r+(t||0),n)},doMouseZoom:function(e,t,n,i){var a=this;var r=e>0?.97:1.03;return a.zoomTo(a.__zoomLevel*r,false,n-a.__clientLeft,i-a.__clientTop)},doTouchStart:function(e,t){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var n=this;if(n.__isDecelerating){core.effect.Animate.stop(n.__isDecelerating);n.__isDecelerating=false}if(n.__isAnimating){core.effect.Animate.stop(n.__isAnimating);n.__isAnimating=false}var i,a;var r=e.length===1;if(r){i=e[0].pageX;a=e[0].pageY}else{i=Math.abs(e[0].pageX+e[1].pageX)/2;a=Math.abs(e[0].pageY+e[1].pageY)/2}n.__initialTouchLeft=i;n.__initialTouchTop=a;n.__zoomLevelStart=n.__zoomLevel;n.__lastTouchLeft=i;n.__lastTouchTop=a;n.__lastTouchMove=t;n.__lastScale=1;n.__enableScrollX=!r&&n.options.scrollingX;n.__enableScrollY=!r&&n.options.scrollingY;n.__isTracking=true;n.__isDragging=!r;n.__isSingleTouch=r;n.__positions=[]},doTouchMove:function(e,t,n){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var i=this;if(!i.__isTracking){return}var a,r;if(e.length===2){a=Math.abs(e[0].pageX+e[1].pageX)/2;r=Math.abs(e[0].pageY+e[1].pageY)/2}else{a=e[0].pageX;r=e[0].pageY}var s=i.__positions;if(i.__isDragging){var o=a-i.__lastTouchLeft;var l=r-i.__lastTouchTop;var c=i.__scrollLeft;var u=i.__scrollTop;var d=i.__zoomLevel;if(n!=null&&i.options.zooming){var f=d;d=d/i.__lastScale*n;d=Math.max(Math.min(d,i.options.maxZoom),i.options.minZoom);if(f!==d){var p=a-i.__clientLeft;var h=r-i.__clientTop;c=(p+c)*d/f-p;u=(h+u)*d/f-h;i.__computeScrollMax(d)}}if(i.__enableScrollX){c-=o*this.options.speedMultiplier;var m=i.__maxScrollLeft;if(c>m||c<0){if(i.options.bouncing){c+=o/2*this.options.speedMultiplier}else if(c>m){c=m}else{c=0}}}if(i.__enableScrollY){u-=l*this.options.speedMultiplier;var _=i.__maxScrollTop;if(u>_||u<0){if(i.options.bouncing){u+=l/2*this.options.speedMultiplier;if(!i.__enableScrollX&&i.__refreshHeight!=null){if(!i.__refreshActive&&u>-i.__refreshHeight){if(i.__refreshPreActivate){i.__refreshPreActivate(u)}}if(!i.__refreshActive&&u<=-i.__refreshHeight){i.__refreshActive=true;if(i.__refreshActivate){i.__refreshActivate()}}else if(i.__refreshActive&&u>-i.__refreshHeight){i.__refreshActive=false;if(i.__refreshDeactivate){i.__refreshDeactivate()}}}}else if(u>_){u=_}else{u=0}}}if(s.length>60){s.splice(0,30)}s.push(c,u,t);i.__publish(c,u,d)}else{var g=i.options.locking?3:0;var v=5;var b=Math.abs(a-i.__initialTouchLeft);var y=Math.abs(r-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&b>=g;i.__enableScrollY=i.options.scrollingY&&y>=g;s.push(i.__scrollLeft,i.__scrollTop,t);i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(b>=v||y>=v)}i.__lastTouchLeft=a;i.__lastTouchTop=r;i.__lastTouchMove=t;i.__lastScale=n},doTouchEnd:function(e){if(e instanceof Date){e=e.valueOf()}if(typeof e!=="number"){throw new Error("Invalid timestamp value: "+e)}var t=this;if(!t.__isTracking){return}t.__isTracking=false;if(t.__isDragging){t.__isDragging=false;if(t.__isSingleTouch&&t.options.animating&&e-t.__lastTouchMove<=100){var n=t.__positions;var i=n.length-1;var a=i;for(var r=i;r>0&&n[r]>t.__lastTouchMove-100;r-=3){a=r}if(a!==i){var s=n[i]-n[a];var o=t.__scrollLeft-n[a-2];var l=t.__scrollTop-n[a-1];t.__decelerationVelocityX=o/s*(1e3/60);t.__decelerationVelocityY=l/s*(1e3/60);var c=t.options.paging||t.options.snapping?4:1;if(Math.abs(t.__decelerationVelocityX)>c||Math.abs(t.__decelerationVelocityY)>c){if(!t.__refreshActive){t.__startDeceleration(e)}}}}}if(!t.__isDecelerating){if(t.__refreshActive&&t.__refreshStart){t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,true);if(t.__refreshStart){t.__refreshStart()}}else{t.scrollTo(t.__scrollLeft,t.__scrollTop,true,t.__zoomLevel);if(t.__refreshActive){t.__refreshActive=false;if(t.__refreshDeactivate){t.__refreshDeactivate()}}}}t.__positions.length=0},__publish:function(n,i,a,r){var s=this;var o=s.__isAnimating;if(o){core.effect.Animate.stop(o);s.__isAnimating=false}if(r&&s.options.animating){s.__scheduledLeft=n;s.__scheduledTop=i;s.__scheduledZoom=a;var l=s.__scrollLeft;var c=s.__scrollTop;var u=s.__zoomLevel;var d=n-l;var f=i-c;var p=a-u;var h=function(e,t,n){if(n){s.__scrollLeft=l+d*e;s.__scrollTop=c+f*e;s.__zoomLevel=u+p*e;if(s.__callback){s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel)}}};var m=function(e){return s.__isAnimating===e};var _=function(e,t,n){if(t===s.__isAnimating){s.__isAnimating=false}if(s.options.zooming){s.__computeScrollMax()}};s.__isAnimating=core.effect.Animate.start(h,m,_,s.options.animationDuration,o?e:t)}else{s.__scheduledLeft=s.__scrollLeft=n;s.__scheduledTop=s.__scrollTop=i;s.__scheduledZoom=s.__zoomLevel=a;if(s.__callback){s.__callback(n,i,a)}if(s.options.zooming){s.__computeScrollMax()}}},__computeScrollMax:function(e){var t=this;if(e==null){e=t.__zoomLevel}t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0);t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var n=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0);var i=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0);var a=t.__clientWidth;var r=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(n/a)*a;t.__minDecelerationScrollTop=Math.floor(i/r)*r;t.__maxDecelerationScrollLeft=Math.ceil(n/a)*a;t.__maxDecelerationScrollTop=Math.ceil(i/r)*r}else{t.__minDecelerationScrollLeft=0;t.__minDecelerationScrollTop=0;t.__maxDecelerationScrollLeft=t.__maxScrollLeft;t.__maxDecelerationScrollTop=t.__maxScrollTop}var s=function(e,n,i){t.__stepThroughDeceleration(i)};var o=t.options.snapping?4:.1;var l=function(){return Math.abs(t.__decelerationVelocityX)>=o||Math.abs(t.__decelerationVelocityY)>=o};var c=function(e,n,i){t.__isDecelerating=false;t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(s,l,c)},__stepThroughDeceleration:function(e){var t=this;var n=t.__scrollLeft+t.__decelerationVelocityX;var i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var a=Math.max(Math.min(t.__maxDecelerationScrollLeft,n),t.__minDecelerationScrollLeft);if(a!==n){n=a;t.__decelerationVelocityX=0}var r=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);if(r!==i){i=r;t.__decelerationVelocityY=0}}if(e){t.__publish(n,i,t.__zoomLevel)}else{t.__scrollLeft=n;t.__scrollTop=i}if(!t.options.paging){var s=.95;t.__decelerationVelocityX*=s;t.__decelerationVelocityY*=s}if(t.options.bouncing){var o=0;var l=0;var c=.03;var u=.08;if(n<t.__minDecelerationScrollLeft){o=t.__minDecelerationScrollLeft-n}else if(n>t.__maxDecelerationScrollLeft){o=t.__maxDecelerationScrollLeft-n}if(i<t.__minDecelerationScrollTop){l=t.__minDecelerationScrollTop-i}else if(i>t.__maxDecelerationScrollTop){l=t.__maxDecelerationScrollTop-i}if(o!==0){if(o*t.__decelerationVelocityX<=0){t.__decelerationVelocityX+=o*c}else{t.__decelerationVelocityX=o*u}}if(l!==0){if(l*t.__decelerationVelocityY<=0){t.__decelerationVelocityY+=l*c}else{t.__decelerationVelocityY=l*u}}}}};for(var a in i){n.prototype[a]=i[a]}})();window.Scroller=n},function(e,t,n){(function(e,i){true?i(t,n(84)):typeof define==="function"&&define.amd?define(["exports","@sugarcrm/d3-sugar"],i):i(e.sucrose=e.sucrose||{},e.d3sugar)})(this,function(e,t){"use strict";t="default"in t?t["default"]:t;function n(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}var i={};i.identity=function(e){return e};i.functor=function e(t){return typeof t==="function"?t:function(){return t}};i.isFunction=function(e){var t={};return e&&t.toString.call(e)=="[object Function]"};i.rebind=function(e,t){var i=1,a=arguments.length,r;while(++i<a)e[r=arguments[i]]=n(e,t,t[r]);return e};i.optionsFunc=function(e){if(!e){return this}t.map(e).each(function(e,t){var n=this[t];var a=i.toNative(e);if(!i.isFunction(n)){return}if(Array.isArray(a)){n.apply(a)}else{n(a)}}.bind(this));return this};i.windowSize=function(){var e={};if(window.innerWidth&&window.innerHeight){e.width=window.innerWidth;e.height=window.innerHeight}else if(document.body&&document.body.offsetWidth){e.width=document.body.offsetWidth;e.height=document.body.offsetHeight}else if(document.compatMode==="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){e.width=document.documentElement.offsetWidth;e.height=document.documentElement.offsetHeight}else{e.width=640;e.height=480}return e};i.windowResize=function(e){if(window.attachEvent){window.attachEvent("onresize",e)}else if(window.addEventListener){window.addEventListener("resize",e,true)}else{}};i.windowUnResize=function(e){if(window.detachEvent){window.detachEvent("onresize",e)}else if(window.removeEventListener){window.removeEventListener("resize",e,true)}else{}};i.resizeOnPrint=function(e){if(window.matchMedia){var t=window.matchMedia("print");t.addListener(function(t){if(t.matches){e()}})}else if(window.attachEvent){window.attachEvent("onbeforeprint",e)}else{window.onbeforeprint=e}};i.unResizeOnPrint=function(e){if(window.matchMedia){var t=window.matchMedia("print");t.removeListener(function(t){if(t.matches){e()}})}else if(window.detachEvent){window.detachEvent("onbeforeprint",e)}else{window.onbeforeprint=null}};i.getColor=function(e){if(!arguments.length){return i.defaultColor()}if(Array.isArray(e)){return function(t,n){return t.color||e[n%e.length]}}else if(Object.prototype.toString.call(e)==="[object String]"){return function(t){return t.color||"#"+e.replace("#","")}}else{return e}};i.defaultColor=function(){var e=t.scaleOrdinal(t.schemeCategory20).range();return function(t,n){return t.color||e[n%e.length]}};i.getTextContrast=function(e,n,i){var a=e,r=t.lab(a),s=r.l,o=s>60?r.darker(4+(s-75)/25).l:r.brighter(4+(18-s)/25).l,l=t.lab(o,0,0),c=l.toString();if(i){i(r,l)}return c};i.customTheme=function(e,n,i){var a;n=n||function(e){return e.key};i=i||t.scaleOrdinal(t.schemeCategory20).range();a=i.length;return function(t,r){var s=n(t);if(!a){a=i.length}if(typeof e[s]!=="undefined"){return typeof e[s]==="function"?e[s]():e[s]}else{return i[--a]}}};i.colorLinearGradient=function(e,n,a,r,s){var o="lg_gradient_"+n;var l=s.select("#"+o);if(l.empty()){if(a.position==="middle"){i.createLinearGradient(o,a,s,[{offset:"0%","stop-color":t.rgb(r).darker().toString(),"stop-opacity":1},{offset:"20%","stop-color":t.rgb(r).toString(),"stop-opacity":1},{offset:"50%","stop-color":t.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"80%","stop-color":t.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":t.rgb(r).darker().toString(),"stop-opacity":1}])}else{i.createLinearGradient(o,a,s,[{offset:"0%","stop-color":t.rgb(r).darker().toString(),"stop-opacity":1},{offset:"50%","stop-color":t.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":t.rgb(r).brighter().toString(),"stop-opacity":1}])}}return"url(#"+o+")"};i.createLinearGradient=function(e,t,n,i){var a=t.orientation==="horizontal"?"0%":"100%";var r=t.orientation==="horizontal"?"100%":"0%";var s,o;var l=n.append("linearGradient");l.attr("id",e).attr("x1","0%").attr("y1","0%").attr("x2",a).attr("y2",r).attr("spreadMethod","pad");for(var c=0;c<i.length;c+=1){s=i[c];o=l.append("stop");Object.getOwnPropertyNames(s).forEach(function(e){o.attr(e,s[e])})}};i.colorRadialGradient=function(e,n,a,r,s){var o="rg_gradient_"+n;var l=s.select("#"+o);if(l.empty()){i.createRadialGradient(o,a,s,[{offset:a.s,"stop-color":t.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"100%","stop-color":t.rgb(r).darker().toString(),"stop-opacity":1}])}return"url(#"+o+")"};i.createRadialGradient=function(e,t,n,i){var a,r,s;s=n.append("radialGradient").attr("id",e).attr("r",t.r).attr("cx",t.x).attr("cy",t.y).attr("gradientUnits",t.u).attr("spreadMethod","pad");for(var o=0;o<i.length;o+=1){a=i[o];r=s.append("stop");Object.getOwnPropertyNames(a).forEach(function(e){r.attr(e,a[e])})}};i.roundedRectangle=function(e,t,n,i,a){var r="M"+e+","+t+"h"+(n-a*2)+"a"+a+","+a+" 0 0 1 "+a+","+a+"v"+(i-2-a*2)+"a"+a+","+a+" 0 0 1 "+-a+","+a+"h"+(a*2-n)+"a"+-a+","+a+" 0 0 1 "+-a+","+-a+"v"+(-i+a*2+2)+"a"+a+","+a+" 0 0 1 "+a+","+-a+"z";return r};i.dropShadow=function(e,t,n){var i=n||{};var a=i.height||"130%";var r=i.offset||2;var s=i.blur||1;var o;var l;if(t.select("#"+e).empty()){o=t.append("filter").attr("id",e).attr("height",a);o.append("feOffset").attr("in","SourceGraphic").attr("result","offsetBlur").attr("dx",r).attr("dy",r);o.append("feColorMatrix").attr("in","offsetBlur").attr("result","matrixOut").attr("type","matrix").attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0");o.append("feGaussianBlur").attr("in","matrixOut").attr("result","blurOut").attr("stdDeviation",s);l=o.append("feMerge");l.append("feMergeNode");l.append("feMergeNode").attr("in","SourceGraphic")}return"url(#"+e+")"};i.createTexture=function(e,t,n,i){var a="#sc-diagonalHatch-"+t;var r="#sc-textureMask-"+t;e.append("pattern").attr("id","sc-diagonalHatch-"+t).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).append("path").attr("d","M-1,1 l2,-2 M0,8 l8,-8 M7,9 l1,-1").attr("class","texture-line").attr("stroke","#fff").attr("stroke-linecap","square");e.append("mask").attr("id","sc-textureMask-"+t).attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").append("rect").attr("x",n||0).attr("y",i||-1).attr("width","100%").attr("height","100%").attr("fill","url("+a+")");return r};i.stringSetLengths=function(e,t,n,i){var a=[];var r=t.select(".tmp-text-strings").select("text");if(r.empty()){r=t.append("g").attr("class","tmp-text-strings").append("text")}r.classed(n,true);r.style("display","inline");e.forEach(function(e,t){r.text(e);a.push(r.node().getBoundingClientRect().width)});r.text("").attr("class","tmp-text-strings").style("display","none");return a};i.stringSetThickness=function(e,t,n,i){var a=[];var r=t.select(".tmp-text-strings").select("text");if(r.empty()){r=t.append("g").attr("class","tmp-text-strings").append("text")}r.classed(n,true);r.style("display","inline");e.forEach(function(e,t){r.text(e);a.push(r.node().getBoundingClientRect().height)});r.text("").attr("class","tmp-text-strings").style("display","none");return a};i.maxStringSetLength=function(e,n,a,r){var s=i.stringSetLengths(e,n,a,r);return t.max(s)};i.stringEllipsify=function(e,t,n){var i=t.select(".tmp-text-strings").select("text"),a=e,r=0,s=0,o=0;if(i.empty()){i=t.append("g").attr("class","tmp-text-strings").append("text")}i.style("display","inline");i.text("...");s=i.node().getBoundingClientRect().width;i.text(a);r=i.node().getBoundingClientRect().width;o=r;while(r>n&&r>30){a=a.slice(0,-1);i.text(a);r=i.node().getBoundingClientRect().width+s}i.text("");return a+(o>n?"...":"")};i.getTextBBox=function(e,t){var n=e.node().getBoundingClientRect();var i={width:t?n.width:parseInt(n.width,10),height:t?n.height:parseInt(n.height,10),top:t?n.top:parseInt(n.top,10),left:t?n.left:parseInt(n.left,10)};return i};i.strip=function(e){return e.replace(/(\s|&)/g,"")};i.isRTLChar=function(e){var t="---";var n=new RegExp("["+t+"]");return n.test(e)};i.NaNtoZero=function(e){return i.isNumeric(e)?e:0};i.polarToCartesian=function(e,t,n,a){var r=i.angleToRadians(a);var s=e+n*Math.cos(r);var o=t+n*Math.sin(r);return[s,o]};i.angleToRadians=function(e){return e*Math.PI/180};i.angleToDegrees=function(e){return e*180/Math.PI};i.getAbsoluteXY=function(e){var t=document.documentElement;var n=e.getBoundingClientRect();var i=t.scrollLeft+document.body.scrollLeft;var a=t.scrollTop+document.body.scrollTop;var r=n.left+i;var s=n.top+a;return{left:r,top:s}};i.translation=function(e,t){return"translate("+e+","+t+")"};i.isNumeric=function(e){return!isNaN(e)&&typeof e==="number"&&isFinite(e)};i.toNative=function(e){var t=i.isNumeric(parseFloat(e))?parseFloat(e):e==="true"?true:e==="false"?false:e;return t};i.toBoolean=function(e){var t=i.isNumeric(parseFloat(e))?!!parseFloat(e):e==="true"?true:e==="false"?false:e;return t};i.round=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};i.countSigFigsAfter=function(e){return Math.floor(e)!==parseFloat(e)?parseFloat(e).toString().split(".").pop().length||0:0};i.countSigFigsBefore=function(e){return Math.floor(e).toString().replace(/0+$/g,"").length};i.siDecimal=function(e){return Math.pow(10,Math.floor(Math.log(e)*Math.LOG10E))};i.siValue=function(e){if(i.isNumeric(e)){return i.siDecimal(e)}var t={y:1e-24,yocto:1e-24,z:1e-21,zepto:1e-21,a:1e-18,atto:1e-18,f:1e-15,femto:1e-15,p:1e-12,pico:1e-12,n:1e-9,nano:1e-9,"":1e-6,micro:1e-6,m:.001,milli:.001,k:1e3,kilo:1e3,M:1e6,mega:1e6,G:1e9,giga:1e9,T:1e12,tera:1e12,P:1e15,peta:1e15,E:1e18,exa:1e18,Z:1e21,zetta:1e21,Y:1e24,yotta:1e24};return t[e]||0};i.numberFormat=function(e,n,a,r){var s,o,l;a=typeof a==="boolean"?a:false;if(!i.isNumeric(e)||e===0&&!a){return e.toString()}n=i.isNumeric(n)?n:a?2:0;l=i.countSigFigsAfter(e);n=l&&a?n:Math.min(n,l);s=typeof r==="undefined"?t.format:t.formatLocale(r).format;o=a?"$,":",";o+=l?"."+n+"f":"";return s(o)(e)};i.numberFormatFixed=function(e,n,a,r){var s,o;if(!i.isNumeric(e)){return e.toString()}a=typeof a==="boolean"?a:false;n=i.isNumeric(n)?n:a?2:0;s=typeof r==="undefined"?t.format:t.formatLocale(r).format;o=a?"$,":",";o+="."+n+"f";return s(o)(e)};i.numberFormatSI=function(e,n,a,r){var s,o,l;if(!i.isNumeric(e)){return e}a=typeof a==="boolean"?a:false;n=i.isNumeric(n)?n:0;s=typeof r==="undefined"?t.format:t.formatLocale(r).format;l=i.countSigFigsAfter(e);o=a?"$,":",";if(a&&l&&e<1e3){e=i.round(e,n);l=i.countSigFigsAfter(e);n=Math.min(l,n);if(n===1){n=2}o+="."+n+"f"}else if(Math.abs(e)<1){o+=+e.toFixed(n)===0?".1s":"."+Math.min(n,l)+"f"}else if(Math.abs(e)<1e3){e=i.round(e,n)}else{s=typeof r==="undefined"?t.formatPrefix:t.formatLocale(r).formatPrefix;if(n!==0){var c=s("."+n+"s",e)(e);var u=c.split(".").pop().replace(/[^\d]+$/,"").match(/0+$/g);if(Array.isArray(u)){n-=u.pop().length}}o+="."+n+"s";return s(o,e)(e)}return s(o)(e)};i.numberFormatSIFixed=function(e,n,a,r,s){var o,l;if(!i.isNumeric(e)){return e.toString()}a=typeof a==="boolean"?a:false;n=i.isNumeric(n)?n:a?2:0;o=typeof r==="undefined"?t.formatPrefix:t.formatLocale(r).formatPrefix;s=i.siValue(s);l=a?"$,":",";l+="."+n+"s";return o(l,s)(e)};i.daysInMonth=function(e,t){return new Date(t,e+1,0).getDate()};i.isValidDate=function(e){if(!e){return false}return e instanceof Date&&!isNaN(e.valueOf())};i.parseDatetime=function(e){var t,n;if(i.isNumeric(Math.floor(e))&&e.toString().length===4){t=new Date(Math.floor(e)+"-1-1 GMT")}else if(parseInt(e,10).toString()===e||parseInt(e,10)===e){t=new Date(parseInt(e,10))}else{t=new Date(e);if(e.toString().substr(-1)!=="Z"&&e.toString().indexOf("GMT")===-1&&!e.toString().match(/\d\d\d\d-\d\d-\d\dT/)){t.setUTCMilliseconds(t.getUTCMilliseconds()-t.getTimezoneOffset()*6e4)}}if(!i.isValidDate(t)){t=e}return t};i.getDateFormat=function(e,n){var i=["multi","%x, %I:%M:%S.%L %p","%x, %I:%M:%S %p","%x, %I:%M %p","%x, %I %p","%x","%b %d","%B %Y","%Y"];var a=e.length?t.min(e,function(e){if(n===true){e.setUTCMilliseconds(e.getUTCMilliseconds()+e.getTimezoneOffset()*6e4)}var i=new Date(e);var a;if(+t.timeSecond(e)<+i){a=1}else if(+t.timeMinute(e)<+i){a=2}else if(+t.timeHour(e)<+i){a=3}else if(+t.timeDay(e)<+i){a=4}else if(+t.timeMonth(e)<+i){a=5}else if(+t.timeYear(e)<+i){a=7}else{a=8}return a}):8;return i[a]};i.getDateFormatUTC=function(e){var n=["multi","%x, %I:%M:%S.%L %p","%x, %I:%M:%S %p","%x, %I:%M %p","%x, %I %p","%x","%b %d","%B %Y","%Y"];var i=e.length?t.min(e,function(e){var n=new Date(e);var i;if(+t.utcSecond(e)<+n){i=1}else if(+t.utcMinute(e)<+n){i=2}else if(+t.utcHour(e)<+n){i=3}else if(+t.utcDay(e)<+n){i=4}else if(+t.utcMonth(e)<+n){i=5}else if(+t.utcYear(e)<+n){i=7}else{i=8}return i}):8;return n[i]};i.multiFormat=function(e,t){return t===false?i.getDateFormat([e]):i.getDateFormatUTC([e])};i.dateFormat=function(e,n,a){var r,s,o;var l=e.toString();var c=i.parseDatetime(e);if(!i.isValidDate(c)){return e}if(a&&a.hasOwnProperty("utcFormat")){s=a.utcFormat;o=n?n.indexOf("%")!==-1?n:i.multiFormat(c):"%Y"}else{r=i.buildLocality(a);s=t.timeFormatLocale(r).utcFormat;o=n?n.indexOf("%")!==-1?n:r[n]||i.multiFormat(c):"%Y"}return s(o)(c)};i.buildLocality=function(e,t){var n=e||{};var i=!!t;var a=function(e){return e.join("|").split("|").map(function(e){return!e?"":isNaN(e)?e:+e})};var r={decimal:".",thousands:",",grouping:[3],currency:["$",""],periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],date:"%b %-d, %Y",time:"%-I:%M:%S %p",dateTime:"%B %-d, %Y at %X GMT%Z",full:"%A, %c",long:"%c",medium:"%x, %X",short:"%-m/%-d/%y, %-I:%M %p",yMMMEd:"%a, %x",yMEd:"%a, %-m/%-d/%Y",yMMMMd:"%B %-d, %Y",yMMMd:"%x",yMd:"%-m/%-d/%Y",yMMMM:"%B %Y",yMMM:"%b %Y",MMMd:"%b %-d",MMMM:"%B",MMM:"%b",y:"%Y"};var s;Object.getOwnPropertyNames(n).forEach(function(e){s=n[e];r[e]=!i||!Array.isArray(s)?s:a(s)});return r};i.displayNoData=function(e,t,n,a,r){var s=e?[]:[n];var o=t.selectAll(".sc-no-data").data(s);var l=o.enter().append("text").attr("class","sc-no-data").attr("dy","-.7em").style("text-anchor","middle");var c=t.selectAll(".sc-no-data").merge(l);o.exit().remove();if(!!s.length){c.attr("x",a).attr("y",r).text(i.identity);t.selectAll(".sc-chart-wrap").remove();return true}else{return false}};var a={};a.show=function(e,t,n,i,r,s){var o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");n=n||"s";i=i||5;l.className="tooltip-inner";c.className="tooltip-arrow";l.innerHTML=t;o.style.left=0;o.style.top=-1e3;o.style.opacity=0;o.className="tooltip xy-tooltip in";o.appendChild(l);o.appendChild(c);r.appendChild(o);a.position(r,o,e,n,i);o.style.opacity=1;return o};a.cleanup=function(){var e=document.getElementsByClassName("tooltip"),t=[],n=e.length;while(n>0){n-=1;if(e[n].className.indexOf("xy-tooltip")!==-1){t.push(e[n]);e[n].style.transitionDelay="0 !important";e[n].style.opacity=0;e[n].className="sctooltip-pending-removal out"}}setTimeout(function(){var e;while(t.length){e=t.pop();e.parentNode.removeChild(e)}},500)};a.position=function(e,t,n,i,a){i=i||"s";a=a||5;var r=e.getBoundingClientRect();var s=[n.clientX-r.left,n.clientY-r.top];var o=parseInt(t.offsetWidth,10),l=parseInt(t.offsetHeight,10),c=e.clientWidth,u=e.clientHeight,d=e.scrollLeft,f=e.scrollTop,p=t.className.replace(/ top| right| bottom| left/g,""),h,m;function _(){var e=s[0]-o/2;if(e<d)e=d;if(e+o>c)e=c-o;return e}function g(){var e=s[1]-l/2;if(e<f)e=f;if(e+l>f+u)e=f-l;return e}function v(e){var n=s[0]-o/2-e-5,i=t.getElementsByClassName("tooltip-arrow")[0];i.style.marginLeft=n+"px"}function b(e){var n=s[1]-l/2-e-5,i=t.getElementsByClassName("tooltip-arrow")[0];i.style.marginTop=n+"px"}switch(i){case"e":m=g();h=s[0]-o-a;b(m);if(h<d){h=s[0]+a;p+=" right"}else{p+=" left"}break;case"w":m=g();h=s[0]+a;b(m);if(h+o>c){h=s[0]-o-a;p+=" left"}else{p+=" right"}break;case"n":h=_();m=s[1]+a;v(h);if(m+l>f+u){m=s[1]-l-a;p+=" top"}else{p+=" bottom"}break;case"s":h=_();m=s[1]-l-a;v(h);if(f>m){m=s[1]+a;p+=" bottom"}else{p+=" top"}break}t.style.left=h+"px";t.style.top=m+"px";t.className=p};function r(){var e=t.scaleLinear(),n=null,a=true,r=true,s="ltr",o="bottom",l=false,c=false,u=30,d=false,f=true,p=false,h=null,m=null,_=4,g=0,v=0,b=function(e){return e},y=8;var x,w,S,L,E;var k={top:0,right:0,bottom:0,left:0},M=0;var T=t.axisBottom();var A;function C(d){d.each(function(d){var _=t.select(this);var x=T.scale().copy();var w={top:0,right:0,bottom:0,left:0};var S=re();var L=Math.abs(S[1]-S[0]);A=A||T.scale();var E=o==="left"||o==="right"?true:false,D=o==="left"||o==="top"?-1:1,R=6,I=0;var O=[],F={},N={},B={};M=0;if(m!==null){T.ticks(m)}else if(E){T.ticks(Math.ceil(L/48))}else{T.ticks(Math.ceil(L/100))}T.tickFormat(function(e,t,n){return b(e,t,n,"axis")});if(u&&!i.isNumeric(String(u))){u=30}if(p){a=false}var P=_.selectAll("g.sc-wrap.sc-axis").data([d]);var U=P.enter().append("g").attr("class","sc-wrap sc-axis").append("g").attr("class","sc-axis-inner");var Y=_.select(".sc-axis-inner").merge(U);Y.call(T);var H=Y.selectAll("g.tick");var G=a?t.extent(e.domain()):[];var V=Y.selectAll("g.sc-axisMaxMin").data(G);var $=V.enter().append("g").attr("class","sc-axisMaxMin");V.exit().remove();var j=Y.selectAll("g.sc-axisMaxMin").merge($);$.append("text").style("opacity",0);$.append("line").style("opacity",0);var z=j.select("text");var q=Y.selectAll("g.tick, g.sc-axisMaxMin").select("text").filter(function(e){return this.getBoundingClientRect().width});var W=!!n?[n]:[];var K=Y.selectAll("text.sc-axislabel").data(W);var J=K.enter().append("text").attr("class","sc-axislabel");K.exit().remove();var X=Y.selectAll("text.sc-axislabel").merge(J);X.text(i.identity);var Q=false,Z=false,ee=false;if(E){ge(true);q.style("text-anchor",ue(h||(de()?"start":"end")))}else{ge(false);_e();if(me(1)){if(l){ge(false);ve();_e();ve();if(!me(1)){Q=true}}if(!Q&&c){ge(false);be();_e();be();if(!me(2)){Z=true}}if(!Q&&!Z){if(!u){u=30}ge(true);ye(u);_e(u);ye(u);ee=true}}}if(a){j.select("line").attr("x1",0).attr("y1",0).attr("y2",E?0:(T.tickSize()-w.bottom)*D).attr("x2",E?T.tickSize()*D:0).style("opacity",function(e,t){return de()?t?0:1:t?1:0});H.each(function(e,n){var i=t.select(this),a=F["key-"+e.toString()],r=false;if(E){r=a.bottom>N.top||a.top<B.bottom;i.select("line").style("opacity",1-r)}else if(ee){r=false}else if(Z){r=(a.left<N.right+R||a.right>B.left+R)&&(a.bottom<N.top||a.top>B.bottom)}else{r=a.left<N.right+R||a.right>B.left+R}i.select("text").style("opacity",1-r)})}else{H.filter(function(e){return x(e)===S[0+de()]}).classed("zero",r);H.select("line").style("opacity",function(e,t){return x(e)===S[0+de()]?0:1})}if(!!n){var te=E?f?L/-2:(M+y)*D:L/2;var ne=E?f?(M+y)*D:L/2:(M+y)*D;X.attr("x",te).attr("y",ne).attr("dy",.355+.355*D+"em").attr("transform",E&&f?"rotate(-90)":"").style("text-anchor",E&&!f?ue("end"):"middle");X.each(function(e,t){I+=E?parseInt(this.getBoundingClientRect().width/1.3,10):parseInt(this.getBoundingClientRect().height/1.3,10)});M+=I+y}A=e.copy();k={top:w.top,right:w.right,bottom:w.bottom,left:w.left};k[o]=M;function ie(){return x.range().length>1?Math.abs(x.range()[1]-x.range()[0]):0}function ae(){return x.range().length>1?Math.max(.25,1-i.round(x.bandwidth()/ie(),2)):0}function re(){return typeof x.rangeExtent==="function"?x.rangeExtent():x.range()}function se(){return p?x.bandwidth():0}function oe(){return p?x.range()[0]:0}function le(){return oe()/ce()}function ce(){var e=0,n;if(p){e=x.range().length>1?Math.abs(x.range()[1]-x.range()[0]):t.max(re())/2}else{n=x.ticks(H.size());e=x(n[n.length-1])-x(n[n.length-2])}return e}function ue(e){if(s==="rtl"){if(e==="start"){return"end"}else if(e==="end"){return"start"}}return e}function de(){return o!=="left"&&o!=="bottom"}function fe(e){e=e||1;M=T.tickPadding()+(E?g:v)*e}function pe(){he();g=t.max(O,function(e){return e.width});v=t.max(O,function(e){return e.height})}function he(){O=[];F={};if(a){j.style("opacity",1).attr("transform",function(e,t){var n=E?"0,"+x(e):x(e)+",0";return"translate("+n+")"})}q.each(function(e,t){var n=this.getBoundingClientRect();if(n.width>0){O.push({key:e,width:parseInt(n.width,10),height:parseInt(n.height,10),left:n.left,right:n.right,top:n.top,bottom:n.bottom})}});O.sort(function(e,t){return e.key-t.key}).forEach(function(e,t){e.index=t;F["key-"+e.key.toString()]=e});N=O[0];B=O[O.length-1]}function me(e){he();var t=a?2:e||1;for(var n=a?1:0,i=O.length-t;n<i;n+=1){if(O[n].right+R>O[n+e].left){return true}}return false}function _e(e){var t=e?(e+180)%180:0,n=t>90,i=null,a=null;O.forEach(function(e,r){var s=i===null||e.left<=i,o=a===null||e.right>=a,l=0,c=0,u=0;if(!s&&!o){return}u=t?e.width-6:e.width/2;l=x(e.key)+p*se()/2;if(s&&(!t||n)){i=e.left;c=Math.abs(S[0]-l);w.left=Math.max(u-c,0)}if(o&&(!t||!n)){a=e.right;c=Math.abs(S[1]-l);w.right=Math.max(u-c,0)}});if(!p){var r=k.right-Math.max(k.right,w.right);r+=k.left-Math.max(k.left,w.left);var s=[S[0],S[1]+r];x.range(s);S=re();L=Math.abs(S[1]-S[0]);T.scale(x);Y.call(T)}}function ge(){w={top:0,right:0,bottom:0,left:0};x=e.copy();S=re();L=Math.abs(S[1]-S[0]);T.scale(e);Y.call(T);q.selectAll("tspan").remove();q.attr("dy",E?".32em":.355+.355*D+"em").attr("x",E?T.tickPadding()*D:0).attr("y",E?0:T.tickPadding()*D).attr("transform","translate(0,0)").style("text-anchor","middle").style("opacity",1);z.text(function(e,t,n){return b(e,t,n,"maxmin")});pe();fe()}function ve(){var e=ce();q.each(function(n,a,r){var s=b(n,a,r,"no-ellipsis");var o=t.select(this);var l=i.isValidDate(i.parseDatetime(s));var c=D===1?.71:-1;var u=0;var d=(s&&s!==""?l?s:s.replace("/","/ "):[]).split(" ");var f=d.length;this.textContent="";var p,h=o.append("tspan").text(d[u]+" ").attr("dy",c+"em").attr("x",0);u+=1;c=1;while(u<f){h=o.append("tspan").text(d[u]+" ").attr("dy",c+"em").attr("x",0);u+=1;while(u<f){p=h.text();h.text(p+" "+d[u]);if(this.getBoundingClientRect().width<=e){u+=1}else{h.text(p);break}}}});pe();fe()}function be(){q.attr("transform",function(e,t){var n=F["key-"+e.toString()].index%2*v;return"translate(0,"+n+")"});pe();fe(2)}function ye(e){var t=(e+180)%180,n=t>90,i=(t-(n?180:0))*D,a=ue(n?"end":"start"),r=Math.abs(Math.cos(e*Math.PI/180));q.attr("transform",function(e,t,n){return"translate(0,"+T.tickPadding()*D+") rotate("+i+")"}).attr("y","0").style("text-anchor",a);pe();fe();M+=r*11}C.resizeTickLines=function(e){Y.selectAll("g.tick, g.sc-axisMaxMin").select("line").attr(E?"x2":"y2",e*D)};C.labelThickness=function(){return I}});return C}C.axis=T;i.rebind(C,e,"domain","range");C.width=function(e){if(!arguments.length){return M}return C};C.height=function(e){if(!arguments.length){return M}return C};C.margin=function(e){if(!arguments.length){return k}k=e;return C};C.ticks=function(e){if(!arguments.length){return m}m=e;return C};C.axisLabel=function(e){if(!arguments.length){return n}n=e;return C};C.showMaxMin=function(e){if(!arguments.length){return a}a=e;return C};C.highlightZero=function(e){if(!arguments.length){return r}r=e;return C};C.wrapTicks=function(e){if(!arguments.length){return l}l=e;return C};C.rotateTicks=function(e){if(!arguments.length){return u}u=e;return C};C.staggerTicks=function(e){if(!arguments.length){return c}c=e;return C};C.reduceXTicks=function(e){if(!arguments.length){return d}d=e;return C};C.rotateYLabel=function(e){if(!arguments.length){return f}f=e;return C};C.axisLabelDistance=function(e){if(!arguments.length){return y}y=e;return C};C.maxLabelWidth=function(e){if(!arguments.length){return g}g=e;return C};C.textAnchor=function(e){if(!arguments.length){return h}h=e;return C};C.direction=function(e){if(!arguments.length){return s}s=e;return C};C.orient=function(e){if(!arguments.length){return o}o=e;T=o==="bottom"?t.axisBottom():o==="right"?t.axisRight():o==="left"?t.axisLeft():o==="top"?t.axisTop():t.axisBottom();return C};C.scale=function(t){if(!arguments.length){return e}e=t;T.scale(e);p=typeof e.padding==="function";i.rebind(C,e,"domain","range");return C};C.valueFormat=function(e){if(!arguments.length){return b||T.tickFormat()}b=e;return C};C.tickFormat=function(e){if(!arguments.length){return x||T.tickFormat()}x=e;T.tickFormat(e);return C};C.tickValues=function(e){if(!arguments.length){return w}w=e;T.tickValues(e);return C};C.tickSize=function(e){if(!arguments.length){return S}S=e;T.tickSize(e);return C};C.tickPadding=function(e){if(!arguments.length){return _}_=e;T.tickPadding(e);return C};C.tickSizeInner=function(e){if(!arguments.length){return L}L=e;T.tickSizeInner(e);return C};C.tickSizeOuter=function(e){if(!arguments.length){return E}E=e;T.tickSizeOuter(e);return C};return C}function s(){var e={top:0,right:0,bottom:0,left:0},n=960,a=500,r=Math.floor(Math.random()*1e4),s=function(e){return(e.series||e).key},o=function(e,t){return(e.series||e).value},l=function(e,t){return(e.series||e).count},c=function(e){return s(e)},u=function(e){return o(e)},d=function(e){return!isNaN(l(e))?" ("+l(e)+")":""},f=i.buildLocality(),p="ltr",h=0,m=0,_=function(e,t){return i.defaultColor()(e.series,e.seriesIndex)},g=i.colorLinearGradient,v=_,b=false,y=function(e,t){return"sc-series sc-series-"+e.seriesIndex};var x=.3,w=t.scaleLinear(),S=null,L=[0],E=true,k=75,M=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var T=0,A=0,C=0;function D(s){s.each(function(s){var f=n-e.left-e.right,p=a-e.top-e.bottom,h=t.select(this);var R=5,I=5,O=0,F=0,N=0;F=t.sum(s,function(e){return e.value});function B(){T=fe(N);A=pe();C=he(N)}function P(){var e=de(A,T),n=0,i=4,a=T-2*x*A,r=A;s.forEach(function(t,s){t.values.forEach(function(t){t._height=F>0?ue(e*t.value/F,a):0;if(t._height<i){n+=t._height-i;t._height=i}else if(n<0&&t._height+n>i){t._height+=n;n=0}t._base=a;t._bottom=r;t._top=t._bottom-t._height;a+=2*x*t._height;r-=t._height})});var o=S||t.extent(t.merge(s.map(function(e){return e.values.map(function(e){return e._top})})).concat(L));w.domain(o).range([A,0])}B();P();var U=h.selectAll("g.sc-wrap").data([s]);var Y=U.enter().append("g").attr("class","sc-wrap sc-funnel");var H=h.select(".sc-wrap.sc-funnel").merge(Y);var G=Y.append("defs");var V=H.select("defs");H.attr("transform",i.translation(e.left,e.top));if(b){var $=i.createTexture(G,r)}D.gradientFill=function(e,t,n){var i=r+"-"+t;var a=_(e,t);return g(e,i,n,a,V)};var j=H.selectAll(".sc-series").data(s,function(e){return e.seriesIndex});var z=j.enter().append("g").attr("class","sc-series");j.exit().remove();var q=H.selectAll(".sc-series").merge(z);z.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",1).on("mouseover",function(e,n,i){t.select(this).classed("hover",true)}).on("mouseout",function(e,n,i){t.select(this).classed("hover",false)});q.attr("class",function(e){return y(e,e.seriesIndex)}).attr("fill",function(e){return v(e,e.seriesIndex)}).classed("sc-active",function(e){return e.active==="active"}).classed("sc-inactive",function(e){return e.active==="inactive"});q.transition().duration(m).style("stroke-opacity",1).style("fill-opacity",1);var W=q.selectAll("g.sc-slice").data(function(e){return e.values},function(e){return e.seriesIndex});W.exit().remove();var K=W.enter().append("g").attr("class","sc-slice");var J=q.selectAll("g.sc-slice").merge(K);K.append("polygon").attr("class","sc-base");J.select("polygon.sc-base").attr("points",function(e){return ce(e,0,T)});if(b){K.append("polygon").attr("class","sc-texture").style("mask","url("+$+")");J.select("polygon.sc-texture").attr("points",function(e){return ce(e,0,T)})}K.on("mouseover",function(e,n){t.select(this).classed("hover",true);var i=ae(t.event,e,n);M.call("elementMouseover",this,i)}).on("mousemove",function(e,n){var i=t.event;M.call("elementMousemove",this,i)}).on("mouseout",function(e,n){t.select(this).classed("hover",false);M.call("elementMouseout",this)}).on("click",function(e,n){t.event.stopPropagation();var i=ae(t.event,e,n);M.call("elementClick",this,i)}).on("dblclick",function(e,n){t.event.stopPropagation();var i=ae(t.event,e,n);M.call("elementDblClick",this,i)});var X=q.selectAll(".sc-label-value").data(function(e){return e.values},function(e){return e.seriesIndex});X.exit().remove();var Q=X.enter().append("g").attr("class","sc-label-value");var Z=q.selectAll("g.sc-label-value").merge(Q);Z.attr("transform","translate("+C+",0)");var ee=Z.filter(".sc-label-side");function te(){Z.selectAll("polyline").remove();Z.selectAll("rect").remove();Z.selectAll("text").remove();Z.append("rect").attr("class","sc-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("pointer-events","none").style("stroke-width",0).style("fill-opacity",0);Z.append("text").text(c).call(Le,"sc-label",.85,"middle",we);Z.select(".sc-label").call(se,E?re:oe,me,function(e,t){Le(e,"sc-label",t,"middle",we)});Z.append("text").text(u).call(Le,"sc-value",.85,"middle",we);Z.select(".sc-value").append("tspan").text(d);Z.call(Ee).call(ve).call(ke);Z.classed("sc-label-side",function(e){return e.tooTall||e.tooWide})}function ne(){var e=0;var n=0;var i,a,r,s;ee=Z.filter(".sc-label-side");ee.selectAll(".sc-label").remove();ee.selectAll("rect").remove();ee.selectAll("polyline").remove();ee.append("text").text(c).call(Le,"sc-label",.85,"start","#555");ee.select(".sc-label").call(se,E?re:oe,E?_e:le,function(e,t){Le(e,"sc-label",t,"start","#555")});ee.call(Ee);ee.select(".sc-value").style("text-anchor","start").style("fill","#555");ee.call(be);for(i=ee.nodes(),r=i.length-1;r>=0;r-=1){n=t.select(i[r]).data()[0];if(n){if(!e){n.labelBottom=n.labelTop+n.labelHeight+I;e=n.labelBottom;continue}n.labelTop=Math.max(e,n.labelTop);n.labelBottom=n.labelTop+n.labelHeight+I;e=n.labelBottom}}if(e&&e-I>t.max(w.range())){e=0;for(i=ee.nodes(),a=0,s=i.length;a<s;a+=1){n=t.select(i[a]).data()[0];if(n){if(!e){n.labelBottom=A-1;n.labelTop=n.labelBottom-n.labelHeight;e=n.labelTop;continue}n.labelBottom=Math.min(e,n.labelBottom);n.labelTop=n.labelBottom-n.labelHeight-I;e=n.labelTop}}if(e<0){ee.each(function(t){t.labelTop-=e;t.labelBottom-=e})}}e=0;ee.call(xe)}function ie(){te();ne()}ie();B();P();ie();B();P();ie();B();P();J.select(".sc-base").attr("points",function(e){return ce(e,1,T)});if(b){J.selectAll(".sc-texture").attr("points",function(e){return ce(e,1,T)}).style("fill",we)}Z.attr("transform",function(e){var t=e.tooTall?0:C,n=e.tooTall?0:e.labelTop;return"translate("+t+","+n+")"});ee.attr("transform",function(e){return"translate("+O+","+e.labelTop+")"});ee.append("polyline").attr("class","sc-label-leader").style("fill-opacity",0).style("stroke","#999").style("stroke-width",1).style("stroke-opacity",.5);ee.selectAll("polyline").call(ye);function ae(e,t,n){return{id:r,key:c(t),value:o(t),count:l(t),data:t,series:t.series,seriesIndex:t.series.seriesIndex,e:e}}function re(e,n,i,a){var r=n.text(),s=parseFloat(n.attr("dy")),o,l=r.split(/\s+/).reverse(),c=[],u=0,d=i(e,0),f=t.select(n.node().parentNode);n.text(null);while(o=l.pop()){c.push(o);n.text(c.join(" "));if(n.node().getBoundingClientRect().width>d&&c.length>1){c.pop();n.text(c.join(" "));c=[o];n=f.append("text");n.text(o).call(a,++u*1.1+s)}}}function se(e,n,i,a){e.each(function(e){var r=t.select(this);n(e,r,i,a)})}function oe(e,t,n,a){var r=t.text(),s=parseFloat(t.attr("dy")),o=n(e);t.text(i.stringEllipsify(r,h,o)).call(a,s)}function le(e){var t=Math.max(f-p/1.1,k),n=e._bottom,i=n*x,a=t+i,r=Math.abs(e.labelBottom-n),s=r*x,o=R+s+R+R,l=a-o;return Math.max(l,k)}function ce(e,t,n){var i=e._bottom,a=e._top,r=n/2-x*i,s=n/2-x*a,o=C;return o-r+","+i*t+" "+(o-s)+","+a*t+" "+(o+s)+","+a*t+" "+(o+r)+","+i*t}function ue(e,t){var n=t/x/2;return Math.abs(Math.sqrt(e/x+n*n))-n}function de(e,t){return e*(t-e*x)}function fe(e){return Math.round(Math.max(Math.min(p/1.1,f-e),40))}function pe(){return Math.min(T*1.1,(T-T*x)/(2*x))}function he(e){return T/2+e}function me(e){var t=T,n=e._bottom-e._height/2;return t-n*x*2}function _e(e,t){var n=Math.max((f-T)/2,t),i=e._top;return n+i*x}function ge(e){return t.select(e).node().getBoundingClientRect()}function ve(e){e.each(function(e){var t=ge(this);e.labelHeight=t.height;e.labelWidth=t.width;e.labelTop=e._bottom-e._height/2-e.labelHeight/2;e.labelBottom=e.labelTop+e.labelHeight+I;e.tooWide=e.labelWidth>me(e);e.tooTall=e.labelHeight>e._height-4})}function be(e){e.each(function(e){var t=ge(this);e.labelHeight=t.height;e.labelWidth=t.width;e.labelTop=e._top;e.labelBottom=e.labelTop+e.labelHeight+I})}function ye(e){var n=e.size();for(var i=e.nodes(),a=i.length-1;a>=0;--a){var r=t.select(i[a]);var s=r.data()[0];var o=a<n-1?t.select(i[a+1]).data()[0]:null,l=a?t.select(i[a-1]).data()[0]:null,c=Math.round(s.labelHeight)+.5,u=Math.round(s._bottom-s.labelTop)-.5,d=o?o.labelWidth-(s.labelBottom-o.labelBottom)*x:0,f=s.labelWidth,p=l&&c<u?l.labelWidth:0,h=Math.round(Math.max(d,f,p))+R,m=Math.round(_e(s,N))-O-R;var _=0+","+c+" "+h+","+c+" "+(h+Math.abs(c-u)*x)+","+u+" "+m+","+u;s.labelWidth=h;r.attr("points",_)}}function xe(e){var t=(f-T)/2,n=0;e.each(function(e){var t=e._bottom,i=Math.abs(e.labelBottom+R-t)*x,a=t*x,r=e.labelWidth+i+R*3-a;if(r>=n){n=r}});n=Math.round(n*10)/10;if(n<=0){O=t;N=t}else if(n>0&&n<t){O=t-n;N=t}else{O=0;N=n}}function we(e,n,a){var r=t.select(this.parentNode).style("fill");return i.getTextContrast(r,n)}function Se(e){return i.isRTLChar(e.slice(-1))?"rtl":"ltr"}function Le(e,t,n,i,a){e.attr("x",0).attr("y",0).attr("dy",n+"em").attr("class",t).attr("direction",function(){return"ltr"}).style("pointer-events","none").style("text-anchor",i).style("fill",a)}function Ee(e){e.each(function(e){var n=t.select(this);var i=n.selectAll(".sc-label").size()+1;var a=.85+i-1+"em";n.select(".sc-value").attr("dy",a)})}function ke(e){e.each(function(e,n){var i=t.select(this);i.select(".sc-label-box").attr("x",(e.labelWidth+6)/-2).attr("y",-2).attr("width",e.labelWidth+6).attr("height",e.labelHeight+4).attr("rx",2).attr("ry",2).style("fill-opacity",1)})}});return D}D.dispatch=M;D.id=function(e){if(!arguments.length){return r}r=e;return D};D.color=function(e){if(!arguments.length){return _}_=e;return D};D.fill=function(e){if(!arguments.length){return v}v=e;return D};D.classes=function(e){if(!arguments.length){return y}y=e;return D};D.gradient=function(e){if(!arguments.length){return g}g=e;return D};D.margin=function(t){if(!arguments.length){return e}e.top=typeof t.top!="undefined"?t.top:e.top;e.right=typeof t.right!="undefined"?t.right:e.right;e.bottom=typeof t.bottom!="undefined"?t.bottom:e.bottom;e.left=typeof t.left!="undefined"?t.left:e.left;return D};D.width=function(e){if(!arguments.length){return n}n=e;return D};D.height=function(e){if(!arguments.length){return a}a=e;return D};D.getKey=function(e){if(!arguments.length){return s}s=e;return D};D.getValue=function(e){if(!arguments.length){return o}o=e;return D};D.getCount=function(e){if(!arguments.length){return l}l=e;return D};D.fmtKey=function(e){if(!arguments.length){return c}c=e;return D};D.fmtValue=function(e){if(!arguments.length){return u}u=e;return D};D.fmtCount=function(e){if(!arguments.length){return d}d=e;return D};D.direction=function(e){if(!arguments.length){return p}p=e;return D};D.delay=function(e){if(!arguments.length){return h}h=e;return D};D.duration=function(e){if(!arguments.length){return m}m=e;return D};D.locality=function(e){if(!arguments.length){return f}f=i.buildLocality(e);return D};D.textureFill=function(e){if(!arguments.length){return b}b=e;return D};D.yScale=function(e){if(!arguments.length){return w}w=e;return D};D.yDomain=function(e){if(!arguments.length){return S}S=e;return D};D.forceY=function(e){if(!arguments.length){return L}L=e;return D};D.wrapLabels=function(e){if(!arguments.length){return E}E=e;return D};D.minLabelWidth=function(e){if(!arguments.length){return k}k=e;return D};return D}function o(){var e={top:0,right:0,bottom:0,left:0},n=null,a=null,r=Math.floor(Math.random()*1e4),s=function(e){return e.key},o=function(e){return e.y},l=function(e){return typeof e.key==="undefined"?e:e.key},c=function(e,t){return isNaN(e.value)?e:e.value},u=function(e,t){return isNaN(e.count)?e:e.count},d=function(e){return l(e)},f=function(e){return c(e)},p=function(e){return(" ("+u(e)+")").replace(" ()","")},h=i.buildLocality(),m="ltr",_=0,g=0,v=function(e,t){return i.defaultColor()(e,e.seriesIndex)},b=i.colorRadialGradient,y=v,x=function(e,t){return"sc-slice sc-series-"+e.seriesIndex},w=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var S=50,L=true,E=true,k=.01,M=5,T=5,A=90,C=0,D=0,R=10,I=-90,O=90,F=10;function N(s){s.each(function(s){var l=n-e.left-e.right,c=a-e.top-e.bottom,u=t.select(this);var d=Math.min(l/2,c)/((100+F)/100),f=O-I,p=t.scaleLinear().range([0,1]).domain([D,R]),h=0,m=s.map(function(e,t){var n={key:e.key,seriesIndex:e.seriesIndex,y0:h,y1:e.y,color:e.color,classes:e.classes,values:e.values};h=e.y;return n}),_=function(e){return e*d/100};var L=u.selectAll("g.sc-wrap").data([s]);var T=L.enter().append("g").attr("class","sc-wrap sc-gauge");var B=u.select(".sc-wrap.sc-gauge").merge(T);var P=T.append("defs");var U=B.select("defs");T.append("g").attr("class","sc-group");var Y=B.select(".sc-group");T.append("g").attr("class","sc-labels");var H=B.select(".sc-labels");T.append("g").attr("class","sc-pointer");var G=B.select(".sc-pointer");var V=T.append("g").attr("class","sc-odometer");var $=B.select(".sc-odometer");B.attr("transform","translate("+(e.left/2+e.right/2+_(F))+","+(e.top+_(F))+")");N.gradientFill=function(e,t){var n=r+"-"+t;var i={x:0,y:0,r:d,s:S/100,u:"userSpaceOnUse"};var a=v(e,t);return b(e,n,i,a,U)};Y.attr("transform",fe);var j=Y.selectAll(".sc-series").data(m);var z=j.enter().append("g").attr("class","sc-series");j.exit().remove();var q=Y.selectAll(".sc-series").merge(z);z.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(e,n,i){t.select(this).classed("hover",true)}).on("mouseout",function(e,n,i){t.select(this).classed("hover",false)});q.attr("class",function(e){return x(e,e.seriesIndex)}).attr("fill",function(e){return y(e,e.seriesIndex)}).classed("sc-active",function(e){return e.active==="active"}).classed("sc-inactive",function(e){return e.active==="inactive"});var W=t.arc().innerRadius(_(S)).outerRadius(d).startAngle(ue).endAngle(de);var K=q.selectAll("g.sc-slice").data(function(e,t){return e.values.map(function(t,n){t.y0=e.y0;t.y1=e.y1;return t})},function(e){return e.seriesIndex});K.exit().remove();var J=K.enter().append("g").attr("class","sc-slice");var X=q.selectAll("g.sc-slice").merge(J);J.append("path").attr("class","sc-base").attr("d",W).on("mouseover",function(e,n){t.select(this).classed("hover",true);var i=Q(t.event,e,n);w.call("elementMouseover",this,i)}).on("mousemove",function(e,n){var i=t.event;w.call("elementMousemove",this,i)}).on("mouseout",function(e,n){t.select(this).classed("hover",false);w.call("elementMouseout",this)}).on("click",function(e,n){t.event.stopPropagation();var i=Q(t.event,e,n);w.call("elementClick",this,i)}).on("dblclick",function(e,n){t.event.stopPropagation();var i=Q(t.event,e,n);w.call("elementDblClick",this,i)});X.select(".sc-base").attr("d",W).style("stroke-opacity",1);function Q(e,n,i){return{point:n,index:i,e:t.event,id:r}}var Z=s.map(function(e){return e.values[0]});H.attr("transform",fe);var ee=H.selectAll("text").data(Z);var te=ee.enter().append("text");ee.exit().remove();var ne=H.selectAll("text").merge(te);ne.attr("transform",function(e){return"rotate("+ce(e.y)+") translate(0,"+(_(-1.5)-d)+")"}).text(o).style("fill-opacity",pe).style("text-anchor","middle").style("font-size",_(.6)+"em");if(E){var ie=[[Math.round(_(M)/2),0],[0,-Math.round(_(A))],[-Math.round(_(M)/2),0],[0,Math.round(_(M))],[Math.round(_(M)/2),0]];G.attr("transform",fe);var ae=G.selectAll("path").data([ie]);var re=ae.enter().append("path").attr("transform","rotate("+I+")");ae.exit().remove();var se=G.selectAll("path").merge(re);se.attr("d",t.line());V.append("text").attr("class","sc-odom sc-odomText").attr("x",0).attr("y",0).style("text-anchor","middle").style("stroke","none").style("fill","black");$.select(".sc-odomText").style("font-size",_(.7)+"em").text(C);V.insert("path",".sc-odomText").attr("class","sc-odom sc-odomBox").attr("fill","#EFF").attr("stroke","black").attr("stroke-width","2px").attr("opacity",.8);$.call(le)}else{G.selectAll("path").remove();$.select(".sc-odomText").remove();$.select(".sc-odomBox").remove()}function oe(e){C=e;se.transition().duration(g).ease(t.easeElastic).attr("transform","rotate("+ce(e)+")");$.select(".sc-odomText").text(C);$.call(le)}function le(t){var n=t.select(".sc-odomText").node().getBoundingClientRect();t.select(".sc-odomBox").attr("d",i.roundedRectangle(-n.width/2,-n.height+_(1.5),n.width+_(4),n.height+_(2),_(2)));t.attr("transform","translate("+d+","+(e.top+_(70)+n.height)+")")}function ce(e){return I+p(e)*f}function ue(e){return i.angleToRadians(ce(e.y0))}function de(e){return i.angleToRadians(ce(e.y1))}function fe(){return"translate("+d+","+d+")"}function pe(e){var t=(de(e)-ue(e))/(2*Math.PI);return t>k?1:0}N.setGaugePointer=oe});return N}N.dispatch=w;N.id=function(e){if(!arguments.length){return r}r=e;return N};N.color=function(e){if(!arguments.length){return v}v=e;return N};N.fill=function(e){if(!arguments.length){return y}y=e;return N};N.classes=function(e){if(!arguments.length){return x}x=e;return N};N.gradient=function(e){if(!arguments.length){return b}b=e;return N};N.margin=function(t){if(!arguments.length){return e}e.top=typeof t.top!="undefined"?t.top:e.top;e.right=typeof t.right!="undefined"?t.right:e.right;e.bottom=typeof t.bottom!="undefined"?t.bottom:e.bottom;e.left=typeof t.left!="undefined"?t.left:e.left;return N};N.width=function(e){if(!arguments.length){return n}n=e;return N};N.height=function(e){if(!arguments.length){return a}a=e;return N};N.x=function(e){if(!arguments.length){return s}s=e;return N};N.y=function(e){if(!arguments.length){return o}o=i.functor(e);return N};N.getKey=function(e){if(!arguments.length){return l}l=e;return N};N.getValue=function(e){if(!arguments.length){return c}c=e;return N};N.getCount=function(e){if(!arguments.length){return u}u=e;return N};N.fmtKey=function(e){if(!arguments.length){return d}d=e;return N};N.fmtValue=function(e){if(!arguments.length){return f}f=e;return N};N.fmtCount=function(e){if(!arguments.length){return p}p=e;return N};N.direction=function(e){if(!arguments.length){return m}m=e;return N};N.delay=function(e){if(!arguments.length){return _}_=e;return N};N.duration=function(e){if(!arguments.length){return g}g=e;return N};N.locality=function(e){if(!arguments.length){return h}h=i.buildLocality(e);return N};N.showLabels=function(e){if(!arguments.length){return L}L=e;return N};N.labelThreshold=function(e){if(!arguments.length){return k}k=e;return N};N.ringWidth=function(e){if(!arguments.length){return S}S=e;return N};N.pointerWidth=function(e){if(!arguments.length){return M}M=e;return N};N.pointerTailLength=function(e){if(!arguments.length){return T}T=e;return N};N.pointerHeadLength=function(e){if(!arguments.length){return A}A=e;return N};N.setPointer=function(e){if(!arguments.length){return N.setGaugePointer}N.setGaugePointer(e);return N};N.showPointer=function(e){if(!arguments.length){return E}E=e;return N};N.minValue=function(e){if(!arguments.length){return D}D=e;return N};N.maxValue=function(e){if(!arguments.length){return R}R=e;return N};N.minAngle=function(e){if(!arguments.length){return I}I=e;return N};N.maxAngle=function(e){if(!arguments.length){return O}O=e;return N};N.labelInset=function(e){if(!arguments.length){return F}F=e;return N};return N}function l(){var e={top:10,right:10,bottom:15,left:10},n=0,a=0,r="right",s="ltr",o="start",l=6,c=l*2,u=10,d=12,f=5,p=true,h=false,m=false,_=false,g=3,v=false,b={close:"Hide legend",type:"Show legend",noLabel:"undefined"},y=Math.floor(Math.random()*1e4),x=function(e){return e.key.length>0||!isNaN(parseFloat(e.key))&&i.isNumeric(e.key)?e.key:C.strings().noLabel},w=function(e){return i.defaultColor()(e,e.seriesIndex)},S=function(e){return"sc-series sc-series-"+e.seriesIndex},L=t.dispatch("legendClick","legendMouseover","legendMouseout","toggleMenu","closeMenu");var E=0;var k=false,M=true,T=0,A=function(e){return};function C(n){n.each(function(n){var b=t.select(this),D=[],R=0,I=0,O="",F=o==="start"?true:false,N=s==="rtl"?true:false,B=d*(F?1:.6),P=u+(F?c+f:0);if(!n||!n.length||!n.filter(function(e){return!e.values||e.values.length}).length){return C}var U=n.filter(function(e){return e.hasOwnProperty("seriesIndex")}).length;n.filter(function(e){return!e.hasOwnProperty("seriesIndex")}).map(function(e,t){e.seriesIndex=U;U+=1});v=true;O=!n[0].type||n[0].type==="bar"?"bar":"line";r=N&&r!=="center"?r==="left"?"right":"left":r;var Y=b.selectAll("g.sc-wrap").data([n]);var H=Y.enter().append("g").attr("class","sc-wrap sc-menu");var G=b.select("g.sc-wrap").merge(H);G.attr("transform","translate(0,0)");var V=H.append("defs");var $=G.select("defs");V.append("clipPath").attr("id","sc-edge-clip-"+y).append("rect");var j=G.select("#sc-edge-clip-"+y+" rect");H.append("rect").attr("class","sc-menu-background");var z=G.select(".sc-menu-background");var q=i.dropShadow("menu_back_"+y,$,{blur:2});H.append("text").attr("class","sc-menu-link");var W=G.select(".sc-menu-link");var K=H.append("g").attr("class","sc-menu-mask");var J=G.select(".sc-menu-mask");K.append("g").attr("class","sc-group");var X=G.select(".sc-group");var Q=X.selectAll(".sc-series").data(i.identity,function(e){return e.seriesIndex});Q.exit().remove();var Z=Q.enter().append("g").attr("class","sc-series").on("mouseover",function(e,t){L.call("legendMouseover",this,e)}).on("mouseout",function(e,t){L.call("legendMouseout",this,e)}).on("click",function(e,n){t.event.preventDefault();t.event.stopPropagation();L.call("legendClick",this,e)});var ee=X.selectAll(".sc-series").merge(Z);ee.attr("class",S).attr("fill",w).attr("stroke",w);var te=Z.append("rect").attr("x",(c+f)/-2).attr("y",(c+B)/-2).attr("width",c+f).attr("height",c+B).style("fill","#FFE").style("stroke-width",0).style("opacity",.1);var ne=ee.selectAll("rect").merge(te);var ie=Z.selectAll("circle").data(function(e){return O==="line"?[e,e]:[e]});ie.exit().remove();var ae=ie.enter().append("circle").attr("r",l).style("stroke-width","2px");var re=ee.selectAll("circle").merge(ae);var se=Z.selectAll("line").data(O==="line"?function(e){return[e]}:[]);se.exit().remove();var oe=se.enter().append("line").attr("x0",0).attr("y0",0).attr("y1",0).style("stroke-width","4px");var le=ee.selectAll("line").merge(oe);var ce=Z.append("text").attr("dx",0);var ue=ee.selectAll("text").merge(ce);ue.attr("dy",F?".36em":".71em").text(x);j.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0);z.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0).style("opacity",0).style("pointer-events","all").on("click",function(e,n){t.event.stopPropagation()});W.text(E===1?C.strings().close:C.strings().open).attr("text-anchor",r==="left"?N?"end":"start":N?"start":"end").attr("dy",".36em").attr("dx",0).style("opacity",0).on("click",function(e,n){t.event.preventDefault();t.event.stopPropagation();L.call("toggleMenu",this,e,n)});ee.classed("disabled",function(e){return e.disabled});C.calcMaxWidth=function(){D=[];X.style("display","inline");ue.each(function(e,n){var i=t.select(this).node().getBoundingClientRect().width;D.push(Math.max(Math.floor(i),O==="line"?50:20))});C.width(t.sum(D)+D.length*P-u);return C.width()};C.getLineHeight=function(){X.style("display","inline");var e=Math.floor(ue.node().getBoundingClientRect().height);return e};C.arrange=function(n){if(D.length===0){this.calcMaxWidth()}function i(e){return D[e]+P}function s(e){return D[e]+P-u}function v(e){return e?1:-1}var b=D.length,x=1,w=b,S=[],L=[],U=n-e.left-e.right,Y=a,H=0,G=this.getLineHeight(),V=c+(F?0:G)+B,$={top:7,right:7,bottom:7,left:7},K=0,Q=0,Z,te,ie;if(p){while(w>0){S=[];for(Z=0;Z<b;Z+=1){if(i(Z)>(S[Z%w]||0)){S[Z%w]=i(Z)}}if(t.sum(S)-u<U){break}w-=1}w=w||1;x=Math.ceil(b/w);H=t.sum(S)-u;for(Z=0;Z<b;Z+=1){te=Z%w;if(F){if(te===0){K=N?H:0}else{K+=S[te-1]*v(!N)}}else{if(te===0){K=(N?H:0)+(S[te]-u)/2*v(!N)}else{K+=(S[te-1]+S[te])/2*v(!N)}}Q=Math.floor(Z/w)*V;L[Z]={x:K,y:Q}}}else{if(N){K=U;for(Z=0;Z<b;Z+=1){if(K-s(Z)<0){H=Math.max(H,s(Z));K=U;if(Z){x+=1}}if(K-s(Z)>H){H=K-s(Z)}L[Z]={x:K,y:(x-1)*(B+c)};K-=i(Z)}}else{K=0;for(Z=0;Z<b;Z+=1){if(Z&&K+s(Z)>U){K=0;x+=1}if(K+s(Z)>H){H=K+s(Z)}L[Z]={x:K,y:(x-1)*(B+c)};K+=i(Z)}}}if(!m&&(h||x<=g)){E=0;_=false;k=false;C.width(e.left+H+e.right).height(e.top+x*V-B+e.bottom);switch(r){case"left":ie=0;break;case"center":ie=(n-C.width())/2;break;case"right":ie=0;break}j.attr("y",0).attr("width",C.width()).attr("height",C.height());z.attr("x",ie).attr("width",C.width()).attr("height",C.height()).attr("rx",0).attr("ry",0).attr("filter","none").style("display","inline").style("opacity",0);J.attr("clip-path","none").attr("transform",function(t,n){var i=ie+e.left+(F?l*v(!N):0),a=e.top+$.top;return"translate("+i+","+a+")"});X.style("opacity",1).style("display","inline");ee.attr("transform",function(e){var t=L[e.seriesIndex];return"translate("+t.x+","+t.y+")"});ne.attr("x",function(e){var t=0;if(F){t=(c+u)/2*v(N);t-=N?i(e.seriesIndex):0}else{t=i(e.seriesIndex)/-2}return t}).attr("width",function(e){return i(e.seriesIndex)}).attr("height",V);re.attr("r",function(e){return e.type==="dash"?0:l}).attr("transform",function(e,t){var n=F||O==="bar"?0:l*3*v(t);return"translate("+n+",0)"});le.attr("x1",function(e){return e.type==="dash"?l*8:l*4}).attr("transform",function(e){var t=l*(e.type==="dash"?-4:-2);return"translate("+t+",0)"}).style("stroke-dasharray",function(e){return e.type==="dash"?"8, 8":"none"}).style("stroke-dashoffset",-4);ue.attr("dy",F?".36em":".71em").attr("text-anchor",o).attr("transform",function(e){var t=F?(l+f)*v(!N):0,n=F?0:(c+B)/2;return"translate("+t+","+n+")"})}else{_=true;k=true;C.width($.left+t.max(D)+c+f+$.right).height(e.top+c+e.top);R=$.top+c*b+d*(b-1)+$.bottom;I=Math.min(Y-C.height(),R);j.attr("x",.5-$.top-l).attr("y",.5-$.top-l).attr("width",C.width()).attr("height",I);z.attr("x",.5).attr("y",.5+C.height()).attr("width",C.width()).attr("height",I).attr("rx",2).attr("ry",2).attr("filter",q).style("opacity",E*.9).style("display",E?"inline":"none");W.attr("transform",function(t,n){var i=r==="left"?.5:.5+C.width(),a=e.top+l;return"translate("+i+","+a+")"}).style("opacity",1);J.attr("clip-path","url(#sc-edge-clip-"+y+")").attr("transform",function(e,t){var n=$.left+l,i=C.height()+$.top+l;return"translate("+n+","+i+")"});X.style("opacity",E).style("display",E?"inline":"none").attr("transform",function(e,n){var i=N?t.max(D)+l:0;return"translate("+i+",0)"});ee.attr("transform",function(e,t){var n=t*(c+d);return"translate(0,"+n+")"});ne.attr("x",function(e){var t=(c+u)/2*v(N);t-=N?i(e.seriesIndex):0;return t}).attr("width",function(e){return i(e.seriesIndex)}).attr("height",c+B);re.attr("r",function(e){return e.type==="dash"?0:e.type==="line"?l-2:l}).attr("transform","");le.attr("x1",16).attr("transform","translate(-8,0)").style("stroke-dasharray",function(e){return e.type==="dash"?"6, 4, 6":"none"}).style("stroke-dashoffset",0);ue.attr("text-anchor","start").attr("dy",".36em").attr("transform",function(e){var t=(l+f)*v(!N);return"translate("+t+",0)"})}if(M){var ae=I-R;var se=function(e){if(e){var n=t.zoom().on("zoom",oe);z.call(n);X.call(n)}else{z.on(".zoom",null);X.on(".zoom",null)}};var oe=function(){var e=t.event;var n;var i=0;var a=0;var r=0;var s="";if(!e||e.type!=="click"&&e.type!=="zoom"){return}n=e.sourceEvent;if(e.type==="zoom"&&n){if(n.type==="wheel"){i=-n.deltaX;a=-n.deltaY;r=T+(Math.abs(i)>Math.abs(a)?i:a)}else if(n.type==="mousemove"){i=n.movementX;a=n.movementY;r=T+(Math.abs(i)>Math.abs(a)?i:a)}else if(n.type==="touchmove"){i=e.transform.x;a=e.transform.y;r=Math.abs(i)>Math.abs(a)?i:a}}T=Math.min(Math.max(r,ae),0);s="translate("+(N?t.max(D)+l:0)+","+T+")";if(r>0||r<ae){A(Math.abs(a)>Math.abs(i)?a:0)}X.attr("transform",s)};se(k)}};function de(){z.style("opacity",E*.9).style("display",E?"inline":"none");X.style("opacity",E).style("display",E?"inline":"none");W.text(E===1?C.strings().close:C.strings().open)}L.on("toggleMenu",function(e){t.event.stopPropagation();E=1-E;de()});L.on("closeMenu",function(e){if(E===1){E=0;de()}})});return C}C.dispatch=L;C.margin=function(t){if(!arguments.length){return e}e.top=typeof t.top!=="undefined"?t.top:e.top;e.right=typeof t.right!=="undefined"?t.right:e.right;e.bottom=typeof t.bottom!=="undefined"?t.bottom:e.bottom;e.left=typeof t.left!=="undefined"?t.left:e.left;return C};C.width=function(e){if(!arguments.length){return n}n=Math.round(e);return C};C.height=function(e){if(!arguments.length){return a}a=Math.round(e);return C};C.id=function(e){if(!arguments.length){return y}y=e;return C};C.key=function(e){if(!arguments.length){return x}x=e;return C};C.color=function(e){if(!arguments.length){return w}w=i.getColor(e);return C};C.classes=function(e){if(!arguments.length){return S}S=e;return C};C.align=function(e){if(!arguments.length){return r}r=e;return C};C.position=function(e){if(!arguments.length){return o}o=e;return C};C.showAll=function(e){if(!arguments.length){return h}h=e;return C};C.showMenu=function(e){if(!arguments.length){return m}m=e;return C};C.collapsed=function(e){return _};C.rowsCount=function(e){if(!arguments.length){return g}g=e;return C};C.spacing=function(e){if(!arguments.length){return d}d=e;return C};C.gutter=function(e){if(!arguments.length){return u}u=e;return C};C.radius=function(e){if(!arguments.length){return l}l=e;return C};C.strings=function(e){if(!arguments.length){return b}b=e;return C};C.equalColumns=function(e){if(!arguments.length){return p}p=e;return C};C.enabled=function(e){if(!arguments.length){return v}v=e;return C};C.direction=function(e){if(!arguments.length){return s}s=e;return C};return C}function c(){var e=960;var n=500;var a=null;var r=l();var s=l();var o="";var c=[];var u=[];var d=false;var f=false;var p=false;var h="left";var m="right";var _="ltr";var g={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"};function v(l){l.each(function(l){var b=t.select(this);var y=b.select(".sc-chart-wrap");var x=y.select(".sc-title-wrap");var w=y.select(".sc-controls-wrap");var S=y.select(".sc-legend-wrap");var L=a.margin();var E=0,k=0;var M=0,T=0,A=0,C={width:0,height:0,top:0,left:0},D=0,R=0,I=0;d=d&&o&&o.length>0;x.select(".sc-title").remove();if(d){x.append("text").attr("class","sc-title").attr("x",_==="rtl"?e:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black").text(o);C=i.getTextBBox(x.select(".sc-title"),true);C.top-=b.node().getBoundingClientRect().top;D=C.height}if(f){r.id("controls_"+a.id()).strings(g.controls).color(["#444"]).align(h).height(n-D);w.datum(c).call(r);M=r.calcMaxWidth()}if(p){s.id("legend_"+a.id()).strings(g.legend).align(m).height(n-D);S.datum(u).call(s);T=s.calcMaxWidth()}A=e/(M+T);M=Math.floor(M*A);T=Math.floor(T*A);if(f){r.arrange(M);T=e-r.width()}if(p){s.arrange(T);M=e-s.width()}if(f){E=_==="rtl"?e-r.width():0;if(d){k=C.height-L.top+C.top}else{k=0-r.margin().top}w.attr("transform",i.translation(E,k));R=r.height()-(d?0:r.margin().top)}if(p){var O=i.getTextBBox(S.select(".sc-menu-link")),F=e-C.width-6,N=d&&!f&&s.collapsed()&&F>O.width?true:false;E=_==="rtl"||!s.collapsed()&&m==="center"?0:e-s.width();if(N){k=C.height-s.height()/2-O.height/2;k-=L.top-C.top}else if(d){k=C.height-L.top+C.top}else{k=0-s.margin().top}S.attr("transform",i.translation(E,k));I=N?s.margin().bottom:s.height()-(d?0:s.margin().top)}v.getHeight=function(){var e=D+Math.max(R,I,10);return e}});return v}v.controls=r;v.legend=s;v.chart=function(e){if(!arguments.length){return a}a=e;return v};v.width=function(t){if(!arguments.length){return e}e=t;return v};v.height=function(e){if(!arguments.length){return n}n=e;return v};v.title=function(e){if(!arguments.length){return o}o=e;return v};v.controlsData=function(e){if(!arguments.length){return c}c=e;return v};v.legendData=function(e){if(!arguments.length){return u}u=e;return v};v.showTitle=function(e){if(!arguments.length){return d}d=e;return v};v.showControls=function(e){if(!arguments.length){return f}f=e;return v};v.showLegend=function(e){if(!arguments.length){return p}p=e;return v};v.alignControls=function(e){if(!arguments.length){return h}h=e;return v};v.alignLegend=function(e){if(!arguments.length){return m}m=e;return v};v.direction=function(e){if(!arguments.length){return _}_=e;s.direction(e);r.direction(e);return v};v.strings=function(e){if(!arguments.length){return g}for(var t in e){if(e.hasOwnProperty(t)){g[t]=e[t]}}s.strings(g.legend);r.strings(g.controls);return v};return v}function u(){var e=Math.floor(Math.random()*1e5),n=960,a=500,r={top:0,right:0,bottom:0,left:0},s=function(e,t){return i.defaultColor()(e,e.seriesIndex)},o=i.colorRadialGradient,l=s,c=function(e,t){return"sc-series sc-series-"+e.seriesIndex},u=t.scaleLinear(),d=t.scaleLinear(),f=t.scaleLinear(),p=function(e){return e.x},h=function(e){return e.y},m=function(e){return e.size||1},_=[],g=[],v=[],b=null,y=null,x=null,w=[1*1*Math.PI,5*5*Math.PI],S=function(e,t){return Math.sqrt(f(m(e,t))/Math.PI)},L=function(e,t){return f(m(e,t))},E=function(e){return e.shape||"circle"},k=i.buildLocality(),M=true,T=true,A=function(e){return!e.notActive},C=false,D=.1,R="ltr",I=false,O=0,F=0,N=true,B=true,P=false,U=t.dispatch("elementClick","elementMouseover","elementMouseout","elementMousemove"),Y=false;var H,G,V,$,j=false;function z(k){k.each(function(k){var R=n-r.left-r.right,O=a-r.top-r.bottom,q=t.select(this);var W=t.transition("scatter").duration(F).ease(t.easeLinear);j=true;var K=b&&y&&x?[]:t.merge(k.map(function(e){return e.values.map(function(e,t){return{x:p(e,t),y:h(e,t),size:m(e,t)}})}));z.resetDimensions=function(e,t){n=e;a=t;R=e-r.left-r.right;O=t-r.top-r.bottom;J()};function J(){u.domain(b||t.extent(K.map(p).concat(_)));d.domain(y||t.extent(K.map(h).concat(g)));if(C&&k[0]){if(D===-1){var e=Math.sqrt(w[1]/Math.PI);u.range([0+e,R-e]);d.range([O-e,0+e])}else if(D<1){u.range([(R*D+R)/(2*k[0].values.length),R-R*(1+D)/(2*k[0].values.length)]);d.range([O,0])}else{u.range([D,R-D]);d.range([O-D,D])}}else{u.range([0,R]);d.range([O,0])}if(Y){d.nice()}P=u.domain()[0]===u.domain()[1]||d.domain()[0]===d.domain()[1];if(u.domain()[0]===u.domain()[1]){u.domain()[0]?u.domain([u.domain()[0]-u.domain()[0]*.1,u.domain()[1]+u.domain()[1]*.1]):u.domain([-1,1])}if(d.domain()[0]===d.domain()[1]){d.domain()[0]?d.domain([d.domain()[0]-d.domain()[0]*.1,d.domain()[1]+d.domain()[1]*.1]):d.domain([-1,1])}f.domain(x||t.extent(K.map(function(e){return e.size}).concat(v))).range(w);if(f.domain().length<2){f.domain([0,f.domain()])}H=H||u;G=G||d;V=V||f}J();var X=q.selectAll("g.sc-wrap.sc-scatter").data([k]);var Q=X.enter().append("g").attr("class","sc-wrap sc-scatter");var Z=q.select(".sc-wrap.sc-scatter").merge(Q);var ee=Q.append("defs");var te=Z.select("defs");Q.append("g").attr("class","sc-group");var ne=Z.select(".sc-group");Q.append("g").attr("class","sc-point-paths");var ie=Z.select(".sc-point-paths");Z.classed("sc-single-point",P).attr("transform",i.translation(r.left,r.top));ee.append("clipPath").attr("id","sc-edge-clip-"+e).append("rect");ee.append("clipPath").attr("id","sc-points-clip-"+e).attr("class","sc-point-clips");te.select("#sc-edge-clip-"+e+" rect").attr("width",R).attr("height",O);Z.attr("clip-path",I?"url(#sc-edge-clip-"+e+")":"");z.gradientFill=function(t,n){var i=e+"-"+n;var a={x:.5,y:.5,r:.5,s:0,u:"objectBoundingBox"};var r=s(t,n);return o(t,i,a,r,te)};var ae=ne.selectAll(".sc-series").data(i.identity,function(e){return e.seriesIndex});var re=ae.enter().append("g").attr("class","sc-series").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var se=ne.selectAll(".sc-series").merge(re);se.attr("class",function(e,t){return c(e,e.seriesIndex)}).attr("fill",function(e,t){return l(e,e.seriesIndex)}).attr("stroke",function(e,t){return l(e,e.seriesIndex)}).classed("hover",function(e){return e.hover});se.transition(W).style("stroke-opacity",1).style("fill-opacity",1);ae.exit().transition(W).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();var oe;var le;var ce;if(M){oe=se.selectAll("circle.sc-point").data(function(e){return e.values});le=oe.enter().append("circle").attr("class",function(e,t){return"sc-point sc-enter sc-point-"+t}).attr("r",S);ce=se.selectAll(".sc-point").merge(le);ce.filter(function(e){return t.select(this).classed("sc-enter")}).attr("cx",function(e,t){return u(p(e,t))}).attr("cy",function(e,t){return d(0)});ce.transition(W).attr("cx",function(e,t){return u(p(e,t))}).attr("cy",function(e,t){return d(h(e,t))}).on("end",function(e){t.select(this).classed("sc-enter",false).classed("sc-active",function(e){return e.active==="active"})});ae.exit().transition(W).selectAll(".sc-point").attr("cx",function(e,t){return u(p(e,t))}).attr("cy",function(e,t){return d(0)}).remove()}else{oe=se.selectAll("path.sc-point").data(function(e){return e.values});le=oe.enter().append("path").attr("class",function(e,t){return"sc-point sc-enter sc-point-"+t}).attr("d",t.symbol().type(E).size(L));ce=se.selectAll(".sc-point").merge(le);ce.filter(function(e){return t.select(this).classed("sc-enter")}).attr("transform",function(e,t){return"translate("+H(p(e,t))+","+d(0)+")"});ce.transition(W).attr("transform",function(e,t){return"translate("+u(p(e,t))+","+d(h(e,t))+")"}).attr("d",t.symbol().type(E).size(L)).on("end",function(e){t.select(this).classed("sc-enter",false).classed("active",function(e){return e.active==="active"})});ae.exit().transition(W).selectAll(".sc-point").attr("transform",function(e,t){return"translate("+u(p(e,t))+","+d(0)+")"}).remove()}function ue(t,n,i,a){var r={pointIndex:i,point:n,seriesIndex:a.seriesIndex,series:a,groupIndex:n.group,id:e,e:t};return r}function de(){if(!T){return false}if(N===true){var i=t.merge(k.map(function(e,t){return e.values.map(function(e,n){var i=p(e,n);var a=h(e,n);var r=e.group;return[u(i)+Math.random()*1e-4,d(a)+Math.random()*1e-4,e,t,r,n]}).filter(function(e,t){return A(e[4],t)})}));if(B){var r=Z.select("#sc-points-clip-"+e).selectAll("circle").data(i);var s=r.enter().append("circle");var o=Z.select("#sc-points-clip-"+e).selectAll("circle").merge(s);o.attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",function(e,t){return S(e[2],t)});r.exit().remove();ie.attr("clip-path","url(#sc-points-clip-"+e+")")}if(i.length<=3){i.push([u.range()[0]-20,d.range()[0]-20,null,null,null,null]);i.push([u.range()[1]+20,d.range()[1]+20,null,null,null,null]);i.push([u.range()[0]-20,d.range()[0]+20,null,null,null,null]);i.push([u.range()[1]+20,d.range()[1]-20,null,null,null,null])}var l=t.voronoi().extent([[-10,-10],[n+10,a+10]]).polygons(i).map(function(e,t){return{data:e,seriesIndex:i[t][3],groupIndex:i[t][4],pointIndex:i[t][5]}}).filter(function(e){return e.seriesIndex!==null});var c=ie.selectAll("path").data(l);var f=c.enter().append("path").attr("class",function(e,t){return"sc-path-"+t});var m=ie.selectAll("path").merge(f);m.attr("d",function(e){return e?"M"+e.data.join("L")+"Z":null});c.exit().remove();m.on("mouseover",function(e){var n=k[e.seriesIndex];var i=e.pointIndex;var a=n.values[i];if(j||!n)return 0;var r=ue(t.event,a,i,n);U.call("elementMouseover",this,r)}).on("mousemove",function(e){var n=t.event;U.call("elementMousemove",this,n)}).on("mouseout",function(e){var n=k[e.seriesIndex];var i=e.pointIndex;var a=n.values[i];if(j||!n)return 0;var r=ue(t.event,a,i,n);U.call("elementMouseout",this,r)}).on("click",function(e){var n=k[e.seriesIndex];var i=e.pointIndex;var a=n.values[i];if(j||!n)return 0;var r=ue(t.event,a,i,n);U.call("elementClick",this,r)})}else{se.selectAll(".sc-point").style("pointer-events","auto").on("mouseover",function(e,n){var i=t.select(this.parentNode).datum();var a=i.values[n];if(j||!i)return 0;var r=ue(t.event,a,n,i);U.call("elementMouseover",this,r)}).on("mousemove",function(e,n){var i=t.event;U.call("elementMousemove",this,i)}).on("mouseout",function(e,n){var i=t.select(this.parentNode).datum();var a=i.values[n];if(j||!i)return 0;var r=ue(t.event,a,n,i);U.call("elementMouseout",this,r)}).on("click",function(e,n){var i=t.select(this.parentNode).datum();var a=i.values[n];if(j||!i)return 0;var r=ue(t.event,a,n,i);U.call("elementClick",this,r)})}j=false}clearTimeout($);$=setTimeout(de,300);H=u.copy();G=d.copy();V=f.copy();U.on("elementMouseover.point",function(e){if(T){q.select(".sc-series-"+e.seriesIndex+" .sc-point-"+e.pointIndex).classed("hover",true)}});U.on("elementMouseout.point",function(e){if(T){q.select(".sc-series-"+e.seriesIndex+" .sc-point-"+e.pointIndex).classed("hover",false)}})});return z}z.dispatch=U;z.id=function(t){if(!arguments.length){return e}e=t;return z};z.color=function(e){if(!arguments.length){return s}s=e;return z};z.fill=function(e){if(!arguments.length){return l}l=e;return z};z.classes=function(e){if(!arguments.length){return c}c=e;return z};z.gradient=function(e){if(!arguments.length){return o}o=e;return z};z.x=function(e){if(!arguments.length){return p}p=i.functor(e);return z};z.y=function(e){if(!arguments.length){return h}h=i.functor(e);return z};z.z=function(e){if(!arguments.length){return m}m=i.functor(e);return z};z.xScale=function(e){if(!arguments.length){return u}u=e;return z};z.yScale=function(e){if(!arguments.length){return d}d=e;return z};z.zScale=function(e){if(!arguments.length){return f}f=e;return z};z.xDomain=function(e){if(!arguments.length){return b}b=e;return z};z.yDomain=function(e){if(!arguments.length){return y}y=e;return z};z.zDomain=function(e){if(!arguments.length){return x}x=e;return z};z.forceX=function(e){if(!arguments.length){return _}_=e;return z};z.forceY=function(e){if(!arguments.length){return g}g=e;return z};z.forceZ=function(e){if(!arguments.length){return v}v=e;return z};z.size=function(e){if(!arguments.length){return m}m=i.functor(e);return z};z.sizeRange=function(e){if(!arguments.length){return w}w=e;return z};z.sizeDomain=function(e){if(!arguments.length){return x}x=e;return z};z.forceSize=function(e){if(!arguments.length){return v}v=e;return z};z.margin=function(e){if(!arguments.length){return r}for(var t in e){if(e.hasOwnProperty(t)){r[t]=e[t]}}return z};z.width=function(e){if(!arguments.length){return n}n=e;return z};z.height=function(e){if(!arguments.length){return a}a=e;return z};z.interactive=function(e){if(!arguments.length){return T}T=e;return z};z.pointActive=function(e){if(!arguments.length){return A}A=e;return z};z.padData=function(e){if(!arguments.length){return C}C=e;return z};z.padDataOuter=function(e){if(!arguments.length){return D}D=e;return z};z.clipEdge=function(e){if(!arguments.length){return I}I=e;return z};z.clipVoronoi=function(e){if(!arguments.length){return B}B=e;return z};z.useVoronoi=function(e){if(!arguments.length){return N}N=e;if(N===false){B=false}return z};z.circleRadius=function(e){if(!arguments.length){return S}S=e;return z};z.clipRadius=function(e){if(!arguments.length){return S}S=e;return z};z.shape=function(e){if(!arguments.length){return E}E=e;return z};z.onlyCircles=function(e){if(!arguments.length){return M}M=e;return z};z.singlePoint=function(e){if(!arguments.length){return P}P=e;return z};z.delay=function(e){if(!arguments.length){return O}O=e;return z};z.duration=function(e){if(!arguments.length){return F}F=e;return z};z.direction=function(e){if(!arguments.length){return R}R=e;return z};z.nice=function(e){if(!arguments.length){return Y}Y=e;return z};z.locality=function(e){if(!arguments.length){return k}k=i.buildLocality(e);return z};return z}function d(){var e=u();var n={top:0,right:0,bottom:0,left:0},a=960,r=500,s=function(e){return e.x},o=function(e){return e.y},l,c,d=function(e,t){return!isNaN(o(e,t))&&o(e,t)!==null},f=function(e){return e&&e.area||false},p="linear",h=false,m=0,_=0,g=function(e,t){return i.defaultColor()(e,e.seriesIndex)},v=null,b=g,y=function(e,t){return"sc-series sc-series-"+e.seriesIndex};function x(u){u.each(function(u){var m=t.select(this);var b=a-n.left-n.right,w=r-n.top-n.bottom;var S=p==="linear"?t.curveLinear:p==="cardinal"?t.curveCardinal:p==="monotone"?t.curveMonotoneX:p==="basis"?t.curveBasis:t.curveNatural;var L=t.area().curve(S).defined(d).x(function(e,t){return l(s(e,t))}).y0(function(e,t){return c(o(e,t))}).y1(function(e,t){return c(c.domain()[0]<=0?c.domain()[1]>=0?0:c.domain()[1]:c.domain()[0])});var E=t.area().curve(S).defined(d).x(function(e,t){return l(s(e,t))}).y0(function(e,t){return c(0)}).y1(function(e,t){return c(c.domain()[0]<=0?c.domain()[1]>=0?0:c.domain()[1]:c.domain()[0])});var k=t.transition("points").duration(_).ease(t.easeLinear);var M=e.id();v=function(t,n,a){return i.colorLinearGradient(t,e.id()+"-"+n,a,g(t,n),C.select("defs"))};l=e.xScale();c=e.yScale();x.resetDimensions=function(t,i){a=t;r=i;b=t-n.left-n.right;w=i-n.top-n.bottom;e.resetDimensions(t,i)};var T=m.selectAll("g.sc-wrap.sc-line").data([u]);var A=T.enter().append("g").attr("class","sc-wrap sc-line");var C=m.select(".sc-wrap.sc-line").merge(A);var D=A.append("defs");A.append("g").attr("class","sc-group");var R=C.select(".sc-group");A.append("g").attr("class","sc-scatter-wrap");var I=C.select(".sc-scatter-wrap");C.attr("transform",i.translation(n.left,n.top));D.append("clipPath").attr("id","sc-edge-clip-"+M).append("rect");C.select("#sc-edge-clip-"+M+" rect").attr("width",b).attr("height",w);C.attr("clip-path",h?"url(#sc-edge-clip-"+M+")":"");I.attr("clip-path",h?"url(#sc-edge-clip-"+M+")":"");var O=R.selectAll("g.sc-series").data(u,function(e){return e.seriesIndex});var F=O.enter().append("g").attr("class","sc-series").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var N=R.selectAll(".sc-series").merge(F);N.classed("hover",function(e){return e.hover}).attr("class",y).attr("fill",g).attr("stroke",g);N.transition(k).style("stroke-opacity",1).style("fill-opacity",.5);O.exit().transition(k).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();e.clipEdge(h).width(b).height(w);I.call(e);var B=N.selectAll("path.sc-area").data(function(e){return f(e)?[e]:[]});var P=B.enter().append("path").attr("class","sc-area sc-enter");var U=N.selectAll(".sc-area").merge(P);U.filter(function(e){return t.select(this).classed("sc-enter")}).attr("d",function(e){return E.apply(this,[e.values])});U.transition(k).attr("d",function(e){return L.apply(this,[e.values])}).on("end",function(e){t.select(this).classed("sc-enter",false)});B.exit().remove();O.exit().transition(k).selectAll(".sc-area").attr("d",function(e){return E.apply(this,[e.values])}).remove();function Y(e){if(!e.values||!e.values.length){return[null]}if(e.values.length>1){return[e.values]}var t=l.domain().map(function(t,n){if(Array.isArray(e.values[0])){return[t,e.values[0][1]]}else{var i=JSON.parse(JSON.stringify(e.values[0]));i.x=t;return i}});return[t]}var H=N.selectAll("path.sc-line").data(Y,function(e){return e.seriesIndex});var G=H.enter().append("path").attr("class","sc-line sc-enter");var V=N.selectAll(".sc-line").merge(G);V.filter(function(e){return t.select(this).classed("sc-enter")}).attr("d",t.line().curve(S).defined(d).x(function(e,t){return l(s(e,t))}).y(function(e,t){return c(0)}));V.transition(k).attr("d",t.line().curve(S).defined(d).x(function(e,t){return l(s(e,t))}).y(function(e,t){return c(o(e,t))})).on("end",function(e){t.select(this).classed("sc-enter",false)});O.exit().transition(k).selectAll(".sc-line").attr("d",t.line().curve(S).defined(d).x(function(e,t){return l(s(e,t))}).y(function(e,t){return c(0)})).remove()});return x}x.dispatch=e.dispatch;x.scatter=e;i.rebind(x,e,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","useVoronoi","clipVoronoi","clipRadius","padData","padDataOuter","singlePoint","direction","nice","locality");x.color=function(t){if(!arguments.length){return g}g=t;e.color(g);return x};x.fill=function(t){if(!arguments.length){return b}b=t;e.fill(b);return x};x.classes=function(t){if(!arguments.length){return y}y=t;e.classes(y);return x};x.gradient=function(e){if(!arguments.length){return v}v=e;return x};x.margin=function(e){if(!arguments.length){return n}for(var t in e){if(e.hasOwnProperty(t)){n[t]=e[t]}}return x};x.width=function(e){if(!arguments.length){return a}a=e;return x};x.height=function(e){if(!arguments.length){return r}r=e;return x};x.x=function(t){if(!arguments.length){return s}s=t;e.x(t);return x};x.y=function(t){if(!arguments.length){return o}o=t;e.y(t);return x};x.delay=function(e){if(!arguments.length){return m}m=e;return x};x.duration=function(t){if(!arguments.length){return _}_=t;e.duration(t);return x};x.clipEdge=function(e){if(!arguments.length){return h}h=e;return x};x.interpolate=function(e){if(!arguments.length){return p}p=e;return x};x.defined=function(e){if(!arguments.length){return d}d=e;return x};x.isArea=function(e){if(!arguments.length){return f}f=i.functor(e);return x};return x}function f(){var e={top:0,right:0,bottom:0,left:0},n=960,a=500,r=t.scaleBand(),s=t.scaleLinear(),o=Math.floor(Math.random()*1e4),l=function(e){return e.x},c=function(e){return e.y},u=function(e){return e},d=function(e){return e.label||u(e.y)},f=i.buildLocality(),p=[],h=[0],m=true,_,g=false,v=false,b=true,y=60,x="ltr",w=false,S=0,L=0,E=null,k=null,M=false,T=function(e,t){return i.defaultColor()(e,e.seriesIndex)},A=i.colorLinearGradient,C=T,D=false,R=null,I=function(e,t){return"sc-series sc-series-"+e.seriesIndex},O=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var F,N;function B(f){f.each(function(f){var _=t.select(this),S=n-e.left-e.right,L=a-e.top-e.bottom,E=b?"width":"height",k=b?"height":"width",R=b?"x":"y",P=b?"y":"x",U=0,Y=0,H=0,G=f.length-1,V=false,$=false,j=g,z=false,q=[],W=0,K=[],J=[],X=[];function Q(e){return e?1:-1}function Z(e){return e.reverse().filter(function(e,t,n){return n.indexOf(e,t+1)===-1}).reverse()}if(j){if(m){if(j==="top"||j===true){j="end"}}else{if(j==="total"){j="top"}else if(j===true){j="end"}}V=b;z=j==="total"||j==="top"}if(m){X=[];f[0].values.map(function(e,t){var n=0;var i=0;f.map(function(e){var a=e.values[t];a.size=Math.abs(a.y);if(a.y<0){a.y0=i-(b?0:a.size);i-=a.size}else{a.y0=n+(b?a.size:0);n+=a.size}});X[t]={neg:{label:u(i),y:i},pos:{label:u(n),y:n}}})}B.resetDimensions=function(t,i){n=t;a=i;S=t-e.left-e.right;L=i-e.top-e.bottom;te()};if(g){f.forEach(function(e,t){e.values.forEach(function(e,t){e.label=d(e)})})}J=t.merge(f.map(function(e){return e.values}));U=f.length;Y=f[0].values.length;if(g){K=j==="total"?t.merge(X.map(function(e){return[e.neg,e.pos]})):J;q=i.stringSetLengths(K.map(function(e){return e.label}),_,"sc-label-value");W=i.stringSetThickness(["Xy"],_,"sc-label-value")[0];var ee=t.extent(f.map(function(e,t){return e.seriesIndex}));H=ee[0];G=ee[1]}function te(){var e=e||Z(J.map(l).concat(p));var n=b?S:L,i=b?L:S;var a=m?y:y*U+y,o=y*(m?.25:1),c=Math.max(.25,(n-Y*a-o)/(2*a));r.domain(e).range([0,n]).paddingInner(v?.3:.25).paddingOuter(c);var u=u||t.extent(J.map(function(e){var t=e.y0+(b?0:e.y);var n=e.y0+(b?e.y:0);return m?e.y>0?t:n:e.y}).concat(h));var d=b?[i,0]:[0,i];s.domain(u).range(d);if(g){V=b&&t.max(q)+8>ge();$=V||!b}if(z){var f=0,_=i,x=0,w=0;o=b?V?2:-2:2;K.forEach(function(e,t){var n=$?q[t]:W;var i=parseFloat(e.y);var a=s(i);var r=0;if(b&&i>0||!b&&i<0){r=a-n;if(r<f){w=n;f=r}}else{r=a+n;if(r>_){x=n;_=r}}});if(b){s.range([i-(s.domain()[0]<0?x+o+2:0),s.domain()[1]>0?w+o:0])}else{s.range([s.domain()[0]<0?w+o+4:0,i-(s.domain()[1]>0?x+o:0)])}}if(M){s.nice()}F=F||r;N=N||s}te();var ne=_.selectAll("g.sc-wrap.sc-multibar").data([f]);var ie=ne.enter().append("g").attr("class","sc-wrap sc-multibar");var ae=_.select(".sc-wrap.sc-multibar").merge(ie);var re=ie.append("defs");var se=ae.select("defs");ae.attr("transform",i.translation(e.left,e.top));if(w){re.append("clipPath").attr("id","sc-edge-clip-"+o).append("rect");se.select("#sc-edge-clip-"+o+" rect").attr("width",S).attr("height",L)}ae.attr("clip-path",w?"url(#sc-edge-clip-"+o+")":"");if(D){var oe=i.createTexture(re,o)}B.gradientFill=function(e,t,n){var i=o+"-"+t;var a=T(e,t);return A(e,i,n,a,se)};var le=ae.selectAll(".sc-series").data(i.identity);var ce=le.enter().append("g").attr("class",I).style("stroke-opacity",1e-6).style("fill-opacity",1e-6);le.exit().remove();var ue=ae.selectAll(".sc-series").merge(ce);ue.attr("fill",C).attr("class",I).classed("hover",function(e){return e.hover}).classed("sc-active",function(e){return e.active==="active"}).classed("sc-inactive",function(e){return e.active==="inactive"}).style("stroke-opacity",1).style("fill-opacity",1);ue.on("mouseover",function(e,n,i){t.select(this).classed("hover",true)}).on("mouseout",function(e,n,i){t.select(this).classed("hover",false)});var de=ue.selectAll(".sc-bar").data(function(e){return e.values});var fe=de.enter().append("g").attr("class","sc-bar");de.exit().remove();var pe=ue.selectAll(".sc-bar").merge(fe);fe.append("rect").attr("class","sc-base").style("fill","inherit").attr("x",0).attr("y",0);if(D){fe.append("rect").attr("class","sc-texture").attr("x",0).attr("y",0).style("mask","url("+oe+")")}fe.append("rect").attr("class","sc-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("fill","transparent").style("stroke-width",0).style("fill-opacity",0);var he=pe.select(".sc-label-box");fe.append("text").attr("class","sc-label-value");var me=pe.select(".sc-label-value");function _e(e,t){return Math.max(Math.round(Math.abs(s(c(e,t))-s(0))),0)}function ge(){return r.bandwidth()/(m?1:f.length)}function ve(e,t){var n;if(m){n={x:Math.round(r(l(e,t))),y:Math.round(s(e.y0))}}else{n={x:Math.round(e.seri*ge()+r(l(e,t))),y:Math.round(c(e,t)<0?b?s(0):s(c(e,t)):b?s(c(e,t)):s(0))}}return"translate("+n[R]+","+n[P]+")"}function be(e,t){var n=C(e),a=i.getTextContrast(n,t);return a}pe.attr("class",function(e,t){return"sc-bar "+(c(e,t)<0?"negative":"positive")}).classed("sc-active",function(e){return e.active==="active"}).attr("transform",ve).style("display",function(e,t){return _e(e,t)!==0?"inline":"none"});pe.select("rect.sc-base").attr(R,0).attr(k,_e).attr(E,ge);if(D){pe.select("rect.sc-texture").attr(R,0).attr(k,_e).attr(E,ge).style("fill",be)}function ye(e,t){var n=j==="total"?X[t][c(e,t)<0?"neg":"pos"]:e;return d(n)}function xe(e,t){var n=this.getBoundingClientRect();var i=Math.floor(n.width);var a=Math.floor(n.height);e.labelWidth=e.labelWidth||(V?a:i)+4;e.labelHeight=e.labelHeight||(V?i:a);e.barLength=_e(e,t);e.barThickness=ge()}function we(e,t){var n="middle",i=c(e,t)<0;if($){switch(j){case"start":n=i?"end":"start";break;case"middle":n="middle";break;case"end":n=i?"start":"end";break;case"top":case"total":n=i?"end":"start";break}n=x==="rtl"&&n!=="middle"?n==="start"?"end":"start":n}else{n="middle"}return n}function Se(e,t){var n=0,i=c(e,t)<0?-1:1,a=i<0;var r=(4+$*2)*i;if(b&&!V){n=e.barThickness/2}else{switch(j){case"start":n=e.barLength*(a-V)+r;break;case"middle":n=e.barLength*(V?-1:1)/2;break;case"end":n=e.barLength*(!V-a)-r;break;case"top":case"total":n=e.barLength*(!V-a)+2*i;break}}return n}function Le(e,t){var n=0,i=c(e,t)<0?-1:1,a=i<0;var r=(e.labelHeight/2+(4+V*2)*!z)*i;if($){n=e.barThickness/2}else{switch(j){case"start":n=e.barLength*(1-a)-r;break;case"middle":n=e.barLength/2;break;case"end":n=e.barLength*(0+a)+r;break;case"top":case"total":n=e.barLength*(0+a)-r;break}}return n}function Ee(e,t,n){if(z){return"#000"}var a=C(e),r=i.getTextContrast(a,t);return r}function ke(e,t){if(z){if(j==="total"&e.seriesIndex!==H&&e.seriesIndex!==G){return 0}return 1}else{var n=e.barLength<($?e.labelWidth:e.labelHeight)+8;var i=e.barThickness<($?e.labelHeight:e.labelWidth)+4;return n||i?0:1}}function Me(e,t){return Ae(e,t,true)}function Te(e,t){return Ae(e,t,false)}function Ae(e,t,n){var i,a,r,s,o,l,u;i=0;a=c(e,t)>=0;r=4*Q(n)*Q(a);s=n===a?0:1;if(!n^b){i=(e.barThickness-($?e.labelHeight:e.labelWidth))/2}else{l=e.barLength-($?e.labelWidth:e.labelHeight);switch(j){case"start":i=l*(0+s)+r;break;case"middle":i=l/2;break;case"end":i=l*(1-s)-r;break;case"top":case"total":o=V===n?e.labelHeight:e.labelWidth;i=e.barLength*(1-s)-o*(0+s);break}}return i}function Ce(e){return V?e.labelHeight:e.labelWidth}function De(e){return V?e.labelWidth:e.labelHeight}function Re(e,t){return z?"#fff":C(e,t)}if(g){me.text(ye).attr("transform","rotate("+(0-90*V)+")").each(xe);me.attr("dy","0.35em").attr("text-anchor",we).attr("x",Se).attr("y",Le).style("fill",Ee).style("fill-opacity",ke);he.attr("x",Me).attr("y",Te).attr("width",Ce).attr("height",De).style("fill",Re).style("fill-opacity",ke)}else{me.text("").style("fill-opacity",0);pe.select("rect.label-box").style("fill-opacity",0)}function Ie(e,t,n){return{pointIndex:n,point:t,seriesIndex:t.seriesIndex,series:f[t.seri],groupIndex:t.groupIndex,id:o,e:e}}pe.on("mouseover",function(e,n){var i=Ie(t.event,e,n);O.call("elementMouseover",this,i)}).on("mousemove",function(e,n){var i=t.event;O.call("elementMousemove",this,i)}).on("mouseout",function(e,n){var i=Ie(t.event,e,n);O.call("elementMouseout",this,i)}).on("click",function(e,n){t.event.stopPropagation();var i=Ie(t.event,e,n);O.call("elementClick",this,i)}).on("dblclick",function(e,n){t.event.stopPropagation();var i=Ie(t.event,e,n);O.call("elementDblClick",this,i)});F=r.copy();N=s.copy()});return B}B.dispatch=O;B.color=function(e){if(!arguments.length){return T}T=e;return B};B.fill=function(e){if(!arguments.length){return C}C=e;return B};B.classes=function(e){if(!arguments.length){return I}I=e;return B};B.gradient=function(e){if(!arguments.length){return A}A=e;return B};B.x=function(e){if(!arguments.length){return l}l=e;return B};B.y=function(e){if(!arguments.length){return c}c=e;return B};B.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return B};B.width=function(e){if(!arguments.length){return n}n=e;return B};B.height=function(e){if(!arguments.length){return a}a=e;return B};B.xScale=function(e){if(!arguments.length){return r}r=e;return B};B.yScale=function(e){if(!arguments.length){return s}s=e;return B};B.xDomain=function(e){if(!arguments.length){return E}E=e;return B};B.yDomain=function(e){if(!arguments.length){return k}k=e;return B};B.forceX=function(e){if(!arguments.length){return p}p=e;return B};B.forceY=function(e){if(!arguments.length){return h}h=e;return B};B.stacked=function(e){if(!arguments.length){return m}m=e;return B};B.barColor=function(e){if(!arguments.length){return R}R=i.getColor(e);return B};B.disabled=function(e){if(!arguments.length){return _}_=e;return B};B.id=function(e){if(!arguments.length){return o}o=e;return B};B.delay=function(e){if(!arguments.length){return S}S=e;return B};B.duration=function(e){if(!arguments.length){return L}L=e;return B};B.clipEdge=function(e){if(!arguments.length){return w}w=e;return B};B.showValues=function(e){if(!arguments.length){return g}g=isNaN(parseInt(e,10))?e:parseInt(e,10)&&true||false;return B};B.valueFormat=function(e){if(!arguments.length){return u}u=e;return B};B.withLine=function(e){if(!arguments.length){return v}v=e;return B};B.vertical=function(e){if(!arguments.length){return b}b=e;return B};B.baseDimension=function(e){if(!arguments.length){return y}y=e;return B};B.direction=function(e){if(!arguments.length){return x}x=e;return B};B.textureFill=function(e){if(!arguments.length){return D}D=e;return B};B.nice=function(e){if(!arguments.length){return M}M=e;return B};B.locality=function(e){if(!arguments.length){return f}f=i.buildLocality(e);return B};return B}function p(){var e={top:0,right:0,bottom:0,left:0},n=500,a=500,r=Math.floor(Math.random()*1e4),s=function(e){return(e.series||e).key},o=function(e,t){return(e.series||e).value},l=function(e,t){return(e.series||e).count},c=function(e){return s(e)},u=function(e){return o(e)},d=function(e){return!isNaN(l(e))?" ("+l(e)+")":""},f=i.buildLocality(),p="ltr",h=0,m=0,_=function(e,t){return i.defaultColor()(e.series,e.seriesIndex)},g=i.colorRadialGradient,v=_,b=false,y=function(e,t){return"sc-series sc-series-"+e.seriesIndex};var x=true,w=true,S=true,L=true,E=.01,k=false,M=false,T=false,A=20,C=5,D=360,R=0,I=.447,O=75,F=250,N=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var B=function(e,t){var n=e.selectAll(".sc-hole-container").data(t),i=n.enter().append("g").attr("class","sc-hole-container");i.append("text").text(t).attr("class","sc-pie-hole-value").attr("dy",".35em").attr("text-anchor","middle").style("font-size","50px");n.exit().remove()};var P=function(e){return e.startAngle*D/360+i.angleToRadians(R)};var U=function(e){return e.endAngle*(D/360)+i.angleToRadians(R)};var Y=function(e){return null};var H=t.pie().sort(null).value(o);function G(s){s.each(function(s){var u=n-e.left-e.right,d=a-e.top-e.bottom,f=t.select(this);var h=[],m=x&&S?true:false;if(m){h=i.stringSetLengths(s.map(c),f,"sc-label")}var D=f.selectAll("g.sc-wrap").data([s]);var R=D.enter().append("g").attr("class","sc-wrap sc-pie");var V=f.select(".sc-wrap.sc-pie").merge(R);var $=R.append("defs");var j=V.select("defs");R.append("g").attr("class","sc-group");var z=V.select(".sc-group");R.append("g").attr("class","sc-hole-wrap");var q=V.select(".sc-hole-wrap");V.attr("transform",i.translation(e.left,e.top));if(b){var W=i.createTexture($,r,-u/2,-d/2)}G.gradientFill=function(e,t){var n=r+"-"+t;var i={x:0,y:0,r:fe,s:k?I*100+"%":"0%",u:"userSpaceOnUse"};var a=_(e,t);return g(e,n,i,a,j)};var K=z.selectAll(".sc-series").data(H);var J=K.enter().append("g").attr("class","sc-series");K.exit().remove();var X=z.selectAll(".sc-series").merge(J);J.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(e,n,i){t.select(this).classed("hover",true)}).on("mouseout",function(e,n,i){t.select(this).classed("hover",false)});X.attr("class",function(e){return y(e.data,e.data.seriesIndex)}).attr("fill",function(e){return v(e.data,e.data.seriesIndex)}).classed("sc-active",function(e){return e.data.active==="active"}).classed("sc-inactive",function(e){return e.data.active==="inactive"});var Q=X.selectAll("g.sc-slice").data(function(e,t){return e.data.values.map(function(n,i){n.endAngle=e.endAngle;n.padAngle=e.padAngle;n.startAngle=e.startAngle;n.index=t;return n})},function(e){return e.seriesIndex});Q.exit().remove();var Z=Q.enter().append("g").attr("class","sc-slice");var ee=X.selectAll("g.sc-slice").merge(Z);Z.append("path").attr("class","sc-base").each(function(e,t){this._current=e});if(b){Z.append("path").attr("class","sc-texture").each(function(e,t){this._current=e}).style("mask","url("+W+")")}Z.on("mouseover",function(e,n){t.select(this).classed("hover",true);var i=be(t.event,e,n);N.call("elementMouseover",this,i)}).on("mousemove",function(e,n){var i=t.event;N.call("elementMousemove",this,i)}).on("mouseout",function(e,n){t.select(this).classed("hover",false);N.call("elementMouseout",this)}).on("click",function(e,n){t.event.stopPropagation();var i=be(t.event,e,n);N.call("elementClick",this,i)}).on("dblclick",function(e,n){t.event.stopPropagation();var i=be(t.event,e,n);N.call("elementDblClick",this,i)});Z.append("g").attr("class","sc-label").attr("transform","translate(0,0)");Z.select(".sc-label").append("rect").style("fill-opacity",0).style("stroke-opacity",0);Z.select(".sc-label").append("text").style("fill-opacity",0);Z.append("polyline").attr("class","sc-label-leader").style("stroke-opacity",0);var te=u/2,ne=d/2,ie=[],ae=[],re=0,se=m?5:0,oe=A+C,le=0;ee.select(".sc-base").call(ye,te,ne);q.call(B,M?[M]:[]);if(M){le=we();if(le>0){se+=le;re-=le/2}}var ce=u/2;var ue=d/2;if(m){A=Math.max(Math.min(Math.min(xe())/12,20),10)}if(Y(G)){O=Y(G);F=Y(G)}var de=Math.min(Math.max(xe(),O),F);var fe=de-(m?A:0);var pe=(t.max(ae)-t.min(ae))/2+t.min(ae);var he=(de+re)/ue;ue+=pe*he+re/2;var me=(t.max(ie)-t.min(ie))/2-t.max(ie);var _e=de/ce;ce+=me*_e;z.attr("transform","translate("+ce+","+ue+")");q.attr("transform","translate("+ce+","+ue+")");z.select(W).attr("x",-fe/2).attr("y",-fe/2);var ge=t.arc().innerRadius(k?fe*I:0).outerRadius(fe).startAngle(P).endAngle(U);var ve=t.arc().innerRadius(0).outerRadius(fe).startAngle(P).endAngle(U);if(S){if(!k||L){ve.innerRadius(de).outerRadius(de)}else{ve.outerRadius(fe*I)}}ee.select(".sc-base").attr("d",ge).style("stroke-opacity",function(e){return P(e)===U(e)?0:1});if(b){ee.select(".sc-texture").attr("d",ge).style("stroke-opacity",function(e){return P(e)===U(e)?0:1}).style("fill",function(e,n){var a=t.select(this.parentNode).style("fill");return i.getTextContrast(a,n)})}if(x){ee.select(".sc-label").attr("transform",function(e){if(T){e.outerRadius=fe+10;e.innerRadius=fe+15;var t=(P(e)+U(e))/2*(180/Math.PI);t+=90*Le(e,ve);return"translate("+ve.centroid(e)+") rotate("+t+")"}else{var n=ve.centroid(e),i=w?(A+C)*Le(e,ve):0;return"translate("+[n[0]+i,n[1]]+")"}});ee.select(".sc-label text").text(c).attr("dy",".35em").style("fill","#555").style("fill-opacity",Se).style("text-anchor",function(e){if(!S){return"middle"}var t=Le(e,ve)===1?"start":"end";if(p==="rtl"){t=t==="start"?"end":"start"}return t});ee.each(function(e,n){var a,r,s,o,l,d;if(h[n]>O||de===O){a=(P(e)+U(e))/2;r=Math.abs(Math.sin(a));s=h[e.index];o=de*r+A+C+s;l=u/2-ce+u/2-o;if(l<0){d=i.stringEllipsify(c(e),f,s+l);t.select(this).select("text").text(d)}}});if(!S){ee.select(".sc-label").each(function(e){if(!Se(e)){return}var n=t.select(this),i=n.select("text").node().getBoundingClientRect();n.select("rect").attr("rx",3).attr("ry",3).attr("width",i.width+10).attr("height",i.height+10).attr("transform",function(){return"translate("+[i.x-5,i.y-5]+")"}).style("fill","#FFF").style("fill-opacity",Se)})}else if(w){ee.select(".sc-label-leader").attr("points",function(e){if(!Se(e)){return"0,0 0,0"}var n=t.arc().innerRadius(fe).outerRadius(fe).startAngle(P).endAngle(U);var i=w?A*Le(e,n):0,a=n.centroid(e),r=ve.centroid(e),s=[r[0]+i,r[1]];return a+" "+r+" "+s}).style("stroke","#AAA").style("fill","none").style("stroke-opacity",Se)}}else{ee.select(".sc-label-leader").style("stroke-opacity",0);ee.select(".sc-label rect").style("fill-opacity",0);ee.select(".sc-label text").style("fill-opacity",0)}function be(e,t,n){return{id:r,key:c(t),value:o(t),count:l(t),data:t,series:t.series,seriesIndex:t.series.seriesIndex,e:e}}function ye(e,n,i){var a=[],r=[],s=2*Math.PI,o=0,l=Math.PI/2,c=Math.PI,f=3*Math.PI/2,p=0;function h(e){return(e+p)%s}e.each(function(e,t){var u=P(e)===0?0:(P(e)+s)%s,d=U(e)===0?0:(U(e)+s)%s;var m=Math.round(Math.sin(u)*1e4)/1e4,_=Math.round(Math.sin(d)*1e4)/1e4,g=Math.round(Math.cos(u)*1e4)/1e4,v=Math.round(Math.cos(d)*1e4)/1e4;p=d<u?s-u:0;if(d===u){u=0;d=s}else{u=h(u);d=h(d)}o=h(o);l=h(l);c=h(c);f=h(f);if(u%s===0||d%s===0){r.push(i);if(k){r.push(i*I)}}if(u<=l&&d>=l){a.push(n);if(k){a.push(n*I)}}if(u<=c&&d>=c){r.push(-i);if(k){r.push(-i*I)}}if(u<=f&&d>=f){a.push(-n);if(k){a.push(-n*I)}}a.push(n*m);a.push(n*_);if(k){a.push(n*I*m);a.push(n*I*_)}else{a.push(0)}r.push(i*g);r.push(i*v);if(k){r.push(i*I*g);r.push(i*I*v)}else{r.push(0)}});ie=t.extent(a);ae=t.extent(r);te*=u/(t.max(ie)-t.min(ie));ne*=d/(t.max(ae)-t.min(ae))}function xe(){var e=[te],n=[ne+A];X.select(".sc-base").each(function(t,i){if(!Se(t)){return}var a=(P(t)+U(t))/2,r=Math.sin(a),s=Math.cos(a),o=te-oe-h[i],l=ne-se,c=r?o/r:o,u=s?l/s:l;e.push(c);n.push(u)});var i=t.min(e.concat(n).concat([]),function(e){return Math.abs(e)});return i}function we(){var e=q.node().getBoundingClientRect().height*.3;var n=Math.abs(ne*t.min(ae));var i=Math.round(e-n);return i}function Se(e){var t=(U(e)-P(e))/(2*Math.PI);return t>E?1:0}function Le(e,t){var n=Math.PI*2,i=((P(e)+U(e))/2+n)%n;return i>0&&i<Math.PI?1:-1}function Ee(e){if(!k){e.innerRadius=0}var n=t.interpolate(this._current,e);this._current=n(0);return function(e){var t=n(e);return ge(t)}}function ke(e){e.innerRadius=0;var n=t.interpolate({startAngle:0,endAngle:0},e);return function(e){return ge(n(e))}}});return G}G.dispatch=N;G.id=function(e){if(!arguments.length){return r}r=e;return G};G.color=function(e){if(!arguments.length){return _}_=e;return G};G.fill=function(e){if(!arguments.length){return v}v=e;return G};G.classes=function(e){if(!arguments.length){return y}y=e;return G};G.gradient=function(e){if(!arguments.length){return g}g=e;return G};G.margin=function(t){if(!arguments.length){return e}e.top=typeof t.top!="undefined"?t.top:e.top;e.right=typeof t.right!="undefined"?t.right:e.right;e.bottom=typeof t.bottom!="undefined"?t.bottom:e.bottom;e.left=typeof t.left!="undefined"?t.left:e.left;return G};G.width=function(e){if(!arguments.length){return n}n=e;return G};G.height=function(e){if(!arguments.length){return a}a=e;return G};G.getKey=function(e){if(!arguments.length){return s}s=e;return G};G.getValue=function(e){if(!arguments.length){return o}o=e;return G};G.getCount=function(e){if(!arguments.length){return l}l=e;return G};G.fmtKey=function(e){if(!arguments.length){return c}c=e;return G};G.fmtValue=function(e){if(!arguments.length){return u}u=e;return G};G.fmtCount=function(e){if(!arguments.length){return d}d=e;return G};G.direction=function(e){if(!arguments.length){return p}p=e;return G};G.delay=function(e){if(!arguments.length){return h}h=e;return G};G.duration=function(e){if(!arguments.length){return m}m=e;return G};G.locality=function(e){if(!arguments.length){return f}f=i.buildLocality(e);return G};G.textureFill=function(e){if(!arguments.length){return b}b=e;return G};G.showLabels=function(e){if(!arguments.length){return x}x=e;return G};G.labelSunbeamLayout=function(e){if(!arguments.length){return T}T=e;return G};G.donutLabelsOutside=function(e){if(!arguments.length){return L}L=e;return G};G.pieLabelsOutside=function(e){if(!arguments.length){return S}S=e;return G};G.showLeaders=function(e){if(!arguments.length){return w}w=e;return G};G.donut=function(e){if(!arguments.length){return k}k=e;return G};G.hole=function(e){if(!arguments.length){return M}M=e;return G};G.holeFormat=function(e){if(!arguments.length){return B}B=i.functor(e);return G};G.donutRatio=function(e){if(!arguments.length){return I}I=e;return G};G.startAngle=function(e){if(!arguments.length){return P}P=e;return G};G.endAngle=function(e){if(!arguments.length){return U}U=e;return G};G.labelThreshold=function(e){if(!arguments.length){return E}E=e;return G};G.arcDegrees=function(e){if(!arguments.length){return D}D=Math.max(Math.min(e,360),1);return G};G.rotateDegrees=function(e){if(!arguments.length){return R}R=e%360;return G};G.minRadius=function(e){if(!arguments.length){return O}O=e;return G};G.maxRadius=function(e){if(!arguments.length){return F}F=e;return G};G.fixedRadius=function(e){if(!arguments.length){return Y}Y=i.functor(e);return G};return G}function h(){var e,n={},a,r,s,o,l,c,u;function d(i,f,p,h){var m=i.select("defs");var _=f.select("defs");var g=p.select(".sc-axis-wrap.sc-axis-x");var v=p.select(".sc-bars-wrap");var b,y,x,w;var S=0;E();M();C();R();F();d.render=function(){L();k();T();I();N()};d.resize=function(e,t){var i;var o,l;var f,p;var m,_;S=e;c=t;d.render();if(!u){return}i=h.labelThickness()+h.tickPadding()/2;o=a?n.left:i;l=n.top;f=r+(a?0:n[h.orient()]-i);p=s+(a?n[h.orient()]-i:0);m=a?"height":"width";_=a?p:f;A(r,s);D(o,l,f,p);O(o,l,r,s,m,_);B(o,l,m,_)};d.pan=function(e){var n=t.event;var i;var r=0;var s=0;var o=0;var l="";if(!n||n.type!=="click"&&n.type!=="zoom"){return 0}i=n.sourceEvent;if(n.type==="zoom"&&i){if(i.type==="wheel"){r=-i.deltaX;s=-i.deltaY;o=S+(Math.abs(r)>Math.abs(s)?r:s)}else if(i.type==="mousemove"){r=i.movementX;s=i.movementY;o=S+(Math.abs(r)>Math.abs(s)?r:s)}else if(i.type==="touchmove"){r=n.transform.x;s=n.transform.y;o=Math.abs(r)>Math.abs(s)?r:s}}S=Math.min(Math.max(o,e),-1);l="translate("+(a?S+",0":"0,"+S)+")";if(o>0||o<e){c(Math.abs(s)>Math.abs(r)?s:0)}w.attr("transform",l);v.attr("transform",l);g.select(".sc-wrap.sc-axis").attr("transform",l);return S};function L(){if(u){var e=t.zoom().on("zoom",l);p.call(e);y.call(e)}else{p.on("zoom",null);y.on("zoom",null)}}function E(){_.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-back-gradient-prev-"+e);var t=_.select("#sc-back-gradient-prev-"+e);_.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-back-gradient-more-"+e);var n=_.select("#sc-back-gradient-more-"+e);t.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",0);t.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1);n.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0);n.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",1);_.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-fore-gradient-prev-"+e);var i=_.select("#sc-fore-gradient-prev-"+e);_.append("linearGradient").attr("class","sc-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0).attr("id","sc-fore-gradient-more-"+e);var a=_.select("#sc-fore-gradient-more-"+e);i.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",0);i.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1);a.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0);a.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",1);m.selectAll(".sc-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0)}function k(){m.selectAll(".sc-scroll-gradient").attr("x2",a?1:0).attr("y2",a?0:1)}function M(){_.append("clipPath").attr("class","sc-scroll-mask").attr("id","sc-edge-clip-"+e).append("rect");b=m.select(".sc-scroll-mask rect")}function T(){p.attr("clip-path",u?"url(#sc-edge-clip-"+e+")":"")}function A(e,t){b.attr("x",a?2:-n.left).attr("y",a?0:2).attr("width",e+(a?-2:n.left)).attr("height",t+(a?n.bottom:-2))}function C(){f.select(".sc-background-wrap").append("rect").attr("class","sc-scroll-target").attr("fill","transparent");y=i.select(".sc-scroll-target")}function D(e,t,n,i){y.attr("x",e).attr("y",t).attr("width",n).attr("height",i)}function R(){var e=f.select(".sc-background-wrap").append("g").attr("class","sc-back-shadow-wrap");e.append("rect").attr("class","sc-back-shadow-prev");e.append("rect").attr("class","sc-back-shadow-more");x=i.select(".sc-back-shadow-wrap")}function I(){var t=a?"width":"height";x.select("rect.sc-back-shadow-prev").attr("fill",u?"url(#sc-back-gradient-prev-"+e+")":"transparent").attr(t,7);x.select("rect.sc-back-shadow-more").attr("fill",u?"url(#sc-back-gradient-more-"+e+")":"transparent").attr(t,7)}function O(e,t,n,i,r,s){x.select(".sc-back-shadow-prev").attr("x",e).attr("y",t).attr(r,s);x.select(".sc-back-shadow-more").attr("x",e+(a?n-5:1)).attr("y",t+(a?0:i-6)).attr(r,s)}function F(){var e=f.select(".sc-background-wrap").insert("g").attr("class","sc-fore-shadow-wrap");e.append("rect").attr("class","sc-fore-shadow-prev");e.append("rect").attr("class","sc-fore-shadow-more");w=i.select(".sc-fore-shadow-wrap")}function N(){var t=a?"width":"height";w.select(".sc-fore-shadow-prev").attr("fill",u?"url(#sc-fore-gradient-prev-"+e+")":"transparent").attr(t,20);w.select(".sc-fore-shadow-more").attr("fill",u?"url(#sc-fore-gradient-more-"+e+")":"transparent").attr(t,20)}function B(e,t,n,i){w.select(".sc-fore-shadow-prev").attr("x",e+(a?1:0)).attr("y",t+(a?0:1)).attr(n,i);w.select(".sc-fore-shadow-more").attr("x",e+(a?o-17:0)).attr("y",t+(a?0:o-19)).attr(n,i)}return d}d.id=function(t){if(!arguments.length){return e}e=t;return d};d.margin=function(e){if(!arguments.length){return n}n.top=typeof e.top!="undefined"?e.top:n.top;n.right=typeof e.right!="undefined"?e.right:n.right;n.bottom=typeof e.bottom!="undefined"?e.bottom:n.bottom;n.left=typeof e.left!="undefined"?e.left:n.left;return d};d.width=function(e){if(!arguments.length){return r}r=e;return d};d.height=function(e){if(!arguments.length){return s}s=e;return d};d.vertical=function(e){if(!arguments.length){return a}a=e;return d};d.minDimension=function(e){if(!arguments.length){return o}o=e;return d};d.panHandler=function(e){if(!arguments.length){return l}l=i.functor(e);return d};d.enable=function(e){if(!arguments.length){return u}u=e;return d};return d}var m={axis:r,funnel:s,gauge:o,headers:c,line:d,menu:l,multibar:f,pie:p,scatter:u,scroller:h};function _(){var e={top:10,right:10,bottom:10,left:10},n=null,s=null,o="ltr",l=0,d=0,f=true,p={},h={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"};var m=t.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var _=function(e){return e.x},g=function(e){return e.y},v=[0];var b=function(e){return e.y},y=function(e){return e.y};var x=function(e,t,n,a,r){var s=n||e;if(a){r=!r||r.indexOf("%")!==0?"MM":r;return i.dateFormat(s,r,D.locality())}else{return s}};var w=function(e,t,n,a,r){r=isNaN(r)?2:r;return i.numberFormatSI(n,r,a,D.locality())};var S=function(e,t){var n=e.series.key;var i=e.point.x;var a=e.point.y;return"<h3>"+n+"</h3>"+"<p>"+a+" on "+i+"</p>"};var L=function(e,t,n,i){return};var E=u();var k=c();var M=r();var T=r();var A=null;var C=function(e,t,n){var i=S(e,n);var r=e.value<0?"n":"s";return a.show(e.e,i,r,null,t)};E.padData(true).padDataOuter(-1).size(function(e){return e.y}).sizeRange([256,1024]).singlePoint(true);k.showTitle(true).showControls(false).showLegend(true).alignLegend("center");function D(r){r.each(function(r){var o=this,l=t.select(this),c="bubble";var u=r?r.properties||{}:{},S=r?r.data||[]:[];var R=parseInt(l.style("width"),10),I=parseInt(l.style("height"),10);var O=n,F=s;var N=u.xDataType==="datetime"||false,B=u.yDataType==="currency"||false;var P,U,Y,H,G,V;var $=function(e,t,n,i){return x(e,t,e,N,"%B")};var j=function(e,t,n,a){var r=G&&Array.isArray(G)?G[t].key||e:e;var s=Math.max(O*.2,75);return isNaN(r)?i.stringEllipsify(r,l,s):w(e,t,r,B)};var z=[];D.update=function(){l.transition().duration(d).call(D)};D.container=this;function q(t){var n=t&&t.length;var a=(R-e.left-e.right)/2+e.left;var r=(I-e.top-e.bottom)/2+e.top;return i.displayNoData(n,l,h.noData,a,r)}if(q(S)){return D}function W(e){var n=t.extent(t.merge(e.map(function(e){return e.values.map(function(e,n){return t.timeParse("%Y-%m-%d")(_(e))})})));var i=[t.timeMonth.floor(n[0]),t.timeDay.offset(t.timeMonth.ceil(n[1]),-1)];return i}function K(e){function n(e){return 32-new Date(e.getFullYear(),e.getMonth(),32).getDate()}var i=t.timeMonth.range(e[0],e[1]);var a=i.map(function(e){return t.timeDay.offset(t.timeMonth.floor(e),n(e)/2-1)});return a}function J(e){var n=t.nest().key(b).entries(e);var i=1e3/n.length,a=V,r=[0,1],s=[0,1],o=t.scaleLinear().domain(r).range(s),l=[],c=0;n.map(function(e,t){e.total=0;e.values=e.values.sort(function(e,t){return t.y<e.y?-1:t.y>e.y?1:0}).map(function(t){e.total+=t.y;return t});e.group=t;return e}).sort(function(e,t){return e.total<t.total?-1:e.total>t.total?1:0}).map(function(e,n){c+=e.total;r=t.extent(e.values.map(function(e){return e.y}));s=[i*n+a,i*(n+1)-a];o.domain(r).range(s);e.values=e.values.map(function(t){t.group=e.group;t.opportunity=t.y;t.y=o(t.opportunity);return t});l.push({key:e.key,y:t.min(e.values.map(function(e){return e.y}))});return e});return l}p.disabled=S.map(function(e){return!!e.disabled});U=t.nest().key(y).entries(S);P=U.sort(function(e,t){return parseInt(e.key,10)<parseInt(t.key,10)?-1:parseInt(e.key,10)>parseInt(t.key,10)?1:0}).map(function(e,t){e.seriesIndex=t;e.classes=e.values[0].classes;e.color=e.values[0].color;return e});V=Math.sqrt(E.sizeRange()[1]/Math.PI);k.chart(D).title(u.title).controlsData(z).legendData(P);k.legend.key(function(e){return e.key+"%"});Y=W(P);G=J(S);H=t.extent(t.merge(P.map(function(e){return e.values.map(function(e,t){return g(e,t)})})).concat(v));M.orient("bottom").scale(E.xScale()).valueFormat($).ticks(t.timeMonths,1).tickValues(K(Y)).tickSize(0).tickPadding(4).highlightZero(false).showMaxMin(false);T.orient("left").scale(E.yScale()).valueFormat(j).ticks(G.length).tickValues(G.map(function(e,t){return G[t].y})).tickPadding(7).highlightZero(false).showMaxMin(false);var X=l.selectAll("g.sc-chart-wrap").data([P]);var Q=X.enter().append("g").attr("class","sc-chart-wrap sc-chart-"+c);var Z=l.select(".sc-chart-wrap").merge(Q);Q.append("defs");Q.append("g").attr("class","sc-background-wrap");var ee=Z.select(".sc-background-wrap");Q.append("g").attr("class","sc-title-wrap");Q.append("g").attr("class","sc-axis-wrap sc-axis-x");var te=Z.select(".sc-axis-wrap.sc-axis-x");Q.append("g").attr("class","sc-axis-wrap sc-axis-y");var ne=Z.select(".sc-axis-wrap.sc-axis-y");Q.append("g").attr("class","sc-"+c+"-wrap");var ie=Z.select(".sc-"+c+"-wrap");Q.append("g").attr("class","sc-controls-wrap");Q.append("g").attr("class","sc-legend-wrap");Z.attr("transform",i.translation(e.left,e.top));Q.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-e.left).attr("y",-e.top).attr("fill","#FFF");D.render=function(){var t,a,r,o,c,u;var f=0,p=0;R=parseInt(l.style("width"),10);I=parseInt(l.style("height"),10);t=n||R||960;a=s||I||400;O=t-e.left-e.right;F=a-e.top-e.bottom;r={top:0,right:0,bottom:0,left:0};o=O-r.left-r.right;c=F-r.top-r.bottom;ee.select(".sc-background").attr("width",t).attr("height",a);k.width(O).height(F);l.call(k);u=k.getHeight();r.top+=u;r.top+=V;c=F-r.top-r.bottom;E.width(o).height(c).id(D.id()).xDomain(Y).yDomain(H);ie.datum(P.filter(function(e){return!e.disabled})).transition().duration(d).call(E);var h={top:0,right:0,bottom:0,left:0},m={top:0,right:0,bottom:0,left:0};function _(){r.left=Math.max(m.left,h.left);r.right=Math.max(m.right,h.right);r.top=Math.max(m.top,h.top)+u;r.bottom=Math.max(m.bottom,h.bottom)}function g(){o=O-r.left-r.right;c=F-r.top-r.bottom;E.resetDimensions(o,c)}T.margin(r);ne.call(T);h=T.margin();_();g();M.tickSize(0).margin(r);te.call(M);m=M.margin();_();g();T.tickSize(-o,0).margin(r);ne.call(T);ne.select("path.domain").attr("d","M0,0V0.5H0V"+c);ie.transition().duration(D.delay()).call(E);f=r.left;p=r.top+(M.orient()==="bottom"?c:0);te.attr("transform",i.translation(f,p));f=r.left+(T.orient()==="left"?0:o);p=r.top;ne.attr("transform",i.translation(f,p));ie.attr("transform",i.translation(r.left,r.top))};D.render();k.legend.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;if(!P.filter(function(e){return!e.disabled}).length){P.forEach(function(e){e.disabled=false;l.selectAll(".sc-series").classed("disabled",false)})}p.disabled=P.map(function(e){return!!e.disabled});m.call("stateChange",this,p);D.update()});m.on("tooltipShow",function(e){if(f){A=C(e,o.parentNode,u)}});m.on("tooltipMove",function(e){if(A){a.position(o.parentNode,A,e,"s")}});m.on("tooltipHide",function(){if(f){a.cleanup()}});m.on("changeState",function(e){if(typeof e.disabled!=="undefined"){S.forEach(function(t,n){t.disabled=e.disabled[n]});p.disabled=e.disabled}D.update()});m.on("chartClick",function(){m.call("tooltipHide",this);if(k.controls.enabled()){k.controls.dispatch.call("closeMenu",this)}if(k.legend.enabled()){k.legend.dispatch.call("closeMenu",this)}});E.dispatch.on("elementClick",function(e){m.call("chartClick",this);L(S,e,D)});l.on("click",function(){t.event.stopPropagation();m.call("chartClick",this)})});return D}E.dispatch.on("elementMouseover.tooltip",function(e){m.call("tooltipShow",this,e)});E.dispatch.on("elementMousemove.tooltip",function(e){m.call("tooltipMove",this,e)});E.dispatch.on("elementMouseout.tooltip",function(){m.call("tooltipHide",this)});D.dispatch=m;D.scatter=E;D.legend=k.legend;D.controls=k.controls;D.xAxis=M;D.xAxisLabel=M.axisLabel;D.yAxis=T;D.yAxisLabel=T.axisLabel;D.options=i.optionsFunc.bind(D);i.rebind(D,E,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality");i.rebind(D,E,"size","zScale","sizeDomain","forceSize","interactive","clipVoronoi","clipRadius");i.rebind(D,k,"showTitle","showControls","showLegend");i.rebind(D,M,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");D.colorData=function(e){var n=arguments[0],a=arguments[1]||{};var r=function(e){return i.defaultColor()(e,e.seriesIndex)};var s=function(e){return"sc-series sc-series-"+e.seriesIndex};switch(n){case"graduated":r=function(e){return t.interpolateHsl(t.rgb(a.c1),t.rgb(a.c2))(e.seriesIndex/a.l)};break;case"class":r=function(){return"inherit"};s=function(e){var t=e.seriesIndex;var n=t*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+t+" sc-fill"+n+" sc-stroke"+n};break;case"data":r=function(e){return e.classes?"inherit":e.color||i.defaultColor()(e,e.seriesIndex)};s=function(e){var t=e.seriesIndex;return"sc-series sc-series-"+t+(e.classes?" "+e.classes:"")};break}var o=!a.gradient?r:function(e,t){return E.gradientFill(e,e.seriesIndex)};E.color(r);E.fill(o);E.classes(s);k.legend.color(r);k.legend.classes(s);return D};D.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return D};D.width=function(e){if(!arguments.length){return n}n=e;return D};D.height=function(e){if(!arguments.length){return s}s=e;return D};D.tooltips=function(e){if(!arguments.length){return f}f=e;return D};D.tooltipContent=function(e){if(!arguments.length){return S}S=e;return D};D.state=function(e){if(!arguments.length){return p}p=e;m.call("stateChange",this,p);return D};D.strings=function(e){if(!arguments.length){return h}for(var t in e){if(e.hasOwnProperty(t)){h[t]=e[t]}}k.strings(h);return D};D.direction=function(e){if(!arguments.length){return o}o=e;E.direction(e);M.direction(e);T.direction(e);k.direction(e);return D};D.duration=function(e){if(!arguments.length){return d}d=e;E.duration(e);return D};D.delay=function(e){if(!arguments.length){return l}l=e;E.delay(e);return D};D.xValueFormat=function(e){if(!arguments.length){return x}x=e;return D};D.yValueFormat=function(e){if(!arguments.length){return w}w=e;return D};D.seriesClick=function(e){if(!arguments.length){return L}L=e;return D};D.groupBy=function(e){if(!arguments.length){return b}b=e;return D};D.filterBy=function(e){if(!arguments.length){return y}y=e;return D};return D}function g(){var e={top:10,right:10,bottom:10,left:10},n=null,r=null,o="ltr",l=0,u=0,d=true,f={},p=true,h={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"};var m=t.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var _=s();var g=c();var v=[];var b=null;var y=function(e,t){var n=_.fmtKey()(e);var a=t.seriesLabel||"Key";var r=_.getValue()(e);var s=t.total?(r*100/t.total).toFixed(1):100;var o=t.yDataType==="currency";var l=i.numberFormat(r,2,o,S.locality());var c=i.numberFormat(s,2,false,S.locality());return"<p>"+a+": <b>"+n+"</b></p>"+"<p>"+(o?"Amount":"Count")+": <b>"+l+"</b></p>"+"<p>Percent: <b>"+c+"%</b></p>"};var x=function(e,t,n){var i=y(e,n);return a.show(e.e,i,null,null,t)};var w=function(e,t,n){return};g.showTitle(true).showControls(false).showLegend(true).alignLegend("center");function S(s){s.each(function(s){var o=this,l=t.select(this),c="funnel";var y=s?s.properties||{}:{},L=s?s.data||null:null;var E=parseInt(l.style("width"),10),k=parseInt(l.style("height"),10);var M=y.xDataType==="datetime"||false,T=y.yDataType==="currency"||false;S.update=function(){l.transition().duration(u).call(S)};S.container=this;function A(t){var n=t&&t.length;var a=(E-e.left-e.right)/2+e.left;var r=(k-e.top-e.bottom)/2+e.top;return i.displayNoData(n,l,h.noData,a,r)}if(A(L)){return S}S.setActiveState=function(e,t){e.active=t};S.clearActive=function(e){L.forEach(function(t){S.setActiveState(t,e||"")});delete f.active};S.seriesActivate=function(e){var t=e.series||L[e.seriesIndex];var n;if(!t){return}if(p){n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"";S.clearActive(n==="active"?"inactive":"");S.setActiveState(t,n);f.active=L.map(function(e){return e.active==="active"})}else{S.dataSeriesActivate({series:t})}};S.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";if(t.active==="active"){L.filter(function(e){return e.active!=="active"}).forEach(function(e){e.active="inactive";return e})}if(!L.filter(function(e){return e.active==="active"}).length){S.clearActive()}};L.forEach(function(e,n){e.seriesIndex=n;if(!e.values){if(!e.value){e.values=[]}else if(!isNaN(e.value)){e.values=[{x:0,y:parseInt(e.value,10)}]}}e.values.forEach(function(t,n){t.index=n;t.series=e;if(typeof t.value=="undefined"){t.value=t.y}});e.key=e.key||h.noLabel;e.value=e.value||t.sum(e.values,function(e){return e.value});e.count=e.count||e.values.length;e.disabled=e.disabled||e.value===0});var C=L.filter(function(e){return!e.disabled});if(!C.length){C=[{values:[]}]}y.count=t.sum(C,function(e){return e.count});y.total=t.sum(C,function(e){return e.value});f.disabled=L.map(function(e){return!!e.disabled});if(!y.total){A();return S}g.chart(S).title(y.title).controlsData(v).legendData(L);var D=l.selectAll("g.sc-chart-wrap").data([C]);var R=D.enter().append("g").attr("class","sc-chart-wrap sc-chart-"+c);var I=l.select(".sc-chart-wrap").merge(R);R.append("defs");var O=I.select("defs");R.append("g").attr("class","sc-background-wrap");var F=I.select(".sc-background-wrap");R.append("g").attr("class","sc-title-wrap");R.append("g").attr("class","sc-"+c+"-wrap");var N=I.select(".sc-"+c+"-wrap");R.append("g").attr("class","sc-controls-wrap");R.append("g").attr("class","sc-legend-wrap");I.attr("transform",i.translation(e.left,e.top));R.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-e.left).attr("y",-e.top).attr("fill","#FFF");S.render=function(){var t,a,s,o,c,d,f,p;E=parseInt(l.style("width"),10);k=parseInt(l.style("height"),10);t=n||E||960;a=r||k||400;s=t-e.left-e.right;o=a-e.top-e.bottom;c={top:0,right:0,bottom:0,left:0};d=s-c.left-c.right;f=o-c.top-c.bottom;F.select(".sc-background").attr("width",t).attr("height",a);g.width(s).height(o);l.call(g);p=g.getHeight();c.top+=p;f=o-c.top-c.bottom;_.width(d).height(f);N.datum(C).attr("transform",i.translation(c.left,c.top)).transition().duration(u).call(_)};S.render();g.legend.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!L.filter(function(e){return!e.disabled}).length){L.forEach(function(e){e.disabled=false})}if(!L.filter(function(e){return e.active==="active"}).length){L.forEach(function(e){e.active=""})}f.disabled=L.map(function(e){return!!e.disabled});m.call("stateChange",this,f);S.update()});m.on("tooltipShow",function(e){if(d){b=x(e,o.parentNode,y)}});m.on("tooltipMove",function(e){if(b){a.position(o.parentNode,b,e)}});m.on("tooltipHide",function(){if(d){a.cleanup()}});m.on("changeState",function(e){if(typeof e.disabled!=="undefined"){C.forEach(function(t,n){t.disabled=e.disabled[n]});f.disabled=e.disabled}S.update()});m.on("chartClick",function(){if(g.controls.enabled()){g.controls.dispatch.call("closeMenu",this)}if(g.legend.enabled()){g.legend.dispatch.call("closeMenu",this)}});_.dispatch.on("elementClick",function(e){m.call("chartClick",this);w(L,e,S)})});return S}_.dispatch.on("elementMouseover.tooltip",function(e){m.call("tooltipShow",this,e)});_.dispatch.on("elementMousemove.tooltip",function(e){m.call("tooltipMove",this,e)});_.dispatch.on("elementMouseout.tooltip",function(){m.call("tooltipHide",this)});S.dispatch=m;S.funnel=_;S.legend=g.legend;S.controls=g.controls;S.options=i.optionsFunc.bind(S);i.rebind(S,_,"id","color","fill","classes","gradient","locality","textureFill");i.rebind(S,_,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount");i.rebind(S,_,"yScale","yDomain","forceY","wrapLabels","minLabelWidth");i.rebind(S,g,"showTitle","showControls","showLegend");S.colorData=function(e){var n=arguments[0],a=arguments[1]||{};var r=function(e,t){return i.defaultColor()(e,e.seriesIndex)};var s=function(e,t){return"sc-series sc-series-"+e.seriesIndex};switch(n){case"graduated":r=function(e,n){return t.interpolateHsl(t.rgb(a.c1),t.rgb(a.c2))(e.seriesIndex/a.l)};break;case"class":r=function(){return"inherit"};s=function(e,t){var n=e.seriesIndex*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+e.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":r=function(e,t){return i.defaultColor()(e,e.seriesIndex)};s=function(e,t){return"sc-series sc-series-"+e.seriesIndex+(e.classes?" "+e.classes:"")};break}var o=!a.gradient?r:function(e,t){var n={orientation:a.orientation||"vertical",position:a.position||"middle"};return _.gradientFill(e,e.seriesIndex,n)};_.color(r);_.fill(o);_.classes(s);g.legend.color(r);g.legend.classes(s);return S};S.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return S};S.width=function(e){if(!arguments.length){return n}n=e;return S};S.height=function(e){if(!arguments.length){return r}r=e;return S};S.tooltips=function(e){if(!arguments.length){return d}d=e;return S};S.tooltipContent=function(e){if(!arguments.length){return y}y=e;return S};S.state=function(e){if(!arguments.length){return f}f=e;m.call("stateChange",this,f);return S};S.strings=function(e){if(!arguments.length){return h}for(var t in e){if(e.hasOwnProperty(t)){h[t]=e[t]}}g.strings(h);return S};S.direction=function(e){if(!arguments.length){return o}o=e;_.direction(e);g.direction(e);return S};S.duration=function(e){if(!arguments.length){return u}u=e;_.duration(e);return S};S.delay=function(e){if(!arguments.length){return l}l=e;_.delay(e);return S};S.seriesClick=function(e){if(!arguments.length){return w}w=e;return S};return S}function v(){var e={top:10,right:10,bottom:10,left:10},n=null,r=null,s="ltr",l=0,u=0,d=true,f={},p={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"};var h=t.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var m=o();var _=c();var g=[];var v=null;var b=function(e,t){var n=m.fmtKey()(e.point.series);var i=m.getCount()(e.point.series);var a=m.getValue()(e.point.y1-e.point.y0);return"<h3>"+n+"</h3>"+"<p>"+a+" on "+i+"</p>"};var y=function(e,t,n){var i=b(e,n);return a.show(e.e,i,null,null,t)};_.showTitle(true).showControls(false).showLegend(true).alignLegend("center");function x(s){s.each(function(s){var o=this,l=t.select(this),c="gauge";var b=s?s.properties||{}:{},w=s?s.data||null:null;var S=parseInt(l.style("width"),10),L=parseInt(l.style("height"),10);var E=b.xDataType==="datetime"||false,k=b.yDataType==="currency"||false;x.update=function(){l.transition().duration(u).call(x)};x.container=this;function M(t){var n=t&&t.length;var a=(S-e.left-e.right)/2+e.left;var r=(L-e.top-e.bottom)/2+e.top;return i.displayNoData(n,l,p.noData,a,r)}if(M(w)){return x}w.forEach(function(e,n){var i=m.y();e.seriesIndex=n;e.value=i(e);if(!e.value&&!e.values){e.values=[]}else if(!isNaN(e.value)){e.values=[{x:0,y:parseInt(e.value,10)}]}e.values.forEach(function(t,n){t.index=n;t.series=e;if(typeof t.value=="undefined"){t.value=i(t)}});e.value=e.value||t.sum(e.values,function(e){return e.value});e.count=e.count||e.values.length;e.disabled=e.disabled||e.value===0});var T=w.filter(function(e,t){return!e.disabled});if(!T.length){T=[{values:[]}]}b.count=t.sum(T,function(e){return e.count});b.total=t.sum(T,function(e){return e.value});f.disabled=w.map(function(e){return!!e.disabled});if(!b.total){M();return x}_.chart(x).title(b.title).controlsData(g).legendData(w);var A=l.selectAll("g.sc-chart-wrap").data([T]);var C=A.enter().append("g").attr("class","sc-chart-wrap sc-chart-"+c);var D=l.select(".sc-chart-wrap").merge(C);C.append("defs");C.append("g").attr("class","sc-background-wrap");var R=D.select(".sc-background-wrap");C.append("g").attr("class","sc-title-wrap");C.append("g").attr("class","sc-"+c+"-wrap");var I=D.select(".sc-"+c+"-wrap");C.append("g").attr("class","sc-controls-wrap");C.append("g").attr("class","sc-legend-wrap");D.attr("transform",i.translation(e.left,e.top));C.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-e.left).attr("y",-e.top).attr("fill","#FFF");x.render=function(){var t,a,s,o,c,d,f,p;S=parseInt(l.style("width"),10);L=parseInt(l.style("height"),10);t=n||S||960;a=r||L||400;s=t-e.left-e.right;o=a-e.top-e.bottom;c={top:0,right:0,bottom:0,left:0};d=s-c.left-c.right;f=o-c.top-c.bottom;R.select(".sc-background").attr("width",t).attr("height",a);_.width(s).height(o);l.call(_);p=_.getHeight();c.top+=p;f=o-c.top-c.bottom;m.width(d).height(f);I.datum(T).attr("transform",i.translation(c.left,c.top)).transition().duration(u).call(m);m.setPointer(b.total)};x.render();h.on("tooltipShow",function(e){if(d){v=y(e,o.parentNode,b)}});h.on("tooltipMove",function(e){if(v){a.position(o.parentNode,v,e)}});h.on("tooltipHide",function(){if(d){a.cleanup()}});h.on("changeState",function(e){if(typeof e.disabled!=="undefined"){T.forEach(function(t,n){t.disabled=e.disabled[n]});f.disabled=e.disabled}x.update()});h.on("chartClick",function(){if(_.controls.enabled()){_.controls.dispatch.call("closeMenu",this)}if(_.legend.enabled()){_.legend.dispatch.call("closeMenu",this)}})});return x}m.dispatch.on("elementMouseover.tooltip",function(e){h.call("tooltipShow",this,e)});m.dispatch.on("elementMousemove.tooltip",function(e){h.call("tooltipMove",this,e)});m.dispatch.on("elementMouseout.tooltip",function(){h.call("tooltipHide",this)});x.dispatch=h;x.gauge=m;x.legend=_.legend;x.controls=_.controls;x.options=i.optionsFunc.bind(x);i.rebind(x,m,"id","x","y","color","fill","classes","gradient","locality");i.rebind(x,m,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount");i.rebind(x,m,"showLabels","showPointer","setPointer","ringWidth","labelThreshold","maxValue","minValue");i.rebind(x,_,"showTitle","showControls","showLegend");x.colorData=function(e){var n=arguments[0],a=arguments[1]||{};var r=function(e,t){return i.defaultColor()(e,e.seriesIndex)};var s=function(e,t){return"sc-series sc-series-"+e.seriesIndex};switch(n){case"graduated":r=function(e,n){return t.interpolateHsl(t.rgb(a.c1),t.rgb(a.c2))(e.seriesIndex/a.l)};break;case"class":r=function(){return"inherit"};s=function(e,t){var n=e.seriesIndex*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+e.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":r=function(e,t){return i.defaultColor()(e,e.seriesIndex)};s=function(e,t){return"sc-series sc-series-"+e.seriesIndex+(e.classes?" "+e.classes:"")};break}var o=!a.gradient?r:function(e,t){return m.gradientFill(e,e.seriesIndex)};m.color(r);m.fill(o);m.classes(s);_.legend.color(r);_.legend.classes(s);return x};x.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return x};x.width=function(e){if(!arguments.length){return n}n=e;return x};x.height=function(e){if(!arguments.length){return r}r=e;return x};x.tooltips=function(e){if(!arguments.length){return d}d=e;return x};x.tooltipContent=function(e){if(!arguments.length){return b}b=e;return x};x.state=function(e){if(!arguments.length){return f}f=e;return x};x.strings=function(e){if(!arguments.length){return p}for(var t in e){if(e.hasOwnProperty(t)){p[t]=e[t]}}_.strings(p);return x};x.direction=function(e){if(!arguments.length){return s}s=e;m.direction(e);_.direction(e);return x};x.duration=function(e){if(!arguments.length){return u}u=e;m.duration(e);return x};x.delay=function(e){if(!arguments.length){return l}l=e;m.delay(e);return x};return x}function b(){var e={top:10,right:10,bottom:10,left:10},n=null,s=null,o="ltr",l=0,u=0,f=true,p={},h={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"};var m=t.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var _=3;var g=function(e,t,n,a,r){var s=n||e;if(a){r=!r||r.indexOf("%")!==0?"%x":r;return i.dateFormat(s,r,M.locality())}else{return s}};var v=function(e,t,n,a,r,s){return i.numberFormatSIFixed(e,r,a,M.locality(),s)};var b=function(e,t){var n=t.seriesLabel||"Key";var a=e.series.key;var r=t.xDataType==="datetime";var s=t.groupName||(r?"Date":"Group");var o=e.group||{};var l=e.point.x;var c=g(l,e.pointIndex,o.label,r,"%x");var u=t.yDataType==="currency";var d=u?"Amount":"Count";var f=e.point.y;var p=i.numberFormat(f,null,u,M.locality());var h;var m="";m+="<p>"+n+": <b>"+a+"</b></p>";m+="<p>"+s+": <b>"+c+"</b></p>";m+="<p>"+d+": <b>"+p+"</b></p>";if(e.group&&i.isNumeric(e.group._height)){h=Math.abs(f*100/e.group._height).toFixed(1);h=i.numberFormat(h,2,false,M.locality());m+="<p>Percentage: <b>"+h+"%</b></p>"}return m};var y=function(e,t,n,i){return};var x=d();var w=c();var S=r();var L=r();var E=null;var k=function(e,t,n){var i=b(e,n);var r=e.value<0?"n":"s";return a.show(e.e,i,r,null,t)};x.clipEdge(true);w.showTitle(true).showControls(true).showLegend(true);function M(r){r.each(function(r){var o=this,l=t.select(this),c="line";var d=r?r.properties||{}:{},b=r?r.data||null:null;var T=parseInt(l.style("width"),10),A=parseInt(l.style("height"),10);var C=n,D=s;var R=d.xDataType==="datetime"||false,I=d.yDataType==="currency"||false;var O=d.groups||d.labels,F=Array.isArray(O)&&O.length>0,N=[],B=0,P=false;var U=[],Y=0,H=0;var G=x.padData()?_:0;var V=false;var $=[{key:"Linear",disabled:x.interpolate()!=="linear"},{key:"Basis",disabled:x.interpolate()!=="basis"},{key:"Monotone",disabled:x.interpolate()!=="monotone"},{key:"Cardinal",disabled:x.interpolate()!=="cardinal"},{key:"Line",disabled:x.isArea()()===true},{key:"Area",disabled:x.isArea()()===false}];M.update=function(){l.transition().duration(u).call(M)};M.setActiveState=function(e,t){e.active=t;e.values.forEach(function(e){e.active=t})};M.clearActive=function(e){b.forEach(function(t){M.setActiveState(t,e||"")});delete p.active};M.cellActivate=function(e){var t=b[e.seriesIndex].values[e.pointIndex];var n;if(!t){return}n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"";M.clearActive();t.active=n};M.seriesActivate=function(e){var t=e.series||b[e.seriesIndex];var n;if(!t){return}n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"";M.clearActive(n==="active"?"inactive":"");M.setActiveState(t,n);p.active=b.map(function(e){return e.active==="active"})};M.dataSeriesActivate=function(e){var t=e.series||b[e.seriesIndex];var n;if(!t){return}n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"inactive";if(n==="active"){M.seriesActivate(e)}else{M.clearActive()}};M.container=this;function j(t){var n=t&&t.length&&t.filter(function(e){return!e.disabled&&Array.isArray(e.values)&&e.values.length}).length;var a=(T-e.left-e.right)/2+e.left;var r=(A-e.top-e.bottom)/2+e.top;return i.displayNoData(n,l,h.noData,a,r)}if(j(b)){return M}b.forEach(function(e,n){e.seriesIndex=n;e.key=e.key||h.noLabel;e.total=t.sum(e.values,function(e,t){e.group=F?e.x-1:t;return e.y});e.disabled=e.disabled||e.total===0});U=b.filter(function(e){return!e.disabled}).map(function(e,t){e.seri=t;return e});Y=U.length;if(j(U)){return M}function z(e){N=e.map(function(e){return e.label});B=N.length;P=B>0}if(F){O.forEach(function(e,t){var n=typeof e.label==="undefined"||e.label===""?h.noLabel:R?i.isNumeric(e.label)||e.label.indexOf("GMT")!==-1?new Date(e.label):new Date(e.label+" GMT"):e.label;e.group=t,e.label=n;e.total=0;U.forEach(function(n,i){n.values.filter(function(e,n){return e.group===t}).forEach(function(t,n){e.total+=t.y})})});z(O);H=t.sum(O,function(e){return e.total})}else{N=t.merge(U.map(function(e){return e.values})).reduce(function(e,t){if(e.indexOf(t.x)===-1){e.push(t.x)}return e},[]).map(function(e,t){return R?new Date(e):e});B=Math.min(Math.ceil(innerWidth/100),N.length);H=t.sum(U,function(e){return e.total})}var q=75,W=null,K=null,J=null;var X={axis:null,maxmin:null};function Q(e,n){var a=n.map(function(e){return t.select(e).datum()});var r=t.max(t.extent(a),function(e){return i.siDecimal(Math.abs(e))});var s=t.max(a,function(e){return i.countSigFigsAfter(t.formatPrefix(".2s",r)(e))});if(e==="maxmin"&&X.axis){s=Math.max(X.axis.precision,s)}X[e]={decimal:r,precision:s};return X[e]}if(R){W=i.getDateFormatUTC(N)}K=function(e,t,n,a){var r=P?N[t]:e;var s=g(e,t,r,R,W);return a==="no-ellipsis"?s:i.stringEllipsify(s,l,q)};J=function(e,t,n,i){var a=X[i]||Q(i,n);return v(e,t,null,I,a.precision,a.decimal)};p.disabled=U.map(function(e){return!!e.disabled});p.interpolate=x.interpolate();p.isArea=x.isArea()();w.chart(M).title(d.title).controlsData($).legendData(b);V=t.max(U,function(e){return e.values.length})===1;var Z=Math.pow(_,2)*Math.PI*(V?3:1);x.xScale(R?t.scaleTime():t.scaleLinear()).singlePoint(V).size(Z).sizeRange([Z,Z]).sizeDomain([Z,Z]);if(V){var ee=t.merge(U.map(function(e){return e.values.map(function(e,t){return x.x()(e,t)})})).reduce(function(e,t){if(e.indexOf(t)<0)e.push(t);return e},[]).sort(function(e,t){return e-t});var te=t.extent(ee);var ne=1*(R&&!N.length?864e5:1);var ie=t.merge(U.map(function(e){return e.values.map(function(e,t){return x.y()(e,t)})}));var ae=t.extent(ie);var re=U.length===1?2:Math.min((ae[1]-ae[0])/U.length,ae[0]);x.xDomain([te[0]-ne,te[1]+ne]).yDomain([ae[0]-re,ae[1]+re]);S.orient("bottom").ticks(ee.length).tickValues(ee).highlightZero(false).showMaxMin(false);L.orient("left").ticks(V?5:null).highlightZero(false).showMaxMin(false)}else{x.xDomain(null).yDomain(null);S.orient("bottom").tickValues(P?t.range(1,B+1):null).ticks(P?B:null).highlightZero(false).showMaxMin(R);L.orient("left").ticks(null).highlightZero(true).showMaxMin(true)}S.scale(x.xScale()).tickPadding(6).valueFormat(K);L.scale(x.yScale()).tickPadding(6).valueFormat(J);var se=l.selectAll("g.sc-chart-wrap").data([U]);var oe=se.enter().append("g").attr("class","sc-chart-wrap sc-chart-"+c);var le=l.select(".sc-chart-wrap").merge(oe);oe.append("defs");oe.append("g").attr("class","sc-background-wrap");var ce=le.select(".sc-background-wrap");oe.append("g").attr("class","sc-title-wrap");oe.append("g").attr("class","sc-axis-wrap sc-axis-x");var ue=le.select(".sc-axis-wrap.sc-axis-x");oe.append("g").attr("class","sc-axis-wrap sc-axis-y");var de=le.select(".sc-axis-wrap.sc-axis-y");oe.append("g").attr("class","sc-"+c+"-wrap");var fe=le.select(".sc-"+c+"-wrap");oe.append("g").attr("class","sc-controls-wrap");oe.append("g").attr("class","sc-legend-wrap");le.attr("transform",i.translation(e.left,e.top));oe.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-e.left).attr("y",-e.top).attr("fill","#FFF");M.render=function(){var t,a,r,o,c,d;var f=0,p=0;T=parseInt(l.style("width"),10);A=parseInt(l.style("height"),10);t=n||T||960;a=s||A||400;C=t-e.left-e.right;D=a-e.top-e.bottom;r={top:0,right:0,bottom:0,left:0};o=C-r.left-r.right;c=D-r.top-r.bottom;ce.select(".sc-background").attr("width",t).attr("height",a);q=Math.max(C*.2,75);w.width(C).height(D);l.call(w);d=w.getHeight();r.top+=d;c=D-r.top-r.bottom;function h(e){if(e==="width"){return o}else if(e==="height"){return c}else{return 0}}x.width(h("width")).height(h("height"));fe.datum(U).call(x);var m={top:0,right:0,bottom:0,left:0},_={top:0,right:0,bottom:0,left:0};function g(){_=S.margin();m=L.margin();r.left=Math.max(_.left,m.left);r.right=Math.max(_.right,m.right);r.top=Math.max(_.top,m.top);r.bottom=Math.max(_.bottom,m.bottom);v()}function v(){o=C-r.left-r.right;c=D-d-r.top-r.bottom;x.resetDimensions(h("width"),h("height"))}function b(){L.tickSize(G-o,0).margin(r);de.call(L);g()}function y(){S.tickSize(G-c,0).margin(r);ue.call(S);g()}b();y();b();y();b();fe.transition().duration(u).call(x);r.top+=d;f=r.left;p=r.top+(S.orient()==="bottom"?c:0);ue.attr("transform",i.translation(f,p));f=r.left+(L.orient()==="left"?0:o);p=r.top;de.attr("transform",i.translation(f,p));fe.attr("transform",i.translation(r.left,r.top))};M.render();w.legend.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;if(!b.filter(function(e){return!e.disabled}).length){b.forEach(function(e){e.disabled=false})}p.disabled=b.map(function(e){return!!e.disabled});e.active="inactive";e.values.forEach(function(e){e.active="inactive"});if(!b.filter(function(e){return e.active==="active"}).length){M.clearActive()}p.active=b.map(function(e){return!!e.active});M.update();m.call("stateChange",this,p)});w.controls.dispatch.on("legendClick",function(e,t){if(!e.disabled){return}$.forEach(function(e){e.disabled=true});e.disabled=false;switch(e.key){case"Basis":x.interpolate("basis");break;case"Linear":x.interpolate("linear");break;case"Monotone":x.interpolate("monotone");break;case"Cardinal":x.interpolate("cardinal");break;case"Line":x.isArea(false);break;case"Area":x.isArea(true);break}p.interpolate=x.interpolate();p.isArea=x.isArea();M.update();m.call("stateChange",this,p)});m.on("tooltipShow",function(e){if(f){if(P){e.group=O[e.groupIndex]}E=k(e,o.parentNode,d)}});m.on("tooltipMove",function(e){if(E){a.position(o.parentNode,E,e,"s")}});m.on("tooltipHide",function(){if(f){a.cleanup()}});m.on("changeState",function(e){if(typeof e.disabled!=="undefined"){b.forEach(function(t,n){t.disabled=e.disabled[n]});p.disabled=e.disabled}if(typeof e.interpolate!=="undefined"){x.interpolate(e.interpolate);p.interpolate=e.interpolate}if(typeof e.isArea!=="undefined"){x.isArea(e.isArea);p.isArea=e.isArea}M.update()});m.on("chartClick",function(){if(w.controls.enabled()){w.controls.dispatch.call("closeMenu",this)}if(w.legend.enabled()){w.legend.dispatch.call("closeMenu",this)}});x.dispatch.on("elementClick",function(e){if(P&&e.groupIndex){e.group=O[e.groupIndex]}m.call("chartClick",this);x.dispatch.call("elementMouseout",this,e);y(b,e,M,N)});l.on("click",function(){t.event.stopPropagation();m.call("chartClick",this)})});return M}x.dispatch.on("elementMouseover.tooltip",function(e){m.call("tooltipShow",this,e)});x.dispatch.on("elementMousemove.tooltip",function(e){m.call("tooltipMove",this,e)});x.dispatch.on("elementMouseout.tooltip",function(e){m.call("tooltipHide",this,e)});M.dispatch=m;M.lines=x;M.legend=w.legend;M.controls=w.controls;M.xAxis=S;M.xAxisLabel=S.axisLabel;M.yAxis=L;M.yAxisLabel=L.axisLabel;M.options=i.optionsFunc.bind(M);i.rebind(M,x,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality");i.rebind(M,x,"defined","isArea","interpolate","size","clipVoronoi","useVoronoi","interactive","nice");i.rebind(M,w,"showTitle","showControls","showLegend");i.rebind(M,S,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");M.colorData=function(e){var n=arguments[0],a=arguments[1]||{};var r=function(e){return i.defaultColor()(e,e.seriesIndex)};var s=function(e){return"sc-series sc-series-"+e.seriesIndex};switch(n){case"graduated":r=function(e){return t.interpolateHsl(t.rgb(a.c1),t.rgb(a.c2))(e.seriesIndex/a.l)};break;case"class":r=function(){return"inherit"};s=function(e){var t=e.seriesIndex;var n=t*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+t+" sc-fill"+n+" sc-stroke"+n};break;case"data":r=function(e){return i.defaultColor()(e,e.seriesIndex)};s=function(e){var t=e.seriesIndex;return"sc-series sc-series-"+t+(e.classes?" "+e.classes:"")};break}x.color(r);x.fill(r);x.classes(s);w.legend.color(r);w.legend.classes(s);return M};M.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return M};M.width=function(e){if(!arguments.length){return n}n=e;return M};M.height=function(e){if(!arguments.length){return s}s=e;return M};M.tooltips=function(e){if(!arguments.length){return f}f=e;return M};M.tooltipContent=function(e){if(!arguments.length){return b}b=e;return M};M.state=function(e){if(!arguments.length){return p}p=e;m.call("stateChange",this,p);return M};M.strings=function(e){if(!arguments.length){return h}for(var t in e){if(e.hasOwnProperty(t)){h[t]=e[t]}}w.strings(h);return M};M.direction=function(e){if(!arguments.length){return o}o=e;x.direction(e);S.direction(e);L.direction(e);w.direction(e);return M};M.duration=function(e){if(!arguments.length){return u}u=e;x.duration(e);return M};M.delay=function(e){if(!arguments.length){return l}l=e;x.delay(e);return M};M.xValueFormat=function(e){if(!arguments.length){return g}g=e;return M};M.yValueFormat=function(e){if(!arguments.length){return v}v=e;return M};M.seriesClick=function(e){if(!arguments.length){return y}y=e;return M};M.pointRadius=function(e){if(!arguments.length){return _}_=e;return M};return M}function y(){var e={top:10,right:10,bottom:10,left:10},n=null,s=null,o="ltr",l=0,u=0,d=true,p={},m={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"};var _=t.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var g=true,v=true,b=true,y=function(e){return};var x=function(e,t,n,a,r){return n&&n.length?n:i.numberFormatSI(e,r,a,F.locality())};var w=function(e,t,n,a,r){var s=n||e;if(a){r=!r||r.indexOf("%")!==0?"%x":r;return i.dateFormat(s,r,F.locality())}else{return s}};var S=function(e,t,n,a,r,s){return i.numberFormatSIFixed(e,r,a,F.locality(),s)};var L=function(e,t){var n=t.seriesLabel||"Key";var a=e.series.key;var r=t.xDataType==="datetime";var s=t.groupName||(r?"Date":"Group");var o=e.group||{};var l=e.point.x;var c=w(l,e.pointIndex,o.label,r,"%x");var u=t.yDataType==="currency";var d=u?"Amount":"Count";var f=e.point.y;var p=i.numberFormat(f,null,u,F.locality());var h;var m="";m+="<p>"+n+": <b>"+a+"</b></p>";m+="<p>"+s+": <b>"+c+"</b></p>";m+="<p>"+d+": <b>"+p+"</b></p>";if(e.group&&i.isNumeric(e.group._height)){h=Math.abs(f*100/e.group._height).toFixed(1);h=i.numberFormat(h,2,false,F.locality());m+="<p>Percentage: <b>"+h+"%</b></p>"}return m};var E=function(e,t,n,i){return};var k=f();var M=c();var T=r();var A=r();var C=false;var D=0;var R=h().id(k.id());var I=null;var O=function(e,t,n){var i=L(e,n);var r=e.value<0?g?"n":"e":g?"s":"w";return a.show(e.e,i,r,null,t)};M.showTitle(true).showControls(true).showLegend(true);function F(r){r.each(function(r){var o=this,l=t.select(this),c=g?"multibar":"multibar-horizontal";var f=r?r.properties||{}:{},h=r?r.data||null:null;var L=parseInt(l.style("width"),10),N=parseInt(l.style("height"),10);var B=n,P=s;var U=f.xDataType==="datetime"||false,Y=f.yDataType==="currency"||false;var H=f.groups,G=Array.isArray(H)&&H.length>0,V=[],$=0,j=false;var z=[],q=0,W=0;var K=k.stacked()?g?72:32:32;var J=[{key:"Grouped",disabled:k.stacked()},{key:"Stacked",disabled:!k.stacked()}];F.update=function(){l.transition().duration(u).call(F)};F.setActiveState=function(e,t){e.active=t;e.values.forEach(function(e){e.active=t})};F.clearActive=function(e){h.forEach(function(t){F.setActiveState(t,e||"")});delete p.active};F.cellActivate=function(e){var t=h[e.seriesIndex].values[e.pointIndex];var n;if(!t){return}n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"";F.clearActive();t.active=n};F.seriesActivate=function(e){var t=e.series||h[e.seriesIndex];var n;if(!t){return}n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"";F.clearActive(n==="active"?"inactive":"");F.setActiveState(t,n);p.active=h.map(function(e){return e.active==="active"})};F.dataSeriesActivate=function(e){var t=e.series||h[e.seriesIndex];var n;if(!t){return}n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"inactive";if(n==="active"){F.seriesActivate(e)}else{F.clearActive()}};F.container=this;k.valueFormat(function(e,t){return x(e,t,e.label,Y,0)});function X(t){var n=t&&t.length&&t.filter(function(e){return!e.disabled&&Array.isArray(e.values)&&e.values.length}).length;var a=(L-e.left-e.right)/2+e.left;var r=(N-e.top-e.bottom)/2+e.top;return i.displayNoData(n,l,m.noData,a,r)}if(X(h)){return F}h.forEach(function(e,n){if(!e._values){e._values=e.values.map(function(e,t){var n={x:e.x,y:e.y};if(typeof e.label!=="undefined"){n.label=e.label}if(e.active){n.active=e.active}return n})}e.seriesIndex=n;e.key=e.key||m.noLabel;e.total=t.sum(e._values,function(e,t){return e.y});e.disabled=e.disabled||e.total===0});z=h.filter(function(e){return!e.disabled}).map(function(e,t){e.seri=t;e.values=e._values.map(function(n,i){var a={x:n.x,y:n.y};if(typeof n.label!=="undefined"){a.label=n.label}if(n.active){a.active=n.active}a.groupIndex=i;a.seriesIndex=e.seriesIndex;a.seri=e.seri;a.color=e.color||"";a.y0=n.y+(t>0?h[e.seriesIndex-1]._values[i].y0:0);return a});return e});q=z.length;if(X(z)){return F}function Q(e){V=e.map(function(e){return e.label});$=V.length;j=$>0}if(G){H.forEach(function(e,t){var n=typeof e.label==="undefined"||e.label===""?m.noLabel:U?i.isNumeric(e.label)||e.label.indexOf("GMT")!==-1?new Date(e.label):new Date(e.label+" GMT"):e.label;e.group=t,e.label=n;e.total=0;e._height=0})}else{H=z[0].values.map(function(e,t){return{group:t,label:U?new Date(e.x):e.x,total:0,_height:0}})}H.forEach(function(e,t){z.forEach(function(n,i){n.values.filter(function(e,n){return e.groupIndex===t}).forEach(function(t,n){e.total+=t.y;e._height+=Math.abs(t.y)})})});Q(H);if(b){Q(H.filter(function(e,t){return e._height!==0}));z.forEach(function(e,t){e.values=e.values.filter(function(e,t){return H[t]._height!==0}).map(function(e,t){return e});return e});if(X(z)){return F}}W=t.sum(H,function(e){return e.total});var Z=75,ee=null,te=null,ne=null;var ie={axis:null,maxmin:null};function ae(e,n){var a=n.map(function(e){return t.select(e).datum()});var r=t.max(t.extent(a),function(e){return i.siDecimal(Math.abs(e))});var s=t.max(a,function(e){return i.countSigFigsAfter(t.formatPrefix(".2s",r)(e))});if(e==="maxmin"&&ie.axis){s=Math.max(ie.axis.precision,s)}ie[e]={decimal:r,precision:s};return ie[e]}if(U){ee=i.getDateFormatUTC(V)}te=function(e,t,n,a){var r=V[t];var s=w(e,t,r,U,ee);return a==="no-ellipsis"?s:i.stringEllipsify(s,l,Z)};ne=function(e,t,n,i){var a=ie[i]||ae(i,n);return S(e,t,null,Y,a.precision,a.decimal)};p.disabled=z.map(function(e){return!!e.disabled});p.active=z.map(function(e){return e.active==="active"});p.stacked=k.stacked();M.chart(F).title(f.title).controlsData(J).legendData(h);T.orient(g?"bottom":"left").scale(k.xScale()).valueFormat(te).tickSize(0).tickPadding(4).highlightZero(false).showMaxMin(false);A.orient(g?"left":"bottom").scale(k.yScale()).valueFormat(ne).tickPadding(4).showMaxMin(true);var re=l.selectAll("g.sc-chart-wrap").data([z]);var se=re.enter().append("g").attr("class","sc-chart-wrap sc-chart-"+c);var oe=l.select(".sc-chart-wrap").merge(se);se.append("defs");var le=oe.select("defs");se.append("g").attr("class","sc-background-wrap");var ce=oe.select(".sc-background-wrap");se.append("g").attr("class","sc-title-wrap");se.append("g").attr("class","sc-axis-wrap sc-axis-y");var ue=oe.select(".sc-axis-wrap.sc-axis-y");se.append("g").attr("class","sc-scroll-wrap");var de=oe.select(".sc-scroll-wrap");se.select(".sc-scroll-wrap").append("g").attr("class","sc-axis-wrap sc-axis-x");var fe=oe.select(".sc-axis-wrap.sc-axis-x");se.select(".sc-scroll-wrap").append("g").attr("class","sc-bars-wrap");var pe=oe.select(".sc-bars-wrap");se.append("g").attr("class","sc-controls-wrap");se.append("g").attr("class","sc-legend-wrap");oe.attr("transform",i.translation(e.left,e.top));if(v){R(oe,se,de,T)}else{se.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-e.left).attr("y",-e.top).attr("fill","#FFF")}F.render=function(){var t,a,r,o,c,d;var f=0,m=0;L=parseInt(l.style("width"),10);N=parseInt(l.style("height"),10);t=n||L||960;a=s||N||400;B=t-e.left-e.right;P=a-e.top-e.bottom;r={top:0,right:0,bottom:0,left:0};o=B-r.left-r.right;c=P-r.top-r.bottom;ce.select(".sc-background").attr("width",t).attr("height",a);var b=p.stacked?K:K*q+K;var x=K*(p.stacked?.25:1);var w=$*b+x;Z=Math.max(g?K*2:B*.2,75);M.width(B).height(P);l.call(M);d=M.getHeight();r.top+=d;c=P-r.top-r.bottom;function S(e){if(e==="width"){return g&&v?Math.max(o,w):o}else if(e==="height"){return!g&&v?Math.max(c,w):c}else{return 0}}k.vertical(g).baseDimension(K).disabled(h.map(function(e){return e.disabled})).width(S("width")).height(S("height"));pe.datum(z).call(k);var E={top:0,right:0,bottom:0,left:0},I={top:0,right:0,bottom:0,left:0};function O(){I=T.margin();E=A.margin();r.left=Math.max(I.left,E.left);r.right=Math.max(I.right,E.right);r.top=Math.max(I.top,E.top);r.bottom=Math.max(I.bottom,E.bottom);F()}function F(){o=B-r.left-r.right;c=P-d-r.top-r.bottom;k.resetDimensions(S("width"),S("height"))}function U(){A.ticks(c/48).tickSize(g?-o:-c,0).margin(r);ue.call(A);O()}function Y(){T.tickSize(0).margin(r);fe.call(T);O()}U();Y();U();Y();U();pe.transition().duration(u).call(k);r.top+=d;f=g||T.orient()==="left"?0:o;m=g&&T.orient()==="bottom"?c+2:-2;fe.attr("transform",i.translation(f,m));f=r.left+(g||A.orient()==="bottom"?0:o);m=r.top+(g||A.orient()==="left"?0:c);ue.attr("transform",i.translation(f,m));de.attr("transform",i.translation(r.left,r.top));if(v){C=w>(g?o:c);fe.select(".sc-axislabel").attr("x",(g?o:-c)/2);var H=(g?o:c)-w;var G=function(){var e;_.call("tooltipHide",this);D=R.pan(H);e=g?o-D*2:D*2-c;e=e/2;fe.select(".sc-axislabel").attr("x",e)};R.enable(C).width(o).height(c).margin(r).minDimension(w).vertical(g).panHandler(G).resize(D,y);R.panHandler()()}};F.render();M.legend.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;if(!h.filter(function(e){return!e.disabled}).length){h.forEach(function(e){e.disabled=false})}p.disabled=h.map(function(e){return!!e.disabled});e.active="inactive";e.values.forEach(function(e){e.active="inactive"});if(!h.filter(function(e){return e.active==="active"}).length){F.clearActive()}p.active=h.map(function(e){return!!e.active});F.update();_.call("stateChange",this,p)});M.controls.dispatch.on("legendClick",function(e,t){if(!e.disabled){return}J.forEach(function(e){e.disabled=true});e.disabled=false;k.stacked(e.key==="Grouped"?false:true);p.stacked=k.stacked();F.update();_.call("stateChange",this,p)});_.on("tooltipShow",function(e){if(d){if(j){e.group=H[e.groupIndex]}I=O(e,o.parentNode,f)}});_.on("tooltipMove",function(e){if(I){a.position(o.parentNode,I,e,g?"s":"w")}});_.on("tooltipHide",function(){if(d){a.cleanup()}});_.on("changeState",function(e){if(typeof e.disabled!=="undefined"){h.forEach(function(t,n){t.disabled=e.disabled[n]});p.disabled=e.disabled}if(typeof e.active!=="undefined"){h.forEach(function(t,n){t.active=e.active[n]?"active":"inactive";t.values.forEach(function(e){e.active=t.active})});p.active=e.active;if(!h.filter(function(e){return e.active==="active"}).length){F.clearActive()}}if(typeof e.stacked!=="undefined"){k.stacked(e.stacked);p.stacked=e.stacked}F.update()});_.on("chartClick",function(){if(M.controls.enabled()){M.controls.dispatch.call("closeMenu",this)}if(M.legend.enabled()){M.legend.dispatch.call("closeMenu",this)}});k.dispatch.on("elementClick",function(e){if(j&&e.groupIndex){e.group=H[e.groupIndex]}_.call("chartClick",this);E(h,e,F,V)});l.on("click",function(){t.event.stopPropagation();_.call("chartClick",this)})});return F}k.dispatch.on("elementMouseover.tooltip",function(e){_.call("tooltipShow",this,e)});k.dispatch.on("elementMousemove.tooltip",function(e){_.call("tooltipMove",this,e)});k.dispatch.on("elementMouseout.tooltip",function(e){_.call("tooltipHide",this,e)});F.dispatch=_;F.multibar=k;F.legend=M.legend;F.controls=M.controls;F.xAxis=T;F.xAxisLabel=T.axisLabel;F.yAxis=A;F.yAxisLabel=A.axisLabel;F.options=i.optionsFunc.bind(F);i.rebind(F,k,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality");i.rebind(F,k,"stacked","showValues","valueFormat","nice","textureFill");i.rebind(F,M,"showTitle","showControls","showLegend");i.rebind(F,T,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");F.colorData=function(e){var n=arguments[0],a=arguments[1]||{};var r=function(e){return i.defaultColor()(e,e.seriesIndex)};var s=function(e){return"sc-series sc-series-"+e.seriesIndex};switch(n){case"graduated":r=function(e){return t.interpolateHsl(t.rgb(a.c1),t.rgb(a.c2))(e.seriesIndex/a.l)};break;case"class":r=function(){return"inherit"};s=function(e){var t=e.seriesIndex;var n=t*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+t+" sc-fill"+n+" sc-stroke"+n};break;case"data":r=function(e){return i.defaultColor()(e,e.seriesIndex)};s=function(e){return"sc-series sc-series-"+e.seriesIndex+(e.classes?" "+e.classes:"")};break}var o=!a.gradient?r:function(e){var t={orientation:a.orientation||(g?"vertical":"horizontal"),position:a.position||"middle"};return k.gradientFill(e,e.seriesIndex,t)};k.color(r);k.fill(o);k.classes(s);M.legend.color(r);M.legend.classes(s);return F};F.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return F};F.width=function(e){if(!arguments.length){return n}n=e;return F};F.height=function(e){if(!arguments.length){return s}s=e;return F};F.tooltips=function(e){if(!arguments.length){return d}d=e;return F};F.tooltipContent=function(e){if(!arguments.length){return L}L=e;return F};F.state=function(e){if(!arguments.length){return p}p=e;_.call("stateChange",this,p);return F};F.strings=function(e){if(!arguments.length){return m}for(var t in e){if(e.hasOwnProperty(t)){m[t]=e[t]}}M.strings(m);return F};F.direction=function(e){if(!arguments.length){return o}o=e;k.direction(e);T.direction(e);A.direction(e);M.direction(e);return F};F.duration=function(e){if(!arguments.length){return u}u=e;k.duration(e);return F};F.delay=function(e){if(!arguments.length){return l}l=e;k.delay(e);return F};F.xValueFormat=function(e){if(!arguments.length){return w}w=e;return F};F.yValueFormat=function(e){if(!arguments.length){return S}S=e;return F};F.seriesClick=function(e){if(!arguments.length){return E}E=e;return F};F.vertical=function(e){if(!arguments.length){return g}g=e;return F};F.allowScroll=function(e){if(!arguments.length){return v}v=e;return F};F.hideEmptyGroups=function(e){if(!arguments.length){return b}b=e;return F};F.overflowHandler=function(e){if(!arguments.length){return y}y=i.functor(e);return F};return F}function x(){var e={top:10,right:10,bottom:10,left:10},n=null,s=null,o=false,c=true,u="ltr",p=true,h=false,m=0,_=0,g={},v={barlegend:{close:"Hide bar legend",open:"Show bar legend"},linelegend:{close:"Hide line legend",open:"Show line legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},b=function(e){return e.x},y=function(e){return e.y},x=i.buildLocality();var w=t.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var S=function(e,t,n,a){return a?i.dateFormat(n,"%x",Y.locality()):n};var L=function(e,t,n,a){var r=2;return i.numberFormatSI(e,r,a,Y.locality())};var E=L;var k=f().stacked(true).clipEdge(false).withLine(true).nice(false),M=d().color(function(e,t){return"#FFF"}).fill(function(e,t){return"#FFF"}).useVoronoi(false).nice(false),T=d().useVoronoi(false).color("data").nice(false),A=r(),C=r(),D=l().align("left").position("middle"),R=l().align("right").position("middle");var I=null;var O=function(e,t,n,i,a){return"<p><b>"+e+"</b></p>"+"<p><b>"+n+"</b></p>"+"<p><b>"+t+"%</b></p>"};var F=function(e,t,n,i,a){return"<p><p>"+e+": <b>"+n+"</b></p>"};var N=function(e,t,n,i,a){return"<p>"+i.key+": <b>"+n+"</b></p>"};var B=function(e,t,n){var i=e.series.key,r=(e.point.y*100/n[e.pointIndex].t).toFixed(1),s=T.y()(e.point,e.pointIndex),o=e.series.type==="bar"?O(i,r,s,e,Y):F(i,r,s,e,Y);return a.show(e.e,o,"s",null,t)};var P=function(e,t){var n=N(e.key,0,e.val,e,Y);return a.show(e.e,n,"s",null,t)};var U=function(e,t,n,i){return};function Y(r){r.each(function(r){var l=this,d=t.select(this),f="pareto";var h=r?r.properties||{}:{},m=r?r.data||null:null;var _=parseInt(d.style("width"),10),x=parseInt(d.style("height"),10);var O=Math.pow(6,2)*Math.PI,F=h.xDataType==="datetime"||false,N=h.yDataType==="currency"||false;var H=k.stacked()?72:32;var G=function(e,t,n,a){var r=J&&Array.isArray(J)?J[t]||e:e;var s=S(e,t,r,F);var o=Math.max(H*2,75);return!a?i.stringEllipsify(s,d,o):s};var V=function(e,t,n,i){return L(e,t,null,N)};var $,j;Y.update=function(){d.transition().call(Y)};Y.container=this;function z(t){var n=t&&t.length&&t.filter(function(e){return e.values&&e.values.length}).length;var a=(_-e.left-e.right)/2+e.left;var r=(x-e.top-e.bottom)/2+e.top;return i.displayNoData(n,d,v.noData,a,r)}if(z(m)){return Y}Y.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";t.values.map(function(e){e.active=t.active});if(t.active==="active"){m.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";e.values.map(function(e){e.active="inactive"});return e})}if(!m.filter(function(e){return e.active==="active"}).length){m.map(function(e){e.active="";e.values.map(function(e){e.active=""});d.selectAll(".sc-series").classed("sc-inactive",false);return e})}d.call(Y)};m.forEach(function(e,t){if(!e._values){e._values=e.values.map(function(e,t){return{x:Array.isArray(e)?e[0]:e.x,y:Array.isArray(e)?e[1]:e.y}})}});var q=m.filter(function(e){return!e.type||e.type==="bar"}).map(function(e,n){e.seriesIndex=n;e.values=e._values.map(function(t,i){return{group:i,seriesIndex:e.seriesIndex,color:typeof e.color!=="undefined"?e.color:"",x:k.x()(t,i),y:k.y()(t,i),y0:t.y+(n>0?m[e.seriesIndex-1].values[i].y0:0),active:typeof e.active!=="undefined"?e.active:""}});e.key=e.key||v.noLabel;e.total=t.sum(e._values,function(e,t){return e.y});e.disabled=e.disabled||e.total===0;return e}).filter(function(e){return!e.disabled}).map(function(e,t){e.seri=t;e.values.forEach(function(t,n){t.seri=e.seri});return e});if(z(q)){return Y}var W=m.filter(function(e){return e.type==="line"}).map(function(e,t){e.seriesIndex=t;if(!k.stacked()){e.values=e._values.map(function(t,n){return{seriesIndex:e.seriesIndex,color:typeof e.color!=="undefined"?e.color:"",x:T.x()(t,n)+(e.seriesIndex-n)*.25,y:T.y()(t,n)}})}else{e.values.forEach(function(e){e.y=0});q.map(function(t){t.values.map(function(t,n){e.values[n].y+=k.y()(t,n)})});e.values.forEach(function(t,n){if(n>0){t.y+=e.values[n-1].y}})}return e}).filter(function(e){return!e.disabled}).map(function(e,t){e.seri=t;e.values.forEach(function(t,n){t.seri=e.seri});return e});var K=h.groupData,J=K.map(function(e){return[].concat(e.l)[0]||v.noLabel});var X=h.quota||0,Q=h.quotaLabel||"";var Z=h.targetQuota||0,ee=h.targetQuotaLabel||"";var te=m.filter(function(e){return!e.type||e.type==="bar"});var ne=m.filter(function(e){return e.type==="line"});ne.push({key:Q,type:"dash",color:"#444",seriesIndex:ne.length,values:{seriesIndex:ne.length,x:0,y:0}});if(Z>0){ne.push({key:ee,type:"dash",color:"#777",seriesIndex:ne.length,values:{seriesIndex:ne.length+1,x:0,y:0}})}var ie=m.filter(function(e){return!e.disabled}).map(function(e){return e._values.map(function(e,t){return b(e,t)})});var ae=m.map(function(e){return e._values.map(function(e,t){return y(e,t)})});o=o&&h.title&&h.title.length;$=k.xScale();j=k.yScale();A.orient("bottom").scale($).valueFormat(G).tickSize(0).tickPadding(4).highlightZero(false).showMaxMin(false);C.orient("left").scale(j).valueFormat(V).tickPadding(7).showMaxMin(true);Y.render=function(){_=parseInt(d.style("width"),10);x=parseInt(d.style("height"),10);var a,r,g,b,y,S,L;a=n||_||960;r=s||x||400;g=a-e.left-e.right;b=r-e.top-e.bottom;y={top:0,right:0,bottom:0,left:0};L=b-y.top-y.bottom;S=g-y.left-y.right;var F=0,N=0,B=0,U=0,H={width:0,height:0};var G=d.selectAll("g.sc-chart-wrap").data([m]);var V=G.enter().append("g").attr("class","sc-chart-wrap sc-chart-"+f);var z=d.select(".sc-chart-wrap").merge(V);V.append("defs");V.append("g").attr("class","sc-background-wrap");var K=z.select(".sc-background-wrap");V.append("g").attr("class","sc-title-wrap");var J=z.select(".sc-title-wrap");V.append("g").attr("class","sc-axis-wrap sc-axis-x");var ie=z.select(".sc-axis-wrap.sc-axis-x");V.append("g").attr("class","sc-axis-wrap sc-axis-y");var re=z.select(".sc-axis-wrap.sc-axis-y");V.append("g").attr("class","sc-bars-wrap");var se=z.select(".sc-bars-wrap");V.append("g").attr("class","sc-quota-wrap");var oe=z.select(".sc-quota-wrap");V.append("g").attr("class","sc-lines-wrap1");var le=z.select(".sc-lines-wrap1");V.append("g").attr("class","sc-lines-wrap2");var ce=z.select(".sc-lines-wrap2");V.append("g").attr("class","sc-legend-wrap sc-bar-legend");var ue=z.select(".sc-legend-wrap.sc-bar-legend");V.append("g").attr("class","sc-legend-wrap sc-line-legend");var de=z.select(".sc-legend-wrap.sc-line-legend");z.attr("transform",i.translation(e.left,e.top));V.select(".sc-background-wrap").append("rect").attr("x",-e.left).attr("y",-e.top).attr("width",a).attr("height",r).attr("fill","#FFF");J.select(".sc-title").remove();if(o){J.append("text").attr("class","sc-title").attr("x",u==="rtl"?g:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black").text(h.title);H=i.getTextBBox(J.select(".sc-title"));U+=H.height}if(c){D.id("barlegend_"+Y.id()).strings(v.barlegend).align("left").height(b-y.top);ue.datum(te).call(D);F=D.calcMaxWidth();R.id("linelegend_"+Y.id()).strings(v.linelegend).align("right").height(b-y.top);de.datum(ne).call(R);N=R.calcMaxWidth();B=g/(F+N);D.arrange(Math.floor(B*F));R.arrange(Math.floor(B*N));ue.attr("transform","translate("+(u==="rtl"?g-D.width():0)+","+y.top+")");de.attr("transform","translate("+(u==="rtl"?0:g-R.width())+","+y.top+")")}U+=Math.max(D.height(),R.height())+4;L=b-U-y.top-y.bottom;var fe=Math.max(t.max(t.merge(ae)),X,Z||0);var pe=[0,Math.ceil(fe*.1)*10];k.width(S).height(L).forceY(pe).id(Y.id());se.datum(q).call(k);var he=$(1)+$.bandwidth()/(k.stacked()||W.length===1?2:4);M.margin({top:0,right:he,bottom:0,left:he}).width(S).height(L).forceY(pe).useVoronoi(false).id("outline_"+Y.id());T.margin({top:0,right:he,bottom:0,left:he}).width(S).height(L).forceY(pe).useVoronoi(false).size(O).sizeRange([O,O]).sizeDomain([O,O]).id("foreground_"+Y.id());le.datum(W).call(M);ce.datum(W).call(T);ie.call(A);re.style("opacity",q.length?1:0).call(C);var me=A.margin();var _e=C.margin();var ge=0,ve=14;function be(){y.left=Math.max(ge,me.left,_e.left);y.right=Math.max(me.right,_e.right);y.top=Math.max(me.top,_e.top)+U;y.bottom=Math.max(me.bottom,_e.bottom);ye()}function ye(){S=g-y.left-y.right;L=b-y.top-y.bottom;k.resetDimensions(S,L)}oe.selectAll("line").remove();re.selectAll("text.sc-quota-value").remove();re.selectAll("text.sc-target-quota-value").remove();if(Z>0){oe.append("line").attr("class","sc-quota-target").attr("x1",0).attr("y1",0).attr("x2",S).attr("y2",0).attr("transform","translate(0,"+j(Z)+")").style("stroke-dasharray","8, 8");oe.append("line").datum({key:ee,val:Z}).attr("class","sc-quota-target sc-quota-background").attr("x1",0).attr("y1",0).attr("x2",S).attr("y2",0).attr("transform","translate(0,"+j(Z)+")");re.append("text").text(E(Z,2,true)).attr("class","sc-target-quota-value").attr("dy",".36em").attr("dx","0").attr("text-anchor",u==="rtl"?"start":"end").attr("transform","translate("+(0-C.tickPadding())+","+j(Z)+")");ge=Math.round(z.select("text.sc-target-quota-value").node().getBoundingClientRect().width+C.tickPadding())}if(X>0){oe.append("line").attr("class","sc-quota-line").attr("x1",0).attr("y1",0).attr("x2",S).attr("y2",0).attr("transform","translate(0,"+j(X)+")").style("stroke-dasharray","8, 8");oe.append("line").datum({key:Q,val:X}).attr("class","sc-quota-line sc-quota-background").attr("x1",0).attr("y1",0).attr("x2",S).attr("y2",0).attr("transform","translate(0,"+j(X)+")");re.append("text").text(E(X,2,true)).attr("class","sc-quota-value").attr("dy",".36em").attr("dx","0").attr("text-anchor",u==="rtl"?"start":"end").attr("transform","translate("+-C.tickPadding()+","+j(X)+")");ge=Math.max(ge,Math.round(z.select("text.sc-quota-value").node().getBoundingClientRect().width+C.tickPadding()))}be();k.width(S).height(L);se.call(k);ie.call(A);re.call(C);he=$(1)+$.bandwidth()/(k.stacked()?2:W.length*2);me=A.margin();_e=C.margin();be();var xe=i.translation(y.left,y.top);k.width(S).height(L);se.attr("transform",xe).call(k);M.margin({top:0,right:he,bottom:0,left:he}).width(S).height(L);T.margin({top:0,right:he,bottom:0,left:he}).width(S).height(L);le.attr("transform",xe).call(M);ce.attr("transform",xe).call(T);oe.attr("transform",xe).selectAll("line").attr("x2",S);ie.attr("transform","translate("+y.left+","+(A.orient()==="bottom"?L+y.top:y.top)+")").call(A);C.ticks(Math.ceil(L/48)).tickSize(-S,0);re.attr("transform","translate("+(C.orient()==="left"?y.left:y.left+S)+","+y.top+")").call(C);if(Z>0){oe.selectAll("line.sc-quota-target").attr("x2",S).attr("transform","translate(0,"+j(Z)+")");re.select("text.sc-target-quota-value").attr("transform","translate("+(0-C.tickPadding())+","+j(Z)+")");ve=Math.round(parseInt(z.select("text.sc-target-quota-value").node().getBoundingClientRect().height,10)/1.15);re.selectAll("g.tick, g.sc-axisMaxMin").each(function(e,n){if(Math.abs(j(e)-j(Z))<=ve){t.select(this).style("opacity",0)}})}if(X>0){oe.selectAll("line.sc-quota-line").attr("x2",S).attr("transform","translate(0,"+j(X)+")");re.select("text.sc-quota-value").attr("transform","translate("+(0-C.tickPadding())+","+j(X)+")");ve=Math.round(parseInt(z.select("text.sc-quota-value").node().getBoundingClientRect().height,10)/1.15);re.selectAll("g.tick, g.sc-axisMaxMin").each(function(e,n){if(Math.abs(j(e)-j(X))<=ve){t.select(this).style("opacity",0)}});if(Z>0){if(Math.abs(j(X)-j(Z))<=ve){re.select(".sc-target-quota-value").style("opacity",0)}}}oe.selectAll("line.sc-quota-background").on("mouseover",function(e){if(p){var n={val:e.val,key:e.key,e:t.event};I=P(n,l.parentNode)}}).on("mousemove",function(){var e=t.event;w.call("tooltipMove",this,e)}).on("mouseout",function(){w.call("tooltipHide",this)})};Y.render();D.dispatch.on("legendClick",function(e,t){var n=e.seriesIndex;e.disabled=!e.disabled;if(!Y.stacked()){m.filter(function(e){return e.seriesIndex===n&&e.type==="line"}).map(function(e){e.disabled=!e.disabled;return e})}if(!m.filter(function(e){return!e.disabled&&e.type==="bar"}).length){m.map(function(e){e.disabled=false;return e})}d.call(Y)});w.on("tooltipShow",function(e){if(p){I=B(e,l.parentNode,K)}});w.on("tooltipMove",function(e){if(I){a.position(l.parentNode,I,e,"s")}});w.on("tooltipHide",function(){if(p){a.cleanup()}});w.on("changeState",function(e){if(typeof e.disabled!=="undefined"){m.forEach(function(t,n){t.disabled=e.disabled[n]});g.disabled=e.disabled}if(typeof e.stacked!=="undefined"){k.stacked(e.stacked);g.stacked=e.stacked}d.transition().call(Y)});w.on("chartClick",function(){if(D.enabled()){D.dispatch.call("closeMenu",this)}if(R.enabled()){R.dispatch.call("closeMenu",this)}});k.dispatch.on("elementClick",function(e){w.call("chartClick",this);U(m,e,Y,d)})});return Y}T.dispatch.on("elementMouseover.tooltip",function(e){w.call("tooltipShow",this,e)});T.dispatch.on("elementMousemove.tooltip",function(e){w.call("tooltipMove",this,e)});T.dispatch.on("elementMouseout.tooltip",function(){w.call("tooltipHide",this)});k.dispatch.on("elementMouseover.tooltip",function(e){w.call("tooltipShow",this,e)});k.dispatch.on("elementMousemove.tooltip",function(e){w.call("tooltipMove",this,e)});k.dispatch.on("elementMouseout.tooltip",function(){w.call("tooltipHide",this)});Y.dispatch=w;Y.linesBackground=M;Y.lines=T;Y.multibar=k;Y.barLegend=D;Y.lineLegend=R;Y.xAxis=A;Y.xAxisLabel=A.axisLabel;Y.yAxis=C;Y.yAxisLabel=C.axisLabel;Y.options=i.optionsFunc.bind(Y);i.rebind(Y,k,"id","xScale","yScale","xDomain","yDomain","forceY","color","fill","classes","gradient");i.rebind(Y,k,"stacked","showValues","valueFormat","nice","textureFill");i.rebind(Y,A,"rotateTicks","staggerTicks","wrapTicks","reduceXTicks");Y.colorData=function(e){var n=arguments[0],a=arguments[1]||{};var r=function(e){return i.defaultColor()(e,e.seriesIndex)};var s=function(e,t){return"sc-series sc-series-"+e.seriesIndex};var o=function(e,n){var i=a.lineColor?a.lineColor:{c1:"#1A8221",c2:"#62B464",l:1};return e.color||t.interpolateHsl(t.rgb(i.c1),t.rgb(i.c2))(e.seriesIndex/2)};var l=function(e,t){return"sc-series sc-series-"+e.seriesIndex};switch(n){case"graduated":r=function(e){return t.interpolateHsl(t.rgb(a.barColor.c1),t.rgb(a.barColor.c2))(e.seriesIndex/a.barColor.l)};break;case"class":r=function(){return"inherit"};s=function(e){var t=e.seriesIndex;var n=t*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+t+" sc-fill"+n};l=function(e){var t=e.seriesIndex;var n=t*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+t+" sc-fill"+n+" sc-stroke"+n};break;case"data":r=function(e){return e.classes?"inherit":e.color||i.defaultColor()(e,e.seriesIndex)};s=function(e){return"sc-series sc-series-"+e.seriesIndex+(e.classes?" "+e.classes:"")};l=function(e){return"sc-series sc-series-"+e.seriesIndex+(e.classes?" "+e.classes:"")};break}var c=!a.gradient?r:function(e){var t={orientation:a.orientation||"vertical",position:a.position||"middle"};return k.gradientFill(e,e.seriesIndex,t)};k.color(r);k.fill(c);k.classes(s);T.color(o);T.fill(o);T.classes(l);D.color(r);D.classes(s);R.color(o);R.classes(l);return Y};Y.x=function(e){if(!arguments.length){return b}b=e;T.x(e);k.x(e);return Y};Y.y=function(e){if(!arguments.length){return y}y=e;T.y(e);k.y(e);return Y};Y.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return Y};Y.width=function(e){if(!arguments.length){return n}n=e;return Y};Y.height=function(e){if(!arguments.length){return s}s=e;return Y};Y.showTitle=function(e){if(!arguments.length){return o}o=e;return Y};Y.showLegend=function(e){if(!arguments.length){return c}c=e;return Y};Y.tooltipBar=function(e){if(!arguments.length){return O}O=e;return Y};Y.tooltipLine=function(e){if(!arguments.length){return F}F=e;return Y};Y.tooltipQuota=function(e){if(!arguments.length){return N}N=e;return Y};Y.tooltips=function(e){if(!arguments.length){return p}p=e;return Y};Y.clipEdge=function(e){if(!arguments.length){return h}h=e;k.clipEdge(e);M.clipEdge(e);T.clipEdge(e);return Y};Y.state=function(e){if(!arguments.length){return g}g=e;return Y};Y.strings=function(e){if(!arguments.length){return v}for(var t in e){if(e.hasOwnProperty(t)){v[t]=e[t]}}D.strings(v.barlegend);R.strings(v.linelegend);return Y};Y.direction=function(e){if(!arguments.length){return u}u=e;k.direction(e);A.direction(e);C.direction(e);D.direction(e);R.direction(e);return Y};Y.duration=function(e){if(!arguments.length){return _}_=e;k.duration(e);M.duration(e);T.duration(e);return Y};Y.delay=function(e){if(!arguments.length){return m}m=e;k.delay(e);M.delay(e);T.delay(e);return Y};Y.seriesClick=function(e){if(!arguments.length){return U}U=e;return Y};Y.colorFill=function(e){return Y};Y.xValueFormat=function(e){if(!arguments.length){return S}S=e;return Y};Y.yValueFormat=function(e){if(!arguments.length){return L}L=e;return Y};Y.quotaValueFormat=function(e){if(!arguments.length){return E}E=e;return Y};Y.locality=function(e){if(!arguments.length){return x}x=i.buildLocality(e);k.locality(e);M.locality(e);return Y};return Y}function w(){var e={top:10,right:10,bottom:10,left:10},n=null,r=null,s="ltr",o=0,l=0,u=true,d={},f=true,h={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"};var m=t.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var _=p();var g=c();var v=[];var b=null;var y=function(e,t){var n=_.fmtKey()(e);var a=t.seriesLabel||"Key";var r=_.getValue()(e);var s=t.total?(r*100/t.total).toFixed(1):100;var o=t.yDataType==="currency";var l=i.numberFormat(r,2,o,S.locality());var c=i.numberFormat(s,2,false,S.locality());return"<p>"+a+": <b>"+n+"</b></p>"+"<p>"+(o?"Amount":"Count")+": <b>"+l+"</b></p>"+"<p>Percent: <b>"+c+"%</b></p>"};var x=function(e,t,n){var i=y(e,n);return a.show(e.e,i,null,null,t)};var w=function(e,t,n){return};g.showTitle(true).showControls(false).showLegend(true).alignLegend("center");function S(s){s.each(function(s){var o=this,c=t.select(this),p="pie";var y=s?s.properties||{}:{},L=s?s.data||null:null;var E=parseInt(c.style("width"),10),k=parseInt(c.style("height"),10);var M=y.xDataType==="datetime"||false,T=y.yDataType==="currency"||false;S.update=function(){c.transition().duration(l).call(S)};S.container=this;function A(t){var n=t&&t.length;var a=(E-e.left-e.right)/2+e.left;var r=(k-e.top-e.bottom)/2+e.top;return i.displayNoData(n,c,h.noData,a,r)}if(A(L)){return S}S.setActiveState=function(e,t){e.active=t};S.clearActive=function(e){L.forEach(function(t){S.setActiveState(t,e||"")});delete d.active};S.seriesActivate=function(e){var t=e.series||L[e.seriesIndex];var n;if(!t){return}if(f){n=typeof t.active==="undefined"||t.active==="inactive"||t.active===""?"active":"";S.clearActive(n==="active"?"inactive":"");S.setActiveState(t,n);d.active=L.map(function(e){return e.active==="active"})}else{S.dataSeriesActivate({series:t})}};S.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";if(t.active==="active"){L.filter(function(e){return e.active!=="active"}).forEach(function(e){e.active="inactive";return e})}if(!L.filter(function(e){return e.active==="active"}).length){S.clearActive()}};L.forEach(function(e,n){e.seriesIndex=n;if(!e.values){if(!e.value){e.values=[]}else if(!isNaN(e.value)){e.values=[{x:0,y:parseInt(e.value,10)}]}}e.values.forEach(function(t,i){t.index=n;t.series=e;if(typeof t.value=="undefined"){t.value=t.y}});e.key=e.key||h.noLabel;e.value=e.value||t.sum(e.values,function(e){return e.value});e.count=e.count||e.values.length;e.disabled=e.disabled||e.value===0});var C=L.filter(function(e){return!e.disabled});if(!C.length){C=[{values:[]}]}y.count=t.sum(C,function(e){return e.count});y.total=t.sum(C,function(e){return e.value});d.disabled=L.map(function(e){return!!e.disabled});if(!y.total){A();return S}g.chart(S).title(y.title).controlsData(v).legendData(L);var D=c.selectAll("g.sc-chart-wrap").data([C]);var R=D.enter().append("g").attr("class","sc-chart-wrap sc-chart-"+p);var I=c.select(".sc-chart-wrap").merge(R);R.append("defs");var O=I.select("defs");R.append("g").attr("class","sc-background-wrap");var F=I.select(".sc-background-wrap");R.append("g").attr("class","sc-title-wrap");R.append("g").attr("class","sc-"+p+"-wrap");var N=I.select(".sc-"+p+"-wrap");R.append("g").attr("class","sc-controls-wrap");R.append("g").attr("class","sc-legend-wrap");I.attr("transform",i.translation(e.left,e.top));R.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-e.left).attr("y",-e.top).attr("fill","#FFF");S.render=function(){var t,a,s,o,u,d,f,p;E=parseInt(c.style("width"),10);k=parseInt(c.style("height"),10);t=n||E||960;a=r||k||400;s=t-e.left-e.right;o=a-e.top-e.bottom;u={top:0,right:0,bottom:0,left:0};d=s-u.left-u.right;f=o-u.top-u.bottom;F.select(".sc-background").attr("width",t).attr("height",a);g.width(s).height(o);c.call(g);p=g.getHeight();u.top+=p;f=o-u.top-u.bottom;_.width(d).height(f);N.datum(C).attr("transform",i.translation(u.left,u.top)).transition().duration(l).call(_)};S.render();g.legend.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!L.filter(function(e){return!e.disabled}).length){L.forEach(function(e){e.disabled=false})}if(!L.filter(function(e){return e.active==="active"}).length){L.forEach(function(e){e.active=""})}d.disabled=L.map(function(e){return!!e.disabled});m.call("stateChange",this,d);S.update()});m.on("tooltipShow",function(e){if(u){b=x(e,o.parentNode,y)}});m.on("tooltipMove",function(e){if(b){a.position(o.parentNode,b,e)}});m.on("tooltipHide",function(){if(u){a.cleanup()}});m.on("changeState",function(e){if(typeof e.disabled!=="undefined"){C.forEach(function(t,n){t.disabled=e.disabled[n]});d.disabled=e.disabled}S.update()});m.on("chartClick",function(){if(g.controls.enabled()){g.controls.dispatch.call("closeMenu",this)}if(g.legend.enabled()){g.legend.dispatch.call("closeMenu",this)}});_.dispatch.on("elementClick",function(e){m.call("chartClick",this);w(L,e,S)})});return S}_.dispatch.on("elementMouseover.tooltip",function(e){m.call("tooltipShow",this,e)});_.dispatch.on("elementMousemove.tooltip",function(e){m.call("tooltipMove",this,e)});_.dispatch.on("elementMouseout.tooltip",function(){m.call("tooltipHide",this)});S.dispatch=m;S.pie=_;S.legend=g.legend;S.controls=g.controls;S.options=i.optionsFunc.bind(S);i.rebind(S,_,"id","color","fill","classes","gradient","locality","textureFill");i.rebind(S,_,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount");i.rebind(S,_,"showLabels","showLeaders","donutLabelsOutside","pieLabelsOutside","labelThreshold");i.rebind(S,_,"arcDegrees","rotateDegrees","minRadius","maxRadius","fixedRadius","startAngle","endAngle","donut","hole","holeFormat","donutRatio");i.rebind(S,g,"showTitle","showControls","showLegend");S.colorData=function(e){var n=arguments[0],a=arguments[1]||{};var r=function(e,t){return i.defaultColor()(e,e.seriesIndex)};var s=function(e,t){return"sc-series sc-series-"+e.seriesIndex};switch(n){case"graduated":r=function(e,n){return t.interpolateHsl(t.rgb(a.c1),t.rgb(a.c2))(e.seriesIndex/a.l)};break;case"class":r=function(){return"inherit"};s=function(e,t){var n=e.seriesIndex*(a.step||1)%14;n=(n>9?"":"0")+n;return"sc-series sc-series-"+e.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":r=function(e,t){return i.defaultColor()(e,e.seriesIndex)};s=function(e,t){return"sc-series sc-series-"+e.seriesIndex+(e.classes?" "+e.classes:"")};break}var o=!a.gradient?r:function(e,t){return _.gradientFill(e,e.seriesIndex)};_.color(r);_.fill(o);_.classes(s);g.legend.color(r);g.legend.classes(s);return S};S.margin=function(t){if(!arguments.length){return e}for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return S};S.width=function(e){if(!arguments.length){return n}n=e;return S};S.height=function(e){if(!arguments.length){return r}r=e;return S};S.tooltips=function(e){if(!arguments.length){return u}u=e;return S};S.tooltipContent=function(e){if(!arguments.length){return y}y=e;return S};S.state=function(e){if(!arguments.length){return d}d=e;return S};S.strings=function(e){if(!arguments.length){return h}for(var t in e){if(e.hasOwnProperty(t)){h[t]=e[t]}}g.strings(h);return S};S.direction=function(e){if(!arguments.length){return s}s=e;_.direction(e);g.direction(e);return S};S.duration=function(e){if(!arguments.length){return l}l=e;_.duration(e);return S};S.delay=function(e){if(!arguments.length){return o}o=e;_.delay(e);return S};S.seriesClick=function(e){if(!arguments.length){return w}w=e;return S};return S}function S(){var e={top:10,right:10,bottom:10,left:10},n=null,a=null,r=6,s=0,o={min:.25,max:2},l={width:100,height:50},c="../img/",u=function(e){return'<div class="sc-tree-node"></div>'},d=function(e){return},f=function(e){return},p=function(e){return},h=false;var m=Math.floor(Math.random()*1e4),_=function(e,t){return i.defaultColor()(e,t)},g=function(e,t){return _(e,t)},v=function(e,t){e.y=t},b=function(e,t){e.data.x0=t},y=function(e,t){e.data.y0=t},x=function(e){return h?e.y:e.x},w=function(e){return h?e.x:e.y},S=function(e){return h?e.data.y0:e.data.x0},L=function(e){return h?e.data.x0:e.data.y0},E=function(e){return e.id||e.data.id},k=function(e){return"card-"+E(e)},M=false,T=true,A=true,C=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function D(n){n.each(function(n){var a=t.select(this);var c=n;var _=t.transition("tree").duration(s).ease(t.easeLinear);var g=null;var M=null;var A=null;var C=null;var R=t.tree().size([null,null]).nodeSize([h?l.height:l.width,1]).separation(function e(t,n){return t.parent==n.parent?1:1});var I={width:parseInt(a.style("width"),10)-e.left-e.right,height:parseInt(a.style("height"),10)-e.top-e.bottom};var O=a.selectAll("g.sc-chart-wrap").data([1]);var F=O.enter().append("g").attr("class","sc-chart-wrap sc-chart-tree");var N=a.select(".sc-chart-wrap").merge(F);var B=F.append("defs");var P=N.select("defs").merge(B);var U=i.dropShadow("node_back_"+m,P,{blur:2});B.append("clipPath").attr("id","sc-edge-clip-"+m).append("rect");var Y=P.select("#sc-edge-clip-"+m+" rect");Y.attr("width",I.width).attr("height",I.height).attr("x",e.left).attr("y",e.top);N.attr("clip-path",T?"url(#sc-edge-clip-"+m+")":"");F.append("rect").attr("class","sc-chart-background").attr("width",I.width).attr("height",I.height).attr("transform",i.translation(e.left,e.top)).style("fill","transparent");var H=N.select(".sc-chart-background");var G=F.append("g").attr("class","sc-tree-wrap");var V=N.select(".sc-tree-wrap");G.append("g").attr("class","sc-wrap sc-tree");var $=N.select(".sc-wrap.sc-tree");function j(e){g=t.hierarchy(e,function(e){return e.children});R(g);M=g.descendants();M.forEach(function(e){v(e,e.depth*2*(h?l.width:l.height))});A=M.slice(1)}function z(e){b(e,x(e));y(e,w(e));if(e.children&&e.children.length){e.children.forEach(z)}}function q(e,t){var n=w(e)-(h?0:l.height-r*3),i=x(e)-(h?l.width-r*2:0),a=w(t),s=x(t),o=h?(i+s)/2:i,c=h?n:(n+a)/2,u=h?(i+s)/2:s,d=h?a:(n+a)/2;return"M"+i+","+n+"C"+o+","+c+" "+u+","+d+" "+s+","+a}function W(e){if(e.children){e._children=e.children;e.children=null}else{e.children=e._children;e._children=null}}function K(e){W(e.data);D.update(e)}function J(e){var t="node-"+E(e);return t}function X(e){var t="link-"+(e.parent?E(e.parent):0)+"-"+E(e);return t}D.setZoom=function(){C=t.zoom().scaleExtent([o.min,o.max]).on("zoom",function(){V.attr("transform","translate("+t.event.transform.x+","+t.event.transform.y+")scale("+t.event.transform.k+")");d(t.event.transform.k)})};D.unsetZoom=function(e){C.on("zoom",null)};D.resetZoom=function(){N.call(C.transform,t.zoomIdentity)};D.orientation=function(e){h=e==="horizontal"||!h?true:false;R.nodeSize([h?l.height:l.width,1]);D.update(g)};D.showall=function(){function e(t){if(t._children&&t._children.length){t.children=t._children;t._children=null}if(t.children&&t.children.length){t.children.forEach(e)}}c=n;e(c);D.update(g)};D.zoomStep=function(e){var n=t.zoomTransform(N.node());var i=n.k+e;return this.zoomLevel(i)};D.zoomLevel=function(e){var n=t.zoomTransform(N.node());var i=Math.min(Math.max(e,o.min),o.max);var a=n.k;var r=[n.x,n.y];var s=H.node().getBoundingClientRect();var l=[s.width,s.height];var c=[(l[0]-l[0]*i)/2,(l[1]-l[1]*i)/2];var u=[i*(r[0]-(l[0]-l[0]*a)/2)/a,i*(r[1]-(l[1]-l[1]*a)/2)/a];var d=[c[0]+u[0],c[1]+u[1]];var f=t.zoomIdentity.translate(d[0],d[1]).scale(i);N.call(C.transform,f);return i};D.zoomScale=function(){var e=t.zoomTransform(N.node());return e.k};D.filter=function(e){var t=false;function i(n){if(E(n)===e){c=n;t=true}else if(!t&&n.children){n.children.forEach(i)}}i(n);D.update(g)};D.update=function(e){var t={x:0,y:0};function n(t){if(E(e)===E(g)){return q(g,g)}else{var n={x:S(e),y:L(e)};return q(n,n)}}function i(e){return q(e,e.parent)}function a(){return q(t,t)}j(c);var o=(h?r-l.width:l.width/-2)+"px";var d=(h?(r-l.height)/2:r*2-l.height)+"px";var m=$.selectAll("g.sc-card").data(M,E);var v;v=m.enter().insert("g").attr("class","sc-card").attr("id",J).attr("opacity",function(t){return E(e)===E(t)?1:0}).attr("transform",function(t){if(E(e)===E(g)){return"translate("+x(g)+","+w(g)+")"}else{return"translate("+(h?L(e):S(e))+","+(h?S(e):L(e))+")"}});v.each(function(e){var t;var n;if(!P.select("#"+k(e)).empty()){return}t=P.append("svg").attr("class","sc-foreign-object").attr("id",k(e)).attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("x",o).attr("y",d).attr("width",l.width+"px").attr("height",l.height+"px").attr("viewBox","0 0 "+l.width+" "+l.height).attr("xml:space","preserve");n=t.append("g").attr("class","sc-tree-node-content").attr("transform","translate("+r+","+r+")");u(n,e,l.width-r*2,l.height-r*3)});v.append("use").attr("xlink:href",function(e){return"#"+k(e)}).attr("filter",U).on("click",p);var b;b=$.selectAll("g.sc-card").merge(v);b.transition(_).duration(s).attr("opacity",1).attr("transform",function(n){if(E(e)===E(n)){t={x:h?w(n):x(n),y:h?x(n):w(n)}}return"translate("+x(n)+","+w(n)+")"}).on("end",f);var y;y=m.exit().transition(_).duration(s).attr("opacity",0).attr("transform",function(t){return"translate("+S(e)+","+L(e)+")"}).remove();y.selectAll(".sc-expcoll").style("stroke-opacity",1e-6);P.selectAll(".sc-foreign-object").attr("x",o).attr("y",d);var T;T=v.append("g").attr("class","sc-expcoll").style("opacity",1e-6).on("click",K);T.append("circle").attr("class","sc-circ-back").attr("r",r);T.append("line").attr("class","sc-line-vert").attr("x1",0).attr("y1",.5-r).attr("x2",0).attr("y2",r-.5).style("stroke","#bbb");T.append("line").attr("class","sc-line-hrzn").attr("x1",.5-r).attr("y1",0).attr("x2",r-.5).attr("y2",0).style("stroke","#fff");var C;C=$.selectAll("g.sc-expcoll").merge(T);C.style("opacity",function(e){return e.data.children&&e.data.children.length||e.data._children&&e.data._children.length?1:0});C.select(".sc-circ-back").style("fill",function(e){return e.data._children&&e.data._children.length?"#777":e.data.children?"#bbb":"none"});C.select(".sc-line-vert").style("stroke",function(e){return e.data._children&&e.data._children.length?"#fff":"#bbb"});var R=$.selectAll("path.link").data(A,X);var I=R.enter().insert("path","g").attr("d",n).attr("class","link").attr("id",X).attr("opacity",0);var O;O=$.selectAll("path.link").merge(I);O.transition(_).duration(s).attr("d",i).attr("opacity",1);R.exit().transition(_).duration(s).attr("d",a).attr("opacity",0).remove();z(g);D.resize(E(e)===E(g))};D.render=function(){D.resize(true)};D.resize=function(n){n=typeof n==="undefined"?true:n;D.resetZoom();I={width:parseInt(a.style("width"),10)-e.left-e.right,height:parseInt(a.style("height"),10)-e.top-e.bottom};var i=[Math.abs(t.min(M,x))+Math.abs(t.max(M,x))+l.width,Math.abs(t.min(M,w))+Math.abs(t.max(M,w))+l.height];var r=I.width/i[0],o=I.height/i[1],c=t.min([r,o]);var u=[Math.abs(t.min(M,x))+(r<o?0:(I.width/c-i[0])/2),Math.abs(t.min(M,w))+(r<o?(I.height/c-i[1])/2:0)];var d=[l.width/(h?1:2),l.height/(h?2:1)];var f=[(u[0]+d[0])*c+e.left/(h?2:1),(u[1]+d[1])*c+e.top/(h?1:2)];Y.attr("width",I.width).attr("height",I.height);H.attr("width",I.width).attr("height",I.height);$.transition(_).duration(n?0:s).attr("transform","translate("+f+")scale("+c+")")};D.setZoom();N.call(C);j(c);z(g);D.update(g)});return D}D.dispatch=C;D.options=i.optionsFunc.bind(D);D.id=function(e){if(!arguments.length){return m}m=e;return D};D.margin=function(t){if(!arguments.length){return e}e=t;return D};D.width=function(e){if(!arguments.length){return n}n=e;return D};D.height=function(e){if(!arguments.length){return a}a=e;return D};D.x=function(e){if(!arguments.length){return x}x=e;return D};D.y=function(e){if(!arguments.length){return w}w=i.functor(e);return D};D.showLabels=function(e){if(!arguments.length){return A}A=e;return D};D.color=function(e){if(!arguments.length){return _}_=e;return D};D.fill=function(e){if(!arguments.length){return g}g=e;return D};D.useClass=function(e){if(!arguments.length){return M}M=e;return D};D.radius=function(e){if(!arguments.length){return r}r=e;return D};D.duration=function(e){if(!arguments.length){return s}s=e;return D};D.zoomExtents=function(e){if(!arguments.length){return o}o=e;return D};D.zoomCallback=function(e){if(!arguments.length){return d}d=e;return D};D.nodeSize=function(e){if(!arguments.length){return l}l=e;return D};D.nodeImgPath=function(e){if(!arguments.length){return c}c=e;return D};D.nodeRenderer=function(e){if(!arguments.length){return u}u=e;return D};D.nodeCallback=function(e){if(!arguments.length){return f}f=e;return D};D.nodeClick=function(e){if(!arguments.length){return p}p=e;return D};D.horizontal=function(e){if(!arguments.length){return h}h=e;return D};D.getId=function(e){if(!arguments.length){return E}E=e;return D};D.getCardId=function(e){if(!arguments.length){return k}k=e;return D};return D}var L={bubbleChart:_,funnelChart:g,gaugeChart:v,lineChart:b,multibarChart:y,paretoChart:x,pieChart:w,treeChart:S};var E=function(e,n,i){var a=[],r,s=e.properties?Array.isArray(e.properties)?e.properties[0]:e.properties:{},o=0,l="Undefined",c=true,u=false,d=false,f=[],p=s.groups||e.label||s.labels||s.label||[],h=[];var m=s.xDataType==="datetime"||false,_=s.xDataType==="ordinal"||false,g=s.xDataType==="numeric"||false;function v(e){return(e.hasOwnProperty("label")?e.label:String(e))||l}function b(e,t){var n={group:t+1,label:v(e)};if(e.values){n.total=x(e.values)}return n}function y(e){return e.key||v(e)}var x=function(e){return e?e.reduce(function(e,t){return parseFloat(e)+t},0):0};function w(e){return e&&e.filter(function(e){return e.values&&e.values.length}).length>0}function S(e,t){var n=["multibar","line","area","pie","funnel","gauge"];return n.indexOf(e)!==-1&&w(t)}function L(e){return Array.isArray(e)&&e.length&&Array.isArray(e[0])}function E(e){return t.max(e,function(e){return e.values.length})===1}u=L(e.values);if(u){f=s.keys||e.values.splice(0,1)[0].splice(1);p=[];r=t.transpose(e.values.map(function(e,t){var n=e.splice(0,1)[0];if(_){p.push(b(n,t))}return e.map(function(e,i){if(m||g){return[n,e]}else if(_){return[t+1,e]}})}));a=f.map(function(e,t){return{key:e,values:r[t]}})}else{a=e.data}c=S(n,a);if(c){u=L(a[0].values);d=E(a);var k=u?function(e){return e[0]}:function(e){return e.x};var M=u?function(e){return e[1]}:function(e){return e.y};var T=u?function(e,t){return{x:A(e[0],t),y:C(e[1],t)}}:function(e,t){e.x=A(e.x,t);e.y=C(e.y,t);return e};var A=m?function(e,t,n){var i=e.toString().length===4?"1/1/"+e.toString():e;if(i.indexOf("GMT")===-1){i+=" GMT"}var a=new Date(i);return a.toUTCString()}:_?function(e,t){return t+1}:g?function(e,t){return parseFloat(e)}:function(e){return e};var C=function(e){return parseFloat(e)};switch(n){case"multibar":if(i==="basic"){if(a.length===1){a=a.map(function(e,t){e.key=y(e)||"Series "+t;e.values=e.values.map(function(e,t){return T(e,t)});return e});s.seriesLength=a[0].values.length}else{a=[{key:s.key||"Series 0",values:a.reduce(function(e,t,n){return!t?e:u?e.values.map(function(e,n){return{x:A(k(e),n),y:C(M(e),n)+M(t.values[n])}}):e.values.map(function(e,n){e.x=A(k(e),n);e.y=C(M(e),n)+M(t.values[n]);return e})})}];s.seriesLength=a[0].values.length}}else if(d){a=a.map(function(e,t){return{key:y(e),values:a.map(function(e,n){var i=e.values[0];if(t===n){if(u){return{x:A(k(i),n),y:C(M(i),n)}}else{i.x=A(k(i),n);i.y=C(M(i),n);return i}}else{return{x:A(k(i),n),y:0}}})}});s.seriesLength=a.length}else{a=a.map(function(e,t){e.key=y(e);e.values=e.values.map(function(e,t){return T(e,t)});return e});s.seriesLength=a.length}break;case"pie":a=a.map(function(e,t){var n={key:y(e),disabled:e.disabled||false,value:x(e.values)};if(e.color!==undefined){n.color=e.color}if(e.classes!==undefined){n.classes=e.classes}return n});s.seriesLength=a.length;break;case"funnel":a=a.reverse().map(function(e,n){return{key:y(e),disabled:e.disabled||false,values:[{series:n,x:0,y:t.sum(e.values,function(e){return M(e)}),y0:0}]}});s.seriesLength=a.length;break;case"area":case"line":a.forEach(function(e,n){e.seriesIndex=n;e.key=y(e);e.values=u?e.values.map(function(e,t){return{x:A(e[0],n,t),y:parseFloat(e[1])}}):e.values.map(function(e,t){e.x=A(e.x,n,t);e.y=parseFloat(e.y);return e});e.total=t.sum(e.values,function(e){return e.y});if(!e.total){e.disabled=true}});s.seriesLength=a.length;break;case"gauge":o=e.values.shift().gvalue;var D=0;a=a.map(function(e,t){var n={key:v(e),y:parseFloat(e.values[0])+D};D+=parseFloat(e.values[0]);return n});h=[{group:1,label:"Sum",total:o}];s.seriesLength=h.length;break}if(p.length){s.groups=p.map(b)}}else{switch(n){case"bubble":if(!e.data){var R={"Negotiation/Review":"Negotiat./Review","Perception Analysis":"Percept. Analysis","Proposal/Price Quote":"Proposal/Quote","Id. Decision Makers":"Id. Deciders"};a={data:e.records.map(function(e){return{id:e.id,x:e.date_closed,y:Math.round(parseInt(e.likely_case,10)/parseFloat(e.base_rate)),shape:"circle",account_name:e.account_name,assigned_user_name:e.assigned_user_name,sales_stage:e.sales_stage,sales_stage_short:R[e.sales_stage]||e.sales_stage,probability:parseInt(e.probability,10),base_amount:parseInt(e.likely_case,10),currency_symbol:"$"}}),properties:{title:"Bubble Chart Data",yDataType:"string",xDataType:"datetime",seriesLength:e.records.length}}}break}}return{properties:s,data:a}};var k="0.7.5";var M="sgr";var T=false;e.version=k;e.build=M;e.development=T;e.utility=i;e.utils=i;e.tooltip=a;e.models=m;e.charts=L;e.transform=E;Object.defineProperty(e,"__esModule",{value:true})})},function(e,t){var n;var i={read:"GET",update:"PUT",create:"POST",delete:"DELETE"};var a=["read","update","create","delete"];var r=function(e){e()};var s={};var o={};var l=function(e,t,n){e=e||{};e.xhr=e.xhr||{};this.request=e;this.status=e.xhr.status;this.responseText=e.xhr.responseText;this.textStatus=t;this.errorThrown=n;if(typeof this.responseText==="string"&&this.responseText.length>0){try{var i=this.request.xhr.getResponseHeader("Content-Type");if(i&&i.indexOf("application/json")===0){this.payload=JSON.parse(this.responseText);this.code=this.payload.error;this.message=this.payload.error_message}}catch(e){}}};_.extend(l.prototype,{toString:function(){return"HTTP error: "+this.status+"\ntype: "+this.textStatus+"\nerror: "+this.errorThrown+"\nresponse: "+this.responseText+"\ncode: "+this.code+"\nmessage: "+this.message}});var c=function(e,t){this.params=e;this.debug=t;this.state={}};_.extend(c.prototype,{execute:function(e,t,n){if(e){this.params.headers=this.params.headers||{};this.params.headers["OAuth-Token"]=e}if(t){this.params.headers=this.params.headers||{};this.params.headers["X-Metadata-Hash"]=t}if(n){this.params.headers=this.params.headers||{};this.params.headers["X-Userpref-Hash"]=n}this.state=_.extend(this.state,o);if(this.debug){console.log("====== Ajax Request Begin ======");console.log(this.params.type+" "+this.params.url);var i=this.params.data?JSON.parse(this.params.data):null;if(i&&i.password)i.password="***";console.log("Payload: ",this.params.data?i:"N/A");var a=$.extend({},this.params);delete a.data;console.log("params: ",a);console.log("====== Request End ======")}this.xhr=$.ajax(this.params)}});var u=function(e,t){var n=e.contents||{};this.status=e.status||200;this.statusText=e.status_text||"";this.responseText=_.isObject(n)?JSON.stringify(n):n;this.readyState=4;this._parent=t.xhr;this.headers=e.headers};_.extend(u.prototype,{isResolved:function(){return this._parent.isResolved()},getResponseHeader:function(e){return this.headers[e]},getAllResponseHeaders:function(){return _.reduce(this.headers,function(e,t,n){return e.concat(n+": "+t+"\n")},"")}});function d(e){var t,n,d,f,p,h,m,g,v,b=null,y=null,x=null,w=null,S=[],L={},E=0;d=e&&e.keyValueStore;t=e&&e.serverUrl||"/rest/v10";m=e&&e.defaultErrorHandler||null;n=e&&e.platform||"";f=e&&e.clientID||"sugar";p=(e&&e.timeout||30)*1e3;g=false;v=!(e&&e.disableBulkApi);if(e&&e.externalLoginUICallback&&_.isFunction(e.externalLoginUICallback)){b=e.externalLoginUICallback}if(d){if(!$.isFunction(d.set)||!$.isFunction(d.get)||!$.isFunction(d.cut)){throw new Error("Failed to initialize Sugar API: key/value store provider is invalid")}var k=function(){y=d.get("AuthAccessToken");x=d.get("AuthRefreshToken");w=d.get("DownloadToken")};if($.isFunction(d.initAsync)){d.initAsync(k)}else{k()}if($.isFunction(d.on)){d.on("cache:clean",function(e){e(["AuthAccessToken","AuthRefreshToken","DownloadToken"])})}}h=false;var M=function(e){if(e){y=e.access_token;x=e.refresh_token;w=e.download_token;if(d){d.set("AuthAccessToken",y);d.set("AuthRefreshToken",x);d.set("DownloadToken",w)}}else{y=null;x=null;w=null;if(d){d.cut("AuthAccessToken");d.cut("AuthRefreshToken");d.cut("DownloadToken")}}};var T=function(e,t,i){return function(a,s,o){var c=new l(t,s,o);var u=function(){if(!S.length||e.refreshingToken(t.params.url)){if(i.error){i.error(c)}else if($.isFunction(e.defaultErrorHandler)){e.defaultErrorHandler(c)}}else{for(var n=0;n<S.length;++n){if(S[n]._oerror)S[n]._oerror(c)}}e.setRefreshingToken(false)};var d,f=true;if(e.needRefreshAuthToken(t.params.url,c.code)){if(t._dequeuing){if(t._oerror)t._oerror(c);e.resetAuth();return}S.push(t);e.setRefreshingToken(true);var p={complete:function(){if(f){d=S.shift();while(d){if(d._ocomplete){d._ocomplete.call(this,d)}d=S.shift()}}},success:function(){e.setRefreshingToken(false);f=false;r(function(){d=S.shift();while(d){d._dequeuing=true;d.execute(e.getOAuthToken());d=S.shift()}})},error:u};if(!("crosstab"in window)||!crosstab.supported){e.login(null,{refresh:true},{complete:p.complete,success:p.success,error:p.error});return}crosstab(function(){crosstab.on("auth:refresh:complete",function(e){var t=e.data;switch(t){case"success":p.success();break;case"error":p.error();break;case"complete":p.complete();crosstab.off("auth:refresh:complete");break}});crosstab.broadcastMaster("auth:refresh")})}else if(e.needQueue(t.params.url)){S.push(t)}else if(g&&c.status==401&&c.payload&&c.payload.url&&c.payload.platform==n){e.handleExternalLogin(t,c,u)}else{u()}}};return{clientID:f,serverUrl:t,defaultErrorHandler:m,timeout:p,debug:false,abortRequest:function(e){var t=L[e];if(t){t.aborted=true;if(t.xhr){t.xhr.aborted=true;t.xhr.abort()}}},getRequest:function(e){return L[e]},setRefreshTokenSuccessCallback:function(e){if(_.isFunction(e))r=e},call:function(e,t,n,a,r){var o,l,u=i[e],d=this,f=this.getOAuthToken();r=r||{};a=a||{};var p={type:u,dataType:"json",headers:{},timeout:r.timeout||this.timeout,contentType:"application/json"};if(!r.url){p.url=t}if(a.success){p.success=function(e,t){o.status=e&&e.status?e.status:t;a.success(e,o)}}p.complete=function(){L[o.uid]=null;if(!h&&a.complete){a.complete(o)}};if(r.iframe===true){if(f){n=n||{};n["OAuth-Token"]=f;p.data=n}}else{if(n&&(e=="create"||e=="update"||e=="delete")){p.data=JSON.stringify(n)}}if(p.type!=="GET"){p.processData=false}o=new c(_.extend(p,r),this.debug);p.error=T(d,o,a);o._oerror=a.error;o._ocomplete=a.complete;o.uid=E++;L[o.uid]=o;l=[f,r.skipMetadataHash?null:this.getMetadataHash(),r.skipMetadataHash?null:this.getUserprefHash()];if(this.isLoginRequest(t)){o.execute()}else if(this.isAuthRequest(t)){o.execute(f)}else if(p.bulk&&v){var m=s[p.bulk]||[];if(!s[p.bulk]){s[p.bulk]=m}m.push({request:o,args:l})}else{o.execute.apply(o,l)}return o},triggerBulkCall:function(e){if(!v){return}e=e||true;var t=s[e],n=[],i=_.last(this.serverUrl.split("/"));if(!t){return}_.each(t,function(e){var t=e.request.params,a=e.args,r=a[0],s=a[1],o=a[2];if(r){t.headers=t.headers||{};t.headers["OAuth-Token"]=r}if(s){t.headers=t.headers||{};t.headers["X-Metadata-Hash"]=s}if(o){t.headers=t.headers||{};t.headers["X-Userpref-Hash"]=o}if(!_.isEmpty(t.url)){t.url=i+t.url.substring(this.serverUrl.length)}n.push(t)},this);this.call("create",this.buildURL("bulk"),{requests:n},{success:function(e,n){_.each(t,function(t,i){var a=t.request,r=e[i],s=r.contents||{},o=new u(r,n);a.xhr=o;if(a.aborted===true||s.error){a.status="error";if(_.isFunction(a.params.error)){a.params.error.call(a.params,a,"error",o.statusText)}}else{if(_.isFunction(a.params.success)){a.params.success.call(a.params,s,"success")}}if(_.isFunction(a.params.complete)){a.params.complete.call(a.params,a)}})}});s[e]=null},clearBulkQueue:function(){s={}},buildURL:function(e,t,n,i){i=i||{};var r=[];var s;r.push(this.serverUrl);if(e){r.push(e)}if(t!="create"&&n&&n.id){r.push(n.id)}if(n&&n.link&&t!="file"){r.push("link");if(_.isString(n.link)){r.push(n.link)}}if(t&&$.inArray(t,a)===-1){r.push(t)}if(n){if(n.relatedId){r.push(n.relatedId)}if(t=="file"&&n.field){r.push(n.field);if(n.fileId){r.push(n.fileId)}}else if(t==="collection"&&n.field){r.push(n.field)}}s=r.join("/");_.each(i,function(e,t){if(e===null||e===undefined){delete i[t]}});i=$.param(i);if(i.length>0){s+="?"+i}return s},buildFileURL:function(e,t){var i={};t=t||{};if(e.field&&t.htmlJsonFormat!==false){i.format="sugar-html-json"}if(t.deleteIfFails===true){i.delete_if_fails=true}if(t.passOAuthToken){i.oauth_token=this.getOAuthToken()}if(t.passDownloadToken){i.download_token=this.getDownloadToken()}if(!_.isUndefined(t.forceDownload)){i.force_download=t.forceDownload?1:0}if(t.cleanCache===true){i[(new Date).getTime()]=1}if(t.platform!==undefined){i.platform=t.platform}else if(n){i.platform=n}if(t.keep===true){i.keep=1}return this.buildURL(e.module,"file",e,i)},getOAuthToken:function(){return d?d.get("AuthAccessToken")||y:y},getRefreshToken:function(){return d?d.get("AuthRefreshToken")||x:x},getDownloadToken:function(){return d?d.get("DownloadToken")||w:w},getMetadataHash:function(){return d?d.get("meta:hash"):null},getUserprefHash:function(){return d?d.get("userpref:hash"):null},getMetadata:function(e){if(_.isString(e)){console.warn("`Api::getMetadata` has changed signature "+"and will drop support for the old signature in a future release. Please update your code.");var t=arguments[4]||{};e={types:arguments[1],modules:arguments[2],callbacks:arguments[3],public:t.getPublic,params:t.params}}e=e||{};var i=e.params||{};if(e.types){i.type_filter=e.types.join(",")}if(e.modules){i.module_filter=e.modules.join(",")}if(n){i.platform=n}var a="read";if(e.public){a="public"}else{e.callbacks=e.callbacks||{};e.callbacks.success=_.wrap(e.callbacks.success,function(e,t,n){if(t){this._serverInfo=t.server_info}if(e){e(t,n)}})}i.module_dependencies=1;var r=this.buildURL("metadata",a,null,i);return this.call(a,r,null,e.callbacks)},records:function(e,t,n,i,a,r){var s=this.buildURL(t,e,n,i);return this.call(e,s,n,a,r)},relationships:function(e,t,n,i,a,r){var s=this.buildURL(t,null,n,i);return this.call(e,s,n.related,a,r)},collection:function(e,t,n,i,a){var r=this.buildURL(e,"collection",t,n);return this.call("read",r,null,i,a)},favorite:function(e,t,n,i,a){var r=n?"favorite":"unfavorite";var s=this.buildURL(e,r,{id:t});return this.call("update",s,null,i,a)},follow:function(e,t,n,i,a){i=i||{};a=a||{};var r=n?"create":"delete",s=n?"subscribe":"unsubscribe",o=this.buildURL(e,s,{id:t});return this.call(r,o,null,i,a)},enumOptions:function(e,t,n,i){var a=this.buildURL(e+"/enum/"+t);return this.call("read",a,null,n,i)},bulk:function(e,t,n){var i=this.buildURL("bulk");return this.call("create",i,e,t,n)},fileDownload:function(e,t,n){t=t||{};n=n||{};var i={};i.success=function(i){if(n.iframe){n.iframe.prepend('<iframe class="hide" src="'+e+'"></iframe>')}else{window.location.href=e}if(_.isFunction(t.success)){t.success.apply(arguments)}};if(_.isFunction(t.error)){i.error=t.error}if(_.isFunction(t.complete)){i.complete=t.complete}return this.call("read",this.buildURL("ping"),{},i,{processData:false})},file:function(e,t,n,i,a){var r={files:n,processData:false};if(e==="delete"){r.iframe=false}else if(!a||a.iframe!==false){r.iframe=true;a=a||{};a.passOAuthToken=true}if(!a||a.deleteIfFails!==false){a=a||{};a.deleteIfFails=true}i.success=_.wrap(i.success,function(e,t){if(t.error&&_.isFunction(i.error)){i.error(t)}else if(_.isFunction(e)){e(t)}});return this.call(e,this.buildFileURL(t,a),null,i,r)},count:function(e,t,n,i){i=i||{};var a=this.buildURL(e,"count",t,i);return this.call("read",a,null,n)},exportRecords:function(e,t,i,a){var r=this;var s=this.buildURL(e.module,"record_list");a=a||{};return this.call("create",s,{records:e.uid},{success:function(s){e=_.omit(e,["uid","module"]);if(a.platform!==undefined){e.platform=a.platform}else if(n){e.platform=n}r.fileDownload(r.buildURL(s.module_name,"export",{relatedId:s.id},e),i,{iframe:t})}})},search:function(e,t,n){n=n||{};var i=null;if(n.data){i=n.data;delete n.data}var a="read";if(n.fetchWithPost){a="create"}var r=n.useNewApi?"globalsearch":"search";var s=this.buildURL(null,r,null,e);return this.call(a,s,i,t,n)},login:function(e,t,i){var a,s,o,l,c,u=this;e=e||{};i=i||{};s=function(e){M(e);if(g){u.setRefreshingToken(false);r(function(){var e=S.shift();while(e){e._dequeuing=true;e.execute(u.getOAuthToken());e=S.shift()}})}if(i.success)i.success(e)};o=function(e){M();if(i.error)i.error(e)};if(t&&t.refresh){a=_.extend({grant_type:"refresh_token",client_id:this.clientID,client_secret:"",refresh_token:this.getRefreshToken(),platform:n?n:"base"},t)}else{a=_.extend({grant_type:"password",username:e.username,password:e.password,client_id:this.clientID,platform:n?n:"base",client_secret:""},t);a.client_info=t}l="create";c=this.buildURL("oauth2","token",a,{platform:n});return this.call(l,c,a,{success:s,error:o,complete:i.complete})},me:function(e,t,n,i){var a=this.buildURL("me",e,t,n);return this.call(e,a,t,i)},css:function(e,t,n){var i={platform:e,themeName:t};var a=this.buildURL("css","read",{},i);return this.call("read",a,{},n)},logout:function(e,t){e=e||{};var n={token:this.getOAuthToken(),refresh_token:this.getRefreshToken()};if(this._serverInfo&&this._serverInfo.version.charAt(0)==="6"){delete n.refresh_token}var i=this.buildURL("oauth2","logout",n);var a=e.complete;e.complete=function(){M();if(a)a()};return this.call("create",i,n,e,t)},ping:function(e,t,i){return this.call("read",this.buildURL("ping",e,null,{platform:n}),null,t,_.extend({skipMetadataHash:true},i||{}))},signup:function(e,t,n){var i=e;i.client_info=t;var a="create";var r=this.buildURL("Leads","register",i);return this.call(a,r,i,n)},verifyPassword:function(e,t){var n={password_to_verify:e};var i="create";var a=this.buildURL("me/password",i);return this.call(i,a,n,t)},updatePassword:function(e,t,n){var i={new_password:t,old_password:e};var a="update";var r=this.buildURL("me/password",a);return this.call(a,r,i,n)},info:function(e){var t=this.buildURL("ServerInfo");return this.call("read",t,null,e)},isAuthenticated:function(){return typeof this.getOAuthToken()==="string"&&this.getOAuthToken().length>0},resetAuth:function(){M()},needRefreshAuthToken:function(e,t){return!h&&(typeof this.getRefreshToken()==="string"&&this.getRefreshToken().length>0)&&!this.isAuthRequest(e)&&t==="invalid_grant"},needQueue:function(e){return h&&!this.isAuthRequest(e)},isAuthRequest:function(e){return new RegExp("/oauth2/").test(e)},isLoginRequest:function(e){return new RegExp("/oauth2/token").test(e)},refreshingToken:function(e){return h&&this.isAuthRequest(e)},setRefreshingToken:function(e){h=e},handleExternalLogin:function(e,t,n){var i=this;if(!i.isLoginRequest(e.params.url)){S.push(e)}i.setRefreshingToken(true);$(window).on("message",function(e){if(!e.originalEvent.origin||e.originalEvent.origin!==window.location.origin){return}$(window).on("message",null);var t=$.parseJSON(e.originalEvent.data);var a=!t||!t.access_token;if(a){n()}i.setRefreshingToken(false);M(t);if(a){return}r(function(){var e=S.shift();while(e){e.execute(i.getOAuthToken());e=S.shift()}})});if(_.isFunction(b)){b(t.payload.url,"_blank","width=600,height=400,centerscreen=1,resizable=1")}},isExternalLogin:function(){return g},setExternalLogin:function(e){g=e},setExternalLoginUICallback:function(e){if(_.isFunction(e)){b=e}},getStateProperty:function(e){return o[e]},setStateProperty:function(e,t){o[e]=t},clearStateProperty:function(e){delete o[e]},resetState:function(){o={}}}}e.exports={getInstance:function(e){return n||this.createInstance(e)},createInstance:function(e){n=new d(e);if(!("crosstab"in window)||!crosstab.supported){return n}crosstab(function(){crosstab.on("auth:refresh",_.bind(function(){if(this._runningRefreshToken){return}this._runningRefreshToken=true;var e=this;this.login(null,{refresh:true},{complete:function(){crosstab.broadcast("auth:refresh:complete","complete")},success:function(){delete e._runningRefreshToken;crosstab.broadcast("auth:refresh:complete","success")},error:function(){delete e._runningRefreshToken;crosstab.broadcast("auth:refresh:complete","error")}})},n))});return n},HttpError:l,HttpRequest:c}},function(e,t,n){(function(n,i){var a,r;(function(){var s={};var o,l;o=this;if(o!=null){l=o.async}s.noConflict=function(){o.async=l;return s};function c(e){var t=false;return function(){if(t)throw new Error("Callback was already called.");t=true;e.apply(o,arguments)}}var u=Object.prototype.toString;var d=Array.isArray||function(e){return u.call(e)==="[object Array]"};var f=function(e,t){if(e.forEach){return e.forEach(t)}for(var n=0;n<e.length;n+=1){t(e[n],n,e)}};var p=function(e,t){if(e.map){return e.map(t)}var n=[];f(e,function(e,i,a){n.push(t(e,i,a))});return n};var h=function(e,t,n){if(e.reduce){return e.reduce(t,n)}f(e,function(e,i,a){n=t(n,e,i,a)});return n};var m=function(e){if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t};if(typeof n==="undefined"||!n.nextTick){if(typeof i==="function"){s.nextTick=function(e){i(e)};s.setImmediate=s.nextTick}else{s.nextTick=function(e){setTimeout(e,0)};s.setImmediate=s.nextTick}}else{s.nextTick=n.nextTick;if(typeof i!=="undefined"){s.setImmediate=function(e){i(e)}}else{s.setImmediate=s.nextTick}}s.each=function(e,t,n){n=n||function(){};if(!e.length){return n()}var i=0;f(e,function(e){t(e,c(a))});function a(t){if(t){n(t);n=function(){}}else{i+=1;if(i>=e.length){n()}}}};s.forEach=s.each;s.eachSeries=function(e,t,n){n=n||function(){};if(!e.length){return n()}var i=0;var a=function(){t(e[i],function(t){if(t){n(t);n=function(){}}else{i+=1;if(i>=e.length){n()}else{a()}}})};a()};s.forEachSeries=s.eachSeries;s.eachLimit=function(e,t,n,i){var a=_(t);a.apply(null,[e,n,i])};s.forEachLimit=s.eachLimit;var _=function(e){return function(t,n,i){i=i||function(){};if(!t.length||e<=0){return i()}var a=0;var r=0;var s=0;(function o(){if(a>=t.length){return i()}while(s<e&&r<t.length){r+=1;s+=1;n(t[r-1],function(e){if(e){i(e);i=function(){}}else{a+=1;s-=1;if(a>=t.length){i()}else{o()}}})}})()}};var g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.each].concat(t))}};var v=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[_(e)].concat(n))}};var b=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.eachSeries].concat(t))}};var y=function(e,t,n,i){t=p(t,function(e,t){return{index:t,value:e}});if(!i){e(t,function(e,t){n(e.value,function(e){t(e)})})}else{var a=[];e(t,function(e,t){n(e.value,function(n,i){a[e.index]=i;t(n)})},function(e){i(e,a)})}};s.map=g(y);s.mapSeries=b(y);s.mapLimit=function(e,t,n,i){return x(t)(e,n,i)};var x=function(e){return v(e,y)};s.reduce=function(e,t,n,i){s.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n;i(e)})},function(e){i(e,t)})};s.inject=s.reduce;s.foldl=s.reduce;s.reduceRight=function(e,t,n,i){var a=p(e,function(e){return e}).reverse();s.reduce(a,t,n,i)};s.foldr=s.reduceRight;var w=function(e,t,n,i){var a=[];t=p(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(n){a.push(e)}t()})},function(e){i(p(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.filter=g(w);s.filterSeries=b(w);s.select=s.filter;s.selectSeries=s.filterSeries;var S=function(e,t,n,i){var a=[];t=p(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(!n){a.push(e)}t()})},function(e){i(p(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.reject=g(S);s.rejectSeries=b(S);var L=function(e,t,n,i){e(t,function(e,t){n(e,function(n){if(n){i(e);i=function(){}}else{t()}})},function(e){i()})};s.detect=g(L);s.detectSeries=b(L);s.some=function(e,t,n){s.each(e,function(e,i){t(e,function(e){if(e){n(true);n=function(){}}i()})},function(e){n(false)})};s.any=s.some;s.every=function(e,t,n){s.each(e,function(e,i){t(e,function(e){if(!e){n(false);n=function(){}}i()})},function(e){n(true)})};s.all=s.every;s.sortBy=function(e,t,n){s.map(e,function(e,n){t(e,function(t,i){if(t){n(t)}else{n(null,{value:e,criteria:i})}})},function(e,t){if(e){return n(e)}else{var i=function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0};n(null,p(t.sort(i),function(e){return e.value}))}})};s.auto=function(e,t){t=t||function(){};var n=m(e);var i=n.length;if(!i){return t()}var a={};var r=[];var o=function(e){r.unshift(e)};var l=function(e){for(var t=0;t<r.length;t+=1){if(r[t]===e){r.splice(t,1);return}}};var c=function(){i--;f(r.slice(0),function(e){e()})};o(function(){if(!i){var e=t;t=function(){};e(null,a)}});f(n,function(n){var i=d(e[n])?e[n]:[e[n]];var r=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}if(e){var r={};f(m(a),function(e){r[e]=a[e]});r[n]=i;t(e,r);t=function(){}}else{a[n]=i;s.setImmediate(c)}};var u=i.slice(0,Math.abs(i.length-1))||[];var p=function(){return h(u,function(e,t){return e&&a.hasOwnProperty(t)},true)&&!a.hasOwnProperty(n)};if(p()){i[i.length-1](r,a)}else{var _=function(){if(p()){l(_);i[i.length-1](r,a)}};o(_)}})};s.retry=function(e,t,n){var i=5;var a=[];if(typeof e==="function"){n=t;t=e;e=i}e=parseInt(e,10)||i;var r=function(i,r){var o=function(e,t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i})},r)}};while(e){a.push(o(t,!(e-=1)))}s.series(a,function(e,t){t=t[t.length-1];(i||n)(t.err,t.result)})};return n?r():r};s.waterfall=function(e,t){t=t||function(){};if(!d(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length){return t()}var i=function(e){return function(n){if(n){t.apply(null,arguments);t=function(){}}else{var a=Array.prototype.slice.call(arguments,1);var r=e.next();if(r){a.push(i(r))}else{a.push(t)}s.setImmediate(function(){e.apply(null,a)})}}};i(s.iterator(e))()};var E=function(e,t,n){n=n||function(){};if(d(t)){e.map(t,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},n)}else{var i={};e.each(m(t),function(e,n){t[e](function(t){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1){a=a[0]}i[e]=a;n(t)})},function(e){n(e,i)})}};s.parallel=function(e,t){E({map:s.map,each:s.each},e,t)};s.parallelLimit=function(e,t,n){E({map:x(t),each:_(t)},e,n)};s.series=function(e,t){t=t||function(){};if(d(e)){s.mapSeries(e,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},t)}else{var n={};s.eachSeries(m(e),function(t,i){e[t](function(e){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1){a=a[0]}n[t]=a;i(e)})},function(e){t(e,n)})}};s.iterator=function(e){var t=function(n){var i=function(){if(e.length){e[n].apply(null,arguments)}return i.next()};i.next=function(){return n<e.length-1?t(n+1):null};return i};return t(0)};s.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var k=function(e,t,n,i){var a=[];e(t,function(e,t){n(e,function(e,n){a=a.concat(n||[]);t(e)})},function(e){i(e,a)})};s.concat=g(k);s.concatSeries=b(k);s.whilst=function(e,t,n){if(e()){t(function(i){if(i){return n(i)}s.whilst(e,t,n)})}else{n()}};s.doWhilst=function(e,t,n){e(function(i){if(i){return n(i)}var a=Array.prototype.slice.call(arguments,1);if(t.apply(null,a)){s.doWhilst(e,t,n)}else{n()}})};s.until=function(e,t,n){if(!e()){t(function(i){if(i){return n(i)}s.until(e,t,n)})}else{n()}};s.doUntil=function(e,t,n){e(function(i){if(i){return n(i)}var a=Array.prototype.slice.call(arguments,1);if(!t.apply(null,a)){s.doUntil(e,t,n)}else{n()}})};s.queue=function(e,t){if(t===undefined){t=1}function n(e,t,n,i){if(!e.started){e.started=true}if(!d(t)){t=[t]}if(t.length==0){return s.setImmediate(function(){if(e.drain){e.drain()}})}f(t,function(t){var a={data:t,callback:typeof i==="function"?i:null};if(n){e.tasks.unshift(a)}else{e.tasks.push(a)}if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}s.setImmediate(e.process)})}var i=0;var a={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(e,t){n(a,e,false,t)},kill:function(){a.drain=null;a.tasks=[]},unshift:function(e,t){n(a,e,true,t)},process:function(){if(!a.paused&&i<a.concurrency&&a.tasks.length){var t=a.tasks.shift();if(a.empty&&a.tasks.length===0){a.empty()}i+=1;var n=function(){i-=1;if(t.callback){t.callback.apply(t,arguments)}if(a.drain&&a.tasks.length+i===0){a.drain()}a.process()};var r=c(n);e(t.data,r)}},length:function(){return a.tasks.length},running:function(){return i},idle:function(){return a.tasks.length+i===0},pause:function(){if(a.paused===true){return}a.paused=true;a.process()},resume:function(){if(a.paused===false){return}a.paused=false;a.process()}};return a};s.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){var i=-1,a=e.length-1;while(i<a){var r=i+(a-i+1>>>1);if(n(t,e[r])>=0){i=r}else{a=r-1}}return i}function a(e,t,a,r){if(!e.started){e.started=true}if(!d(t)){t=[t]}if(t.length==0){return s.setImmediate(function(){if(e.drain){e.drain()}})}f(t,function(t){var o={data:t,priority:a,callback:typeof r==="function"?r:null};e.tasks.splice(i(e.tasks,o,n)+1,0,o);if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}s.setImmediate(e.process)})}var r=s.queue(e,t);r.push=function(e,t,n){a(r,e,t,n)};delete r.unshift;return r};s.cargo=function(e,t){var n=false,i=[];var a={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:true,push:function(e,n){if(!d(e)){e=[e]}f(e,function(e){i.push({data:e,callback:typeof n==="function"?n:null});a.drained=false;if(a.saturated&&i.length===t){a.saturated()}});s.setImmediate(a.process)},process:function r(){if(n)return;if(i.length===0){if(a.drain&&!a.drained)a.drain();a.drained=true;return}var s=typeof t==="number"?i.splice(0,t):i.splice(0,i.length);var o=p(s,function(e){return e.data});if(a.empty)a.empty();n=true;e(o,function(){n=false;var e=arguments;f(s,function(t){if(t.callback){t.callback.apply(null,e)}});r()})},length:function(){return i.length},running:function(){return n}};return a};var M=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else if(console[e]){f(n,function(t){console[e](t)})}}}]))}};s.log=M("log");s.dir=M("dir");s.memoize=function(e,t){var n={};var i={};t=t||function(e){return e};var a=function(){var a=Array.prototype.slice.call(arguments);var r=a.pop();var o=t.apply(null,a);if(o in n){s.nextTick(function(){r.apply(null,n[o])})}else if(o in i){i[o].push(r)}else{i[o]=[r];e.apply(null,a.concat([function(){n[o]=arguments;var e=i[o];delete i[o];for(var t=0,a=e.length;t<a;t++){e[t].apply(null,arguments)}}]))}};a.memo=n;a.unmemoized=e;return a};s.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};s.times=function(e,t,n){var i=[];for(var a=0;a<e;a++){i.push(a)}return s.map(i,t,n)};s.timesSeries=function(e,t,n){var i=[];for(var a=0;a<e;a++){i.push(a)}return s.mapSeries(i,t,n)};s.seq=function(){var e=arguments;return function(){var t=this;var n=Array.prototype.slice.call(arguments);var i=n.pop();s.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}};s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(e,t){var n=function(){var n=this;var i=Array.prototype.slice.call(arguments);var a=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},a)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}else{return n}};s.applyEach=g(T);s.applyEachSeries=b(T);s.forever=function(e,t){function n(i){if(i){if(t){return t(i)}throw i}e(n)}n()};if(typeof e!=="undefined"&&e.exports){e.exports=s}else if(true){!(a=[],r=function(){return s}.apply(t,a),r!==undefined&&(e.exports=r))}else{o.async=s}})()}).call(t,n(83),n(283).setImmediate)},function(e,t,n){n(314);const i=n(408);window.Handlebars.templates=window.Handlebars.templates||{};const a=n(287);i.requireModulesWithinContext(a,e=>{const t=i.adjustTemplateName(e);window.Handlebars.templates[t]=a(e)})},function(e,t){const n={_components:[],add(e){if(_.isFunction(e.onClose)){this._components=_.union(this._components,[e])}else{throw new Error(`Unable to register ${e}. Component \`onClose\` method is missed.`)}},remove(e){this._components=_.without(this._components,e)},close(e){if(_.contains(this._components,e)){e.onClose();this.remove(e)}},closeAll(){_.each(this._components,function e(t){this.close(t)},this)},hasActiveComponents(){return this._components.length>0},closeRecent(){this.close(_.last(this._components))}};app.augment("activeComponents",n,false)},function(e,t,n){const i=n(122);const a=n(22);(function t(n){let i=false;let r=false;let s=null;let o="";const l=/^(.*):([-\w]+)\.?(\S+)?$/;const c={OFFLINE_MODE:1,CONNECTION:2,SUGAR_INSTANCE:3,NPS:4};const u={init(){const e=n.config.analytics;let t=n.isNative?e.trackers.native:e.trackers.web;const a=_.isObject(t)?t.id:t;const o=e.enabled&&!_.isEmpty(a);t=_.defaults(_.isObject(t)?t:{},e.trackers.default);let l=e.trackers.sdk||{};const c=!_.isEmpty(l.id);l=_.defaults(l,e.trackers.default);const u=o||c;if(u){if(typeof Analytics==="undefined"){n.nomad.loadAnalytics()}if(typeof Analytics!=="undefined"){if(!i&&o){this.initialize();this._attachAnalytics();analytics.start(a,t);n.logger.debug(`Analytics enabled for application ${a}`)}else if(!o){i=false}if(!r&&c){this.initializeSdkTracking();s=l.trackerName;analytics.start(l.id,l);n.logger.debug(`Analytics enabled for SDK ${l.id}`)}else if(!c){r=false}}}if(!u||!i&&!r){this.dispose()}},processConfig(e){const t={};if(!n.config.analytics.ignoreServerSetting&&e.analytics&&!n.isNative){t.analytics=_.extend({},n.config.analytics,{enabled:Boolean(e.analytics.enabled)})}return t},initialize(){n.events.on("app:view:change",function e(t){const n={module:"",layoutType:"",track:"",link:t.link};if(t.action){this._handleGAForActions(t,n)}else if(t.parentModelId){this._handleGAForParentModule(t,n)}else if(t.root){this._handleGAForRootModules(t,n)}else if(t.isDynamic&&t.gaTrack){this._handleGAForDynamics(t,n)}else if(t.isDynamic){return}else{n.layoutType=t.modelId?"detail":"list";n.module=t.module||t.parentModule||t.root}this._buildViewIdAndTrack(n)},this).on("app:start",function e(){if(n.api.isAuthenticated()){this._trackServerInstance(n.config.siteUrl)}},this).on("app:login:success",function e(){this.trackEvent({category:"useHttps",action:n.loginManager.getSetting("useHttps")?"enabled":"disabled"})},this).on("app:sync:complete",function e(){const t=n.metadata.getServerInfo();this.trackEvent({category:"login",action:t.version});this._trackServerInstance(n.config.siteUrl)},this).on("offline:toggled",function e(t){this.setDimension({index:c.OFFLINE_MODE,value:t?"enabled":"disabled"})},this).on("offline:failure",function e(t){this.trackEvent({category:"offline-failure",action:t.code})},this).on("offline:encryption:complete",function e(t){this.trackEvent({category:"storage-encryption",action:t?"failed":"success"})},this).on("offline:tx:create",function e(t){this.trackEvent({category:"tx-create",action:n.offline.utils.actionToSymbol(t.txOptions)})},this).on("offline:tx:success",function e(t){this.trackEvent({category:"tx-success",action:n.offline.utils.actionToSymbol(t.tx),value:n.offline.utils.getTxAge(t.tx)})},this).on("offline:tx:error",function e(t){this.trackEvent({category:"tx-error",action:t.errorCode||"unknown",value:n.offline.utils.getTxAge(t.tx),label:n.offline.utils.actionToSymbol(t.tx)})},this).on("offline:tx:rollback",function e(t){this.trackEvent({category:"tx-rollback",action:n.offline.utils.actionToSymbol(t.tx),value:n.offline.utils.getTxAge(t.tx)})},this).on("offline:wins:completed",function e(t){this.trackEvent({category:"offline:wins",action:"synced",value:t.syncedRecords,label:"numRecords"})},this);i=true},initializeSdkTracking(){n.events.on("app:start",function e(){const t=_.getNested(n,"clientInfo.app.bundleId");const{sdkVersion:i}=n.config;this._trackSdk({category:"version",action:i,label:t});this._trackSdk({category:"product",action:n.config.productName,label:i});this._trackSdk({category:"bundleId",action:t,label:i});if(n.api.isAuthenticated()){this._trackSdkServerInfo()}},this).on("app:sync:complete",function e(){this._trackSdkServerInfo()},this);r=true},onAppPause(){this.trackEvent({category:"device",action:"pause"})},onAppResume(){this.trackEvent({category:"device",action:"resume"})},setNpsRating(e){this.setDimension({index:c.NPS,value:e})},_handleGAForParentModule(e,t){t.module=e.parentModule;if(e.modelId){t.layoutType="details"}else if(e.dashletId){this._handleGAForDashlets(e,t)}else{t.layoutType="relationships"}},_handleGAForRootModules(e,t){switch(e.root){case"Login":t.layoutType=e.root.toLowerCase();t.module=e.root;t.track="create";break;case"About":case"Settings":t.layoutType=e.root.toLowerCase();t.module=n.utils.capitalize(e.root);t.track="create";break;case"Offline":switch(e.module){case"TxLog":t.layoutType=e.modelId?"detail":"list";t.module=e.module;break;case"offlineStats":t.layoutType=e.module;t.module=e.root;t.track="create";break;default:t.layoutType=e.root.toLowerCase();t.module=e.root;t.track="create";break}break;case"Search":case"Recents":if(e.module&&e.modelId){t.layoutType="detail";t.module=e.module}else{t.layoutType="list";t.module=e.root}break;case"Dashboards":if(e.dashletId){this._handleGAForDashlets(e,t)}else{t.layoutType="dashboard"}break}},_handleGAForActions(e,t){switch(e.action){case"duplicate":t.layoutType="edit";t.track="duplicate";break;case"associate":t.layoutType=e.action;t.module=n.data.getRelatedModule(e.parentModule,e.link);t.track=e.parentModule;break;default:t.layoutType=e.action?e.action:"detail";break}if(e.action==="create"&&e.parentModelId){t.layoutType="edit";t.module=e.parentModule;t.track=e.link;t.link="create"}if(!t.module){t.module=e.module||e.parentModule}},_handleGAForDynamics(e,t){const{gaTrack:i}=e;if(i==="teamset"){t.layoutType="multienum";t.module=n.controller.getScreenContext().module;t.track="teamset"}else if(i==="textarea"){t.layoutType=i;t.module=e.context.get("parentModel")?e.context.get("parentModel").module:null}else if(i==="duplicate"){t.layoutType="edit";t.module=n.controller.getScreenContext().module;t.track=i}else{t.layoutType=i;t.module=n.controller.getScreenContext().module;if(i==="relate"||i==="parent-list"){t.track=e.context.get("module")}else if(i==="about"){t.module="Login"}}},_handleGAForDashlets(e,t){const n=a.getDashletConfig(e.dashboardId,e.dashletId).view;const i=e.root==="Dashboards";t.layoutType=i?"dashlet":"record-dashlet";if(n.template==="tabbed-dashlet"){t.layoutType="";t.module=""}else if(n.type==="dashablelist"){t.module=i?"list":e.parentModule;t.track=i?n.module:"list";t.link=i?t.link:n.module}else{t.module=i?n.type:e.parentModule;t.track=i?"":n.type}},_buildViewIdAndTrack(e){const t=_.compact([e.layoutType,e.module,e.track,e.link]).join("/");if(!_.isEmpty(t)){const n={view:t};if(e.trackerName){n.trackerName=e.trackerName}this.setActiveView(n)}},setActiveView(e){o=e.view;if(!e.silent){this.trackPageView(e)}},trackPageView(e){if(!i){return}n.logger.debug(`GAN-page: ${e.view}`);if(n.offlineEnabled){this.setDimension({index:c.CONNECTION,value:n.offline.status.noConnection?"offline":"online"})}analytics.trackPageView(e)},trackEvent(e={}){if(i){this._trackEvent(e)}},_trackEvent(e={}){e.action=`${e.action||"[unknown]"}`;e.label=_.isUndefined(e.label)?o:e.label;n.logger.debug(`${String(`GAN-event: ${e.category}:${e.action}(${e.value})`)+e.label} ${e.trackerName||""}`);analytics.trackEvent(e)},startSession(e){if(i){analytics.startSession(e)}},setDimension(e){if(i){analytics.setDimension(e)}},setMetric(e){if(!i){return}analytics.setMetric(e)},_trackSdk(e){if(r){this._trackEvent({trackerName:s,category:e.category,action:e.action,value:e.value||0,label:e.label||""})}},_trackSdkServerInfo(){const e=n.metadata.getServerInfo();const t=_.getNested(n,"clientInfo.app.bundleId");let i=n.config.siteUrl;if(!_.isEmpty(n.config.siteUrlBehindProxy)){i=n.config.siteUrlBehindProxy}this._trackSdk({category:"instance",action:i,label:t});if(!_.isEmpty(e)){this._trackSdk({category:"server",action:`${e.version}${e.flavor}`,label:t})}},_attachAnalytics(){document.addEventListener("click",this._trackListener,true);document.addEventListener("swipeLeft",this._trackListener,true);document.addEventListener("swipeRight",this._trackListener,true)},_detachAnalytics(){document.removeEventListener("click",this._trackListener,true);document.removeEventListener("swipeLeft",this._trackListener,true);document.removeEventListener("swipeRight",this._trackListener,true)},_trackListener(e){let t;if(e.path){t=e.path}else{t=$(e.target).parents();t.push(e.target)}_.each(t,t=>{const i=$(t);const a=i.attr("track");if(!a){return}const r=a.match(l);const s=r[1].indexOf(e.type)+1;if(!s){return}const o=r[2]||t.id;const c=r[3]||"";n.analytics.trackEvent({category:e.type,action:o,value:c&&i.hasClass(c)?1:0})})},_trackServerInstance(e){if(n.config.analytics.instanceTracking){this.setDimension({index:c.SUGAR_INSTANCE,value:this._instanceKeyFromUrlWhitelist(e)})}},_instanceKeyFromUrlWhitelist(e){let t=_.find(n.config.analytics.serverUrlWhiteList||[],t=>{const n=new RegExp(t,"i");return n.test(e)});if(n.config.analytics.instanceUrlTracking){t=n.loginManager.getSetting("loginUrl")}return t||"others"},dispose(){n.events.off(null,null,u);i=false;r=false;s=null;n.logger.debug("Analytics disabled")}};n.augment("analytics",u,false);e.exports=u})(SUGAR.App)},function(e,t,n){const i=n(50);const a=n(3);(function e(t){const r=1024*1024*100;const s=["file","image"];const o={set:function e(t,n,i){t[n]=i},push:function e(t,n,i){if(!t[n]){t[n]=[]}t[n].push(i)},pushDocField:function e(t,n,i){t.docFields[i.name]=i}};const l={byType:{name:{dataName:"nameField",action:o.set},fullname:{dataName:"fullNameField",action:o.set},image:{dataName:"imageField",action:o.pushDocField},phone:{dataName:"phoneFields",action:o.push},url:{dataName:"urlFields",action:o.push},email:{ignore:false,dataName:"emailFields",action:o.push},file:{dataName:"docFields",action:o.pushDocField},fieldset:{action(e,t,n){let i=true;_.each(n.fields,t=>{const a=l.byType[t.type];if(a){a.action(e,a.dataName,n);i=false}});if(i){o.push(e,"otherFields",n)}}}},byNameRegEx:{"^(?=.*address)((?!email).)*$":{dataName:"addressFields",action:o.push}},default:{dataName:"otherFields",action:o.push}};const c=function(e){let t=null;_.each(l.byNameRegEx,(n,i)=>{const a=new RegExp(i);if(a.test(e.name)){t=n}});return t};const u=t.data.beanModel;t.NomadBean=t.data.beanModel.extend({constructor:function(...e){const[n]=e;if(n&&!_.isUndefined(n._module)){this.module=n._module;this.fields=t.metadata.getModule(this.module,"fields")}u.prototype.constructor.apply(this,e)},initialize(...e){this.addValidationTask("nomadValidation",_.bind(this._nomadValidator,this));u.prototype.initialize.apply(this,e)},getSnapshot(e){const t=this.toJSON(e);const n=e&&e.fields||_.keys(this.attributes);_.each(n,e=>{const n=this.get(e);if(n instanceof SUGAR.App.MixedBeanCollection){t[e]=n.toJSON()}});return t},_nomadValidator(e,n,i){const a=t.metadata.getModule(this.module).fields;_.each(e,function e(t,i){const r=a[i];if(r&&r.type==="image"){if(this._imageRequiredValidator(r,i,this)){n[i]=n[i]||{};n[i].required=true}}},this);i(null,e,n)},_imageRequiredValidator(e,n,i){if(!t.supportedFeatures.fileUpload){return}let a=false;if(e.required){a=_.isEmpty(i.get(n))}return a},isValidAsync(e,t){const n=this.get("_erased_fields");u.prototype.isValidAsync.call(this,e,(e,i)=>{if(!e){if(!_.isEmpty(n)){_.each(i,(e,t)=>{if(e.required&&_.contains(n,t)){delete e.required}})}_.each(i,(e,t)=>{if(_.isEmpty(e)){delete i[t]}})}t(_.isEmpty(i),i)})},_getAdditionalListFieldsAmount(e){const{numberOfAdditionalListFields:n}=t.config.ui;return n.modules&&n.modules[e]?n.modules[e]:n.defaultValue||n},getContextMetaData(e,n){const a=l;const r=this;const o={otherFields:[],phoneFields:[],urlFields:[],emailFields:[],addressFields:[],additionalListFields:[],docFields:{}};const u=this._getAdditionalListFieldsAmount(this.module);_.each(e,(e,t)=>{const i=a.byType[e.type]||c(e)||(o[a.default.dataName].length<n?a.default:null);if(i&&!i.ignore){i.action(o,i.dataName,e)}if(t>0&&t<=u){o.additionalListFields.push(e)}},this);_.each(this.getFileFields(),e=>{if(_.contains(s,e.type)&&!o.docFields[e.name]){o.docFields[e.name]=e}});o.headerField=o.fullNameField||o.nameField;o.subpanels=i.getSubpanels(this.module);o.hasLinkableSubpanels=i.hasLinkableSubpanels(o.subpanels);o.hasCreatableSubpanels=i.hasCreatableSubpanels(o.subpanels);o.listItemTitleField=e[0];o.avatarField=_.find(e,e=>e.type==="image"&&e.name==="picture"&&_.contains(t.config.modules.modulesWithAvatars,r.module));o.addressFieldsGroups=_.groupBy(o.addressFields,e=>{if(e.type==="address"){return e.name}return r.fields[e.name].group});o.actions=this.getAvailableActions(o);return o},getFileFields(){if(!this._fileFieldDefs){this._fileFieldDefs=[];_.each(t.metadata.getModule(this.module,"fields"),e=>{if(_.contains(s,e.type)){this._fileFieldDefs.push(e)}})}return this._fileFieldDefs},getAvailableActions:function e(t){const n={};const i=this._canHaveFiles(t.docFields)||this._canHavePDFs()||this.canHaveAttachments();const a=t.phoneFields.length;const r=[a&&"phone",a&&"message",t.urlFields.length&&"url",_.keys(t.addressFieldsGroups).length&&"map",i&&"doc",t.emailFields.length&&"email"];_.each(r,e=>{if(e){n[e]=Boolean(e)}});return n},getAddresses(e){let n;let i;let a;const r=this;return _.chain(e).map((e,s)=>{if(s.lastIndexOf("_c")===s.length-2){s=s.replace("_c","")}a={};_.each(e,(e,i)=>{let o=r.get(e.name);if(o){n=e.name;n=n.replace(`${s}_`,"");if(n.lastIndexOf("_c")===n.length-2){n=n.replace("_c","")}if(e.type==="enum"){const n=t.metadata.getModule(r.module).fields[e.name];const i=t.lang.getAppListStrings(n.options)||{};o=i[o]||o}a[n]=o}});if(_.keys(a).length){i={};const e=t.lang.get(`LBL_${s.toUpperCase()}`,r.module);i[e]=a;return i}}).compact().value()},getDocuments(e,n={}){const i=_.isEmpty(e)?this.getFileFields():_.filter(e,e=>t.acl.hasAccessToModel("read",this,e.name));this.docsLoading=true;if(this.module==="Emails"){this._createEmailsDocData()}else if(this.canHaveAttachments()){this._createDocData(this.get("attachment_list"),i)}else if(this._canHaveFiles(i)){let e=n.docData||[];const a=this.get("doc_url");if(_.has(this.fields,"doc_url")&&!_.isEmpty(a)){let t=this.get("filename");if(_.has(this.fields,"doc_type")){t+=` (${this.get("doc_type")})`}e=this._createDocData([{name:t,uri:a,openExternally:true,nonSugarURL:true}],i,null,{silent:true})}this.getFiles({success:e=>this._createDocData(_.omit(e,"record"),i),error:n=>{t.logger.debug(`Error creating file url for ${this.module} : ${n}`);this.docsLoading=false;this.trigger("docs:ready",e)}},{iframe:false,deleteIfFails:false})}else if(this._canHavePDFs()){this._createDocData([{name:`${this.module}.pdf`,uri:`${t.api.serverUrl}/${this.module}/${this.id}/pdf`,file_mime_type:"application/pdf",filename:`${this.get("name")}.pdf`,oauth:true}],i)}else{this.docsLoading=false;this.trigger("docs:ready",[])}},_createEmailsDocData(){const e=this.get("attachments_collection");const t=n(9);const i=[];if(!(e instanceof Backbone.Collection)){return}e.each(e=>{const n={"content-length":e.get("file_size"),"content-type":e.get("file_mime_type"),name:e.get("filename"),uri:`rest/v${t.getRestVersion()}/Notes/${e.get("id")}/file/filename`};i.push(n)});this._createDocData(i,[{name:"filename",type:"file"}])},_createDocData(e,i,s,o){const l=_.pluck(i,"name");this.docsLoading=false;o=o||{};const c=[];const u=e=>{if(!_.isString(e)||this.module==="Documents"){return false}return!t.acl.hasAccessToModel("read",this,e)||!_.contains(l,e)};_.each(e,(e,s)=>{let o;let l;let d=e.uri||e.file_uri;const f=e["content-length"];const p=e.name||e.document_revision_filename;const h=Boolean(e.fsEntry);if(!(d||h)||u(s)){return}const m=_.find(i,e=>e.name===s);o=m?t.lang.get(m.label||m.vname,this.module):p;if(!_.isUndefined(f)){o+=` (${this._fileSizeFormat(f)})`}if(!h){const i=!_.isEmpty(t.api.getDownloadToken());if(p&&!e.nonSugarURL){const a=n(9).getRestVersion();l=d.split(new RegExp(`rest\\/v${a}\\/`,"gi"))[1];d=`${t.api.serverUrl}/${l}?platform=${t.config.platform}`;if(i){if(!e.oauth){d+="&download_token={download_token}"}}else{d+="&oauth_token={oauth_token}"}}if(f>r){e.openExternally=true}}const g=e.file_mime_type||e["content-type"]||this.get("file_mime_type")||e.type||"";const v={};v[o]={fsEntry:e.fsEntry,url:d,openExternally:Boolean(e.openExternally),file_mime_type:g,filename:a.sanitizeFileName(e.filename||e.name||this.get(s)),oauth:e.oauth,fieldName:s};c.push(v)});s=s||[];const d=_.keys(e);const f=_.filter(s,(e,t)=>!_.contains(d,_.values(e)[0].fieldName));c.push(...f);if(!o.silent){this.trigger("docs:ready",c)}return c},_fileSizeFormat(e){return e<=0?"0":String(a.humanFileSize(e))},_canHaveFiles(e){const n=t.config.modules.modulesWithFiles||[];return!_.isEmpty(e)||_.contains(n,this.module)||_.has(this.fields,"doc_url")},_canHavePDFs(){const e=t.config.modules.modulesWithPDFs||[];return _.contains(e,this.module)},getFieldsDataArray(e,n){let i;let a;let r;let s;const o=[];const l=this;let c;let u;_.each(e,e=>{s={};a=l.get(e.name);u=e.name;r=t.metadata.getModule(l.module).fields[u];if(a&&(_.isUndefined(n)||a.match(n))){c=e.label||r.label||r.vname||u;i=t.lang.get(c,l.module);s[i]=a;o.push(s)}});return o},getAccessibleFields(e,n="read"){const i=this;e=_.filter(e,e=>t.acl.hasAccessToModel(n,i,e.name));return e||[]},getAccessibleFieldsGroups(e,t){const n={};const i=this;_.each(e,(e,a)=>{e=i.getAccessibleFields(e,t);if(e.length){n[a]=e}});return n},isDataDefined(e,t){return _.any(e,function e(n){const i=this.get(n.name);return t?_.isString(i)&&i.match(t):i},this)},hasActiveEmail(e){return _.any(e,function e(t){return _.any(this.get(t.name),e=>!Number(e.invalid_email)&&!Number(e.opt_out))},this)},hasDeleteAccess(){if(t.acl.hasAccessToModel("delete",this)&&!_.contains(t.config.modules.nonDeletableModules,this.module)){return!(t.serverInfo.isSevenUp&&(this.get("closed_revenue_line_items")||_.find(t.config.modules.nonDeletableSalesStages,function e(t){return t===this.get("sales_status")||t===this.get("sales_stage")},this)))}return false},hasEditAccess(){return t.acl.hasAccessToModel("edit",this)&&!_.contains(t.config.modules.nonEditableModules,this.module)},hasUnlinkAccess(e,n){if(n.relationship_type==="many-to-many"){return true}if(!_.isEmpty(e)){return!_.find(e,function e(n){return!t.acl.hasAccessToModel("edit",this,n.name)},this)}else if(n.via_parent_id){return t.acl.hasAccessToModel("edit",this,n.relationship_role_column)}return true},changeCurrencyId(e,n){n=n||{};const i=this.get("currency_id")||e;const a={};const r=n.silentField||{};_.each(this.fields,function n(r,s){if(r.type!=="currency"){return}const o=this.get(s);if(o){const n=t.currency.convertAmount(o,i,e);this.set(s,n,{silent:true})}a[s]=true},this);this.set("currency_id",e,{silent:true});if(!n.silent){_.each(a,function e(t,n){if(r===n){return false}this.trigger(`change:${n}`)},this)}this.trigger("change:currency_id",{prevCurrencyId:i,newCurrencyId:e})},save(e,t){t=_.clone(t)||{};const n=t.fields&&t.fields.length;if(n){t.fields=this._filterOutCalculatedFields(t.fields);if(t.fields.length===0){if(t.success){t.success()}return}}t.lastModified=this.get("date_modified");return u.prototype.save.call(this,e,t)},_filterOutCalculatedFields(e){const n=t.metadata.getModule(this.module).fields;return _.filter(e,e=>{const t=n[e];return e==="email1"||t&&!(t.calculated&&t.enforced)})},uploadFile(e,n,i,a){i=i||{};a=a||{};a.iframe=false;const r=this;a.deleteIfFails=Boolean(a.isCreate);return t.api.file("create",{id:this.id,module:this.module,field:e},n,{success(t,n,a){const s=t[e];if(s){r._onFileChange(t,e);if(i.success){i.success(t)}}else{const e=new SUGAR.Api.HttpError({xhr:a});e.responseText=t.xhr?t.xhr.message:e.responseText;if(i.error){i.error(e)}}},error(e){e.isFileUploadError=true;i.error.call(this,e)}},a)},deleteFile(e,n,i,a){const r=this;a=a||{};const s={success(t={}){r._onFileChange(t,e);if(i.success){i.success(t)}},error(e){e.isFileUploadError=true;if(i.error){i.error(e)}}};return t.api.file("delete",{module:this.module,id:this.id,field:e},null,s,a)},_onFileChange(e,t){this.set(t,e[t].name);if(e.record){this.set("date_modified",e.record.date_modified)}else{this._docsUpdated=true}},isCloseActionAvailable(){const e=this.get("status");const n=a.getClosedStatusValue(this.module);const i=n===e;return n&&!i&&t.acl.hasAccessToModel("edit",this,"status")&&!_.contains(t.config.modules.nonEditableModules,this.module)},copy(e,t,n){_.each(this._defaults,function e(t,n){this.set(n,"")},this);u.prototype.copy.call(this,e,t,n);this._copyCollectionFields(e);this._unsetByDef();this._unsetByACL()},_copyCollectionFields(e){const n=this.getCollectionFields(e.attributes);_.each(n,(e,n)=>{const i=e.map(e=>{const{module:n}=e;const i=e.get("_link");const a=t.data.createRelatedBean(this,null,i,{_link:i});a.copy(e);a.module=n;return a});this.set(n,i)});_.each(this._relatedCollections,e=>e.resetDelta())},_unsetByDef(){const e=this.get("email1");const n=function(e){if(_.isString(e)){this.unset(e)}else{_.each(this.attributes,function t(n,i){if(e.test(i)){this.unset(i)}},this)}};_.each(t.NomadBean._getDoNotCopyFields(this.module),function e(t){n.call(this,t)},this);const i=t.metadata.getModule(this.module);const a=i?i.fields:null;const r=_.chain(a).filter(e=>_.contains(t.NomadBean._doNotCopyFieldTypes,e.type)).pluck("name").value();_.each(r,function e(t){n.call(this,t)},this);if(e){this.set("email1",e)}},_unsetByACL(){const e=_.getNested(t.metadata.getView(this.module,"edit"),"panels.0.fields");const n=e=>{_.each(e,e=>{if(_.isEmpty(e.fields)){const n=e.name;if(!t.acl.hasAccessToModel("edit",this,n)){this.unset(n)}}else{n(e.fields)}})};n(e)}},{_doNotCopyFieldNames:{All:["created_by","created_by_name","modified_by_name","modified_user_id","date_entered","date_modified","my_favorite","deleted",/^email([^_]|_(?!c$|reminder))+$/],Employees:["user_name","user_hash","system_generated_password","pwd_last_changed","authenticate_id","sugar_login","is_admin","picture","status"],Calls:["status"],Contacts:["portal_active","portal_app","portal_name","portal_password","portal_password1"],Notes:["contact_email","contact_phone","file_mime_type","file_url"],Tasks:["contact_email","contact_phone","status"],Meetings:["status"],RevenueLineItems:["quote_id","quote_name"],Opportunities:["closed_revenue_line_items"]},_doNotCopyFieldTypes:["file","password","image"],_getDoNotCopyFields:function e(){let n=null;t.events.on("app:sync:complete",()=>{n=null});const i={"7.0":{"ENT, ULT":{Opportunities:["amount","date_closed"]}}};const r=function(e,n){const a=_.find(i,(i,a)=>{if(!t.utils.versionCompare(n,a,">=")){return false}const r=_.find(i,(t,n)=>{const i=n.split(/,\s*/);return _.contains(i,e)});return r});return a&&_.values(a)[0]};const s=function(){if(n!==null){return n}const e=t.metadata.getServerInfo();const{flavor:i}=e;const s=e.version;const o=t.NomadBean._doNotCopyFieldNames;const l=r(i,s);n=a.merge(o,l,(e,t)=>_.union(e,t));return n};return function e(t){const n=s();let i=n.All;const a=n[t];if(a){i=_.union(i,a)}return i}}()});t.data.beanModel=t.NomadBean})(SUGAR.App)},function(e,t,n){(function e(t){const{raven:i}=t.config;const a=function e(){let t=[];const n=i&&i.enabled&&i.enhancedErrorReporting&&i.enhancedErrorReporting.maxLogSize;return{push(e){e.timestamp=(new Date).toISOString();t.push(e);if(t.length>n){t.shift()}},empty(){t=[]},getAll(){return _.clone(t).reverse()}}}();const r=function(e,t,n){const i=e[t];e[t]=function e(...t){n.apply(this,t);return i.apply(this,t)};e[t]._originalMethod=i};const s=(e,t)=>{e[t]=e[t]._originalMethod};const o=function(e,t,n){const i={method:e,module:t.module};if(t.id){i.modelId=t.id}if(t.filterDef){i.filterDef=t.filterDef}if(n){i.options=_.pick(n,["byPtr","limit","myItems","query","offset"]);if(n.relate&&t.link&&t.link.bean){i.link=t.link.name;i.parentModule=t.link.bean.module;i.parentId=t.link.bean.id}if(n.favorite){i.action=t.get("my_favorite")?"favorite":"unfavorite"}if(n.following){i.action=t.get("following")?"follow":"unfollow"}}return i};const l=e=>({route:e});const c=(e,t,n)=>({code:e.code,status:e.status});const u=e=>({options:e});const d=n(87);const f=[{context:t.data,method:"sync",filter:o,label:"data-manager.sync"},{context:t.nomad,method:"login",label:"app.login"},{context:t.nomad,method:"logout",label:"app.logout"},{context:t.nomad,method:"onMemoryWarning"},{context:t.nomad,method:"onResume"},{context:t.nomad,method:"onPause"},{context:t.error,method:"handleHttpError",filter:c},{context:t.NomadController.prototype,method:"navigate",filter:l},{context:t.NomadController.prototype,method:"goBack"},{context:t.NomadController.prototype,method:"clean",label:"controller.clean"},{context:d,method:"_loadScreen",filter:u}];const p={init(){if(!(i&&i.enabled&&i.enhancedErrorReporting)||this.initialized){return false}_.each(f,e=>{r(e.context,e.method,function t(...n){const i={label:e.label||e.method};if(e.filter){_.extend(i,e.filter.apply(this,n)||{})}a.push(i)})});this.initialized=true},getLog(){return a.getAll()},dispose(){_.each(f,e=>{s(e.context,e.method)});a.empty();this.initialized=false}};t.augment("enhancedErrorReporter",p,true)})(SUGAR.App)},function(e,t,n){const i=n(24);const a=n(9);(function e(t){t.raven={initialize(){},ravenDataCallback(e){e.tags=_.extend(e.tags||{},{native:t.isNative,osVersion:_.getNested(t,"clientInfo.device.osVersion"),uuid:_.getNested(t,"clientInfo.device.uuid"),device:_.getNested(t,"clientInfo.device.model"),offline:t.config.offline&&t.config.offline.enabled});e.extra=_.extend(e.extra||{},{model:_.getNested(t,"clientInfo.device.model"),modelName:_.getNested(t,"clientInfo.device.modelName"),bundleId:_.getNested(t,"clientInfo.app.bundleId"),serverUrl:a.getServerUrl(),serverVersion:i.getServerVersion(),extendedLog:t.enhancedErrorReporter.getLog()});return e},ravenShouldSendCallback(){return t.config.raven.enabled},ravenReported(e){if(t.error){const n=e.data||{};t.error.logFatalError(n.message,n)}},setUser(e){Raven.setUser(e?{id:e}:null)}};if(t.config.raven&&t.config.raven.enabled&&!_.isEmpty(t.config.raven.url)){document.addEventListener("ravenSuccess",t.raven.ravenReported,false);document.addEventListener("ravenFailure",t.raven.ravenReported,false);Raven.config(t.config.raven.url,{tags:{version:t.config.appVersion,build:t.config.appBuild,env:t.config.raven.env},dataCallback:t.raven.ravenDataCallback,shouldSendCallback:t.raven.ravenShouldSendCallback}).install();t.events.on("app:start",()=>{t.raven.setUser(t.api.isAuthenticated()?"authenticated":null)}).on("app:login:success",()=>{t.raven.setUser("authenticated")}).on("app:logout",()=>{t.raven.setUser()})}})(SUGAR.App)},function(e,t,n){const i=n(24);const{isOnline:a}=n(3);const r=n(9);(function e(t){const s=n(4);const o=n(6);const l={INTERNET_UNAVAILABLE:-1,CONNECTION_FAILED:-2,CONNECTION_TIMEOUT:-3,INVALID_CREDENTIALS:-4};const c=()=>{r.resetRestVersion();t.router.login()};const u=t.error.handleStatusCodesFallback;const d=t.error.enableOnError;t.error.statusCodes["200"]=t.error.statusCodes["0"];t.error=_.extend(t.error,{enableOnError(...e){if(t.config.raven&&t.config.raven.enabled){return true}return d.apply(this,e)},_alertUnauthorized(){t.alert.show("auth_error",{level:"error",messages:t.lang.get("ERR_MOBILE_NOT_AUTHORIZED"),autoClose:true})},_alertSystemError(e){const n=e.status||e.status===0?e.status.toString():"N/A";let i;if(e instanceof t.offline.Error){i=e.localizedMessage()}else{i=t.lang.get("ERR_MOBILE_INTERNAL").replace("{{{code}}}",n)}t.alert.show("system_error",{level:"error",messages:i,autoClose:true,uid:`ERR_MOBILE_INTERNAL_${n}`,pageHash:e.request?e.request.params.pageHash:null})},handleNeedLoginError(){t.alert.show("auth_error",{level:"error",messages:t.lang.get("ERR_MOBILE_INVALID_CREDS"),autoClose:true});c();this._sendAnalytics(l.INVALID_CREDENTIALS)},handleInvalidGrantError(){t.alert.show("auth_error",{level:"error",messages:t.lang.get("ERR_MOBILE_SESSION_EXPIRED"),autoClose:true});c()},handleUnhandledError(e,n,a){try{this.logFatalError(e,{url:n,line:a,version:i.getProductVersion(),serverVersion:i.getServerVersion(),serverUrl:r.getServerUrl(),clientInfo:t.clientInfo})}catch(e){}},logFatalError(e,n){try{const i=t.config.env==="prod";e=e||"Unknown error";t.logger.fatal(`${e}\n${JSON.stringify(n)}`);e=i?t.lang.get("ERR_INTERNAL_ERR_MSG"):`FATAL: ${e}`;t.alert.show("system_error",{level:"error",messages:e,autoClose:true});t.analytics.trackEvent({category:"device",action:"exception"})}catch(e){}},handleUnauthorizedError(){this._alertUnauthorized();c()},handleForbiddenError(e){this._alertUnauthorized();this._sendAnalytics(e.status)},handleNotFoundError(e){t.alert.show("not_found_error",{level:"error",messages:this._adjustErrorMessage("ERR_MOBILE_NOT_FOUND",e),autoClose:true});this._sendAnalytics(e.status)},handleTimeoutError(e){t.alert.show("system_error",{level:"error",messages:this._adjustErrorMessage("ERR_MOBILE_TIMEOUT",e),autoClose:true,uid:"ERR_MOBILE_TIMEOUT",pageHash:e.request.params.pageHash});this._sendAnalytics(l.CONNECTION_TIMEOUT)},handleMethodConflictError(e){this._sendAnalytics(e.status)},handleStatusCodesFallback(e,n,i){let r;let d=e.status;t.alert.dismissAll({animate:false});if(_.isUndefined(e.status)){if(e===t.offline.Error.OutOfSpaceError){t.alert.show("offline_error",{level:"error",messages:e.localizedMessage(),autoClose:true})}return}let f;const p=t.isNative&&$.os.ios&&e.status=="502"&&!a();if(p||e.status=="0"&&(e.textStatus==="error"||e.textStatus==="abort")&&_.isEmpty(e.errorThrown)){if(a()){r=`Server is unreachable. ${navigator.connection?`Connection: ${navigator.connection.type}`:""}`;d=l.CONNECTION_FAILED}else{r="Device is offline";d=l.INTERNET_UNAVAILABLE}t.alert.show("network_error",this._getNetworkAlertParams(e,n,i))}else if(e.status=="412"){if(t.nomad._isSyncing||t.nomad._hasAskedForSync){return}t.nomad._hasAskedForSync=true;s.showConfirm(t.lang.get("ERR_MOBILE_METADATA_CHANGED_RELOAD"),{callback(e){t.nomad.dismissAlerts();if(e===2){if(document.activeElement){document.activeElement.blur()}t.controller.clean({disposeAll:true});t.nomad.syncApp()}else{t.nomad._hasAskedForSync=false;t.alert.show("meta_error",{level:"error",messages:t.lang.get("ERR_MOBILE_METADATA_CHANGED"),autoClose:true})}}})}else if(e.status=="422"&&e.message&&(f=e.message.match(/^(.*) is an invalid email address$/))){t.alert.show("meta_error",{level:"error",messages:t.lang.get("ERROR_EMAIL",null,{email:f[1]}),autoClose:false})}else if(e.status=="433"){o._getNativeParam("appDownloadUrl",(e,n)=>{if(e){t.logger.error(e)}if(n){s.showConfirm(t.lang.get("ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION_UPDATE",null,{brandName:t.config.brandName}),{callback(e){t.nomad.dismissAlerts();if(e===2){o.openUrl(n)}c()}})}else{t.alert.show("incompatible_client",{level:"error",messages:t.lang.get("ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION",null,{brandName:t.config.brandName}),autoClose:false})}})}else{this._alertSystemError(e);if(e.status=="400"){c()}}const h=!_.contains([0,433,412],e.status);if(h||!h&&t.logger.levels[t.config.logger.level].value<=t.logger.levels.DEBUG.value){if(r){t.logger.error(r)}u(e);this._logRequestUrl(e)}this._sendAnalytics(d)},handleNotSupportedPlatform(){window.location.replace(`error-not-supported-platform.html?desktop_url=${i.getDesktopUrl()}`)},handleExternalLoginNotAvailable(){t.alert.show("sso_error",{level:"error",messages:t.lang.get("ERR_MOBILE_SSO_NOT_CONFIGURED"),autoClose:true})},isAccessError(e){return _.contains([403,404],e.status)},_getNetworkAlertParams(e,n,i){let r={};let s;if(a()){s="ERR_MOBILE_CONNECTION_FAILED";r={messages:this._adjustErrorMessage(s,e),level:"error",uid:s}}else if(t.offlineEnabled){s="WARN_MOBILE_INTERNET_UNAVAILABLE";r={messages:t.lang.get(s),level:"warning",uid:s}}else{s="ERR_MOBILE_INTERNET_UNAVAILABLE";r={messages:t.lang.get(s),level:"error",uid:s}}r=_.extend({autoClose:true,pageHash:e.request.params.pageHash,forceAlert:i&&i.forceAlert,requestOptions:i},r);const o=n&&n.module;i=i||{};const l=t.offlineEnabled&&o&&!t.offline.isModuleOfflineEnabled(o)&&i.method!=="read"&&!_.contains(["Filters"],o);const c=l||e.isFileUploadError;if(c){delete r.uid}return r},_sendAnalytics(e="unknown"){t.analytics.trackEvent({category:"api-error",action:e})},_isPingRequest(e){return new RegExp("/ping").test(e)},_adjustErrorMessage(e,n){const i=n&&n.request&&n.request.params?t.api.isLoginRequest(n.request.params.url)||this._isPingRequest(n.request.params.url):false;if(i){e+="_LOGIN"}return t.lang.get(e,null,{brandName:t.config.brandName,minVersion:t.config.minServerVersion,supportedFlavors:t.config.supportedServerFlavors.join(", ")})},_logRequestUrl(e){if(e.request&&e.request.params&&e.request.params.url){t.logger.error(`URL of failed request: ${e.request.params.url}`)}}});t.error.statusCodes["422"]=t.error.handleStatusCodesFallback})(SUGAR.App)},function(e,t,n){const i=n(13);const a=n(4);const r=n(21);const s=n(50);const o=n(20);const l=n(31);const c=n(123);const u=n(12);const{saveUser:d,restoreUser:f}=n(125);const p={};window.nomadAppEventHandlerContext=p;app.events.on("all",(e,...t)=>{const n=[];const i=[e,...t];_.each(app.events._events,(t,i)=>{const a=i.split(".");if(a.length>1&&a[0]===e){n.push(i)}});if(n.length>0){_.each(n,e=>{i[0]=e;app.events.trigger(...i)})}});app.events.on("app:init",()=>{window.clearInterval(app.metadata._validateMDInterval);app.metadata._validateMDInterval=null;app.isBodyScrollRequired=$.os.android&&!app.isTablet;_.extend(app.metadata.fieldTypeMap,{iframe:"url",link:"url",multienum:"multienum",name:"name",double:"float",username:"text",user_name:"text"});app.lang.setCurrentLanguage(app.lang.getLanguage()||"en_us");i.updateServerInfo();i.resetMeta(false,false);f();l.updateOfflineUserSetting();s.initSubpanels();app.data.declareModels();i.updateAuthStore();app.config.sugarLogic=app.config.sugarLogic||{};if(app.config.sugarLogic.enabled&&app.config.sugarLogic.isDynamic){app.loadSugarLogic()}i.configureSugarLogic();if(app.isSynced){r.initializeContextMeta()}if(app.isNative&&navigator.splashscreen){_.delay(()=>{navigator.splashscreen.hide()},500)}},p).on("nativeMessage",e=>{app.logger.debug(`Received native message: ${JSON.stringify(e)}`);if(e.target==="redirect"&&!_.isEmpty(e.path)){app.controller.navigate(e.path)}}).on("app:sync",()=>{i._isSyncing=true;u.show("app:sync",{template:"preloader-panel"})},p).on("app:sync:complete",()=>{i._isSyncing=false;i._hasAskedForSync=false;app.logger.debug("Sync complete");app.loginManager.handleSyncComplete();app.hacks.hackModuleList();s.initSubpanels();app.hacks.hackAcls();d();r.initializeContextMeta();i.updateAuthStore();app.analytics.init();i.configureSugarLogic();const e=JSON.stringify(app.metadata.get());if(e&&e.length>1e6){app.analytics.trackEvent({category:"metadata",action:"limit",value:parseInt(e.length/1e3,10),label:_.getNested(app,"clientInfo.device.uuid")})}},p).on("app:sync:error",e=>{i._isSyncing=false;i._hasAskedForSync=false;app.logger.debug("Sync failed");if(!(e instanceof SUGAR.Api.HttpError)){const t=_.extend({version:"N/A",flavor:"N/A",minVersion:app.config.minServerVersion,supportedFlavors:app.config.supportedServerFlavors.join(", ")},e.server_info);e=app.lang.get(e.label,null,t)||(_.isString(e)?e:app.lang.get("LBL_MOBILE_META_SYNC_FAILED"));a.showAlert(e,{callback(){app.nomad.dismissAlerts();u.hide("app:sync",{animate:true});app.loginManager.logout()},title:app.lang.get("ERR_GENERIC_TITLE")})}else if(e.code==="invalid_grant"){u.hide("app:sync");app.error.handleInvalidGrantError()}else{a.showConfirm(app.lang.get("LBL_MOBILE_META_SYNC_FAILED_RETRY"),{callback(e){app.nomad.dismissAlerts();if(e===2){app.nomad.syncApp()}else{u.hide("app:sync",{animate:true});app.loginManager.logout()}},title:app.lang.get("ERR_GENERIC_TITLE"),buttonLabels:[app.lang.get("LBL_MOBILE_RELOGIN_BUTTON"),app.lang.get("LBL_YES")]})}},p).on("offline:encryption:start",()=>{app.alert.show("offline_encryption",{level:"info",messages:app.lang.get("LBL_OFFLINE_ENCRYPTION_IN_PROGRESS"),autoClose:false,closable:false})},p).on("offline:encryption:complete",e=>{if(e){app.alert.dismiss("offline_encryption");app.alert.show("offline_error",{level:"error",messages:e.localizedMessage(),autoClose:true})}else{app.alert.show("offline_encryption",{level:"success",messages:app.lang.get("LBL_OFFLINE_ENCRYPTION_SUCCESS"),autoClose:true})}},p).on("app:login:success",()=>{app.loginManager.handleLoginSuccess();i.syncApp()},p).on("app:logout",()=>{app.alert.dismiss("logout");i.resetMeta(false,true);o.toggleTouchIdOnLogin(false);app.data.declareModels();app.controller.clean({disposeAll:true});app.nomad.deactivateMainMenu();if(app.offlineEnabled){l.stop()}}).on("app:start",()=>{app.started=true},p).on("offline:failure",e=>{if(e===app.offline.Error.OfflineDisabledError){return}if(e===app.offline.Error.StorageUnavailableError){a.showAlert(`${e.localizedMessage()}\n${app.lang.get("LBL_OFFLINE_DISABLED")}`)}else if(e===app.offline.Error.OutOfSpaceError){c.cleanUp()}else{app.alert.show("offline_error",{level:"error",messages:e.localizedMessage(),autoClose:true})}},p).on("app:dashboards:changed",()=>{if(!app.api.isAuthenticated()){return}const e=app.lang.get("LBL_DASHBOARDS_CHANGED_PROMPT");app.nomad.dashboards.verifyDefaultView();a.showConfirm(e,{callback(e){if(e===2){app.nomad.dismissAlerts();app.controller.navigateToDefaultView();app.controller.clean();app.nomad.mainMenu.render()}}})},p).on("app:locale:change",()=>{app.nomad.setHTMLDirection()},p)},function(e,t,n){const i=n(13);const a=n(21);const{isNameErased:r,isEmptyValue:s,supportsFavorite:o,stringToHtmlEntities:l,htmlEntitiesToString:c,humanFileSize:u,escapeRegExp:d,formatLinks:f}=n(3);const p={};if(app.offline){p[app.offline.SyncActions.CREATE]="LBL_ACTION_CREATE";p[app.offline.SyncActions.UPDATE]="LBL_ACTION_UPDATE";p[app.offline.SyncActions.DELETE]="LBL_ACTION_DELETE";p[app.offline.SyncActions.LINK]="LBL_ACTION_LINK";p[app.offline.SyncActions.UNLINK]="LBL_ACTION_UNLINK";p[app.offline.SyncActions.FAVORITE]="LBL_ACTION_FAVORITE";p[app.offline.SyncActions.FOLLOW]="LBL_ACTION_FOLLOW"}const h={};if(app.offline){h[app.offline.SyncActions.CREATE]="LBL_ACTION_CREATE_EXPLANATION";h[app.offline.SyncActions.UPDATE]="LBL_ACTION_UPDATE_EXPLANATION";h[app.offline.SyncActions.DELETE]="LBL_ACTION_DELETE_EXPLANATION";h[app.offline.SyncActions.LINK]="LBL_ACTION_LINK_EXPLANATION";h[app.offline.SyncActions.UNLINK]="LBL_ACTION_UNLINK_EXPLANATION";h[app.offline.SyncActions.FAVORITE]="LBL_ACTION_FAVORITE_EXPLANATION";h[app.offline.SyncActions.FOLLOW]="LBL_ACTION_FOLLOW_EXPLANATION"}const m=function(e){const t=_.union(app.metadata.getModuleNames({filter:"visible"}),["Users"]);const n=_.contains(t,e.module);const i=n?`<a href="#${e.module}/${e.id}">${Handlebars.Utils.escapeExpression(e.name)}</a>`:`<span class="module-name">${Handlebars.Utils.escapeExpression(e.name)}</span>`;return new Handlebars.SafeString(i)};const g=function e(){const t=function(e){const t=/<strong>.*?<\/strong>/g;const n=/(<strong>)|(<\/strong>)/g;let i=e;const a=i.match(t);_.each(a,e=>{let t=e.replace(n,"");t=c({stringToTransform:t});i=i.replace(e,`<span class="highlight">${t}</span>`)});return i};Handlebars.helpers.__sanitizeSearchResult=t;return t}();const v={ifHasAccessToModel(e,t,n){const{field:i}=n.hash;return app.acl.hasAccessToModel(e,t,i)?n.fn(this):n.inverse(this)},moduleNameSingular(e){return app.lang.getModuleName(e)},optionLabel(e,t){const n=_.isString(e)?app.lang.getAppListStrings(e):e;return n[t]},searchListItem(e){if(!app.acl.hasAccess("list",e.module)){return Handlebars.SafeString("")}const t=e.searchInfo;const n=t?t.highlighted:null;let i=r(e)?app.lang.get("LBL_VALUE_ERASED"):Handlebars.Utils.escapeExpression(e.get("name"));let a="";const s=[];if(this.fields&&this.fields.length){if(this.fields[0].type!=="name"){s.push(this.fields[0])}}const o=[];_.each(n,(e,t)=>{let n;if(_.isArray(e.text)){n=_.map(e.text,e=>g(e)).join("")}else{n=g(e.text)}if(t==="name"){i=n}else{o.push(t);a+=`<div class="search-result clip">${app.lang.get(e.label,e.module)}: ${n}</div>`}},this);let l=`<div class="item-name clip">${i}</div>`;if(!_.isEmpty(a)){l+=a}return new Handlebars.SafeString(l)},getTxLogActionName(e){e=p[e];const t=app.lang.get(e)||e;return new Handlebars.SafeString(t)},getTxLogModuleName(){return app.lang.getModuleName(this.model.attributes._tx_bean_module,{plural:true})},getTxLogActionExplanation(){const e=this.model.attributes._tx_action;let t;const{bean:n}=this.model.attributes;let i;if(n){const e=n[a.getContextMeta("list",n._module)]||{};const{nameField:t}=e;i=_.isString(n.name)?n.name:t&&t.name}else{i=app.lang.get("LBL_RECORD_DELETED")}const r={module:app.lang.getModuleName(this.model.attributes._tx_bean_module),name:i};if(e===app.offline.SyncActions.FAVORITE&&!this.model.attributes._tx_updated_fields.my_favorite.after){t="LBL_ACTION_UNFAVORITE_EXPLANATION"}else if(e===app.offline.SyncActions.FOLLOW&&!this.model.attributes._tx_updated_fields.following.after){t="LBL_ACTION_UNFOLLOW_EXPLANATION"}else if(this.model.attributes.related){r.relatedModule=app.lang.getModuleName(this.model.attributes._tx_related_module);r.relatedName=this.model.attributes.related.name;if(e===app.offline.SyncActions.CREATE){t="LBL_ACTION_CREATE_RELATED_EXPLANATION"}}t=t||h[e]||"Unknown action";r.relatedName=_.isString(r.relatedName)?r.relatedName:app.lang.get("LBL_RECORD_DELETED");r.relatedModule=r.relatedModule||app.lang.getModuleName(this.model.attributes._tx_related_module);const s=app.lang.get(t,null,r);return new Handlebars.SafeString(s)},getTxLogItemStatusClass(){let e;if(this.model.attributes._tx_error_count){const t=parseInt(this.model.attributes._tx_error,10);const n=app.offline.TransactionStatuses.UNRECOVERABLE;e=_.indexOf(n,t)>-1?"error":"warning"}return e},getErrorDescription(e){let t=e;switch(e){case"403":t=app.lang.get("ERR_MOBILE_NOT_AUTHORIZED");break;case"409":t=app.lang.get("ERR_OFFLINE_SYNC_CONFLICT");break;case"412":t=app.lang.get("ERR_MOBILE_METADATA_CHANGED");break;case"500":t=app.lang.get("ERR_MOBILE_INTERNAL",null,{code:e});break}return new Handlebars.SafeString(t)},teamSearchItem(e){let t;let n;let i="";let a="";const r=(e.collection.query||"").trim();const s=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");if(r){n=new RegExp(`(${s(Handlebars.Utils.escapeExpression(r))})`,"i");_.each(["name","name_2"],r=>{a=e.get(r);t=a.match(n);if(t){i+=a.replace(t[0],`<b>${t[0]}</b>`)}else{i+=a}i+=" "})}return new Handlebars.SafeString(i)},humanFileSize(e){const t=u(e);if(t===null){return app.lang.get("LBL_NOT_AVAILABLE")}return t.toString(true)},listItems(e,t,n){const i=_.map(e,e=>{const i=t.constructor.listItemDataProviders;const a=t.getListItemTpl(e);const r=t.getListItemDataProvider(e);const s=i[r]||i.ListItem;const o=s.prepareItemData(e,t,n);return Handlebars.helpers.partial(a,o,n).string});return new Handlebars.SafeString(i.join(""))},partial(e,t,n){const{view:i}=n.hash;const a=i&&i.options.templateOptions&&i.options.templateOptions.partials?i.options.templateOptions.partials[e]:app.template.get(e);return new Handlebars.SafeString(a?a(t):"")},emailPlaceholder(e,t){return app.lang.get(t.hash.required?"LBL_REQUIRED":"")},primaryEmail(e){return e&&e.length?e[0].email_address:""},ifHasValue(e,t,n){return e.get(t)?n.fn(this):n.inverse(this)},icon(e,t){const n=app.template.get("icon");const i={iconClass:_.getNested(app.config.ui.icons,e),additionalClass:_.getNested(t.hash,"additionalClass")};return new Handlebars.SafeString(n(i))},moduleIcon(e,t){const n=app.template.get("icon-module");const i={iconClass:_.getNested(app.config.ui.icons.modules,e)||_.getNested(app.config.ui.icons,t.hash.iconKey),additionalClass:_.getNested(t.hash,"additionalClass"),displayInitials:!t.hash.iconKey&&app.config.ui.displayInitials,module:e,iconLabel:t.hash.iconLabel};return new Handlebars.SafeString(n(i))},moduleIconLabel(e){const t=app.lang.getAppListStrings("moduleIconList")[e]||app.lang.getModuleName(e)||e;const n=t.indexOf(" ");return n===-1?t.substring(0,2):t.substring(0,1)+t.substring(n+1,n+2)},clearButton(e){const t=e.hash.iconKey||"edit.clear";return Handlebars.helpers.icon(t,{hash:{additionalClass:"clear-button"}})},isFavoriteable(e,t){let n;let i;let a;let r="";if(e instanceof Backbone.Model){n=e.module;a=e;i={isFavorite:e.get("my_favorite")}}else{n=e;i={};a=app.data.createBean(n)}if(n&&o(a)){r=t.fn(i)}return new Handlebars.SafeString(r)},join(e,t){const n=t.hash.delimiter||",";const i=t.hash.start||0;const a=e?e.length:0;let r=t.hash.end||a;let s="";if(r>a){r=a}if(_.isFunction(t.fn)){for(let a=i;a<r;a++){if(a>i){s+=n}if(_.isString(e[a])){s+=e[a]}else{s+=t.fn(e[a])}}return s}return[].concat(e).slice(i,r).join(n)},joinPrimaryFirst(e,t){const n=_.sortBy(e,e=>!e.primary);return Handlebars.helpers.join(n,t)},multienumStr(e,t,{fn:n,hash:i}){const a=_.isString(i.delimiter)?i.delimiter:", ";let r="";if(t&&t.length){const i=_.isString(e)?app.lang.getAppListStrings(e):e;t=_.isString(t)?t.replace(/(\^)/g,"").split(","):t;_.each(t,e=>{if(i[e]){r+=n?n({id:e,name:i[e]}):i[e]+a}})}if(r){r=r.substr(0,r.length-2)}return new Handlebars.SafeString(r)},fieldByName:function e(){const t={my_favorite:{name:"my_favorite",type:"favorite"},following:{name:"following",type:"follow"}};return function e(n,i,a){if(!n){return""}const r=_.isObject(n)?_.extend({},n):t[n]||{name:n};const{type:s}=a.hash;let{view:o}=a.hash;o=o||i.view||this;const l=r.model||i.model;if(s){r.type=s}a.hash.model=l;return Handlebars.helpers.field.call(r,o,a)}}(),prop(e,t,n){e=e||{};if(_.isString(e)){e=app.lang.getAppListStrings(e)}if(e[t]){return e[t]}if(!_.isUndefined(n.hash.defaultValue)){return n.hash.defaultValue}return s(t)?"":t},nl2(e,t){const n=t.hash.str||" ";return e.replace(/\n|\r|\t/,n)},isEmpty(e,t){return s(e)?t.fn(this):t.inverse(this)},isNotEmpty(e,t){return s(e)?t.inverse(this):t.fn(this)},ifFeatureSupported(e,t){return app.supportedFeatures[e]?t.fn(this):t.inverse(this)},brandName(){return app.config.brandName},html2text(e,t){const n=/(<([^>]+)>)/gi;const i=e||"";let a=i.replace(n,"").replace(/\s\s+/g," ");if(t&&a.length>=t){a=a.substr(0,t);a+="..."}return a},ternary(e,t,n){return e?t:n},labeledFields(e,t){const n=app.metadata.getModule(t,"fields");const i=[];_.each(e,(e,a)=>{const r=n[a];const s=app.lang.get(r.vname,t);i.push(s)});return new Handlebars.SafeString(i.join(", "))},comment(e,t){const n=_.union(app.metadata.getModuleNames({filter:"visible"}),["Users"]).sort();let i=l({stringToTransform:e,allowUrlChars:true});i=f(i);_.each(app.utils.deepCopy(t),e=>{if(!_.isObject(e)){return}_.each(e,(t,n)=>{e[n]=l({stringToTransform:t})});const t=new RegExp(`@\\[${d(e.module)}:${d(e.id)}:${d(e.name)}\\]`,"g");const a=_.indexOf(n,e.module,true)===-1?e.name:`<a href='#${e.module}/${e.id}' class='sugar_tag label-${e.module}'>${e.name}</a>`;i=i.replace(t,a)});return new Handlebars.SafeString(i)},userPicture(e){const t=app.template.get("icon");const n={iconClass:app.config.ui.icons.menu.user,additionalClass:"user-icon"};const a=$(t(n));const r=app.api.buildFileURL({field:"picture",module:"Users",id:e},i.getFileOptions());a.css({backgroundImage:`url(${r})`}).addClass("withPicture");return new Handlebars.SafeString(a[0].outerHTML)},activityItem(e){const t=e.activity_type;const{data:n}=e;const{object:i,subject:a}=n;const r=`LBL_ACTIVITY_${t.toUpperCase()}`;const s={record:m(i),module:app.lang.getModuleName(i.module)};switch(t){case"update":_.extend(s,{changes:Handlebars.helpers.labeledFields(n.changes,i.module)});break;case"link":case"unlink":_.extend(s,{relatedRecord:m(a)});break}const o=app.lang.get(r,null,s);return new Handlebars.SafeString(o)},isActivityItemValid(e,t){const n=e.activity_type;const{object:i,subject:a}=e.data;let r=Boolean(i&&i.module);if(r){switch(n){case"link":case"unlink":r=Boolean(a&&a.module);break;case"update":r=Boolean(app.metadata.getModule(i.module,"fields"));break}}if(!r){app.logger.error("Activity item is not valid")}return r?t.fn(this):t.inverse(this)},debugAttributes(e,t,n){if(_.indexOf(["debug","e2e"],app.config.scheme)===-1){return""}const i=Object.prototype.hasOwnProperty.call(n.hash,"localize");const a=Object.prototype.hasOwnProperty.call(n.hash,"removeSpaces");let r=t?Handlebars.Utils.escapeExpression(t):"";r=i?app.lang.get(t,n.hash.localize):r;r=a?r.replace(/\s+/g,""):r;return new Handlebars.SafeString(`${e}="${r}"`)},currencySelect(e){let t="";if(app.supportedFeatures.enumViaActionSheet){let n=_.find(e,(e,t)=>e.selected);n=n?n.iso4217:e[0].iso4217;t=`<span class="actionsheet-select">${n}</span>`}else{t='<select name="currency_select">';_.each(e,(e,n)=>{const i=e.selected?"selected":"";const a=e.disabled?"disabled":"";t+=`<option value="${n}" ${i} ${a} label="${e.iso4217}">${e.iso4217}</option>`});t+="</select>"}return new Handlebars.SafeString(t)},gaTrack(e,t){const n=t.gaTrack&&t.gaTrack[e];return n?new Handlebars.SafeString(app.utils.formatString('track="{0}"',[n])):""},for(e,t,n){let i="";const a={};for(let r=e;r<t;r++){a.index=r;a.counter=r+1;i+=n.fn(this,{data:a})}return i},childViews(...e){const t=e.pop();const n=t.data.root;if(_.isEmpty(e)){e=_.map(this._viewDefs,e=>e.viewId)}let i="";_.each(e,e=>{const t=n.createViewById(e);const a=t.$el[0].tagName;i+=`<${a} view-cid="${t.cid}" class="${t.$el.attr("class")||""} view-holder-hide"></${a}>`});return new Handlebars.SafeString(i)}};_.each(v,(e,t)=>Handlebars.registerHelper(t,e));e.exports=v},function(e,t){const n=Backbone.History.extend({_initialized:false,start(e={}){e.silent=true;Backbone.History.prototype.start.call(app.navigation.history,e);window.removeEventListener("popstate",this.checkUrl,false);window.removeEventListener("hashchange",this.checkUrl,false);if(!this._initialized){$(window).on("popstate",_.bind(this._handleBrowserNavigation,this));this._initialized=true}this.clear();app.controller.navigate(window.location.hash)},stop(...e){this.clear();Backbone.History.prototype.stop.apply(this,e)},navigate(e){let t;this._previous=this._current;if(e.back){this.pop();t=this._current.url}else{const n=this.getPrevStep();t=e.url;if(this._current&&!e.replaceCurrent){this._steps.push(this._current)}else if(n&&n.url===t){this._steps.pop()}this._current=_.omit(e,"replaceCurrent")}if(!e.updateUrlOnly){this._logRouteChange();this.loadUrl(t)}if(this._current&&this._current.data){delete this._current.data}this._syncBrowserHistory()},getSteps(){return this._steps},getCurrentStep(){return this._current},getPrevStep({includeSkipped:e}={}){return e?this._previous:_.last(this._steps)},getCurrentUrl(){return this._current?this._current.url:""},getStepById(e){return _.findWhere(this._steps,{id:e})},clear(){this._steps=[];this._current=null;this._previous=null},pop(){if(this._steps.length!==0){this._current=this._steps.pop()}return this._current},getLength(){return this._steps.length+1},go(){},_handleBrowserNavigation(e){const t=e.state;const n=window.location.hash;this._syncBrowserHistory();if(t){app.controller.handleBackButton()}else{app.controller.navigate(n)}},_syncBrowserHistory(){const e=window.history;const{hash:t}=window.location;const n=this._steps;const i=n.length>1?n[n.length-2]:this._current;const a=i?i.url:t;const r=this._current?this._current.url:t;e.pushState({back:true},"",a);e.pushState({back:false},"",r)},_logRouteChange({stepDef:e,options:t}={}){let n="";if(e){n+=`Route changed to "${e.name}"`}if(t){n+=` step options: ${JSON.stringify(t)}`}if(n){app.logger.debug(n)}}});e.exports=n},function(e,t){e.exports={dashboard(e,t,n,i,a){return{root:"Dashboards",dashboardId:e,dashletId:t,module:n,modelId:i,action:a}},recordDashboard(e,t,n,i,a,r,s,o){return{root:e||"",parentModule:t,parentModelId:n,dashboardId:i,dashletId:a,module:r,modelId:s,action:o}},linkedListRecordDashboard(e,t,n,i,a,r){return{linkParentModule:e,linkParentModelId:t,moduleLink:n,parentModule:app.data.getRelatedModule(e,n),parentModelId:i,dashboardId:a,dashletId:r}},twinDashboard(e,t,n,i,a,r){return{root:"Dashboards",parentDashboardId:e,parentDashletId:t,parentModule:n,parentModelId:i,dashboardId:a,dashletId:r}},defaultView(){app.controller.navigateToDefaultView()},list(e,t){return{root:e,module:t}},record(e,t,n,i){return{root:e,module:t,modelId:n,action:i}},create(e,t){return{root:e,module:t,action:"create"}},relatedList(e,t,n){return{link:n,parentModule:e,parentModelId:t}},relatedRecord(e,t,n,i,a){return{link:n,parentModule:e,parentModelId:t,modelId:i,action:a}},associate(e,t,n){return{link:n,parentModule:e,parentModelId:t,action:"associate"}},createRelated(e,t,n){return{link:n,parentModule:e,parentModelId:t,action:"create"}},about(){return{root:"About"}},logout(e){app.loginManager.logout({clear:e,resetRoute:true})},settings(){return{root:"Settings"}},offline(e,t){return{root:"Offline",module:e,modelId:t}},errorEmulation(){return{root:"ErrorEmulation"}},createCall(e,t,n,i,a){return{module:"Calls",action:"createCall",callData:{direction:e,startDate:t,durationHours:n,durationMinutes:i,status:a}}},createRelatedCall(e,t,n,i,a,r,s,o,l){return{parentModule:e,parentModelId:t,action:"createCall",link:n,callData:{direction:i,startDate:a,durationHours:r,durationMinutes:s,status:o,logCall:l}}},configure(e,t,n,i,a){return{serverUrl:e,loginName:t,pageUrl:n,ssoOption:i,useHttps:a}}}},function(e,t){e.exports={about:{},settings:{},logout:{},"error-emulation":{},offline:{"offline-list":{"offline-detail":{}}},list:{"home-dashboard":{"home-dashboard-dashlet":{"home-dashboard-detail":{"home-dashboard-action":{}}},"double-dashboard":{mappedOptions:{parentDashboardId:"dashboardId",parentDashletId:"dashletId"}}},"list-create":{},"record-detail":{"record-action":{},"relationships-list":{"relationships-create":{},"relationships-detail":{"linked-list-dashboard":{mappedOptions:{linkParentModule:"parentModule",linkParentModelId:"parentModelId",moduleLink:"link",parentModelId:"modelId"}},"relationships-createCall":{},"relationships-action":{}},mappedOptions:{parentModelId:"modelId",parentModule:"module"}},"record-dashboard-dashlet":{"record-dashboard-detail":{"record-dashboard-action":{}},mappedOptions:{parentModule:"module",parentModelId:"modelId"}},"relationships-associate":{mappedOptions:{parentModelId:"modelId",parentModule:"module"}},"record-createCall":{}}},"search-list":{"search-create":{},"search-record-detail":{"search-record-action":{}}},"default-view":{}}},function(e,t,n){const i=n(1);(function e(t){const n=t.alert.show;const a=t.alert.init;const r={};t.alert.show=function e(...i){if(!i[1]){i[1]={}}const a=i[1];if(a.pageHash&&a.pageHash!==window.location.hash){return}if(a.uid&&t.offlineEnabled){const e=_.getNested(a,"requestOptions.params",{});if(!e.skipOfflineRead&&r[a.uid]&&!a.forceAlert){return}r[a.uid]=1}if(a.autoClose){_.defaults(a,{autoCloseDelay:t.config.ui.alertAutoCloseDelay})}return n.apply(this,i)};t.alert.init=function e(...t){a.apply(this,t);this.klass=i.getViewClass("alert")}})(SUGAR.App)},function(e,t,n){const i=n(22);const a=n(7);const r=n(44);const s=n(25);const o=n(12);const l=app.Controller.extend({_screenContext:{},_propagatingData:null,updateHeader(e,t){const n=this.layoutManager.getLayouts();const i=_.find(n,t=>_.contains(t._components,e));const a=i&&i._header;if(!a){return}const r=t(a);if(_.isObject(r)){a.setConfig(r)}},initialize(){app.plugins.attach(this,"view");this.context=new a;if(app.isTouchCapable&&app.config.ui.fastClickEnabled){window.FastClick.attach(document.body)}if(!_.isEmpty($.os)){$(document.body).addClass($.os.android?"android":"ios")}const e=n(87);this.layoutManager=e.init({rootHolder:app.$contentEl,recordHolder:$("#content-child")});this._initializeNavigation();this._initializeOffline()},_createCall(e){const{callData:t}=e;const n=this.layoutManager._loadScreen(_.extend(e,{action:"create",isLoggingCall:t&&t.logCall}));const i=this.layoutManager.getRecordLayout().getComponent("edit");let a=t.durationMinutes;let r=t.durationHours;if(a===60){r=t.durationHours+1;a=0}i.setCallData({direction:t.direction,date_start:t.startDate,duration_hours:String(r),duration_minutes:String(a),status:t.status});return n},disposeDynamic(e){this.layoutManager.disposeDynamicLayout(e);this.setMaskOnContentElement()},_loadScreen(e){if(!e.isDynamic){this._beforeLoadStatic(e)}let t;if(e.action==="createCall"){t=this._createCall(e)}else{if(this._propagatingData){e=_.extend({propagatingData:this._propagatingData},e)}t=this.layoutManager._loadScreen(e)}this._loadData(t);this._afterLoad(e);if(e.action==="associate"){this._handleAssociateRoute(t,e)}return t},loadScreen(e={}){let t;if(_.isFunction(e)){t={views:[e]}}else if(_.isObject(e)){if(_.isFunction(e.view)){t={views:[e.view],initOptions:e.initOptions,data:e.data,context:e.context,headerConfig:e.headerConfig}}else{t={views:[e.primary.view],initOptions:e.primary.initOptions,data:e.primary.data,context:e.primary.context,headerConfig:e.primary.headerConfig}}}if(e.fullScreen){t.fullScreen=true;t.appendTo="root"}const n=[t];if(app.isTablet&&e.secondary){n.splice(0,0,{views:[e.secondary.view],data:e.secondary.data,initOptions:e.secondary.initOptions,context:e.secondary.context,headerConfig:e.secondary.headerConfig})}const i={layouts:n,applyMaskToList:e.applyMaskToList,fullScreen:e.fullScreen};if(e.isDynamic){i.isDynamic=true;i.gaTrack=e.gaTrack}if(e.context&&e.context.get("module")==="Login"){app.navigation.history.clear()}const a=this._loadScreen(i);const r=[];_.each(a,e=>{const t=_.find(e._components,e=>e._stringType!=="header");if(t){r.push(t)}});return r},getScreenContext(){return this._screenContext},getScreenContextRoot(){let{root:e}=this._screenContext;const t=this._screenContext;if(e==="Dashboards"){e=[e];if(t.parentDashboardId){e.push(t.parentDashboardId,t.parentDashletId)}else if(t.dashboardId){e.push(this._screenContext.dashboardId);if(t.dashletId){e.push(t.dashletId)}}e=e.join("/")}return e},onHeaderMenuClick(e){app.nomad.mainMenu.toggleMenu()},onHeaderCancelClick(e){app.controller.goUp()},onUserPictureChange(e){app.nomad.mainMenu._loadUserPicture(e.options.pictureId)},_handleAssociateRoute(e,t){const n=_.last(e);const i=n.getComponent(r);if(i.options.multiselect){i.onHeaderSaveClick=(()=>{this._linkRecords(i.getSelectedModels(),t)})}else{i.on("selection:change",e=>{this._linkRecords(e,t)})}},_linkRecords(e,t){let n;const i=app.data.createBean(t.parentModule,{id:t.parentModelId});app.syncAlertManager.pause("update",i);const a=asyncLib.queue((e,t)=>{e.relateBean.save(null,{relate:true,fields:["id"],success(){t()},error(e,i,a){n=i;t(i)}})},1);a.drain=(()=>{app.syncAlertManager.resume("update",i,n);if(!n){this._onLinkRecordsSuccess({linkedModels:e,parentModel:i})}});_.each(e,e=>{a.push({relateBean:app.data.createRelatedBean(i,e.id,t.link)})})},_onLinkRecordsSuccess(e){this._handleAfterLinkAction(e);app.controller.navigate({initiator:s.RELATE})},_handleAfterLinkAction(e){const t=e.model?e.model.module:e.linkedModels[0].module;const{parentModel:n}=e;this.layoutManager.invalidateLayouts({list:{modules:[t]},detail:[{module:n.module,modelId:n.id}]})},onEditViewSave(e){_.defer(()=>this._navigateOnSave(e))},_navigateOnSave(e){let t={};const{options:n}=e;const{model:i}=n;const{parentModel:a}=n;if(n.isCreate){t={list:{modules:[i.module,"Recents","Search"]}}}else{t={list:{modules:["Search"]},detail:{items:[{module:i.module,modelId:i.get("id")}],loadParams:{partialLoad:true}}}}this.layoutManager.invalidateLayouts(t);if(i.link){this._invalidateAfterLinkAction(i)}const r=app.navigation.history.getPrevStep();if(!app.acl.hasAccessToModel("view",i)){this.layoutManager.invalidateLayouts({detail:[{module:i.module,modelId:i.get("id")}]});this.navigateToDefaultView();return}else if(n.isCreate&&this._screenContext.link&&(!r||this._screenContext.parentModelId===r.screenOptions.modelId)){this._handleAfterLinkAction(n)}if(!n.skipNavigation){app.controller.navigate({contextOptions:{module:i&&i.module,modelId:i&&i.id,parentModule:a&&a.module,parentModelId:a&&a.id,isCreate:n.isCreate},initiator:s.SAVE})}},_afterLoad(e={}){let t;if(e.isDynamic){const n=_.find(e.layouts,e=>Boolean(e));t={gaTrack:e.gaTrack||n.gaTrack,context:n.context};t.isDynamic=true}else{t=_.clone(this._screenContext)}this.setMaskOnContentElement(e);app.trigger("app:view:change",t)},_beforeLoadStatic(e){this._screenContext=this._createScreenContext(e);this._propagatingData=null;const t=app.navigation.history.getCurrentStep();if(e.modelId&&!_.contains([s.UP,s.BACK,s.SAVE],t.initiator)){_.each(this.layoutManager.getLayouts(),function t(n){const i=n?n.getDataById(e.modelId):null;if(i){this._propagatingData=i}},this)}},setMaskOnContentElement(e={}){if(!app.isTablet){return}let t=e.applyMaskToList;if(_.isUndefined(t)&&this.layoutManager.getLayouts().length>1){const n=this.layoutManager.getRecordLayout();const i=n.options.baseType==="edit";if(e.isDynamic&&!e.fullScreen||n._applyMaskToList||i){t=true}}if(t){this.layoutManager.getRecordLayout()._applyMaskToList=true;o.show("hide-content-column",{$appendTo:app.$contentEl,templateOptions:{additionalClass:"overlay--visible"}})}else{o.hide("hide-content-column")}},_createScreenContext(e){return app.utils.deepCopy(_.omit(e,"layouts"))},_loadData(e){_.each(e,function e(t){const n=t.context.isDataFetched();let i=false;const a=app.navigation.history.getCurrentStep()||{};const r=!_.contains([s.UP,s.BACK],a.initiator);let o={};let l;if(!n||t.options.isDynamic){i=true}else if(t.needLoadParams){if(_.isObject(t.needLoadParams)){o=t.needLoadParams}t.needLoadParams=null;o.backgroundSync=true;i=true}else if(_.contains(["detail","edit"],t.options.baseType)){i=r}else if(t.options.baseType==="list"){if(app.config.ui.forceListReload){i=true}else{i=false}}if(i){o.params=l;this._loadDataWithParams(t,o)}},this)},_loadDataWithParams(e,t){t.params=t.params||{};if(e.options.baseType==="detail"||e.options.baseType==="edit"){t.params.viewed=true}if(!t.partialLoad){e.context.resetLoadFlag()}e.loadData(t)},_initializeNavigation(){app.events.on("data:sync:success",function e(t,n,i){let a={};const r=t==="delete";if(r){const e=this.layoutManager.getRootLayout();const t=_.without(["Recents"],e.module);const i=e.context.get("parentModel");const r=e.context.get("parentModule");a={list:{modules:t}};if(n.link){this._invalidateAfterLinkAction(n)}if(!_.isEmpty(i)){this.layoutManager.invalidateLayouts({detail:[{modelId:i.id,module:r}]})}this.layoutManager.invalidateLayouts(a)}const o=this.layoutManager.getRecordLayout();if(r&&o&&o.model.id===n.id){app.controller.navigate({initiator:s.DELETE,contextOptions:{modelId:n.id}})}else{if(r){app.navigation.manager.forbidStep({modelId:n.id})}if(i.params.viewed&&this.getScreenContextRoot()!=="Recents"){this.layoutManager.invalidateLayouts({list:{modules:["Recents"]}})}}},this);app.events.on("data:sync:error",function e(t,n,i,a){const r=this._screenContext;if(a&&app.error.isAccessError(a)&&r.action==="edit"&&r.modelId){app.navigation.manager.forbidStep({modelId:n.id})}},this)},_invalidateAfterLinkAction(e){const t={detail:[{modelId:e.link.bean.id,module:e.link.bean.module}]};this.layoutManager.invalidateLayouts(t)},_initializeOffline(){app.events.on("offline:data:updated",function e(t){if(t.action==="delete"){this.layoutManager.invalidateLayouts({list:{modules:[t.module,"Recents"]}})}if(t.isCollection){const e=this.layoutManager.getRootLayout();if(e.options.baseType!=="list"||e.module!==t.module){this.layoutManager.invalidateLayouts({list:{modules:[t.module]}})}}},this)},clean(e){e=e||{};this.disposeDynamic({disposeAll:true});app.activeComponents.closeAll();o.hideAll();if(e.disposeAll&&app.supportedFeatures.dashboards){i.resetCollection()}this.layoutManager._clean(e)},navigate(e,t){if(e instanceof Handlebars.SafeString){e=e.toString()}t=_.isObject(e)?e:_.extend({url:e},t);if(document.activeElement){document.activeElement.blur()}if(!this._isHandledByDynamic(t)){app.navigation.manager.navigate(t)}},navigateToDefaultView(){app.controller.navigate({initiator:s.HOME})},goUp(e={}){e.initiator=s.UP;this.navigate(e)},go(){},goBack(e){e=e||{};e.initiator=s.BACK;this.navigate(e)},handleBackButton(e){e=e||{};e.initiator=s.BACK_BUTTON;this.navigate(e)},_isHandledByDynamic(e){const t=this.layoutManager.isDynamicLayoutLoaded();const n=app.activeComponents.hasActiveComponents();const i=app.navigation.manager.getHistoryLength()>1;const a=this.layoutManager.isDynamicLayoutLoaded()&&!this.layoutManager.layoutCache.isEmpty();let r=false;switch(e.initiator){case s.BACK:if(t){this.disposeDynamic();r=true}else if(n){app.activeComponents.closeAll()}break;case s.BACK_BUTTON:if(t){this.disposeDynamic();r=true}else if(n){app.activeComponents.closeRecent();r=true}e.initiator=s.BACK;break;case s.UP:if(t){this.disposeDynamic();r=true}break;default:if(t){this.disposeDynamic({skipAttachPrevious:true})}app.activeComponents.closeAll();break}const o=app.controller.layoutManager.getLayouts();if(t&&r&&!i&&!a){if(app.api.isAuthenticated()){app.navigation.manager.exitApp()}else{r=!_.isEmpty(o)}}const l=o.length===1;if(r&&l){$(document.body).removeClass("show-content-child")}return r},loadAdditionalComponents(){}});app.augment("NomadController",l,false);e.exports=l},function(e,t){(function e(t){const n=t.data.sync;const i=t.data.createBeanCollection;const a=t.data.createMixedBeanCollection;const r=t.data.getRelationshipFields;_.extend(t.data,{sync(...e){const[i,a,r]=e;let s;r.apiOptions=r.apiOptions||{};r.apiOptions.cid=a.cid;r.apiOptions.pageHash=t.navigation.history.getCurrentUrl();r.params=r.params||{};r.query=r.params.q;if(i==="read"){if(t.offlineEnabled&&_.isUndefined(r.params.skipOfflineRead)){r.params.skipOfflineRead=a.offlineReadDisabled}}const o=_.isUndefined(r.params.erased_fields);if(o){r.params.erased_fields=1}if(a instanceof t.BeanCollection&&r.query){s=a.orderBy;a.orderBy=null}if(a instanceof t.MixedBeanCollection&&!_.isEmpty(a.module_list)&&!a._parentBean){delete r.fields}else if(this._isRecentsCollection(a)){r.module_list=t.metadata.getModuleNames({filter:"visible",access:"list"});r.module_list=_.without(r.module_list,"Emails");r.limit=t.config.fetchLimit.recents;delete r.fields}if(i==="read"&&a.module==="Emails"&&!a.offlineReadDisabled){r.view="list";delete r.fields}const l=n.apply(this,e);if(s){a.orderBy=s}return l},_getMergedFields(e){return _.chain(e).map(e=>t.metadata.getModule(e).mergedFields).flatten().uniq().value()},_isRecentsCollection(e){return e instanceof t.BeanCollection&&e.module==="Recents"},createBeanCollection(...e){return this._createCollection(i,e)},createMixedBeanCollection(...e){return this._createCollection(a,e)},_createCollection(e,t){const n=e.apply(this,t);n.cid=_.uniqueId("c");return n},getRelationshipFields(e,n){return t.metadata.getModule(e).fields[n]?r.call(this,e,n):null}})})(SUGAR.App)},function(e,t,n){const i=n(56);const a=n(1);const r=n(74);const s=n(7);const{parseQueryString:o}=n(3);const l=app.Router;app.Router=app.Router.extend({DEFAULT_ROUTE:"Search",init(){l.prototype.init.call(this);this.addRoutes(i.getRoutes())},_isloginViewLoaded(){const e=app.controller.layoutManager.getRootLayout();return Boolean(e&&e.getComponent(r))},login(){if(!this._isloginViewLoaded()){app.controller.clean({disposeAll:true});app.controller.loadScreen({context:new s({module:"Login"}).prepare(),view:a.getViewClass("login")})}},logout(){if(!this._isloginViewLoaded()){app.loginManager.logout({clear:true})}},navigate(e,t){app.controller.navigate(e,t)},go(e){},goBack(){app.controller.goBack()},refresh(){app.navigation.manager.refresh()},buildLinkRoute(e,t,n,i,a){let r=_.isString(e)?e:e.get("module");r+=`/${t}/link/${n}`;if(i){r+=`/${i}`}if(a){r+=`/${a}`}return r},_routeHandler(e,...t){const{route:n}=e;this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment();e.apply(this,t);app.routing.after(n,t)},_addDefaultRoutes(){}});app.routing.utils={convertExternalRoute(e){if(_.isEmpty(e)){return""}if(e==="logout"){return"logout"}if(e==="activities"){return"Activities"}const t=_.reduce(app.navigation.manager.getRoutes(),(e,t)=>{const{route:n}=t;if(_.isString(n)&&n.indexOf(":")===-1){e.push(n)}return e},[]);if(_.contains(t,e)){return e}const n=e.split("/");let i=n[0];let a;const r=["home","search","recents","dashboards"];const s=_.contains(r,n[0].toLowerCase());const l=s?`${n[0]}/`:null;if(i==="bwc"){const e=n[1];const t=e.split("?")[1];const r=o(t);i=r.module;if(!i){return""}let{action:s}=r;const l=r.record;s=s.toLowerCase();if(s==="index"){a=[i]}else if(s==="detailview"&&!_.isEmpty(l)){a=[i,l]}else if(s==="editview"&&_.isEmpty(l)){if(r.parent_type&&r.parent_id){a=[r.parent_type,r.parent_id,"link",i.toLowerCase(),"create"]}else{a=[i,"create"]}}else{a=[i]}}else{a=n}const c=a.length;if(s){if(i==="Dashboards"){return e}else if(i==="Home"&&n.length===2){return e.replace("Home","Dashboards")}else if(!a[1]||!_.contains(app.metadata.getModuleNames(),a[1])){return n[0].toLowerCase()==="home"?app.router.DEFAULT_ROUTE:n[0]}a.shift();i=a[0]}const[,u,d,f]=a;const p=(...e)=>{const t=s?l:"";return t+e.join("/")};const h=app.metadata.getModule(i);const m=(s?l:"")+a.join("/");if(s&&c===2||h&&(d==="Dashboards"||a[5]==="Dashboards")){return m}else if(i==="Offline"){const t=["TxLog","offlineStats","offlineSettings","offlineDataGeneration"];if(e===i||u==="TxLog"&&d||_.contains(t,u)&&a.length===2){return m}return false}else if(i==="Configure"||i.substring(0,10)==="createCall"){return m}else if(u==="offline"&&d==="TxLog"&&!_.isEmpty(f)){return m}else if(i==="error"){if(!u||u&&!d){return m}}else if(i){const e=["vcard-import","create"];const t=u==="create";const n=_.contains(app.config.modules.nonCreatableModules,i);if(t&&n){return p(i)}else if(t){return p(i,"create")}else if(!_.isEmpty(u)&&!t){if(_.isEmpty(d)&&!_.contains(e,u)){return p(i,u)}else if(_.contains(["edit"],d)&&(_.isEmpty(f)||_.isNumber(parseInt(f)))){return m}else if(d==="links"&&_.contains(["create","associate"],f)){return m}}const r=["vcard-import"];if(!_.isEmpty(u)&&_.contains(r,u)){return false}if(d==="link"){const e=a[4];const t=a[5];if(!_.isEmpty(f)&&_.isEmpty(e)){return m}else if(f==="calls"&&e.split("?")[0]==="createCall"){return m}else if(e&&_.isEmpty(t)){return m}else if(e&&_.contains(["edit"],t)){return m}return false}return i}return false}}},function(e,t,n){const i=n(6);const a=n(14);const r=n(9);const s=n(127);const o={kAppUpdatedKey:"kAppUpdated",kSessionCountKey:"kSessionCount",kStartDateKey:"kStartDate",kAttemptIndexKey:"kAttemptIndex",kLastFeedbackSubmitDateKey:"kLastFeedbackSubmitDate",init(){this._subscribeEvents();if(app.api.isAuthenticated()){this.checkNpsTriggerCriteria()}},_subscribeEvents(){app.events.on("app:login:success",this._onLoginSuccess,this).on("app:upgraded",this._onAppUpgrade,this)},_unsubscribeEvents(){app.events.off("app:login:success app:upgraded",null,this)},_subscribeViewChangeEvents(){app.events.on("app:view:change",this._onViewChange,this)},_unsubscribeViewChangeEvents(){app.events.off("app:view:change",null,this)},_onLoginSuccess(){const e=a.getSetting({store:a.Stores.SETTINGS,name:this.kAppUpdatedKey});const t=r.getSetting(this.kLastFeedbackSubmitDateKey);const n=r.getSetting(this.kAttemptIndexKey);if(!t&&e||_.isUndefined(n)){this._moveToAttemptIndex(0);a.setSetting({store:a.Stores.SETTINGS,name:this.kAppUpdatedKey,value:0})}this.incrementNpsSessionCount();this.checkNpsTriggerCriteria()},_onAppUpgrade(){a.setSetting({store:a.Stores.SETTINGS,name:this.kAppUpdatedKey,value:1})},checkNpsTriggerCriteria(){const e=r.getSetting();const t=e[this.kAttemptIndexKey]||0;const n=e[this.kStartDateKey];const a=e[this.kSessionCountKey];const s=app.config.nps.attemptCriteria[t];if(this._daysFromToday(n)>=s.days&&a>s.sessions){this._unsubscribeViewChangeEvents();if(!app.isNative){this._subscribeViewChangeEvents();return}i._getNativeParam("appDownloadUrl",(e,t)=>{if(!e&&t){let e;if($.os.ios){e=/^itms-apps:\/\//i}else{e=/^(?:https?:\/\/play\.google\.com\/store\/apps\/details\?id=|market:\/\/)/i}if(e.test(t)){this.storeUrl=t}}this._subscribeViewChangeEvents()})}},_onViewChange(e={}){if(e.root==="Search"){this._unsubscribeViewChangeEvents();s.show({onSelect:({rateCount:e})=>{app.analytics.setNpsRating(e);r.setSetting(this.kLastFeedbackSubmitDateKey,(new Date).getTime());this._onNpsSubmit()},onRateAppSelect:()=>{i.openUrl(this.storeUrl)},onCancel:()=>{this._onNpsSkip()},storeUrl:this.storeUrl})}},_onNpsSkip(){const e=r.getSetting(this.kAttemptIndexKey);this._moveToAttemptIndex(e+1<app.config.nps.attemptCriteria.length?e+1:e)},_onNpsSubmit(){this._moveToAttemptIndex(app.config.nps.attemptCriteria.length-1)},_moveToAttemptIndex(e=0){r.setSetting({[this.kAttemptIndexKey]:e,[this.kStartDateKey]:(new Date).getTime(),[this.kSessionCountKey]:0})},incrementNpsSessionCount(){const e=r.getSetting(this.kSessionCountKey)||0;r.setSetting(this.kSessionCountKey,e+1)},_daysFromToday(e){const t=new Date(e).getTime();const n=(new Date).getTime();return parseInt((n-t)/(24*3600*1e3))}};const l={init(){if(app.config.nps.enabled){o.init()}},onAppPause(){this.timePaused=(new Date).getTime();const e=this.timeResumed?(this.timePaused-this.timeResumed)/1e3:0;if(app.api.isAuthenticated()&&e>app.config.nps.sessionLength){o.incrementNpsSessionCount()}},onAppResume(){this.timeResumed=(new Date).getTime();if(app.api.isAuthenticated()){o.checkNpsTriggerCriteria()}}};app.augment("npsManager",l,false);e.exports=l},function(e,t,n){const{supportsMyItems:i}=n(3);const a=n(1);(function e(t){const r=t.view.declareComponent;t.view.declareComponent=function e(...t){const[n,i,s]=t;if(_.isFunction(i)){return i}else if(n==="field"){return a.getFieldClass({baseType:i,module:s,shouldReturnDefault:true})}return r.apply(this,t)};SUGAR.forms.FlashField=_.noop;SUGAR.forms.markField=_.noop;SUGAR.forms.unmarkField=_.noop;t.metadata.copy=function e(n,i){i=i||{};if(i.bean instanceof t.Bean){return t.utils.deepCopy(n)}return n};t.data.getEditableFields=function e(n,i){const a=["id"];_.each(i,e=>{if(t.acl.hasAccessToModel("edit",n,e)){const t=n.get(e);const i=n.fields[e];if(t&&i&&i.type==="collection"&&!_.isEmpty(t.links)){_.each(t.links,e=>{a.push(e.link.name)})}else{a.push(e)}}});return n.toJSON({fields:a})};const s=SUGAR.expressions.SidecarExpressionContext.prototype.setValue;SUGAR.expressions.SidecarExpressionContext.prototype.setValue=function e(t,n){if(_.isObject(n)&&_.keys(n).length===1&&_.keys(n)[0]==="undefined"){return}s.call(this,t,n);const i=this.getField(t);if(i&&i.type==="enum"&&i.def.visibility_grid){i.render()}};SUGAR.expressions.SidecarExpressionContext.prototype.setFieldRequired=function e(t,n){n=SUGAR.expressions.Expression.isTruthy(n);const i=this.view.getField(t,this.model);if(i){i.setRequired(n)}};_.extend(SUGAR.expressions.SidecarExpressionContext.prototype,{addClass(e,t){const n=this.view.getField(e,this.model);if(n){n.$el.addClass(t)}},removeClass(e,t){const n=this.view.getField(e,this.model);if(n){n.$el.removeClass(t)}}});t.error.errorName2Keys.email="ERR_MOBILE_EMAIL";t.MixedBeanCollection.prototype.fetch=function e(n){const a=t.metadata.getModuleNames({filter:"visible",access:"list"});n=n||{};n.module_list=n.module_list||this.module_list||a;this.module_list=n.module_list;if(n.module_list!==a&&!this._parentBean){n.module_list=_.filter(n.module_list,e=>_.contains(a,e))}if(!n.module_list.length){return}const r=_.isUndefined(n.myItems)?this.myItems:n.myItems;if(r){const e=_.select(n.module_list,e=>i(e));n=_.extend({},n,{module_list:e})}return t.BeanCollection.prototype.fetch.call(this,n)};t.augment("hacks",{hackModuleList(){const e=t.user.get("module_list");const n=t.metadata.getModules();for(let t=0;t<e.length;++t){if(!n[e[t]]){e.splice(t--,1)}}},hackAcls(){const e=t.user.getAcls();const n=e.Users;if(_.isEmpty(e)){return}n.delete="no";if(_.isArray(n.fields)){n.fields={}}n.fields.status={create:"no",write:"no"};const i=["access","admin","delete","developer","edit","export","import","list","massupdate","view"];_.each(_.keys(e),n=>{if(!t.metadata.getModule(n)&&!_.contains(t.user.get("module_list"),n)){_.each(i,t=>{e[n][t]="no"})}});t.user.set("acl",e)}});delete t.validation.validators.datetime;delete t.validation.validators.primaryEmail;const o=$.param;$.param=function e(...t){const[n]=t;if(n instanceof ArrayBuffer){return n}return o.apply(this,t)};const l=function(e){const{files:n}=e;const{fileData:i}=n;const a=n.fieldName;const r=i.name||"newfile";const s=i.type||"application/octet-stream";const o=new FormData;o.append(a,new Blob([i.binary],{type:s}),r);return $.ajax({headers:{"OAuth-Token":t.api.getOAuthToken()},type:"POST",dataType:"json",processData:false,contentType:false,data:o,url:e.url,complete:e.complete,error:e.error,success:e.success})};const c=$.ajax;$.ajax=function e(...t){const[n]=t;if(!_.isEmpty(n.files)){return l(n)}return c.apply($,t)};const u=t.metadata.sync;t.metadata.sync=function e(n,i){if(t.lang.getLanguage()&&t.user.get("preferences")&&t.lang.getLanguage()!==t.user.get("preferences").language||!t.config.cacheMeta){i=i||{};i.forceRefresh=true;t.logger.debug("Forcing meta refresh as user language has changed")}u.call(this,n,i)};t.accessibility={run(){}};t.cache.clean=_.noop;const d=t.cache.init;t.cache.init=function e(){const i=`${t.config.env}:${t.config.appId}:`;const a=1;const r=n(154);r({uniqueKey:a,env:t.config.env,appId:t.config.appId});t.cache.set(`${i}uniqueKey`,a);d.call(this)};t.events.on("app:init",()=>{const e=t.api.records;t.api.records=function n(i,a,r,s,o,l){let c;l=l||{};if(s.recents){delete s.recents;a="recent";if(o.success){c=o.success;o.success=function e(...t){const[n]=t;n.next_offset=-1;c.apply(this,t)}}}return e.call(t.api,i,a,r,s,o,l)};const n=t.api.search;t.api.search=function i(...a){let[r]=a;const[,s,o]=a;const l=t.serverInfo.isSevenUp&&_.contains(["Users","Employees"],r.module_list);if(l){r.q=r.q||"";const t=r.q.split(" ");let n;if(t.length>1){n=[{$and:[{first_name:{$starts:_.first(t)}},{last_name:{$starts:_.rest(t).join(" ")}}]}]}else{n=[{$or:[{first_name:{$starts:_.first(t)}},{last_name:{$starts:_.first(t)}}]}]}r=_.extend({},r,{filter:n,q:null});return e.call(this,"read",r.module_list,null,r,s,o)}return n.apply(this,a)};const i=function(){let e=0;let n=false;$(window.document).on({ajaxSuccess:function i(a,r,s){let o;let l;if(n||s.type.toUpperCase()!=="GET"){return}const c=r.getResponseHeader("cache-control")||"";o=/max-age=(\d+)/i.exec(c)||[];o=Number(o[1])||0;if(o>t.config.maxHttpCacheAge){o=t.config.maxHttpCacheAge}l=new Date;l=l.setSeconds(l.getSeconds()+o);if(l>e){e=l}},ajaxError(){n=e>(new Date).getTime()},ajaxBeforeSend:function i(a,r,s){const o=(new Date).getTime();if(s.type==="GET"){if(n&&e>o){s.url+=`${s.url.indexOf("?")===-1?"?":"&"}nomad_timestamp=${o}`}else{n=false}}else if(s.url!==t.api.buildURL("bulk")){n=e>o}}})};i();const a=t.api.buildURL;t.api.buildURL=function e(...t){const n=t[0];const i=t[1];let r=a.apply(this,t);if(i==="favorite"||i==="unfavorite"){const e={fields:"my_favorite,following"};if(i==="favorite"){e.viewed=1}r+=`?${$.param(e)}`}if(n==="me"){r+=`?${$.param({platform:"mobile"})}`}return r}})})(SUGAR.App)},function(e,t){(function e(t){t.baseMetadata={_hash:"_base_",modules:{Quotes:{_hash:"QuotesHash",fields:{},views:{"quote-data-grand-totals-footer":{meta:{panels:[{fields:[{label:"LBL_LIST_DEAL_TOT",name:"deal_tot",related_fields:["deal_tot_discount_percentage"],type:"currency"},{name:"new_sub",type:"currency",label:"LBL_NEW_SUB"},{name:"tax",type:"currency",related_fields:["taxrate_value"],label:"LBL_TAX"},{name:"shipping",type:"currency",css_class:"quote-footer-currency",default:"0.00",label:"LBL_SHIPPING"},{name:"total",label:"LBL_LIST_GRAND_TOTAL",type:"currency",css_class:"grand-total"}]}]}}}},PdfManager:{_hash:"PdfManagerHash",fields:{}},ProductBundles:{_hash:"ProductBundlesHash",fields:{},views:{"quote-data-group-footer":{meta:{panels:[{fields:[{label:"LBL_GROUP_TOTAL",name:"new_sub",type:"currency"}]}]}}}},Products:{_hash:"ProductsHash",fields:{},views:{"quote-data-group-list":{meta:{panels:[{fields:[{name:"line_num",label:null,type:"int",readonly:true},{name:"quantity",label:"LBL_QUANTITY",type:"float"},{name:"product_template_name",rname:"name",id_name:"product_template_id",vname:"LBL_PRODUCT_TEMPLATE",type:"relate",module:"ProductTemplates",auto_populate:true,label:"LBL_ITEM_NAME",required:true,populate_list:{name:"name",category_id:"category_id",category_name:"category_name",mft_part_num:"mft_part_num",list_price:"list_price",cost_price:"cost_price",discount_price:"discount_price",list_usdollar:"list_usdollar",cost_usdollar:"cost_usdollar",discount_usdollar:"discount_usdollar",tax_class:"tax_class",weight:"weight",type_id:"type_id",type_name:"type_name",manufacturer_id:"manufacturer_id",manufacturer_name:"manufacturer_name",currency_id:"currency_id",base_rate:"base_rate"}},{name:"mft_part_num",label:"LBL_MFT_PART_NUM",type:"base"},{name:"discount_price",label:"LBL_DISCOUNT_PRICE",type:"currency",convertToBase:true,showTransactionalAmount:true,related_fields:["discount_price","currency_id","base_rate"]},{name:"discount",type:"fieldset",label:"LBL_DISCOUNT_AMOUNT",orientation:"horizontal",fields:[{type:"discount-select",name:"discount_select",no_default_action:true},{name:"discount_amount",label:"LBL_DISCOUNT_AMOUNT",type:"discount",convertToBase:true,showTransactionalAmount:true}]},{name:"total_amount",label:"LBL_LINE_ITEM_TOTAL",type:"currency",showTransactionalAmount:true,related_fields:["total_amount","currency_id","base_rate"]}]}]}}}},ProductBundleNotes:{_hash:"ProductBundleNotesHash",fields:{},views:{"quote-data-group-list":{meta:{panels:[{fields:[{name:"description"}]}]}}}},Dashboards:{_hash:"DashboardsHash",fields:{_hash:"DashboardsFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar"},dashboard_type:{name:"dashboard_type",type:"varchar"},date_modified:{name:"date_modified",type:"datetime"},url:{name:"url",type:"varchar"},metadata:{name:"metadata",type:"metadata"}},layouts:{},views:{}},Comments:{_hash:"CommentsHash",layouts:{},fields:{name:{name:"name",type:"varchar"},date_entered:{name:"date_entered",type:"datetime"},date_modified:{name:"date_modified",type:"datetime"},created_by:{name:"created_by",type:"id"},created_by_name:{name:"created_by_name",type:"relate",link:"created_by_link"},activities:{name:"activities",type:"link",relationship:"comments",module:"Activities"},parent_id:{name:"parent_id",type:"id"},data:{name:"data",type:"json"},_hash:"CommentsFieldsHash"}},Activities:{_hash:"ActivitiesHash",layouts:{},fields:{_hash:"ActivitiesFieldsHash",name:{name:"name",type:"varchar"},date_entered:{name:"date_entered",type:"datetime"},date_modified:{name:"date_modified",type:"datetime"},parent_id:{name:"parent_id",type:"id"},parent_type:{name:"parent_type",type:"varchar"},activity_type:{name:"activity_type",type:"varchar"},data:{name:"data",type:"json"},comment_count:{name:"comment_count",type:"int"},last_comment:{name:"last_comment",type:"json"},created_by:{name:"created_by",type:"id"},comments:{module:"Comments",name:"comments",relationship:"comments",type:"link"}},mergedFields:[],filters:{_hash:"ActivitiesFiltersHash",activity:{meta:{create:false,default_filter:"all_records",quicksearch_field:[],quicksearch_priority:2,filters:[{id:"all_records",name:"LBL_LISTVIEW_FILTER_ALL",filter_definition:[],editable:false},{id:"messages_for_create",name:"LBL_ACTIVITY_CREATE",filter_definition:{$or:[{activity_type:"create"},{activity_type:"attach"}]},editable:false},{id:"messages_for_update",name:"LBL_ACTIVITY_UPDATE",filter_definition:{activity_type:"update"},editable:false},{id:"messages_for_link",name:"LBL_ACTIVITY_LINK",filter_definition:{activity_type:"link"},editable:false},{id:"messages_for_unlink",name:"LBL_ACTIVITY_UNLINK",filter_definition:{activity_type:"unlink"},editable:false},{id:"messages_for_post",name:"LBL_ACTIVITY_POST",filter_definition:{activity_type:"post"},editable:false}]}}},views:{list:{meta:{panels:[{fields:[]}]}},"activitystream-dashlet":{meta:{panels:[{fields:[]}],view:{auto_refresh:0,currentFilterId:"all_records",module:"Activities",type:"activitystream-dashlet"}}}}},Filters:{_hash:"FiltersHash",fields:{_hash:"FiltersFieldsHash"},layouts:{}},Teams:{_hash:"TeamsHash",favoritesEnabled:false,ftsEnabled:false,mergedFields:["id","name","name_2"],fields:{_hash:"TeamsFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar",unified_search:true},name_2:{name:"name_2",type:"varchar",unified_search:true},primary:{name:"primary",type:"boolean"}},views:{list:{meta:{panels:[{fields:[{name:"name",type:"text"},{name:"name_2",type:"varchar"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}}},Login:{_hash:"LoginHash",fields:{_hash:"LoginFieldsHash",username:{name:"username",type:"username",required:true},password:{name:"password",type:"password",required:true}},views:{login:{meta:{panels:[{label:"Login",fields:[{name:"username",label:"Username"},{name:"password",label:"Password"}]}]}}}},About:{_hash:"AboutHash",fields:{_hash:"AboutFieldsHash",app_version:{name:"app_version",type:"varchar"},trial_until:{name:"trial_until",type:"date"},sdk_version:{name:"sdk_version",type:"varchar"},server_version:{name:"server_version",type:"varchar"},server_url:{name:"server_url",type:"url"},support_email:{name:"support_email",type:"url"},support_website:{name:"support_website",type:"url"}},views:{about:{meta:{panels:[{label:"LNK_ABOUT",fields:[{name:"app_version",label:"LBL_MOBILE_APP_VERSION",view:"readonly"},{name:"trial_until",label:"LBL_MOBILE_TRIAL_UNTIL",view:"readonly"},{name:"sdk_version",label:"LBL_MOBILE_SDK_VERSION",view:"readonly"},{name:"server_version",label:"LBL_MOBILE_SERVER_VERSION",view:"readonly"},{name:"server_url",label:"LBL_MOBILE_SERVER_URL",css_class:"server_url"},{name:"support_email",label:"LBL_MOBILE_FEEDBACK",css_class:"support_email hide"},{name:"support_website",label:"LBL_MOBILE_SUPPORT",css_class:"support_website"}]}]}}},layouts:{about:{meta:{type:"about",components:[{view:"about"}]}}}},Error:{_hash:"Error",fields:{_hash:"ErrorHash"},layouts:{},views:{}},Settings:{_hash:"SettingsHash",fields:{_hash:"SettingsFieldsHash",language:{name:"language",type:"enum",default:"en_us"},logging:{name:"logging",type:"enum"},fontSize:{name:"fontSize",type:"enum",default:"normal"}},views:{settings:{meta:{panels:[{label:"LNK_SETTINGS",fields:[{name:"language",label:"LBL_LANGUAGE",options:"available_language_dom",view:"edit",default:"en_us"},{name:"logging",label:"LBL_LOG_LEVEL",options:["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"],view:"edit"},{name:"fontSize",label:"LBL_SET_FONTSIZE",view:"edit",default:"normal"}]}]}}},layouts:{settings:{meta:{type:"settings",components:[{view:"settings"}]}}}},TxLog:{_hash:"txLogHash",fields:{_hash:"TxLogFieldsHash",_tx_action:{name:"_tx_action"},_tx_bean_module:{name:"_tx_bean_module"},_tx_updated_fields:{name:"_tx_updated_fields"},_tx_error_count:{name:"_tx_error_count"}},views:{list:{meta:{panels:[{label:"XXX",fields:[{name:"_tx_action"},{name:"_tx_bean_module"}]}]}},detail:{meta:{panels:[{label:"XXX",fields:[{name:"_tx_action"},{name:"_tx_bean_module"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}},detail:{meta:{type:"detail",components:[{view:"detail"}]}}}},Offline:{_hash:"OfflineHash",fields:{_hash:"OfflineFieldsHash"},views:{},layouts:{}},Recents:{_hash:"RecentsHash",fields:{_hash:"RecentsFieldsHash"},views:{list:{meta:{panels:[{fields:[]}]}}},layouts:{list:{meta:{type:"list"}}}},Search:{_hash:"SearchHash",fields:{_hash:"SearchFieldsHash",assigned_user_id:{name:"assigned_user_id"}},views:{list:{meta:{panels:[{fields:[]}]}}},layouts:{list:{meta:{type:"list"}}},favoritesEnabled:true},ErrorEmulation:{_hash:"ErrorEmulationHash",fields:{_hash:"ErrorEmulationHash"},views:{},layouts:{}},ProductTypes:{_hash:"ProductTypesHash",fields:{_hash:"ProductTypesFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar",vname:"LBL_NAME",unified_search:true}},views:{list:{meta:{panels:[{fields:[{name:"name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name"],ftsEnabled:false,favoritesEnabled:false,_patched:true},ProductCategories:{_hash:"ProductCategoriesHash",fields:{_hash:"ProductCategoriesFieldsHash",id:{name:"id",vname:"LBL_ID",type:"id",required:true},name:{name:"name",vname:"LBL_NAME",type:"varchar",len:50,required:true,unified_search:true},parent_id:{name:"parent_id",type:"id",vname:"LBL_PARENT_NAME"},parent_name:{id_name:"parent_id",link:"member_categories",module:"ProductCategories",name:"parent_name",source:"non-db",type:"relate",vname:"LBL_PARENT_CATEGORY"}},views:{list:{meta:{panels:[{fields:[{name:"name"},{name:"parent_name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name","parent_name","parent_id"],ftsEnabled:false,favoritesEnabled:false,_patched:true},ProductTemplates:{_hash:"ProductTemplatesHash",fields:{_hash:"ProductTemplatesFieldsHash",id:{name:"id",vname:"LBL_ID",type:"id",required:true},deleted:{name:"deleted",vname:"LBL_DELETED",type:"bool",required:false,default:"0"},date_entered:{name:"date_entered",vname:"LBL_DATE_ENTERED",type:"datetime"},date_modified:{name:"date_modified",vname:"LBL_DATE_MODIFIED",type:"datetime"},modified_user_id:{name:"modified_user_id",rname:"user_name",id_name:"modified_user_id",vname:"LBL_MODIFIED_ID",type:"assigned_user_name"},created_by:{name:"created_by",rname:"user_name",id_name:"modified_user_id",vname:"LBL_CREATED_ID",type:"assigned_user_name"},type_id:{name:"type_id",type:"id",required:false,vname:"LBL_TYPE_ID"},manufacturer_id:{name:"manufacturer_id",type:"id",required:false,vname:"LBL_LIST_MANUFACTURER_ID"},manufacturer_name:{name:"manufacturer_name",rname:"name",id_name:"manufacturer_id",type:"relate",vname:"LBL_MANUFACTURER_NAME",join_name:"manufacturers",link:"manufacturer_link",module:"Manufacturers"},category_id:{name:"category_id",type:"id",required:false,vname:"LBL_LIST_CATEGORY_ID"},category_name:{name:"category_name",rname:"name",id_name:"category_id",vname:"LBL_CATEGORY_NAME",join_name:"product_categories",type:"relate",link:"category_link",module:"ProductCategories",source:"non-db"},type_name:{name:"type_name",rname:"name",id_name:"type_id",vname:"LBL_TYPE",join_name:"product_types",type:"relate",link:"type_link",module:"ProductTypes",source:"non-db"},name:{name:"name",vname:"LBL_NAME",type:"varchar",len:50,required:true,unified_search:true},mft_part_num:{name:"mft_part_num",vname:"LBL_MFT_PART_NUM",type:"varchar",len:50},vendor_part_num:{name:"vendor_part_num",vname:"LBL_VENDOR_PART_NUM",type:"varchar",len:50},date_cost_price:{name:"date_cost_price",vname:"LBL_DATE_COST_PRICE",type:"date"},cost_price:{name:"cost_price",vname:"LBL_COST_PRICE",type:"currency",required:true,len:null},discount_price:{name:"discount_price",vname:"LBL_DISCOUNT_PRICE",required:true,type:"currency",len:null},list_price:{name:"list_price",vname:"LBL_LIST_PRICE",required:true,type:"currency",len:null},cost_usdollar:{name:"cost_usdollar",vname:"LBL_COST_USDOLLAR",type:"currency",len:null},discount_usdollar:{name:"discount_usdollar",vname:"LBL_DISCOUNT_USDOLLAR",type:"currency",len:null},list_usdollar:{name:"list_usdollar",vname:"LBL_LIST_USDOLLAR",type:"currency",len:null},currency_id:{name:"currency_id",vname:"LBL_CURRENCY",type:"currency_id",required:false,default:"-99"},currency_symbol:{name:"currency_symbol",type:"varchar",vname:"LBL_CURRENCY_SYMBOL_NAME",source:"non-db"},currency:{name:"currency",vname:"LBL_CURRENCY",type:"varchar",required:false,sortable:false},status:{name:"status",vname:"LBL_STATUS",type:"enum",options:"product_template_status_dom",len:100},tax_class:{name:"tax_class",vname:"LBL_TAX_CLASS",type:"enum",options:"tax_class_dom",len:100},date_available:{name:"date_available",vname:"LBL_DATE_AVAILABLE",type:"date"},website:{name:"website",vname:"LBL_URL",type:"varchar",len:255},weight:{name:"weight",vname:"LBL_WEIGHT",type:"decimal",len:12,precision:"2"},qty_in_stock:{name:"qty_in_stock",vname:"LBL_QUANTITY",type:"int",len:5},description:{name:"description",vname:"LBL_DESCRIPTION",type:"text"},support_name:{name:"support_name",vname:"LBL_SUPPORT_NAME",type:"varchar",len:50},support_description:{name:"support_description",vname:"LBL_SUPPORT_DESCRIPTION",type:"varchar",len:255},support_contact:{name:"support_contact",vname:"LBL_SUPPORT_CONTACT",type:"varchar",len:50},support_term:{name:"support_term",vname:"LBL_SUPPORT_TERM",type:"enum",options:"support_term_dom",len:100},pricing_formula:{name:"pricing_formula",vname:"LBL_PRICING_FORMULA",type:"varchar",len:100},pricing_factor:{name:"pricing_factor",vname:"LBL_PRICING_FACTOR",type:"decimal",len:8,precision:"2"},created_by_link:{name:"created_by_link",type:"link",relationship:"product_templates_created_by",vname:"LBL_CREATED_BY_USER",link_type:"one",module:"Users",source:"non-db"},modified_user_link:{name:"modified_user_link",type:"link",relationship:"product_templates_modified_user",vname:"LBL_MODIFIED_BY_USER",link_type:"one",module:"Users",source:"non-db"},category_link:{name:"category_link",type:"link",relationship:"product_templates_product_categories",vname:"LBL_PRODUCT_CATEGORIES",link_type:"one",module:"ProductCategories",source:"non-db"},type_link:{name:"type_link",type:"link",relationship:"product_templates_product_types",vname:"LBL_PRODUCT_TYPES",link_type:"one",module:"ProductTypes",source:"non-db"},manufacturer_link:{name:"manufacturer_link",type:"link",relationship:"product_templates_manufacturers",vname:"LBL_MANUFACTURERS",link_type:"one",module:"Manufacturers",source:"non-db"}},views:{list:{meta:{panels:[{fields:[{name:"name",label:"LBL_NAME"},{name:"category_name",label:"LBL_CATEGORY_NAME"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["currency_id","category_id","category_name","cost_price","cost_usdollar","discount_price,","discount_usdollar","list_price","list_usdollar","mft_part_num","name","tax_class","weight"],ftsEnabled:false,favoritesEnabled:false,_patched:true},Forecasts:{_hash:"ForecastsHash",config:{sales_stage_won:["Closed Won"],sales_stage_lost:["Closed Lost"]},fields:{}},Manufacturers:{_hash:"ManufacturersHash",fields:{_hash:"ManufacturersFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"name",unified_search:true}},views:{list:{meta:{panels:[{fields:[{name:"name",label:"LBL_NAME",default:true,enabled:true,type:"name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name"],ftsEnabled:false,favoritesEnabled:false}},views:{"activitystream-dashlet":{meta:{}}},relationships:{comments:{lhs_key:"id",lhs_module:"Activities",lhs_table:"activities",name:"comments",relationship_type:"one-to-many",rhs_key:"parent_id",rhs_module:"Comments",rhs_table:"comments"},product_templates_product_types:{lhs_key:"id",lhs_module:"ProductTypes",lhs_table:"product_types",name:"product_templates_product_types",relationship_type:"one-to-many",rhs_key:"type_id",rhs_module:"ProductTemplates",rhs_table:"product_templates"},product_templates_product_categories:{lhs_key:"id",lhs_module:"ProductCategories",lhs_table:"product_categories",name:"product_templates_product_categories",relationship_type:"one-to-many",rhs_key:"category_id",rhs_module:"ProductTemplates",rhs_table:"product_templates"}},app_strings:{LBL_DISCOUNT_TOTAL:"Discount total",LBL_TAX:"Tax",LBL_SHIPPING:"Shipping",LBL_GRAND_TOTAL:"Grand Total",LBL_GROUP_TOTAL:"Group Total",LBL_COMMENT_ADD:"Add a Comment",LBL_REQUIRED:"Required",LBL_MORE_BUTTON:"More",LBL_TRY_AGAIN:"Try again",LBL_NEW_RECORDS:"Recently Created",LBL_ASSIGNED_TO_ME:"My {{{module}}}",LBL_LISTVIEW_FILTER_ALL:"All {{{module}}}",LBL_UNFAVORITE:"Unfavorite",LBL_ACTIVITY_CREATE:"Created {{{record}}} {{{module}}}",LBL_ACTIVITY_UPDATE:"Updated {{{changes}}} on {{{record}}} {{{module}}}",LBL_ACTIVITY_LINK:"Linked {{{relatedRecord}}} to {{{record}}} {{{module}}}",LBL_ACTIVITY_UNLINK:"Unlinked {{{relatedRecord}}} from {{{record}}} {{{module}}}",LBL_OFFLINE_PREFETCHING_RELATIONSHIP:"{{relationship}} for {{parentModule}}",LBL_OFFLINE_PREFETCH_RELATED_ACTION:"Download related records...",ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR:"Failed to enable offline mode. Unable to reach the server.",LBL_SHOWING_CACHED_DATA:"Unable to reach the server. Showing latest available data ({{lastFetched}})",LBL_FUTURE:"Future",LBL_CLOSE_AND_SAVE_BUTTON:"Close {{moduleSingular}} and save",LBL_DASHBOARDS_CHANGED_PROMPT:"Your dashboard configuration has changed. Do you want to reload?",LBL_RECORDS:"Records",LBL_DASHBOARDS:"Dashboards",LBL_MOBILE_SEARCH_PLACEHOLDER:"Search {{searchCriteria}}...",LBL_MOBILE_SPECIFIC_DASHBOARD:"Specific Dashboard",LBL_MOBILE_SPECIFIC_MODULE:"Specific Module",LBL_MOBILE_DEFAULT_VIEW:"Start Screen",LBL_MOBILE_DEFAULT_MODULE:"Selected Module",LBL_MOBILE_DEFAULT_DASHBOARD:"Selected Dashboard",LBL_MOBILE_DEFAULT_DASHLET:"Selected Dashlet",LBL_ALL_DASHLETS:"All Dashlets",LBL_MOBILE_GLOBAL_SEARCH:"Global Search",LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER:"Type @ to mention a user. Type # to reference a record.",LBL_MOBILE_TUTORIAL_HOME_MENU:"Main menu",LBL_MOBILE_TUTORIAL_HOME_PLUS:"Quick create new record",LBL_MOBILE_TUTORIAL_HOME_SWIPE:"Swipe for more options",LBL_DETAILS:"Details",LBL_DETAIL_RELATED:"Related",LBL_CREATE_RELATED_MODULE_WARN:"This {{module}} requires a {{relatedModule}}."+" <a class='alert-link' href='{{{createLink}}}'>Create a {{relatedModule}} record</a>.",LBL_MOBILE_PDF_DOWNLOAD:"Download {{{pdfTemplateName}}} PDF",LBL_RECORD_SHARE_BUTTON:"Share",LBL_RECORD_NOT_FOUND:"Record not found.",LBL_RELATED_RECORD_NOT_FOUND:"Related record not found.",LBL_NOT_AUTHORIZED:"You are not authorized to view this record.",LBL_SET_FONTSIZE:"Font size",LBL_FONTSIZE_TINY:"Tiny",LBL_FONTSIZE_SMALL:"Small",LBL_FONTSIZE_NORMAL:"Normal (default)",LBL_FONTSIZE_LARGE:"Large",LBL_FONTSIZE_LARGER:"Larger",LBL_FONTSIZE_HUGE:"Huge",LBL_FONTSIZE_EXTRA_HUGE:"Extra huge",LBL_CLOSE_SAVE_BUTTON:"Close task and save",LBL_MOBILE_PROCESSING_FILE:"Preparing file...",ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED:"File is too big. Maximum allowed size is {{size}}",LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION:"Edit record",LBL_LATER:"Later",LBL_LOADING_FILES:"Still loading document list. Please try again later",LBL_NEW_WEB_VERSION:"A new version of this application is available. Would you like to update?",LBL_MOBILE_DOWNLOAD_FAILED:"Download failed\r\n{{{this}}}",LBL_MOBILE_DETAIL_SHOW_MORE:"More...",LBL_MOBILE_DETAIL_SHOW_LESS:"...Less",LBL_OFFLINE_MODE:"Offline Mode",LBL_OFFLINE_PREFETCH_PROMPT:"Downloading your assigned, favorited, and followed records for offline access may take some time to complete. A fast connection is recommended. Would you like to proceed?",LBL_OFFLINE_PREFETCH_FIRST_PROMPT:"Do you want your assigned, favorited, and followed records to be downloaded now for offline access? A fast connection is recommended as this operation may take some time. You may download later from Main Menu > Offline.",LBL_OFFLINE_PREFETCH_SUCCESS:"Records downloaded successfully",LBL_OFFLINE_PREFETCH_ACTION:"Download your records...",LBL_OFFLINE_PREFETCH_ERROR:"Error while downloading records",LBL_OFFLINE_PREFETCHING:"Loading records...",LBL_OFFLINE_PREFETCHING_MODULE:"Loading {{module}} {{progressValue}}...",LBL_OFFLINE_PREFETCHING_EST_TIME:"Time left is about {{estimatedTime}}s...",LBL_OFFLINE_PREFETCHING_MODULE_COMPLETE:"Loading {{module}} completed",LBL_OFFLINE_DB_CLEANING_IN_PROGRESS:"Cleaning storage...",LBL_OFFLINE_DB_CLEANING_COMPLETED:"Clean-up completed",LBL_OFFLINE_ROLLBACK_PROMPT:"Do you want to rollback this change?",LBL_OFFLINE_ROLLBACK_SUCCESS:"Rollback completed",LBL_OFFLINE_ROLLBACK_FAILED:"Rollback failed",LBL_OFFLINE_CLEAR_DB:"Clear Storage...",LBL_OFFLINE_COMPACT_DB:"Compact Storage...",LBL_OFFLINE_CLEAN_UP_PROMPT:"This action will delete records you haven't accessed in a while. Proceed?",LBL_OFFLINE_CLEAR_DB_PROMPT:"Do you want to delete all records from the local storage?",LBL_OFFLINE_MENU_SETTINGS:"Offline Settings",LBL_OFFLINE_DEBUG_SETTINGS:"Debug Settings",LBL_OFFLINE_STATUS_NO_PENDING_TX:"No changes pending synchronization.",LBL_OFFLINE_STATUS_PENDING_TX:"Changes are pending synchronization.",LBL_OFFLINE_STATUS_ONLINE:"Device is online.",LBL_OFFLINE_STATUS_OFFLINE:"Device is offline.",LBL_OFFLINE_STATUS_BAD_NETWORK:"Unable to reach the server.",LBL_OFFLINE_STATUS_SYNC_FAILED:"Last synchronization attempt failed. Check the transaction log.",LBL_OFFLINE_SYNC_IN_PROGRESS:"Synchronization in progress...",LBL_OFFLINE_TRANSACTION_SYNCED:"Transaction synchronized.",LBL_OFFLINE_ENABLE_PROMPT:"Are you sure you want to turn on offline support?",LBL_OFFLINE_DISABLE_PROMPT:"Do you want to turn off offline support? All changes pending synchronization will be lost.",LBL_OFFLINE_ENABLED:"Offline mode enabled",LBL_OFFLINE_DISABLED:"Offline mode disabled",LBL_OFFLINE_STATS:"Storage statistics",LBL_OFFLINE_SERVER_FETCH:"Fetching from server...",LBL_OFFLINE_MERGE_DATA_CONFIRM:"Someone has edited the same record on the server. Confirm to auto-merge your changes or reject to discard them.",LBL_OFFLINE_LAST_SYNC_TS:"Last synchronization attempt: {{ts}}",LBL_ACTION_UPDATE:"UPDATE",LBL_ACTION_CREATE:"CREATE",LBL_ACTION_DELETE:"DELETE",LBL_ACTION_LINK:"LINK",LBL_ACTION_UNLINK:"UNLINK",LBL_ACTION_FAVORITE:"FAVORITE",LBL_ACTION_FOLLOW:"FOLLOW",LBL_ACTION_CREATE_EXPLANATION:'Created {{module}} "{{name}}"',LBL_ACTION_UPDATE_EXPLANATION:'Updated {{module}} "{{name}}"',LBL_ACTION_DELETE_EXPLANATION:'Deleted {{module}} "{{name}}"',LBL_ACTION_LINK_EXPLANATION:'Linked {{module}} "{{name}}" to {{relatedModule}} "{{relatedName}}"',LBL_ACTION_UNLINK_EXPLANATION:'Unlinked {{module}} "{{name}}" from {{relatedModule}} "{{relatedName}}"',LBL_ACTION_FOLLOW_EXPLANATION:'Followed {{module}} "{{name}}"',LBL_ACTION_UNFOLLOW_EXPLANATION:'Unfollowed {{module}} "{{name}}"',LBL_ACTION_FAVORITE_EXPLANATION:'Favorited {{module}} "{{name}}"',LBL_ACTION_UNFAVORITE_EXPLANATION:'Unfavorited {{module}} "{{name}}"',LBL_ACTION_CREATE_RELATED_EXPLANATION:'Created {{module}} "{{name}}" related to {{relatedModule}} "{{relatedName}}"',LBL_EMAIL_ACTION_SET_PRIMARY:"Primary",LBL_EMAIL_ACTION_SET_OPT_OUT:"Opt-out",LBL_EMAIL_ACTION_SET_OPT_IN:"Opt-in",LBL_EMAIL_ACTION_SET_VALID:"Valid",LBL_EMAIL_ACTION_SET_INVALID:"Invalid",LBL_ROLLBACK_BUTTON:"Rollback",LBL_TX_LOG:"Transaction Log",LBL_TX_LOG_DETAIL:"Transaction Detail",LBL_RECORD_DELETED:"(Record deleted)",LBL_FILE_SIZE_UNITS_B:"Bytes",LBL_FILE_SIZE_UNITS_KB:"kB",LBL_FILE_SIZE_UNITS_MB:"MB",LBL_CHOOSE_ITEMS:"Choose items",LBL_OFFLINE_DB_SIZE:"Database size",LBL_OFFLINE_DATA_ENCRYPTION_ENABLED:"Data encryption is enabled.",LBL_OFFLINE_RECORDS_PER_MODULE:"Records per module",LBL_OFFLINE_TOTAL_RECORDS:"Total Records",LBL_OFFLINE_LAST_DOWNLOAD:"Last download",LBL_RECENTLY_VIEWED:"Recently Viewed",ERR_MOBILE_METADATA_CHANGED_RELOAD:"Server configuration has changed and reload is required. Proceed?",ERR_MOBILE_CONFLICT:"Someone has edited the same record on the server. Confirm to auto-merge your changes or reject to discard them.",ERR_MOBILE_METADATA_CHANGED:"Server configuration has changed.",ERR_MOBILE_FILE_READ:"Failed to read the file",ERR_MOBILE_FILE_NOT_FOUND:"File not found",ERR_MOBILE_FILE_NOT_READABLE:"File not readable",ERR_MOBILE_FILE_ABORTED:"Read operation was aborted",ERR_MOBILE_FILE_SECURITY:"File is locked",ERR_MOBILE_FILE_DOWNLOAD_FAILED:"Unable to download the file.",ERR_MOBILE_VIEW_NOT_SUPPORTED:"Mobile version does not support this functionality. Do you want to open the desktop version?",ERR_OFFLINE:"Offline error",ERR_OFFLINE_STORAGE_UNAVAILABLE:"Failed to open local storage",ERR_OFFLINE_STORAGE_CREATE:"Failed to create local storage",ERR_OFFLINE_START_FAILED_OUT_OF_SPACE:"Failed to create local storage: you've run out of space.",ERR_OFFLINE_OUT_OF_SPACE:"You've run out of space for local storage.",ERR_OFFLINE_DB_CLEANING_ERROR:"Database clean-up failed",ERR_OFFLINE_CLEAN_UP_CONFIRMATION:"You have reached the maximum record limit for offline mode so we will be periodically cleaning up older records",ERR_OFFLINE_PREFETCH_FAILED:"Failed to prefetch records from server",ERR_OFFLINE_SYNC_ERROR:"Synchronization error",ERR_OFFLINE_SYNC_CONFLICT:"Synchronization conflict",ERR_OFFLINE_SERVERTIME_UNAVAILABLE:"Failed to get server time",ERR_MOBILE_DASHBOARDS_FETCHING:"Failed to load dashboards from server",ERR_FILTERS_FETCHING:"Unable to fetch your filters",ERR_OFFLINE_ENCRYPTION_FAILED:"Failed to encrypt local storage",LBL_OFFLINE_ENCRYPTION_IN_PROGRESS:"Encrypting offline data. This may take several minutes.",LBL_OFFLINE_ENCRYPTION_SUCCESS:"Offline data encryption completed.",ERR_ACCESS_SPECIFIC_MODULE:"You do not have access to {{{module}}} module.",LBL_MOBILE_WAIT:"Please wait...",LBL_OK:"OK",LBL_YES:"Yes",LBL_NO:"No",LBL_CANCEL_BUTTON_LABEL:"Cancel",LBL_SKIP:"Skip",LBL_UPDATE:"Update",LBL_CONTINUE:"Continue",LBL_MOBILE_RELOGIN_BUTTON:"Re-login",LBL_MOBILE_META_SYNC_FAILED:"Unable to sync with server.",LBL_MOBILE_META_SYNC_FAILED_RETRY:"Unable to sync with server. Retry?",LBL_LOADING:"Loading...",LBL_WARNING:"Warning",LBL_CONFIRM:"Confirm",LBL_ENABLE:"Enable",LNK_ABOUT:"About",LBL_MOBILE_APP_VERSION:"App Version",LBL_MOBILE_TRIAL_UNTIL:"Trial Until",LBL_MOBILE_SDK_VERSION:"SDK Version",LBL_MOBILE_SERVER_VERSION:"Server Version",LBL_MOBILE_SERVER_URL:"Instance URL",LBL_MOBILE_FEEDBACK:"Feedback",LBL_MOBILE_SUPPORT:"Support",LBL_LOGIN_USERNAME:"Username",LBL_LOGIN_PASSWORD:"Password",LNK_TERMS_OF_USE:"Terms of Use",LNK_PRIVACY_POLICY:"Privacy Policy",LNK_THIRD_PARTY_SOFTWARE:"Third Party Software",LBL_LOGIN_BUTTON_TITLE:"Log In",LBL_EXTERNAL_LOGIN_BUTTON_TITLE:"Single Sign-On",LBL_LOG_LEVEL:"Log Level",LBL_NOT_AVAILABLE:"N/A",LBL_USE_HTTPS:"Use secure connection",LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM:"Login settings have been reconfigured.",LBL_TRIAL_PERIOD_EXPIRED:"Your trial period has expired.",ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN:"Server does not support secure connection. Please turn off secure connection.",ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN:"Server supports secure connection. Please turn on secure connection.",ERR_MOBILE_HTTP_CONNECTION_USE_MSG:"Your connection is not secure. Contact your administrator.",LBL_LOGIN_SETTINGS_HEADER:"Login Settings",LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE:"Set up your {{{brandName}}} instance",LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC:"In order for the app to work, you will need to type in the URL of the {{{brandName}}} instance. If you do not have the instance URL, please contact your administrator.",LBL_TOUCHID:"Touch ID",LBL_FACEID:"Face ID",LBL_ENABLE_TOUCHID:"Enable {{{biometryType}}}",LBL_SETUP_TOUCHID:"Setup {{{biometryType}}}",LBL_TOUCH_ID_AUTHENTICATE_SUBTITLE:"Sign in using your finger",LBL_TOUCH_ID_NOT_ENROLLED_MSG:"{{{biometryType}}} is not set up on your device. \n\nGo to your device settings to set up {{{biometryType}}}. Once set up, enable {{{biometryType}}} for {{{brandName}}} in Main Menu > Settings.",LBL_TOUCH_ID_DISCLAIMER:"Using {{{biometryType}}} with {{{brandName}}} will allow you to use your biometric identifier instead of entering your password to access {{{brandName}}}.",LBL_TOUCH_ID_ENABLE_CONFIRM_MSG:" Would you like to proceed with {{{biometryType}}}?",LBL_TOUCH_ID_ENTER_PASSWORD_TITLE:"Enter {{{brandName}}} Password to Enable {{{biometryType}}}",LBL_SETUPBUDDY_HEADER_TITLE:"Setup",LBL_MDM_CONFIRM_CHANGE:"Application configuration has changed from Mobile Device Manager. Please re-login to apply changes.",ERR_GEOLOCATION_PERMISSION_DENIED:"Please give {{{brandName}}} access to your location via your device's settings.",ERR_GEOLOCATION_POSITION_UNAVAILABLE_MSG:"Current location is not available",ERR_GEOLOCATION_POSITION_TIMEOUT_MSG:"Current location retrieval timed out. \nPlease try again.",ERR_GEOLOCATION_PLACEMARKS_UNAVAILABLE_MSG:"Location placemarks are not available",ERR_GEOLOCATION_INVALID_COORDINATES_MSG:"Location coordinates are invalid",ERR_SYNC_FAILED:"Unable to sync with server.",ERR_INTERNAL_ERR_MSG:"Internal error",ERR_MOBILE_NOT_AUTHORIZED:"Access not authorized.",ERR_MOBILE_INVALID_CREDS:"Invalid username or password.",ERR_MOBILE_INVALID_PASSWORD:"Invalid password.",ERR_MOBILE_SESSION_EXPIRED:"Your session expired.",ERR_MOBILE_SSO_NOT_CONFIGURED:"SSO login is unavailable. Ensure the instance is on Sugar 7.5 or greater and configured for SSO.",ERR_MOBILE_NOT_FOUND:"Resource not found.",ERR_MOBILE_TIMEOUT:"Server is not responding.",ERR_MOBILE_CONNECTION_FAILED:"Can't reach the server.",ERR_MOBILE_NOT_FOUND_LOGIN:"No {{{brandName}}} server found at the given URL.",ERR_MOBILE_TIMEOUT_LOGIN:"Server is not responding at the given URL.",ERR_MOBILE_CONNECTION_FAILED_LOGIN:"Server unavailable at the given URL.",ERR_MOBILE_INTERNET_UNAVAILABLE:"Internet connection unavailable.",ERR_MOBILE_INTERNAL:"Internal error ({{{code}}}). Please try again later.",ERR_MOBILE_VALIDATION:"Record is invalid",ERR_SERVER_FLAVOR_INCOMPATIBLE:"Incompatible server flavor: {{{flavor}}}. Supported flavors: {{{supportedFlavors}}}.",ERR_SERVER_VERSION_INCOMPATIBLE:"Incompatible server version: {{{version}}}. Minimum required version: {{{minVersion}}}.",ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION:"Your app is outdated and is no longer compatible with the {{{brandName}}} instance you are connecting to.",ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION_UPDATE:"Your app is outdated and is no longer compatible with the {{{brandName}}} instance you are connecting to. Do you want to update it?",ERR_GENERIC_TITLE:"Error",LBL_MOBILE_BY:"By",LBL_MOBILE_FILTER_IS_NOT_AVAILABLE:"This filter is not available in offline",LBL_BULK_LOAD_OFFLINE_RECORDS:"Offline Records",LBL_BULK_LOAD_DOWNLOAD_SETTINGS:"Download Settings",LBL_BULK_LOAD_PREFETCH_MESSAGE:"Download your assigned, favorite, and followed records for offline access. You can update your preferences in offline settings.",LBL_BULK_LOAD_COMPLETED_MESSAGE:"Your records have finished downloading. You can now access them in offline mode.",LBL_BULK_LOAD_ERROR_CONFIRM:"Not all your records were downloaded.\n Do you want to try again?",LBL_BULK_LOAD_USE_CELLULAR:"Use cellular data",LBL_BULK_LOAD_NOT_RIGHT_NOW:"Not right now",LBL_BULK_LOAD_PAUSED_MESSAGE:"Download has paused and it will resume when you open the app again.",LBL_BULK_LOAD_STATUS_DOWNLOADING:"Downloading {{{module}}}: {{count}}",LBL_BULK_LOAD_STATUS_IDLE:"Update Latest Records",LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION:"Waiting for connection",LBL_BULK_LOAD_STATUS_PAUSED:"Paused",LBL_BULK_LOAD_STATUS_STOPPING:"Stopping",LBL_BULK_LOAD_BTN_DOWNLOAD:"Download",LBL_BULK_LOAD_BTN_PAUSE:"Pause",LBL_BULK_LOAD_BTN_RESUME:"Resume",LBL_BULK_LOAD_CONNECTION_USE_MESSAGE:"Only WiFi connection is used by default",LBL_NPS_RATING_MSG:"How would you rate your \n{{{productName}}} experience?",LBL_NPS_THANKS_MSG:"Thanks for your feedback!",LBL_NPS_APPSTORE_RATE_MSG:"Would you mind rating it on the App Store?",LBL_NPS_NO_THANKS:"No, Thanks",LBL_NPS_NOT_NOW:"Not Now",LBL_NPS_RATE_NOW:"Rate Now",WARN_MOBILE_INTERNET_UNAVAILABLE:"Network is unavailable. You can still use the app while offline",WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS:"Your changes will be synced when you are online. <a class='alert-link' href='{{{link}}}'>See details</a>",ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS:"There are unsynced data. Please check the <a class='alert-link' href='{{{link}}}'>transaction log</a>",LBL_CONVERT:"Convert",LBL_CONVERT_LEAD:"Convert Lead",LBL_SEARCH_EXISTING_RECORD:"Search Existing {{{this}}}",LBL_DUPLICATES_CHECK_FAILED:"Duplicates check failed",LBL_MOVE_RELATED_ACTIVITIES_PROMPT:"Do you want to move related activities to the contact record?",LBL_LEAD_CONVERSION_SUCCESS:"You successfully converted the lead {{{name}}}",LBL_MOBILE_NO_DUPLICATES_FOUND:"No Duplicates Found.",ERR_LEAD_CONVERSION_FAIL:"Lead Conversion Failed",LBL_SELECT_DUPLICATE_RECORD:"Select From Duplicate {{{modulePlural}}}",LBL_SELECTED_EXISTING_RECORD:"Selected {{{moduleSingular}}}",LBL_CREATED_NEW_RECORD:"Created New {{{moduleSingular}}}",LBL_VO_BACK_BTN:"Back button",LBL_VO_HOME_BTN:"Home button",LBL_VO_DASHBOARD_BTN:"Dashboard button",LBL_VO_SEARCH_BTN:"Search button",LBL_VO_RIGHT_MENU_BTN:"Right menu button",LBL_VO_ADD_BTN:"Add button",LBL_QUOTES_POPULATE_ADDRESS:"Auto populate billing address from Account profile",LBL_QLI_ADD_GROUP:"Add a Group",LBL_QLI_SINGLE_TITLE:"Quoted Line Item",LBL_QLI_COMMENT:"Comment",LBL_SELECT_ACTION:"Select Action",LBL_QLI_GROUP_NAME:"Group Name",LBL_ITEM_NAME:"Line Item",LBL_QLI_DELETE:"Are you sure you want to delete this line item?",LBL_QLI_COMMENT_DELETE:"Are you sure you want to delete this line item comment?",LBL_QLI_GROUP_DELETE:"Do you really want to delete group {0}? All items will be moved to default group.",LBL_QLI_GROUP_EMPTY:"No Quoted Line Item",LBL_FILE_STORED_LOCALLY:"File is stored on local storage and will be synced once device is online.",LBL_IDM_USER_PROFILE_READONLY:`If you wish to change certain fields that are not editable, please contact \n                Administrator to notify these changes.`}};t._mod_strings=["LBL_ATTACHMENTS","LBL_EMAIL_BODY","LBL_MODULE_NAME","LBL_MODULE_NAME_SINGULAR","LBL_RELATED_RECORD_DEFAULT_NAME","LBL_RELATED_MODULE","LBL_CREATE_RELATED","LBL_CREATE_MODULE","LBL_RELATED_MODULE","LBL_EDIT_RELATED","LBL_EDIT","LBL_ASSOC_EXISTING","LBL_ASSOC","LBL_ASSIGN","LBL_RELATED_MODULE_PLURAL","LBL_DASHLET_FORECAST_NOT_SETUP","LBL_DASHLET_FORECAST_NOT_SETUP_ADMIN","LBL_DASHLET_FORECAST_CONFIG_LINK_TEXT","LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","LBL_CLOSED","LBL_FORECAST_DETAILS_SURPLUS","LBL_FORECAST_DETAILS_EXCEED","LBL_FORECAST_DETAILS_DEFICIT","LBL_FORECAST_DETAILS_SHORT","LBL_FORECAST_DETAILS_NO_DATA","LBL_FORECAST_DETAILS_MEETING_QUOTA","LBL_SALES_STAGE","LBL_AMOUNT","LBL_PERCENT","LBL_CUMULATIVE_TOTAL","LBL_OW_PROBABILITY","LBL_QUOTA","LBL_QUOTA_ADJUSTED","LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME","LBL_NEW_RECORDS","LBL_ASSIGNED_TO_ME","LBL_LISTVIEW_FILTER_ALL","LBL_MY_SCHEDULED_ITEMS","LBL_MY_SCHEDULED_CALLS","LBL_MY_SCHEDULED_MEETINGS"];t._app_list_strings=["record_type_display","moduleIconList","moduleList","moduleListSingular","available_language_dom","forecasts_options_dataset","forecasts_chart_options_group","top10_opportunities_duration_options","history_filter_options","generic_timeperiod_options","opportunity_metrics_dom"];t._app_strings=_.union(_.keys(t.baseMetadata.app_strings),["LBL_TRY_AGAIN","LBL_CONTINUE","LBL_FAVORITES_FILTER","LBL_ACTIVITY_STREAM","LBL_RECORD_NOT_FOUND","LBL_RELATED_RECORD_NOT_FOUND","LBL_NOT_AUTHORIZED","LBL_SET_FONTSIZE","LBL_LATER","LBL_ACTION_UPDATE","LBL_ACTION_CREATE","LBL_ACTION_DELETE","LBL_ACTION_LINK","LBL_ACTION_UNLINK","LBL_ACTION_FAVORITE","LBL_ACTION_FOLLOW","LBL_ROLLBACK_BUTTON","LBL_UNLINKING","LBL_DELETING","LBL_SAVING","LBL_UNLINKED","LBL_DELETED","LBL_SAVED","LBL_MOBILE_CHOOSE_RECIPIENT","LBL_MOBILE_CHOOSE_PHONE","LBL_MOBILE_CHOOSE_URL","LBL_MOBILE_DOC","LBL_MOBILE_CHOOSE_DOC","LBL_MOBILE_CHOOSE_LOCATION","LBL_MOBILE_WAIT","LBL_MOBILE_LOG_CALL_CONFIRM","LBL_MOBILE_TUTORIAL_HOME_MENU","LBL_MOBILE_TUTORIAL_HOME_PLUS","LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION","LBL_MOBILE_TUTORIAL_HOME_SWIPE","LBL_MOBILE_DOWNLOAD_STARTED","LBL_MOBILE_DOWNLOAD_COMPLETED","LBL_UPCOMING","LBL_MOBILE_NO_RECORDS","LBL_RECENTLY_UPDATED","LBL_RECENTLY_VIEWED","LBL_MOBILE_NO_ACTIONS_AVAILABLE","LBL_DELETE_BUTTON","LBL_SAVE_BUTTON_LABEL","LBL_HOME","LBL_ENABLE","LBL_SKIP","LBL_DETAILS","LBL_UPDATE","LBL_CREATE_RELATED_MODULE_WARN","LBL_MOBILE_DESKTOP","LBL_LOGOUT","LBL_RECORDS","LBL_MOBILE_SEARCH_PLACEHOLDER","LBL_DONE_BUTTON_LABEL","LBL_OPTIONAL","LBL_REQUIRED","LBL_CHOOSE_LINK","LBL_NO_ACCESS","LBL_NO_ACCESS_LOWER","LBL_CHOOSE_PARENT_TYPE","LBL_RELATED_MODULE","LBL_MOBILE_UPLOAD_IN_PROGRESS","LBL_MOBILE_UPLOAD_SUCCESS","LBL_MOBILE_PROCESSING_IMAGE","LBL_MOBILE_PROCESSING_FILE","LBL_MOBILE_DELETE_CONFIRM","LBL_DUPLICATE_BUTTON_LABEL","LBL_CREATE_RELATED_RECORD","LBL_ASSOC_RELATED_RECORD","LBL_MOBILE_SELECT_TEAMS","LBL_CHOOSE_ITEMS","LBL_VIEW_BUTTON","LBL_EDIT_BUTTON","LBL_UNLINK_BUTTON","LBL_CALL_BUTTON","LBL_SMS_BUTTON","LBL_EMAIL_BUTTON","LBL_MAP_BUTTON","LBL_URL_BUTTON","LBL_FILE_BUTTON","LBL_MORE_BUTTON","LBL_FOLLOW","LBL_UNFOLLOW","LBL_FAVORITE","LBL_UNFAVORITE","LBL_FOLLOWING","LBL_MOBILE_DETAIL_SHOW_MORE","LBL_MOBILE_DETAIL_SHOW_LESS","LBL_MOBILE_PTR_RELEASE","LBL_LOADING_FILES","LBL_MOBILE_UNLINK_CONFIRM","LBL_INVITEES","LBL_SEND_INVITE","LBL_SELECT_ACTION_LABEL","LNK_SETTINGS","LBL_LANGUAGE","LBL_NAME","LBL_NONE","LBL_TIME_RELATIVE","LBL_TIME_AGO_NOW","LBL_TIME_AGO_SECONDS","LBL_TIME_AGO_MINUTE","LBL_TIME_AGO_MINUTES","LBL_TIME_AGO_HOUR","LBL_TIME_AGO_HOURS","LBL_TIME_AGO_DAY","LBL_TIME_AGO_DAYS","LBL_TIME_AGO_YEAR","LBL_TIME_UNTIL_SECONDS","LBL_TIME_UNTIL_MINUTE","LBL_TIME_UNTIL_MINUTES","LBL_TIME_UNTIL_HOUR","LBL_TIME_UNTIL_HOURS","LBL_TIME_UNTIL_DAY","LBL_TIME_UNTIL_DAYS","LBL_TIME_UNTIL_YEAR","LBL_NOT_AVAILABLE","LBL_FILE_SIZE_UNITS_B","LBL_FILE_SIZE_UNITS_KB","LBL_FILE_SIZE_UNITS_MB","LBL_USE_HTTPS","LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM","LBL_TRIAL_PERIOD_EXPIRED","LBL_MOBILE_TRIAL_UNTIL","ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN","ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN","ERR_MOBILE_HTTP_CONNECTION_USE_MSG","LBL_LOGIN_SETTINGS_HEADER","LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE","LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC","LBL_TOUCHID","LBL_FACEID","LBL_ENABLE_TOUCHID","LBL_SETUP_TOUCHID","LBL_TOUCH_ID_AUTHENTICATE_SUBTITLE","LBL_TOUCH_ID_NOT_ENROLLED_MSG","LBL_TOUCH_ID_DISCLAIMER","LBL_TOUCH_ID_ENABLE_CONFIRM_MSG","LBL_TOUCH_ID_ENTER_PASSWORD_TITLE","LBL_SETUPBUDDY_HEADER_TITLE","ERR_GEOLOCATION_PERMISSION_DENIED","ERR_GEOLOCATION_POSITION_UNAVAILABLE_MSG","ERR_GEOLOCATION_POSITION_TIMEOUT_MSG","ERR_GEOLOCATION_PLACEMARKS_UNAVAILABLE_MSG","ERR_GEOLOCATION_INVALID_COORDINATES_MSG","LBL_MDM_CONFIRM_CHANGE","LBL_REMOVE","LBL_TODAY","LBL_FUTURE","LBL_CLOSE_BUTTON_TITLE","LBL_CLOSE_AND_SAVE_BUTTON","LBL_MOBILE_SPECIFIC_DASHBOARD","LBL_MOBILE_SPECIFIC_MODULE","LBL_MOBILE_DEFAULT_VIEW","LBL_MOBILE_DEFAULT_MODULE","LBL_MOBILE_DEFAULT_DASHBOARD","LBL_MOBILE_DEFAULT_DASHLET","LBL_MOBILE_GLOBAL_SEARCH","LBL_DASHBOARDS_CHANGED_PROMPT","LBL_DEFAULT_HELP_DASHBOARD_TITLE","LBL_DEFAULT_HELP_DASHLET_TITLE","LBL_LEARNING_RESOURCES_NAME","LBL_DASHLET_RECENT_TWEETS_SUGARCRM_NAME","TPL_DASHLET_MY_MODULE","LBL_DEFAULT_DASHBOARD_TITLE","LBL_ACTIVE_TASKS_DASHLET_DUE_NOW","LBL_ACTIVE_TASKS_DASHLET_UPCOMING","LBL_ACTIVE_TASKS_DASHLET_TODO","LBL_COMMENT","LBL_COMMENT_ADD","LBL_ACTIVITY_CREATE","LBL_ACTIVITY_UPDATE","LBL_ACTIVITY_LINK","LBL_ACTIVITY_UNLINK","LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER","LBL_SUBMIT_BUTTON_LABEL","LBL_SHOWING_CACHED_DATA","LBL_DASHLET_FORECASTS_GROUPBY","LBL_DASHLET_FORECASTS_DATASET","LBL_DASHLET_FORECASTS_CHART_NAME","LBL_LIKELY","LBL_BEST","LBL_ACTIVE_TASKS_DASHLET","LBL_INACTIVE_TASKS_DASHLET_DEFERRED","LBL_INACTIVE_TASKS_DASHLET_COMPLETED","LBL_ALL_DASHLETS","LBL_TWITTER_REPLY","LBL_TWITTER_RETWEET","LBL_TWITTER_FAVORITE","LBL_CONNECT_TEST_FAIL","LBL_ERROR_CANNOT_FIND_TWITTER","LBL_CONFIGURE_TWITTER","LBL_PLANNED_ACTIVITIES_DASHLET","LBL_HISTORY_DASHLET","LBL_DASHLET_OPPORTUNITY_NAME","LBL_DASHLET_CASES_SUMMARY_NAME","LBL_DASHLET_CASESSUMMARY_SUMMARY","LBL_DASHLET_CASESSUMMARY_OPEN_CASES","LBL_DASHLET_CASESSUMMARY_CLOSE_CASES","LBL_OFFLINE_MODE","LBL_OFFLINE_PREFETCH_PROMPT","LBL_OFFLINE_PREFETCH_FIRST_PROMPT","LBL_OFFLINE_PREFETCH_SUCCESS","LBL_OFFLINE_PREFETCH_ERROR","LBL_OFFLINE_PREFETCH_ACTION","LBL_OFFLINE_PREFETCH_RELATED_ACTION","LBL_OFFLINE_PREFETCHING","LBL_OFFLINE_PREFETCHING_MODULE","LBL_OFFLINE_PREFETCHING_EST_TIME","LBL_OFFLINE_PREFETCHING_RELATIONSHIP","LBL_OFFLINE_PREFETCHING_MODULE_COMPLETE","LBL_OFFLINE_DB_CLEANING_IN_PROGRESS","LBL_OFFLINE_DB_CLEANING_COMPLETED","LBL_OFFLINE_ROLLBACK_PROMPT","LBL_OFFLINE_ROLLBACK_FAILED","LBL_OFFLINE_ROLLBACK_SUCCESS","LNK_OFFLINE_SETTINGS","LBL_OFFLINE_ENABLE_PROMPT","LBL_OFFLINE_DISABLE_PROMPT","LBL_OFFLINE_ENABLED","LBL_OFFLINE_DISABLED","LBL_OFFLINE_CLEAR_DB","LBL_OFFLINE_COMPACT_DB","LBL_OFFLINE_CLEAN_UP_PROMPT","LBL_OFFLINE_CLEAR_DB_PROMPT","LBL_OFFLINE_SERVER_FETCH","LBL_OFFLINE_MERGE_DATA_CONFIRM","LBL_OFFLINE_LAST_SYNC_TS","LBL_OFFLINE_SYNC_IN_PROGRESS","LBL_OFFLINE_TRANSACTION_SYNCED","LBL_OFFLINE_TOTAL_RECORDS","LBL_OFFLINE_LAST_DOWNLOAD","LBL_OFFLINE_DB_SIZE","LBL_OFFLINE_DATA_ENCRYPTION_ENABLED","LBL_OFFLINE_RECORDS_PER_MODULE","LBL_TX_LOG","LBL_TX_LOG_DETAIL","LBL_OFFLINE_MENU_SETTINGS","LBL_OFFLINE_DEBUG_SETTINGS","LBL_OFFLINE_STATS","LBL_ACTION_CREATE_EXPLANATION","LBL_ACTION_UPDATE_EXPLANATION","LBL_ACTION_DELETE_EXPLANATION","LBL_ACTION_LINK_EXPLANATION","LBL_ACTION_UNLINK_EXPLANATION","LBL_ACTION_FAVORITE_EXPLANATION","LBL_ACTION_FOLLOW_EXPLANATION","LBL_ACTION_UNFOLLOW_EXPLANATION","LBL_ACTION_UNFAVORITE_EXPLANATION","LBL_ACTION_CREATE_RELATED_EXPLANATION","LBL_EMAIL_ACTION_SET_PRIMARY","LBL_EMAIL_ACTION_SET_OPT_OUT","LBL_EMAIL_ACTION_SET_OPT_IN","LBL_EMAIL_ACTION_SET_VALID","LBL_EMAIL_ACTION_SET_INVALID","LBL_EMAIL_ADD","LBL_RECORD_DELETED","LBL_COLLECTION_PRIMARY","LBL_TEAM_SET_SELECTED","ERR_MOBILE_EMAIL","ERR_MOBILE_FILE_NOT_SUPPORTED","ERR_MOBILE_FILE_READ","ERR_MOBILE_FILE_NOT_FOUND","ERR_MOBILE_FILE_NOT_READABLE","ERR_MOBILE_FILE_ABORTED","ERR_MOBILE_FILE_SECURITY","ERR_MOBILE_FILE_DOWNLOAD_FAILED","ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED","ERR_MOBILE_BROWSER_NOT_AUTHORIZED","ERR_MOBILE_BROWSER_FORBIDDEN","ERR_MOBILE_BROWSER_PAGE_NOT_FOUND","ERR_MOBILE_BROWSER_INTERNAL_SERVER_ERROR","ERR_MOBILE_BROWSER_SERVICE_UNAVAILABLE","ERR_MOBILE_STORAGE_UNAVAILABLE","ERR_MOBILE_GENERIC_NATIVE_ERROR","ERR_MOBILE_FILE_PROCESSING","ERR_MOBILE_METADATA_CHANGED","ERR_MOBILE_DASHBOARDS_FETCHING","ERR_FILTERS_FETCHING","ERR_NO_DOCS","ERR_MOBILE_UPLOAD","ERR_MOBILE_VALIDATION","ERR_NO_RECORDS_SELECTED","ERR_RENDER_FAILED_TITLE","ERR_RENDER_FAILED_MSG","ERR_RENDER_FIELD_FAILED_MSG","ERR_CONTACT_TECH_SUPPORT","ERR_NO_VIEW_ACCESS_TITLE","ERR_LAYOUT_RENDER_TITLE","ERR_INTERNAL_ERR_MSG","ERROR_MAXVALUE","ERROR_MINVALUE","ERROR_MAX_FIELD_LENGTH","ERROR_MIN_FIELD_LENGTH","ERROR_DATETIME","ERROR_FIELD_REQUIRED","ERROR_EMAIL","ERROR_NUMBER","ERROR_IS_BEFORE","ERROR_IS_AFTER","ERROR_IS_GREATER_THAN","ERROR_IS_LESS_THAN","ERROR_DUPLICATE_EMAIL","ERR_MOBILE_CONFLICT","ERR_MOBILE_VIEW_NOT_SUPPORTED","ERR_ACCESS_SPECIFIC_MODULE","ERR_OFFLINE","ERR_OFFLINE_STORAGE_UNAVAILABLE","ERR_OFFLINE_STORAGE_CREATE","ERR_OFFLINE_START_FAILED_OUT_OF_SPACE","ERR_OFFLINE_OUT_OF_SPACE","ERR_OFFLINE_CLEAN_UP_CONFIRMATION","ERR_OFFLINE_PREFETCH_FAILED","ERR_OFFLINE_DB_CLEANING_ERROR","ERR_OFFLINE_SYNC_CONFLICT","ERR_OFFLINE_SYNC_ERROR","ERR_OFFLINE_SERVERTIME_UNAVAILABLE","ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR","ERR_OFFLINE_ENCRYPTION_FAILED","LBL_OFFLINE_ENCRYPTION_IN_PROGRESS","LBL_OFFLINE_ENCRYPTION_SUCCESS","WARN_MOBILE_INTERNET_UNAVAILABLE","WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS","ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS","LBL_CONVERT","LBL_CONVERT_LEAD","LBL_SELECT_ONE_FROM_DUPLICATED_RECORDS","LBL_SEARCH_EXISTING_RECORD","LBL_DUPLICATES_CHECK_FAILED","LBL_MOVE_RELATED_ACTIVITIES_PROMPT","LBL_LEAD_CONVERSION_SUCCESS","LBL_SHOW_MORE","LBL_SHOW_LESS","LBL_BACK","LBL_NEXT_BUTTON_LABEL","LBL_MOBILE_NO_DUPLICATES_FOUND","ERR_LEAD_CONVERSION_FAIL","LBL_RELATED_RECORD_DEFAULT_NAME","LBL_RELATED_MODULE","LBL_CREATE_RELATED","LBL_CREATE_MODULE","LBL_RELATED_MODULE","LBL_EDIT_RELATED","LBL_EDIT","LBL_ASSOC_EXISTING","LBL_ASSOC","LBL_ASSIGN","LBL_RELATED_MODULE_PLURAL","LBL_CHART_LEGEND_CLOSE","LBL_CHART_LEGEND_OPEN","LBL_CHART_NO_DATA","LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME","LBL_DASHLET_PIPLINE_NAME","LBL_CHART_UNDEFINED","LBL_NO_FIELD_ACCESS","LBL_RECORD_SHARE_BUTTON","TPL_RECORD_SHARE_SUBJECT","TPL_RECORD_SHARE_BODY","LBL_MOBILE_BY","LBL_MOBILE_FILTER_IS_NOT_AVAILABLE","LBL_BULK_LOAD_OFFLINE_RECORDS","LBL_BULK_LOAD_DOWNLOAD_SETTINGS","LBL_BULK_LOAD_PREFETCH_MESSAGE","LBL_BULK_LOAD_COMPLETED_MESSAGE","LBL_BULK_LOAD_ERROR_CONFIRM","LBL_BULK_LOAD_USE_CELLULAR","LBL_BULK_LOAD_NOT_RIGHT_NOW","LBL_BULK_LOAD_PAUSED_MESSAGE","LBL_BULK_LOAD_STATUS_DOWNLOADING","LBL_BULK_LOAD_STATUS_IDLE","LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION","LBL_BULK_LOAD_STATUS_PAUSED","LBL_BULK_LOAD_STATUS_STOPPING","LBL_BULK_LOAD_BTN_DOWNLOAD","LBL_BULK_LOAD_BTN_PAUSE","LBL_BULK_LOAD_BTN_RESUME","LBL_BULK_LOAD_CONNECTION_USE_MESSAGE","LBL_NPS_RATING_MSG","LBL_NPS_THANKS_MSG","LBL_NPS_APPSTORE_RATE_MSG","LBL_NPS_NO_THANKS","LBL_NPS_NOT_NOW","LBL_NPS_RATE_NOW","LBL_VO_BACK_BTN","LBL_VO_HOME_BTN","LBL_VO_DASHBOARD_BTN","LBL_VO_SEARCH_BTN","LBL_VO_RIGHT_MENU_BTN","LBL_VO_ADD_BTN","LBL_DISCOUNT_TOTAL","LBL_TAX","LBL_SHIPPING","LBL_GRAND_TOTAL","LBL_GROUP_TOTAL"]);t.mod_strings={}})(SUGAR.App)},function(e,t,n){const i=n(20);const a=n(9);const r=n(7);const{execRegex:s}=n(3);const o={base:1,bool:1,currency:1,date:1,datetimecombo:1,email:1,enum:1,float:1,file:1,image:1,int:1,multienum:1,name:1,parent:1,password:1,phone:1,radioenum:1,relate:1,address:1,invitees:1,send_invites:1,teamset:1,text:1,textarea:1,url:1,tag:1};const l={collection:{Emails:["to_collection","cc_collection","bcc_collection","from_collection","attachments_collection"],Quotes:["bundles"],ProductBundles:["product_bundle_items"]}};const c=["teamset","multienum","image","file"];(function e(){const t=app.metadata.set;const n=e=>{const{filters:t}=e;if(!t||!t.basic||!t.basic.meta){return[]}return _.pluck(t.basic.meta.filters,"name")};const a=new RegExp("^("+"NTC_|"+"MSG_|"+"EXCEPTION_|"+"LNK_|"+"TPL_|"+"LBL_SHORTCUT_|"+"LBL_SWEETSPOT_|"+"LBL_TOUR_"+")");const o=e=>a.test(e);const u=(e,t,n,i)=>{let a;const r=/.*?(?:translateLabel\((?:'|")(\w+)(?:'|")\s*,\s*(?:'|")(\w*)(?:'|")\)).*?/gm;const o=[/.*?(?:getDropdownValue\((?:'|")(\w+)(?:'|"))+.*?/gm,/.*?(?:getDropdownKeySet\((?:'|")(\w+)(?:'|"))+.*?/gm,/.*?(?:getDropdownValueSet\((?:'|")(\w+)(?:'|"))+.*?/gm];s(e,r,e=>{const i=e[2];if(_.isEmpty(i)){t[e[1]]=true}else{n[i]=n[i]||{};n[i][e[1]]=true}});const l=function e(t){i[t[1]]=true};for(a=0;a<3;++a){s(e,o[a],l)}};const d=e=>{_.each(e,(t,n)=>{if(app.config.dashboards.dashlets[n]||t.meta&&t.meta.tabs){if(t.templates){t.templates=null}}else{delete e[n]}})};const f=(e,t)=>{if(t&&e){_.each(t,(n,i)=>{if(e[i]){return}delete t[i]})}};const p=(e,t)=>{_.each(t,t=>{if(t instanceof RegExp){p(e,_.filter(_.keys(e),e=>t.test(e)))}else{delete e[t]}})};const h=e=>{const t=_.chain(e.subpanels.subpanel_setup).values().sortBy(e=>e.order).value();_.each(t,e=>{e.context={link:e.get_subpanel_data};e.label=e.title_key;p(e,["subpanel_name","title_key","get_subpanel_data","order"])});e.layouts=_.extend(e.layouts||{},{subpanels:{meta:{components:t}}});delete e.subpanels};const m=(e,t)=>{if(e._hash==="_base_"){return}let n=null;e.modules=_.omit(e.modules,"Forecasts");_.each(e.modules,(i,a)=>{let s=[];_.each(i.views,e=>{if(e.meta&&e.meta.panels){const t=_.chain(e.meta.panels[0].fields).filter(e=>e.type!=="link").map(e=>_.isString(e)?{name:e}:e).value();_.each(t,e=>{if(_.contains(c,e.type)){e.sortable=0}});n=new app.view.View({context:new r,meta:{panels:[{fields:t}]}});s=_.union(s,n.getFieldNames(a));n.dispose();if(_.contains(s,"email")){s.push("email1")}}});if(a==="Activities"){return}s=_.union(s,t?["name","my_favorite","following"]:["name"]);if(_.find(s,e=>i.fields[e]&&i.fields[e].type==="currency")){s=_.union(s,["currency_id"])}if(a==="Opportunities"){s=_.union(s,["closed_revenue_line_items"])}if(a==="Documents"){s=_.union(s,["doc_url","doc_type","filename"])}if(a==="ProductTemplates"){s=_.union(s,["tax_class","mft_part_num"])}if(a==="Reports"){s=_.union(s,["tag"])}if(!e.server_info.ftsEnabled||!i.ftsEnabled){s=_.chain(i.fields).filter(e=>Boolean(e.unified_search)&&e.type!=="link").map(e=>e.name).union(s).value()}i.mergedFields=_.union(i.mergedFields||[],s);const o=/\$[a-z_]+/gi;const l=[];if(i.fields){_.each(i.mergedFields,function e(t){if(i.fields[t]&&i.fields[t].formula){const n=i.fields[t].formula.match(o);_.each(n,t=>{t=t.substr(1);if(i.fields[t]&&i.fields[t].type!=="link"&&!_.contains(l,t)&&!_.contains(i.mergedFields,t)){l.push(t);e(t)}})}})}i.mergedFields=_.union(i.mergedFields,l)})};const g=e=>{let t=e.toUpperCase();if(t.substr(-2)==="_C"){t=t.substr(0,t.length-2)}return`LBL_${t}`};const v=e=>{const t=["Calls","Meetings"];const n=_.getNested(e,"layouts.convert-main");if(!n){return}const i=_.getNested(n,"meta.modules");const a=_.any(i,e=>_.contains(t,e.module)&&e.required);if(a){delete e.layouts["convert-main"];return}n.meta.modules=_.filter(i,e=>!_.contains(t,e.module));if(_.isEmpty(n.meta.modules)){delete e.layouts["convert-main"]}};app.metadata.set=function e(a,r,s){const c=_.getNested(a,"modules.Opportunities.config.opps_view_by");if(_.getNested(a,"modules.Emails")){a.modules.Emails.activityStreamEnabled=false}if(a.modules_info&&a.modules_info.RevenueLineItems&&c&&c!=="RevenueLineItems"){a.modules_info.RevenueLineItems.visible=false;a.modules_info.RevenueLineItems.display_tab=false}if(a._override_values){_.each(a._override_values,(e,t)=>{if(!a[e]){delete a._override_values[t]}})}if(a.config){const e={};_.extend(e,app.analytics.processConfig(a.config));_.extend(e,i.processConfig(a.config));e.offlineEnabled=Boolean(a.config.offlineEnabled);e.leadConvActivityOpt=a.config.leadConvActivityOpt;a.config=e}let b=false;if(a.server_info){const e=a.server_info;b=e?app.utils.versionCompare(e.version,"7.0RC",">="):false;a.server_info.isSevenUp=b}else{a.server_info={}}if(!s&&a._hash!=="_base_"){d(a.views);const e=app.metadata.getHash();if(e!==a._hash&&e!=="_base_"){if(a.modules){app.logger.debug("Metadata hash has changed. Resetting to base.");app.metadata.reset();app.metadata.set(JSON.parse(JSON.stringify(app.baseMetadata)),false,true)}else{a._hash=e}}app.nomad.initSupportedFeatures();app.nomad.updateSupportedFeatures(a);const t=_.isEmpty(app.config.modules.unsupportedModules)?[]:_.clone(app.config.modules.unsupportedModules);if(!app.supportedFeatures.emails&&!_.contains(t,"Emails")){t.push("Emails")}if(a.app_list_strings&&a.app_list_strings.available_language_dom){delete a.app_list_strings.available_language_dom[""]}if(!a.currencies){a.currencies={}}_.each(a.currencies,e=>{e.conversion_rate=e.conversion_rate||e.rate});_.each(a.modules_info,(e,n)=>{if(_.contains(t,n)){delete a.modules_info[n]}});if(a.modules_info){_.each(app.config.modules.hiddenModules,e=>{if(a.modules_info[e]){a.modules_info[e].visible=false}})}if(!a.mod_strings){a.mod_strings={}}a.mod_strings=_.extend({},app.mod_strings,a.mod_strings);_.each(a.modules,(e,n)=>{if(_.contains(t,n)){delete a.modules[n];if(!_.contains(app.config.modules.requiredStringsModules,n)){delete a.mod_strings[n]}}});const i=_.contains(["ENT","ULT"],a.server_info.flavor);const r="portal_flag";if(_.isEmpty(a.relationships)){a.relationships={}}const s=a.relationships.tasks_notes;if(s){s.relationship_role_column="parent_type";s.relationship_role_column_value="Tasks";s.relationship_type="one-to-many"}_.each(a.relationships,(e,t)=>{if(t==="_hash"){return}e=e||{};e.relationship_type=e.true_relationship_type||e.relationship_type;if(a.modules[e.lhs_module]&&a.modules[e.rhs_module]){if(e.relationship_role_column==="parent_type"||t==="contact_tasks"||t==="contact_notes"){e.via_parent_id=true}}else{delete a.relationships[t]}});if(a.relationships.accounts_opportunities){a.relationships.accounts_opportunities={lhs_key:"id",lhs_module:"Accounts",lhs_table:"accounts",name:"accounts_opportunities",relationship_type:"one-to-many",rhs_key:"account_id",rhs_module:"Opportunities",rhs_table:"opportunities"}}_.extend(a.relationships,app.baseMetadata.relationships);const m={};const y={};const x={};_.each(a.modules,(e,n)=>{if(e._patched){return}if(b){delete e.subpanels}const s=x[n]||{};const o={};x[n]=s;const c=["fieldTemplates","menu"];if(n!=="Forecasts"){c.push("config")}p(e,c);if(n!=="Activities"&&e.filters){e.filters={basic:e.filters.basic,default:e.filters.default}}if(e.layouts){if(e.layouts.subpanels&&e.layouts.subpanels.meta&&e.layouts.subpanels.meta.components){if(_.isArray(e.layouts.subpanels.meta.components)){_.each(e.layouts.subpanels.meta.components,e=>{s[e.label]=true})}else{delete e.layouts.subpanels}}if(app.supportedFeatures.leadConversion&&n==="Leads"){v(e)}}if(e.views){const t=["list","detail","edit","forecast-pipeline","dupecheck-list","quote-data-group-list","quote-data-grand-totals-footer","quote-data-group-footer"];p(e.views,_(e.views).keys().filter(e=>!_.contains(t,e)))}if(e.views&&e.views["forecast-pipeline"]){const t=e.views["forecast-pipeline"];_.extend(t.meta.timeperiod[0],{type:"enum",view:"edit"});delete t.meta.panels;delete t.templates}if(!i){delete e.fields[r]}if(n==="RevenueLineItems"||n==="Products"){if(e.fields.opportunity_name&&e.fields.opportunity_id&&e.fields.opportunity_id.required){e.fields.opportunity_name.required=true}}_.each(e.fields,(t,i)=>{let a=l[t.type];if(a){a=a[n];if(!_.contains(a,i)){return delete e.fields[i]}}if(i!=="_hash"&&_.isEmpty(t.name)){delete e.fields[i];return}p(t,["comment","dbType","isnull","table","reportable","audited","join_name","merge_filter","duplicate_merge","bean_name","cols","rows","function","importable","massupdate","studio","bean_filter_field","link_class","link_file","rhs_key_override","enable_range_search","duplicate_merge_dom_value","help","no_default","comments","custom_module","db_concat_fields","subquery","query_type","operator","db_field","custom_type"]);s[t.vname]=true;if(t.type==="id"){delete t.len}if(t.formula){u(t.formula,m,x,y)}if(t.options){y[t.options]=true}if(t.type==="relate"||t.type==="parent"){delete t.len}if(t["link-type"]&&!t.link_type){t.link_type=t["link-type"]}if(t.relationship_fields){o[t.name]=true;_.each(t.relationship_fields,t=>{o[t]=true;const n=e.fields[t];if(n){s[n.vname]=true;if(n.options){y[n.options]=true}}})}if(t.required&&e.fields.email&&t.name==="email1"){e.fields.email.required=true}if(t.type==="collection"){_.each(t.links,(e,n)=>{if(_.isString(e)){t.links[n]={name:e}}})}});let d=e.fields.team_name;if(d){delete d.len;d.type="teamset"}d=e.fields.name;if(d&&n==="Documents"){d.type="name"}if(n==="Meetings"){d=e.fields.date_start;if(d&&d.validation){delete d.validation.compareto}}else if(n==="Activities"){e.views=app.baseMetadata.modules.Activities.views;e.views["activitystream-dashlet"].meta.view.limit=app.config.fetchLimit.activities}else if(_.contains(["Quotes","ProductBundles","Products","ProductBundleNotes"],n)){const t=app.baseMetadata.modules[n]||{};_.defaults(e.views,t.views)}if(e.views){delete e.views.listview;delete e.views.search;if(e.views.edit&&e.views.edit.meta&&e.views.edit.meta.panels){_.each(e.views.edit.meta.panels[0].fields,e=>{if(_.isObject(e)&&(e.name==="reminder"||e.name==="email_reminder")){_.each(["fields","related_fields"],t=>{_.find(e[t],(n,i)=>{if((n.name||n)===`${e.name}_checked`){e[t].splice(i,1);return true}})})}})}}let f;if(a.mod_strings&&a.mod_strings[n]){if(a.mod_strings[n].LBL_EMAIL){f="LBL_EMAIL"}else if(a.mod_strings[n].LBL_EMAIL_ADDRESS){f="LBL_EMAIL_ADDRESS"}}const w=/^(?=.*address)((?!email).)*$/;const S=_.find(e.fields,e=>e.type==="file");if(n!=="Forecasts"){_.each(e.views,(t,a)=>{if(t.meta){delete t.meta.templateMeta;if(t.meta.panels){if(t.meta.panels.length){t.meta.panels.length=1}if(t.meta.panels[0]){const l=[];let{fields:c}=t.meta.panels[0];let u=-1;delete t.meta.panels[0].label;c=_.reject(c,t=>{const i=_.isString(t)?t:t.name;const r=_.isEmpty(e.fields[i])&&t.type!=="fieldset";if(r&&!window.jasmine){app.logger.error(`${n}.${a}.${i} field is missing vardef`)}return r});t.meta.panels[0].fields=c;_.each(c,(t,n)=>{const d=_.isObject(t);const h=d?t.name:t;const m=e.fields[h];let v;if(t.options){y[t.options]=true}o[h]=true;s[t.label||m.vname]=true;if(m){if(m.options){y[m.options]=true}if(m.type==="relate"){o[m.id_name]=true;o[m.link]=true}else if(m.type==="parent"){o.parent_id=true;o.parent_type=true}}if(t.type==="fieldset"){_.each(t.fields,t=>{o[t.name]=true;if(t.default){s[t.default]=true}else{const n=t.label||e.fields[t.name]&&e.fields[t.name].vname;if(n){s[n]=true}}if(t.options){y[t.options]=true}})}if(!i&&h===r){u=n}if(d){p(t,["default","enabled","link","width","wireless_edit_only","customCode"]);if(w.test(t.name)&&m){if(a==="edit"||a==="detail"){v=_.extend(t,{index:n});if(!v.group){v.group=m.group}if(v.group){l.push(v)}}else if(t.group||m.group){s[g(t.group||m.group)]=true}}if(t.name==="email1"){c[n]={name:"email",type:"email",label:t.label||f,required:m.required};s[t.label||f]=true;o.email=true}}else{if(w.test(h)&&m){if((a==="edit"||a==="detail")&&m.group){l.push({name:h,group:m.group,index:n})}else if(m.group){s[g(m.group)]=true}}if(t==="email1"){c[n]={name:"email",type:"email",label:f,required:m.required};s[f]=true;o.email=true}}});if(u!==-1){c.splice(u,1)}let d={};if(l.length>0){d=_.groupBy(l,"group");let e=0;_.each(d,(t,n)=>{const i=t[0].index-e;_.each(t,e=>{c.splice(i,1)});const a={name:n,fields:_.pluck(t,"name"),type:"address",label:g(n)};c.splice(i,0,a);e+=t.length-1;s[a.label]=true})}if(a==="edit"&&(n==="Meetings"||n==="Calls")){c.push({name:"send_invites",type:"bool",label:"LBL_SEND_INVITE"});c.push({name:"invitees",type:"invitees",label:"LBL_INVITEES"})}}const l=_.map(t.meta.panels[0].fields,e=>e.name||e);if(S&&!_.contains(l,S.name)&&a==="edit"&&n!=="Notes"){t.meta.panels[0].fields.push(S.name)}}}})}const L=[];const E=[];const k=function(e,n,i){L.push(n);n=e[n];if(n){let r=1e3;_.each(n.collection_list,(n,o)=>{if(!e[o]&&!n.generate_select&&!_.contains(E,n.module)&&!_.contains(t,n.module)){n.title_key=`LBL_${n.get_subpanel_data.toUpperCase()}_SUBPANEL_TITLE`;n.order=-r++;n.creatable=!_.contains(app.config.modules.nonCreatableModules,n.module);n.linkable=false;e[o]=n;const t=a.mod_strings[i];if(t&&!t[n.title_key]){t[n.title_key]=n.module}s[n.title_key]=true;E.push(n.module)}})}};if(_.isObject(e.subpanels)&&!_.isArray(e.subpanels)&&!_.isEmpty(e.subpanels.subpanel_setup)){_.each(e.subpanels.subpanel_setup,(t,i)=>{if(!t){return}if(i!=="activities"&&i!=="history"){if((n==="Meetings"||n==="Calls")&&_.contains(["Users","Leads","Contacts"],t.module)){t.linkable=true;t.creatable=t.module!=="Users";s[t.title_key]=true}else if(t.panel_definition){if(t.module!=="Users"){t.creatable=!_.contains(app.config.modules.nonCreatableModules,t.module)&&!_.isEmpty(_.find(t.top_buttons,e=>!e.widget_class||e.widget_class.indexOf("Create")>-1));t.linkable=!_.contains(app.config.modules.nonLinkableModules,t.module)&&!_.isEmpty(_.find(t.top_buttons,e=>!e.widget_class||e.widget_class.indexOf("Select")>-1));s[t.title_key]=true}else{L.push(i)}}else{t.creatable=(_.isUndefined(t.canCreate)?true:t.canCreate)&&!_.contains(app.config.modules.nonCreatableModules,t.module);t.linkable=(_.isUndefined(t.canLink)?true:t.canLink)&&!_.contains(app.config.modules.nonLinkableModules,t.module);s[t.title_key]=true}if(t.panel_definition){t.order=-t.order}if(t.get_subpanel_data&&t.get_subpanel_data.indexOf("function:")===0){t.get_subpanel_data=t.set_subpanel_data}const r=e.fields[t.get_subpanel_data];if(!r||!a.relationships[r.relationship]){L.push(i);delete s[t.title_key];if(a.modules[t.module]){app.logger.error(`Invalid ${n}.${i} subpanel`)}}}p(t,["add_subpanel_data","set_subpanel_data","top_buttons","panel_definition","sort_by","sort_order","subpanel_name"])});k(e.subpanels.subpanel_setup,"activities",n);k(e.subpanels.subpanel_setup,"history",n);_.each(L,t=>{delete e.subpanels.subpanel_setup[t]});h(e)}else{delete e.subpanels}});if(a.views){_.each(app.baseMetadata.views,(e,t)=>{if(!a.views[t]){a.views[t]=e}})}if(app.config.stringCleanupEnabled){if(_.isEmpty(a.modules)&&!_.isEmpty(app.metadata.getModules())){f(app.metadata.getStrings("app_strings"),a.app_strings);f(app.metadata.getStrings("app_list_strings"),a.app_list_strings);if(!_.isEmpty(a.mod_strings)){const e=app.metadata.getStrings("mod_strings");_.each(e,(e,t)=>{f(e,a.mod_strings[t])})}}else{if(a.mod_strings&&!a.mod_strings._patched){a.mod_strings=_.pick(a.mod_strings,_.union(_.keys(a.modules),[c],app.config.modules.requiredStringsModules));_.each(a.mod_strings,(e,t)=>{_.each(e,(e,i)=>{const r=a.modules[t];const s=x[t]||{};let l=[];if(r){l=n(r)}if(!s[i]&&!_.contains(_.union(app._mod_strings,l),i)){if(o(i)){delete a.mod_strings[t][i]}}_.each(s,(e,t)=>{if(!a.mod_strings[t]){m[t]=true}})})});a.mod_strings._patched=true}if(a.app_list_strings&&!a.app_list_strings._patched){_.each(a.app_list_strings,(e,t)=>{if(!y[t]&&!_.contains(app._app_list_strings,t)){delete a.app_list_strings[t]}});a.app_list_strings._patched=true}if(a.app_strings&&!a.app_strings._patched){_.each(app._app_strings,e=>{m[e]=true});_.each(a.app_strings,(e,t)=>{if(!m[t]&&o(t)){delete a.app_strings[t]}});a.app_strings._patched=true}}}if(a.app_list_strings.reminder_time_options){if(!_.isArray(a.app_list_strings.reminder_time_options)){const e=[];const t=_.keys(a.app_list_strings.reminder_time_options).sort((e,t)=>e-t);_.each(t,t=>{e.push([t,a.app_list_strings.reminder_time_options[t]])});a.app_list_strings.reminder_time_options=e}const e=_.find(a.app_list_strings.reminder_time_options,e=>e[0]==-1);if(!e){a.app_list_strings.reminder_time_options.unshift([-1,a.app_strings.LBL_NONE])}}if(a.mod_strings.Products&&a.mod_strings.Quotes){_.each(["LBL_ITEM_NAME","LBL_LINE_ITEM_TOTAL"],e=>{if(!a.mod_strings.Products[e]){a.mod_strings.Products[e]=a.mod_strings.Quotes[e]}})}}if(a.views&&a.views.forecastdetails){a.views.forecastdetails.meta.timeperiod[0].type="enum"}if(a.views&&a.views.bubblechart){_.extend(a.views.bubblechart.meta.filter_duration[0],{type:"enum",view:"edit"})}t.call(this,a,r,s);m(a,b)}})();(function e(){const t={image(){return app.supportedFeatures.fileUpload?undefined:["edit"]},password:["edit"],html:[],encrypt:[],currency_id:[]};const i={currency_symbol:[]};const r=app.metadata._patchMetadata;app.metadata._patchMetadata=function e(...a){const s=a[1];if(!s||s._patched===true){return s}r.apply(this,a);_.each(s.views,function e(a,r){if(a.meta){_.each(a.meta.panels,e=>{const a=[];_.each(e.fields,(e,l)=>{if(_.isString(e)){return}let c=t[e.type];if(_.isFunction(c)){c=c()}if(c&&(c.length===0||_.contains(c,r))){a.push(l)}const u=i[e.name];if(u&&(u.length===0||_.contains(u,r))){a.push(l)}if(r==="edit"&&!(o[e.type]||_.contains(n(10).getCustomFields(),e.type))){e.view="readonly"}if(r==="edit"&&e.name==="date_modified"){e.view="readonly"}if(r==="edit"&&e.name==="date_entered"){e.view="readonly"}const d=s.fields[e.name];if(r==="edit"&&e.type==="url"&&d){const t=d.gen;const n=isNaN(parseInt(t,10))?Boolean(t):Boolean(parseInt(t,10));if(n){e.view="readonly"}}if(d&&d.type==="collection"){e.isCollection=true}});_.each(a,(t,n)=>{e.fields.splice(t-n,1)})},this)}},this);return s};const s=app.metadata._patchFields;app.metadata._patchFields=function e(...t){const n=s.apply(this,t);if(a.getSetting().isIdm){const e=t[1];_.each(n,t=>{const n=e.fields[t.name];if(n&&n.idm_mode_disabled){t.readonly=true}})}return n}})()},function(e,t,n){const i=n(10);const a=n(1);const r=n(69);const s=e=>!app.nomad.canCreateModule(e)||_.contains(app.config.modules.readonlyModules,e);const o=e=>_.any(e,e=>e.required&&s(e.module));const l=e=>_.filter(e,e=>!s(e.module));const c={name:"convert",types:["context-menu","toolbar","right-menu-detail"],modules:["Leads"],label:app.lang.get("LBL_CONVERT"),iconKey:"actions.convert",stateHandlers:{isVisible(e,t){const n=app.metadata.getModule("Leads","layouts")["convert-main"];if(!app.supportedFeatures.leadConversion||!n){return false}const i=n.meta.modules;return t.get("status")!=="Converted"&&!o(i)&&!_.isEmpty(l(i))}},handler(e,t){const n=app.metadata.getModule("Leads","layouts")["convert-main"];const i=l(n.meta.modules);const s=app.controller.loadScreen({isDynamic:true,applyMaskToList:true,view:a.getViewClass("lead-conversion"),data:{leadModel:t,conversionModules:i}})[0];s.onConversionSuccess=_.wrap(s.onConversionSuccess,n=>{n.call(s);t.set("status","Converted");if(e instanceof r){e._renderActionButtons()}})},rank:10};i.registerRecordAction(c);e.exports=c},function(e,t,n){const i=(e,t,n)=>{const i=e.modContextData[t.module];if(!i.actions[n]){return[]}return t.getAccessibleFields(i[`${n}Fields`])};const a=(e,t)=>i(e,t,"phone");const r=(e,t)=>i(e,t,"email");const s=(e,t)=>i(e,t,"url");const o=(e,t)=>{const n=e.modContextData[t.module];if(!n.actions.map){return{}}return e.addressFieldsGroups||t.getAccessibleFieldsGroups(n.addressFieldsGroups)};const l=n(3);const c=n(6);const u=n(66);const d=n(90);const{supportsFavorite:f}=n(3);const p={name:"phone",types:["context-menu","toolbar"],label:"LBL_CALL_BUTTON",iconKey:"actions.call",stateHandlers:{isVisible:function e(t,n){const i=a(t,n);return Boolean(i.length)},isMultipleChoice:function e(t,n){const i=a(t,n);const r=n.getFieldsDataArray(i);return r.length>1},isEnabled:function e(t,n){const i=a(t,n);return n.isDataDefined(i)}},handler:function e(t,n){const i=a(t,n);const r=n.getFieldsDataArray(i);c.callPhone(r,{model:n})},autoClose:true,rank:4};const h=_.extend({},p,{name:"message",types:["context-menu","toolbar"],label:"LBL_SMS_BUTTON",iconKey:"actions.sms",handler:function e(t,n){const i=n.getAccessibleFields(t.modContextData[n.module].phoneFields);const a=n.getFieldsDataArray(i);c.sendSms(a)},rank:9});const m=(e,t)=>{const n=e._buildRecordRoute({model:t,hash:{link:e.context.get("link"),appendRoot:true,action:"edit"}});app.controller.navigate(n,{initiator:e.navigationName})};e.exports=function e(t){const{model:n}=t;let i=[{name:"favorite",types:["context-menu"],label:n.get("my_favorite")?"LBL_UNFAVORITE":"LBL_FAVORITE",stateHandlers:{isVisible:function e(t,n){return f(n)}},isFavorite:true,handler(e,t){e.onToggleFieldValue(t,"favorite","my_favorite")},rank:6},{name:"view",types:["context-menu"],label:"LBL_VIEW_BUTTON",iconKey:"actions.view",stateHandlers:{isVisible(e,t){return d.isViewActionVisible(t)}},handler:m,rank:1},{name:"edit",types:["context-menu"],label:"LBL_EDIT_BUTTON",iconKey:"actions.edit",stateHandlers:{isVisible(e,t){return d.isEditActionVisible(t)}},handler:m,rank:1},{name:"email",types:["context-menu","toolbar"],label:"LBL_EMAIL_BUTTON",iconKey:"actions.email",stateHandlers:{isVisible:function e(t,n){const i=r(t,n);return Boolean(i.length)},isEnabled:function e(t,n){const i=r(t,n);return n.hasActiveEmail(i)},isMultipleChoice:function e(t,n){const i=r(t,n);const a=n.getFieldsDataArray(i);const s=l.extractAndSortEmails(a);return s.length>1}},handler(e,t){const n=r(e,t);const i=t.getFieldsDataArray(n);const a=l.extractAndSortEmails(i);if(!_.isEmpty(a)){c.sendEmail(a)}},autoClose:true,rank:7},{name:"unlink",types:["context-menu"],label:"LBL_UNLINK_BUTTON",iconKey:"actions.unlink",stateHandlers:{isVisible:function e(t,n){return t.unlinkVisible&&n.hasUnlinkAccess(t.relateFields,t.relationship)}},handler(e,t){return e._deleteRecord(t,true)},rank:5},{name:"delete",types:["context-menu"],label:"LBL_DELETE_BUTTON",iconKey:"actions.delete",stateHandlers:{isVisible:function e(t,n){return!n.link&&n.hasDeleteAccess()}},handler(e,t){return e._deleteRecord(t)},rank:2},p,h,{name:"map",types:["context-menu","toolbar"],label:"LBL_MAP_BUTTON",iconKey:"actions.map",stateHandlers:{isVisible:function e(t,n){const i=o(t,n);return!_.isEmpty(i)},isEnabled:function e(t,n){const i=o(t,n);const a=n.getAddresses(i);return _.any(a)},isMultipleChoice:function e(t,n){const i=o(t,n);const a=n.getAddresses(i);return a.length>1}},handler:function e(t,n){const i=t.addressFieldsGroups||n.getAccessibleFieldsGroups(t.modContextData[n.module].addressFieldsGroups);const a=n.getAddresses(i);c.openAddress({addresses:a})},autoClose:true,rank:8},{name:"url",types:["context-menu","toolbar"],label:"LBL_URL_BUTTON",iconKey:"actions.url",stateHandlers:{isVisible:function e(t,n){const i=s(t,n);return Boolean(i.length)},isEnabled:function e(t,n){const i=s(t,n);const a=u.prototype.regexp;return n.isDataDefined(i,a)},isMultipleChoice:function e(t,n){const i=s(t,n);const a=n.getFieldsDataArray(i,u.prototype.regexp);return a.length>1}},handler:function e(t,n){const i=s(t,n);const a=n.getFieldsDataArray(i,u.prototype.regexp);c.openUrl(a,{encode:true})},autoClose:true,rank:11},{name:"file",types:["context-menu","toolbar"],label:n.module==="Emails"?app.lang.get("LBL_ATTACHMENTS","Emails"):"LBL_FILE_BUTTON",iconKey:"actions.file",stateHandlers:{isVisible:function e(t,n){const i=n.getAccessibleFields(t.modContextData[n.module].docFields);const a=!_.isEmpty(i)||!_.isEmpty(n.docData)||n._canHaveFiles()||n.canHaveAttachments()||n._canHavePDFs();const r=app.acl.hasAccessToModel("view",n);const s=n.module!=="Reports"||app.acl.hasAccessToModel("export",n);return a&&r&&s},isMultipleChoice:function e(t,n){return n.docData&&n.docData.length>1},isLoading:function e(t,n){return n.docsLoading},isEnabled:function e(t,n){const i=this.stateHandlers.isVisible(t,n);return i&&(n.docsLoading||!_.isEmpty(n.docData))}},handler:function e(t,n){const{docData:i}=n;if(_.isEmpty(i)){return window.alert(app.lang.get(n.docsLoading?"LBL_LOADING_FILES":"ERR_NO_DOCS"))}c.openDoc(n.docData)},autoClose:true,rank:10},{name:"close",types:["context-menu"],label:"LBL_CLOSE_BUTTON_TITLE",iconKey:"actions.close",stateHandlers:{isVisible:function e(t,n){return n.isCloseActionAvailable()}},handler:function e(t,n){const i="status";n.set(i,l.getClosedStatusValue(n.module||t.module));n.save(null,{fields:[i],error:function e(){n.set(i,n.previousAttributes()[i])},success:function e(){if(n.collection&&_.isArray(n.collection.filterDef)&&_.find(n.collection.filterDef,e=>e[i]&&e[i].$not_in&&_.contains(e[i].$not_in,n.get(i)))){t.collection.remove(n);if(t.collection.next_offset!==-1){--t.collection.next_offset}if(!t.collection.length){t.collection.fetch()}}}})},autoClose:true,rank:3}];if(t.type==="context-menu"&&n.module!=="Reports"){i=_.reject(i,e=>e.name==="file")}return i}},function(e,t,n){const{getClosedStatusValue:i}=n(3);e.exports=function e({view:t,model:n}){return[{name:"close",types:["edit-menu"],label:"LBL_CLOSE_AND_SAVE_BUTTON",stateHandlers:{isVisible(e,t){return t.isCloseActionAvailable()}},handler(e,t){e.model.set("status",i(e.module));e.save()},rank:10}]}},function(e,t,n){const i=n(13);const a=n(1);const r=n(6);const{getSubpanels:s,hasCreatableSubpanels:o,hasLinkableSubpanels:l}=n(50);const{buildRoute:c}=n(3);const u=n(90);const d=n(7);e.exports=(({model:e,viewType:t,viewSubType:f})=>{const{link:p}=e;const h=p?p.bean.module:e.module;const m=p&&app.data.getRelatedModule(p.bean.module,p.name);const g=app.metadata.getModuleNames({filter:"visible"});const v=n(51);const b=n(86);const y=app.cache.get("modulePdfTemplates")||{};const x=(e,t)=>{const n=s(h);let r=t==="create"?_.filter(n,e=>i.canCreateRelated(e.module,h,e.context.link)):_.filter(n,e=>e.linkable&&app.acl.hasAccess("list",e.module));r=_.map(r,e=>({value:e.module,label:app.lang.get(e.label,h),module:e.module,context:e.context}));const o=new d({collection:new app.BeanCollection(r),skipFetch:true});const l=app.controller.loadScreen({isDynamic:true,headerConfig:{title:app.lang.get("LBL_CHOOSE_LINK"),cancel:true,save:false,search:false},view:a.getViewClass("selection-list"),context:o,initOptions:{preset:"staticItems"}})[0];l.on("selection:change",function n(i){const{link:a}=i[0].get("context");const r=app.router.buildLinkRoute(h,e.id,a,null,t);app.controller.navigate(r,{initiator:this.navigationName})})};const w=(e,t)=>{const n=c(e,{hash:{link:p&&p.name,appendRoot:true,action:t}});app.controller.navigate(n)};const S=[{name:"create",types:["right-menu-list"],label:app.lang.get("LBL_CREATE_MODULE",h,app.lang.getModuleName(h)),iconKey:"menu.create",stateHandlers:{isVisible(e,t){if(t.link||e instanceof v){return false}return i.canCreateModule(h)}},handler:()=>w(e,"create")},{name:"edit",types:["right-menu-detail"],label:"LBL_EDIT_BUTTON",iconKey:"actions.edit",stateHandlers:{isVisible(){return u.isEditActionVisible(e)}},handler:()=>w(e,"edit"),rank:10},{name:"view",types:["right-menu-detail"],label:"LBL_VIEW_BUTTON",iconKey:"actions.view",stateHandlers:{isVisible(){return u.isViewActionVisible(e)}},handler:()=>w(e,"edit"),rank:10},{name:"duplicate",types:["right-menu-detail"],label:"LBL_DUPLICATE_BUTTON_LABEL",iconKey:"menu.duplicate",stateHandlers:{isVisible(){const e=m||h;return i.canCreateModule(e)&&!_.include(app.config.modules.nonDuplicatableModules,e)}},handler:()=>{const t=app.controller.getScreenContext();const{link:n}=t;const i=b.get({baseType:"edit",create:true,link:n,parentModule:t.parentModule,module:e.module});app.controller.loadScreen({isDynamic:true,gaTrack:"duplicate",view:a.getViewClass({baseType:"edit",module:e.module}),headerConfig:i,context:new d({duplicate:true,sourceModel:e,module:e.module}).prepare()})},rank:10},{name:"create-related",types:["right-menu-detail","right-menu-list"],label:p?app.lang.get("LBL_CREATE_RELATED",m,app.lang.getModuleName(m)):"LBL_CREATE_RELATED_RECORD",iconKey:"menu.create",stateHandlers:{isVisible(){const{link:n}=e;if(!n&&t==="list"||n&&t==="detail"){return false}return m?i.canCreateRelated(m,h,n.name):o(s(h))}},handler:()=>{if(t==="list"){w(e,"create")}else{x(e,"create")}},rank:20},{name:"create-parent",types:["right-menu-list"],label:app.lang.get("LBL_CREATE_MODULE",h,app.lang.getModuleName(h)),iconKey:"menu.create",stateHandlers:{isVisible(e,t){return e instanceof v&&i.canCreateModule(h)}},handler(e,t){const n=t.module;const i=e;const r=app.lang.getModuleName(n)||n;const s=app.controller.loadScreen({isDynamic:true,headerConfig:{save:true,cancel:true,mainMenu:false,title:app.lang.get("LBL_CREATE_MODULE",null,r)},view:a.getViewClass({module:n,baseType:"edit"}),context:new d({module:n,create:true}).prepare()})[0];s.handleSaveSuccess=_.wrap(s.handleSaveSuccess,e=>{s.skipNavigationAfterSave=true;e.call(s);const t=s.model.clone();app.controller.disposeDynamic();i.trigger("selection:change",[t])})}},{name:"link-related",types:["right-menu-detail","right-menu-list"],label:p?app.lang.get("LBL_ASSOC_EXISTING",m,app.lang.getModuleName(m)):"LBL_ASSOC_RELATED_RECORD",iconKey:"menu.linkRelated",stateHandlers:{isVisible(){const{link:n}=e;if(!n&&t==="list"||n&&t==="detail"){return false}if(n&&t==="list"){return i.canLinkRelated(h,n.name)}return l(s(h))}},handler:()=>{if(t==="list"){w(e,"associate")}else{x(e,"associate")}},rank:10},{name:"share",types:["right-menu-detail"],label:"LBL_RECORD_SHARE_BUTTON",iconKey:"menu.share",handler:()=>r.shareRecord(e),rank:30}];const L=y[h]||[];L.forEach(t=>{S.push({name:`pdf-download-${t.id}`,types:["right-menu-detail"],label:app.lang.get("LBL_MOBILE_PDF_DOWNLOAD",null,{pdfTemplateName:t.name}),iconKey:"menu.download-pdf",stateHandlers:{isVisible:()=>true},handler:()=>{let n=app.api.buildURL("PdfManager/generate");if($.os.ios&&app.isNative){const e=n.indexOf(app.config.siteUrl);if(e){n=n.substr(e)}}const i={module:h,record:e.id,pdf_template_id:t.id,sugarpdf:"pdfmanager"};n+=`?${Object.keys(i).map(e=>`${e}=${i[e]}`).join("&")}`;if(app.isNative){window.plugins.fileviewerplugin.xhrDownloadFile({url:n,oauthToken:app.api.getOAuthToken()},()=>{app.logger.trace(`Successfully downloaded file. Module: ${h}, record_id: ${e.id}.\n                            Download URL: ${n}`)},t=>{app.logger.debug(`Failed to download file. Module: ${h}, record_id: ${e.id}.\n                            Download URL: ${n}. errorCode: ${t.errorCode}, errorMessage: \n                            ${t.errorMessage}`);app.alert.show("ERR_MOBILE_FILE_DOWNLOAD_FAILED",{level:"warning",messages:app.lang.get("ERR_MOBILE_FILE_DOWNLOAD_FAILED"),autoClose:true,closeable:true})})}else{const e=new window.XMLHttpRequest;e.open("GET",n,true);e.responseType="arraybuffer";e.onload=function(){let t="";let n;const i=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;let a;let r;let s;let o;let l;let c;let u;let d;let f;let p;if(this.status===200){n=e.getResponseHeader("Content-Disposition");r=e.getResponseHeader("Content-Type");if(n&&n.indexOf("attachment")!==-1){a=i.exec(n);if(a!=null&&a[1]){t=a[1].replace(/['"]/g,"")}}if(typeof File==="function"){s=new File([this.response],t,{type:r})}else{s=new Blob([this.response],{type:r})}if(typeof window.navigator.msSaveBlob!=="undefined"){window.navigator.msSaveBlob(s,t)}else{const e=new FileReader;e.readAsDataURL(s);e.onloadend=function(){f=e.result;p=encodeURI(f);o=document.createElement("a");document.body.appendChild(o);o.href=p;o.download=t;o.click();document.body.removeChild(o)}}}};e.setRequestHeader("OAuth-Token",app.api.getOAuthToken());e.setRequestHeader("Content-type","application/json");e.send()}},rank:12345})});_.each(g,e=>{S.push({name:`create-${e}-record`,module:e,modules:["Search"],types:["right-menu-list"],label:app.lang.get("LBL_CREATE_MODULE",e,app.lang.getModuleName(e)),stateHandlers:{isVisible:()=>i.canCreateModule(e)},handler:()=>app.controller.navigate(`Search/${e}/create`),rank:40})});return S})},function(e,t,n){const i=n(1);const a=n(58);i.registerComponent({baseType:"list",module:"Activities",cmp:a});i.registerComponent({baseType:"activitystream-dashlet",cmp:a});i.registerComponent({baseType:"bubblechart",cmp:n(93)});i.registerComponent({baseType:"cases-summary",cmp:n(94)});i.registerComponent({baseType:"donutchart",cmp:n(59)});i.registerComponent({baseType:"forecastchart",cmp:n(30)});i.registerComponent({baseType:"forecast-pareto",cmp:n(95)});i.registerComponent({baseType:"forecast-pipeline",cmp:n(96)});i.registerComponent({baseType:"forecastdetails",cmp:n(97)});i.registerComponent({baseType:"list-view-dashlet",cmp:n(39)});i.registerComponent({baseType:"opportunity-metrics",cmp:n(98)});i.registerComponent({baseType:"saved-reports-chart",cmp:n(99)});i.registerComponent({baseType:"tabbed-list-view-dashlet",cmp:n(60)});i.registerComponent({baseType:"twitter-container-dashlet",cmp:n(100)});i.registerComponent({baseType:"webpage",cmp:n(101)})},function(e,t,n){const i=n(1);i.registerComponent({cmp:n(5),baseType:"text"});i.registerComponent({cmp:n(102),baseType:"address"});i.registerComponent({cmp:n(103),baseType:"bool"});i.registerComponent({cmp:n(40),baseType:"collection"});i.registerComponent({cmp:n(338),baseType:"email-recipients"});i.registerComponent({cmp:n(339),baseType:"email-sender"});i.registerComponent({cmp:n(40),baseType:"email-attachments"});i.registerComponent({cmp:n(41),baseType:"currency"});i.registerComponent({cmp:n(394),module:"Quotes"});i.registerComponent({cmp:n(393),module:"Products"});i.registerComponent({cmp:n(337),baseType:"discount"});i.registerComponent({cmp:n(61),baseType:"date"});i.registerComponent({cmp:n(104),baseType:"datetimecombo"});i.registerComponent({cmp:n(105),baseType:"email"});i.registerComponent({cmp:n(340),baseType:"htmleditable"});i.registerComponent({cmp:n(62),baseType:"enum"});i.registerComponent({cmp:n(336),baseType:"discount-select"});i.registerComponent({cmp:n(106),baseType:"favorite"});i.registerComponent({cmp:n(107),baseType:"fieldset"});i.registerComponent({cmp:n(63),baseType:"file"});i.registerComponent({cmp:n(108),baseType:"float"});i.registerComponent({cmp:n(109),baseType:"follow"});i.registerComponent({cmp:n(110),baseType:"image"});i.registerComponent({cmp:n(42),baseType:"int"});i.registerComponent({cmp:n(111),baseType:"invitees"});i.registerComponent({cmp:n(112),baseType:"label"});i.registerComponent({cmp:n(113),baseType:"multienum"});i.registerComponent({cmp:n(114),baseType:"parent"});i.registerComponent({cmp:n(115),baseType:"phone"});i.registerComponent({cmp:n(116),baseType:"radioenum"});i.registerComponent({cmp:n(64),baseType:"relate"});i.registerComponent({cmp:n(395),baseType:"relate",module:"Quotes"});i.registerComponent({cmp:n(117),baseType:"tag"});i.registerComponent({cmp:n(118),baseType:"teamset"});i.registerComponent({cmp:n(65),baseType:"textarea"});i.registerComponent({cmp:n(66),baseType:"url"})},function(e,t,n){const i=n(1);i.registerComponent({baseType:"context-menu",cmp:n(371)});i.registerComponent({cmp:n(71),baseType:"filters"});i.registerComponent({cmp:n(72),baseType:"header"});i.registerComponent({cmp:n(136),baseType:"headerEdit"});i.registerComponent({baseType:"switch-container",cmp:n(32)});i.registerComponent({baseType:"alert",cmp:n(128)});i.registerComponent({cmp:n(146),baseType:"main-menu"});i.registerComponent({cmp:n(398),baseType:"right-menu"});i.registerComponent({cmp:n(74),baseType:"login"});i.registerComponent({cmp:n(126),baseType:"about"});i.registerComponent({cmp:n(135),baseType:"errorEmulation"});i.registerComponent({cmp:n(379),baseType:"error"});i.registerComponent({cmp:n(392),baseType:"offlineDataGeneration"});i.registerComponent({cmp:n(147),baseType:"offlineSettings"});i.registerComponent({cmp:n(148),baseType:"offlineStats"});i.registerComponent({cmp:n(149),baseType:"offline"});i.registerComponent({cmp:n(152),baseType:"settings"});i.registerComponent({cmp:n(400),baseType:"touchid-setup"});i.registerComponent({cmp:n(386),baseType:"lead-conversion"});i.registerComponent({cmp:n(399),baseType:"taggable"});i.registerComponent({cmp:n(366),baseType:"bulk-load-setup"});i.registerComponent({cmp:n(68),baseType:"detail"});i.registerComponent({cmp:n(129),baseType:"dashboard"});i.registerComponent({cmp:n(69),baseType:"record-card"});i.registerComponent({cmp:n(131),baseType:"record-summary"});i.registerComponent({cmp:n(151),baseType:"related-records"});i.registerComponent({cmp:n(130),baseType:"detail",module:"TxLog"});i.registerComponent({cmp:n(15),baseType:"inner-list"});i.registerComponent({cmp:n(73),baseType:"configurable-list"});i.registerComponent({cmp:n(33),baseType:"list"});i.registerComponent({cmp:n(138),baseType:"list",module:"Search"});i.registerComponent({cmp:n(139),baseType:"list",module:"Comments"});i.registerComponent({cmp:n(144),baseType:"list",module:"Teams"});i.registerComponent({cmp:n(44),baseType:"selection-list"});i.registerComponent({cmp:n(143),module:"TxLog"});i.registerComponent({cmp:n(388),module:"Leads"});i.registerComponent({cmp:n(389),module:"Quotes"});i.registerComponent({cmp:n(387),module:"Emails"});i.registerComponent({cmp:n(372),baseType:"qli-bundles-summary"});i.registerComponent({cmp:n(27),baseType:"edit"});const a=n(70);i.registerComponent({cmp:a,baseType:"edit",module:"Tasks"});i.registerComponent({cmp:a,baseType:"edit",module:"Notes"});const r=n(132);i.registerComponent({cmp:r,baseType:"edit",module:"Meetings"});i.registerComponent({cmp:r,baseType:"edit",module:"Calls"});i.registerComponent({cmp:n(133),module:"RevenueLineItems"});i.registerComponent({cmp:n(134),module:"Users"});i.registerComponent({cmp:n(376),baseType:"edit",module:"Quotes"});i.registerComponent({cmp:n(374),baseType:"address-edit"});i.registerComponent({cmp:n(378),baseType:"textarea-edit"});i.registerComponent({cmp:n(375),baseType:"html-edit"})},function(e,t){(function e(t){const n=window.store;const i=function(e){this._async=Boolean(e.async);this._bucketName=`${e.name}:`};_.extend(i.prototype,{version:1,_syncApi:{get:function e(t){return n.get(this._bucketName+t)},getAll:function e(){const{_bucketName:t}=this;const i=t.length;const a={};_.each(n.getAll(),(e,n)=>{const r=n.indexOf(t);if(r===0){a[n.substr(i)]=e}});return a},has:function e(t){return n.has(this._bucketName+t)},set:function e(t,i){n.set(this._bucketName+t,i)},cut:function e(t){n.cut(this._bucketName+t)},cutAll:function e(){const t=this._bucketName;_.each(_.keys(this._syncApi.getAll.call(this)),e=>{n.cut(t+e)})}},_asyncApi:{get:function e(t,n){n.call(this,null,this._syncApi.get.call(this,t))},getAll:function e(t){t.call(this,null,this._syncApi.getAll.call(this))},has:function e(t,n){n.call(this,null,this._syncApi.has.call(this,t))},set:function e(t,n,i){this._syncApi.set.call(this,t,n);if(i){i.call(this,null)}},cut:function e(t,n){this._syncApi.cut.call(this,t);if(n){n.call(this,null)}},cutAll:function e(t){this._syncApi.cutAll.call(this);if(t){t.call(this,null)}}},init(e){_.extend(this,this._async?this._asyncApi:this._syncApi);if(e){e.call(this,null,this)}}});t.localStorageKeyValueStore={open(){},initBucket(e,t){const n=new i(e);n.init(t)}}})(SUGAR.App)},function(e,t){(function e(t){const n=function(){};const i={db:null,openDb(e){this.db=t.nomad.openDb(e);if(!this.db){throw new Error(`Can't open SQL database ${e.name}`)}},query(e,t,n){this.db.transaction(i=>{i.executeSql(e,t||[],(e,t)=>{if(n){n.call(this,null,t)}},(e,t)=>{if(n){n.call(this,t)}})})},createDataTable(e,t){this.query(`CREATE TABLE IF NOT EXISTS ${e} (key STRING PRIMARY KEY, value TEXT)`,[],(...e)=>{if(t){t.apply(this,e)}})},get(e,t,n){this.query(`SELECT value FROM ${e} WHERE key = ? LIMIT 1`,[t],(e,t)=>{if(e){if(n){n.call(this,e)}return}let i;if(t.rows.length){i=t.rows.item(0).value==="undefined"?undefined:JSON.parse(t.rows.item(0).value)}if(n){n.call(this,null,i)}})},getAll(e,t){this.query(`SELECT key, value FROM ${e}`,[],(e,n)=>{let i;const a={};let r;if(e){if(t){t.call(this,e)}return}for(r=n.rows.length,i=0;i<r;i++){const e=n.rows.item(i);a[e.key]=e.value==="undefined"?undefined:JSON.parse(e.value)}if(t){t.call(this,null,a)}})},has(e,t,n){this.query(`SELECT key FROM ${e} WHERE key = ? LIMIT 1`,[t],(e,t)=>{if(e){if(n){n.call(this,e)}return}if(n){n.call(this,null,Boolean(t.rows.length))}})},set(e,t,n,i){this.query(`REPLACE INTO ${e} (key, value) values (?, ?)`,[t,JSON.stringify(n)],(...e)=>{if(i){i.apply(this,e)}})},cut(e,t,n){this.query(`DELETE FROM ${e} WHERE key = ?`,[t],(...e)=>{if(n){n.apply(this,e)}})},cutAll(e,t){this.query(`DELETE FROM ${e}`,[],(...e)=>{if(t){t.apply(this,e)}})}};const a=function(e){this._async=Boolean(e.async);if(!this._async){this._cache={}}this._bucketName=e.name};_.extend(a.prototype,{version:1,_syncApi:{get:function e(n){return _.isObject(this._cache[n])?t.utils.deepCopy(this._cache[n]):this._cache[n]},getAll:function e(){return t.utils.deepCopy(this._cache)},has:function e(t){return _.has(this._cache,t)},set:function e(n,a){i.set(this._bucketName,n,a);this._cache[n]=_.isObject(a)?t.utils.deepCopy(a):a},cut:function e(t){i.cut(this._bucketName,t);delete this._cache[t]},cutAll:function e(){i.cutAll(this._bucketName);this._cache={}}},_asyncApi:{get:function e(t,n){i.get(this._bucketName,t,_.bind(n,this))},getAll:function e(t){i.getAll(this._bucketName,_.bind(t,this))},has:function e(t,n){i.has(this._bucketName,t,_.bind(n,this))},set:function e(t,a,r){i.set(this._bucketName,t,a,r?_.bind(r,this):n)},cut:function e(t,a){i.cut(this._bucketName,t,a?_.bind(a,this):n)},cutAll:function e(t){i.cutAll(this._bucketName,t?_.bind(t,this):n)}},init(e){i.createDataTable(this._bucketName,t=>{if(t){if(e){e.call(this,t)}return}if(this._async){_.extend(this,this._asyncApi);if(e){e.call(this,null,this)}}else{i.getAll(this._bucketName,(t,n)=>{if(t){if(e){e.call(this,t)}return}this._cache=n;_.extend(this,this._syncApi);if(e){e.call(this,null,this)}})}})}});t.sqlKeyValueStore={open(e){i.openDb(e)},initBucket(e,t){const n=new a(e);n.init(t)}}})(SUGAR.App)},function(e,t,n){const i=n(14);const a=n(91);(function e(t){const r=n(4);const s=n(6);const o={CallState:{IDLE:"IDLE",DIALING:"DIALING",CONNECTED:"CONNECTED"},_callModule:"Calls",getCallLog(){return i.getSetting({store:i.Stores.SETTINGS,name:"callLog"})},setCallLog(e){if(e&&e.recordId&&e.recordName){i.setSetting({store:i.Stores.SETTINGS,name:"callLog",value:e})}else{i.removeSetting({store:i.Stores.SETTINGS,name:"callLog"})}},clearCallLog(){i.removeSetting({store:i.Stores.SETTINGS,name:"callLog"})},callPhone(e,n){const i={phone:e,module:n.module,recordId:n.recordId,recordName:n.recordName};this.setCallLog(i);if(!t.isNative){this.bindCallEnd()}if(!$.os.phone){i.started=true;i.startedOn=(new Date).getTime()}t.logger.debug(`Initiating a phone call to ${e}`);s._callPhone(e)},callStateChanged(e){const n=this.getCallLog();if(e.length===0){if(n){n.endedOn=(new Date).getTime();t.logger.debug(`End call: ${n.id}:${n.state}`);this.setCallLog(n);this.onAppResume()}return}t.logger.debug(`Call state changed: ${e.length}`);const i=e[0];t.logger.debug(`First call: ${i.id}:${i.state}`);if(n){if(i.state===this.CallState.DIALING){n.id=i.id;n.state=i.state;n.direction="Outbound";n.startedOn=(new Date).getTime();n.started=true;this.setCallLog(n)}else if(i.state===this.CallState.IDLE){n.id=i.id;n.state=i.state;n.endedOn=(new Date).getTime();this.setCallLog(n);this.onAppResume()}else if(i.state===this.CallState.CONNECTED){n.state=i.state;this.setCallLog(n)}}},onAppPause(){},onAppResume(){if(!t.isSynced){return}const e=this.getCallLog();if(_.isEmpty(e)){return}if($.os.android&&e.state!==this.CallState.IDLE&&t.isNative){return}if(!e.started){this.clearCallLog();return}e.endedOn=e.endedOn||(new Date).getTime();const n=this;if(this._canLogCall(e)){r.showConfirm(t.lang.get("LBL_MOBILE_LOG_CALL_CONFIRM"),{callback(t){if(t===2){n.logCall(e)}}})}this.clearCallLog()},logCall(e){const n=e.endedOn-e.startedOn;const i=n/1e3;let r=1;let s=0;if(i>60){r=i/60;if(r>60){s=r/60;r%=60}}const o=a.getRelationshipLink(e.module,this._callModule);let l=e.direction==="Outbound"&&o?t.router.buildLinkRoute(e.module,e.recordId,o,null,"createCall"):"createCall";l+=`?direction=${e.direction}&start_date=${new Date(e.startedOn).toISOString()}&duration_hours=${s}&duration_minutes=${r}&status=Held&log_call=true`;t.controller.navigate(l)},_canLogCall(e){const n=["Employees","Calls"];const i=!_.contains(n,e.module);const a=t.metadata.getModule(this._callModule);const r=a&&t.acl.hasAccess("create",this._callModule);const s=e.module==="Users"&&e.recordId===t.user.get("id");return r&&a&&i&&!s},bindCallEnd(){let e;const n=[{state:this.CallState.DIALING}];this.callStateChanged(n);if($.os.android){e=_.bind(function n(){if(this._pageIsVisible()){t.logger.debug("bindCallEnd return handler called");document.removeEventListener("webkitvisibilitychange",e);this.onAppResume()}},this);document.addEventListener("webkitvisibilitychange",e,false)}else if($.os.ios){e=_.bind(function t(){window.removeEventListener("pageshow",e);this.onAppResume()},this);window.addEventListener("pageshow",e,false)}},_pageIsVisible(){return!document.webkitHidden}};t.events.on("nativeMessage",e=>{if(e.target==="telephony"){o.callStateChanged(e.calls)}});t.augment("telephony",o,false)})(SUGAR.App)},function(e,t,n){const i=n(1);const a=n(62);const r=i.extendComponent(a,{DdOptions:{PERCENT:"percent",AMOUNT:"amount"},bindDataChange(){this._super();if(this.model){this.model.on("change:currency_id",()=>this._onCurrencyChange())}},format(e){if(this._viaActionSheet){this.valueText=e?"%":this._getCurrentCurrency().iso4217}return e?this.DdOptions.PERCENT:this.DdOptions.AMOUNT},unformat(e){return e===this.DdOptions.PERCENT},getItems(){return[[this.DdOptions.AMOUNT,this._getCurrentCurrency().iso4217],[this.DdOptions.PERCENT,"%"]]},_getCurrentCurrency(){const e=this.model.fields.currency_id||{};const t=this.model.get("currency_id")||e.default;return app.metadata.getCurrency(t)||app.user.getCurrency()},_onCurrencyChange(){this.render()}});e.exports=r},function(e,t,n){const i=n(1);const a=n(41);const r=i.extendComponent(a,{PERCENT_SIGN:"%",initialize(e){this._super(e);this.model.addValidationTask(this._getValidationTaskName(),(...e)=>this._validateAsNumber(...e))},bindDataChange(){this._super();this.model.on("change:discount_select",()=>this.render()).on("change:currency_id",this._onCurrencyIdChange,this)},format(e){const t=this.model.get("discount_select");let n=String(t?app.utils.formatNumberLocale(e):this._super(e));if(t&&!this.isEdit&&n.indexOf(this.PERCENT_SIGN)===-1){n+=this.PERCENT_SIGN}return n},unformat(e){if(this.model.get("discount_select")){const t=String(e||"").replace(this.PERCENT_SIGN,"");const n=app.utils.unformatNumberStringLocale(t,true);return _.isFinite(n)?n:t}return this._super(e)},_validateAsNumber(e,t,n){const i=this.model.get(this.name);if(!_.isFinite(i)){t[this.name]={number:i}}n(null,e,t)},_getValidationTaskName(){return`isNumeric_validator_${this.cid}`},_onCurrencyIdChange(e){const{model:t}=this;const n=t.get("discount_select");const i=this.model.get(this.def.name);if(i&&!n){const n=app.currency.convertAmount(i,e.prevCurrencyId,e.newCurrencyId);t.set(this.def.name,n)}},_dispose(){this.model.removeValidationTask(this._getValidationTaskName());this._super()}});e.exports=r},function(e,t,n){const i=n(1);const a=n(40);const r=i.extendComponent(a,{fallbackValueKey:"email_address"});e.exports=r},function(e,t,n){const i=n(1);const a=n(40);const r=i.extendComponent(a,{fallbackValueKey:"email_address"});e.exports=r},function(e,t,n){const i=n(1);const a=n(7);const r=n(65);const s=i.extendComponent(r,{isDisabled(){return true},events(){const{events:e}=r.prototype;return _.extend({},e,{"click .field--textarea":"onClick","click .field-detail--textarea":"onClick"})},onClick(e){app.controller.loadScreen({isDynamic:true,view:i.getViewClass("html-edit"),context:new a({html:this.value}),headerConfig:{title:app.lang.get("LBL_EMAIL_BODY","Emails"),save:!this.isDisabled(),saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true}})}});e.exports=s},function(e,t){(function e(t){const n={createUpdateDelete:function e(n){const i=this;const a=n.params||{};const{method:r,module:s,data:o,callbacks:l,originalApi:c,options:u}=n;if(!a.deferSync&&t.offline.isOnline()){asyncLib.waterfall([function e(n){t.offline.storage.readTransactions({limit:1,success(e){n(null,e)},error:n})}],(e,n)=>{if(e&&l.error){t.logger.error(`createUpdateDeleteSync failed${e}`);l.error(e)}else if(n){i._offlineSync(r,s,o,a,l)}else{i._serverSync(r,s,o,a,l,c,u)}})}else{i._offlineSync(r,s,o,a,l)}},_isInitialStateRequired:function e(t,n,i,a){return t==="update"||t==="favorite"||t==="follow"||(t==="create"||t==="delete")&&i.link},_offlineSync:function e(n,i,a,r,s){const o=this;asyncLib.series([function e(s){if(o._isInitialStateRequired(n,i,a,r)){const e=r.relate?a.relatedModule:i;const n=r.relate?a.relatedId:a.id;t.offline.storage.readSingleRawRecord(e,{id:n},{success(e){r.initialState=e;s()},error:s})}else{s()}}],e=>{if(e){let n="Failed to read initial record during offline sync. Module: {0}, data: {1}";n=t.utils.formatString(n,[i,JSON.stringify(a||{})]);t.logger.error(n);if(s.error){s.error(e)}return}t.offline.storage.sync(n,a,i,_.extend({},{ts:t.utils.getTimestamp(),success(e){t.trigger("offline:data:sync:success",e);if(s.success){s.success(e)}t.logger.trace(`Successfully executed: ${n}`)},error(e){if(s.error){s.error(e)}},complete:s.complete},r))})},_serverSync:function e(n,i,a,r,s,o,l){const c=this;const u=function(e){let o;const l=t.acl.hasAccessToModel("access",t.data.createBean(i,e));if(n==="delete"||!l){o=[function e(n){t.offline.storage.sync("delete",a,i,_.extend(r,{hardDelete:true,success(){n()},error:n}))}];if(r.relate){o.push(n=>{t.offline.storage.saveRecords({serverData:e.record,module:i,callback:n})});o.push(n=>{t.offline.storage.saveRecords({serverData:e.related_record,module:a.relatedModule,callback:n})})}asyncLib.series(o,n=>{if(n){t.logger.error(n);s.error(n)}else{s.success(e)}})}else{const l=n!=="follow"?e:{id:a.id,following:a.following};if(_.isObject(l)){o=[function e(n){t.offline.storage.saveRecords({serverData:r.relate?l.record:l,module:i,callback:n,clientData:a})}];if(r.relate){o.push(e=>{t.offline.storage.saveRecords({serverData:l.related_record,module:i,relationshipData:a,callback:e})})}if(n==="create"&&!r.relate||n==="create"&&r.relate&&!a.relatedId){o.push(e=>{t.offline.storage.updateLastViewed(r.relate?l.related_record:l,{module:r.relate?a.relatedModule:i,callback:e})})}if(n!=="delete"){o.push(e=>{t.offline.storage.markToBeSynced({module:r.relate?a.relatedModule:i,callback:e,action:"update",record:r.relate?l.related_record:l})})}asyncLib.series(o,n=>{if(n){t.logger.error(n);s.error(n)}else{s.success(e);t.trigger("offline:data:updated",{isCollection:false,action:"update"})}})}else{s.success(e)}}};const d=function(e){if(e&&t.utils.isConnectivityError(e)){c._offlineSync(n,i,a,r,s)}else if(s.error){s.error(e)}};if(n==="favorite"||n==="follow"){t.offline.api.callOriginalApi(o,[i,a.id,n==="favorite"?a.my_favorite:a.following,{success:u,error:d,complete:s.complete}])}else{if(n==="create"&&!a.relatedId){const e=a.link?a.related:a;e.id=t.utils.generateUUID()}t.offline.api.callOriginalApi(o,[n,i,a,t.offline.utils.getCleanedParams(r),{success:u,error:d,complete:s.complete},l])}}};_.extend(t.offline.api,{createUpdateDelete:_.bind(n.createUpdateDelete,n),_createUpdateDeleteScope:n})})(SUGAR.App)},function(e,t){const n=SUGAR.App;_.extend(n.offline.api,{offlineFileHandler(e){const{method:t,module:i,data:a,params:r,originalApi:s,callbacks:o,options:l}=e;const c=l.method;delete l.method;if(n.offline.isOnline()){n.offline.api.callOriginalApi(s,[c,a,r,o,l])}else{n.offline.storage.sync(t,a,i,{method:c,files:r,field:l.field,ts:n.utils.getTimestamp(),isContentRequired:l.isContentRequired,success(e){if(t!=="read"){n.trigger("offline:data:sync:success",e)}o.success(e)},error:o.error,complete:o.complete})}}})},function(e,t){(function e(t){let n;t.offline.api={originalMethods:{},NO_CONNECTION_ERROR:{status:0,textStatus:"error",toString(){return"No internet connection"}},override(){_.extend(this.originalMethods,{records:t.api.records,relationships:t.api.relationships,favorite:t.api.favorite,follow:t.api.follow,search:t.api.search,file:t.api.file,collection:t.api.collection});_.extend(t.api,{records:this.records,relationships:this.relationships,favorite:this.favorite,follow:this.follow,search:this.search,file:this.file,collection:this.collection})},restore(){if(_.isEmpty(this.originalMethods)){return}_.extend(t.api,{records:this.originalMethods.records,relationships:this.originalMethods.relationships,favorite:this.originalMethods.favorite,follow:this.originalMethods.follow,search:this.originalMethods.search,file:this.originalMethods.file,collection:this.originalMethods.collection});this.originalMethods={}},records(e,i,a,r,s,o){if(t.offline.isModuleOfflineEnabled(i)||_.contains(t.config.offline.customOfflineModules||[],i)){return n._executeOfflineApi(e,i,a,r,s,n.originalMethods.records,o)}return n.originalMethods.records.call(t.api,e,i,a,t.offline.utils.getCleanedParams(r),s,o)},relationships(e,i,a,r,s,o){if(t.offline.isModuleOfflineEnabled(i)&&t.offline.utils.isLinkSupported(i,a.link)){r.relate=true;a.relatedModule=t.data.getRelatedModule(i,a.link);return n._executeOfflineApi(e,i,a,r,s,n.originalMethods.relationships,o)}return n.originalMethods.relationships.call(t.api,e,i,a,t.offline.utils.getCleanedParams(r),s,o)},collection(...e){const[i,a,r,s,o]=e;if(t.offline.isModuleOfflineEnabled(i)||_.contains(t.config.offline.customOfflineModules||[],i)){return n._executeOfflineApi("collection",i,a,r,s,n.originalMethods.collection,o)}return n.originalMethods.collection.call(t.api,e)},favorite(...e){if(!e[4]){e[4]={}}const[i,a,r,s,o]=e;if(t.offline.isModuleOfflineEnabled(i)){return n._executeOfflineApi("favorite",i,{id:a,my_favorite:r},o,s,n.originalMethods.favorite)}return n.originalMethods.favorite.apply(t.api,e)},follow(...e){if(!e[4]){e[4]={}}const[i,a,r,s,o]=e;if(t.offline.isModuleOfflineEnabled(i)){return n._executeOfflineApi("follow",i,{id:a,following:r},o,s,n.originalMethods.follow)}return n.originalMethods.follow.apply(t.api,e)},search(e,t,i){return n._executeOfflineApi("search",null,null,e,t,null,i)},file(...e){const[i,a,r,s,o={}]=e;const{module:l}=a;const c=_.contains(["create","delete"],i);const u=s.success;if(_.isUndefined(o.iframe)){o.iframe=false}if(t.offline.isOnline()&&c){s.success=function e(n,i,r){const o={id:a.id};const{field:c}=a;const d=n.record||n;o[a.field]=d&&d[c]||"";t.offline.storage.saveRecords({serverData:o,module:l,ignoreRecordDirtiness:true,callback:(e,a)=>{if(e){if(s.error){s.error(e)}}else{u.call(t.api,n,i,r)}}})}}if(!t.offline.isOnline()&&t.offline.isModuleOfflineEnabled(l)){o.method=i;return n._executeOfflineApi("file",l,a,r,s,n.originalMethods.file,o)}return n.originalMethods.file.apply(t.api,e)},callOriginalApi(e,i){let a;let r;const s={search:1,ping:1,follow:3,favorite:3,file:3,collection:3,records:4,relationships:4};if(_.isString(e)){if(e==="read"){a=t.api.call;r=i[3]}else{a=n.originalMethods[e]||t.api[e];r=i[s[e]]}}else{a=e;_.find(n.originalMethods,(t,n)=>{if(t===e){r=i[s[n]];return true}})}const o=_.last(i)||{};const l=r.error;const c=function(){t.logger.debug("Original API callback suppressed. Offline layer is not initialized")};const u=o.catchServerRequest||_.noop;if(!t.offlineEnabled){return l?l.call(this,t.offline.Error.OfflineDisabledError):c()}_.each(r,(e,n)=>{if(_.isFunction(e)){r[n]=function n(...i){u(null);if(!t.offlineEnabled){return l?l.call(this,t.offline.Error.OfflineDisabledError):c()}e.apply(this,i)}}});const d=a.apply(t.api,i);u(d)},_executeOfflineApi(e,t,n,i,a,r,s){s=s||{};let o;const l={method:e,module:t,data:n,params:i,callbacks:a,originalApi:r,options:s};s.catchServerRequest=function e(t){o=t};const c=()=>o;switch(e){case"search":this.readMixedCollection(l);break;case"read":{const e=n&&n.link?n.relatedId:n?n.id:null;const t=e?this.readSingle:this.readCollection;t.call(this,l);break}case"collection":{this.readCollectionFieldRecords(l);break}case"file":{this.offlineFileHandler(l);break}default:this.createUpdateDelete(l)}return c}};n=t.offline.api})(SUGAR.App)},function(e,t,n){n(120);(function e(t){const n=t.offline.api.ReadCollectionStatus;const i={readCollectionFieldRecords(e){const{module:i,data:a,params:r,callbacks:s,options:o}=e;const l=[];t.offline.utils.callOnce(s);if(!r.skipOfflineRead){l.push(e=>{this._offlineRead(e,i,a,t.utils.deepCopy(r),s,o)})}if(t.offline.isOnline()){if(!r.skipServerSync){l.push(e=>{this._serverRead(e,i,a,r,s,o)})}}else if(s.error){const e=_.extend({request:{params:o}},t.offline.api.NO_CONNECTION_ERROR);s.error(e)}t.events.trigger("offline:collection:read",{status:n.START,apiOptions:o});asyncLib.waterfall(l,(e,t)=>this._onReadCollectionComplete(e,t,o,s))},_offlineRead(e,n,i,a,r,s){t.offline.storage.sync("collection",i,n,_.extend({},a,{ts:t.utils.getTimestamp(),success:t=>{let s=t||[];if(!_.isArray(s)){s=[s]}const o=this._getNextOffset(n,i.field,s,a);const l={records:s,next_offset:o};if(r.success){r.success(l)}e()},error(t){if(r.error){r.error(t)}e(t)},complete:r.complete}))},_serverRead(e,n,i,a,r,s){t.offline.api.callOriginalApi("collection",[n,i,t.offline.utils.getCleanedParams(a),{success(o){if(r.success){r.success(o)}o=o||{};if(a.serverSyncSuccess&&o.records){a.serverSyncSuccess({records:o.records,next_offset:o.next_offset},a)}if(_.isEmpty(o.records)){e(null,{serverData:o})}else{e(null,{serverData:o});const r={id:i.id};r[i.field]=o;t.offline.storage.saveRecords({module:n,serverData:r,callback(r,l){const c=l.isDataUpdated&&!a.skipOfflineRead;e(r,{serverData:o,isDataUpdated:c});if(c){t.trigger("offline:data:updated",{isCollection:true,action:"update",mixedCollection:true,requestParams:a,cid:s.cid,module:n,serverNextOffset:o.next_offset,data:i})}}})}},error(t){if(r.error){r.error(t)}e(t)},complete:r.complete},s])},_onReadCollectionComplete(e,i,a,r){i=i||{};if(e){if(r.error){r.error(e)}if(e instanceof t.offline.Error&&e!==t.offline.Error.OfflineDisabledError){t.logger.error(`read_collection failed. ${e}`)}}else{t.trigger("offline:api:read:success")}if(r.complete){r.complete(i.serverData)}t.events.trigger("offline:collection:read",{status:n.FINISH,isDataUpdated:i.isDataUpdated,apiOptions:a})},_getNextOffset(e,n,i,a){const r=_.countBy(i,"_link");const s=a.offset||{};const o=a.serverNextOffset||{};const l=t.offline.utils.getCollectionFields(e)[n];const c={};_.each(l.links,e=>{const t=e.name;const n=s[t]||0;const l=r[t]||0;c[t]=a.max_num>i.length||o[t]===-1?-1:n+l});return c}};_.extend(t.offline.api,{readCollectionFieldRecords:_.bind(i.readCollectionFieldRecords,i),_readCollectionFieldRecordsScope:i})})(SUGAR.App)},function(e,t){(function e(t){const n={readMixedCollection:function e(n){const{method:i,data:a,params:r,callbacks:s,options:o}=n;const l=[];t.offline.utils.callOnce(s);if(!r.skipOfflineRead){l.push(_.bind(function e(t){this._offlineRead(t,i,a,r,s,o)},this))}if(t.offline.isOnline()){if(!r.skipServerSync){l.push(_.bind(function e(t){this._serverRead(t,i,a,r,s,o)},this))}}else if(s.error){const e=_.extend({},t.offline.api.NO_CONNECTION_ERROR,{request:{params:o}});s.error(e)}t.events.trigger("offline:collection:read",{status:t.offline.api.ReadCollectionStatus.START,isSearchRequest:true,apiOptions:o});asyncLib.waterfall(l,(e,t)=>this._onReadCollectionComplete(e,t,n))},_offlineRead:function e(n,i,a,r,s,o){let l=r.module_list?r.module_list.split(","):[];const c=l.length>1;const u=t.offline.utils.getOfflineModules();l=_.intersection(l,u);t.offline.storage.sync("search",null,null,_.extend({},r,{module_list:l.join(),ts:t.utils.getTimestamp(),success:function e(i){let a;let o;let l;const u={};i=i||[];if(!_.isArray(i)){i=[i]}if(!t.offline.utils.checkIsEmptyQuery(r.q)){o=t.offline.utils.compileSearchRegExp(r.q);l=t.offline.utils.compileHighlightRegExp(r.q);_.each(r.module_list.split(","),e=>{u[e]=t.metadata.getModule(e).fields});_.each(i,e=>{a=e._module||e.module;e._search={isOffline:true};_.each(t.offline.storage.offlineMeta[a].searchFields,t=>{const n=t.name;const i=e[n];if((_.isString(i)||_.isNumber(i))&&o.test(i)){e._search.highlighted=e._search.highlighted||{};e._search.highlighted[n]={module:a,text:i.toString().replace(l,"<strong>$1</strong>"),label:u[a][n].vname}}})})}if(c){i=_.sortBy(i,e=>e._client_date_modified).reverse()}if(c){const e=r.max_num||t.config.maxQueryResult;i=i.splice(r.offset||0,e)}const d=r.max_num>i.length?-1:(r.offset||0)+i.length;const f={records:i,next_offset:d};if(s.success){s.success(f)}n()},error(e){if(s.error){s.error(e)}n(e)},complete:s.complete}))},_serverRead(e,n,i,a,r,s){t.offline.api.callOriginalApi(n,[t.offline.utils.getCleanedParams(a),{success(n){if(r.success){r.success(n)}n=n||{};if(a.serverSyncSuccess&&n.records){a.serverSyncSuccess({records:n.records,next_offset:n.next_offset},a)}if(_.isEmpty(n.records)){e()}else{t.offline.storage.saveRecords({serverData:n.records,callback(n,i){const r=i.isDataUpdated&&!a.skipOfflineRead;e(n,{isDataUpdated:r});if(r){t.trigger("offline:data:updated",{isCollection:true,action:"update",mixedCollection:true,requestParams:a,cid:s.cid})}}})}},error(t){if(r.error){r.error(t)}e(t)},complete:r.complete},s])},_onReadCollectionComplete(e,n,i){n=n||{};if(e){if(e instanceof t.offline.Error&&e!==t.offline.Error.OfflineDisabledError){t.logger.error(`readSyncMixedCollection failed. ${e}`)}}else{t.logger.debug("Read mixed collection success")}if(i.callbacks.complete){i.callbacks.complete(n)}t.events.trigger("offline:collection:read",{status:t.offline.api.ReadCollectionStatus.FINISH,isSearchRequest:true,isDataUpdated:n.isDataUpdated,apiOptions:i.options})}};_.extend(t.offline.api,{readMixedCollection:_.bind(n.readMixedCollection,n),_readMixedCollectionScope:n})})(SUGAR.App)},function(e,t){e.exports={readCollection(e,t){app.events.trigger("offline:collection:read",{status:app.offline.api.ReadCollectionStatus.START,apiOptions:e.options});const n={};asyncLib.waterfall([t=>this._localRead(e,t),t=>this._serverRead(n,e,t),e=>this._saveRecords(n,e),e=>this._readLastViewed(n,e),t=>this._updateLastViewed(n,e,t)],i=>{if(i&&i.stopWaterfall){i=null}const a={isDataUpdated:n.dbSaveResult&&n.dbSaveResult.isDataUpdated,serverData:n.serverData};t(i,a,e.options,e.callbacks)})},_localRead(e,t){const{params:n}=e;const i=_.without(app.offline.utils.getOfflineModules(),"Teams");const a=n.module_list?_.intersection(n.module_list.split(","),i):i;const r=_.map(a,e=>({op:"readRecents",module:e,options:{max_num:app.config.fetchLimit.recents}}));const s=(n,i)=>{e.callbacks.complete(n||i);t(n)};app.offline.storage.exec(r,t=>{if(!t){t=[]}else if(_.isArray(t)){t=_.sortBy(t,e=>-new Date(e._last_viewed_date)).slice(0,app.config.fetchLimit.recents)}else{t=[t]}e.callbacks.success({records:t,next_offset:-1});s(null,t)},s)},_serverRead(e,t,n){let{params:i}=t;if(i.skipServerSync||!app.offline.isOnline()){n({stopWaterfall:true});return}i=app.offline.utils.getCleanedParams(i);i.module_list=_.intersection(i.module_list.split(","),app.offline.utils.getOfflineModules()).join(",");const a={error:n,success:t=>{e.serverData=t;const i=_.isEmpty(t.records)?{stopWaterfall:true}:null;n(i)}};app.offline.api.callOriginalApi("records",[t.method,t.module,null,i,a,t.options])},_saveRecords(e,t){app.offline.storage.saveRecords({serverData:e.serverData.records,callback:(n,i)=>{e.dbSaveResult=i;t(n)}})},_readLastViewed(e,t){const{serverData:n}=e;app.offline.storage.exec({op:"readLastViewed",options:{ids:_.pluck(n.records,"id")}},i=>{let{records:a}=n;if(i){if(!_.isArray(i)){i=[i]}a=_.filter(n.records,e=>{const t=_.findWhere(i,{bean_id:e.id});if(!t){return true}const n=new Date(t.date_last_viewed).getTime();const a=new Date(e._last_viewed_date).getTime();return a>n})}e.lastViewedRecords=a;t(null)},t)},_updateLastViewed(e,t,n){const i={isCollection:true,action:"update",module:"Recents",cid:t.options.cid};if(_.isEmpty(e.lastViewedRecords)){if(e.dbSaveResult.isDataUpdated){app.trigger("offline:data:updated",i)}n()}else{const t=_.map(e.lastViewedRecords,e=>({id:e.id,module:e._module,ts:app.utils.getTimestamp(e._last_viewed_date)}));app.offline.storage.exec({op:"updateLastViewed",data:t,options:{}},()=>{app.trigger("offline:data:updated",i);n()},n)}}}},function(e,t){(function e(t){const n={readSingle:function e(n){const i={"offline:api:read:success":{}};let a=false;const{method:r,module:s,data:o,params:l,callbacks:c,options:u}=n;const d=()=>{if(c.error){c.error({status:404})}};t.offline.utils.callOnce(c);const f=()=>{t.logger.debug("readSyncSingle success");_.each(i,(e,n)=>{t.trigger(n,e)})};const p=e=>{t.logger.error(`readSyncSingle failed. ${e}`)};const h=e=>{const n=l.relate?"relationships":"records";t.offline.api.callOriginalApi(n,[r,s,o,t.offline.utils.getCleanedParams(l),{success(n){t.offline.storage.saveRecords({serverData:n,module:s,relationshipData:l.relate?o:null,callback(r){if(r){p(r)}else{if(!a&&c.success){c.success(n)}i["offline:data:updated"]={isCollection:false,action:e?"update":"create",id:o.id,date_modified:t.utils.getTimestamp(n.date_modified)};f()}}})},error(e){if(c.error){c.error(e)}if(e===t.offline.Error.OfflineDisabledError){return}const n=l.relate?o.relatedModule:s;const a=l.relate?o.relatedId:o.id;switch(e.status){case 412:return;case 403:case 404:i["offline:data:updated"]={isCollection:false,action:"delete",status:e.status,module:n,data:o,id:o.id}}const r=l.relate?{module:s,data:o,relate:l.relate}:{module:n,id:a,relate:l.relate};t.offline.storage.resolveError({nonTransactionResolve:r,error:e,callback(e){if(e){p(e)}else{f()}}})}},u])};const m=()=>{t.offline.storage.sync("read",o,s,_.extend({},l,{ts:t.utils.getTimestamp(),success(e){let n=!l.skipServerSync&&t.offline.isOnline();if(e){if(c.success){c.success(e);a=true}n=n&&t.offline.utils.isDataSynchronized(e)}else if(!n){d()}if(n){h(e)}else{f()}},error(e){if(c.error){c.error(e)}p(e)},complete:c.complete}))};m()}};_.extend(t.offline.api,{readSingle:_.bind(n.readSingle,n),_readSingleScope:n})})(SUGAR.App)},function(e,t){(function e(t){_.extend(t.offline,{declareOfflineBeanCollection(){const e=t.data.beanCollection;t.OfflineBeanCollection=t.data.beanCollection.extend({initialize(...t){this.cid=_.uniqueId("c");e.prototype.initialize.apply(this,t)},fetch(t){this._handleFetchWithQuery(this._mergeCollection,t);return e.prototype.fetch.call(this,t)},_handleFetchWithQuery(e,t){t=t||{};t.params=t.params||{};if(t.params.q){t.params.serverSyncSuccess=_.bind(e,this)}},_mergeCollection(e,n){const i=e.records;const{next_offset:a}=e;const r=_.filter(i,function e(n){const i=this.get(n.id);return!(i&&!t.offline.utils.isDataSynchronized(i))},this);this.set(r,{remove:false});this.offset=a===-1?this.offset+(i||[]).length:a;this.next_offset=a}});return t.OfflineBeanCollection}})})(SUGAR.App)},function(e,t){(function e(t){_.extend(t.offline,{declareOfflineBean(){const e=t.data.beanModel.prototype;const n=e.save;const i=e._setCollectionFieldValues;t.OfflineBean=t.data.beanModel.extend({save(...e){const t=e[1];if(t&&t.fields&&_.contains(t.fields,"email")){let e;const n=_.find(this.attributes,function e(t,n){return this.fields[n]&&this.fields[n].type==="email"},this);if(n){e=_.find(n,e=>e.primary_address);if(e){t.fields.push("email1");this.attributes.email1=e.email_address}}}n.apply(this,e)},_setCollectionFieldValues(...e){const t=e[0];_.each(t,(e,n)=>{if(e===null){t[n]=undefined}});i.apply(this,e)},_filterOutCalculatedFields(n){return t.offline.isOnline()?e._filterOutCalculatedFields.call(this,n):n}});return t.OfflineBean}})})(SUGAR.App)},function(e,t){(function e(t){_.extend(t.offline,{declareOfflineMixedBeanCollection(){const e=t.data.mixedBeanCollection;t.OfflineMixedBeanCollection=t.data.mixedBeanCollection.extend({fetch(n){const i=t.OfflineBeanCollection.prototype;i._handleFetchWithQuery.call(this,i._mergeCollection,n);return e.prototype.fetch.call(this,n)}});return t.OfflineMixedBeanCollection}})})(SUGAR.App)},function(e,t){const n=function(e,t,n,i,a){this.code=e;this.message=t;this.label=n;this.err=i;if(a){this.sqlInfo=app.config.env==="dev"?a.transactionSql:_.map(a.transactionSql,e=>({module:e.module,sql:e.sql}))}};n.prototype=new Error;_.extend(n.prototype,{localizedMessage(){let e;try{e=app.lang.get(this.label||"ERR_OFFLINE")}catch(t){e="Offline Error";app.logger.fatal(`Failed to localize offline error. ${t}`)}return e},toString(){let e=`${this.localizedMessage()}: (${this.code}) ${this.message}`;const t=/\\'/g;if(this.err){let t;try{t=JSON.stringify(this.err)}catch(e){t=this.err.toString()}e+=`\nOriginal error: ${t}`}if(this.sqlInfo){e+=`. All SQL in transaction: ${JSON.stringify(this.sqlInfo).replace(t,'"')}`}return e}});app.offline.Error=n;_.extend(app.offline.Error,{OfflineDisabledError:new n("offline_disabled","Offline Mode is disabled","Offline is not initialized"),OutOfSpaceError:new n("out_of_space","Out of space","ERR_OFFLINE_OUT_OF_SPACE"),StorageUnavailableError:new n("storage_unavailable","Failed to open db","ERR_OFFLINE_STORAGE_UNAVAILABLE"),EncryptionFailedError:new n("encryption_failed","Failed to encrypt local storage.","ERR_OFFLINE_ENCRYPTION_FAILED"),UnknownError:new n("unknown","Unknown error")});e.exports=n},function(e,t){const n={combiners:["$or","$and"],filterKeys:{my_items:{$owner:""},favorites:{$favorite:"_this"}}};_.extend(app.offline,{_parsedFiltersCache:{},convertReadRecordsFilter(e,t){const i=[];let a=e.filter?e.filter:[];_.each(n.filterKeys,(t,n)=>{if(!_.isUndefined(e[n])){i.push(t)}});if(_.isEmpty(a)&&_.isEmpty(i)){return}const r=!_.isEmpty(i)||!_.find(n.combiners,e=>a[0][e]);if(r){a=[{$and:_.union(a,i)}]}const s=JSON.stringify({module:t,filter:a});if(this._parsedFiltersCache[s]){return this._parsedFiltersCache[s]}const o=this._convertFilterRecursive(a,[]);if(!o){this._parsedFiltersCache[s]={isSupported:false};return this._parsedFiltersCache[s]}const l=app.offline.storage.convertFilter(t,o)||{};this._parsedFiltersCache[s]={filter:o,filterFields:l.fields,filterSql:l.sql,isSupported:Boolean(l.sql)};return this._parsedFiltersCache[s]},_convertFilterRecursive(e,t){if(_.isArray(e)){_.each(e,e=>this._convertFilterRecursive(e,t))}else if(_.isObject(e)){_.each(e,(e,i)=>{if(_.contains(n.combiners,i)){const n=[];t.push({operator:i,filters:n});this._convertFilterRecursive(e,n)}else if(_.isObject(e)){_.each(e,(e,n)=>{t.push({field:i,condition:n,value:e})})}else{t.push({field:i,value:e,condition:"$equals"})}})}return t.length?t:null}})},function(e,t,n){const i=n(17);const a=n(55);(function e(t){const n=()=>{throw new Error("Not implemented. Please override this method with your implementation")};const r={Emails:["to_collection","cc_collection","bcc_collection","from_collection","attachments_collection"],Quotes:["bundles"],ProductBundles:["product_bundle_items"]};const s=["Quotes"];const o={createTransaction:"offline:tx:create",deleteTransaction:"offline:tx:delete"};t.offline.storage={fileFieldTypes:["image","file"],_regularSyncOperations:["create","update","favorite","delete","follow"],basicOfflineFields:[{type:"boolean",name:"my_favorite"},{type:"boolean",name:"following"},{type:"date",name:"_last_fetched"}],RelTypes:{ONE_TO_ONE:"one-to-one",ONE_TO_MANY:"one-to-many",MANY_TO_MANY:"many-to-many",ONE_TO_MANY_BY_ROLE_COLUMN:"one-to-many-byRoleColumn"},offlineMeta:{},_execQueue:null,_migrationSummary:{},getMigrationSummary(){return this._migrationSummary},resetMigrationSummary(){this._migrationSummary={}},exec(e,n=_.noop,i=_.noop){const a=e=>{i(e);t.logger.error(e);t.trigger("offline:failure",e)};if(!t.offlineEnabled){a(t.offline.Error.OfflineDisabledError);return}if(!_.isArray(e)){e=[e]}this._exec(e,i=>{n(i);_.each(e,e=>{const n=o[e.op];if(n){t.trigger(n,{txOptions:e.options})}})},e=>{e=t.offlineEnabled?e||t.offline.Error.UnknownError:t.offline.Error.OfflineDisabledError;a(e)})},_exec(e,t,i){n()},execAndSpecificReturn(e,n){const i=!_.isEmpty(n)&&n.regularSync;const a=n.dbSuccess;if(i&&_.contains(this._regularSyncOperations,n.method)){if(n.method==="delete"){e.push({op:"readSingle",data:n.data,module:n.module,options:_.extend(n,{readDeleted:true})});n.dbSuccess=function e(t){a.call(this,t?{id:t.id}:{id:n.data.id})}}else{e.unshift({op:"createTransaction",data:n.data,module:n.module,options:n});e.push({op:"readSingle",data:n.data,module:n.module,options:n})}if(n.relate){e.push({op:"readSingleRelated",data:n.data,module:n.module,options:n});n.dbSuccess=function e(t){a.call(this,{record:t[0],related_record:t[1]})}}const i=n.action===t.offline.SyncActions.LINK||n.action===t.offline.SyncActions.UNLINK;if(!i){e.push({op:"updateLastViewed",data:n.relate?{id:n.data.relatedId}:n.data,module:n.relate?n.data.relatedModule:n.module,options:n})}if(n.method!=="delete"){e.push({op:"markToBeSynced",data:{action:"update",record:{id:n.relate?n.data.relatedId:n.data.id}},module:n.relate?n.data.relatedModule:n.module})}}this.exec(e,n.dbSuccess,n.dbFailure)},_executeSynchronized(e){this._execQueue.push(e)},init(e){this.computeOfflineMeta(e);this._init(e);if(!this._execQueue){this.initExecQueue()}},initExecQueue(){const e=this;this._execQueue=asyncLib.queue((t,n)=>{t.call(e,n)},1)},_init(e){},computeOfflineMeta(e){_.each(e.modules,function e(t,n){this.offlineMeta[n]={}},this);this.prepareOfflineRelationships(e.relationships);this.offlineMeta.modules=e.modules;_.each(e.modules,function t(n,i){const a=this.offlineMeta[i];a.fields=this._getOfflineModuleFields(n,a);a.searchFields=this.getOfflineModuleSearchFields(i,e)},this)},_getOfflineModuleFields:function e(t,n){const i=_.pluck(t.fields,"name");const a=_.union(["date_modified"],n.oneToManyRelFields,i);const r=[].concat(this.basicOfflineFields);const s=_.where(t.fields,{link_type:"relationship_info"});_.each(s,e=>{_.each(e.relationship_fields,(e,t)=>{n.fieldsBlacklist=n.fieldsBlacklist||[];if(t!=="id"&&!_.contains(n.fieldsBlacklist,e)){n.fieldsBlacklist.push(e)}})});const o=["link","collection"];_.each(t.fields,e=>{if(_.isObject(e)&&!_.contains(o,e.type)&&e.name!=="id"&&!_.contains(n.fieldsBlacklist,e.name)&&!_.findWhere(r,{name:e.name})&&_.contains(a,e.name)){r.push(e)}},this);return r},getOfflineModuleSearchFields(e,n){n=n||t.metadata.get();const i=n.modules[e];const a=this.offlineMeta[e];const r=["assigned_user_id","modified_user_id","created_by"];const s=_.getNested(n,"server_info.fts.enabled");const o=_.contains(["Users","Employees"],e);const l=_.select(a.fields,e=>{let t;if(o){t=e.type==="name"}else if(s&&i.ftsEnabled){const n=e.full_text_search;if(n){t=_.isUndefined(n.searchable)?e.unified_search:n.searchable}}else{t=e.unified_search}return t&&!_.contains(r,e.name)});if(_.isEmpty(l)){const e=_.findWhere(a.fields,{name:"name"});if(e){l.push(e)}}return l},prepareOfflineRelationships(e){const n={};_.each(e,(e,i)=>{const a=t.offline.isModuleOfflineEnabled(e.lhs_module)&&t.offline.isModuleOfflineEnabled(e.rhs_module);if(!a||i==="_hash"||e.relationship_type==="user-based"){return false}const r=this.getRelationshipType(e);const s=r===this.RelTypes.ONE_TO_MANY||r===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN?"_wrapOneToManyRelationship":"_wrapManyToManyRelationship";n[i]=this[s](e,r);n[i].type=r},this);this.offlineMeta.relationships=_.extend({},n)},getRelationshipType(e){if(!_.isEmpty(e.join_table)){return this.RelTypes.MANY_TO_MANY}else if(_.isEmpty(e.join_table)&&_.isEmpty(e.relationship_role_column)){return this.RelTypes.ONE_TO_MANY}else if(_.isEmpty(e.join_table)&&!_.isEmpty(e.relationship_role_column)){return this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN}},getRelationshipByLink(e,n){const i=t.metadata.getModule(e).fields[n].relationship;return this.getAdjustedRelationship(e,i)},getAdjustedRelationship:function e(t,n){let i=this.offlineMeta.relationships[n];if(!i){return null}const a=i.type===this.RelTypes.MANY_TO_MANY&&t===i.parentModule;if(a){i=_.extend({},i,{parentModule:i.childModule,childModule:i.parentModule,parentIdColumn:i.childIdColumn,childIdColumn:i.parentIdColumn})}return i},getCUTransactionParams(e,n,i){let a;let r;let s;let o;let l=null;let c=null;const u=i.txId||t.utils.generateUUID();const d=t.utils.getTimestamp(null,{msecPrecision:true});if(i.relate){a=n.relatedId;r=n.relatedModule;s=n.id;o=e;l=n.link;if(i.action===t.offline.SyncActions.UNLINK){c={before:{module:n.relatedModule,id:n.relatedId},after:null}}else if(i.action===t.offline.SyncActions.LINK){const t=this.getRelationshipByLink(e,n.link);if(t.type===this.RelTypes.MANY_TO_MANY){c={before:null,after:{module:n.relatedModule,id:n.relatedId}}}else{const a=i.initialState[t.parentIdColumn];const r=t.type===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN;if(a){c={before:{module:r?i.initialState.parent_type:e,id:r?i.initialState.parent_id:i.initialState[t.parentIdColumn]},after:{module:n.relatedModule,id:n.relatedId}}}else{c={before:null,after:{module:n.relatedModule,id:n.relatedId}}}}}else{c=t.offline.utils.getBeforeAndAfter(n.related,i.initialState,n.relatedModule,i)}}else{a=n.id;r=e;s=null;o=null;if(i.action!==t.offline.SyncActions.DELETE){c=t.offline.utils.getBeforeAndAfter(n,i.initialState,e,i)}}if(c){c=JSON.stringify(c)}return[i.action,d,a,r,s,o,c,u,l]},_wrapOneToManyRelationship(e,n){const i=this._getParentModule(e);const a=this._isParentOnRight(i,e);const r=a?e.lhs_key:e.rhs_key;const s=a?e.lhs_module:e.rhs_module;const o=this.offlineMeta[s];const l="parent_type";o.oneToManyRelFields=o.oneToManyRelFields||[];if(!_.contains(o.oneToManyRelFields,r)){o.oneToManyRelFields.push(r)}if(n===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN&&!_.contains(o.oneToManyRelFields,l)){o.oneToManyRelFields.push(l)}return{name:e.name,parentModule:i,childModule:s,parentIdColumn:r,parentNameFieldDef:t.data.getRelatedNameField(s,r),roleColumns:e.relationship_role_columns}},_wrapManyToManyRelationship(e){const n=this._getParentModule(e);const i=this._isParentOnRight(n,e);const a=i?e.lhs_module:e.rhs_module;const r=i?e.lhs_table:e.rhs_table;const s=t.metadata.getModule(n,"fields");let o={};const l=_.findWhere(s,{link_type:"relationship_info",link:r});if(l){o=_.omit(l.relationship_fields,"id")}const c={name:e.name,parentModule:n,relationshipTable:e.join_table,childModule:a,childIdColumn:i?e.join_key_rhs:e.join_key_lhs,parentIdColumn:i?e.join_key_lhs:e.join_key_rhs,childKey:i?e.lhs_key:e.rhs_key,parentKey:i?e.rhs_key:e.lhs_key,additionalColumns:o,singleModule:e.lhs_module===e.rhs_module,originalType:e.relationship_type,roleColumns:e.relationship_role_columns};if(e.primary_flag_column){c.primaryFlagModule=e.primary_flag_side==="rhs"?e.lhs_module:e.rhs_module;c.link=e[`${e.primary_flag_side}_table`]}return c},_isParentOnRight(e,t){const n=this.getRelationshipType(t);if(n===this.RelTypes.MANY_TO_MANY){return e===t.rhs_module}return t.rhs_key==="id"},_getModuleRelationships(e){const n=t.metadata.getModule(e);const i=t.offline.utils.getOfflineModules();const a=[];_.each(n.fields,function t(n){if(n.type==="link"){const t=this.getAdjustedRelationship(e,n.relationship);if(t&&_.contains(i,t.parentModule)&&_.contains(i,t.childModule)){a.push(t)}}},this);return a},_shouldCustomRelUpdateChild(e,t){return e.originalType===this.RelTypes.ONE_TO_MANY&&!t.skipUpdateRelRecord||e.originalType===this.RelTypes.ONE_TO_ONE||Boolean(e.primaryFlagModule)},_getParentModule(e){return e.rhs_key==="id"?e.rhs_module:e.lhs_module},openDb(e,t,i){n()},migrate(e,t,i){n()},isEncryptionSupported(){return false},encrypt(e,t){n()},upgrade(e,n,i){i=i||{};const a=parseInt(this.getSqlStorageVersion(),10);let r=parseInt(t.cache.get("offline:version"),10);const s=[];const o=i.success||_.noop;const l=i.error||_.noop;if(!(a-r)){t.logger.debug("Version has not changed. No actual upgrade required");o(e,n);return}n=this._getUpgradedMeta(n);for(;a>r;r++){if(this._upgrade[r]){s.push(...this._upgrade[r](e,n))}}if(_.isEmpty(s)){t.logger.debug("Storage structure has not changed");o(e,n)}else{this._runUpgrade(s,()=>{o(e,n)},e=>{l(e)})}},_runUpgrade(e,t,i){n()},_getUpgradedMeta(e){const n=!e.modules||e.hash||e.userId;if(!n){return _.clone(e)}const i={modules:{},relationships:e.relationships,siteUrl:e.siteUrl,_hash:e.hash||e._hash,_userId:e.userId||e._userId};delete e.relationships;delete e.hash;delete e.userId;_.chain(e.modules||e).omit(t.config.offline.exclude).each((e,t)=>{i.modules[t]={_hash:e.hash,fields:{_hash:e.fieldsHash}}});return i},drop(e){n()},getDetails(){return{type:t.config.offline.storageAdapter}},isOutOfSpace(e){this._isOutOfSpace(e)},open(e){e=_.extend({env:"dev",name:"sidecar",size:5,version:"1.0"},e);const n=`${e.name}-${e.env}`;const i=e.size*1024*1024;const{version:a}=e;try{this._db=this.openDb(n,a,i)}catch(e){t.logger.fatal(`Failed to open database: ${n} ${a} (${i} bytes). ${e}`);return false}return true},isOpened(){return Boolean(this._db)},sync(e,n,i,a){this._executeSynchronized(function r(s){const o=this;t.logger.trace(`storageAdapter: ${e}-${i}${n&&n.id?`-${n.id}`:""}`);a=_.extend({regularSync:true,method:e,dbSuccess:function e(t){s();if(a.success){a.success(t)}if(a.complete){a.complete(t)}},dbFailure:function e(t){s();if(a.error){a.error(t)}if(a.complete){a.complete(t)}}},a||{});switch(e){case"read":{a.dbSuccess=function e(t){s();if(a.success){t=o._parseReadSuccessResponse(n,i,t,a)}if(a.complete){a.complete(t)}};const e=n&&n.link?n.relatedId:n?n.id:null;if(e){this._readSimpleOrRelated(i,n,a)}else if(a.relate){this._readManyRelatedRecords(i,n,a)}else if(i==="TxLog"){this._readTxLogRecords(i,n,a)}else{this._readManyRecords(i,a)}break}case"create":if(a.relate){this._createRelatedRecord(i,n,a)}else{this._createRecord(i,n,a)}break;case"update":if(a.relate){this._updateRelatedRecord(i,n,a)}else{this._updateRecord(i,n,a)}break;case"delete":if(a.relate){this._unlinkRecord(i,n,a)}else if(a.hardDelete){this._hardDelete(i,n,a)}else{this._softDeleteRecord(i,n,a)}break;case"favorite":this._favorite(i,n,a);break;case"follow":this._follow(i,n,a);break;case"search":a.max_num=a.max_num||t.config.maxQueryResult;if(a.module_list.split(",").length>1){a=_.omit(a,"offset");a.max_num=t.config.offline.maxMixedCollectionQueryResult}a.dbSuccess=function e(t){s();if(a.success){a.success(t)}if(a.complete){a.complete(t)}};this._search(a);break;case"collection":this._readCollectionFieldRecords({module:i,modelId:n.id,fields:[n.field],options:a}).then(e=>{a.dbSuccess(e[n.field])},e=>a.dbFailure);break;case"file":this.handleFileSync(e,n,i,a);break;default:break}})},deleteFileRecords({module:e,id:t,field:n}){return new i((i,a)=>{this.exec([{op:"deleteFilesForField",module:e,data:{id:t,field:n}}],i,a)})},handleFileSync(e,t,n,r){const s=r.field||t.field;switch(r.method){case"read":this.exec([{op:"readSingle",module:n,data:t},{op:r.fsName?"readFileByFsName":"readFileByField",module:n,data:t,options:r}],e=>{const t=_.isArray(e)?e:[e];const n=t[0];const s=t.slice(1);const o={record:n};if(s.length){_.each(s,e=>{o[e.field]=e.extraData;o[e.field].fsEntry=e.fsEntry})}if(r.isContentRequired){i.mapSeries(s,e=>e.fsEntry?a.getFile({fileName:e.fsEntry.name}).then(t=>{o[e.field].fsEntry.binary=t.binary},r.dbError):i.resolve()).then(()=>r.dbSuccess(o),r.dbError)}else{r.dbSuccess(o)}},r.dbError);break;case"create":a.saveFile({content:r.files.fileData.binary}).then(e=>{const i=_.clone(t);i.fileStorageEntry=e;i.originalName=r.files.fileData.name;this.exec([{op:"readSingle",data:t,module:n,options:r},{op:"deleteFilesForField",module:n,data:t,options:r},{op:"saveFile",module:n,data:i,options:r},{op:"getFileList",module:n,data:t,options:r},{op:"readFileTransactions",module:n,data:t,options:r},{op:"clearFileTransactions",module:n,data:t,options:r}],i=>{const o=_.isArray(i)?i:[i];const l=o[0];const c=[];const u=[];_.each(o.slice(1),e=>{const t=e._tx_uid?u:c;t.push(e)});if(l&&u.length){try{const e=JSON.parse(u[0]._tx_updated_fields);l[t.field]=e[t.field].before}catch(e){}}const d=_.pluck(c,"file_name");a.clear({keep:d}).then(i=>{const a={id:t.id};a[s]=r.files.fileData.name;r.fsEntry={};r.fsEntry[s]=e;const o=r.dbSuccess||_.noop;r.dbSuccess=(t=>{const n={record:t};n[s]=_.omit(r.files.fileData,"binary");n[s].fsEntry=e;o.call(r,n)});if(!r.initialState){r.initialState=l}this._updateRecord(n,a,r)},r.dbError)},r.dbError)},e=>r.dbError);break;case"delete":this.exec([{op:"readSingle",data:t,module:n,options:r},{op:"readFileByField",module:n,data:t,options:r},{op:"deleteFilesForField",module:n,data:t,options:r},{op:"clearFileTransactions",module:n,data:t,options:r}],e=>{const i=_.isArray(e)?e:[e];const o=i[0];const l=_.extend({},r,{method:"update",dbSuccess:()=>{const e={record:{id:t.id}};e[s]={};const n=i[1];if(n){a.deleteFile({fileName:n.fsEntry.name}).then(()=>r.dbSuccess(e),r.dbError)}else{r.dbSuccess(e)}},dbError:r.dbError,initialState:o});const c={id:t.id};c[s]="";this._updateRecord(n,c,l)},r.dbError);break;default:r.dbSuccess({});break}},_parseReadSuccessResponse(e,t,n,i){if(n){let t=false;if(i.relate){t=_.isEmpty(e.relatedId)}else{t=_.isUndefined(e)}if(t&&!_.isArray(n)){n=[n]}else if(!t&&_.isArray(n)){n=n[0]}}i.success(n);return n},_readTxLogRecords(e,t,n){n=_.extend({limit:n.max_num,count:true,errFirst:true},n||{});this.exec([{op:"readTransactions",bean:null,data:t,options:n}],n.dbSuccess,n.dbFailure)},saveRecords(e){const t=_.isArray(e.serverData)?e.serverData:[e.serverData];const n=this._getSaveRecordsTasks(t,e);const i=t=>{asyncLib.waterfall(n,(n,i={})=>{t();e.callback(n,n?undefined:i)})};if(e.backgroundMode){i(_.noop)}else{this._executeSynchronized(i)}},_getSaveRecordsTasks(e,n){const{relationshipData:a}=n;const r=a?a.relatedModule:n.module;const s=_.filter(e,e=>t.offline.isModuleOfflineEnabled(e._module||r));if(!s.length){return[]}const o=a?n.relDef||t.offline.storage.getRelationshipByLink(n.module,a.link):null;const l=o&&o.type===this.RelTypes.MANY_TO_MANY;return[e=>{const t=_.groupBy(s,e=>e._module||r);const i=[];_.each(t,(e,t)=>{const a=_.pluck(e,"id");i.push({op:"readModuleRecords",module:t||r,data:{id:a}});if(l){const e=_.extend({},n.relationshipData);e.relatedIds=a;i.push({op:"readManyRelated",module:n.module,data:e,options:{}})}});this.exec(i,t=>{if(t&&!_.isArray(t)){t=[t]}const n={records:t};if(l){n.related={};const e=_.groupBy(t,"id");_.each(e,(e,t)=>{n.related[t]=e.length===2})}e(null,n)},e)},(e,i)=>{const l=e&&e.records;const c=[];_.each(s,i=>{const u=l&&_.findWhere(l,{id:i.id});const d=u&&!t.offline.utils.isDataSynchronized(u);const f=d?n.ignoreRecordDirtiness:!t.offline.utils.checkDatesEqual(u,i)||t.offline.utils.isFavoriteFollowModified(u,i);if(f){const e=t.offline.utils.actionToString(u?t.offline.SyncActions.UPDATE:t.offline.SyncActions.CREATE);if(i.date_modified){i._client_date_modified=i.date_modified}i._last_fetched=t.utils.getTimestamp();c.push({op:e,module:i._module||r,data:i,options:{initialState:u,updateRelatedNames:s.length===1}})}let p=a&&(n.ignoreRecordDirtiness||!d);if(p){switch(u&&o.type){case this.RelTypes.ONE_TO_MANY:p=u[o.parentIdColumn]!==a.id;break;case this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN:p=!(u[o.parentIdColumn]===a.id&&u.parent_type===n.module);break;case this.RelTypes.MANY_TO_MANY:p=!(e&&e.related[i.id]);break}if(p){const e=_.extend({},a,{related:i,relatedId:i.id});c.push({op:"createLink",module:n.module,data:e,options:{ts:t.utils.getTimestamp(i.date_modified)}})}}});if(c.length){this.exec(c,()=>i(null,{isDataUpdated:true}),i)}else{i(null,{})}},(e,t)=>{const a=(e.isDataUpdated||r==="Quotes")&&(s.length===1||n.forceColFieldsSaving||!_.isEmpty(n.collectionFields));if(a){i.mapSeries(s,e=>this._saveCollectionRecords({module:e._module||r,serverData:e})).then(n=>t(null,e),e=>t(e))}else{t(null,e)}}]},resolveSuccess(e){this._executeSynchronized(function t(n){this._resolveTransaction({transaction:e.transaction,module:e.module,serverData:e.serverData,relationshipData:e.relationshipData,callback(...t){n();if(e.callback){e.callback.apply(this,t)}}})})},_resolveTransaction(e){const{callback:n,relationshipData:i}=e;let a=false;let r=false;const s=t.utils.getTimestamp();const o=this;asyncLib.waterfall([function t(n){o.exec([{op:"countAssociatedTransactions",options:{txData:e.transaction}}],e=>{a=e&&e.count>0;n()},n)},function t(n){if(!i){n();return}o.exec([{op:"countAssociatedTransactions",options:{txData:{_tx_uid:e.transaction._tx_uid,_tx_bean_id:e.transaction._tx_related_id}}}],e=>{r=e&&e.count>0;n()},n)},function t(n){o.exec([{op:"readSingle",data:{id:e.serverData.id},module:i?i.relatedModule:e.module,options:{readDeleted:true}}],e=>{n(null,e)},n)},function n(l,c){const u=e.transaction;let d=u._tx_action;const f=u._tx_bean_module;if(d===t.offline.SyncActions.CREATE){d=t.offline.SyncActions.UPDATE}const p=[{op:"deleteTransaction",data:null,module:null,options:{txId:u._tx_uid}}];const h=e=>{p.push({op:"updateValuesSingle",data:_.pick(e,"id","date_modified"),module:f})};if(i){if(d===t.offline.SyncActions.UPDATE||d===t.offline.SyncActions.LINK||d===t.offline.SyncActions.UNLINK){if(!_.isEmpty(i.related)){if(a){h(i.related)}else{i.related._last_fetched=s;p.push({op:"updateValuesSingle",module:i.relatedModule,data:i.related});p.push({op:"resetDateModified",data:{id:i.related.id},module:i.relatedModule})}}if(i.record&&!r){i.record._last_fetched=s;p.push({op:"updateValuesSingle",module:i.recordModule,data:i.record});p.push({op:"resetDateModified",data:{id:i.record.id},module:i.recordModule})}}if(d===t.offline.SyncActions.UNLINK&&!r&&!a){p.push({op:"deleteLink",module:i.recordModule,data:{id:i.id,link:i.link,related:i.related,relatedId:i.relatedId,relatedModule:i.relatedModule},options:{hardDelete:true}})}}else if(d===t.offline.SyncActions.DELETE){p.push({op:"hardDelete",module:f,data:e.serverData});p.push({op:"deleteLastViewed",data:e.serverData,module:f})}else if(a){h(e.serverData)}else{e.serverData._last_fetched=s;p.push({op:t.offline.utils.actionToString(d),data:e.serverData,module:f});p.push({op:"resetDateModified",data:{id:e.serverData.id},module:f})}o.exec(p,()=>{t.trigger("offline:tx:success",{tx:u});c()},e=>{c(e)})}],n)},resolveError(e){let n;let i;let a;if(e.nonTransactionResolve&&!(e.error.status===404||e.error.status===403)){e.callback();return}if(!t.utils.isConnectivityError(e.error)&&!e.nonTransactionResolve){t.trigger("offline:tx:error",{tx:e.txLog,errorCode:e.error.status})}let r;switch(e.error.status){case 0:if(e.callback){_.defer(e.callback,e.error)}break;case 409:{e.error.record=e.error.record||e.error.payload&&e.error.payload.record||{};const{txLog:n}=e;const i=t.offline.utils.getOfflineModules();let a=[];if(!_.contains(i,n._tx_bean_module)||_.isEmpty(t.utils.getChangedProps(e.updatedFields,e.error.record))){a.push({op:"deleteTransaction",options:{txId:n._tx_uid}})}else{r={op:"updateValuesSingle",data:null,module:n._tx_bean_module};a=[r,{op:"updateTransaction",data:{txLog:_.extend(_.clone(n),{_tx_error_count:n._tx_error_count+1,_tx_error:e.error.status})}}]}this._executeSynchronized(function i(s){const o=function(t){s();if(e.callback){e.callback(t)}};if(r){this.exec([{op:"countAssociatedTransactions",options:{txData:n}}],_.bind(function n(i){if(i&&i.count>0){r.data=_.pick(e.error.record,"id","date_modified")}else{r.data=t.utils.deepCopy(e.error.record);r.data._last_fetched=t.utils.getTimestamp()}this.exec(a,o,o)},this),o)}else{this.exec(a,o,o)}});break}case 404:if(e.nonTransactionResolve){if(e.nonTransactionResolve.relate){n=[{op:"deleteLink",module:e.nonTransactionResolve.module,data:e.nonTransactionResolve.data}]}else{n=[{op:"hardDelete",module:e.nonTransactionResolve.module,data:{id:e.nonTransactionResolve.id}}]}}else{i=e.txLog._tx_bean_module;a=e.txLog._tx_bean_id;n=[{op:"hardDelete",module:i,data:{id:a}}];n.push({op:"deleteTransaction",data:null,module:null,options:{txId:e.txLog._tx_uid}})}this._executeSynchronized(function t(i){this.exec(n,()=>{i();if(e.callback){e.callback()}},t=>{i();if(e.callback){e.callback(t)}})});break;case 422:if(e.txLog){n=[{op:"deleteTransaction",data:null,module:null,options:{txId:e.txLog._tx_uid}},{op:"updateValuesSingle",data:{id:e.txLog._tx_bean_id,date_modified:e.txLog._tx_ts,_client_date_modified:e.txLog._tx_ts},module:e.txLog._tx_bean_module}]}this._executeSynchronized(function t(i){this.exec(n,()=>{i();if(e.callback){e.callback()}},t=>{i();if(e.callback){e.callback(t)}})});break;case 403:{let t;if(e.nonTransactionResolve){i=e.relate?e.nonTransactionResolve.data.relatedModule:e.nonTransactionResolve.module;const n=e.relate?e.nonTransactionResolve.data.id:e.nonTransactionResolve.id;t={op:"hardDelete",module:i,data:{id:n},options:{skipRelationshipsClean:true}}}else{t={op:"updateTransaction",data:{txLog:_.extend(e.txLog,{_tx_error_count:++e.txLog._tx_error_count,_tx_error:e.error.status})}}}this._executeSynchronized(function n(i){this.exec([t],()=>{i();if(e.callback){e.callback(e.nonTransactionResolve?null:e.error)}},t=>{i();if(e.callback){e.callback(t)}})});break}case 500:default:this._executeSynchronized(function t(n){this.exec([{op:"updateTransaction",data:{txLog:_.extend(e.txLog,{_tx_error_count:++e.txLog._tx_error_count,_tx_error:e.error.status})}}],()=>{n();if(e.callback){e.callback(e.error)}},t=>{n();if(e.callback){e.callback(t)}})});break}},rollbackTransaction(e,n,i){n=n||{};this._executeSynchronized(a=>{this.exec([{op:"countAssociatedTransactions",options:{txData:e}}],r=>{n.resetDirty=!r||r.count===0;const s=[{op:"deleteTransaction",options:{txId:e._tx_uid}}];let o;if(e._tx_action===t.offline.SyncActions.UPDATE){o=this._getRollbackUpdateTasks}else if(e._tx_action===t.offline.SyncActions.CREATE){o=this._getRollbackCreateTasks}else if(e._tx_action===t.offline.SyncActions.DELETE){o=this._getRollbackDeleteTasks}else if(e._tx_action===t.offline.SyncActions.FAVORITE){o=this._getRollbackFavoriteTasks}else if(e._tx_action===t.offline.SyncActions.FOLLOW){o=this._getRollbackFollowTasks}else if(e._tx_action===t.offline.SyncActions.UNLINK){o=this._getRollbackUnlinkTasks}else if(e._tx_action===t.offline.SyncActions.LINK){o=this._getRollbackLinkTasks}s.push(...o.call(this,e,n));this._getRollbackFileRelatedTasks(e,n).then(n=>{if(!_.isEmpty(n)){s.push(...n)}this.exec(s,()=>{a();t.trigger("offline:tx:rollback",{tx:e});i()},e=>{a();i(e)})},e=>{a();i(e)})},e=>{a();i(e)})})},isTxRollbackAvailable(e){const n=this._getTxUpdatedFields(e);const i=e._tx_bean_module;const a=this.extractFileTypeField(n);const r=this.isFileTypeField(a,i);if(r){const e=t.metadata.getModule(i,"fields")[a];if(e.required&&_.isEmpty(n[a].before)){return false}}return true},_getRollbackFileRelatedTasks(e,n){if(e._tx_action!==t.offline.SyncActions.UPDATE){return i.resolve()}const r=this._getTxUpdatedFields(e);const s=e._tx_bean_module;const o=this.extractFileTypeField(r);const l=this.isFileTypeField(o,s);if(!l){return i.resolve()}const c=l?[{op:"deleteFilesForField",module:s,data:{id:e._tx_bean_id,field:o}}]:null;const u=r[`__fsEntry${o}`];if(!u){return i.resolve(c)}return a.deleteFile({fileName:u.after}).then(()=>c)},_getRollbackUpdateTasks(e,t){const n=this._getTxUpdatedFields(e);const i=e._tx_bean_module;const a={id:e._tx_bean_id};_.each(n,(e,t)=>{a[t]=e.before},this);const r=[{op:"updateValuesSingle",data:a,module:i,options:t}];if(t.resetDirty){r.push({op:"resetDateModified",module:i,data:a})}return r},_getRollbackCreateTasks(e,t){return[{op:"hardDelete",data:{id:e._tx_bean_id},module:e._tx_bean_module,options:t}]},_getRollbackDeleteTasks(e){return[{op:"resetDeletedSingle",data:{id:e._tx_bean_id},module:e._tx_bean_module}]},_getRollbackFavoriteTasks(e,t){const n=this._getTxUpdatedFields(e);const i=e._tx_bean_module;const a={id:e._tx_bean_id,my_favorite:n.my_favorite.before};if(n.following){a.following=n.following.before}const r=[{op:"updateValuesSingle",data:a,module:i,options:t}];if(t.resetDirty){r.push({op:"resetDateModified",module:i,data:{id:e._tx_bean_id}})}return r},_getRollbackFollowTasks(e,t){const n=this._getTxUpdatedFields(e);const i=e._tx_bean_module;const a=[{op:"updateValuesSingle",data:{id:e._tx_bean_id,following:Boolean(n.following.before)},module:i,options:t}];if(t.resetDirty){a.push({op:"resetDateModified",module:i,data:{id:e._tx_bean_id}})}return a},_getRollbackUnlinkTasks(e,t){const n=[{op:"createLink",module:e._tx_related_module,data:{id:e._tx_related_id,link:e._tx_link,related:{id:e._tx_bean_id},relatedId:e._tx_bean_id,relatedModule:e._tx_bean_module}}];if(t.resetDirty){n.push({op:"resetDateModified",module:e._tx_bean_module,data:{id:e._tx_bean_id}})}return n},_getRollbackLinkTasks(e,t){const n=this._getTxUpdatedFields(e);let i;if(n.before){i=[{op:"createLink",module:n.before.module,data:{id:n.before.id,link:e._tx_link,related:{id:e._tx_bean_id},relatedId:e._tx_bean_id,relatedModule:e._tx_bean_module}}]}else{i=[{op:"deleteLink",module:e._tx_related_module,data:{id:e._tx_related_id,link:e._tx_link,related:{id:e._tx_bean_id},relatedId:e._tx_bean_id,relatedModule:e._tx_bean_module}}]}if(t.resetDirty){i.push({op:"resetDateModified",module:e._tx_bean_module,data:{id:e._tx_bean_id}})}return i},_getTxUpdatedFields(e){return _.isString(e._tx_updated_fields)?JSON.parse(e._tx_updated_fields):e._tx_updated_fields},readSingleRawRecord(e,t,n){this._executeSynchronized(function i(a){this.exec([{op:"readSingle",data:t,module:e,options:_.extend(n,{readDeleted:true})}],function e(...t){a();if(n.success){n.success.apply(this,t)}},function e(...t){a();if(n.error){n.error.apply(this,t)}})})},readRecordsByIds(e,t,n){this._executeSynchronized(function i(a){this.exec([{op:"readModuleRecords",data:{id:t},module:e}],function e(...t){a();if(n.success){n.success.apply(this,t)}},function e(...t){a();if(n.error){n.error.apply(this,t)}})})},readTransactions(e,t){this._executeSynchronized(function n(i){this.exec([{op:"readTransactions",bean:null,data:t,options:e}],function t(...n){i();if(e.success){e.success.apply(this,n)}},function t(...n){i();if(e.error){e.error.apply(this,n)}})})},getStats(e={}){e=_.defaults(e,{modules:t.offline.utils.getOfflineModules(),success(e){t.logger.debug(e)},error(e){t.logger.error(`getStats failed. ${e}`)}});const n={count:{}};const i=this;this._executeSynchronized(t=>{asyncLib.series([function t(a){i.getRecordsCount(e,(e,t)=>{n.count=t;a(e,t)})},function t(a){i.getStorageSize(e,(e,t)=>{if(!e){_.extend(n,t)}a(e,t)})}],i=>{t();if(i){e.error(i)}else{e.success(n)}})})},getRecordsCount(e,t){this.exec([{op:"getStats",data:null,module:null,options:e}],e=>{t(null,e)},t)},_NO_STORAGE_INFO:{dbSize:-1,totalDiskSpace:-1,freeDiskSpace:-1},getStorageSize(e,t){t(null,_.clone(this._NO_STORAGE_INFO))},compact({flushTransactions:e=false,modules:n,expirationDate:a,callback:r=_.noop}={}){let s=i.resolve();this._sortCleanUpModules(n);if(e){s=s.then(()=>new i((e,t)=>{this.exec([{op:"clearTransactionLog"}],e,t)}))}this._executeSynchronized(e=>{s.then(()=>i.mapSeries(n,e=>this._cleanUpModule({module:e,expirationDate:a}))).then(()=>{e();r()}).catch(n=>{t.logger.error(`Failed to clean up database. ${n}`);e();r(n)})})},_sortCleanUpModules(e=[]){const t=["EmailParticipants","Quotes","ProductBundles","Products","ProductBundleNotes"];const n=_.pluck(e,"moduleName");_.each(t,(i,a)=>{const r=_.contains(n,i)?e.splice(e.indexOf(i),1)[0]:null;t.splice(a,1,r)});e.push(..._.compact(t));return e},_cleanUpModule({module:e,expirationDate:t}={}){return this._getRecordsToCleanUp({module:e,expirationDate:t}).then(t=>new i((n,i)=>{this._hardDelete(e.moduleName,t,{skipOneToManyChildren:true,dbSuccess:n,dbFailure:i})}))},_getRecordsToCleanUp({module:e,expirationDate:n}={}){const a=this._getModuleLimit(e.moduleName);const r=Math.ceil(e.recordsCount-a+(100-t.config.offline.cleanUp.recordsToKeepPercentage)/100*a);const s=this._getCleanUpSelectionTasks({module:e.moduleName,expirationDate:n,limit:r});const o=e=>new i((t,n)=>{this.exec([e],(e=[])=>{e=_.isArray(e)?e:[e];t(_.compact(e))},n)});return i.reduce(s,(t,n)=>{if(this._shouldCleanMore(e,t.length)){return o(n)}return t},[])},_getCleanUpSelectionTasks(e){const{module:n,expirationDate:i,limit:a}=e;const r=t.config.offline.staticModules||[];const s=[];if(!_.contains(r,n)){s.push({expirationDate:i,includeUserRecords:false,limit:a},{expirationDate:i,includeUserRecords:true,limit:a})}s.push({includeUserRecords:true,limit:a});const o=s.map(e=>({op:"findViewedBefore",module:n,options:e}));return this._getModuleCleanUpSelectionTasks(o,e)},_getModuleCleanUpSelectionTasks(e,t){const{module:n}=t;let i=[];if(n==="EmailParticipants"){i=[{op:"findUnlinkedEmailParticipants",options:t}]}else if(_.contains(["ProductBundles","Products","ProductBundleNotes"],n)){const e=n==="ProductBundles";const t=e?"Quotes":"ProductBundles";const a=e?"bundles":"product_bundle_items";i=[{op:"findUnrelatedRecords",module:n,options:{parentModule:t,collectionField:a}}]}if(!_.isEmpty(i)){i.push({op:"readMany",module:n,options:{max_num:t.limit}});return i}return e},_shouldCleanMore({moduleName:e,recordsCount:t},n){const i=this._getModuleLimit(e);return t-n>i},_getModuleLimit(e){const{dbLimits:n}=t.config.offline;return n.modules[e]||n.default},_favorite(e,n,i){i.action=t.offline.SyncActions.FAVORITE;n={id:n.id,my_favorite:n.my_favorite,_client_date_modified:i.ts};if(n.my_favorite){n.following=true}this.execAndSpecificReturn([{op:"updateValuesSingle",data:n,module:e,options:i}],_.extend({data:n,module:e},i))},_follow(e,n,i){i.action=t.offline.SyncActions.FOLLOW;this.execAndSpecificReturn([{op:"updateValuesSingle",data:{id:n.id,following:n.following,_client_date_modified:i.ts},module:e,options:i}],_.extend({data:n,module:e},i))},_updateRecord(e,n,i){i.action=t.offline.SyncActions.UPDATE;n._client_date_modified=i.ts;if(t.offline.utils.isRecordAssignedToLoginUser(n)){n.following=true}this._setErasedFieldsData(n,i);const a=[{op:"updateValuesSingle",data:n,module:e,options:i}];this._saveCollectionRecords({module:e,clientData:n,syncOptions:i}).then(()=>{this.execAndSpecificReturn(a,_.extend({data:n,module:e},i))},i.dbFailure)},_updateRelatedRecord(e,n,i){i.action=t.offline.SyncActions.UPDATE;n.related._client_date_modified=i.ts;if(t.offline.utils.isRecordAssignedToLoginUser(n.related)){n.related.following=true}this._setErasedFieldsData(n.related,i);const a=[{op:"updateValuesSingle",data:n.related,module:n.relatedModule,options:i}];const r=this.getRelationshipByLink(e,n.link);const s=this.getRelationshipType(r);const o=t.data.getRelationshipFields(e,n.link);const l=!_.isEmpty(_.pick(n.related,o));if(s===this.RelTypes.MANY_TO_MANY&&l){a.push({op:"createLink",module:e,data:n,options:i})}this._saveCollectionRecords({module:n.relatedModule,clientData:n.related,syncOptions:i}).then(()=>{this.execAndSpecificReturn(a,_.extend({data:n,module:e},i))},i.dbFailure)},_createRecord(e,n,i){n.id=n.id||t.utils.generateUUID();n.date_entered=i.ts;n._client_date_modified=i.ts;if(t.offline.utils.isRecordAssignedToLoginUser(n)){n.following=true}i.action=t.offline.SyncActions.CREATE;this.execAndSpecificReturn([{op:"createSingle",data:n,module:e,options:i}],_.extend({data:n,module:e},i,{dbSuccess:t=>{this._saveCollectionRecords({module:e,clientData:n,syncOptions:i}).then(()=>{if(_.isFunction(i.dbSuccess)){i.dbSuccess(t)}})}}))},_createRelatedRecord(e,n,i){const a=this;n.related._client_date_modified=i.ts;if(n.relatedId){const r=function(){i.action=t.offline.SyncActions.LINK;a.execAndSpecificReturn([{op:"createLink",module:e,data:n,options:i}],_.extend({data:n,module:e},i))};const s=function(e){const t=e[0];const n=e[1];if(!_.isEmpty(n)){return i.dbSuccess({record:t,relatedRecord:n})}r()};const o=t.offline.storage.getRelationshipByLink(e,n.link);const l=t.offline.storage.getRelationshipType(o);if(l===t.offline.storage.RelTypes.MANY_TO_MANY){a.exec([{op:"readSingle",data:n,module:e,options:_.extend(i,{readDeleted:true})},{op:"readSingleRelated",module:e,data:n,options:i}],s,i.dbFailure)}else{r()}}else{const a=t.utils.generateUUID();n.relatedId=a;n.related.id=a;i.action=t.offline.SyncActions.CREATE;if(t.offline.utils.isRecordAssignedToLoginUser(n.related)){n.related.following=true}this.execAndSpecificReturn([{op:"createSingle",module:n.relatedModule,data:n.related,options:i},{op:"createLink",module:e,data:n,options:i}],_.extend({data:n,module:e},i,{dbSuccess:e=>{this._saveCollectionRecords({module:n.relatedModule,clientData:n.related,syncOptions:i}).then(()=>{if(_.isFunction(i.dbSuccess)){i.dbSuccess(e)}})}}))}},_softDeleteRecord(e,n,i){i.action=t.offline.SyncActions.DELETE;this.execAndSpecificReturn([{op:"createTransaction",module:e,data:n,options:i},{op:"softDeleteSingle",module:e,data:n,options:i}],_.extend({data:n,module:e},i))},_hardDelete(e,n,i){i.action=t.offline.SyncActions.DELETE;this.execAndSpecificReturn([{op:"hardDelete",module:e,data:n,options:i},{op:"deleteLastViewed",data:n,module:e}],_.extend({data:n,module:e},i))},_unlinkRecord(e,n,i){i.action=t.offline.SyncActions.UNLINK;const a=[{op:"deleteLink",module:e,data:n,options:i}];if(!i.hardDelete){a.push({op:"createTransaction",module:e,data:n,options:i})}this.execAndSpecificReturn(a,_.extend({data:n,module:e},i))},_readSimpleOrRelated(e,t,n){const{relate:i}=n;const a={op:i?"readSingleRelated":"readSingle",data:t,module:e,options:n};const r=[a];const{relatedModule:s}=t;if(this._shouldUpdateLastViewedDate(n)){r.splice(0,0,{op:"updateLastViewed",data:i?{id:t.relatedId}:t,module:i?s:e,options:n});r.splice(0,0,{op:"markToBeSynced",module:i?s:e,data:{action:"update",record:{id:i?t.relatedId:t.id}}})}this.exec(r,a=>{if(a){this._readCollectionFieldRecords({module:i?s:e,modelId:i?t.relatedId:t.id}).then(e=>{_.extend(a,e);n.dbSuccess(a)},e=>n.dbFailure(e))}else{n.dbSuccess(a)}},n.dbFailure)},_readCollectionFieldRecords(e){let n;return new i((a,r)=>{this._readCollectionRecordsForModel(e).then(r=>{n=r;if(!_.contains(s,e.module)){a(n)}const o=[];const l={};_.each(r,(e,t)=>{_.each(e,e=>{l[e.id]=e})});_.each(r,(e,n)=>{if(_.isEmpty(e)){return}_.each(e,e=>{const n=e._module;const i=t.offline.utils.getCollectionFields(n);if(!_.isEmpty(i)){o.push({modelId:e.id,module:n})}})});i.mapSeries(o,e=>this._readCollectionFieldRecords(e)).then(e=>{_.each(e,(e,t)=>{const n=o[t].modelId;_.extend(l[n],e)});a(n)})})})},_readCollectionRecordsForModel(e){const{module:n,fields:a,modelId:r,options:s={}}=e;const o=t.metadata.getModule(n,"fields");const l=_.isArray(a)?a:_.keys(t.offline.utils.getCollectionFields(n));const c=s.offset||{};const u=s.max_num||t.config.maxQueryResult;return i.mapSeries(l,e=>{if(!this._isCollectionFieldSupported(n,e)){return i.resolve()}const a=o[e];return i.mapSeries(a.links,e=>{const s=e.name;if(c[s]===-1||!t.offline.utils.isLinkSupported(n,s)){return i.resolve([])}const o=t.data.getRelatedModule(n,s);const l=t.metadata.getModule(o,"fields");const u=a.order_by;return this._readManyRelatedRecords(n,{id:r,relatedModule:o,link:s},{offset:c[s]||0,order_by:u}).then(e=>{let t=e;if(t&&!_.isArray(t)){t=[t]}const n=u&&u.split(":")[0];const i=l[n]&&l[n].sort_on;const a=i||n;return _.map(t,e=>{e._link=s;return{sort:String(e[a]||e[n]||""),rec:e}})})})}).then(e=>{const t={};_.each(l,(n,i)=>{const a=o[n].order_by;const r=a?a.split(":")[1]:"";const s=r.toLowerCase()==="asc";const l=_.flatten(e[i]).sort((e,t)=>(s?1:-1)*e.sort.localeCompare(t.sort)).splice(0,u).map(e=>e.rec);if(!_.isEmpty(l)){t[n]=l}});return t})},_saveCollectionRecords(e){const{module:n}=e;const a=(e.clientData||e.serverData).id;const r=t.offline.utils.getCollectionFields(n);const s=t.offline.utils.extractColFieldValues(n,e.clientData||e.serverData,{isClientData:Boolean(e.clientData)});const o=_.keys(s);const l=_.contains(["Quotes","ProductBundles"],n);return(l?this._readCollectionFieldRecords({module:n,modelId:a,fields:o}):i.resolve({})).then(a=>{const c=l?this._getDeletedCollectionRecords(o,a,e.serverData):undefined;return i.mapSeries(o,a=>{if(!this._isCollectionFieldSupported(n,a)){return i.resolve()}const o=_.pluck(r[a].links,"name");return i.mapSeries(o,r=>{if(!t.offline.utils.isLinkSupported(n,r)){return i.resolve()}return new i((t,n)=>{const i=_.filter(c,e=>e._link===r);const o=this._getSaveCollectionRecordsTasks(r,s[a][r],_.extend({unlinkedRecords:i},e));asyncLib.waterfall(o,(e,i)=>{if(e){n(e)}else{t(i)}})})})}).then(e=>_.flatten(e).some(e=>e&&e.isDataUpdated)?{isDataUpdated:true}:undefined)})},_getDeletedCollectionRecords(e,t={},n={}){const i=[];_.each(e,e=>{_.each(t[e],t=>{const a=n[e];if(!_.isUndefined(a)){const e=_.find(a.records||a,e=>e.id===t.id);if(!e){i.push(t)}}})});return i},_getSaveCollectionRecordsTasks(e,n={},a={}){const r=t.offline.isOnline();const{module:s}=a;const{clientData:o}=a;const l=a.serverData||{};const c=l.id||o.id;const u=[];const d=t.data.getRelatedModule(s,e);const f=a.syncOptions||{};if(r){const t={module:s,relationshipData:{id:c,link:e,relatedModule:d},ignoreRecordDirtiness:Boolean(o),needUpdateData:false,forceColFieldsSaving:true};u.push(e=>{asyncLib.waterfall(this._getSaveRecordsTasks(n.add,t),t=>e(t))})}else{const t=_.map(n.add,t=>({op:"createLink",module:s,data:{id:c,link:e,relatedModule:d,relatedId:t.id,related:{id:t.id}}}));if(t.length){u.push(e=>{this.exec(t,t=>e(null,t),t=>e)})}}const p=_.chain(a.unlinkedRecords).pluck("id").union(n.delete).compact().uniq().value();const h=_.map(p,t=>({op:"deleteLink",module:s,data:{id:c,link:e,relatedModule:d,relatedId:t,related:{id:t}}}));if(h.length){u.push(e=>{this.exec(h,t=>e(null,t),e)})}if(!_.isEmpty(n.create)){u.push(t=>{i.mapSeries(n.create,t=>new i((n,i)=>{this._createRelatedRecord(s,{id:c,link:e,relatedModule:d,related:t},{relate:true,regularSync:f.regularSync,method:f.method,dbSuccess:n,dbFailure:i})})).then(e=>t(null,e),t)})}return u},_readManyRecords(e,t){return new i((n,i)=>{this.exec([{op:"readMany",module:e,options:t}],e=>n(e),e=>{i(e);t.dbFailure(e)})}).then(n=>{let a=n;const r=t.collectionFields;if(_.isEmpty(a)||_.isEmpty(r)){t.dbSuccess(a);return}if(!_.isArray(a)){a=[a]}return i.mapSeries(a,t=>this._readCollectionFieldRecords({module:e,fields:r,modelId:t.id})).then(e=>{_.each(a,(t,n)=>{_.extend(t,e[n])});t.dbSuccess(a)})})},_readManyRelatedRecords(e,t,n={}){return new i((i,a)=>{this.exec([{op:"readManyRelated",module:e,data:t,options:n}],(...e)=>{if(n.dbSuccess){n.dbSuccess(...e)}i(...e)},e=>{if(n.dbFailure){n.dbFailure(e)}a(e)})})},_search(e){this.exec([{op:"search",options:e}],e.dbSuccess,e.dbFailure)},_shouldUpdateLastViewedDate(e){return e&&e.viewed},fillTxLogData(e,t){_.each(e,e=>{if(e._tx_updated_fields){e._tx_updated_fields=JSON.parse(e._tx_updated_fields)}});const n={};const i=(e,t)=>{const i=e[`_tx_${t}_module`];if(!i){return}if(!_.has(n,i)){n[i]=[]}n[i].push(e[`_tx_${t}_id`])};_.each(e,e=>{i(e,"bean");i(e,"related")});const a=(e,t,n)=>{const i=e[`_tx_${t}_id`];if(!i){return}const a=e[`_tx_${t}_module`];if(_.isArray(n[a])){e[t]=_.find(n[a],e=>e.id===i)}else{e[t]=n[a]}};this._executeSynchronized(function i(r){this.readModuleRecords(n,(n,i)=>{r();if(!n){_.each(e,e=>{a(e,"bean",i);a(e,"related",i)})}t(n,e)})})},readModuleRecords(e,t,n){const i=this;_.each(e,(t,n)=>{const a={op:"readModuleRecords",module:n,data:{id:t},options:{}};e[n]=function e(t){i.exec([a],e=>{t(null,e)},t)}});asyncLib.parallel(e,t)},markToBeSynced(e){this.exec([{op:"markToBeSynced",module:e.module,data:{action:e.action,record:e.record}}],e.callback,e.callback)},resetToBeSynced(e){this.exec([{op:"resetToBeSynced",module:e.module,data:{records:e.records}}],e.callback,e.callback)},readToBeSynced(e){this.exec([{op:"readToBeSynced",module:e.module,options:e}],(t=[])=>{if(!t){t=[]}if(!_.isArray(t)){t=[t]}e.callback({records:t})},e.callback)},updateLastViewed(e,t){this.exec([{op:"updateLastViewed",data:e,module:t.module,options:t}],t.callback,t.callback)},_isCollectionFieldSupported(e,t){return r[e]&&_.contains(r[e],t)},_setErasedFieldsData(e,t){const n=_.getNested(t,"initialState._erased_fields",[]);const i=_.without(n,..._.keys(e));if(i.length!==n.length){e._erased_fields=i}},extractFileTypeField(e){return _.chain(e).keys().without("id").first().value()},isFileTypeField(e,n){const i=(t.metadata.getModule(n,"fields")||{})[e];return i&&_.contains(t.offline.storage.fileFieldTypes,i.type)}}})(SUGAR.App)},function(e,t){(function e(t){const n={};t.offline.utils={notImplemented(){throw new Error("Not implemented. Please override this method with your implementation")},generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;const n=e=="x"?t:t&3|8;return n.toString(16)})},isDataSynchronized(e){if(e instanceof t.Bean){return e.get("_client_date_modified")===e.get("date_modified")}else if(_.isObject(e)){return e._client_date_modified&&e.date_modified&&e._client_date_modified===e.date_modified}return false},prepareHighlightQuery(e){const t="(\\*|\\%)+";e=e?e.trim().replace(/[-\[\]{}()+.,\\\^$|#\s]/g,"\\$&").replace(new RegExp(`(^${t})|(${t}$)`,"g"),"").replace(/%|\*/g,".*").replace(/_|\?/g,"."):"";return e},prepareQuery(e){e=e?e.trim().replace(/[-\[\]{}()+.,\\\^$|#\s]/g,"\\$&").replace(/%|\*/g,".*").replace(/_|\?/g,"."):"";return`^${e}`},checkIsEmptyQuery(e=""){let t=e.replace(/%|\*/g,"").replace(/_|\?/g,"");t=t.trim();return _.isEmpty(t)},compileHighlightRegExp(e){e=this.prepareHighlightQuery(e);return new RegExp(`([^\\s:-;,><]*${e}[^\\s:-;,><]*)`,"i")},compileSearchRegExp(e){return new RegExp(this.prepareQuery(e))},actionToSymbol(e){const n=e._tx_action||e.action;const i=e._tx_related_id||e.relate;return t.offline.SYNC_ACTIONS_SYMBOLS[n]+(i?"_RELATED":"")},getTxAge(e){return parseInt((new Date-new Date(e._tx_ts))/1e3,10)},getCleanedParams(e){return _.omit(e,["changedFields","skipServerSync","skipOfflineRead","serverSyncSuccess","deferSync","initialState","relate"])},actionToString(e){if(e===t.offline.SyncActions.CREATE){return"createSingle"}else if(e===t.offline.SyncActions.UPDATE||e===t.offline.SyncActions.LINK){return"updateValuesSingle"}else if(e===t.offline.SyncActions.DELETE||e===t.offline.SyncActions.UNLINK){return"hardDelete"}else if(e===t.offline.SyncActions.FAVORITE||e===t.offline.SyncActions.FOLLOW){return"updateValuesSingle"}throw new Error("Invalid action")},isRecordAssignedToLoginUser(e){return e.assigned_user_id&&e.assigned_user_id===t.user.id},getOfflineModules(e={}){let n=_.keys(t.metadata.get().modules);if(e.filter){n=_.intersection(n,t.metadata.getModuleNames({filter:e.filter}))}if(e.includeStatic){n=_.union(t.config.offline.staticModules,n)}if(e.checkAccess){n=_.filter(n,e=>t.acl.hasAccess("access",e))}return _.filter(n,e=>t.offline.isModuleOfflineEnabled(e))},getBeforeAndAfter(e,n,i,a){n=n||{};const r={};const s=t.metadata.getModule(i,"fields")||{};_.each(e,(e,i)=>{const o=s[i]||{};const l=o.type==="link";const c=i==="_client_date_modified"||i==="id"||e===n[i]||l;if(!c){r[i]={after:e,before:n[i]?n[i]:null};if(_.contains(t.offline.storage.fileFieldTypes,o.type)&&a.fsEntry){const e=a.fsEntry[i];if(e){r[`__fsEntry${i}`]={before:null,after:e.name}}}}},this);return _.isEmpty(r)?null:r},getInitialState(e,t){const n=JSON.parse(e._tx_updated_fields);_.each(n,(e,n)=>{if(n==="email"){return}t[n]=e.before});return t},fetchPageByPage(e,n,i,a,r){const s=r.maxRecords||20;const o=r.pageSize||20;a=a||0;_.extend(n,{offset:n.offset||0,max_num:o,order_by:n.order_by||"date_modified:DESC"});if(r.isBulkLoad){_.extend(n,{e2e_skip:true})}t.offline.api.callOriginalApi("records",["read",e,null,n,{success(l){if(_.isEmpty(l.records)){return r.callback()}i({module:e,records:l.records,callback(c){if(c){return r.callback(c)}const u=a>=s;a+=o;n.offset+=o;if(r.iterator){r.iterator(u?s:a)}if(u||l.next_offset===-1){r.callback()}else{t.offline.utils.fetchPageByPage(e,n,i,a,r)}}})},error:r.callback}])},ping(e){const n=Number(new Date);t.offline.api.callOriginalApi("ping",[null,{success(){const t=new Date-n;e(null,t)},error(t){e(t)}}])},getServerTime(e){t.offline.api.callOriginalApi("ping",["whattimeisit",{success(t){e(null,t)},error:e},{skipMetadataHash:true}])},shouldUpdateLastViewedDate(e){return e&&e.viewed},callOnce(e){const t={success:false,error:false,complete:false};_.each(e,(n,i)=>{e[i]=function e(...a){if(t[i]){return}t[i]=true;n.apply(this,a);n=null}})},paginate(e,t){let n=0;let i;const a=[];if(_.isEmpty(e)){return a}const r=(e,n)=>{const i=n*t;const a=(n+1)*t;return e.slice(i,a)};i=r(e,n);while(!_.isEmpty(i)){a.push(i);i=r(e,++n)}return a},getStoppableAsyncFlow(e,n,i){let a=false;const r=_.map(n,e=>(function n(...r){if(a){t.logger.debug("Async flow interrupted");i()}else{e(...r)}}));asyncLib[e](r,i);return function e(){a=true}},checkDatesEqual(e,n){return e&&n&&e.date_modified===e._client_date_modified&&e.date_modified===t.utils.getTimestamp(n.date_modified)},isFavoriteFollowModified(e,t){return e&&t&&(!_.isUndefined(t.my_favorite)&&Boolean(Number(t.my_favorite))!==Boolean(Number(e.my_favorite))||!_.isUndefined(t.following)&&Boolean(Number(t.following))!==Boolean(Number(e.following)))},getCollectionFields(e){let i=n[e];if(_.isUndefined(i)){const a=t.metadata.getModule(e,"fields");const r=_.filter(a,e=>e.type==="collection");if(_.isEmpty(r)){i=null}else{i={};_.each(r,e=>{i[e.name]=e})}n[e]=i}return i},extractColFieldValues(e,t,{isClientData:n}={}){const i=this.getCollectionFields(e);const a={};if(!i){return a}_.each(i,(e,i)=>{a[i]={};if(n){_.each(e.links,e=>{const n=e.name;if(t[n]){a[i][n]=t[n]}})}else{_.each(t[i]&&t[i].records,t=>{const n=_.find(e.links,e=>t._link===e.name);if(n){const e=n.name;if(!a[i][e]){a[i][e]={add:[]}}a[i][e].add.push(t)}})}if(!a[i]){delete a[i]}});return a},isLinkSupported(e,n){const i=t.metadata.getModule(e).fields[n].relationship==="";return!i&&t.offline.isModuleOfflineEnabled(t.data.getRelatedModule(e,n))},haveMetaModulesChanged(e={},n={}){const i=_.filter(_.keys(e.modules),e=>t.offline.isModuleOfflineEnabled(e)).sort();const a=_.filter(_.keys(n.modules),e=>t.offline.isModuleOfflineEnabled(e)).sort();return!_.isEqual(i,a)}}})(SUGAR.App)},function(e,t){const n="meta:hashes";const i={CREATE:1,UPDATE:2,DELETE:3,LINK:4,UNLINK:5,FAVORITE:6,FOLLOW:7};let a;let r;let s;const o=["offline:toggled","offline:failure","offline:bulkload:progress","offline:cleanup:completed","offline:api:read:success","offline:status:update","offline:collection:read","offline:data:updated","offline:data:sync:success","offline:tx:create","offline:tx:success","offline:tx:delete","offline:tx:error","offline:tx:rollback","offline:wins:completed","offline:encryption:start","offline:encryption:complete","offline:storage:migrate"];const l={INITIALIZED_TS_KEY:"offline:initialized_ts",State:{OK:0,WARNING:1,ERROR:2},SyncActions:i,SYNC_ACTIONS_SYMBOLS:_.invert(i),TransactionStatuses:{UNRECOVERABLE:[403,405,422,500]},status:null,_userEnabled:true,_noConnection:false,set userEnabled(e){this._userEnabled=Boolean(e)},get userEnabled(){return this._userEnabled},isSupported(e){return app.utils.versionCompare(e.version||"",app.config.offline.minServerVersion,">=")},storageExists(){return Boolean(app.cache.get("offline:version"))},registerEvents(){_.each(o,e=>{app.events.unregister(app,e);app.events.register(e,app)})},initialize(){$(document).on("ajaxComplete",this._onAjaxComplete);this._setDataModels();this.storage.init(app.metadata.get());this.api.override();this.syncManager.httpErrorHandler=_.bind(app.error.handleStatusCodesFallback,app.error);this.syncManager.init();this._registerSyncExecutors();this.status={state:this.State.OK};this._initialized=true;app.logger.debug("Offline initialized")},isInitialized(){return this._initialized},_registerSyncExecutors(){_.each(app.config.offline.syncManager.executors,(e,t)=>{e=_.extend(e,{name:t});const n=new(app.offline[`${app.utils.capitalize(t)}SyncExecutor`])(e);app.offline.syncManager.registerExecutor(n)})},initStorage(){return app.offline.storage.open({env:app.config.env,name:app.config.appId,size:app.config.offline.storageSize,adapter:app.offline[`${app.config.offline.storageAdapter}Adapter`]})},_cutCachedData(){_.each(["offline:version",n,"offline:encrypted","sync:wins:status"],e=>{app.cache.cut(e)})},uninitialize(){$(document).off("ajaxComplete",this._onAjaxComplete);this.api.restore();this._resetDataModels();this.status=null;app.offlineEnabled=false;this._initialized=false;app.logger.debug("Offline stopped")},_setDataModels(){a=app.data.beanModel;r=app.data.beanCollection;s=app.data.mixedBeanCollection;app.data.beanModel=this.declareOfflineBean();app.data.beanCollection=this.declareOfflineBeanCollection();app.data.mixedBeanCollection=this.declareOfflineMixedBeanCollection();app.data.reset();app.data.declareModels()},_resetDataModels(){app.data.beanModel=a;app.data.beanCollection=r;app.data.mixedBeanCollection=s;app.data.reset();app.data.declareModels()},prepareDb(e){let t=Promise.resolve();if(e){t=t.then(()=>{const e=app.utils.deepCopy(app.metadata.get());e.modules=_.omit(e.modules,app.config.offline.exclude);return this.upgrade(e)}).then(e=>this.migrate(e))}const n=app.cache.get("offline:encrypted");if(app.config.offline.dbEncryptionEnabled&&!n){t=t.then(()=>this.encrypt())}return t},isOfflineEnabled(){return app.config.offlineEnabled&&app.config.offline.enabled&&this.userEnabled&&this.isSupported(app.metadata.getServerInfo())},dropStorage(e){return new Promise((e,t)=>{if(!this.storage.isOpened()){this.initStorage()}app.logger.debug("Dropping storage");this.storage.drop(n=>{this._cutCachedData();if(n){app.logger.error(`Failed to drop storage: ${n}`);t(n)}else{e()}})})},upgrade(e){return new Promise((t,i)=>{const a=app.cache.get(n);app.logger.debug("Upgrading offline storage");app.offline.storage.upgrade(e,a,{success:(e,n)=>{app.logger.debug("Successfully upgraded offline storage");this.storeOfflineMeta(e);app.cache.set("offline:version",this.storage.getSqlStorageVersion());t({metadata:e,prevMetadata:n})},error:e=>{app.logger.error(`Failed to upgrade offline storage. ${e}`);i(e)}})})},encrypt(){return new Promise((e,t)=>{if(app.offline.storage.isEncryptionSupported()){app.trigger("offline:encryption:start");_.defer(()=>{app.offline.storage.encrypt(()=>{app.logger.debug("Successfully encrypted offline storage");app.trigger("offline:encryption:complete");app.cache.set("offline:encrypted",true);e()},e=>{app.logger.error(`Failed to encrypt offline storage. ${e}`);app.trigger("offline:encryption:complete",app.offline.Error.EncryptionFailedError);t(e)})})}else{e()}})},migrate({metadata:e,prevMetadata:t}){const n=app.offline.utils.haveMetaModulesChanged(e,t);const i=!app.config.offline.debug.forceMigrate&&t&&t._hash===e._hash&&t._userId===app.user.get("id")&&t.siteUrl===app.utils.stripHttpPrefix(app.config.siteUrl)&&!n;app.offline.storage.resetMigrationSummary();let a=Promise.resolve();if(!i){app.logger.debug("Migrating offline storage");a=a.then(()=>new Promise((e,t)=>{app.offline.utils.getServerTime((n,i)=>{if(n){app.logger.error(`Failed to get server time: ${n}`);n=new app.offline.Error("server_time_unavailable","Failed to retrieve server time","ERR_OFFLINE_SERVERTIME_UNAVAILABLE",n);t(n)}else{app.cache.set(app.offline.INITIALIZED_TS_KEY,i);e()}})})).then(()=>new Promise((i,a)=>{app.offline.storage.migrate(e,t,{forceDrop:app.config.offline.debug.forceMigrate,isModulesConfigChanged:n,success:()=>{app.trigger("offline:storage:migrate",{storageRebuilt:app.offline.storage.getMigrationSummary().storageRebuilt});app.logger.debug("Successfully migrated offline storage");i()},error:a})}))}return a.catch(e=>{e.label=app.lang.get("ERR_OFFLINE_STORAGE_CREATE");app.logger.error(`Failed to migrate offline storage. ${e}`);throw e})},compactStorage(e){app.offline.storage.compact(e)},storeOfflineMeta(e){const t={};t._hash=e._hash;t._userId=app.user.id;t.relationships={_hash:e.relationships._hash};t.siteUrl=app.utils.stripHttpPrefix(app.config.siteUrl);t.modules={};_.chain(e.modules).omit(app.config.offline.exclude).each((e,n)=>{if(e._hash){t.modules[n]={_hash:e._hash,fields:{_hash:e.fields._hash}};_.each(e.fields,(e,i)=>{if(i==="_hash"){return}t.modules[n].fields[i]={type:e.type,name:e.name}})}});app.cache.set(n,t)},isOnline(){return app.config.offline.debug.online&&window.navigator.onLine},isModuleOfflineEnabled(e){return(app.config.offline.exclude||[]).indexOf(e)===-1},startSyncManager(){if(app.config.offline.enabled&&app.api.isAuthenticated()){app.offline.syncManager.start()}},stopSyncManager(){app.offline.syncManager.stop()},startMonitorStatus(){if(this._monitorIntervalId||!app.config.offline.debug.monitorStatus){return}const e=()=>{asyncLib.parallel({transactions:e=>{this.storage.exec([{op:"countTransactions"}],t=>{e(null,t)},t=>{app.logger.error(`Failed to count transactions: ${t}`);e(t)})},isOutOfSpace:e=>{this.storage.isOutOfSpace(t=>e(null,t))}},(e,t)=>{const n=t.transactions||{};n.noConnection=this._noConnection||!this.isOnline();n.isSyncing=this.syncManager.isSyncing();n.lastSyncTs=this.syncManager.lastSyncTs;n.isOutOfSpace=t.isOutOfSpace;if(n.failedTransactions>0||n.isOutOfSpace){n.state=this.State.ERROR}else if(n.noConnection||n.totalTransactions>0){n.state=this.State.WARNING}else{n.state=this.State.OK}this.status=n;this.showStateAlert();app.trigger("offline:status:update",n)})};e();this._monitorIntervalId=window.setInterval(e,app.config.offline.monitorTimeout||1e4)},stopMonitorStatus(){window.clearInterval(this._monitorIntervalId);this._monitorIntervalId=null},showStateAlert({ignoreAlertUid:e=false}={}){if(this.status.state===this.State.OK||this.status.state===this.State.WARNING&&!this.status.totalTransactions){return}const t=this.status.state===this.State.ERROR;const n=t?"ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS":"WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS";const i=app.lang.get(n,null,{link:"#Offline"});const a={messages:[new Handlebars.SafeString(i)],level:t?"error":"warning",uid:n};if(t&&e){delete a.uid}app.alert.show("offline_state",a)},_onAjaxComplete(e,t){this._noConnection=!t.aborted&&!t.status}};app.offline=l;e.exports=app.offline},function(e,t){(function e(t){const n=function(e){this._module=e};_.extend(n.prototype,{combiners:{$or:" OR ",$and:" AND "},conditions:{base:{$equals:"=",$not_equals:"!=",$lt:"<",$lte:"<=",$gt:">",$gte:">=",$starts(e,t){return`${e} LIKE "${t}%"`},$ends(e,t){return`${e} LIKE "%${t}"`},$contains(e,t){return`${e} LIKE "%${t}%"`},$not_contains(e,t){return`${e} NOT LIKE "%${t}%"`},$in(e,t,n){t=n.value;return`${e} IN (${_.isArray(t)?t.map(this._quotStr).join():t})`},$not_in(e,t,n){t=n.value;return`${e} NOT IN (${_.isArray(t)?t.map(this._quotStr).join():t})`},$is_null(e){return`${e} ISNULL`},$not_null(e){return`${e} NOTNULL`},$empty(e){return`(${e} ISNULL OR ${e}="")`},$not_empty(e){return`(${e} NOTNULL OR ${e}!="")`},$dateBetween(e,n,i){n=i.value;const a=t.metadata.getModule(this._module).fields[e]||{};const r=a.type==="date";let s=r?n[0]:t.date.utc(n[0]).startOf("day").toDate();let o=r?n[1]:t.date.utc(n[1]).endOf("day").toDate();s=this._quotStr(this._getValue(s,e));o=this._quotStr(this._getValue(o,e));return`${e} BETWEEN ${s} AND ${o}`},$between(e,t,n){t=n.value;return`${e} BETWEEN ${this._quotStr(t[0])} AND ${this._quotStr(t[1])}`},$dateRange(e,t,n){t=n.value;const i=this._parseRange(t);if(i){const t={field:e,value:i[0],condition:"$gte"};const n={field:e,value:i[1],condition:"$lte"};return`${this._buildCondition(t)} AND ${this._buildCondition(n)}`}return false}},byType:{tag:{$in(e,t,n){return n.value.map(t=>`${e} LIKE "%""name"":""${t}""%"`).join(" OR ")},$not_in(e,t,n){return`${e} ISNULL OR (${n.value.map(t=>`${e} NOT LIKE "%""name"":""${t}""%"`).join(" AND ")})`},$empty(e){return`${e}="[]" OR ${e} ISNULL`},$not_empty(e){return`${e}!="[]" AND ${e} NOTNULL`}},team_list:{$equals(e,t){return`team_name LIKE "%""id"":""${t}""%"`},$not_equals(e,t){return`team_name NOT LIKE "%""id"":""${t}""%"`}},json:{},email:{},teamset:{},metadata:{},multienum:{}}},customFilters:{$favorite(){return{filter:{field:"my_favorite",condition:"$equals",value:1}}},$owner(){return t.metadata.getModule(this._module,"fields").assigned_user_id?{sql:`"assigned_user_id"=${this._quotStr(t.user.get("id"))}`,fields:["assigned_user_id"]}:false},$tracker(e){const n=this._parseDate(e.value);return n?{sql:`id IN (SELECT bean_id FROM _view_dates WHERE bean_module="${this._module}" AND date_last_viewed>="${t.utils.getTimestamp(n)}")`}:false},$creator(){return{filter:{field:"created_by",condition:"$equals",value:t.user.get("id")},fields:["created_by"]}},$following(){return{filter:{field:"following",condition:"$equals",value:1}}}},getExtractedFields(){return _.unique(this._filterFields)},buildSql(e,t){let n;this._filterFields=[];n=this._buildSql(e,"");if(t&&t.omitParentheses&&n){n=n.replace(/^\(|\)$/g,"")}return n},_buildSql:function e(t,n,i){for(let a=0,r=t.length;a<r;a++){const s=t[a];let o;if(s.operator){o=e.call(this,s.filters,"",this.combiners[s.operator]);if(o){n+=`(${o})`}}else{o=this._buildCondition(s);if(o){n+=o}}if(o&&r-a>1){n+=i}else if(o===false){return false}}return n},_buildCondition(e){let t;let n;t=this.customFilters[e.field];if(t){t=t.call(this,e);if(t===false){return false}else if(t.sql){this._filterFields.push(...t.fields||[]);return t.sql}else if(t.filter){e=t.filter}}const i=this._getCondition(e);if(!i){return false}const{field:a,value:r}=e;const s=this._getField(a);const o=this._getValue(r,a);if(!s){return false}if(a.indexOf(".")!==-1){return this._processLink(e)}if(_.isFunction(i)){n=i.call(this,s,o,{field:a,value:r})}else if(_.isString(i)){n=s+i+this._quotStr(o)}if(n){this._filterFields.push(a);return n}return false},_processLink(e){let{field:i}=e;const a=i.split(".");const r=a[0];const s=t.offline.storage.getRelationshipByLink(this._module,r);const o=t.offline.storage.RelTypes;const l=function(t){return new n(t).buildSql([{operator:"$and",filters:[{field:i,condition:"$equals",value:e.value}]}],{omitParentheses:true})};let c;let u;let d;let f;i=a[1];if(s.relationship_type===o.MANY_TO_MANY){f=t.offline.storage._wrapManyToManyRelationship(this._module,r);d=l(f.dataTable);if(d){u=`SELECT lt.${f.parentKey} FROM ${f.parentModule} lt INNER JOIN ${f.relationshipTable} jt ON lt.${f.parentKey}=`+`jt.${f.parentIdColumn} INNER JOIN ${f.dataTable} rt ON rt.${f.childKey}=`+`jt.${f.childIdColumn}`;c=`${f.parentKey} IN (${u} WHERE rt.${d})`}}else if(s.relationship_type===o.ONE_TO_MANY){d=l(s.rhs_module);if(d){u=`SELECT lt.${s.lhs_key} FROM ${s.lhs_table} lt INNER JOIN ${s.rhs_table} rt ON lt.${s.lhs_key}=rt.${s.rhs_key}`;c=`${s.lhs_key} IN (${u} WHERE rt.${d})`}}return c||false},_getCondition(e){const n=e.condition;const{conditions:i}=this;const a=t.metadata.getModule(this._module).fields[e.field];const r=a&&a.type;return i.byType[r]?i.byType[r][n]:i.base[n]},_quotStr(e){return`"${e}"`},_getValue(e,n){return t.offline.storage._getValue(e,n,this._module,t.metadata.getModule(this._module).fields)},_getField(e){let t=e;switch(e){case"date_modified":t="_client_date_modified";break}return t},_dateRanges:{yesterday:["days",-1,-1],today:["days",0,0],tomorrow:["days",1,1],last_7_days:["days",-6,0],next_7_days:["days",0,6],last_30_days:["days",-29,0],next_30_days:["days",0,29],next_month:["months",1,1],this_month:["months",0,0],last_month:["months",-1,0],last_year:["years",-1,0],this_year:["years",0,0],next_year:["years",1,1]},_parseRange(e){const n=this._dateRanges[e];if(!n){return false}const i=n[0];const a=t.date.utc().add(n[1],i).startOf(i).toDate();const r=t.date.utc().add(n[2],i).endOf(i).toDate();return[t.utils.getTimestamp(a),t.utils.getTimestamp(r)]},_parseDate(e){const n=t.date.utc();const i="month";let a;switch(e){case"first day of this month":a=n.startOf(i);break;case"first day of next month":a=n.add(1,"month").startOf(i);break;case"last day of this month":a=n.endOf("month");break;case"last day of next month":a=n.add(1,i).endOf(i);break}if(a){return a.toDate()}a=t.date.phpStrToTime(e);if(a){return new Date(a*1e3)}return false}});t.offline.SqlFilterBuilder=n})(SUGAR.App)},function(e,t){(function e(t){const n=["date_entered",["date_modified","my_favorite"],["assigned_user_id","date_modified"]];const i=e=>e.replace(/'/g,"''");const a=e=>d.getSqlTypeByMetaType(e.type)===d.DEFAULT_TEXT_COLUMN_TYPE;const r=(e,t)=>{if(_.isArray(t)){t=t.join("_")}return`"${e}_${t}_IDX"`};const s=(e,t,n="")=>{const i=r(e,t);if(_.isArray(t)){t=`${t.join(`" ${n}, "`)}`}return`CREATE INDEX IF NOT EXISTS ${i} ON "${e}"("${t}" ${n})`};const o=(e,t)=>`DROP INDEX IF EXISTS ${r(e,t)}`;const l=(e,i,{dropExisting:a}={})=>{if(!t.offline.isModuleOfflineEnabled(e)){return}const r=[];_.each(n,t=>{if(!_.isArray(t)){t=[t]}const n=_.all(t,e=>i.fields[e]);if(!n){return}t=_.map(t,e=>e==="date_modified"?"_client_date_modified":e);if(a){r.push(o(e,t))}r.push(s(e,t))});return r};const c=(e,{dropExisting:n}={})=>{const i=t.offline.storage.offlineMeta[e];const r=[];_.each(i.searchFields,t=>{const i=t.name;if(n){r.push(o(e,i))}r.push(s(e,i,a(t)?"COLLATE NOCASE":""))});return r};const u=e=>{const n=[];const i=["created_by","modified_user_id","assigned_user_id"];const a=t.metadata.get();_.each(e,e=>{if(e.type===t.offline.storage.RelTypes.MANY_TO_MANY){return}const r=e.childModule;const l=e.parentIdColumn;if(a.modules[r]&&t.offline.isModuleOfflineEnabled(r)&&i.indexOf(l)===-1){const e=s(r,l);if(n.indexOf(e)===-1){n.push(o(r,l),e)}}});return n};const d=function(e,t,n){this.name=e;this.definition=t;this._tableName=e;this.fields=n;const i=_.map(this.fields,e=>`"${e.name}"`);i.unshift('"id"','"_client_date_modified"','"_deleted"','"_acl"','"_erased_fields"');const a=_.map(i,e=>`${e}=?`);const r=`(${i.join(",")})`;const s=`SET ${a.join(",")}`;const o=[];_.times(i.length,()=>{o.push("?")});const l=`(${o.join(",")})`;this.sqlCreate=`REPLACE INTO "${this._tableName}" ${r} VALUES ${l}`;this.sqlReplace=`REPLACE INTO "${this._tableName}" ${r} VALUES ${l}`;this.sqlUpdate=`REPLACE INTO "${this._tableName}" ${s} WHERE id=?`;this.sqlMarkDeleted=`UPDATE ${this._tableName} SET _deleted=1 WHERE id=?`;this.sqlResetDeleted=`UPDATE ${this._tableName} SET _deleted=0 WHERE id=?`;this.sqlSelectOne=`SELECT * FROM ${this._tableName} WHERE id=? AND _deleted=0`;this.sqlSelectOneWithDeleted=`SELECT * FROM ${this._tableName} WHERE id=?`};_.extend(d.prototype,{buildSqlReadModuleRecordsByIds(e,t){e=`"${(_.isArray(e)?e:[e]).join('","')}"`;t=_.isEmpty(t)?"*":`"${t.join('","')}"`;return`SELECT ${t} FROM "${this._tableName}" WHERE id IN (${e})`},getSchema(e,n){let i=[];const a=[];a.push('"id" TEXT PRIMARY KEY COLLATE NOCASE','"_client_date_modified" TEXT COLLATE NOCASE','"_deleted" INTEGER DEFAULT 0','"_acl" TEXT COLLATE NOCASE',`"_erased_fields" TEXT DEFAULT "${JSON.stringify([])}"`);const r=(e,t)=>`"${e}"${t}`;_.each(this.fields,function e(i){if(_.isEmpty(i.name)){return}const s=d.getSqlTypeByMetaType(i.type);const o=r(i.name,s);if(_.contains(a,o)){t.logger.warn(`${o} column already exists in ${this.name} table. Skipping`)}else{a.push(o);if(i.type==="email"&&!n.fields.email1){a.push(r("email1",s))}}},this);i.push(`DROP TABLE IF EXISTS "${this._tableName}"`);i.push(`CREATE TABLE "${this._tableName}" (${a.join(",")})`);i=i.concat(l(e,n,{dropExisting:true})).concat(c(e,{dropExisting:true}));return i},buildSqlSelectMany(e){const n=e.offset||0;const i=e.max_num||t.config.maxQueryResult;const a=e.selectFields;const r=_.isEmpty(a)?"*":_.isArray(a)?a.join():a;const s=d.buildOrderBy(this.name,e);const o=`SELECT {0} FROM {1} ${d.buildWhere(this.name,e,{andSql:"_deleted=0"})} ORDER BY {4} LIMIT {2},{3}`;return t.utils.formatString(o,[r,this._tableName,n,i,s])},buildSqlUpdate(e,t){const n=_.map(t,e=>`${e}=?`);const i=`SET ${n.join(",")}`;return`UPDATE "${this._tableName}" ${i} WHERE id=?`},buildSqlDelete(e){e=_.map(e,e=>`'${e}'`);return`DELETE FROM '${this._tableName}' WHERE id IN (${e.join()})`}});d.DEFAULT_TEXT_COLUMN_TYPE=" TEXT COLLATE NOCASE";d.getSqlTypeByMetaType=function e(t){let n;switch(t){case"bool":case"boolean":case"int":case"integer":n=" INTEGER";break;case"float":case"double":case"currency":case"decimal":case"discount":n=" REAL";break;default:n=this.DEFAULT_TEXT_COLUMN_TYPE;break}return n};d.buildWhere=function e(n,i,a){const r=d.buildSearchQuery(n,i,a);let{filter:s}=i;let o;if(i.filterParsed&&i.filterParsed.isSupported){o=i.filterParsed.filterSql}else{s=t.offline.convertReadRecordsFilter(i,n);o=s&&s.isSupported?s.filterSql:""}const l=_.compact([o,r,a.andSql]).join(" AND ");return l?`WHERE ${l}`:""};d.buildSearchQuery=function e(n,r,s){if(!r.q){return""}const o=r.q.indexOf("?")!==-1||r.q.indexOf("*")!==-1;r.q=i(r.q.trim());const l=_.map(t.offline.storage.offlineMeta[n].searchFields,e=>o||a(e)?`${e.name} ${o?"GLOB":"LIKE"} '${r.q+(o?"*":"%")}'`:`${e.name} ='${r.q}'`).join(" OR ");return l?`(${l})`:""};d.buildFilterQuery=function e(n,i){if(!i){return}const a=new t.offline.SqlFilterBuilder(n);const r=a.buildSql(i);const s=a.getExtractedFields();return{sql:r,fields:s}};d.buildOrderBy=((e,n={})=>{if(!n.order_by){return"_client_date_modified DESC"}let i=n.order_by.replace(/\b(?!_client_)date_modified\b/g,"_client_date_modified").replace(/\bemail\b/g,"email1");const a=/\bname\b/g;if(a.test(i)){const n=t.metadata.getModule(e,"fields").name;const r=n.sort_on||n.sort_on2;if(n&&r){i=i.replace(a,r)}}return i.replace(/:/g," ")});d.relationships={getCreateSchemaStatements(e){const n=[];const i=t.offline.storage.offlineMeta.modules;const a=_.map(i,(e,t)=>t.toLowerCase());_.each(e,function e(r){if(r.type===t.offline.storage.RelTypes.MANY_TO_MANY){if(!_.contains(a,r.relationshipTable.toLowerCase())){n.push(t.utils.formatString('DROP TABLE IF EXISTS "{0}"',[r.relationshipTable]))}if(!(i[r.parentModule]&&i[r.childModule])||r.parentIdColumn===r.childIdColumn){return}const e=[];const s=r.additionalColumns;if(!_.isEmpty(s)){_.each(s,(n,i)=>{e.push(t.utils.formatString('"{0}" TEXT COLLATE NOCASE',[i]))},this)}if(r.primaryFlagModule){e.push('"primary_flag" INTEGER DEFAULT 0')}let o='CREATE TABLE "{0}" ("{1}" TEXT COLLATE NOCASE, "{2}" TEXT COLLATE NOCASE, "_client_date_modified" TEXT COLLATE NOCASE, "_deleted" INTEGER DEFAULT 0,{3} PRIMARY KEY ("{1}","{2}"))';o=o.replace(/\{0\}/g,r.relationshipTable);o=o.replace(/\{1\}/g,r.parentIdColumn);o=o.replace(/\{2\}/g,r.childIdColumn);o=o.replace(/\{3\}/g,_.isEmpty(e)?"":`${e.join()},`);n.push(o)}},this);n.push(...u(e));return n},_getRelColumnsAliasSql(e){let n="";if(!_.isEmpty(e.additionalColumns)){n+=",";const i=[];_.each(e.additionalColumns,(e,n)=>{i.push(t.utils.formatString("r.{0} AS {1}",[n,e]))},this);n+=i.join(",")}return n},buildSqlSelectSingleRelated(e,n){const i=t.offline.storage.getRelationshipByLink(e,n.link);const a=i.type;if(a===t.offline.storage.RelTypes.MANY_TO_MANY){const e=this._getRelColumnsAliasSql(i);let a=t.utils.formatString('SELECT d.*,r.*{0} FROM {1} AS d JOIN {2} AS r ON (d.id=r.{3} AND r.{5}="{6}") WHERE (d._deleted=0 AND r._deleted=0 AND d.id="{4}")',[e,n.relatedModule,i.relationshipTable,i.childIdColumn,n.relatedId,i.parentIdColumn,n.id]);if(i.singleModule){const r=t.utils.formatString('SELECT d.*,r.*{0} FROM {1} AS d JOIN {2} AS r ON (d.id=r.{3} AND r.{5}="{6}") WHERE (d._deleted=0 AND d.id="{4}")',[e,n.relatedModule,i.relationshipTable,i.parentIdColumn,n.relatedId,i.childIdColumn,n.id]);a=`${a} UNION ${r}`}return a}return t.utils.formatString('SELECT * FROM {0} WHERE id="{1}" AND _deleted=0',[n.relatedModule,n.relatedId])},buildSqlSelectManyRelated(e,n,i){const a=t.offline.storage.getRelationshipByLink(e,n.link);const r=t.offline.storage.RelTypes;let s;let o;if(a.type===r.MANY_TO_MANY){const e=`(r._deleted=0 AND d._deleted=0 AND r.{4}="{5}")${n.relatedIds?` AND (d.id IN ("${n.relatedIds.join('","')}")) `:""}`;const r=this._getRelColumnsAliasSql(a);const l=d.buildWhere(a.childModule,i,{andSql:e});const c=`SELECT d.*,r.*{6} FROM {0} AS r JOIN {1} AS d ON r.{2}=d.id ${l}`;o=a.parentModule;s=t.utils.formatString(c,[a.relationshipTable,o,a.childIdColumn,a.childIdColumn,a.parentIdColumn,n.id,r]);if(a.singleModule){o=a.childModule;const e=t.utils.formatString(c,[a.relationshipTable,o,a.parentIdColumn,a.childIdColumn,a.childIdColumn,n.id,r]);s+=` UNION ${e}`}}else if(a.type===r.ONE_TO_MANY||a.type===r.ONE_TO_MANY_BY_ROLE_COLUMN){const e="SELECT * FROM {0} ";let r=`({1}="{2}" AND _deleted=0)${n.relatedIds?` AND (id IN ("${n.relatedIds.join('","')}")) `:""}`;let l="";_.each(a.roleColumns,(e,t)=>{l+=`"${t}"="${e}" `});if(l){r+=` AND ${l}`}const c=d.buildWhere(a.childModule,i,{andSql:r});o=a.childModule;s=t.utils.formatString(e+c,[o,a.parentIdColumn,n.id])}if(!n.relatedIds){const e=i.offset||0;const n=i.max_num||t.config.maxQueryResult;const l=a.type===r.MANY_TO_MANY?d.buildOrderBy(o,i.order_by?i:{order_by:"d._client_date_modified:DESC, d._last_fetched:ASC"}):d.buildOrderBy(o,i);s+=` ORDER BY ${l} LIMIT ${e},${n}`}return s},buildSqlReplaceRelationship(e,n,i){i=i||{};const a=n.relDef||t.offline.storage.getRelationshipByLink(e,n.link);const r=a.type;if(r===t.offline.storage.RelTypes.ONE_TO_MANY||r===t.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){if(!n.id||i.skipUpdateRelRecord){return}let s=i.ts?t.utils.formatString(', _client_date_modified="{0}"',[i.ts]):"";const o=a.parentNameFieldDef;if(o&&n.related&&_.isEmpty(n.related[o.name])){s+=t.utils.formatString(', {0}=(SELECT {1} FROM {2} WHERE id="{3}")',[o.name,"name",e,n.id]);if(_.isEmpty(n.related.parent_type)&&r===t.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){s+=t.utils.formatString(', parent_type="{0}"',[e])}}return t.utils.formatString('UPDATE {0} SET {1}="{2}"{3} WHERE id="{4}"',[a.childModule,a.parentIdColumn,n.id,s,n.relatedId])}const s='REPLACE INTO "{0}" ({1}) VALUES ({2})';const o=[];let l;l=[a.parentIdColumn,a.childIdColumn,"_client_date_modified","_deleted"];if(!n.id&&a){n.id=n.related[a.parentIdColumn]}if(!n.id){return}let c=[n.id,n.relatedId,i.ts||t.utils.getTimestamp(),0];_.each(a.additionalColumns,(e,t)=>{if(n.related&&!_.isEmpty(n.related[e])){l.push(t);c.push(n.related[e])}});if(a.primaryFlagModule){if(n.id){l.push("primary_flag");c.push(1);o.push({sql:t.utils.formatString('UPDATE "{0}" SET "{3}"={4} WHERE {1}="{2}"',[a.relationshipTable,a.childIdColumn,n.relatedId,"primary_flag","0"])})}}l=`"${l.join('","')}"`;c=`"${c.join('","')}"`;if(a.originalType===t.offline.storage.RelTypes.ONE_TO_MANY){o.push({sql:t.utils.formatString('DELETE FROM "{0}" WHERE {1}="{2}"',[a.relationshipTable,a.childIdColumn,n.relatedId])})}else if(a.originalType===t.offline.storage.RelTypes.ONE_TO_ONE){o.push({sql:t.utils.formatString('DELETE FROM "{0}" WHERE {1}="{2}"',[a.relationshipTable,a.parentIdColumn,n.id])})}o.push({sql:t.utils.formatString(s,[a.relationshipTable,l,c])});if(t.offline.storage._shouldCustomRelUpdateChild(a,i)){const e=a.primaryFlagModule?t.metadata.getModule(a.primaryFlagModule):null;const i=e?t.data.getRelateFields(a.primaryFlagModule,a.link)[0]:t.data.getRelateFields(a.childModule,a.name)[0];if(i){[].push.apply(o,this.buildCustomRelUpdateChild(i,a,n,false))}}return o},buildDeleteRelationship(e,n,i){i=i||{};const a=n.relDef||t.offline.storage.getRelationshipByLink(e,n.link);const r=a.type;let s;if(r===t.offline.storage.RelTypes.ONE_TO_MANY||r===t.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){if(i.skipUpdateRelRecord){return}const e=i.ts?`,_client_date_modified="${i.ts}"`:"";if(r===t.offline.storage.RelTypes.ONE_TO_MANY){const e=a.parentNameFieldDef;if(e){s=`UPDATE {0} SET {1}=NULL, ${e.name}=NULL {3} WHERE id="{2}"`}else{s='UPDATE {0} SET {1}=NULL {3} WHERE id="{2}"'}}else{s='UPDATE {0} SET parent_type=NULL, parent_name=NULL, {1}=NULL {3} WHERE id="{2}"'}return t.utils.formatString(s,[a.childModule,a.parentIdColumn,n.relatedId,e])}const o=[];if(!n.id&&a){n.id=n.related[a.parentIdColumn]||i.initialState&&i.initialState[a.parentIdColumn]}if(!n.id){return}if(a.singleModule){let e;if(i.hardDelete){s='DELETE FROM {0} WHERE (({1}="{2}" AND {3}="{4}") OR ({3}="{2}" AND {1}="{4}"))';e=s.replace(/\{0\}/g,a.relationshipTable).replace(/\{1\}/g,a.parentIdColumn).replace(/\{2\}/g,n.id).replace(/\{3\}/g,a.childIdColumn).replace(/\{4\}/g,n.relatedId)}else{s='UPDATE {0} SET _deleted=1,_client_date_modified="{5}" WHERE (({1}="{2}" AND {3}="{4}") OR ({3}="{2}" AND {1}="{4}"))';e=s.replace(/\{0\}/g,a.relationshipTable).replace(/\{1\}/g,a.parentIdColumn).replace(/\{2\}/g,n.id).replace(/\{3\}/g,a.childIdColumn).replace(/\{4\}/g,n.relatedId).replace(/\{5\}/g,i.ts||t.utils.getTimestamp())}return e}const l=a.primaryFlagModule?", primary_flag=0":"";s=i.hardDelete?'DELETE FROM {0} WHERE {1}="{2}" AND {3}="{4}"':`UPDATE {0} SET _deleted=1${l},_client_date_modified="{5}" WHERE {1}="{2}" AND {3}="{4}"`;o.push({sql:t.utils.formatString(s,[a.relationshipTable,a.parentIdColumn,n.id,a.childIdColumn,n.relatedId,i.ts||t.utils.getTimestamp()])});if(a.primaryFlagModule){o.push({sql:'UPDATE {0} SET primary_flag=1 WHERE {1}="{2}" AND _client_date_modified=(SELECT MAX(_client_date_modified) FROM {0} WHERE {1}="{2}" AND _deleted=0)'.replace(/\{0\}/g,a.relationshipTable).replace(/\{1\}/g,a.childIdColumn).replace(/\{2\}/g,n.relatedId)})}if(t.offline.storage._shouldCustomRelUpdateChild(a,i)){const e=a.primaryFlagModule?t.data.getRelateFields(a.primaryFlagModule,a.link)[0]:t.data.getRelateFields(a.childModule,a.name)[0];if(e){[].push.apply(o,this.buildCustomRelUpdateChild(e,a,n,true))}}return o},buildCustomRelUpdateChild(e,n,i,a){const r=n.originalType===t.offline.storage.RelTypes.ONE_TO_ONE;let s;let o;let l;let c;let u;let d;let f;const p=[];if(r){s=n.parentIdColumn;o=n.childIdColumn;l=n.childModule;c=n.parentModule;u=a?"":i.relatedId;d=i.id}else{s=n.childIdColumn;o=i.relatedModule?n.parentIdColumn:n.childIdColumn;l=n.parentModule;c=n.childModule;u=a?"":i.id;d=i.relatedId}f=a?"''":t.utils.formatString("(SELECT name FROM {0} WHERE id='{1}')",[c,u]);const h="UPDATE {0} SET {1}={2}, {3}='{4}' WHERE id='{5}'";if(r&&!a){const n="(SELECT {0} FROM {1} WHERE id='{2}')";const i="UPDATE {0} SET {1}={2}, {3}='{4}' WHERE id={5}";const a=t.utils.formatString(n,[o,l,d]);const r=t.utils.formatString(n,[s,c,u]);const f=t.utils.formatString(n,["name",c,u]);p.push({sql:t.utils.formatString(i,[c,e.name,"''",s,"",a])});p.push({sql:t.utils.formatString(i,[l,e.name,"''",o,"",r])});p.push({sql:t.utils.formatString(h,[l,e.name,f,o,u,d])})}else if(n.primaryFlagModule){u=t.utils.formatString('(SELECT {0} FROM {1} WHERE {2}="{3}" AND primary_flag=1 AND _deleted=0)',[o,n.relationshipTable,n.childIdColumn,i.relatedId]);f=t.utils.formatString("(SELECT name FROM {0} WHERE id={1})",[e.module,u]);const a="UPDATE {0} SET {1}={2} WHERE id='{3}'";const r="UPDATE {0} SET {1}={2} WHERE id='{3}' AND {4}";const s=t.utils.formatString("EXISTS (SELECT id FROM {0} WHERE id={1})",[c,u]);p.push({sql:t.utils.formatString(r,[l,e.name,f,d,s])});p.push({sql:t.utils.formatString(a,[l,o,u,d])})}else{p.push({sql:t.utils.formatString(h,[l,e.name,f,o,u,d])})}return p},buildSqlUpdateChildren(e,n){const a=[];const r=t.offline.storage._getModuleRelationships(e);const s=_.filter(r,n=>n.type!==t.offline.storage.RelTypes.MANY_TO_MANY&&n.parentModule===e,this);_.each(s,e=>{if(e.parentNameFieldDef){a.push(t.utils.formatString("UPDATE {0} SET {1}='{2}' WHERE {3}='{4}'",[e.childModule,e.parentNameFieldDef.name,i(n.name),e.parentIdColumn,n.id]))}},this);if(t.supportedFeatures.emails){a.push(`UPDATE EmailParticipants SET parent_name="${i(n.name)}" WHERE parent_id="${n.id}"`)}return a.length>0?a:null},buildSqlCleanRelationships(e,n,i){i=i||{};const a={};const r=[];let s;let o;const l=t.offline.storage._getModuleRelationships(e);_.each(l,l=>{if(l.type===t.offline.storage.RelTypes.MANY_TO_MANY){const e=l.relationshipTable;s=l.parentIdColumn;r.push(t.utils.formatString('DELETE FROM {0} WHERE {1}="{2}"',[e,s,n.id]))}else{if(i.skipOneToManyChildren){return}if(l.parentModule===e){const{childModule:e}=l;s=l.parentIdColumn;o=t.metadata.getModule(e);if(o.fields[s]){a[e]=a[e]||{};a[e][s]="parent_id"}}}},this);_.each(a,(e,n)=>{const i=t.metadata.getModule(n).fields;_.each(e,(i,a)=>{const r=t.data.getRelatedNameField(n,a);if(r){e[r.name]="parent_name"}});const a=_.keys(e);if(_.contains(a,"parent_id")&&_.contains(a,"parent_name")&&i.parent_type){e.parent_type="parent_type"}});_.each(a,(e,i)=>{let a=[];let s=[];const o="UPDATE {0} SET {1} WHERE {2}";_.each(e,(e,t)=>{a.push(`${t}=NULL`);if(e==="parent_id"){s.push(`${t}="${n.id}"`)}});a=a.join(",");s=s.join(" OR ");r.push(t.utils.formatString(o,[i,a,s]))});return r}};d.init=(e=>{});d.getDropTableStatement=(e=>`DROP TABLE "${e}"`);d.getSelectTablesStatement=(()=>"SELECT tbl_name FROM sqlite_master WHERE type='table' AND tbl_name<>'__WebKitDatabaseInfoTable__'");d.getDropTableStatements=(e=>_.map(e,e=>d.getDropTableStatement(e)));d.getAlterTableStatement=((e,n)=>{const i=n.name;const a=d.getSqlTypeByMetaType(n.type);return t.utils.formatString('ALTER TABLE {0} ADD COLUMN "{1}" {2}',[e,i,a])});d.getResetDateModifiedStatement=((e,n)=>t.utils.formatString('UPDATE {0} SET _client_date_modified=date_modified WHERE id="{1}"',[e,n.id]));d.getStatsRetrieveStatements=(e=>{const t=`(SELECT COUNT(*) FROM {0}) AS {0}${e.includeRecents?",(SELECT COUNT(*) FROM {0} JOIN _view_dates ON {0}.id=_view_dates.bean_id) AS {0}_Viewed":""}`;const n=_.map(e.modules,e=>t.replace(/\{0\}/g,e));return`SELECT ${n.join(", ")}`});d.transactionLog={getCreateSchemaStatements(){const e=[];e.push('DROP TABLE IF EXISTS "_tx_log"');e.push('CREATE TABLE "_tx_log" ("_tx_uid" TEXT COLLATE NOCASE PRIMARY KEY, "_tx_action" INTEGER, "_tx_ts" TEXT COLLATE NOCASE, "_tx_bean_id" TEXT COLLATE NOCASE,"_tx_bean_module" TEXT COLLATE NOCASE, "_tx_related_id" TEXT COLLATE NOCASE, "_tx_related_module" TEXT COLLATE NOCASE, "_tx_updated_fields" TEXT COLLATE NOCASE, "_tx_link" TEXT COLLATE NOCASE, "_tx_error" TEXT COLLATE NOCASE, "_tx_error_count" INTEGER DEFAULT 0)');e.push("DROP INDEX IF EXISTS _tx_log_ts_IDX");e.push('CREATE INDEX _tx_log_ts_IDX ON "_tx_log" ("_tx_ts")');e.push("DROP INDEX IF EXISTS _tx_log_bean_id_IDX");e.push('CREATE INDEX _tx_log_bean_id_IDX ON "_tx_log" ("_tx_bean_id" COLLATE NOCASE)');return e},getCountAssociatedTransactionsStatements(e){return t.utils.formatString('SELECT COUNT(*) AS count FROM _tx_log WHERE _tx_bean_id="{0}" AND _tx_uid!="{1}"',[e._tx_bean_id,e._tx_uid])},getReadTransactionsStatements(e){let n="ORDER BY ";if(e.errFirst){n+='"_tx_error_count" = 0, '}n+=`"_tx_ts" ${e.dateAsc?"ASC":"DESC"}`;return t.utils.formatString('SELECT * FROM "_tx_log" {0} LIMIT ?,?',[n])},sqlTxLogAction:'INSERT INTO "_tx_log" ("_tx_action", "_tx_ts", "_tx_bean_id", "_tx_bean_module", "_tx_related_id", "_tx_related_module", "_tx_updated_fields", "_tx_uid", "_tx_link") VALUES (?,?,?,?,?,?,?,?,?)',updateTransaction(e,n){const i=[];_.each(n,(e,t)=>{i.push(`${t}='${e}'`)});return t.utils.formatString(`UPDATE _tx_log SET ${i.join(",")} WHERE _tx_uid='{0}'`,[e])},getTxLog:'SELECT * FROM "_tx_log" WHERE _tx_uid = ?',_deleteTransaction:"DELETE FROM _tx_log WHERE _tx_uid = ?",clearTransactionLog:"DELETE FROM _tx_log",readFileTransactions(e,t,n){const i=t.field||n.field;return`SELECT * FROM _tx_log WHERE _tx_bean_id=? AND _tx_updated_fields LIKE '{"${i}"%' ORDER BY _tx_ts ASC`},clearFileTransactions(e,t,n){const i=t.field||n.field;return`DELETE FROM _tx_log WHERE _tx_bean_id=? AND _tx_updated_fields LIKE '{"${i}"%'`},countTransactions:`SELECT (SELECT COUNT(*) FROM _tx_log WHERE _tx_error in (${t.offline.TransactionStatuses.UNRECOVERABLE.join(",")})) AS failedTransactions, (SELECT COUNT(*) FROM _tx_log) AS totalTransactions`};d.lastViewed={buildRead(e){return`SELECT * FROM "_view_dates" ORDER BY "date_last_viewed"${e?"":"DESC"} LIMIT ?`},buildReadForRecords(e){return`SELECT * FROM "_view_dates" WHERE "bean_id" IN ("${e.join('","')}")`},buildReadForModule(e){return`SELECT "${e}".*, "_view_dates"."date_last_viewed" as "_last_viewed_date" FROM "${e}" INNER JOIN "_view_dates" ON "_view_dates"."bean_id" = "${e}"."id" WHERE _deleted=0 ORDER BY "_view_dates"."date_last_viewed" DESC LIMIT ?`},getCreateSchemaStatements(){const e=[];e.push('DROP TABLE IF EXISTS "_view_dates"');e.push('CREATE TABLE "_view_dates" ("bean_id" TEXT COLLATE NOCASE PRIMARY KEY, "bean_module" TEXT COLLATE NOCASE, "date_last_viewed" TEXT COLLATE NOCASE)');return e},buildReplace(e,n,i){const a=i.ts||t.utils.getTimestamp();const r=_.isArray(n)?_.map(n,e=>`("${e.id}","${e.module}","${e.ts||a}")`).join():`("${n.id}","${e}","${a}")`;return`REPLACE INTO "_view_dates" ("bean_id","bean_module", "date_last_viewed") VALUES ${r}`},buildDelete(e){e=_.map(e,e=>`'${e.id}'`);return`DELETE FROM _view_dates WHERE bean_id IN (${e.join()})`},buildFindViewedBefore(e,{expirationDate:n,includeUserRecords:i,limit:a}){const r=t.user.get("id");let s=`SELECT name, id FROM ${e} AS d LEFT JOIN _view_dates AS v on d.id=v.bean_id`;if(n){s+=` WHERE (v.date_last_viewed IS NULL OR v.date_last_viewed < "${n}")`}if(!i){s+=` AND my_favorite = 0 AND following = 0 AND assigned_user_id <> "${r}"`}s+=" ORDER BY v.date_last_viewed ASC";if(a){s+=` LIMIT ${a}`}return s},buildCleanupMyModule(e){return t.utils.formatString('DELETE FROM _view_dates WHERE bean_module="{0}"',[e])}};d.sync={getCreateSchemaStatements(){const e=[];e.push('DROP TABLE IF EXISTS "_to_be_synced"');e.push('CREATE TABLE "_to_be_synced" ("bean_id" TEXT COLLATE NOCASE PRIMARY KEY, "bean_module" TEXT COLLATE NOCASE, "action" TEXT COLLATE NOCASE)');return e},getMarkToBeSyncedSql(e,n){return t.utils.formatString('REPLACE INTO "_to_be_synced" ("bean_id","bean_module", "action") VALUES ("{0}","{1}","{2}")',[n.record.id,e,n.action])},getResetToBeSyncedSql(e,t){const n=_.pluck(t.records,"id");return`DELETE FROM "_to_be_synced" WHERE "bean_id" IN ("${n.join('","')}")`},getReadToBeSyncedSql(e,n,i){let a=t.utils.formatString('SELECT * FROM "_to_be_synced" WHERE bean_module="{0}" ORDER BY bean_id',[e]);if(!_.isUndefined(i.offset)){a+=t.utils.formatString(" LIMIT {0},{1}",[i.offset,i.max_num])}return a}};d.files={getStorageStatements(){return["DROP TABLE IF EXISTS _files_storage","CREATE TABLE _files_storage (id text PRIMARY KEY, module TEXT, record_id TEXT, field TEXT, file_name TEXT, extra_data TEXT, fs_entry TEXT, date_modified TEXT)"]},readFileByField(e,t,n){const i=n.field||t.field;return`SELECT * FROM _files_storage WHERE record_id=?${i?` AND field="${i}"`:""}`},readFileByFsName(e){return"SELECT * FROM _files_storage WHERE file_name=?"},saveFile(e){return"INSERT INTO _files_storage (id, module, record_id, field, file_name, extra_data, fs_entry, date_modified) VALUES (?, ?, ?, ?, ?, ?, ?, ?)"},deleteFilesForField(e){return"DELETE FROM _files_storage WHERE record_id=? AND field=?"},getFileList(e){return"SELECT file_name FROM _files_storage"}};d.upgrade={getUpgrade1Sql(e){const n=[];_.each(e.relationships,e=>{if(e.primary_flag_column){n.push(t.utils.formatString('ALTER TABLE {0} ADD COLUMN "primary_flag" INTEGER DEFAULT 0',[e.join_table]))}});Array.prototype.push.apply(n,d.sync.getCreateSchemaStatements());return n},getUpgrade3Sql(e){const n=[];const i=function(e,i){n.push(o(i,"date_modified"));const r=_.pluck(t.offline.storage.offlineMeta[i].searchFields,"name");_.each(e.fields,e=>{if(!e){return}let t=false;if(e.unified_search){t=!(_.contains(r,e.name)&&a(e))}if(e.name==="name"&&!_.contains(r,"name")){t=true}if(t){n.push(o(i,e.name))}})};_.each(e.modules,(e,t)=>{i(e,t);n.push(...l(t,e));n.push(...c(t))});n.push(...u(t.offline.storage.offlineMeta.relationships));n.push("ANALYZE");return n},getUpgrade4Sql(e,n){const i=JSON.stringify([]);const a=[];_.each(e.modules,(e,r)=>{const s=n.modules[r]&&t.offline.isModuleOfflineEnabled(r);if(s){a.push(`ALTER TABLE ${r} ADD COLUMN "_erased_fields" TEXT DEFAULT "${i}"`,`UPDATE ${r} SET _erased_fields="${i}"`)}});return a},getUpgrade5Sql(e,t){return d.files.getStorageStatements()}};d.dbSchema={getTables(){return['SELECT name, sql FROM sqlite_master WHERE type="table"']},getTableInfo(e){return`PRAGMA table_info("${e}")`}};const f=(e,{parentModule:n,collectionField:i,limit:a})=>{const r=t.metadata.getModule(n);const s=r.fields[i];let o;_.each(s.links,i=>{const a=t.offline.storage.getRelationshipByLink(n,i.name);if(a&&a.type===t.offline.storage.RelTypes.MANY_TO_MANY){o=`SELECT DISTINCT id FROM (SELECT m.id, r.${a.childIdColumn} AS relId, p.id AS pId FROM ${e} m LEFT JOIN ${a.relationshipTable} r ON m.id = relId LEFT JOIN ${n} p ON r.${a.parentIdColumn} = p.id WHERE relId IS NULL OR pId IS NULL)`}});return o};d.cleanUp={EmailParticipants:{unlinkedRecords(e){let t="SELECT id FROM EmailParticipants WHERE email_id IS NULL OR email_id NOT IN (SELECT id FROM Emails)";if(e.limit){t+=` LIMIT ${e.limit}`}return t}},ProductBundles:{unlinkedRecords:f},Products:{unlinkedRecords:f},ProductBundleNotes:{unlinkedRecords:f}};t.offline.SqlHelper=d})(SUGAR.App)},function(e,t,n){const i=n(55);(function e(t){let n={};let a={};let r;const s=["email","teamset","multienum","metadata","json","tag"];const o=_.chain(["id","date","datetime","datetimecombo"]).union(s).without("email").value();let l;const c=function(){l={};const e=t.metadata.getModules();_.each(e,(e,t)=>{const n=_.filter(e.fields,e=>e.type==="bool");if(!_.isEmpty(n)){l[t]=_.pluck(n,"name")}})};const u=function(e,t){_.each(e,e=>{const n=l[t];if(n){_.each(n,t=>{if(!_.isUndefined(e[t])){e[t]=Boolean(e[t])}})}})};const d=function(e){return _.any(e,e=>_.isArray(e.sql)?d(e.sql):/^\s*(UPDATE|INSERT|REPLACE)/i.test(e.sql))};const f=function(e){return _.isEmpty(e)||_.isEmpty(e.fields)&&_.isEqual(_.keys(e),["fields"])};const p=function(e,n){if(e.code===4){return t.offline.Error.OutOfSpaceError}return new t.offline.Error(e.code,e.message,null,e,n)};const h=function(e,n,i,r){const s=r[n];if(n==="_acl"){e=f(e)?null:JSON.stringify(e)}else if(n==="_deleted"){e=e==1?1:0}else if(_.isUndefined(e)){e=null}else if(_.isBoolean(e)){e=e?1:0}else if(_.contains(a[i],n)){e=JSON.stringify(e)}else if(n==="_client_date_modified"||e&&s&&(s.type==="datetime"||s.type==="datetimecombo")&&!isNaN(Date.parse(e))){e=t.utils.getTimestamp(e)}if(s&&(e||e===0)&&t.offline.SqlHelper.getSqlTypeByMetaType(s.type)===t.offline.SqlHelper.DEFAULT_TEXT_COLUMN_TYPE){e=String(e)}return e};const m=function(e,i){const a=[i.id,i._client_date_modified?t.utils.getTimestamp(i._client_date_modified):undefined,i._deleted==1?1:0,f(i._acl)?null:JSON.stringify(i._acl),JSON.stringify(i._erased_fields||[])];const r=t.metadata.getModule(e).fields;_.each(n[e].fields,t=>{a.push(h(i[t.name],t.name,e,r))});return a};const g=e=>{_.each(e,e=>{if(e){try{e.extraData=JSON.parse(e.extra_data);delete e.extra_data;e.fsEntry=JSON.parse(e.fs_entry);delete e.fs_entry;e.uri=e.fsEntry.url}catch(e){}}});return e};_.extend(t.offline.storage,{_version:"6.0",_getValues:m,_getValue:h,_init(){n={};a={};t.offline.SqlHelper.init(this.offlineMeta);_.each(this.offlineMeta.modules,function e(i,r){n[r]=new t.offline.SqlHelper(r,i,this.offlineMeta[r].fields);a[r]=["_erased_fields"];_.each(i.fields,e=>{if(_.contains(s,e.type)){a[r].push(e.name)}})},this);c()},convertFilter(e,n){return t.offline.SqlHelper.buildFilterQuery(e,n)},getSqlStorageVersion(){return this._version},openDb(e,n,i){if(this.__db){return this.__db}this._db=this._openDb(e,n,i);if(this._db){r=e}else{throw new Error("`openDatabase` returned nothing")}t.logger.debug(`Opened database ${e} ${n} (${i} bytes)`);return this._db},_openDb(e,n,i){if(t.config.offline.storageAdapter==="native"){return window.sqlitePlugin.openDatabase({name:e,bgType:1,encrypt:t.config.offline.dbEncryptionEnabled})}return window.openDatabase(e,n,e,i)},migrate(e,t,n={}){this.getCurrentDbSchema().then(i=>this.performMigrationTasks(e,t,i,n),n.error)},getCurrentDbSchema(){const{SqlHelper:e}=t.offline;return new Promise((n,i)=>{this._execRawStatements(e.dbSchema.getTables(),(a=[])=>{const r={};const s=this._recordSetToArray(a[0]);if(t.isNative){const t=_.map(s,({name:t})=>e.dbSchema.getTableInfo(t));this._execRawStatements(t,e=>{_.each(e,(e,t)=>{r[s[t].name]=_.pluck(this._recordSetToArray(e),"name")});n(r)},i)}else{_.each(s,({name:e,sql:t})=>{const n=/"(.*?)"/gm;r[e]=[];let i=n.exec(t);while(i){r[e].push(i[1]);i=n.exec(t)}});n(r)}},i)})},performMigrationTasks(e,a,r,s={}){const o=this;const l=[];let c=false;let u=false;let d=false;const f=_.isObject(a)?a:{modules:{},relationships:{},serverInfo:{}};const p=t.offline.storage.basicOfflineFields.map(e=>e.name);o.init(e);if(s.forceDrop||_.isEmpty(a)||f._userId!==t.user.get("id")||e.relationships._hash!==f.relationships._hash||f.siteUrl!==t.utils.stripHttpPrefix(t.config.siteUrl)){c=true;u=true;d=true;o._migrationSummary={storageRebuilt:true};_.each(e.modules,(e,i)=>{if(t.offline.isModuleOfflineEnabled(i)){l.push(n[i].getSchema(i,e))}})}else if(e._hash!==f._hash||s.isModulesConfigChanged){const i=_.filter(_.keys(f.modules),e=>t.offline.isModuleOfflineEnabled(e));const a=_.filter(_.keys(e.modules),e=>t.offline.isModuleOfflineEnabled(e));const s=[];const o=[];_.each(i,e=>{if(!_.contains(a,e)){s.push(e);l.push(t.offline.SqlHelper.getDropTableStatement(e));l.push(t.offline.SqlHelper.lastViewed.buildCleanupMyModule(e));c=true}},this);_.each(a,t=>{if(!_.contains(i,t)){o.push(t);l.push(n[t].getSchema(t,e.modules[t]));c=true}},this);_.each(e.modules,(n,i)=>{if(_.contains(o,i)||_.contains(s,i)){return}if(f.modules[i]._hash!==n._hash&&n.fields._hash!==f.modules[i].fields._hash){const n=_.difference(_.keys(e.modules[i].fields),_.keys(f.modules[i].fields));const a=r[i]||[];_.each(n,n=>{const r=e.modules[i].fields[n];if(_.isEmpty(r.name)||r.name.toLowerCase()==="id"||_.contains(a,r.name)){return}if(p.indexOf(r.name)!==-1){return}l.push(t.offline.SqlHelper.getAlterTableStatement(i,r))})}},this)}if(c){t.offline.storage.prepareOfflineRelationships(e.relationships);l.push(t.offline.SqlHelper.relationships.getCreateSchemaStatements(this.offlineMeta.relationships))}if(u){l.push(t.offline.SqlHelper.transactionLog.getCreateSchemaStatements())}if(d){l.push(t.offline.SqlHelper.lastViewed.getCreateSchemaStatements())}l.push(t.offline.SqlHelper.sync.getCreateSchemaStatements());l.push(t.offline.SqlHelper.files.getStorageStatements());if(l.length===0){t.logger.debug("No actual migration required");return s.success()}this._execRawStatements(_.flatten(l),()=>i.clear().then(s.success),e=>{if(s.error){s.error(e)}})},isEncryptionSupported(){return _.isFunction(this._db.encrypt)},encrypt(e,t){this._db.encrypt(e,t)},_upgrade:{1:t.offline.SqlHelper.upgrade.getUpgrade1Sql,3:t.offline.SqlHelper.upgrade.getUpgrade3Sql,4:t.offline.SqlHelper.upgrade.getUpgrade4Sql,5:t.offline.SqlHelper.upgrade.getUpgrade5Sql},_runUpgrade(e,t=_.noop,n=_.noop){this._execRawStatements(e,t,n)},_execRawStatements(e,n,i){const a=[];this._db.transaction(n=>{_.each(e,e=>{t.logger.trace(e);n.executeSql(e,null,(e,t)=>a.push(t))})},t=>{if(t.code===0){t.code=5}if(i){i(p(t),{transactionSql:e})}},()=>n(a))},_exec(e,n,i){let a=[];const r=[];let s;const o=this;_.each(e,e=>{const t=_.clone(e.data);const n=_.clone(e.options);const i=o._sqlHandlers[e.op](e.module,t,n);if(!i){return}if(!i.module&&e.options){if(e.options.relate&&e.op!=="readSingle"){i.module=e.data.relatedModule}else{i.module=e.module}}if(e.module){s=e.module}r.push(i)});if(t.config.offline.debug.outOfSpace&&d(r)){_.defer(()=>{if(i){i(p({code:4},{transactionSql:r}))}});return}this._db.transaction(n=>{_.each(r,(i,r)=>{const l=function(i){t.logger.trace(`Executing SQL: ${i.sql}`);t.logger.trace(`Params: ${i.params?i.params:"(no params)"}`);n.executeSql(i.sql,i.params,(t,n)=>{n=n?o._recordSetToArray(n,i.module||s):[];if(i.process){n=i.process(n)}if(i.module){n=_.map(n,e=>{e._module=i.module;return e})}const l=e[r]&&e[r].op;if(l==="readSingle"||l==="readSingleRelated"){u(n,i.module)}a=[...a,...n||[]]})};if(_.isArray(i.sql)){_.each(i.sql,l)}else{l(i)}})},e=>{if(i){i(p(e,{transactionSql:r}))}},()=>{if(a.length===1){a=a[0]}else if(a.length===0){a=null}n(a)})},_isOutOfSpace(e){const n=this;if(t.config.offline.debug.outOfSpace){_.defer(e,true);return}this._db.transaction(e=>{const t=n._sqlHandlers.updateTransaction("Module",{txLog:{_tx_uid:"tx_id",_tx_error_count:0}});t.sql+=" AND 1 <> 1";e.executeSql(t.sql,t.params)},t=>{e(t.code===4)},()=>{e(false)})},drop(e){const n=this;this._db.transaction(e=>{e.executeSql(t.offline.SqlHelper.getSelectTablesStatement(),null,(e,i)=>{const a=t.offline.SqlHelper.getDropTableStatements(_.map(n._recordSetToArray(i),e=>e.tbl_name));_.each(a,t=>{e.executeSql(t)})})},t=>{if(e){e(p(t))}},()=>{if(e){e()}})},_sqlHandlers:{readSingle(e,t,i){i=i||{};return n[e]?{sql:i.readDeleted?n[e].sqlSelectOneWithDeleted:n[e].sqlSelectOne,params:[t.id]}:null},search(e,t,i){const a=i.module_list.split(",");const r=[];_.each(a,e=>{r.push({sql:n[e].buildSqlSelectMany(i),params:null,module:e})});return{sql:r}},readSingleRelated(e,n,i={}){return{sql:t.offline.SqlHelper.relationships.buildSqlSelectSingleRelated(e,n,i),params:null}},readMany(e,t,i){return{sql:n[e].buildSqlSelectMany(i),params:null}},readManyRelated(e,n,i){return{sql:t.offline.SqlHelper.relationships.buildSqlSelectManyRelated(e,n,i),module:n.relatedModule,params:null}},readModuleRecords(e,t){return n[e]?{sql:n[e].buildSqlReadModuleRecordsByIds(t.id,t.fields),params:null}:null},createSingle(e,i,a){i.id=i.id||t.utils.generateUUID();const r=m(e,i);let s=[];const o=this.updateRelationships(e,i,a);s.push({sql:n[e].sqlCreate,params:r});if(!_.isEmpty(o)){s=[...s,...o]}return{sql:s}},resetDateModified(e,i){return n[e]?{sql:t.offline.SqlHelper.getResetDateModifiedStatement(e,i)}:null},updateValuesSingle(e,i,a){a=a||{};if(_.isEmpty(i.id)){t.error.throwErrorWithCallStack("Undefined id passed to updateValuesSingle")}if(_.isUndefined(n[e])){return null}const r=["id","_client_date_modified","_acl","_erased_fields"];_.each(n[e]?n[e].fields:[],e=>{r.push(e.name)});i=_.pick(i,r);const s=[];const o=[];const{id:l}=i;let c=[];const u=t.metadata.getModule(e).fields;const d=this.updateRelationships(e,i,a);const f=i.name;const p=_.getNested(a,"initialState.name",f);const m=f&&a.updateRelatedNames!==false&&f!==p;if(m){const n=t.offline.SqlHelper.relationships.buildSqlUpdateChildren(e,i);if(n){_.each(n,e=>{c.push({sql:e,params:null})})}}if(!_.isEmpty(d)){c=[...c,...d]}delete i.id;delete i._module;delete i._search;if(_.isEmpty(i)){return null}_.each(i,(t,n)=>{o.push(n);s.push(h(t,n,e,u))});s.push(l);c.push({sql:n[e].buildSqlUpdate(l,o),params:s});return{sql:c}},updateRelationships(e,n,i){const a=[];const r=t.metadata.getModule(e).fields;const s={};_.each(n,(e,n)=>{if(r[n]&&r[n].link&&r[r[n].link]){const i=t.metadata.getRelationship(r[r[n].link].relationship);if(i&&!s[i.name]){s[i.name]=i;s[i.name].create=Boolean(e)}}});_.each(s,r=>{const s=r.create?t.offline.SqlHelper.relationships.buildSqlReplaceRelationship:t.offline.SqlHelper.relationships.buildDeleteRelationship;const o=r.rhs_module===e?r.lhs_module:r.rhs_module;const l=t.offline.storage.offlineMeta.relationships[r.name];if(!l){return false}let c=s.call(t.offline.SqlHelper.relationships,o,{related:n,relatedId:n.id,relatedModule:e,relDef:l},_.extend({},i,{skipUpdateRelRecord:true}));if(c&&!_.isArray(c)){c=[{sql:c}]}if(!_.isEmpty(c)){_.each(c,e=>{a.push({sql:e.sql,params:null})})}},this);return a},hardDelete(e,i,a={}){const r=[];let s=[];i=_.isArray(i)?i:[i];if(!a.skipRelationshipsClean){s=_.reduce(i,(n,i)=>n.concat(_.map(t.offline.SqlHelper.relationships.buildSqlCleanRelationships(e,i,a),e=>({sql:e}))),[])}const o=_.pluck(i,"id");const l=r.concat({sql:n[e].buildSqlDelete(o)},s);return{sql:l}},softDeleteSingle(e,t){return{sql:n[e].sqlMarkDeleted,params:[t.id]}},resetDeletedSingle(e,t){return n[e]?{sql:n[e].sqlResetDeleted,params:[t.id]}:null},createLink(e,i,a){return n[e]?{sql:t.offline.SqlHelper.relationships.buildSqlReplaceRelationship(e,i,a),params:null}:null},deleteLink(e,i,a){return n[e]?{sql:t.offline.SqlHelper.relationships.buildDeleteRelationship(e,i,a),params:null}:null},readTransactions(e,n,i){if(n&&n.id){return{sql:t.offline.SqlHelper.transactionLog.getTxLog,params:[n.id]}}const a=[{sql:t.offline.SqlHelper.transactionLog.getReadTransactionsStatements(i),params:[i.offset||0,i.limit]}];if(i.count){a.push({sql:t.offline.SqlHelper.transactionLog.countTransactions})}return{sql:a}},readToBeSynced(e,n,i){return{sql:t.offline.SqlHelper.sync.getReadToBeSyncedSql(e,n,i),params:null}},markToBeSynced(e,n,i){return{sql:t.offline.SqlHelper.sync.getMarkToBeSyncedSql(e,n,i),params:null}},resetToBeSynced(e,n,i){return{sql:t.offline.SqlHelper.sync.getResetToBeSyncedSql(e,n,i),params:null}},createTransaction(e,n,i){return{sql:t.offline.SqlHelper.transactionLog.sqlTxLogAction,params:t.offline.storage.getCUTransactionParams(e,n,i)}},updateTransaction(e,n,i){let a;const r=n.txLog;const s=["_tx_updated_fields","_tx_error","_tx_error_count","_tx_ts"];if(i&&i.initialState){a=t.offline.storage.getCUTransactionParams(e,n.updatedFields,{action:r._tx_action,txId:r._tx_uid,initialState:i.initialState,relate:i.relate});r._tx_updated_fields=a[6]}return{sql:t.offline.SqlHelper.transactionLog.updateTransaction(r._tx_uid,_.pick(r,s))}},deleteTransaction(e,n,i){return{sql:t.offline.SqlHelper.transactionLog._deleteTransaction,params:[i.txId]}},readFileTransactions(e,n,i){return{sql:t.offline.SqlHelper.transactionLog.readFileTransactions(e,n,i),params:[n.id]}},clearFileTransactions(e,n,i){return{sql:t.offline.SqlHelper.transactionLog.clearFileTransactions(e,n,i),params:[n.id]}},clearTransactionLog(){return{sql:t.offline.SqlHelper.transactionLog.clearTransactionLog}},countAssociatedTransactions(e,n,i){return{sql:t.offline.SqlHelper.transactionLog.getCountAssociatedTransactionsStatements(i.txData)}},countTransactions(){return{sql:t.offline.SqlHelper.transactionLog.countTransactions}},readLastViewed(e,n,i){if(i.ids){return{sql:t.offline.SqlHelper.lastViewed.buildReadForRecords(i.ids)}}return{sql:t.offline.SqlHelper.lastViewed.buildRead(i.desc),params:[i.max_num]}},readRecents(e,n,i){return{sql:t.offline.SqlHelper.lastViewed.buildReadForModule(e),params:[i.max_num]}},updateLastViewed(e,n,i){return{sql:t.offline.SqlHelper.lastViewed.buildReplace(e,n,i)}},deleteLastViewed(e,n,i){n=_.isArray(n)?n:[n];return{sql:t.offline.SqlHelper.lastViewed.buildDelete(n)}},findViewedBefore(e,n,i){return{sql:t.offline.SqlHelper.lastViewed.buildFindViewedBefore(e,i)}},findUnlinkedEmailParticipants(e,n,i){const{cleanUp:a}=t.offline.SqlHelper;return{sql:a.EmailParticipants.unlinkedRecords(i)}},findUnrelatedRecords(e,n,i){const{cleanUp:a}=t.offline.SqlHelper;const r=a[e]&&a[e].unlinkedRecords(e,i);return r?{sql:r}:null},getStats(e,n,i){return{sql:t.offline.SqlHelper.getStatsRetrieveStatements(i)}},readFileByField(e,n,i){return{sql:t.offline.SqlHelper.files.readFileByField(e,n,i),params:[n.id],process:g}},readFileByFsName(e,n,i){return{sql:t.offline.SqlHelper.files.readFileByFsName(),params:[i.fsName],process:g}},saveFile(e,n,i){const a=i.files.fileData;const r=_.omit(n.fileStorageEntry,"binary");const s=_.omit(a,"binary");return{sql:t.offline.SqlHelper.files.saveFile(),params:[t.utils.generateUUID(),e,n.id,n.field,r.name,JSON.stringify(s),JSON.stringify(r),t.utils.getTimestamp(new Date)],process:g}},deleteFilesForField(e,n,i){return{sql:t.offline.SqlHelper.files.deleteFilesForField(),params:[n.id,n.field]}},getFileList(){return{sql:t.offline.SqlHelper.files.getFileList()}}},_deserialize(e,t){const n=_.clone(e);_.each(n,(e,i)=>{if(_.isString(e)&&e&&_.contains(a[t],i)){n[i]=JSON.parse(e)}});if(n._acl){n._acl=JSON.parse(n._acl)}return n},_recordSetToArray(e,t){const n=[];if(e){for(let i=0;i<e.rows.length;i++){n.push(this._deserialize(e.rows.item(i),t))}}return n},getDetails:function e(){const n=t.offline.storage.getDetails;return function e(){return _.extend(n(),{dbName:r})}}(),getOfflineModuleSearchFields:(()=>{const e=t.offline.storage.getOfflineModuleSearchFields;return function n(i,a){let r=e.call(this,i,a);if(r.length){let e;r=_.filter(r,n=>{if(n.type==="email"){a=a||t.metadata.get();e=a.modules[i].fields.email1;return false}return!_.contains(o,n.type)});if(e){r.push(e)}}return r}})()})})(SUGAR.App)},function(e,t,n){const i=n(55);(function e(t){t.offline.TxLogSyncExecutor=t.offline.SyncExecutor.extend({SYNC_ITERATION_COMPLETE_MESSAGE:"sync_iteration_complete",_immediateStop:false,_getBeanStub(e){return{id:e._tx_bean_id,module:e._tx_bean_module,related_id:e._tx_related_id,related_module:e._tx_related_module}},_sync(e){const n=this;const i=function(i){t.logger.debug("TxLogSync completed");if(i===n.SYNC_ITERATION_COMPLETE_MESSAGE){i=null}e(i)};const a=function(){if(n._immediateStop){n._immediateStop=false;t.logger.debug("TxLogSync interrupted");return i()}n._syncOldestTransaction(e=>{if(e){i(e)}else{a()}})};a()},_syncOldestTransaction(e){const n=this;t.offline.storage.readTransactions({limit:1,dateAsc:true,error:e,success(i){if(!i){return e(n.SYNC_ITERATION_COMPLETE_MESSAGE)}const a=n._getBeanStub(i);t.offline.storage.readSingleRawRecord(a.module,a,{success(r){r=r||{};const s=i._tx_updated_fields?JSON.parse(i._tx_updated_fields):{};let o={};if(i._tx_action!==t.offline.SyncActions.LINK&&i._tx_action!==t.offline.SyncActions.UNLINK){_.each(s,(e,t)=>{o[t]=e.after});if(i._tx_action!==t.offline.SyncActions.CREATE){o.date_modified=r.date_modified||t.utils.getTimestamp()}o.id=r.id||a.id}n._handleSyncTransaction(i,e,o);o={}},error:e})}})},_handleSyncTransaction(e,n,i){let a;const r={id:e._tx_bean_id,module:e._tx_bean_module,related_id:e._tx_related_id,related_module:e._tx_related_module};if(e._tx_action===t.offline.SyncActions.CREATE||e._tx_action===t.offline.SyncActions.LINK){a="create"}else if(e._tx_action===t.offline.SyncActions.UPDATE){a="update"}else if(e._tx_action===t.offline.SyncActions.DELETE||e._tx_action===t.offline.SyncActions.UNLINK){a="delete"}else if(e._tx_action===t.offline.SyncActions.FAVORITE){a="favorite"}else if(e._tx_action===t.offline.SyncActions.FOLLOW){a="follow"}else{throw new Error("Undefined action in transaction log!")}if(e._tx_related_id&&e._tx_related_module){this._syncRelationships(a,r,e,n,i)}else if(a==="favorite"){this._syncFavorite(a,r,e,n,i)}else if(a==="follow"){this._syncFollow(a,r,e,n,i)}else{this._syncRecords(a,r,e,n,i)}},_syncRecords(e,n,i,a,r){const s={};r=this._addXTimestampHeader(r,s);this._syncFiles(e,n,i,(o={})=>{if(o.error){return t.offline.storage.resolveError({error:o.error,updatedFields:r,txLog:i,callback:a})}if(o.field){delete r[o.field]}const l=_.keys(r);if(l.length===1&&l[0]==="id"){return t.offline.storage.resolveSuccess({module:n.module,transaction:i,serverData:o.record||n,callback:a})}t.offline.api.callOriginalApi("records",[e,n.module,r,{viewed:true},{success(e){t.offline.storage.resolveSuccess({module:n.module,transaction:i,serverData:e,callback:a})},error(e){t.offline.storage.resolveError({error:e,updatedFields:r,txLog:i,callback:a})}},s])},r)},_syncFiles(e,n,a,r,s){const{module:o,id:l}=n;const c=t.offline.storage.extractFileTypeField(s);const u=t.offline.storage.isFileTypeField(c,o);if(!u){return r({})}const d=!_.isEmpty(s[c]);const f=`__fsEntry${c}`;const p=s[f];delete s[f];const h=e=>r({error:e,field:c});const m=(e={})=>{const n=e[c];const a=n&&n.fsEntry;const s=a&&a.name;const u={field:c};const f=d&&s?i.getFile({fileName:s}):Promise.resolve();f.then(e=>{if(d&&_.isEmpty(e)){return r(u)}const a=d?{fieldName:c,fileData:_.extend({binary:e.binary},n)}:null;const f=d?"create":"delete";t.offline.api.callOriginalApi("file",[f,{field:c,module:o,id:l},a,{success(e={}){u.record=e.record;if(d&&s){return i.deleteFile({fileName:s}).then(()=>t.offline.storage.deleteFileRecords({id:l,field:c}).then(()=>r(u),h),h)}return r(u)},error:h},{deleteIfFails:false,htmlJsonFormat:false,iframe:false}])},h)};if(d){t.offline.storage.handleFileSync(null,n,o,{method:"read",fsName:p,dbSuccess:m,dbError:h})}else{m()}},_syncRelationships(e,n,i,a,r){const s={};r=this._addXTimestampHeader(r,s);const o={id:n.related_id,link:i._tx_link,related:r||{id:n.id},relatedId:n.id};if(i._tx_action===t.offline.SyncActions.CREATE){o.relatedId=null}t.offline.api.callOriginalApi("relationships",[e,n.related_module,o,{},{success(e){const r=_.extend(o,{related:e.related_record,record:e.record,recordModule:n.related_module,relatedModule:n.module});t.offline.storage.resolveSuccess({module:i._tx_related_module,transaction:i,serverData:e,relationshipData:r,callback:a})},error(e){t.offline.storage.resolveError({error:e,updatedFields:r,txLog:i,callback:a})}},s])},_syncFavorite(e,n,i,a,r){t.offline.api.callOriginalApi("favorite",[n.module,n.id,r.my_favorite,{success(e){t.offline.storage.resolveSuccess({module:n.module,transaction:i,serverData:e,callback:a})},error(e){t.offline.storage.resolveError({error:e,updatedFields:r,txLog:i,callback:a})}}])},_syncFollow(e,n,i,a,r){t.offline.api.callOriginalApi("follow",[n.module,n.id,r.following,{success(){t.offline.storage.resolveSuccess({module:n.module,transaction:i,serverData:{id:n.id,following:r.following},callback:a})},error(e){t.offline.storage.resolveError({error:e,updatedFields:r,txLog:i,callback:a})}}])},_addXTimestampHeader(e,t){if(e&&e.date_modified){t.headers={"X-TIMESTAMP":e.date_modified};e=_.omit(e,"date_modified")}return e},stop(){this._immediateStop=true}})})(SUGAR.App)},function(e,t,n){(function e(t){t.offline.WinsSyncExecutor=t.offline.SyncExecutor.extend({SyncPhases:{PRE_SYNC:1,SYNC:2},WINS_STATUS_CACHE_NAME:"sync:wins:status",_status:null,_stopAsyncFlow:null,_updateStatus(e){_.each(e,function e(t,n){this._status[n]=t},this);t.cache.set(this.WINS_STATUS_CACHE_NAME,this._status)},_loadStatus(){const e=t.cache.get(this.WINS_STATUS_CACHE_NAME);if(e&&t.user.get("id")===e.userId){this._status=e;if(this._status.winsStartedTime){this._status.winsInterruptedTimes++;this._updateStatus({winsInterruptedTimes:this._status.winsInterruptedTimes})}}else{this._resetStatus()}},_resetStatus(){this._status={phase:this.SyncPhases.PRE_SYNC,preSyncedModules:[],minDate:this._status&&this._status.maxDate||t.cache.get(t.offline.INITIALIZED_TS_KEY),maxDate:null,winsCompletedTime:null,winsStartedTime:null,winsInterruptedTimes:0,syncedRecords:0,userId:t.user.get("id")};this._updateStatus()},_sync(e){const n=this;const i=function(i){t.logger.debug("WINS completed.");if(i){n._status.winsInterruptedTimes++;n._updateStatus({winsInterruptedTimes:n._status.winsInterruptedTimes})}else{n._updateStatus({winsCompletedTime:Number(new Date)-n._status.winsStartedTime});t.trigger("offline:wins:completed",_.pick(n._status,["winsCompletedTime","winsInterruptedTimes","syncedRecords"]));n._resetStatus()}if(e){e(i)}};this._loadStatus();if(!this._status.winsStartedTime){this._updateStatus({winsStartedTime:Number(new Date)})}if(_.isEmpty(this._status.minDate)){t.logger.debug("Skipping sync as last synced date is unknown. Fetching and saving current server time");t.offline.utils.getServerTime((e,t)=>{if(!e){n._updateStatus({minDate:t})}i(e)})}else if(this._status.phase===this.SyncPhases.PRE_SYNC){this._preSync(e=>{if(e){i(e)}else{n._updateStatus({phase:n.SyncPhases.SYNC});n._recordsSync(i)}})}else{this._recordsSync(i)}},_preSync(e){const n=this;const i=[];if(_.isEmpty(this._status.maxDate)){i.push(e=>{t.offline.utils.getServerTime((t,i)=>{if(t){e(t)}else{n._updateStatus({maxDate:i});e()}})})}let a=_.difference(t.offline.utils.getOfflineModules(),this._status.preSyncedModules,t.config.offline.staticModules);a=_.filter(a,e=>t.acl.hasAccess("list",e));if(a.length!==0){_.each(a,e=>{i.push(t=>{n._preSyncModule(e,t)})},this)}this._stopAsyncFlow=t.offline.utils.getStoppableAsyncFlow("series",i,e)},_preSyncModule(e,n){const i=this;const a={fields:"id",deleted:true,filter:[{date_modified:{$gte:this._status.minDate,$lt:this._status.maxDate}}]};t.offline.utils.fetchPageByPage(e,a,_.bind(this._markLocalRecordsToBeUpdated,this),null,{maxRecords:this.options.preSyncMaxRecords,pageSize:this.options.preSyncPageSize,callback(t){if(!t){i._status.preSyncedModules.push(e);i._updateStatus({preSyncedModules:i._status.preSyncedModules})}n(t)}})},_markLocalRecordsToBeUpdated(e){this._processLocalMatchedRecords(e,(n,i,a)=>{t.offline.storage.markToBeSynced({module:e.module,action:i.deleted?"delete":"update",record:n,callback:a})})},_recordsSync(e){const n=this;const i=[];_.each(t.offline.utils.getOfflineModules(),e=>{i.push(t=>{n._syncModule(e,t)})},this);this._stopAsyncFlow=t.offline.utils.getStoppableAsyncFlow("series",i,e)},_syncModule(e,n){const i=this;t.offline.storage.readToBeSynced({offset:0,max_num:this.options.syncPageSize||20,module:e,callback(t){if(t.err||_.isEmpty(t.records)){n(t.err)}else{i._syncRecords({module:e,records:t.records,callback(a){if(a){n(a)}else{i._status.syncedRecords+=t.records.length;i._updateStatus({syncedRecords:i._status.syncedRecords});i._syncModule(e,n)}}})}}})},_syncRecords(e){const n=_.map(e.records,e=>({id:e.bean_id,module:e.bean_module,action:e.action}));const{module:i}=e;const a=_.filter(n,e=>e.action==="update");const r=_.filter(n,e=>e.action==="delete");const s=[];if(a.length>0){const e=_.pluck(a,"id");const n=t.metadata.getModule(i).mergedFields;const r={filter:[{id:{$in:e}}]};if(!_.isEmpty(n)){r.fields=n.join(",")}s.push(e=>{t.offline.api.callOriginalApi("records",["read",i,null,r,{success(n={records:[]}){t.offline.storage.saveRecords({serverData:n.records,module:i,callback(n){if(n){return e(n)}t.offline.storage.resetToBeSynced({records:a,callback:e})}})},error:e}])})}if(r.length>0){_.each(r,e=>{s.push(n=>{t.offline.storage.readSingleRawRecord(i,{id:e.id},{success(e){if(e&&t.offline.utils.isDataSynchronized(e)){t.offline.storage.sync("delete",{id:e.id},i,{hardDelete:true,success(){t.offline.storage.resetToBeSynced({records:r,callback:n})},error:n})}else{t.offline.storage.resetToBeSynced({records:r,callback:n})}},error:n})})})}asyncLib.series(s,e.callback)},_processLocalMatchedRecords(e,n){const i=_.pluck(e.records,"id");const{module:a}=e;t.offline.storage.readRecordsByIds(a,i,{success(t){if(_.isEmpty(t)){return e.callback()}t=_.isArray(t)?t:[t];const i=[];_.each(t,t=>{i.push(i=>{const a=_.find(e.records,e=>e.id===t.id);n(t,a,i)})});asyncLib.series(i,e.callback)},error:e.callback})},stop(){if(this._stopAsyncFlow){this._stopAsyncFlow();this._stopAsyncFlow=null;t.logger.debug("WinsSync interrupted")}},shouldRun(){const e=n(26);const i=n(23);const a=e.getState().state!==i.State.IDLE;return!a&&t.offline.SyncExecutor.prototype.shouldRun.call(this)}})})(SUGAR.App)},function(e,t){(function e(t){t.offline.SyncExecutor=function e(t){this.options=t;this.name=this.options.name;this.init()};_.extend(t.offline.SyncExecutor.prototype,{_working:false,isWorking(){return this._working},_lastSyncTime:null,getLastSyncTime(){return this._lastSyncTime},init(){},shouldRun(){const e=this._lastSyncTime&&(new Date).getTime()-this._lastSyncTime.getTime()<this.options.interval*1e3;if(!this.options.enabled||!t.api.isAuthenticated()||e){return false}return!this._working},beforeSync(){this._working=true},sync(e){if(!this.shouldRun()){e();return}this.beforeSync();this._sync(_.bind(function t(n,...i){this.afterSync();e.apply(this,[n,...i])},this))},afterSync(){this._lastSyncTime=new Date;this._working=false},_sync(){t.offline.utils.notImplemented()},getPriority(){return this.options.priority},stop(){t.offline.utils.notImplemented()}});t.offline.SyncExecutor.extend=Backbone.Model.extend})(SUGAR.App)},function(e,t,n){app.offline.syncManager={httpErrorHandler:null,lastSyncTs:null,syncExecutors:[],_currentExecutor:null,start(){if(!this.intervalId){this.intervalId=window.setInterval(()=>this._runSyncIteration(),app.config.offline.syncManager.syncTimeout*1e3||1e4)}},stop(){window.clearInterval(this.intervalId);this.intervalId=null},dispose(){app.events.off("offline:data:sync:success",null,this);app.events.off("offline:bulkload:progress",this._onBulkLoaderProgress,this);this.syncExecutors=[];this.stop()},_onBulkLoaderProgress(e){const t=n(23);if(e===t.ProgressEventType.START){if((this._currentExecutor||{}).name==="wins"){this._currentExecutor.stop()}}},init(){this.dispose();app.events.on("offline:data:sync:success",()=>{this._runSyncIteration()},this);app.events.on("offline:bulkload:progress",this._onBulkLoaderProgress,this)},registerExecutor(e){this.syncExecutors.push(e);this.syncExecutors=_.sortBy(this.syncExecutors,e=>e.getPriority())},isSyncing(){let e=false;_.each(this.syncExecutors,t=>{e=e||t.isWorking()});return e},_syncErrorHandler(e){if(e instanceof SUGAR.Api.HttpError){if(app.utils.isConnectivityError(e)){}else if(e.status===412&&this.httpErrorHandler){this.stop();this.httpErrorHandler(e)}else{app.logger.error(e)}}else if(e instanceof app.offline.Error){this.stop();const t=e===app.offline.Error.OfflineDisabledError?e:new app.offline.Error("synchronization_error","Synchronization failed","ERR_OFFLINE_SYNC_ERROR",e);app.trigger("offline:failure",t)}else if(e){app.logger.error(e)}},_runSyncIteration(e){if(!app.offline.isOnline()||!app.config.offline.debug.syncManagerEnabled||!app.config.offline.syncManager.enabled||_.isEmpty(this.syncExecutors)){if(e){e()}return}const t=[];_.each(this.syncExecutors,e=>{t.push(t=>{this._currentExecutor=e;e.sync(t)})});asyncLib.series(t,t=>{this._currentExecutor=null;this.lastSyncTs=new Date;this._syncErrorHandler(t);if(e){e(t)}})},sync(e){if(app.offlineEnabled){this._runSyncIteration(e)}}};e.exports=app.offline.syncManager},function(e,t){(function e(t){t.events=t.events||{};t.events.on({"offline:toggled":function(e){r("offline",e)},"app:start":function(){r("api",true)},"app:login:success":function(e,t){r("api",true,t)},"app:logout":function(){r("api",false)}});const n={offline:{readSimpleOrRelated:{status:false,operation:"fakeSelect"},readManyRecords:{status:false,operation:"fakeSelect"},readManyRelatedRecords:{status:false,operation:"fakeSelect"},createRecord:{status:false,operation:"fakeInsert"},createRelatedRecord:{status:false,operation:"fakeInsert"},updateRecord:{status:false,operation:"fakeUpdate"},updateRelatedRecord:{status:false,operation:"fakeUpdate"},softDeleteRecord:{status:false,operation:"fakeUpdate"},hardDeleteRecord:{status:false,operation:"fakeUpdate"},unlinkRecord:{status:false,operation:"fakeUpdate"}}};const i={api:{records:{status:false,callbackIndex:4,optionsIndex:5,dataIndex:2,crudIndex:0,crud:[{name:"create",status:true},{name:"read one",status:false},{name:"read list",status:false},{name:"update",status:false},{name:"delete",status:false}]},relationships:{status:false,callbackIndex:4,optionsIndex:5,dataIndex:2,crudIndex:0,crud:[{name:"create",status:true},{name:"read one",status:false},{name:"read list",status:false},{name:"update",status:false},{name:"delete",status:false}]},favorite:{status:false,callbackIndex:3,optionsIndex:4},follow:{status:false,callbackIndex:3,optionsIndex:4}},http:[{name:"e0",status:false},{name:"e403",status:false},{name:"e404",status:false},{name:"e409",status:false},{name:"e422",status:false},{name:"e500",status:false}],emulationExceptions:{e409:{operation:"update",methods:["records","relationships"]}}};const a={fakeSelect(){return{sql:"select xxxx"}},fakeInsert(){return{sql:"insert into xxxx"}},fakeUpdate(){return{sql:"update xxxx"}}};function r(e,a,r){const u=t.config.errorEmulation.user.toLowerCase();if(t.config.errorEmulation.enabled&&(t.user.get("user_name")===u||r===u)){if(e==="api"){s(a,i);c(a)}else{s(a,n);o(a);l(a);h()}}}function s(e,n){if(e){const e=t.utils.deepCopy(n);_.extend(t.config.errorEmulation,e)}else{_.each(n,(e,n)=>{delete t.config.errorEmulation[n]})}}function o(e){if(e){t.events.on("app:error:emulation:offline",e=>{const n=t.config.errorEmulation.offline[e];const i=n&&n.status;const a=`_${e}`;const{operation:r}=n;u(i,a,r)})}else{t.events.off("app:error:emulation:offline");_.each(t.offline.storage.savedMethods,(e,t)=>{u(false,t)});delete t.offline.storage.savedMethods}}function l(e){if(e){_.extend(t.offline.storage._sqlHandlers,a)}else{_.each(a,(e,n)=>{delete t.offline.storage._sqlHandlers[n]})}}function c(e){if(e){if(!t.config.errorEmulation.apiFlag){t.events.on({"app:error:emulation:http":function(e){p(e);d(e)},"app:error:emulation:api":f,"app:error:emulation:crud":f});t.config.errorEmulation.apiFlag=true}}else{t.events.off("app:error:emulation:http app:error:emulation:api app:error:emulation:crud");delete t.config.errorEmulation.apiFlag;p("default");d("default")}}function u(e,n,i){if(e){t.offline.storage.savedMethods=t.offline.storage.savedMethods||{};if(!t.offline.storage.savedMethods[n]){t.offline.storage.savedMethods[n]=t.offline.storage[n]}t.offline.storage[n]=function e(...t){const n=[{op:i,data:null,module:null,options:null}];const a=t[t.length-1];this.exec(n,a.dbSuccess,a.dbFailure)}}else{t.offline.storage[n]=t.offline.storage.savedMethods[n];delete t.offline.storage.savedMethods[n]}}function d(e){const n=t.config.errorEmulation.api;const i=[];_.each(n,(e,t)=>{if(e.status){i.push(t)}});_.each(t.api.savedMethods,(e,n)=>{t.api[n]=t.api.savedMethods[n]});delete t.api.savedMethods;t.controller.clean();if(e!=="default"){_.each(i,i=>{const a=_.findWhere(n[i].crud,{status:true});t.api.savedMethods=t.api.savedMethods||{};if(!t.api.savedMethods[i]){t.api.savedMethods[i]=t.api[i]}t.api[i]=function t(...r){const{callbackIndex:s,optionsIndex:o,crudIndex:l,dataIndex:c}=n[i];const u=a&&r[l]==="read"&&a.name.indexOf("read")>=0;let d;let f;if(isNaN(Number(c))){d=r[c]?r[c].link?r[c].relatedId?"one":"list":"one":"list";f=a.name===`read ${d}`}if(!a||r[l]===a.name||u&&f){r[s].error(new SUGAR.Api.HttpError({xhr:{status:e.substr(1)-0,responseText:'{"error":"emulated"}',getResponseHeader(){return"application/json"}},params:r[o]}));r[s].complete()}else{this.savedMethods[i].apply(this,r)}}})}}function f(){const e=_.findWhere(t.config.errorEmulation.http,{status:true});if(e){d(e.name)}}function p(e){const n=i.emulationExceptions[e];const a=n?{code:e,operation:n.operation,methods:n.methods}:{code:"enableAll"};t.trigger("app:error:emulation:exceptions",a)}function h(){_.each(t.api.savedMethods,(e,n)=>{if(t.offline&&!_.isEmpty(t.offline.api.originalMethods)){t.offline.api.originalMethods[n]=t.api.savedMethods[n]}t.api.savedMethods[n]=t.api[n]});f()}})(SUGAR.App)},function(e,t,n){const i=app.offline.utils.generateUUID();const a="Max";const r="Default_team";const s=n(365);e.exports={saveBatchSize:5e3,config:{recordsPerModule:10,defaultRequiredFields:["last_name","first_name","_deleted","my_favorite","following","assigned_user_id","assigned_user_name","modified_user_name","modified_user_id","id","name","date_modified","date_entered","_client_date_modified"],modules:{Accounts:{fields:["phone_fax","billing_address_street","billing_address_city","billing_address_state","billing_address_postalcode","billing_address_country","phone_office","phone_alternate","website","shipping_address_street","shipping_address_city","shipping_address_state","shipping_address_postalcode","shipping_address_country","parent_name","email","email1"],customFieldValues:{name:()=>`${s.pick("first_name")} ${s.pick("last_name")}`}},Contacts:{fields:["salutation","first_name","last_name","full_name","title","phone_home","phone_mobile","phone_work","phone_other","phone_fax","primary_address_street","primary_address_city","primary_address_state","primary_address_postalcode","primary_address_country","alt_address_street","alt_address_city","alt_address_state","alt_address_postalcode","alt_address_country","assistant","assistant_phone","picture","account_name","account_id","team_name","email","email1"]},Users:{amount:1,customFieldValues:{id:e=>e===0?i:app.offline.utils.generateUUID(),name:e=>e===0?a:"John"}},Meetings:{fields:["description","status"],customFieldValues:{date_start:()=>app.utils.getTimestamp((new Date).setMinutes(0)),date_end:()=>app.utils.getTimestamp((new Date).setMinutes(30)),duration_hours:0,duration_minutes:30,reminder_time:-1}},Teams:{amount:1,customFieldValues:{id:e=>e===0?r:app.offline.utils.generateUUID(),name:e=>e===0?r:`team_${e}`}}}},init(){const e=app.metadata.getModules();const t=t=>e[t]&&app.offline.isModuleOfflineEnabled(t);const{config:n}=this;this.availableModules=_.filter(_.keys(app.offline.storage.offlineMeta),t);this.availableRelationships=_.filter(app.offline.storage.offlineMeta.relationships,e=>{const n=t(e.childModule)&&t(e.parentModule);const i=!(e.type==="one-to-many"&&e.parentModule==="Users"&&e.parentIdColumn==="assigned_user_id");return n&&i});_.each(this.availableModules,t=>{let i=n.modules[t];if(!i){i={};n.modules[t]=i}if(!i.fields){i.fields=[]}const a=_.pluck(_.filter(e[t].fields,e=>e.required||e.type==="enum"),"name");i.fields=_.chain(i.customFieldValues).keys().union(n.defaultRequiredFields).union(i.fields).union(a).filter(n=>Boolean(e[t].fields[n])||_.contains(["_client_date_modified","_deleted"],n)).value();_.each(i.customFieldValues,(e,t)=>{if(!_.isFunction(e)){i.customFieldValues[t]=(()=>e)}})});this._relatedFieldsHash={};_.each(this.availableRelationships,e=>{this._relatedFieldsHash[e.childIdColumn]=true;this._relatedFieldsHash[e.parentIdColumn]=true})},generateRecords(e={}){const t=e.modules?_.keys(e.modules):this.availableModules;e=_.defaults(e,this.config);const n=_.map(t,t=>n=>{const i=e.modules[t]||this.config.modules[t]||{};const a=i.amount||e.amount||this.config.recordsPerModule;this.generateRecordsForModule(t,{amount:a,callback:n})});n.push(this._getUpdateStatisticsTask());asyncLib.series(n,t=>{if(e.callback){e.callback(t)}})},generateRecordsForModule(e,{amount:t,callback:n}){const i=[];const a=t>this.saveBatchSize?1e3:0;const r=(t,n)=>{const i=this._createFakeRecords(e,t);const r=app.offline.storage._getSaveRecordsTasks(i,{module:e});r.splice(0,1,e=>e(null,null));app.offline.storage._executeSynchronized(e=>{asyncLib.waterfall(r,()=>{e();_.delay(n,a)})})};const s=e=>r(this.saveBatchSize,e);while(t/this.saveBatchSize>=1){i.push(s);t-=this.saveBatchSize}if(t!==0){i.push(e=>r(t,e));i.push(this._getUpdateStatisticsTask())}asyncLib.series(i,()=>{if(n){n()}})},generateAllRelations(e={}){const t=app.metadata.getModules();const n=[];const i=[];_.each(this.availableModules,a=>{_.each(_.getNested(t[a],"layouts.subpanels.meta.components"),t=>{const r=app.offline.storage.getRelationshipByLink(a,t.context.link);if(r&&n.indexOf(r.name)===-1){n.push(r.name);i.push(t=>{const n=_.extend({},e,{callback:e=>t(null,e)});this.generateRelationship(r,n)})}})});i.push(this._getUpdateStatisticsTask());asyncLib.series(i,(t,n)=>{if(e.callback){e.callback(n)}})},generateRelationship(e,t={}){const{parentAmount:n}=t;const i=t.childAmount||1;const a=app.offline.storage.RelTypes;const r=e.type===a.MANY_TO_MANY;const s=e.type===a.ONE_TO_MANY_BY_ROLE_COLUMN||e.type===a.ONE_TO_MANY;if(!(r||s)){if(t.callback){t.callback()}return}const o=(e,t)=>{const n=_.find(app.metadata.getModule(t).fields,t=>t.relationship===e.name);return n&&n.name};if(r){const t=e.childModule;const n=o(e,t);e=app.offline.storage.getRelationshipByLink(t,n)}const{parentModule:l,childModule:c}=e;const u=[];u.push(e=>this._readModuleRecords(l,n,t=>e(null,t)));u.push((e,t)=>{const n=e.length*i;this._readModuleRecords(c,n,n=>t(null,e,n))});asyncLib.waterfall(u,(n,a,s)=>{const u=[];_.each(a,(t,n)=>{let a=n*i;let d=n*i+i;if(d>s.length){if(r){a=0;d=i}else{return}}const f=s.slice(a,d);_.each(f,n=>{const i=r?{id:n.id,link:o(e,c),relatedId:t.id,relatedModule:l,related:{id:t.id}}:{id:t.id,link:o(e,l),relatedId:n.id,relatedModule:c,related:{id:n.id}};u.push(e=>{app.offline.api.relationships("create",r?c:l,i,{relate:true,deferSync:true},{success:t=>e(null,t),error(e){}})})})});asyncLib.series(u,(e,n)=>{if(t.callback){t.callback(n)}})})},_createFakeRecords(e,t){const{config:n}=this;const i=n.modules[e];const a=app.metadata.getModule(e).fields;const r=[];if(_.isUndefined(t)){t=i.amount||n.recordsPerModule}_.times(t,t=>{const n={_module:e};_.each(i.fields,r=>{const s=a[r]||{name:r};const o=i.customFieldValues&&i.customFieldValues[r];n[r]=o?o(t):this._getDefaultFieldValue(s,e,t)});if(n.first_name&&n.last_name){n.full_name=`${n.first_name} ${n.last_name}`;n.name=n.full_name}r.push(n)});return r},_readModuleRecords(e,t=-1,n=_.noop){const i={order_by:"date_modified:desc",max_num:t,skipServerSync:true};app.offline.api.records("read",e,undefined,i,{success:e=>n(e.records)})},_getDefaultFieldValue(e,t,n){const o=s.pick(e.name);if(o){return o}switch(e.name){case"title":case"salutation":return"";case"_client_date_modified":case"_last_fetched":return app.utils.getTimestamp(new Date);case"_deleted":return 0;case"_acl":return{fields:{}};case"name":return`${t}_${n}`;case"assigned_user_id":case"modified_user_id":return i;case"assigned_user_name":case"modified_user_name":return a}if(this._relatedFieldsHash[e.name]){return""}switch(e.type){case"id":return app.offline.utils.generateUUID();case"date":case"datetime":case"datetimecombo":return app.utils.getTimestamp(new Date);case"email":return[{email_address:`email_${n}@example.com`,primary_address:true}];case"team_list":case"teamset":return[{id:r,name:r,primary:true,selected:true}];case"tag":return[];case"metadata":case"json":return{};case"multienum":case"enum":return _.keys(app.lang.getAppListStrings(e.options))[0];case"phone":return`(${this._getRandomNumStr(3)}) ${this._getRandomNumStr(3)}-${this._getRandomNumStr(4)}`;case"relate":case"link":case"parent":case"parent_type":case"radioenum":case"image":case"file":return"";case"assigned_user_name":case"username":return a;case"url":return"http://localhost:8888";case"bool":case"boolean":case"int":case"ulong":case"currency":case"decimal":return 1;default:return(new Date).getTime().toString()}},_getRandomNumStr(e){const t=Math.pow(10,e-1);return String(Math.floor(t+Math.random()*9*t))},_getUpdateStatisticsTask(){return app.isNative?e=>app.offline.storage._execRawStatements(["ANALYZE"],()=>e(),()=>e()):e=>e()}}},function(e,t){const n={firstName:["Patton","Sharlene","Saundra","Mcfarland","Simmons","Debra","Hogan","Hopkins","Pearlie","Jenny","Katheryn","Norma","Lara","Riddle","Kari","Cash","Greer","Kelly","Beverley","Juarez"],lastName:["Vance","Patton","Wall","Simon","Frank","Huber","Blevins","Morse","Johnson","Gilbert","Golden","Norton","Estrada","Rivers","Sanford","Fernandez","May","Porter","Nielsen","Santiago"],country:["Guinea-Bissau","Guatemala","S. Georgia and S. Sandwich Isls.","Laos","Angola","Canada","Puerto Rico","Cyprus","Switzerland","Algeria"],city:["Hannasville","Glendale","Harrodsburg","Bradenville","Kempton","Sanborn","Windsor","Sylvanite","Hartsville/Hartley","Kylertown","Ventress","Freetown","Shrewsbury","Woodruff","Mappsville"],address:["620 Sedgwick Street, 3354","442 Boynton Place, 9933","160 Railroad Avenue, 2737","455 Royce Street, 8428","749 Clifford Place, 3555","435 Melrose Street, 6356","834 Vernon Avenue, 2361","620 Moore Street, 4154","591 Denton Place, 6217","318 Cyrus Avenue, 9160","405 Cranberry Street, 8855","232 Pilling Street, 6265","686 Fane Court, 7693","450 Boulevard Court, 949","377 Montgomery Place, 5827","283 Horace Court, 267","884 Classon Avenue, 7370","859 Locust Street, 1967","862 Rochester Avenue, 1332","635 Chestnut Avenue, 2491","381 Porter Avenue, 3939","216 Louise Terrace, 3329","279 Fleet Walk, 3012","481 Malbone Street, 4342","135 Sullivan Place, 2725","870 Bills Place, 355","608 Louis Place, 8518","977 Elizabeth Place, 8631","160 Gelston Avenue, 1412","719 Rugby Road, 3176"],state:["WV","FM","WI","CO","ID","TN","NV","IN","NC","IL"],postalCode:["45894","86013","38968","50509","21129","89635","88589","61323","31541","87128"]};const i={firstName:["first_name"],lastName:["last_name"],address:["billing_address_street","shipping_address_street","primary_address_street"],city:["billing_address_city","shipping_address_city","primary_address_city"],state:["billing_address_state","shipping_address_state","primary_address_state"],postalCode:["billing_address_postalcode","shipping_address_postalcode","primary_address_postalcode"],country:["billing_address_country","shipping_address_country","primary_address_country"]};const a={};_.each(i,(e,t)=>{_.each(e,e=>{const i=n[t];a[e]={values:i,length:i.length}})});e.exports={pick:e=>{const t=a[e];return t&&t.values[Math.floor(Math.random()*t.length)]}}},function(e,t,n){const i=n(1);const a=n(8);const r=n(9);const s=n(23);const o=i.extendComponent(a,{_stringType:"bulk-load-setup",events(){return{"click .btn-cancel":"_onBtnClick","click .btn-download":"_onBtnClick","click .cellular_checkbox":"_onCellularCheckboxClick"}},template:"bulk-load-setup",allowCellular:false,shouldShowCellularCheckbox:false,initialize(e){this._super(e);this.shouldShowCellularCheckbox=app.isNative||app.config.scheme==="e2e";if(!_.isUndefined(r.getSetting(s.SettingsKey.ALLOW_CELLULAR))){this.allowCellular=r.getSetting(s.SettingsKey.ALLOW_CELLULAR)}},onAfterRender(){this._super();app.alert.dismiss("offline_encryption")},_onBtnClick(e){const t=e.target.attributes["data-id"].value==="ok";if(this.options.callback){this.options.callback(t)}},_onCellularCheckboxClick(){this.allowCellular=!this.allowCellular;r.setSetting(s.SettingsKey.ALLOW_CELLULAR,this.allowCellular)}});e.exports=o},function(e,t){const n=$(document);const i=e=>{const t=$(e.currentTarget);t.parent().toggleClass("not-empty",t.val())};const a=e=>{let t=$(e.currentTarget).parent().find("input");const n=r(t.get(0));t.val("").parent().removeClass("not-empty");t.trigger("change",[{triggeredByClearField:true}]);t=$(s(n));t.focus();e.preventDefault();e.stopPropagation()};let r=e=>n.find("input").reduce((t,n,i)=>t===undefined&&n===e?i:t,undefined);let s=e=>n.find("input").reduce((t,n,i)=>t||e===i&&n,undefined);n.on("keyup.clear-field","input",i).on("focusin.clear-field","input",i).on("touchend.clear-field",".clear-button",a)},function(e,t,n){const i=n(1);const a=n(11);e.exports=i.extendComponent(a,{template:"dropdown-switcher",parentCss:"tabs__switcher",initialize(e){this._super(e);const t={};const n=app.data.createBean();n.set("view_index",e.activeIndex);_.each(e.views,(e,n)=>{t[n]=e.title});this.ddSwitcher={name:"view_index",view:"edit",type:"enum",options:t,model:n,optional:false};this.listenTo(n,"change:view_index",this._onSelect)},updateSubtext(e,t){},syncActive({index:e}){this.getField("view_index").model.set("view_index",String(e))},_onSelect(e){const t=Number(e.get("view_index"));this.trigger("view:switch",{index:t})}})},function(e,t,n){const i=n(1);const a=n(11);e.exports=i.extendComponent(a,{className:"pagination__bar",template:"pagination-switcher",events(){return{swipeRight:"swipeRight",swipeLeft:"swipeLeft"}},onAfterRender(){this._super();const e='<span class="icondefault {0}"></span>';const t=this.options.$parentEl.find(this.options.containerSelector);if(this.Swiper||_.isEmpty(t)){return}this.Swiper=new Swiper(t,_.extend({noSwipingClass:"no-swiping",pagination:this.$(".pagination").get(0),bulletClass:app.config.ui.icons.swiper.bullet,bulletActiveClass:app.config.ui.icons.swiper.bulletActive,nextButton:this.$(".next").get(0),prevButton:this.$(".prev").get(0),buttonDisabledClass:"disabled",paginationBulletRender(t,n){return app.utils.formatString(e,[n])},onTouchMove(e,t){if(app.activeComponents.hasActiveComponents()){e.lockSwipes()}else{app.nomad.isSwiping=true}},onTouchEnd(e){app.nomad.isSwiping=false;e.unlockSwipes()},onClickNext:_.bind(function e(){this._handleSwipe("next")},this),onClickPrev:_.bind(function e(){this._handleSwipe("prev")},this),onSlide:_.bind(function e(t){this._handleSwipe(t)},this)},this.options.settings));if(this._activeIndex){this.syncActive({index:this._activeIndex,disableAnimation:true})}},onAfterShow(){this._super();if(this.options.views.length>1&&!this.options.isRecordDashboard){this.togglePaginationClass({hasPagination:true})}},onDetachFromDom(){this._super();this.togglePaginationClass({hasPagination:false})},togglePaginationClass({hasPagination:e}){$(document.body).toggleClass("has-pagination",e)},_handleSwipe(e){const t=_.isString(e);if(t){e=this._activeIndex+(e==="next"?1:-1)}const n=e<0||e>=this.options.views.length;if(t&&n){return}if(e===this._activeIndex||n){this.Swiper.slideTo(e)}else{this._activeIndex=e;this.trigger("view:switch",{index:e})}},_dispose(){if(this.Swiper){this.Swiper.destroy();this.Swiper=null}this.togglePaginationClass({hasPagination:false});this._super()},update(){if(this.Swiper){this.Swiper.update(true)}},syncActive({index:e,disableAnimation:t}){this._activeIndex=e;if(this.Swiper&&this.Swiper.activeIndex!==e){this.Swiper.slideTo(e,t?0:this.Swiper.params.speed)}},updateSubtext(e,t){},swipeRight(){this._handleSwipe("prev")},swipeLeft(){this._handleSwipe("next")}})},function(e,t,n){const i=n(1);const a=n(11);e.exports=i.extendComponent(a,{template:"tab-switcher",className:"tabs__scroll-bar",parentCss:"tabs__switcher",subtextCss:"subtitle",activeTabCss:"tab--active",events(){return{"click .tab":"_onTabClick"}},initialize(e){this.tabs=e.views;if(_.isString(e.subtextCss)){this.subtextCss=e.subtextCss}this._super(e)},updateSubtext(e,t){this.$(".tab").eq(e).find(`.${this.subtextCss}`).removeClass("hide").addClass("count").text(t)},syncActive({index:e}){const t=this.$(".tab");t.removeClass(this.activeTabCss);$(t[e]).addClass(this.activeTabCss);this.tabs=_.map(this.tabs,(t,n)=>{t.active=n===e;return t})},_onTabClick(e){const t=$(e.currentTarget);const n=t.data("tab-index");const{gaData:i}=this.tabs[n];this.trigger("view:switch",{index:n});if(i){app.analytics.trackEvent({category:i.category,action:i.action,value:null,label:i.label})}this._scrollToTab(t)},_scrollToTab(e){const t=$(this.$el).width();const n=e[0].offsetLeft;const i=e.width();const a=$(this.el).find(".tabs__scroll-bar__ul");let r=a.scrollLeft();let s;let o;let l;if(t<n+i){s=1;o=n+i-t}else if(r>n){s=-1;o=n}const c=function(){l=window.requestAnimationFrame(c);if(s>0&&r>=o||s<0&&r<=o){a.scrollLeft(o);window.cancelAnimationFrame(l);return}r+=10*s;a.scrollLeft(r)};if(s){c()}}})},function(e,t,n){const i=n(4);const a=n(48);const{isDirectionLTR:r}=n(3);const s=n(1);const o=n(11);const l=215;const c=30;const u=200;const d=s.extendComponent(o,{ACTIVE_COMPONENT_ID:"list_view_context_menu",tagName:"span",events:{"click .context-menu__item:not(.disabled)":"onItemClick"},initialize(e){this._super(e);this.parentView=e.parentView;this.listenTo(app,"app:orientation:changed",()=>{if(this.activeItem){this._refresh()}});if(!app.isTablet){this.initListItemTouchEvents()}},initListItemTouchEvents(){let e;let t;const n=r()?1:-1;const i=this.parentView.$el;i.on("touchstart",n=>{t=$(n.target).closest("article");if(_.isEmpty(t)||t&&!t.hasClass("has-drag-menu")){return}e={touchStartX:n.touches[0].pageX,itemElStartPosX:t[0].getBoundingClientRect().left,distance:0};i.on("touchmove",s);i.on("touchend",o)});const a=()=>{i.off("touchmove",s).off("touchend",o);e.touchMoved=false};let s=i=>{if($.__swipeHelper.swipeOrientation==="horizontal"){if(!e.touchMoved){e.touchMoved=true;const n=t.attr("data-id");const i=this.parentView.getModel(n);if(this.isOpened()&&this.activeItem.$el[0]!==t[0]){this._slideToPosX(this.activeItem.$el,0,u)}if(!this.activeItem||this.activeItem.$el[0]!==t[0]){this.show(t,i)}}if(!this.activeItem){a();return}e.touchMoveX=i.touches[0].pageX;e.distance=Math.floor(e.touchMoveX-e.touchStartX);if(Math.abs(e.distance)<3||n*e.itemElStartPosX>=0&&n*e.distance>0||Math.abs(e.distance)>l||Math.abs(n*e.itemElStartPosX+n*e.distance)>l){return}e.itemPosX=e.itemElStartPosX+e.distance;this._slideToPosX(this.activeItem.$el,e.itemPosX)}};let o=t=>{if(!this.activeItem){a();return}else if($.__swipeHelper.swipeOrientation!=="horizontal"){return}if(e.itemElStartPosX===0&&n*e.distance>=0){return}else if(Math.abs(e.itemPosX)<=c||n*e.itemElStartPosX<0&&Math.abs(e.itemElStartPosX-e.itemPosX)>c||this._actionSheetIsActive){this._slideToPosX(this.activeItem.$el,0,u)}else{this._slideToPosX(this.activeItem.$el,n*-l,u)}a()}},_getAvailableActions(e){return a.getRecordActions({view:this.parentView,model:e,type:"context-menu"})},_getAndPrepareActionsForDevice(e){const t=app.isTablet?8:3;const n=this._getAvailableActions(e);if(n.length<=t){return n}const a=[];const r={name:"more",googleAnalyticsName:"c-more",types:["context-menu"],label:"LBL_MORE_BUTTON",iconKey:"actions.more",_actions:[],isEnabled:true,handler(e,t){const n=_.map(this._actions,({label:e,googleAnalyticsName:t})=>({name:app.lang.get(e),googleAnalyticsName:t}));i._showGATrackedActionSheet(n,{title:app.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:n=>{this._actions[n].handler(e,t)}})}};_.each(n,(e,n)=>{++n;if(n<t){a.push(e)}else if(n>=t){r._actions.push(e)}});a.push(r);return a},onGripClick(e,t){const n=$(e.currentTarget).closest("article");const i=this.isItemHasContextMenuOpened(n.get(0));if(this.isOpened()){this.hide()}if(!i){this.show(n,t)}return false},onItemSwipeLeft(e,t){if(app.isTablet&&$.__swipeHelper.swipeOrientation!=="vertical"){const n=$(e.currentTarget).closest("article");if(this.isItemHasContextMenuOpened(n.get(0))){return false}if(this.isOpened()){this.hide()}this.show(n,t)}},onItemSwipeRight(e,t){if(this.isItemHasContextMenuOpened(e.currentTarget)){this.hide()}},_getDocuments(e,t,n){_.findWhere(this._getAndPrepareActionsForDevice(t),{name:"file"});t.once("docs:ready",n=>{t.docData=n;if(this.activeItem.model===t){this.renderContextMenu(e,t)}});t.getDocuments(n)},renderContextMenu(e,t){const n=this._getAndPrepareActionsForDevice(t);const i={contextMenuItems:n,isEmptyMenu:_.isEmpty(n),myFavorite:Boolean(t.get("my_favorite"))};const a=e.find(".box__context-menu");if(!_.isEmpty(a)){a.remove()}this.$el.html(app.template.get("context-menu")(i));e.append(this.$el)},_slideToPosX(e,t,n){e.animate({"-webkit-transform":`translate3d(${t}px, 0, 0)`},n||0)},setActiveItem(e,t){this.activeItem={$el:e,model:t}},show(e,t){const n=e.find(".menu-container");if(_.isEmpty(n)){return}this.setActiveItem(e,t);this._refresh();if(t){this.listenTo(t,"change",this._refresh)}n.addClass("on");this.activeItem.$el.addClass("active-list-item");app.activeComponents.add(this)},hide(){const e=this.isOpened();if(!e){return}const t=this.activeItem.$el;const{model:n}=this.activeItem;const i=t.find(".menu-container");i.removeClass("on").find(".box__context-menu").remove();t.removeClass("active-list-item");if(n){n.off("docs:ready");this.stopListening(n,"change",this._refresh)}if(!app.isTablet){this._slideToPosX(this.activeItem.$el,0,u)}this.activeItem=undefined;app.activeComponents.remove(this)},onClose(){this.hide()},_refresh(){const{model:e}=this.activeItem;const t=this.activeItem.$el.find(".menu-container");const n=this.parentView.modContextData&&this.parentView.modContextData[e.module];const i=n&&n.docFields;const a=_.findWhere(this._getAndPrepareActionsForDevice(e),{name:"file"});if(a){this._getDocuments(t,e,i)}this.renderContextMenu(t,e)},isOpened(){return Boolean(this.activeItem)&&this.activeItem.$el},isItemHasContextMenuOpened(e){return this.activeItem&&this.activeItem.$el.get(0)===e},onItemClick(e){e.preventDefault();e.stopPropagation();const t=$(e.currentTarget).attr("action");const{model:n}=this.activeItem;const i=_.findWhere(this._getAndPrepareActionsForDevice(n),{name:t});if(_.isFunction(i.handler)){i.handler(this.parentView,n)}if(!i.isMultipleChoice&&i.autoClose){this.hide()}},onItemLongTap(e,t){if(!$.os.android){return}app.analytics.trackEvent({category:"longTap",action:"c-menu"});if(this.isOpened()){this.hide()}this.showActionSheet(e,t)},showActionSheet(e,t){const n=$(e.currentTarget).closest("article");const a=this.parentView.modContextData&&this.parentView.modContextData[t.module];const r=this._getAvailableActions(t);this.setActiveItem(n,t);if(!_.isEmpty(r)){this._actionSheetIsActive=true;i.showActionSheet(_.map(r,e=>app.lang.get(e.label)),{title:app.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:e=>{const i=r[e];if(_.isFunction(i.handler)){i.handler(this.parentView,t)}this.onCloseActionSheet(n);if(app.isNative){return}return!i.isMultipleChoice},onCancelCb:()=>this.onCloseActionSheet(n)})}t.once("docs:ready",e=>{t.docData=e});if(a){t.getDocuments(a.docFields)}},onCloseActionSheet(e){e.removeClass("selected-item");this.activeItem=undefined;this._actionSheetIsActive=false}});e.exports=d},function(e,t,n){const i=n(10);const a=n(15);const r=n(4);const s=n(3);const o=i.extend(a,{template:"qli_bundles_summary",isPtrEnabled:false,className:"view__bundles-summary",events(){return{"click .qli-item__menu":this._onItemMenuClick}},initialize(e){this._super(e);this._initMeta();this.listenTo(this.model,"sync",()=>this._refreshLayout())},receiveSyncData(...e){this._needRender=this._rendered;this._super(...e)},processCollection(e,t,n,i){this._super(e,t,n,i);const a=e.get(t.id);if(a&&!n){a.set(t)}},onAfterShow(){if(this._needRender){this._needRender=false;this._refreshLayout()}this._super()},_refreshLayout(){if(this._rendered){this.render()}},_initMeta(){const e=app.metadata.get().modules;const t=s.quotesSummaryFieldMapper;const n=e.Quotes.views["quote-data-grand-totals-footer"].meta.panels[0].fields;this.summaryFieldDefs=_.select(n,e=>e.name!=="total").map(t);this.totalFieldDef=_.select(n,e=>e.name==="total").map(t)[0];const i=_.clone(e.Products.views["quote-data-group-list"].meta.panels[0].fields);const a=_.findWhere(i,{name:"discount"});if(a){const e=i.indexOf(a);const t=_.find(a.fields,{name:"discount_amount"});i.splice(e,1,t)}this.qliBundleFields=i;this.groupTotalFields=e.ProductBundles.views["quote-data-group-footer"].meta.panels[0].fields},loadData(e){},onBeforeRender(){this.groups=this._getQliBundles();this._super()},_getQliBundles(){const e=this.model.get("bundles");e.comparator=app.nomad.utils.getQuotesCollectionComparator();e.sort();const t=[];e.each(e=>{if(!_.isEmpty(e.get("product_bundle_items"))){t.push({title:e.get("default_group")?"":e.get("name"),items:this._prepareItems(e),model:e,isDefaultGroup:Boolean(e.get("default_group"))})}});return t},_prepareItems(e){const t=e.get("product_bundle_items");t.comparator=app.nomad.utils.getQuotesCollectionComparator();t.sort();let n=0;return t.map(e=>{const t=e.module==="ProductBundleNotes";return{model:e,lineNum:t?undefined:++n,isComment:t}})},_onItemMenuClick(e){const t=$(e.target).parents("[data-model-id]").data("model-id");if(t){r.showActionSheet(this._getMenuItems(),{title:app.lang.get("LBL_SELECT_ACTION"),onSelectCb:e=>this._onMenuItemSelect(e,t)})}},_getMenuItems(){return[app.lang.get("LBL_EDIT_BUTTON")]},_onMenuItemSelect(e,t){const n=e===0?"edit":"delete";this.trigger("quote:item:action",{modelId:t,action:n})}});e.exports=o},function(e,t,n){const i=n(1);const a=n(10);const r=n(68);const s=i.extendComponent(r,{initialize(e){this._super(e);this.context.set("dataView","record")},getTabViews(e){const t=this._super(e);if(app.supportedFeatures.enhancedQuotes&&app.acl.hasAccess("access","Products")){t.splice(1,0,this._getQliListViewDef(e))}return t},_getQliListViewDef(e){return{title:app.lang.get("LBL_PRODUCTS_SUBPANEL_TITLE"),view:i.getViewClass({baseType:"qli-bundles-summary"}),viewId:"qli-bundles-summary"}},getChildViewEvents(e){const t=this._super(e);if(e.options.viewId==="tabs"){const n=t=>{if(t.options.viewId==="qli-bundles-summary"){this.listenTo(t,"quote:item:action",this._onQliAction);this.stopListening(e,"views:switch",n)}};_.extend(t,{"views:switch":n})}return t},_onQliAction(e){if(e.action==="edit"){this.viewRefs.detail._openEditView({data:{qliModelId:e.modelId,activeTab:"lineitems"}})}},createView(e){const t=this._super(e);if(e.viewId==="detail"){const e=t._openEditView;t._openEditView=((n={})=>{n.data=n.data||{};if(_.isUndefined(n.data.activeTab)){n.data.activeTab=this.viewRefs.tabs.currentView.options.viewId==="qli-bundles-summary"?"lineitems":"profile"}e.call(t,n)})}return t},loadData(e){this.getViewById("detail").context.resetLoadFlag();return this._super(_.omit(e,"partialLoad"))}});a.register(s,{module:"Quotes",baseType:"detail"});e.exports=s},function(e,t,n){const i=n(1);const a=n(57);const r=n(8);const s=i.extendComponent(r,{_stringType:"address-edit",addressFields:null,template:"address-edit",_bodyScroll:true,initialize(e){this._super(e);this.action="edit";this.fallbackFieldTemplate="edit";this.addressFields=this.context.get("addressFields");this.addressFieldsNames=_.pluck(this.addressFields,"name");this.model=this.context.get("model");this.parentModel=this.context.get("parentModel");_.each(this.addressFields,e=>{const t=`change:${e.name}`;this.listenTo(this.model,t,(e,n,i)=>{this.parentModel.trigger(t,this.model,n,i)})})},save(){const e=this;a.showOverlay();this.model.doValidate(this.addressFieldsNames,t=>{a.hideOverlay();if(t){_.each(e.addressFields,t=>{e.parentModel.set(t.name,e.model.get(t.name))});app.controller.goBack()}})},onHeaderSaveClick(){this.save()},isEditView(){return true}});e.exports=s},function(e,t,n){const i=n(1);const a=n(11);const r=i.extendComponent(a,{_stringType:"html-edit",htmlElSelector:".html-content",onAfterShow(){const e=this.$(this.htmlElSelector);e.append(this.context.get("html"))},getValue(){return this.$(this.htmlElSelector).val()}});e.exports=r},function(e,t,n){const i=n(1);const a=n(32);const r=n(377);const s=n(396);const o=i.extendComponent(a,{viewSwitcher:a.SwitcherTypes.TABS,initialize(e){if(e.context.get("duplicate")){this.lazyRender=false;this.listenTo(e.context,"change:model",()=>{this.model=this.context.get("model")})}this._super(e);this._addCollectionFieldsValidation();const t=e.data&&e.data.activeTab;if(t){this.activeIndex=t==="lineitems"?1:0}},getViewDefs(e){const t=this.options.data&&this.options.data.qliModelId;const n=[{view:r,module:"Quotes",viewId:"quoteProfile",title:app.lang.get("LBL_DETAILS"),create:e.create}];if(app.supportedFeatures.enhancedQuotes&&app.acl.hasAccess("access","Products")){n.push({view:s,module:"Quotes",viewId:"qliGroups",title:app.lang.get("LBL_PRODUCTS_SUBPANEL_TITLE"),create:e.create,activeModelId:t})}return n},createView(e){const t=this._super(e);if(e.viewId==="quoteProfile"){t.publishSyncData=_.wrap(t.publishSyncData,(e,n,i,a)=>{const{bundles:r}=this.model.attributes;if(r&&n&&!n.bundles){n.bundles=r}return e.call(t,n,i,a)})}return t},_addCollectionFieldsValidation(){app.nomad.utils.addCollectionFieldValidator(this.model,e=>{const t=["product_bundle_items"];if(!e.get("default_group")){t.push("name")}return t})},switchView(e){this._super(e);if(this.currentView!==this.viewRefs.quoteProfile){this.listenTo(this.viewRefs.quoteProfile,this.ACTION_NAME,this.propagateComponentAction)}},onHeaderSaveClick(){this.save()},save(){return this.context.isCreate()?this._createNewRecord():this._saveExistingRecord()},_createNewRecord(){const{model:e}=this;const t=e.get("bundles");t.reset(t.slice(),{silent:true});t.each(e=>{const t=e.get("product_bundle_items");t.reset(t.slice(),{silent:true})});return this._validate().then(()=>this.viewRefs.quoteProfile.save())},_saveExistingRecord(){const e=this.viewRefs.quoteProfile;return this._validate().then(()=>new Promise((t,n)=>{e.save([],{skipResultHandling:true}).then(t,i=>{if(i===e.NOTHING_CHANGED_ERR){t()}else{n(i)}})})).then(()=>this._saveQlItems()).then(()=>this._publishSyncData()).then(()=>e.handleSaveSuccess(),t=>e.handleSaveError(t))},_publishSyncData(){if(this.currentView!==this.viewRefs.quoteProfile){this.viewRefs.quoteProfile.publishSyncData(this.model.attributes,null,{})}},_validate(){const{quoteProfile:e}=this.viewRefs;return new Promise((t,n)=>{e._validateRecord(i=>{this._validateQlItems().then(a=>{let r=i;if(r===e.NOTHING_CHANGED_ERR){r=null}const s=a?e.VALIDATION_ERR:r;if(s){n(s)}else{t()}})})})},_validateQlItems(){return this.viewRefs.qliGroups?this.viewRefs.qliGroups.validate():Promise.resolve()},_saveQlItems(){return this.viewRefs.qliGroups?this.viewRefs.qliGroups.save():Promise.resolve()}});e.exports=o},function(e,t,n){const i=n(1);const a=n(27);const r=i.extendComponent(a,{AUTO_POPULATE_ADDRESS_FIELD:"__auto_populate_billing_address",autoPopulateAddress:true,initialize(e){this._super(e);this._addAddressPopulateCheckbox();if(this.isCreate){this.displayFields=_.filter(this.displayFields,e=>e.name!=="quote_num")}},_addAddressPopulateCheckbox(){const e=_.findWhere(this.displayFields,{name:"billing_account_name"});if(!e){return}const t=this.displayFields.slice();const n=this.AUTO_POPULATE_ADDRESS_FIELD;const i={name:n,label:app.lang.get("LBL_QUOTES_POPULATE_ADDRESS"),type:"bool"};const a=t.indexOf(e);t.splice(a,0,i);this.displayFields=t;this.model.on(`change:${n}`,this._setAutoPopulate,this);this.model.set(n,this.autoPopulateAddress)},_setAutoPopulate(e,t){const n=this.getField("billing_account_name");if(n){n.setAutoPopulate({shouldPopulate:t})}},onAfterRender(){this._setAutoPopulate(this.model,true);this._super();if(!this.isCreate){this.$(".btn.delete").toggleElement(this.model.hasDeleteAccess())}},getFieldNames(e){const t=this._super(e);return _.without(t,this.AUTO_POPULATE_ADDRESS_FIELD,"quote_num")},_getChangedFields(){const e=this._super();return this.context.get("create")?e:_.without(e,"bundles")},onHeaderSaveClick(){},getFieldsToSave(){const e=this._super();const t=app.metadata.getModule(this.module).fields;return _.filter(e,e=>t[e])},_setDuplicateOptions(e){this._super(e);const t=e.context.get("model");t.get("bundles").each(e=>{e.get("product_bundle_items").each(e=>{e.unset("quote_id");const t=e.get("product_template_name");const n=e.get("name");if(n&&!t){e.set("product_template_name",n)}else if(n!==t){e.set("name",t)}})})}});e.exports=r},function(e,t,n){const{stripLastEmptyStrings:i}=n(3);const a=n(1);const r=n(11);const s=a.extendComponent(r,{_stringType:"textarea-edit",editElTag:"textarea",setValue(e){const t=this.$(this.editElTag);const n=Boolean(this.context.get("isReadOnly"));t.val(e);if(n){t.attr("readOnly",n)}if(e||n){return}t.attr("tabindex",1e5).attr("name","somename").get(0).focus();$(document.body).scrollTop(0)},getValue(){return this.$(this.editElTag).val()},save(){const e=this.getValue();const t=i(e);this.context.get("parentModel").set(this.context.get("fieldName"),t);app.controller.goBack()},onHeaderSaveClick(){this.save()}});e.exports=s},function(e,t,n){const i=n(24);const a=n(1);const r=n(6);const s=n(11);const o=a.extendComponent(s,{_stringType:"error",events:{"click #sugar_url":function(e){e.preventDefault();r.openUrl(e.target.href)}},errors:{403:"ERR_MOBILE_NOT_AUTHORIZED"},defaultErrorLabel:"ERR_GENERIC_TITLE",onBeforeRender(){if(this.options.backToSugar){this.showSugarBackLink=true;this.sugarLink=`${i.getDesktopUrl()}#${this.options.sugarRoute}`}this.errorCode=this.options.code;this.errorLabel=this.errors[this.errorCode]||this.defaultErrorLabel}});e.exports=o},function(e,t){let n=false;const i=function(e){_.delay(()=>{const t=$(e.target);if(!n&&!t.hasClass("inert")&&!t.hasClass("grip")&&!t.attr("disabled")){$(e.currentTarget).addClass("selected-item")}},50)};const a=function(e){_.delay(()=>{$(e.currentTarget).removeClass("selected-item");n=false},50)};const r=function(e){if(!n){$(e.currentTarget).removeClass("selected-item")}n=true};$(()=>{$(document.body).on({"touchstart.fast-click-highlight":i,"touchmove.fast-click-highlight":r,"touchend.fast-click-highlight":a,"touchcancel.fast-click-highlight":a},".fast-click-highlighted")})},function(e,t){let n;const i=function(e,t){n=e;$(document.body).toggleClass("body--field-onfocus",e);const i=$(t).parents(".field");if(i){i.toggleClass("field--onfocus",e)}};const a=function(e){i(true,e.target);if($.os.ios){const t=e.target;const a=setInterval(e=>{if(!n){clearInterval(a);return}if(t!==document.activeElement){i(false,t);clearInterval(a)}},100)}if(!app.isTablet||!$.os.android){return}const t=$(e.target);const a=t.parents(".scroll").get(0);const r=t.parents("span[sfuuid]").get(0);if(a&&r){_.delay(()=>{a.scrollTop=r.offsetTop},1e3)}};$(()=>{$(document.body).on({"focus.focus-on-input":a,"blur.focus-on-input":e=>i(false,e.target)},"input").on({"focus.focus-on-input":e=>i(true,e.target),"blur.focus-on-input":e=>i(false,e.target)},"select")})},function(e,t){e.exports=(()=>({initiate(){this._initiateTime=(new Date).getTime()},trackDuplicatesFound(e){app.analytics.trackEvent({category:"lead-conversion",action:"dupe",label:e})},trackConvert(e){const t=(new Date).getTime();const n=((t-this._initiateTime)/1e3).toFixed();this._initiateTime=undefined;app.analytics.trackEvent({category:"lead-conversion",action:"success",label:e.join(", "),value:n})},trackError(e){app.analytics.trackEvent({category:"lead-conversion",action:"error",label:e.status})}}))},function(e,t,n){const i=n(10);const a=n(3);const r=3;i.registerListItemDataProvider({name:"lead-conversion-list-item-radio-selector",prepareItemData(e,t){const n=this.parent.prepareItemData(e,t);const i=this.prepareFields(e,t);const s=e.get("_erased_fields");const o=_.filter(i,t=>{const{name:n}=t;const i=t.type==="fullname"?a.isNameErased(e):_.contains(s,n);if(i){return true}const r=e.get(n);return _.isObject(r)?!_.isEmpty(r):!_.isUndefined(r)&&r!==""});n.itemId=n.itemId||e.cid;const l=_.first(o,r);const c=_.rest(o,r);return _.extend({},n,{showLabel:true,headFields:l,restFields:c,links:{showMore:t.collection.length>1&&!_.isEmpty(c),edit:e.isNew()}})},prepareFields(e,t){return t.additionalListFields},buildId(e){return this.parent.buildId(e)||e.cid}})},function(e,t,n){const i=n(7);const a=n(10);const r=n(1);const s=n(43);const o=n(44);const l=n(140);const c=n(17);e.exports=a.extend(s,{lazyRender:true,isInitialSwitch:true,duplicateListHint:"",inSync:false,duplicatesCheckFailed:false,template:"lead-conversion-list-switcher",events(){return{"click .duplicates-list__search":"onSearchClick","click .duplicates-list__create":"onCreateClick","click .reload-duplicates":()=>this.fetchDuplicates()}},initialize(e){this._super(e);this.listenTo(this.collection,"data:sync:start",()=>this.onCollectionSyncStart()).listenTo(this.collection,"sync",()=>this.onCollectionSync()).listenTo(this.collection,"data:sync:error",()=>this.onCollectionSyncError()).listenTo(this.collection,"data:sync:complete reset",()=>{this.isNewDuplicateRecord=this.collection.length&&this.collection.first().isNew();this.render()});this.hasListAccess=app.acl.hasAccess("list",e.module);this.hasCreateAccess=app.nomad.canCreateModule(e.module)},onCollectionSyncStart(){this.inSync=true},onCollectionSync(){this.inSync=false;this.duplicatesCheckFailed=false;this.updateDuplicateListHint()},onCollectionSyncError(){this.inSync=false;this.duplicatesCheckFailed=true},onInitialSwitch(){this.createDefaultRecord();this.isInitialSwitch=false},onAfterShow(){this._super();this.trigger("view:show",this.getSelectedItem());if(this.duplicatesCheckFailed){this.isInitialSwitch=false;return}if(this.isDuplicatesCheckAvailable()){this.loadData({viewSwitched:true}).then(()=>this.onInitialSwitch()).catchReturn()}else if(this.isInitialSwitch){this.onInitialSwitch()}},onAfterRender(){this._super();this.dupecheckList=this.getViewById("duplicates");this.stopListening(this.dupecheckList);this.listenTo(this.dupecheckList,"selection:change",()=>this.onSelectionChange()).listenTo(this.dupecheckList,"edit:click",e=>this.showCreateView(e))},onSelectionChange(){this.trigger("selection:change",this.getSelectedItem())},loadData({viewSwitched:e=false}={}){return c.try(()=>{if(!this.duplicatesCheckFailed&&(this.options.shouldCheckOnStart||e)){return this.fetchDuplicates()}})},getViewDefs(e){return[{viewId:"duplicates",view:l,context:new i({module:this.collection.module,collection:this.collection}),subType:"dupecheck",module:e.module,sugarLogicEnabled:false,submitAfterSelect:false,multiselect:false,isPtrEnabled:false,isPaginationEnabled:false,buttonType:"radio"}]},onSearchClick(){const e=app.controller.loadScreen({isDynamic:true,applyMaskToList:true,view:o,context:new i({module:this.module,collection:app.data.createBeanCollection(this.module),model:app.data.createBean(this.module)}),multiselect:false})[0];e.onSelectionChange=_.noop;e.getCurrentList().on("selection:change",e=>{this.setSelectedItems(e);app.controller.disposeDynamic()});const t=e._searchBox;t.showSearch({skipAnimation:true});t.onCancelSearch=(()=>app.controller.disposeDynamic())},onCreateClick(){if(!this.isNewDuplicateRecord){this.showCreateView()}},createDefaultRecord(){if(this.isRequired()&&this.collection.length===0){this.setDefaultRecord()}},setDefaultRecord(){const e=app.view.createView({name:r.getViewClass({baseType:"edit",module:this.module}),context:new i({create:true,module:this.module,model:this.model.clone()}),serverSync:false});e.onValidationError=_.noop;e.handleSaveSuccess=_.wrap(e.handleSaveSuccess,(t,...n)=>this.setSelectedItems([e.model]));e.save()},showCreateView(e){e=e?e.clone():this.model.clone();const{hiddenFields:t}=this.options.conversionMetadata;const n=app.controller.loadScreen({isDynamic:true,applyMaskToList:true,view:r.getViewClass({baseType:"edit",module:this.module}),context:new i({create:true,module:this.module,model:e}),initOptions:{conversionMetadata:this.options.conversionMetadata,serverSync:false,getDisplayFields(e){if(!t){return e}return e.map(e=>{if(!t[e.name]){return e}return _.extend({},e,{required:false,readonly:true})})}},headerConfig:{save:true,cancel:true,mainMenu:false,title:app.lang.get("LBL_CREATE_MODULE",this.module,app.lang.getModuleName(this.module))}})[0];const a=this.module==="Quotes"?n.viewRefs.quoteProfile:n;a.onValidationError=_.noop;a.handleSaveSuccess=_.wrap(n.handleSaveSuccess,(e,...t)=>{this.setSelectedItems([n.model]);app.controller.disposeDynamic()})},setSelectedItems(e){const t=e.length===1&&e[0];this.updateDuplicateListHint(e,t);this.collection.reset([...e]);if(t){this.dupecheckList.clearSelection();this.dupecheckList.toggleItemSelected(t.cid)}},updateDuplicateListHint(e=this.collection.models,t=this.getSelectedItem()){if(t){this.duplicateListHint=e[0].isNew()?"LBL_CREATED_NEW_RECORD":"LBL_SELECTED_EXISTING_RECORD"}else{this.duplicateListHint="LBL_SELECT_DUPLICATE_RECORD"}},getSelectedItem(){return this.dupecheckList.getSelectedModels()[0]},isRequired(){return this.options.conversionMetadata.required},isDuplicatesCheckAvailable(){const{conversionMetadata:e}=this.options;return e.copyData&&!this.inSync&&!this.collection.dataFetched&&app.acl.hasAccess("list",this.module)&&this.areDuplicateRequiredFieldsFilled()},fetchDuplicates(){return new c((e,t)=>{if(this.isDuplicatesCheckAvailable()){this.collection.fetch({success(t){e(t)},error(e,n){t(new Error(n))}})}})},areDuplicateRequiredFieldsFilled(){const{duplicateCheckRequiredFields:e}=this.options.conversionMetadata;return!_.any(e,e=>_.isEmpty(this.model.get(e)))}})},function(e,t,n){const i=n(11);const a=n(10);e.exports=a.extend(i,{template:"lead-conversion-navigation-view",events(){return{"click .lead-conversion__prev":"navigate","click .lead-conversion__next":"navigate"}},initialize(e){this._super(e);this.state={nextBtn:{show:true,icon:"leadConversion.next",enabled:false,label:"LBL_NEXT_BUTTON_LABEL"},backBtn:{show:false,icon:"leadConversion.back",enabled:true,label:"LBL_BACK"}}},navigate(e){e.preventDefault();e.stopPropagation();const t=$(e.currentTarget);if(t.hasClass("disabled")){return}const n=t.hasClass("lead-conversion__next");const i=n?this._activeIndex+1:this._activeIndex-1;this.trigger("view:switch",{index:i})},update(e){this.state.nextBtn=_.extend({},this.state.nextBtn,e.nextBtn);this.state.backBtn=_.extend({},this.state.backBtn,e.backBtn);this.render()},syncActive({index:e}){this._activeIndex=e}})},function(e,t,n){const i=n(17);const a=n(32);const r=n(384);const s=n(385);const o=n(382);const l=n(10);const c=n(4);const u=n(12);const d={DEFAULT:"default",FULFILLED:"fulfilled",INVALID:"invalid"};e.exports=l.extend(a,{_stringType:"lead-conversion-container",lazyLoad:false,lazyRender:false,shouldFetchContext:false,omitSwitcherForOneView:false,loadViewOnSwitch:true,viewSwitcher:s,template:"lead-conversion-view",initialize(e){this.conversionModules=e.data.conversionModules;this.sourceFields=app.metadata.getModule("Leads","fields");this.leadModel=e.data.leadModel;this.stepsCount=this.conversionModules.length;this.$loadingScreenTargetEl=app.$rootEl.find("#content-child");this._super(e);this.leadConversionAnalytics=o();this.leadConversionAnalytics.initiate()},getChildViewEvents(e){const t=this._super(e);return _.extend(t,{"selection:change":e=>{this.updateViewSwitcher(e)},"view:show":e=>{this.updateViewSwitcher(e);const t=app.lang.getModuleName(this.currentView.module);app.controller.updateHeader(this,e=>{const n=this.currentView.isRequired();const i=n?t:`${t} (${app.lang.get("LBL_OPTIONAL")})`;e.setTitle(i)});this.updateProgressBar()}})},updateViewSwitcher(e){this.viewSwitcher.update(this.getNavigationState(e))},onAfterRender(){this._super();this.$progress=this.$(".progress-bar");this.updateProgressBar();this.updateViewSwitcher()},headerConfig(e){const t=this._views[this.activeIndex];const n=app.lang.getModuleName(t.module);const i=this.currentView.isRequired();const a=i?n:`${n} (${app.lang.get("LBL_OPTIONAL")})`;return _.extend({},e,{title:a,buttons:{cancel:true}})},createDuplicatesCollection({module:e,duplicatesCheckModel:t}){return app.data.createBeanCollection(e).setOption("endpoint",(n,i,a,r)=>{const s=app.api.buildURL(e,"duplicateCheck");const o=_.keys(t.attributes);const l=app.data.getEditableFields(t,o);return app.api.call("create",s,l,r)})},getDuplicateCheckModel({moduleMetadata:e,sourceFields:t,sourceModel:n}){if(!e.copyData){return}const i=_.isEmpty(e.fieldMapping)?{}:e.fieldMapping;const a=app.metadata.getModule(e.module,"fields");const r=app.data.createBean(e.module);_.each(n.attributes,(e,s)=>{const o=t[s];const l=a[s];if(_.isUndefined(o)||_.isUndefined(l)||!_.isUndefined(i[s])){return}if(app.acl.hasAccessToModel("edit",r,s)&&o.type===l.type&&o.duplicate_on_record_copy!=="no"&&n.has(s)&&n.get(s)!==r.get(s)){i[s]=s}});this.populateRecord(n,r,i);return r},populateRecord(e,t,n){let i=false;_.each(n,(n,a)=>{if(e.has(n)&&this.shouldSourceValueBeCopied(e.get(n))&&e.get(n)!==t.get(a)){let r=e.get(n);if(_.isObject(r)){r=app.utils.deepCopy(r)}t.setDefault(a,r);t.set(a,r);i=true}});return i},updateDependentModels(e){const t=e.module;_.each(this._views,n=>{const{model:i}=n;const a=_.findWhere(this.conversionModules,{module:i.module});const r=a&&a.dependentModules;const s=r&&r[t]&&r[t].fieldMapping;if(s){const t=this.populateRecord(e,i,s);if(t){n.collection.dataFetched=false}}})},shouldSourceValueBeCopied(e){return _.isNumber(e)||_.isBoolean(e)||!_.isEmpty(e)},showLoadingScreen(){u.show("lead-conversion",{template:"preloader-convert-lead",$appendTo:this.layout.$el})},hideLoadingScreen(){u.hide("lead-conversion",{animate:true})},getViewDefs(e){const t=[];const n=_.map(this.conversionModules,n=>{const{module:a}=n;const s=n.duplicateCheckOnStart;const o=this.getDuplicateCheckModel({moduleMetadata:n,sourceFields:this.sourceFields,sourceModel:e.data.leadModel});const l=this.createDuplicatesCollection({module:a,duplicatesCheckModel:o});const c=new i((e,t)=>{this.listenTo(l,"data:sync:start",()=>{this.showLoadingScreen()}).listenTo(l,"sync",()=>{this.hideLoadingScreen();if(l.length){this.leadConversionAnalytics.trackDuplicatesFound(a)}e()}).listenTo(l,"data:sync:error",e=>{this.hideLoadingScreen();t(new Error(e))})});t.push(c);return{module:a,shouldCheckOnStart:s,viewId:`list-switcher-${a}`,conversionMetadata:n,collection:l,model:o||app.data.createBean(a),view:r,title:app.lang.getModuleName(a)}});i.all(t).catchReturn();return n},switchView(e){const t=e.index;const n=this._views[t];if(!n){this.convert();return}const i=_.keys(n.options.conversionMetadata.dependentModules);_.chain(this._views).map(e=>e.getSelectedItem()).each((e,t)=>{const n=this._views[t];if(_.contains(i,n.module)){this.updateDependentModels(e)}});this._super(e)},getNavigationState(e){const t=this._views[this.activeIndex+1];const n=t?app.lang.getModuleName(t.module):"LBL_CONVERT";const i=this._views[this.activeIndex-1];const a=i&&app.lang.getModuleName(i.module);const r={label:n,enabled:!this.currentView.isRequired()||!t&&e||e};const s={show:Boolean(a),label:a};if(!t){r.icon=false}return{nextBtn:r,backBtn:s}},getProgress(){return((this.activeIndex+1)/this.stepsCount*100).toFixed(0)},updateProgressBar(){const e=this.getProgress();this.$progress.css("left",`${e}%`);this.$progress.attr("data-progress",`${e}%`)},convert(){const e=e=>e.getSelectedItem();const t=this._views.filter(e);const n=t.map(e);const i=t.map(e=>e.module);this.leadConversionAnalytics.trackConvert(i);return this.moveRelatedActivitiesConfirm().then(()=>this.requestLeadConversion(n)).then(()=>this.onConversionSuccess()).catch(e=>this.onConversionError(e)).tap(()=>{app.syncAlertManager.hideSyncAlert()})},requestLeadConversion(e){const t=new Backbone.Model(_.extend({modules:this.parseEditableFields(e)},this.getTransferActivitiesAttributes()));const n=app.api.buildURL("Leads","convert",{id:this.leadModel.id});app.syncAlertManager.showSyncAlert("update");return new i((e,i)=>{app.api.call("create",n,t,{success:e,error:e=>{this.leadConversionAnalytics.trackError(e);app.error.handleHttpError(e,null,{forceAlert:true});i(new Error(e))}})})},moveRelatedActivitiesConfirm(){return new i((e,t)=>{const n=app.metadata.getConfig().leadConvActivityOpt;if(n==="donothing"){return e()}c.showConfirm(app.lang.get("LBL_MOVE_RELATED_ACTIVITIES_PROMPT"),{callback:t=>{if(t===2){this.model.set("transfer_activities",true,{silent:true})}e()}})})},onConversionSuccess(){app.alert.show("conversion_success",{level:"success",messages:app.lang.get("LBL_LEAD_CONVERSION_SUCCESS",null,{name:this.leadModel.get("name")}),autoClose:true});app.controller.goBack()},onConversionError(e){},parseEditableFields(e){const t={};_.each(e,e=>{const n=_.keys(e.attributes);t[e.module]=app.data.getEditableFields(e,n)});return t},getTransferActivitiesAttributes(){const e=app.metadata.getConfig().leadConvActivityOpt;const t=this.model.get("transfer_activities");return{transfer_activities_action:e==="move"&&t?"move":"donothing"}}})},function(e,t,n){const i=n(10);const a=n(33);i.registerListItemDataProvider({name:"list-item-emails",prepareFields(...e){const[,t]=e;const n=this.parent.prepareFields.apply(this,[...e]);const i=_.findWhere(t.displayFields,{name:"date_sent"});const a=_.findWhere(t.displayFields,{name:"name"});if(i){n.additionalFields=_.filter(n.additionalFields,e=>!e.name!=="date_sent");_.extend(n,{dateSentFieldDef:{name:"date_sent",type:"datetimecombo"},subjectFieldDef:a})}return n}});const r=i.extend(a,{isSearchEnabled:false,listItemTpl:"emails-list-item",listItemDataProvider:"list-item-emails"});e.exports=r},function(e,t,n){const i=n(10);const a=n(15);const r=i.extend(a,{listItemTpl:"leads-list-item",listItemDataProvider:"list-item-leads"});i.registerListItemDataProvider({name:"list-item-leads",prepareFields(...e){const[,t]=e;let n=this.parent.prepareFields.apply(this,[...e]);const i=_.findWhere(t.displayFields,{name:"status"});const a=Boolean(_.findWhere([...n.additionalFields||[],t.sortBy,n.titleField],{name:"status"}));if(i&&!a){n=_.extend({},n,{statusFieldDef:i})}return n}});e.exports=r},function(e,t,n){const i=n(10);const a=n(15);const r=i.extend(a,{});e.exports=r},function(e,t,n){const i=n(1);const a=n(6);const r=n(73);const s=n(85);const o=function e(t,n,i){const r=app.utils.formatString(t,[i.id]);a.openUrl(r)};e.exports=i.extendComponent(r,{contextMenuActions:[{name:"reply",types:["context-menu"],label:"LBL_TWITTER_REPLY",iconKey:"actions.reply",handler:function e(t,n){o(t._urlTweetReply,t,n)}},{name:"retweet",types:["context-menu"],label:"LBL_TWITTER_RETWEET",iconKey:"actions.retweet",handler:function e(t,n){o(t._urlRetweet,t,n)}},{name:"favorite",types:["context-menu"],label:"LBL_TWITTER_FAVORITE",iconKey:"actions.favorite",handler:function e(t,n){o(t._urlTweetFavorite,t,n)}}],_urlTweetReply:"https://twitter.com/intent/tweet?in_reply_to={0}",_urlRetweet:"https://twitter.com/intent/retweet?tweet_id={0}",_urlTweetFavorite:"https://twitter.com/intent/favorite?tweet_id={0}",_urlTweetOpen:"https://twitter.com/{0}/status/{1}",_urlTwitterProfile:"https://twitter.com/{0}",isPaginationEnabled:false,initialize(e){this.connectorCriteria=["eapm_bean","test_passed"];this._super(e)},onItemClick(e){const t=app.utils.formatString(this._urlTweetOpen,[e.screen_name,e.id]);a.openUrl(t)},refresh(e){this.loaded=false;this.loadData(e)},loadData(e){if(this.loaded){return}this.tried=false;this._checkConnector(e)},loadDataWithValidConnector(e,t){const n=this;t=t||{};const i=function(t,i,a,r){if(!n.getTwitterName()){return}const o=parseInt(n.listParams.limit||app.config.maxQueryResult);const l=app.api.buildURL("connector/twitter","",{id:n.twitter},{count:o,connectorHash:e.connectorHash});const{success:c}=r;const u=r.error;r.success=function e(t,i){if(_.isArray(t)){_.each(t,e=>{e=_.extend(e,n.processRawTweet(e))},this)}else{t=[]}if(c){c({next_offset:-1,records:t},i)}};r.error=function e(t){if(c){c({next_offset:-1,records:[]},t.request)}if(t.code){if(n.tried){n.handleLoadError(null)}else{n.tried=true;s.getConnectors(()=>n._checkConnector(a))}}else{u(t)}};return app.api.call("read",l,null,r)};this.collection.fetch({endpoint:i,complete(){n.loaded=true;if(_.isFunction(t.complete)){t.complete()}}})},_checkConnector(e){s.checkConnector({name:"ext_rest_twitter",criteria:this.connectorCriteria,success:t=>{this.loadDataWithValidConnector(t,e)},error:t=>{this.handleLoadError(t);if(e&&e.complete){e.complete()}}})},processRawTweet(e){const t=app.date(e.created_at,"ddd MMM DD HH:mm:ss Z YYYY").toDate();let n=e.retweeted_status?`RT @${e.retweeted_status.user.screen_name}: ${e.retweeted_status.text}`:e.text;const i=e.source;const a=e.id_str;const{name:r}=e.user;const s=n.split(" ");const{screen_name:o}=e.user;const l=app.utils.formatString(this._urlTwitterProfile,[e.user.screen_name]);const c=e.user.profile_image_url_https;let u;const d=new Date;const f=(d.getTime()-t.getTime())/(1e3*60*60*24);const p=f>1;for(u=0;u<s.length;u++){if(s[u].charAt(0)==="h"&&s[u].charAt(1)==="t"){s[u]=`<a class='tw__as_content_url' href="${s[u]}" target='_blank'>${s[u]}</a>`}}n=s.join(" ");return{id:a,name:r,screen_name:o,tw_profile_url:l,tw_profile_image_url:c,text:n,source:i,date:t,useAbsTime:p}},handleLoadError(e){let t=app.lang.get("LBL_CONFIGURE_TWITTER");if(!e&&this.twitter){t=app.lang.get("LBL_ERROR_CANNOT_FIND_TWITTER")+this.twitter}else if(e&&!e.test_passed&&e.testing_enabled){t=app.lang.get("LBL_CONNECT_TEST_FAIL")}this.$(".no-records-found").showElement();app.alert.show("twitter_error",{level:"error",messages:t,autoClose:true})},getTwitterName(){const e=this.listParams;const{parentModel:t}=e;let n;let i;if(e.twitter){n=e.twitter}else if(t){i=s.getConnectorModuleFieldMapping("ext_rest_twitter",t.module)||{};n=t.get("twitter")||t.get(i.name)||t.get("name")||t.get("account_name")||t.get("full_name")}if(n){n=n.replace(/ /g,"");this.twitter=n}return n}})},function(e,t,n){const i=n(1);const a=n(9);const r=n(145);e.exports=i.extendComponent(r,{className:"view__login login__settings",template:"login-settings",events(){const e=this._super();_.extend(e,{"click .continue_btn":"onContinue","keyup input":()=>this._updateSettingsBtnsState(),"change input":()=>this._updateSettingsBtnsState(),"keypress input":e=>{if(e.which===13){e.srcElement.blur();this.onContinue()}}});return e},initialize(e){this._super(e);const t=a.getTempSetting();this.serverUrl=t.loginUrl;this.useHttps=t.useHttps;this.isSSO=t.isSSO},onContinue(){if(!this.$(".continue_btn").is("[disabled=disabled]")){this.updateLoginSettings(()=>{this.trigger("settings:submit")})}}})},function(e,t,n){const i=n(11);const a=n(1);const r=n(364);const s="DATA_GEN_ALERT";const o=a.extendComponent(i,{template:"offline-data-generation",recordsPerModule:1e3,parentRelationsAmount:1,childRelationsAmount:1,_isBusy:false,events(){return{"click button":"_onButtonClick","change #relation-select":"_onRelationSelect"}},initialize(e){this._super(e);r.init();this._modules=r.availableModules.sort();this._relationships=r.availableRelationships},generateDefault(){const e=Number(this.$el.find("#all-data-amount").val());r.generateRecords({amount:e,callback:()=>this.onGenerationFinished()})},generateCustom(){const e=this.$el.find(".custom-data-checkbox:checked");const t={};_.each(e,e=>{const n=$(e).data("module");const i=Number(this.$el.find(`input[type=number][data-module=${n}]`).val());t[n]={amount:i}});r.generateRecords({modules:t,callback:()=>this.onGenerationFinished()})},generateRelationships(){r.generateAllRelations({callback:()=>this.onGenerationFinished()})},generateCustomRelationships(){const e={parentAmount:Number(this.$el.find("#parent-module-amount").val()),childAmount:Number(this.$el.find("#child-module-amount").val()),callback:()=>this.onGenerationFinished()};r.generateRelationship(this._getSelectedRelation(),e)},_onRelationSelect(){const e=this._getSelectedRelation();this.$el.find("#parent-module").text(e.parentModule);this.$el.find("#child-module").text(e.childModule)},_onButtonClick(e){if(this._isBusy){return}const t=$(e.target).data("action");let n=true;switch(t){case"generate-default-data":this.generateDefault();break;case"generate-selected-data":this.generateCustom();break;case"generate-default-relationship":this.generateRelationships();break;case"generate-selected-relationship":this.generateCustomRelationships();break;default:n=false;break}if(n){this._isBusy=true;app.alert.dismiss(s);app.alert.show(s,{autoClose:false,messages:"Working hard ..."})}},_getSelectedRelation(){const e=this.$el.find("#relation-select").val().split(" ")[0];return app.offline.storage.offlineMeta.relationships[e]},onGenerationFinished(){this._isBusy=false;app.alert.dismiss(s);app.alert.show(s,{level:"success",autoClose:true,messages:"Done!"})}});e.exports=o},function(e,t,n){const i=n(1);const a=n(41);const r=i.extendComponent(a,{_loadTemplate(){this._super();this.isCurrencySelectorVisible=Boolean(this.view&&this.view.module==="Products");this.isCurrencyLabelVisible=!this.isCurrencySelectorVisible;const e=this.def.name==="total_amount";if(e){const e=this.isEdit&&this.action==="disabled";if(e){this.template=app.template.getField("currency","line-item-total")}}}});e.exports=r},function(e,t,n){const i=n(1);const a=n(41);const{isEmptyValue:r}=n(3);const s=i.extendComponent(a,{initialize(e){this._super(e);this._isDealTotal=this.def.name==="deal_tot"},_loadTemplate(){this._super();if(this._isDealTotal&&this.def.isSummary){this.template=app.template.getField("currency","deal-total")}},onBeforeRender(){this._updateDiscountPercent();this._super()},_updateDiscountPercent(){if(!this._isDealTotal){return}let e=this.model.get("deal_tot_discount_percentage");if(!r(e)||e===0){const t=app.utils.formatNumber(e,false,app.user.getPreference("decimal_precision"),app.user.getPreference("number_grouping_separator"),app.user.getPreference("decimal_separator"));e=`${t}%`}this.valuePercent=e}});e.exports=s},function(e,t,n){const i=n(1);const a=n(64);const r=i.extendComponent(a,{onRelatedItemSelected(e){this._super(e);if(this.name==="taxrate_name"&&e.get("value")){this.model.set("taxrate_value",e.get("value"))}}});e.exports=r},function(e,t,n){const i=n(1);const a=n(43);const r=n(397);const s=n(4);const o=n(3);e.exports=i.extendComponent(a,{template:"qli-container",className:"qli-container",plugins:["SugarLogic"],events(){return{"click .qli-action--group-add":this.onGroupAddClick}},initialize(e){this._super(e);this.name="edit";this._storeBundlesDuplicate();this._deletedGroups=[];this.context.set("dataView","record");this._viewDefs=[];this._initFields();this._activeModelId=this.options.activeModelId},isEditView(){return true},_ensureDefaultGroup(){const e=this.model.get("bundles");const t=e&&e.filter(e=>e.get("default_group"));if(_.isEmpty(t)){const e=this.addNewGroup({default_group:true,position:0},{skipRender:true});e._virtual=true}else if(t.length>1){const n=_.find(t,e=>e._virtual);if(n){e.remove(n,{silent:true})}}},loadData(e={}){const t=_.extend({},e,{success:(...t)=>{this.render();if(e.success){e.success(...t)}},error:e.error});this.context.loadData(t)},validate(){return new Promise((e,t)=>{this.model.doValidate(["bundles"],n=>{if(n){e()}else{t(new Error("qli_validation_error"))}})})},save(){return this._saveGroups().then(()=>this._deleteGroups())},_saveGroups(){return Promise.mapSeries(this.getViews(),e=>e.save())},_deleteGroups(){return Promise.mapSeries(this._deletedGroups,e=>new Promise((t,n)=>{e.destroy({success:()=>{this._deletedGroups=_.without(this._deletedGroups,e);t()},error:n})}))},_initFields(){const e=app.metadata.getModule("Quotes","views");const t=_.getNested(e,"quote-data-grand-totals-footer.meta.panels.0.fields");this.totalField=_.findWhere(t,{name:"total"});this.summaryFields=_.without(t,this.totalField).map(o.quotesSummaryFieldMapper)},onBeforeRender(){this._restoreBundlesDuplicate();this._ensureDefaultGroup();this.initViewDefs(this.options);this._super()},onAfterRender(){this._super();this._attachScrollDetection();this._focusActiveView()},onAfterShow(){this._super();this._restoreScrollPosition()},_dispose(){this._detachScrollDetection();this._super()},_attachScrollDetection(){this.$scrollableElement=this.$el.find(".scroll");this.$scrollableElement.on("scroll.detection",e=>{this._scrollTop=e.target.scrollTop})},_detachScrollDetection(){if(this.$scrollableElement){this.$scrollableElement.off("scroll.detection");this.$scrollableElement=null}},_restoreScrollPosition(){if(this._scrollTop){this.$scrollableElement.scrollTop(this._scrollTop)}},_focusActiveView(){if(!this._activeModelId){return}const e=_.first(this.$el.find(`[data-model-id="${this._activeModelId}"]`));if(e){e.scrollIntoView();this._activeQliModelId=null}},getViewDefs(e){const t=e.context.get("model");const n=t.get("bundles")||[];n.comparator=app.nomad.utils.getQuotesCollectionComparator();n.sort();return n.map((e,t)=>({view:r,viewId:`qli-edit-${e.id||e.cid}`,module:e.module,model:e}))},getChildViewEvents(e){const t=this._super(e);return _.extend(t,{"qli:group:delete":t=>this.onGroupDelete(t,e)})},getViewContext({module:e,model:t}){const n=this.context.getChildContext({link:"product_bundles",module:e,model:t}).prepare(false,true);n.set("dataView","record");return n},addNewGroup(e={},t={}){const n="product_bundles";const i=this.model.get("bundles");const a=app.data.getRelatedModule(this.model.module,n);_.defaults(e,{_link:n,module:a,position:i?i.length:0,default_group:false});const r=app.data.createRelatedBean(this.model,null,n);r.module=a;r.set(e);r.modelView="edit";if(i){i.add(r,{at:e.position});_.each(i.models,(e,t)=>e.set({position:t},{silent:true}))}else{this.model.set({bundles:r})}if(!t.skipRender){this.render()}return r},deleteGroup(e,t){const n=this.model.get("bundles");const i=n.find(e=>e.get("default_group"));const a=i.get("product_bundle_items");const r=a.length;const s=e.get("product_bundle_items");const o=s.map((e,t)=>app.data.createRelatedBean(i,e,e.link.name,{position:r+t}));a.add(o);s.reset();n.remove(e);this._deletedGroups.push(e);this.deleteView(t,{forceRender:o.length!==0})},onGroupDelete(e,t){const n=e.get("name")?`"${e.get("name")}"`:"";const i=app.utils.formatString(app.lang.get("LBL_QLI_GROUP_DELETE"),[n]);s.showConfirm(app.lang.get(i),{callback:n=>{if(n===2){this.deleteGroup(e,t)}}})},onGroupAddClick(){this.addNewGroup();this._restoreScrollPosition()},_storeBundlesDuplicate(){if(this.context.get("duplicate")){this._bundlesBackup=this.model.get("bundles").slice();this.model.unset("bundles")}},_restoreBundlesDuplicate(){if(!_.isEmpty(this._bundlesBackup)){const e=this.model.get("bundles");_.each(this._bundlesBackup,t=>e.add(t));this._bundlesBackup=null}_.each(this.model._relatedCollections,e=>e.resetDelta())}})},function(e,t,n){const i=n(1);const a=n(8);const r=n(4);e.exports=i.extendComponent(a,{template:"qli-group-edit",plugins:["SugarLogic"],events(){return{"click .qli-action--add-item":this._addNewProduct,"click .qli-action--comment":this._addNewProductNote,"click .qli-item-header__delete":this._onQliDeleteClick,"click .qli-group-header__delete":this._onQliGroupDeleteClick}},initialize(e={}){this._super(e);this._dataBackup=app.utils.deepCopy(this.model.attributes);this.isDefaultGroup=this.model.get("default_group");this.bundleItemsCollection=this.model.get("product_bundle_items");this.listenTo(this.bundleItemsCollection,"update",this._rebuildItems);this.listenTo(this.bundleItemsCollection,"add",this._markModelMoved);this._setupSugarLogic();this._initGroupTitle();this._prepareQliFieldsMeta();this._addCollectionFieldsValidation();this._buildQliGroupRecords()},loadData(){},save(){const e=[this._getModelSavingTasks(this.model),this._getDeltaSavingTasks(),this._getModelSavingTasks(this.bundleItemsCollection.models)];return Promise.mapSeries(_.flatten(e),this._getModelSaver)},_getModelSaver(e){const{model:t,fields:n}=e;let i;if(e.isDelete){i=((e,n)=>{t.destroy({success:()=>e(),error:n})})}else{i=((i,a)=>{t.save(null,{fields:n,relate:e.isRelate,success:()=>i(),error:a})})}return new Promise(i)},_getModelSavingTasks(e=[]){const t=_.isArray(e)?e:[e];const n=[];_.each(t,e=>{const t=[];_.each(this._getChangedFields(e),(e,n)=>{const i=!(e instanceof app.MixedBeanCollection);if(i){t.push(n)}});if(t.length){n.push({fields:t,model:e,isRelate:e.isNew()||e._isMoved})}});return n},_getChangedFields(e){if(e.isNew()){return e.attributes}const t=e.module==="ProductBundles";const n=t?this._dataBackup:_.find(this._dataBackup.product_bundle_items,t=>t.id===e.id);if(!n){return e.attributes}const i=t?["product_bundle_items"]:null;const a=e.getChangeDiff(n,i);return a},isEditView(){return true},_getDeltaSavingTasks(){const e=this.bundleItemsCollection.getDelta()||{};const t=[];_.each(e,(e,n)=>{_.each(e.delete,e=>{const i=app.data.getRelatedModule(this.model.module,n);const a=app.data.createBean(i,{id:e});t.push({model:a,isDelete:true})})});return t},_addCollectionFieldsValidation(){app.nomad.utils.addCollectionFieldValidator(this.model,e=>e.module==="Products"?this.qliFields:this.commentFields)},_initGroupTitle(){const e=app.metadata.getModule(this.module);this.isGroupTitleVisible=!this.isDefaultGroup;this.groupTitleField=e.fields.name},_dispose(){_.each(this._sugarLogicContexts,e=>e.dispose());this._sugarLogicContexts=null;this._super()},_setupSugarLogic(){this._sugarLogicContexts={};_.each(this.model.fields.product_bundle_items.links,e=>{const t=this.model.getRelatedCollection(e.name);if(t){this._setupSugarLogicForCollection(t);this.listenTo(t,"update",()=>this._setupSugarLogicForCollection(t))}})},_setupSugarLogicForCollection(e){const t=this._getSugarLogicDependencies(e.module);if(!_.isEmpty(t)){e.each(n=>{if(!this._sugarLogicContexts[n.cid]){const i=new SUGAR.expressions.SidecarExpressionContext(this,n,e);i.initialize(t);this._sugarLogicContexts[n.cid]=i}})}},_getSugarLogicDependencies(e){const t=app.metadata.getModule(e);const n=t.dependencies||[];const i=_.getNested(t,"views.record.meta.dependencies");if(!_.isEmpty(i)){n.push(...i)}return n},_buildQliGroupRecords(){this.bundleItemsCollection.comparator=app.nomad.utils.getQuotesCollectionComparator();this.bundleItemsCollection.sort();let e=0;this.qliRecords=_.map(this.bundleItemsCollection.models,(t,n)=>{const i=t.module==="Products";return{lineNum:i?++e:undefined,isProduct:i,model:t}})},_prepareQliFieldsMeta(){const e=app.metadata.get().modules;this.qliFields=e.Products.views["quote-data-group-list"].meta.panels[0].fields;this.commentFields=e.ProductBundleNotes.views["quote-data-group-list"].meta.panels[0].fields;const t=e.ProductBundles.views["quote-data-group-footer"].meta.panels[0].fields;this.groupTotalField=_.findWhere(t,{name:"new_sub"});this._updateGroupTotalVisibility()},_updateGroupTotalVisibility(){this.isGroupTotalVisible=!this.isDefaultGroup&&!this.bundleItemsCollection.isEmpty()},_addNewProduct(){const e=this.context.get("parentModel");const t={quote_id:e.get("id"),currency_id:e.get("currency_id"),base_rate:e.get("base_rate")};this._addNewItem("products",t)},_addNewProductNote(){this._addNewItem("product_bundle_notes")},_onQliDeleteClick(e){const t=this._getCidFromEvent(e);const n=this.bundleItemsCollection.find(e=>e.cid===t);if(n){const e=n.module==="Products"?"LBL_QLI_DELETE":"LBL_QLI_COMMENT_DELETE";r.showConfirm(app.lang.get(e),{callback:e=>{if(e===2){this._deleteQli(n)}}})}},_deleteQli(e){this.bundleItemsCollection.remove([e])},_onQliGroupDeleteClick(e){this.trigger("qli:group:delete",this.model,this)},_getCidFromEvent(e){return $(e.target).parents("[data-cid]").data("cid")},_addNewItem(e,t={}){const n=app.data.getRelatedModule(this.model.module,e);_.defaults(t,{module:n,_link:e,position:this.bundleItemsCollection.length});const i=app.data.createRelatedBean(this.model,null,e);i.module=n;i.set(t);i.modelView="edit";this.bundleItemsCollection.add(i)},_rebuildItems(){this._buildQliGroupRecords();this._updateGroupTotalVisibility();this.render()},_markModelMoved(e){if(this.isDefaultGroup&&e.id){e._isMoved=true}}})},function(e,t,n){const{isDirectionLTR:i}=n(3);const a=n(1);const r=n(11);const s=n(33);const o=n(48);const l=a.extendComponent(r,{template:"right-menu",events:{click(){this.toggle(false)},"click .menu-item__link":"onItemClick"},quickAction:undefined,quickActionTypes:["create","create-related","create-parent"],initialize(e){this._super(e);this.$body=$(document.body);const t=e.parentView instanceof s;this.options.viewBaseType=t?"list":"detail";if(t){this._parentView=e.parentView.name==="global-search"?e.parentView:e.parentView.getCurrentList()}else{this._parentView=e.parentView.getViewById("detail")}this.availableActions=this.getAvailableActions();const n=_.first(this.availableActions);if(this.availableActions.length===1&&_.contains(this.quickActionTypes,n.name)){this.quickAction=n}},onAfterRender(){this._super();this.$contentWrapper=app.$rootEl.find("#wrapper")},isActionListAvailable(){return!_.isEmpty(this.availableActions)&&!this.quickAction},getAvailableActions(){return o.getRightMenuActions({model:this._parentView.model||this._parentView.collection,viewType:this.options.viewBaseType,viewSubType:this.options.viewSubType,view:this._parentView})},refillMenu(){this.availableActions=this.getAvailableActions();this.render()},toggle(e,t,n){const a=i()?1:-1;e=_.isUndefined(e)?!this._isRightMenuOpened:e;const r={show:e,disableAnimation:t,callback:n,view:this};if(e){this.refillMenu();this.$body.on(`touchstart.header${this.cid}`,e=>{if(this.disposed){return}const t=$(e.target);const n=(t.hasClass("create-entity")||t.hasClass("header-icon__plus"))&&!_.isEmpty(this.options.headerRef.$el.find(t));const i=app.isTablet?!_.isEmpty(this.$el.find(t)):!_.isEmpty($("#right-menu").find(t));if(!(n||i)){this.toggle(false)}if(app.isTablet){e.stopPropagation()}})}else{this.$body.off(`touchstart.header${this.cid}`)}if(app.isTablet){this._isRightMenuOpened=e;this.$(".createBtn").toggleClass("active",e);app.$rootEl.find(".box__header").toggleClass("box__header_full-height",e);app.$rootEl.find(".overlay__right-menu").toggleElement(e);this.$(".right-menu")[e?"fadeIn":"fadeOut"]();this.registerActiveComponent(r)}else{this.registerActiveComponent(r);const i=t||!app.supportedFeatures.menuAnimation?0:200;const s=this.$(".right-menu");const o={contentAnimation:{"-webkit-transform":e?`translate3d(${a*-86}%, 0, 0)`:"translate3d(0, 0, 0)"},overlayAnimation:{"-webkit-transform":e?`translate3d(${a*-86}%, 0, 0)`:`translate3d(${a*-100}%, 0, 0)`}};const l=()=>{this.$body.toggleClass("show-right-menu",e);this._isRightMenuOpened=e;if(n){n()}};this.animateMenu({isShowing:e,data:o,$menu:s,callback:l,duration:i})}},registerActiveComponent(e){if(e.show){this.onClose=(()=>this.toggle(false,e.disableAnimation,e.callback));app.activeComponents.add(this)}else{this.onClose=undefined;app.activeComponents.remove(this)}},animateMenu({data:e,isShowing:t,$menu:n,callback:i=_.noop,duration:a}){this._isShowing=t;if(t){n.addClass("show")}this.$contentWrapper.animate(e.contentAnimation,a,"ease-out",()=>{if(!t){_.delay(()=>n.removeClass("show"),a)}if(e.overlayAnimation){app.$rootEl.find("#content-overlay").animate(e.overlayAnimation,0)}i({isShowing:t})})},onItemClick(e){e.preventDefault();e.stopPropagation();const t=$(e.currentTarget).attr("action");const n=_.findWhere(this.availableActions,{name:t});this.executeAction(n)},executeAction(e){if(e&&_.isFunction(e.handler)){e.handler(this._parentView,this.model)}}});e.exports=l},function(e,t,n){const{stripLastEmptyStrings:i,charToHtmlEntity:a,escapeRegExp:r,stringToHtmlEntities:s,isOnline:o}=n(3);const l=n(1);const c=n(8);const u=n(76);const d=2;const f=30;const p=8;const h=100;const m=50;const g=u.searchDelay;const v="@";const b="#";const y=["name","first_name","last_name"].join();e.exports=l.extendComponent(c,{className:"view__taggable",template:"taggable",tagListOptionTemplate:Handlebars.compile('<li><a class="taggable-listItem {{#if noAccess}}disabled{{/if}}">{{#if noAccess }}<span class="taggable-status">{{str "LBL_NO_ACCESS_LOWER"}}</span>{{/if}}<div class="label label-module-sm label-{{module}}" {{debugAttributes "record_id" id}}>{{moduleIconLabel module}}</div>{{{htmlName}}}</a></li>'),tagShadowTemplate:Handlebars.compile('<span class="sugar_tag {{class}} label-{{module}}">{{text}}</span>'),tagTextTemplate:Handlebars.compile("@[{{module}}:{{id}}:{{name}}]"),_taggableEnabled:false,_taggableListOpen:false,_taggableModuleName:null,_taggableModuleList:null,_taggableModelId:null,_searchForTagsTimerId:null,_lastSearch:null,_prevValue:"",_tags:null,_textareaSelector:".taggable",_shadowSelector:".taggable-shadow",_dropdownSelector:".taggable-dropdown",$textarea:null,textarea:null,$shadow:null,$dropdown:null,events:{"input .taggable":"onInput","click .taggable-dropdown li":"onSearchResultClick","click .sugar_tag":function(){this.$textarea.focus()}},initialize:function e(t){this._super(t);this._tags={};this._taggableModuleList=_.filter(app.metadata.getModuleNames({filter:"visible"}),e=>e!=="Employees"&&e!=="Users");if(this.model.link){this._taggableModuleName=this.model.link.bean.get("parent_type");this._taggableModelId=this.model.link.bean.get("parent_id")}else{this._taggableModuleName=this.model.module;this._taggableModelId=this.model.id}this._resetLastSearch()},_dispose:function e(){this._abortRequests(true);this._super()},getPost:function e(){const t={};const n=this.textarea.value;let i=0;const a=n.length;let r;const s={};let o;t.value="";while(i<a){r=this._tags[i];if(r){o={id:r.model.get("id"),module:r.model.get("_module"),name:r.model.get("name")};s[o.id]=o;t.value+=this.tagTextTemplate(o);i+=r.text.length}else{t.value+=n[i];++i}}t.tags=_.values(s);return t},save:function e(){const t=this.getPost();const n=i(t.value);this.model.set("tags",t.tags,{silent:true});this.model.set("value",n);this.model.trigger("save")},onHeaderSaveClick(){this.save()},onAfterRender:function e(){this.$shadow=this.$el.find(this._shadowSelector);this.$dropdown=this.$el.find(this._dropdownSelector);this.$textarea=this.$el.find(this._textareaSelector);this.textarea=this.$textarea[0];this.$textarea.focus().scroll(_.bind(this.onScroll,this))},onScroll:_.throttle(function e(){const t=this.$textarea.scrollTop();this.$shadow.scrollTop(t)},m),onInput:function e(){_.defer(_.bind(function e(){if(this.disposed){return}let t;let n;if(this.textarea.value!==this._prevValue){this._fixTags();this._refreshShadow();t=this._findSearchTerm();n=t.offset!==-1;if(!n&&this._taggableEnabled){this._closeDropdown();this._resetLastSearch()}this._taggableEnabled=n;this._abortRequests(!this._taggableEnabled);if(this._taggableEnabled){this._searchForTags(t)}this._prevValue=this.textarea.value}},this))},onSearchResultClick(e){const t=$(e.target).closest("li");const n=t.closest("ul").children("li").index(t);const i=this._lastSearch.results.models[n];if(i.get("has_access")!==false){this._insertSearchResult(i,this._lastSearch.searchTerm)}},onDataFetch(e,t){if(this._taggableEnabled&&_.isEqual(this._findSearchTerm(),e)){this._lastSearch.searchTerm=e;this._lastSearch.results=t;this._populateTagList(t,e)}},_isReferenceOrMention(e){return e===v||e===b},_refreshShadow:_.throttle(function e(){if(this.disposed){return}let t;const n=this.textarea.value;let i=0;const r=n.length;let s="";const o=a;while(i<r){t=this._tags[i];if(t){s+=t.html;i+=t.text.length}else{s+=o(n[i]);++i}}this.$shadow.html(s).trigger("scroll")},h),_findSearchTerm:function e(){const t={offset:-1,action:"",term:""};let n="";let i=0;let a=this.textarea.selectionEnd-1;let r=f;const s=this.textarea.value;if(this.textarea.selectionEnd&&this.textarea.selectionStart===this.textarea.selectionEnd){while(a>=0&&r){if(this._isReferenceOrMention(s[a])){if(i>=d){t.offset=a;t.action=s[a];t.term=n}break}else if(s[a]==="\n"){break}else if(s[a]!==" "){++i;--r}n=s[a]+n;--a}}return t},_abortRequests:function e(t){let n=false;if(this._searchForTagsTimerId){window.clearTimeout(this._searchForTagsTimerId);this._searchForTagsTimerId=null}if(this._lastSearch.referenceCollection.getFetchRequest()){this._lastSearch.referenceCollection.abortFetchRequest();n=true}if(this._lastSearch.mentionCollection.getFetchRequest()){this._lastSearch.mentionCollection.abortFetchRequest();n=true}if(t&&n){app.alert.dismiss("data_syncing")}},_resetLastSearch:function e(){const t={offset:-1,action:"",term:""};if(this._lastSearch){this._lastSearch.searchTerm=t;this._lastSearch.results=[]}else{this._lastSearch={searchTerm:t,results:[],referenceCollection:app.data.createMixedBeanCollection(),mentionCollection:app.data.createBeanCollection("Users")}}},_matchLastSearch:function e(t){const n=this._lastSearch.searchTerm;let i=false;if(n.action===t.action){if(n.action===t.action&&n.offset===t.offset&&(n.term.trim()===t.term.trim()||!t.term.trim().indexOf(n.term.trim())&&!this._lastSearch.results.length)){i=true}}return i},_getUserFilter:function e(t){const n=t.term.trim();let i=null;let a;let r;const s=n.match(/([^\s]+)(\s?)(.*)/);if(s){a=s[1].trim();r=s[3].trim();i=[{$and:[{status:{$not_equals:"Inactive"}},{$or:[{first_name:{$starts:n}},{last_name:{$starts:n}}]}]}];if(r){i[0].$and[1].$or.push({$and:[{first_name:{$starts:a}},{last_name:{$starts:r}}]});i[0].$and[1].$or.push({$and:[{first_name:{$starts:r}},{last_name:{$starts:a}}]})}}return i},_searchForTags:function e(t){this._searchForTagsTimerId=window.setTimeout(_.bind(function e(t){this._searchForTagsTimerId=null;if(this.disposed||this._matchLastSearch(t)||!o()){return}const n=_.bind(this.onDataFetch,this,t);if(t.action===v){const e=this._getUserFilter(t);if(e){this._lastSearch.mentionCollection.offlineReadDisabled=app.offlineEnabled;this.listenTo(this._lastSearch.mentionCollection,"sync",n);this._lastSearch.mentionCollection.fetch({limit:p,filter:e,params:{has_access_module:this._taggableModuleName,has_access_record:this._taggableModelId}})}}else if(t.action===b){this._lastSearch.referenceCollection.offlineReadDisabled=app.offlineEnabled;this.listenTo(this._lastSearch.referenceCollection,"sync",n);this._lastSearch.referenceCollection.fetch({limit:p,fields:["name"],module_list:this._taggableModuleList,params:{search_fields:y,q:t.term}})}},this,t),g)},_populateTagList(e,t){if(!e.length){this._closeDropdown();return}this.$dropdown.empty();e.each(function e(n){const i=r(s({stringToTransform:t.term}));const a=Handlebars.Utils.escapeExpression(n.get("name")).replace(new RegExp(`(${i})`,"ig"),(e,t)=>`<strong>${t}</strong>`);const o={module:n.get("_module"),id:n.get("id"),name:n.get("name"),htmlName:a,noAccess:n.get("has_access")===false};const l=$(this.tagListOptionTemplate(o));this.$dropdown.append(l)},this);if(!this._taggableListOpen){this._taggableListOpen=true;this.$el.addClass("show-dropdown");document.activeElement.blur();this.textarea.focus();this.$dropdown.showElement()}},_closeDropdown:function e(){if(this._taggableListOpen){this.$el.removeClass("show-dropdown");this.$dropdown.empty().hideElement();this._taggableListOpen=false}},_insertSearchResult:function e(t,n){const i=this.textarea.value||"";const a=i.slice(n.offset,n.offset+n.term.length+1);let r;const s=t.get("name");const o=this.textarea.selectionStart;const l=this.textarea.selectionEnd;let c;let u;let d;let f;if(a===n.action+n.term){r=i.slice(0,n.offset)+s+i.slice(n.offset+a.length);this.textarea.value=r;this._fixTags();this._prevValue=r;this.textarea.focus();if(this.textarea.setSelectionRange){c=Math.min(o,l);u=Math.max(o,l);if(c>n.offset&&c<n.offset+a.length||u>n.offset&&u<n.offset+a.length||c<=n.offset&&u>=n.offset+a.length){d=n.offset+s.length;f=d}else if(u>=n.offset+a.length){d=o-a.length+s.length;f=l-a.length+s.length}else{d=o;f=l}this.textarea.setSelectionRange(d,f)}this._addTag({model:t,offset:n.offset,text:s});this._refreshShadow()}this._closeDropdown()},_addTag:function e(t){const n={text:t.text,module:t.model.get("_module")};n.class=n.module==="Users"?"mention":"reference";this._tags[t.offset]=t;this._tags[t.offset].html=this.tagShadowTemplate(n)},_fixTags:function e(){let t=this.textarea.value;let n=t.length-this._prevValue.length;let i;const a={};if(n===-1){i=_.find(this._tags,e=>e.text.length>1&&t.slice(e.offset,e.offset+e.text.length)!==e.text&&t.slice(e.offset,e.offset+e.text.length-1)===e.text.slice(0,-1));if(i){t=t.slice(0,i.offset)+t.slice(i.offset+i.text.length-1);this.textarea.value=t;this.textarea.setSelectionRange(i.offset,i.offset);n=-i.text.length}}_.each(this._tags,e=>{if(t.slice(e.offset,e.offset+e.text.length)===e.text){}else if(t.slice(e.offset+n,e.offset+e.text.length+n)===e.text){e.offset+=n}else{return}a[e.offset]=e});this._tags=a}})},function(e,t,n){const i=n(1);const a=n(8);const r=n(20);e.exports=i.extendComponent(a,{_bodyScroll:true,events:{"click .sbSkipBtn":"onTouchIdSkip","click .sbEnableBtn":"onTouchIdEnableClick","click .sbOkBtn":"onTouchIdOkClick"},initialize(e){this._super(e);this._completeCb=this.context.get("callback")||_.noop;this.template=app.template.get("touchid-setup");this._isTouchIdSupported=Boolean(app.clientInfo.device.touchIdSupported)},onAppResume(){this.loadData()},loadData(){const e=this;r.isTouchIdEnrolled(t=>{const n=app.lang.get(app.clientInfo.device.faceIdSupported?"LBL_FACEID":"LBL_TOUCHID");e._isTouchIdEnrolled=t;e.sbHeader=app.lang.get(t?"LBL_ENABLE_TOUCHID":"LBL_SETUP_TOUCHID",null,{biometryType:n});e.sbDescription=t?app.lang.get("LBL_TOUCH_ID_DISCLAIMER",null,{brandName:app.config.brandName,biometryType:n}):app.lang.get("LBL_TOUCH_ID_NOT_ENROLLED_MSG",null,{brandName:app.config.brandName,biometryType:n});e.render()})},onTouchIdSkip(e){this._completeCb()},onTouchIdOkClick(e){this._completeCb()},onTouchIdEnableClick(e){r.moveTempCredentialsToStorage();this._completeCb()}})},function(e,t){(function e(t){const n={"list~Step1":{updatedVersion:2.7,content:[{selector:".logo",text:"LBL_MOBILE_TUTORIAL_HOME_MENU"},{selector:".createBtn",text:"LBL_MOBILE_TUTORIAL_HOME_PLUS"}]},list:{updatedVersion:2.7,content:[{show:"native",selector:".list-item.has-menu:nth-child(1)",text:"LBL_MOBILE_TUTORIAL_HOME_SWIPE",fromRight:true,vertAdj:5,horizAdj:-50,customMarker:"tutorial-swipe"}]},"detail~TxLog~Dashboards":{updatedVersion:2.7,content:[{selector:".bizcard .goedit-icon",text:"LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION",vertAdj:2,horizAdj:-2}]}};t.tutorial=t.tutorial||{};t.tutorial.config=n})(SUGAR.App)},function(e,t,n){const{isElVisible:i,isDirectionLTR:a}=n(3);const r=n(24);const s=20;const o=2;const l=_.extend({instance:null,show(e,t){if(!app.config.ui.showTutorial){}else if(app.tutorial.data){this.doTutorial(e,t)}else{app.tutorial.data=this.prepareData(app.tutorial.config);this.doTutorial(e,t)}},prepareData(e){const t={};_.each(e,(e,n)=>{const i=_.filter(e.content,e=>{let t;if(e.show){t=e.show==="native"&&app.isNative||e.show==="web"&&!app.isNative}else{t=true}return t});if(i.length){t[n]=e;t[n].content=i}});return t},doTutorial(e,t){const n=this.getStepName(e,t);const i=app.tutorial.data[n];const a=this.getPrefs();if(i&&!app.tutorial.instance){this.createInstance(i,n,a)}},getStepName(e,t){const n=new RegExp(`^${e}([~:].*)?$`,"i");const i=_.chain(app.tutorial.data).keys().select(e=>n.test(e)).value().sort((e,t)=>e.indexOf(":")>-1?1:e.indexOf("~")>-1&&t.indexOf(":")<0?1:-1);const a=this;let r;_.each(i,n=>{if(n.indexOf(":")>-1&&_.contains(n.split(":"),t)&&a.isNewStep(n)){r=n}else if(n.indexOf("~")>-1&&!_.contains(n.split("~"),t)&&a.isNewStep(n)){r=n}else if(n===e&&a.isNewStep(n)){r=n}});return r},isNewStep(e){const t=app.tutorial.getPrefs();const n=app.tutorial.data[e];const i=n?n.updatedVersion||0:0;const a=t.viewed[e]||0;return!t.viewed[e]||app.utils.versionCompare(a,i,"<")},createInstance(e,t,n){const i=this;const a=_.any(e.content,e=>i.getItem(e.selector).length);if(!a){return}this.instance=new c(_.extend(e,{tutorialName:t}));this.instance.show()},getPrefs(){const e=app.loginManager.getSetting("tutorialPrefs")||{};e.viewed=e.viewed||{};return e},resetPrefs(e){e=e||{};e.viewed={};app.loginManager.setSetting("tutorialPrefs",e)},hasStepToShow(e,t){if(!app.config.ui.showTutorial){}else if(app.tutorial.data){return Boolean(this.getStepName(e,t))}else{return true}},getItem(e){const t=app.controller.layoutManager.getRootLayout();const n=app.controller.layoutManager.getRecordLayout();let a;if(n){a=n.$el.find(e)}else{a=t.$el.find(e)}if(!i(a)){a=[]}return a}});const c=Backbone.View.extend({events:{click:"onClose",swipe:"onClose"},name:"tutorial",initialize(e){this.content=e.content;this.tutorialName=e.tutorialName;this.tplContext={brandName:app.config.brandName};app.events.on("app:orientation:changed",this._onOrientationChange,this)},_onOrientationChange(){const e=this;this.removeHighlight();_.each(this.content,t=>{e.highlightItem(t)})},onClose(e){const t=this;if(e&&!_.isString(e)){e.preventDefault();e.stopPropagation()}this.setStepViewed();$(this.$el).animate({opacity:0},300,"ease",()=>{t.remove()})},show(){const e=this;this.render();_.each(e.content,t=>{e.highlightItem(t)});$(this.$el).css({opacity:"1"});app.activeComponents.add(this)},setStepViewed(){const e=app.tutorial.getPrefs();e.viewed[this.tutorialName]=r.getNomadVersion();app.loginManager.setSetting("tutorialPrefs",e)},highlightItem(e){const t=app.tutorial.getItem(e.selector);if(_.isEmpty(t)){return}const n=document.createElementNS("http://www.w3.org/2000/svg","use");n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.customMarker?`#${e.customMarker}`:"#marker");this.$marker=$(n);this.$svg.append(n);const i=e.horizAdj||0;let r=t.offset().left;const s=t.offset().top+(e.vertAdj||0);const o=t.offset().width;const l=this.$marker.width();let c;if(a()){c=r+i+(e.fromRight?o-l:0);r=c}else{c=-(r-i+(e.fromRight?l:o));r=-c-l;n.setAttributeNS(null,"transform","scale(-1, 1)")}n.setAttributeNS(null,"x",c);n.setAttributeNS(null,"y",s);this.appendItemGlow(e,r,s);this.showHighlightText(e,r,s)},appendItemMarker(e,t,n){const i=document.createElementNS("http://www.w3.org/2000/svg","use");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.customMarker?`#${e.customMarker}`:"#marker");this.$marker=$(i);this.$svg.append(i)},appendItemGlow(e,t,n){const i=a()?o:-o;if(e.customMarker){return}this.glow=document.createElementNS("http://www.w3.org/2000/svg","circle");this.glow.setAttributeNS(null,"cx",t+s+i);this.glow.setAttributeNS(null,"cy",n+s+o);this.glow.setAttributeNS(null,"r",s);this.glow.setAttributeNS(null,"fill","black");this.glow.setAttributeNS(null,"class","marker-glow");this.$glowWrap.append(this.glow)},showHighlightText(e,t,n){const i=app.lang.get(e.text,null,this.tplContext);const a=$(`<div class="text">${i}</div>`).appendTo(this.$textWrap);const{$marker:r}=this;const o=t;const l=n;const c=r.width();const u=r.height();const d=a.width();const f=a.height();const p=$(window).width();const h=$(window).height();if(o-d>0){a.css("left",t-d+c);a.css("text-align","right")}else if(o+c+d<p){a.css("left",o);a.css("text-align","left")}else{a.css("left","50%");a.css("marginLeft",-d/2);a.css("text-align","center")}if(l+u+f<h){a.css("top",l+u)}else{a.css("top",l-f-s*1.5)}},render(){const e=app.template.get("tutorial");$("body").append(e());this.$el=$("#tutorial__view");this.$svg=this.$el.find("#tutorial");this.$glowWrap=this.$el.find("#marker-glow");this.$textWrap=this.$el.find("#tutorial-content");this.delegateEvents();return this},remove(){delete this.$marker;delete this.$svg;delete this.$textWrap;Backbone.View.prototype.remove.call(this);app.activeComponents.remove(this);app.events.off("app:orientation:changed",this._onOrientationChange,this);app.tutorial.instance=null},removeHighlight(){this.$textWrap.empty();this.$glowWrap.find(".marker-glow").remove();this.$svg.find("use").remove()}});app.tutorial=app.tutorial||{};app.tutorial=_.extend(app.tutorial,l);e.exports=app.tutorial},function(e,t){const{config:n}=SUGAR.App;n.analytics.enabled=false;if(!n.siteUrl){n.siteUrl="../../../sugarcrm"}if(n.scheme!=="e2e"){n.offline.enabled=false}n.keyValueStoreEncryptionEnabled=false;n.offline.dbEncryptionEnabled=false},function(e,t,n){const i=n(14);const a=n(4);e.exports={_showEmailComposer(e,t,n){window.location=`mailto:${e}?subject=${t}&body=${n}`},_getConsoleLogFilename(e){e()},_share(e,t){const n=app.lang.get("LBL_RECORD_SHARE_BUTTON");const i=[app.lang.get("LBL_EMAIL_BUTTON"),app.lang.get("LBL_SMS_BUTTON")];a.showActionSheet(i,{title:n,onSelectCb:(t,n)=>{const i=encodeURIComponent(`${e.body}\r\n\r\n${e.url}`);if(n===0){this._showEmailComposer("",e.subject,i)}else{this._showSmsComposer("",i)}}})},_showSmsComposer(e,t){if(t){if($.os.ios){window.location=`sms:${e}&body=${t}`}else{window.location=`sms:${e}?body=${t}`}}else{window.location=`sms:${e}`}},_callPhone(e){window.location=`tel:${e}`},_browseUrl(e){window.open(e)},_browseWebPage(e){window.open(e)},_showDateTimePicker(e,t,n){},_removeCachedDoc(e){},_browseDoc(e){if(e.oauth){this._downloadDoc(e)}else{this._browseUrl(e.url)}},_downloadDoc(e){const t=new window.XMLHttpRequest;const n="download_doc";t.open("GET",e.url);t.addEventListener("loadend",()=>{app.alert.dismiss(n);const i=this._getBlob(t.response,e.file_mime_type);this._makeBlobUrl(i,e=>{window.location=e})},false);t.setRequestHeader("OAuth-Token",app.api.getOAuthToken());t.overrideMimeType("application/octet-stream; charset=x-user-defined");t.responseType="arraybuffer";t.send(null);app.alert.show(n,{level:"info",messages:app.lang.get("LBL_MOBILE_DOWNLOAD_STARTED",null,e.filename),autoClose:true,closeable:false})},_getBlob(e,t){let n;try{n=new Blob([e],{type:t})}catch(i){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(i.name=="TypeError"&&window.BlobBuilder){const i=new BlobBuilder;i.append([e.buffer]);n=i.getBlob(t)}else if(i.name=="InvalidStateError"){n=new Blob([e.buffer],{type:t})}else{throw i}}return n},_makeBlobUrl(e,t){const n=window.URL||window.webkitURL;const i=$.os.ios&&(app.utils.versionCompare($.os.version,7,"<")||$.browser.chromeMobile);if(n&&!i){t(n.createObjectURL(e))}else{a.onloadend=function(){t(a.result)};var a=new window.FileReader;a.readAsDataURL(e)}},_getGeoPlacemarks(e,t){if(t&&t.errorCb){t.errorCb({code:4})}},_redirectToNativeApp(){if($.os.desktop||i.getSetting({store:i.Stores.SETTINGS,name:"redirectDone"})){i.setSetting({store:i.Stores.SETTINGS,name:"redirectDone",value:false});return}const e=window.location.hash.substr(1);const t=new RegExp("^Configure\\?/?","i");const n=t.test(e)?e:`Configure?page=${encodeURIComponent(e)}`;let a;if($.os.ios){i.setSetting({store:i.Stores.SETTINGS,name:"redirectDone",value:true});window.setTimeout(()=>{window.location.reload()},5e3);a=`${app.config.deepLinking.scheme}:///${n}`}else{a=`intent://${n}#Intent;scheme=${app.config.deepLinking.scheme};end`}window.location=a},_registerForPushNotifications(){},_sendLocalNotification(e){},_startMobileDeviceManagement(e){},_getManagedConfig(e){e()},_getImportedFileInfo(e){e()},getFileStorageRoot(){return""}}},function(e,t,n){const i=n(67);e.exports={_showAlert(e,t,n,i){alert(e);if(t){t()}},_showConfirm(e,t,n,i){const a=window.confirm(e)?2:1;t(a)},_showActionSheet(e,t){i.show(t.title,e,t.onSelectCb,t.onCancelCb)},_showPrompt(e,t){const n=window.prompt(e,"");const i={buttonIndex:n===null?1:2,input1:n};t.callback(i)}}},function(e,t){_.extend(app.loginManager,{handleExternalLogin(e,t){window.location.href=t.payload.url},handleExternalLogout(e){const t=new Image;t.src=e},handleAuthTokens(){let e;let t;const n=app[app.config.authStore];const i=["_AuthAccessToken","_AuthRefreshToken","_DownloadToken"];_.each(i,i=>{e=window.localStorage.getItem(i);if(e){t=true;n.set(i.slice(1),e);window.localStorage.removeItem(i)}});if(t){app.api.setExternalLogin(true);app.trigger("app:login:success")}}})},function(e,t,n){(e=>{const t=n(4);_.extend(e.nomad,{preInit(t,n){t.app.productVersion=e.config.appVersion;t.app.productBuild=e.config.appBuild;t.device=$.os;if(window.navigator.standalone){e.controller.navigateToDefaultView()}this.initAppCache();this.initAnalytics();if($.browser.chromeWeb){window.addEventListener("contextmenu",e=>e.preventDefault())}if(e.offline&&e.config.offline){e.config.offline.storageAdapter="webSql"}n()},initAppCache(){const n=window.applicationCache;if(!n){return}n.addEventListener("updateready",i=>{t.showConfirm(e.lang.get("LBL_NEW_WEB_VERSION"),{callback(){e.logger.debug("Swapping application cache and reloading page");n.swapCache();window.location.reload()}})},false)},initAnalytics(){window.Analytics=function e(){};const e=(...e)=>{const t=e[0];const n=e[1];e.shift();if(t){e[0]=`${t}.${n}`}if(window.ga){ga.apply(window,e)}};_.extend(Analytics.prototype,{start(t,n){const{trackerName:i}=n;e(null,"create",{trackingId:t,cookieDomain:"none",name:i});if(n.optOut){window[`ga-disable-${t}`]=true}e(i,"set","anonymizeIp",n.anonymize)},startSession(){},trackPageView(t){e(t.trackerName,"send","pageview",t.view)},trackEvent(t){e(t.trackerName,"send","event",t.category,t.action,t.label,t.value)},setDimension(t){e(t.trackerName,"set",`dimension${t.index}`,t.value)},setMetric(t){e(t.trackerName,"set",`metric${t.index}`,t.value)}});window.analytics=new Analytics},loadAnalytics(){(function(e,t,n,i,a,r,s){e.GoogleAnalyticsObject=a;e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=Number(new Date);r=t.createElement(n),s=t.getElementsByTagName(n)[0];r.async=1;r.src=i;s.parentNode.insertBefore(r,s)})(window,document,"script","//www.google-analytics.com/analytics.js","ga")},getConnectionType(){return"none"},openDb:function e(t){return window.openDatabase(t.name,"1.0",t.name,5)},_isPlatformSupported(){return $.os.ios&&$.browser.safari&&e.utils.versionCompare($.os.version,"8",">=")||$.os.android&&$.browser.chrome&&e.utils.versionCompare($.os.version,"4.1",">=")||!$.os.ios&&!$.os.android&&$.browser.webkit||e.config.env==="dev"}})})(SUGAR.App)},function(e,t){e.exports={adjustTemplateName:function e(t){const n=t.split("/");const i=n.length;let a;n[i-1]=n[i-1].replace(".hbs","");a=n[i-1];if(n[i-3]==="fields"){const e=n[i-2];const t=n[i-1];a=["f",e,t].join(".")}else if(n[i-2]==="modules"){a=n[i-1].replace("-",".")}return a},requireModulesWithinContext:function e(t,n,i){i=_.isFunction(n)?n:i;const a=function(e){t(e)};n=_.isArray(n)?n:t.keys();n.forEach(i||a)}}},function(e,t,n){const i=n(78);const a=n(413);const r=n(154);const s=n(16);const o=n(410);const l=n(18);const c=n(156);const u=n(79);var d=d||{};d.App=function(){var e,t={};var n=false;var f=[];var p=function(e){return e instanceof $?e:$(e)};function h(e){var t=_.uniqueId("SugarApp_");e=e||{};return _.extend({appId:t,$rootEl:p(e.el||"body"),$contentEl:p(e.contentEl||"#content"),additionalComponents:{}},this,Backbone.Events)}return{init:function(t){e=e||_.extend(this,new h(t));_.extend(e,i);e.events.register("app:init",this);e.events.register("app:start",this);e.events.register("app:sync",this);e.events.register("app:sync:complete",this);e.events.register("app:sync:error",this);e.events.register("app:sync:public:error",this);e.events.register("app:login",this);e.events.register("app:login:success",this);e.events.register("app:logout",this);e.events.register("app:view:change",this);e.events.register("app:locale:change",this);e.events.register("lang:direction:change",this);if(e.cache){e.cache.init(this)}var n=s.capitalize(e.config?e.config.appId:"")+"Controller";var a=this[n]||o;this.controller=new a;e.api=d.Api.getInstance({defaultErrorHandler:t&&t.defaultErrorHandler?t.defaultErrorHandler:d.App.error.handleHttpError,serverUrl:e.config.serverUrl,platform:e.config.platform,timeout:e.config.serverTimeout,keyValueStore:e[e.config.authStore||"cache"],clientID:e.config.clientID,disableBulkApi:e.config.disableBulkApi,externalLoginUICallback:t&&t.externalLoginUICallback});this._init(t);return e},_init:function(t){var n=this;var i=function(i){if(!e){return}if(i){n.trigger("app:sync:public:error",i);return}n._initModules();if(!t.silent){e.controller.setElement(e.$rootEl);e.trigger("app:init",n)}if(t.callback&&_.isFunction(t.callback)){t.callback(e)}};var a=function(t){if(e.config.loadCss){e.loadCss(t)}else{t()}};if(e.config.syncConfig!==false){var r={getPublic:true};a(function(){u.sync(i,r)})}else{a(function(){i()})}return e},_initModules:function(){_.each(t,function(e){if(_.isFunction(e.init)){e.init(this)}},this)},_loadConfig:function(){this.logger.warn("`App._loadConfig` is deprecated since 7.10. Please use `App.setConfig` instead.");e.config=e.config||{};e.config=_.extend(e.config,u.getConfig())},setConfig:function(e){this.config=this.config||{};this.config=_.extend(this.config,e);this.logger=a(this.config.logger);this.cache=r({uniqueKey:this.config.uniqueKey,env:this.config.env,appId:this.config.appId})},loadCss:function(t){e.api.css(e.config.platform,e.config.themeName,{success:function(n){if(e.config.loadCss==="url"){_.each(n.url,function(e){$("<link>").attr({rel:"stylesheet",href:s.buildUrl(e)}).appendTo("head")})}else{_.each(n.text,function(e){$("<style>").html(e).appendTo("head")})}if(_.isFunction(t)){t()}}})},start:function(){e.events.registerAjaxEvents();e.controller.loadAdditionalComponents(e.config.additionalComponents);e.trigger("app:start",this);c.start()},destroy:function(){if(Backbone.history){Backbone.history.stop()}e=null},augment:function(n,i,a){this[n]=i;t[n]=i;if(n==="config"){this.setConfig(i)}if(a&&i.init&&_.isFunction(i.init)){i.init.call(i,e)}},sync:function(t){var i=this;t=t||{};if(t.getPublic){return i.syncPublic(t)}if(t.callback){f.push(t.callback)}if(n){return}n=true;async.waterfall([function(n){i.isSynced=false;i.trigger("app:sync");var a=!t.noUserUpdate&&(t.language||i.cache.get("langHasChanged"));if(a){var r=t.language||l.getLanguage();i.user.updateLanguage(r,n);e.cache.cut("langHasChanged")}else{n()}},function(e){async.parallel([function(e){i.user.load(e)},function(e){i.metadata.sync(function(t){i.data.declareModels();e(t)},t)}],function(t){e(t)})},function(e){var t=i.metadata.getServerInfo();i.config.sugarLogic=i.config.sugarLogic||{};if(t&&i.config.sugarLogic.enabled&&i.utils.versionCompare(t.version,i.config.sugarLogic.minServerVersion,">=")){i.fetchSugarLogic(e)}else{i.config.sugarLogic.enabled=false;e()}}],function(e){if(e){i.trigger("app:sync:error",e)}else{i.isSynced=true;i.trigger("app:sync:complete");if(window.jQuery){jQuery.migrateMute=i.logger.getLevel().value>i.logger.levels.WARN.value}}_.each(f,function(t){t(e)});n=false;f=[]})},syncPublic:function(e){e=e||{};e.getPublic=true;this.metadata.sync(e.callback,e)},navigate:function(t,n,i){var a,r,s;t=t||e.controller.context;n=n||t.get("model");r=n.id;s=t.get("module")||n.module;a=this.router.buildRoute(s,r,i);this.router.navigate(a,{trigger:true})},login:function(t,n,i){i=i||{};n=n||{};n.current_language=l.getLanguage();e.api.login(t,n,{success:function(n){e.trigger("app:login:success",n,t.username);if(i.success)i.success(n)},error:function(t){e.error.handleHttpError(t);if(i.error)i.error(t)},complete:i.complete})},logout:function(t,n,i){var a,r;t=t||{};a=t.complete;r=t.error;t.complete=function(t){e.trigger("app:logout",n);if(a){a(t)}};t.error=function(t){e.error.handleHttpError(t);if(r)r(t)};return e.api.logout(t,i)},fetchSugarLogic:function(t){if(e.config.sugarLogic.isDynamic){e.api.call("read",e.api.buildURL("ExpressionEngine","functions"),null,{success:function(n){e.cacheSugarLogicExpressions(n);e.loadSugarLogic(n,t)},error:function(e){t(e)}},{dataType:"application/text"})}else t()},cacheSugarLogicExpressions:function(t){e.cache.set("sugarlogic",t)},_loadSugarLogic:function(){return e.cache.get("sugarlogic")},loadSugarLogic:function(t,n){return e.compileJs(t||e._loadSugarLogic(),n)},compileJs:function(e,t){try{eval.call(window,e);if(t)t()}catch(e){a.fatal("Failed to compile js");if(t)t(e);return e}return null},isServerCompatible:function(e){var t=this.config.supportedServerFlavors,n=this.config.minServerVersion,i,a,r;if(_.isEmpty(t)&&!n){return true}i=!!(_.isEmpty(t)||e&&_.contains(t,e.flavor));a=!!(!n||e&&this.utils.versionCompare(e.version,n,">="));if(i&&a){return true}else if(!a){r={code:"server_version_incompatible",label:"ERR_SERVER_VERSION_INCOMPATIBLE"}}else{r={code:"server_flavor_incompatible",label:"ERR_SERVER_FLAVOR_INCOMPATIBLE"}}r.server_info=e;return r},modules:t}}();const f=n(7);d.App.Context=f;const p={getContext:function(e){d.App.logger.warn("The function `app.context.getContext()` is deprecated in 7.10. "+"Please use the `new` keyword to create a context.");return new f(e)}};d.App.augment("Bean",n(46));d.App.augment("BeanCollection",n(45));d.App.augment("MixedBeanCollection",n(157));d.App.augment("error",n(155));d.App.augment("context",p);d.App.augment("utils",s);d.App.augment("cookie",n(412));d.App.augment("Controller",o);d.App.augment("events",n(28));d.App.augment("acl",n(34));d.App.augment("metadata",u);d.App.augment("currency",n(159));d.App.augment("date",n(53));d.App.augment("math",n(160));d.App.augment("plugins",n(35));_.mixin(n(414));d.App.augment("user",n(19));Handlebars.registerHelper(n(415));d.App.augment("validation",n(158));d.App.augment("data",n(52));d.App.augment("lang",l);d.App.augment("template",n(29));d.App.Router=n(411);d.App.augment("routing",c);const h=n(36);d.App.augment("view",h);h.Component=n(47);d.App.augment("alert",n(81));h.AlertView=n(80);h.Field=n(161);h.Layout=n(162);h.View=n(82);e.exports=d},function(e,t,n){const i=n(28);const a=n(7);const r=n(36);e.exports=Backbone.View.extend({initialize:function(){this.context=new a;i.on("app:sync:complete",function(){SUGAR.App.api.setStateProperty("loadingAfterSync",true);_.each(SUGAR.App.additionalComponents,function(e){if(e&&_.isFunction(e._setLabels)){e._setLabels()}e.render()});SUGAR.App.router.reset();SUGAR.App.api.clearStateProperty("loadingAfterSync")});i.on("app:login:success",function(){SUGAR.App.sync()})},loadView:function(e){var t=this.layout;if(!SUGAR.App.triggerBefore("app:view:change")||!SUGAR.App.triggerBefore("app:view:load")){return}this.context.clear({silent:true});this.context.set(e);this.context.prepare();this.layout=r.createLayout({name:e.layout,module:e.module,context:this.context});if(t){var n=document.createDocumentFragment();n.appendChild(t.el)}SUGAR.App.$contentEl.append(this.layout.$el);this.layout.initComponents();if(!e||e&&!e.skipFetch){this.layout.loadData()}this.layout.render();if(t){t.dispose()}SUGAR.App.trigger("app:view:change",e.layout,e)},loadAdditionalComponents:function(e){if(!_.isEmpty(SUGAR.App.additionalComponents)){SUGAR.App.logger.error("`Controller.loadAdditionalComponents` has already been called. "+"It can not be called twice.");return}SUGAR.App.additionalComponents={};_.each(e,function(e,t){if(e.target){var n=this.$(e.target);if(!n.get(0)){SUGAR.App.logger.error('Unable to place additional component "'+t+'": the target specified '+"does not exist.");return}if(e.layout){SUGAR.App.additionalComponents[t]=r.createLayout({context:this.context,type:e.layout,el:n});SUGAR.App.additionalComponents[t].initComponents()}else{SUGAR.App.additionalComponents[t]=r.createView({type:e.view||t,context:this.context,el:n})}SUGAR.App.additionalComponents[t].render()}else{SUGAR.App.logger.error('Unable to place additional component "'+t+'": no target specified.')}},this)}})},function(e,t,n){const i=n(34);const a=n(81);const r=n(16);const s=n(18);const o=n(155);const l=n(28);const c=n(156);const u=Backbone.Router.extend({initialize:function(e){e=e||{};this._previousFragment="";this._currentFragment=""},_routeHandler:function(e){var t=Array.prototype.slice.call(arguments,1),n=e.route;if(c.beforeRoute(n,t)){this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment();e.apply(this,t);c.after(n,t)}},_moduleExists:function(e){if(e&&_.isUndefined(SUGAR.App.metadata.getModule(e))){o.handleHttpError({status:404});return false}return true},_addDefaultRoutes:function(){var e=[{name:"notFound",route:/^.*$/,callback:function(){o.handleHttpError({status:404})}}];this.addRoutes(e)},route:function(e,t,n){if(!t){throw new Error("You need to provide a route name.")}else if(!_.isEmpty(this._routes[t])){SUGAR.App.logger.error('Route "'+t+'" is being overridden. This is highly NOT advisable.')}this._routes[t]=n;if(!n){n=this[t]}n.route=t;n=_.wrap(n,this._routeHandler);Backbone.Router.prototype.route.call(this,e,t,n)},getFragment:function(){return Backbone.history.getFragment()},navigate:function(e,t){Backbone.Router.prototype.navigate.apply(this,arguments);if(!(t&&t.trigger)){this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment()}return this},getPreviousFragment:function(){return this._previousFragment},goBack:function(){window.history.back()},go:function(e){window.history.go(e)},init:function(){this._routes={};this._addDefaultRoutes();l.trigger("router:init")},start:function(){if(!Backbone.History.started){Backbone.history.start()}},stop:function(){Backbone.history.stop()},reset:function(){SUGAR.App.router.stop();Backbone.history.handlers=[];SUGAR.App.router.init();SUGAR.App.router.start()},addRoutes:function(e){if(!e){return}var t=e.reverse();_.each(t,function(e){this.route(e.route,e.name,e.callback)},this)},get:function(e){return this._routes[e]},refresh:function(){Backbone.history.loadUrl(Backbone.history.fragment)},buildRoute:function(e,t,n){var i;if(_.isFunction(r.customBuildRoute)){i=r.customBuildRoute.apply(this,arguments);if(!_.isEmpty(i)){return i}}if(e){i=_.isString(e)?e:e.get("module");if(t){i+="/"+t}if(n){i+="/"+n}}else{i=n}return i},redirect:function(e,t){this.navigate(e,_.extend({trigger:true,replace:true},t))},index:function(){SUGAR.App.logger.debug("Route changed to index");if(SUGAR.App.config.defaultModule){this.navigate(SUGAR.App.config.defaultModule,{trigger:true})}else if(i.hasAccess("read","Home")){this.navigate("Home",{trigger:true})}},list:function(e){if(!this._moduleExists(e)){return}SUGAR.App.logger.debug("Route changed to list of "+e);SUGAR.App.controller.loadView({module:e,layout:"records"})},layout:function(e,t){if(!this._moduleExists(e)){return}SUGAR.App.logger.debug("Route changed to layout: "+t+" for "+e);SUGAR.App.controller.loadView({module:e,layout:t})},create:function(e){if(!this._moduleExists(e)){return}SUGAR.App.logger.debug("Route changed: create "+e);SUGAR.App.controller.loadView({module:e,create:true,layout:"edit"})},login:function(){SUGAR.App.logger.debug("Logging in");SUGAR.App.controller.loadView({module:"Login",layout:"login",create:true});l.trigger("app:login");if(SUGAR.App.config.externalLogin){SUGAR.App.api.ping(null,{success:function(){l.trigger("app:login:success");SUGAR.App.router.refresh()},error:function(){a.show("needs_login_error",{level:"error",messages:s.getModString("ERR_INVALID_PASSWORD","Users"),title:s.get("LBL_INVALID_CREDS_TITLE")})}})}},logout:function(e){if(!SUGAR.App.api.isAuthenticated()){this.redirect("/");return}e=e==="1";SUGAR.App.logger.debug("Logging out: "+e);SUGAR.App.logout({complete(){SUGAR.App.router.navigate("#");if(!SUGAR.App.config.externalLogin){if(e){window.location.reload()}else{SUGAR.App.router.login()}}else{SUGAR.App.controller.loadView({module:"Login",layout:"logout",skipFetch:true,create:true})}},success(e){l.trigger("app:logout:success",e)}},e)},record:function(e,t,n,i){if(!this._moduleExists(e)){return}var a=SUGAR.App.controller.context.get("collection"),r=SUGAR.App.controller.context.get("listCollection"),s={module:e,layout:i||"record",action:n||"detail"};if(t!=="create"){_.extend(s,{modelId:t})}else{_.extend(s,{create:true});s.layout="create"}if(a&&a.module===e&&a.get(t)){s.listCollection=a}if(r&&r.module===e&&r.get(t)){s.listCollection=r}SUGAR.App.controller.loadView(s)}});e.exports=u},function(e,t,n){const i=n(16);let a=window.location.pathname.replace(/\/[^\/]*$/,"/cookie.html");let r=function(){return{}};const s={initAsync:function(e){var t=document.createElement("iframe");t.style.display="none";t.src=a;document.body.appendChild(t);t.contentWindow.onload=function(){r=function(){return t.contentWindow.getCookie()};e()}},has:function(e){return e in r()},get:function(e){return r()[e]},set:function(e,t){i.cookie.setCookie(e,t,null,a)},cut:function(e){i.cookie.setCookie(e,"",-1,a)}};e.exports=s},function(e,t){let n={level:"error",formatter:"SimpleFormatter",consoleWriter:"ConsoleWriter",serverWriter:"ServerWriter"};const i={ConsoleWriter:{write:function(e,t){if(!window.console)window.console={};if(!window.console.log)window.console.log=function(){};if(e.value<=r.levels.INFO.value){console.log(t)}else if(e.value==r.levels.WARN.value){console.warn(t)}else{console.error(t)}}},ServerWriter:{write:function(e,t){if(e.value<r.levels.WARN.value){return}if(!SUGAR.App.api.isAuthenticated()){return}let i=n.writeToServer||false;if(!i||!t.trim().length){return}let a=SUGAR.App.api.buildURL(undefined,"logger");let s={level:e.name.toLowerCase(),message:t};SUGAR.App.api.call("create",a,s,{success:function(e){if(!e.status){throw"Failed to write log message {"+t+"} onto server"}},error:function(e){throw e}})}}};const a={SimpleFormatter:{format:function(e,t,n){let i=n.getUTCFullYear()+"-"+(n.getUTCMonth()+1)+"-"+n.getUTCDate()+" "+n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds();return e.name+"["+i+"]: "+t}}};const r={levels:{TRACE:{value:1,name:"TRACE"},DEBUG:{value:2,name:"DEBUG"},INFO:{value:3,name:"INFO"},WARN:{value:4,name:"WARN"},ERROR:{value:5,name:"ERROR"},FATAL:{value:6,name:"FATAL"}},trace:function(e){this.log(this.levels.TRACE,e)},debug:function(e){this.log(this.levels.DEBUG,e)},info:function(e){this.log(this.levels.INFO,e)},warn:function(e){this.log(this.levels.WARN,e)},error:function(e){this.log(this.levels.ERROR,e)},fatal:function(e){this.log(this.levels.FATAL,e)},getLevel:function(){let e=n.level;if(!e){return this.levels.ERROR}e=e.toUpperCase();return this.levels[e]||this.levels.ERROR},log:function(e,t){try{let r=this.getLevel();if(e.value<r.value){return}t=t||"<none>";if(_.isFunction(t)){t=t.call(this)}if(_.isObject(t)){try{t=JSON.stringify(t)}catch(e){t=t.toString()}}const s=a[n.formatter]||a.SimpleFormatter;const o=i[n.consoleWriter]||i.ConsoleWriter;const l=i[n.serverWriter]||i.ServerWriter;t=s.format(e,t,new Date);o.write(e,t);l.write(e,t)}catch(e){console.log("Failed to log message {"+t+"} due to exception: "+e)}}};Object.defineProperty(r,"SimpleFormatter",{get:function(){SUGAR.App.logger.warn("`Utils.Logger.SimpleFormatter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return a.SimpleFormatter}});Object.defineProperty(r,"ServerWriter",{get:function(){SUGAR.App.logger.warn("`Utils.Logger.ServerWriter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return i.ServerWriter}});Object.defineProperty(r,"ConsoleWriter",{get:function(){SUGAR.App.logger.warn("`Utils.Logger.ConsoleWriter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return i.ConsoleWriter}});e.exports=function(e){n=e||{};return r}},function(e,t){const n={isEmptyValue:function(e){return!_.isNumber(e)&&!_.isBoolean(e)&&!_.isDate(e)&&_.isEmpty(e)},changed:function(e,t){if(_.isEmpty(e)&&_.isEmpty(t)){return}var n={};var i=_.keys(_.extend(n,t,e));_.each(i,function(i){var a=false;if(!_.has(e,i)||!_.has(t,i)||!_.isEqual(e[i],t[i])){a=true}n[i]=a});return n}};e.exports=n},function(e,t,n){const i=n(159);const a=n(53);const r=n(161);const s=n(16);const o=n(18);const l=n(162);const c=n(29);const u=n(82);const d=n(36);const f={field:function(e,t){var n=d.createField({def:this,viewDefs:this,view:e,model:t.hash.model,viewName:t.hash.template});if(t.hash.parent&&_.isArray(t.hash.parent.fields)){t.hash.parent.fields.push(n)}return n.getPlaceholder()},fieldOfType:function(e,t){var n={type:e,name:e,label:t};var i=d.createField({def:n,view:this});return i.getPlaceholder()},component:function(e,t){var n,i,a="";n=_.find(e.meta.components,function(e){var n,i;i=e.layout||e.view;if(_.isString(i)){n=i}else{n=i.name||i.type}return n===t});if(_.isObject(n)&&!_.isEmpty(n)){i=e.initComponents([n])[0];n.initializedInTemplate=true;a=i.getPlaceholder()}return a},eachOptions:function(e,t){var n,i="",a;n=_.isString(e)?o.getAppListStrings(e):e;if(_.isArray(n)){a=function(e,n){i=i+t.fn({key:n,value:e})}}else if(_.isObject(n)){a=function(e,n){i=i+t.fn({key:n,value:e})}}else{n=null}if(n)_.each(n,a,this);return i},buildRoute:function(e){var t=e.hash.context,n=e.hash.model||(t&&t.get("model")?t.get("model"):{}),i=e.hash.module||n.module||(t&&t.get("module")?t.get("module"):null),a=e.hash.id||n.id,r=e.hash.action;return SUGAR.App.router.buildRoute(i,a,r)},fieldValue:function(e,t,n){return e.get(t)||n.hash.defaultValue||""},has:function(e,t,n){if(!_.isArray(t)&&!_.isObject(t)){t=[t]}return _.include(t,e)?n.fn(this):n.inverse(this)},notHas:function(e,t,n){var i=n.fn,a=n.inverse;n.fn=a;n.inverse=i;return Handlebars.helpers.has.call(this,e,t,n)},isSortable:function(e,t,n){if(s.isSortable(e,t)){return n.fn(this)}else{return""}},eq:function(e,t,n){return e==t?n.fn(this):n.inverse(this)},notEq:function(e,t,n){return e!=t?n.fn(this):n.inverse(this)},match:function(e,t,n){var i=new RegExp(t);if(i.test(e)){return n.fn(this)}else{return n.inverse(this)}},notMatch:function(e,t,n){var i=new RegExp(t);if(!i.test(e)){return n.fn(this)}else{return n.inverse(this)}},log:function(e){SUGAR.App.logger.debug("*****HBS: Current Context*****");SUGAR.App.logger.debug(this);SUGAR.App.logger.debug("*****HBS: Current Value*****");SUGAR.App.logger.debug(e);console.log(e);SUGAR.App.logger.debug("***********************")},str:function(e,t,n){t=_.isString(t)?t:null;return o.get(e,t,n)},relativeTime:function(e,t){var n=a(e);var i,r;t.hash.title=t.hash.title||n.formatUser(t.hash.dateOnly);i=_.map(t.hash,function(e,t){return t+'="'+Handlebars.Utils.escapeExpression(e)+'"'}).join(" ");r='<time datetime="'+n.format()+'" '+i+">"+n.fromNow()+"</time>";return new Handlebars.SafeString(r)},arrayJoin:function(e,t){return e.join(t)},nl2br:function(e){e=Handlebars.Utils.escapeExpression(e);var t=e.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+"<br>");return new Handlebars.SafeString(t)},formatCurrency:function(e,t){if(_.isObject(t)){t=t.hash.currencyId||undefined}return i.formatAmountLocale(e,t)},firstChars:function(e,t){return e.substring(0,t)},formatDate:function(e,t){e=a(e);return e.formatUser(t.hash.dateOnly)},getModuleName:function(e,t){var n={plural:t.hash.plural,defaultValue:t.hash.defaultValue};return o.getModuleName(e,n)},partial:function(e,t,n,i){var a,s,o;if(!i&&n.hash){i=n;n={}}o=_.extend({templateComponent:t},n,i.hash);a=i.hash.module||t.module;if(t&&t.options.templateOptions&&t.options.templateOptions.partials){s=t.options.templateOptions.partials[e]}else if(t instanceof r){var d=i.hash.fallbackTemplate;s=c.getField(t.type,e||"detail",a,d)}else if(t instanceof u){var f=t.tplName;s=c.getView(t.name+"."+e,a)||c.getView(t.name+"."+e);if(!s&&f){s=c.getView(f+"."+e,a)||c.getView(f+"."+e)}}else if(t instanceof l){s=c.getLayout(t.name+"."+e,a)||c.getLayout(t.name+"."+e)}return new Handlebars.SafeString(s?s(o):"")}};e.exports=f},function(e,t,n){(function(i){var a,r;(function(s){var o=typeof self=="object"&&self.self===self&&self||typeof i=="object"&&i.global===i&&i;if(true){!(a=[n(284),n(285),t],r=function(e,t,n){o.Backbone=s(o,n,e,t)}.apply(t,a),r!==undefined&&(e.exports=r))}else if(typeof t!=="undefined"){var l=require("underscore"),c;try{c=require("jquery")}catch(e){}s(o,t,l,c)}else{o.Backbone=s(o,{},o._,o.jQuery||o.Zepto||o.ender||o.$)}})(function(e,t,n,i){var a=e.Backbone;var r=Array.prototype.slice;t.VERSION="1.3.3";t.$=i;t.noConflict=function(){e.Backbone=a;return this};t.emulateHTTP=false;t.emulateJSON=false;var s=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,a){return n[t](this[i],l(e,this),a)};case 4:return function(e,a,r){return n[t](this[i],l(e,this),a,r)};default:return function(){var e=r.call(arguments);e.unshift(this[i]);return n[t].apply(n,e)}}};var o=function(e,t,i){n.each(t,function(t,a){if(n[a])e.prototype[a]=s(t,a,i)})};var l=function(e,t){if(n.isFunction(e))return e;if(n.isObject(e)&&!t._isModel(e))return c(e);if(n.isString(e))return function(t){return t.get(e)};return e};var c=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};var u=t.Events={};var d=/\s+/;var f=function(e,t,i,a,r){var s=0,o;if(i&&typeof i==="object"){if(a!==void 0&&"context"in r&&r.context===void 0)r.context=a;for(o=n.keys(i);s<o.length;s++){t=f(e,t,o[s],i[o[s]],r)}}else if(i&&d.test(i)){for(o=i.split(d);s<o.length;s++){t=e(t,o[s],a,r)}}else{t=e(t,i,a,r)}return t};u.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,i,a){e._events=f(h,e._events||{},t,n,{context:i,ctx:e,listening:a});if(a){var r=e._listeners||(e._listeners={});r[a.id]=a}return e};u.listenTo=function(e,t,i){if(!e)return this;var a=e._listenId||(e._listenId=n.uniqueId("l"));var r=this._listeningTo||(this._listeningTo={});var s=r[a];if(!s){var o=this._listenId||(this._listenId=n.uniqueId("l"));s=r[a]={obj:e,objId:a,id:o,listeningTo:r,count:0}}p(e,t,i,this,s);return this};var h=function(e,t,n,i){if(n){var a=e[t]||(e[t]=[]);var r=i.context,s=i.ctx,o=i.listening;if(o)o.count++;a.push({callback:n,context:r,ctx:r||s,listening:o})}return e};u.off=function(e,t,n){if(!this._events)return this;this._events=f(m,this._events,e,t,{context:n,listeners:this._listeners});return this};u.stopListening=function(e,t,i){var a=this._listeningTo;if(!a)return this;var r=e?[e._listenId]:n.keys(a);for(var s=0;s<r.length;s++){var o=a[r[s]];if(!o)break;o.obj.off(t,i,this)}return this};var m=function(e,t,i,a){if(!e)return;var r=0,s;var o=a.context,l=a.listeners;if(!t&&!i&&!o){var c=n.keys(l);for(;r<c.length;r++){s=l[c[r]];delete l[s.id];delete s.listeningTo[s.objId]}return}var u=t?[t]:n.keys(e);for(;r<u.length;r++){t=u[r];var d=e[t];if(!d)break;var f=[];for(var p=0;p<d.length;p++){var h=d[p];if(i&&i!==h.callback&&i!==h.callback._callback||o&&o!==h.context){f.push(h)}else{s=h.listening;if(s&&--s.count===0){delete l[s.id];delete s.listeningTo[s.objId]}}}if(f.length){e[t]=f}else{delete e[t]}}return e};u.once=function(e,t,i){var a=f(_,{},e,t,n.bind(this.off,this));if(typeof e==="string"&&i==null)t=void 0;return this.on(a,t,i)};u.listenToOnce=function(e,t,i){var a=f(_,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,a)};var _=function(e,t,i,a){if(i){var r=e[t]=n.once(function(){a(t,r);i.apply(this,arguments)});r._callback=i}return e};u.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1);var n=Array(t);for(var i=0;i<t;i++)n[i]=arguments[i+1];f(g,this._events,e,void 0,n);return this};var g=function(e,t,n,i){if(e){var a=e[t];var r=e.all;if(a&&r)r=r.slice();if(a)v(a,i);if(r)v(r,[t].concat(i))}return e};var v=function(e,t){var n,i=-1,a=e.length,r=t[0],s=t[1],o=t[2];switch(t.length){case 0:while(++i<a)(n=e[i]).callback.call(n.ctx);return;case 1:while(++i<a)(n=e[i]).callback.call(n.ctx,r);return;case 2:while(++i<a)(n=e[i]).callback.call(n.ctx,r,s);return;case 3:while(++i<a)(n=e[i]).callback.call(n.ctx,r,s,o);return;default:while(++i<a)(n=e[i]).callback.apply(n.ctx,t);return}};u.bind=u.on;u.unbind=u.off;n.extend(t,u);var b=t.Model=function(e,t){var i=e||{};t||(t={});this.cid=n.uniqueId(this.cidPrefix);this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)i=this.parse(i,t)||{};var a=n.result(this,"defaults");i=n.defaults(n.extend({},a,i),a);this.set(i,t);this.changed={};this.initialize.apply(this,arguments)};n.extend(b.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(e==null)return this;var a;if(typeof e==="object"){a=e;i=t}else{(a={})[e]=t}i||(i={});if(!this._validate(a,i))return false;var r=i.unset;var s=i.silent;var o=[];var l=this._changing;this._changing=true;if(!l){this._previousAttributes=n.clone(this.attributes);this.changed={}}var c=this.attributes;var u=this.changed;var d=this._previousAttributes;for(var f in a){t=a[f];if(!n.isEqual(c[f],t))o.push(f);if(!n.isEqual(d[f],t)){u[f]=t}else{delete u[f]}r?delete c[f]:c[f]=t}if(this.idAttribute in a)this.id=this.get(this.idAttribute);if(!s){if(o.length)this._pending=i;for(var p=0;p<o.length;p++){this.trigger("change:"+o[p],this,c[o[p]],i)}}if(l)return this;if(!s){while(this._pending){i=this._pending;this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:true}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!n.isEmpty(this.changed);return n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):false;var t=this._changing?this._previousAttributes:this.attributes;var i={};for(var a in e){var r=e[a];if(n.isEqual(t[a],r))continue;i[a]=r}return n.size(i)?i:false},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:true},e);var t=this;var i=e.success;e.success=function(n){var a=e.parse?t.parse(n,e):n;if(!t.set(a,e))return false;if(i)i.call(e.context,t,n,e);t.trigger("sync",t,n,e)};H(this,e);return this.sync("read",this,e)},save:function(e,t,i){var a;if(e==null||typeof e==="object"){a=e;i=t}else{(a={})[e]=t}i=n.extend({validate:true,parse:true},i);var r=i.wait;if(a&&!r){if(!this.set(a,i))return false}else if(!this._validate(a,i)){return false}var s=this;var o=i.success;var l=this.attributes;i.success=function(e){s.attributes=l;var t=i.parse?s.parse(e,i):e;if(r)t=n.extend({},a,t);if(t&&!s.set(t,i))return false;if(o)o.call(i.context,s,e,i);s.trigger("sync",s,e,i)};H(this,i);if(a&&r)this.attributes=n.extend({},l,a);var c=this.isNew()?"create":i.patch?"patch":"update";if(c==="patch"&&!i.attrs)i.attrs=a;var u=this.sync(c,this,i);this.attributes=l;return u},destroy:function(e){e=e?n.clone(e):{};var t=this;var i=e.success;var a=e.wait;var r=function(){t.stopListening();t.trigger("destroy",t,t.collection,e)};e.success=function(n){if(a)r();if(i)i.call(e.context,t,n,e);if(!t.isNew())t.trigger("sync",t,n,e)};var s=false;if(this.isNew()){n.defer(e.success)}else{H(this,e);s=this.sync("delete",this,e)}if(!a)r();return s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||Y();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;if(!i)return true;this.trigger("invalid",this,i,n.extend(t,{validationError:i}));return false}});var y={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(b,y,"attributes");var x=t.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,n.extend({silent:true},t))};var w={add:true,remove:true,merge:true};var S={add:true,remove:false};var L=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i=Array(e.length-n);var a=t.length;var r;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<a;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+a+n]=i[r]};n.extend(x.prototype,u,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:false},t,S))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:e.slice();var a=this._removeModels(e,t);if(!t.silent&&a.length){t.changes={added:[],merged:[],removed:a};this.trigger("update",this,t)}return i?a[0]:a},set:function(e,t){if(e==null)return;t=n.extend({},w,t);if(t.parse&&!this._isModel(e)){e=this.parse(e,t)||[]}var i=!n.isArray(e);e=i?[e]:e.slice();var a=t.at;if(a!=null)a=+a;if(a>this.length)a=this.length;if(a<0)a+=this.length+1;var r=[];var s=[];var o=[];var l=[];var c={};var u=t.add;var d=t.merge;var f=t.remove;var p=false;var h=this.comparator&&a==null&&t.sort!==false;var m=n.isString(this.comparator)?this.comparator:null;var _,g;for(g=0;g<e.length;g++){_=e[g];var v=this.get(_);if(v){if(d&&_!==v){var b=this._isModel(_)?_.attributes:_;if(t.parse)b=v.parse(b,t);v.set(b,t);o.push(v);if(h&&!p)p=v.hasChanged(m)}if(!c[v.cid]){c[v.cid]=true;r.push(v)}e[g]=v}else if(u){_=e[g]=this._prepareModel(_,t);if(_){s.push(_);this._addReference(_,t);c[_.cid]=true;r.push(_)}}}if(f){for(g=0;g<this.length;g++){_=this.models[g];if(!c[_.cid])l.push(_)}if(l.length)this._removeModels(l,t)}var y=false;var x=!h&&u&&f;if(r.length&&x){y=this.length!==r.length||n.some(this.models,function(e,t){return e!==r[t]});this.models.length=0;L(this.models,r,0);this.length=this.models.length}else if(s.length){if(h)p=true;L(this.models,s,a==null?this.length:a);this.length=this.models.length}if(p)this.sort({silent:true});if(!t.silent){for(g=0;g<s.length;g++){if(a!=null)t.index=a+g;_=s[g];_.trigger("add",_,this,t)}if(p||y)this.trigger("sort",this,t);if(s.length||l.length||o.length){t.changes={added:s,removed:l,merged:o};this.trigger("update",this,t)}}return i?e[0]:e},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++){this._removeReference(this.models[i],t)}t.previousModels=this.models;this._reset();e=this.add(e,n.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){if(e<0)e+=this.length;return this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,true)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;if(n.isFunction(t))t=n.bind(t,this);if(i===1||n.isString(t)){this.models=this.sortBy(t)}else{this.models.sort(t)}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:true},e);var t=e.success;var i=this;e.success=function(n){var a=e.reset?"reset":"set";i[a](n,e);if(t)t.call(e.context,i,n,e);i.trigger("sync",i,n,e)};H(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var i=t.wait;e=this._prepareModel(e,t);if(!e)return false;if(!i)this.add(e,t);var a=this;var r=t.success;t.success=function(e,t,n){if(i)a.add(e,n);if(r)r.call(n.context,e,t,n)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(this._isModel(e)){if(!e.collection)e.collection=this;return e}t=t?n.clone(t):{};t.collection=this;var i=new this.model(e,t);if(!i.validationError)return i;this.trigger("invalid",this,i.validationError,t);return false},_removeModels:function(e,t){var n=[];for(var i=0;i<e.length;i++){var a=this.get(e[i]);if(!a)continue;var r=this.indexOf(a);this.models.splice(r,1);this.length--;delete this._byId[a.cid];var s=this.modelId(a.attributes);if(s!=null)delete this._byId[s];if(!t.silent){t.index=r;a.trigger("remove",a,this,t)}n.push(a);this._removeReference(a,t)}return n},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);if(n!=null)this._byId[n]=e;e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);if(n!=null)delete this._byId[n];if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if((e==="add"||e==="remove")&&n!==this)return;if(e==="destroy")this.remove(t,i);if(e==="change"){var a=this.modelId(t.previousAttributes());var r=this.modelId(t.attributes);if(a!==r){if(a!=null)delete this._byId[a];if(r!=null)this._byId[r]=t}}}this.trigger.apply(this,arguments)}});var E={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(x,E,"models");var k=t.View=function(e){this.cid=n.uniqueId("view");n.extend(this,n.pick(e,T));this._ensureElement();this.initialize.apply(this,arguments)};var M=/^(\S+)\s*(.*)$/;var T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(k.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(e){this.undelegateEvents();this._setElement(e);this.delegateEvents();return this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e);this.el=this.$el[0]},delegateEvents:function(e){e||(e=n.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(!n.isFunction(i))i=this[i];if(!i)continue;var a=t.match(M);this.delegate(a[1],a[2],n.bind(i,this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n);return this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));if(this.id)e.id=n.result(this,"id");if(this.className)e["class"]=n.result(this,"className");this.setElement(this._createElement(n.result(this,"tagName")));this._setAttributes(e)}else{this.setElement(n.result(this,"el"))}},_setAttributes:function(e){this.$el.attr(e)}});t.sync=function(e,i,a){var r=A[e];n.defaults(a||(a={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(!a.url){s.url=n.result(i,"url")||Y()}if(a.data==null&&i&&(e==="create"||e==="update"||e==="patch")){s.contentType="application/json";s.data=JSON.stringify(a.attrs||i.toJSON(a))}if(a.emulateJSON){s.contentType="application/x-www-form-urlencoded";s.data=s.data?{model:s.data}:{}}if(a.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){s.type="POST";if(a.emulateJSON)s.data._method=r;var o=a.beforeSend;a.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(o)return o.apply(this,arguments)}}if(s.type!=="GET"&&!a.emulateJSON){s.processData=false}var l=a.error;a.error=function(e,t,n){a.textStatus=t;a.errorThrown=n;if(l)l.call(a.context,e,t,n)};var c=a.xhr=t.ajax(n.extend(s,a));i.trigger("request",i,c,a);return c};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var D=/\((.*?)\)/g;var R=/(\(\?)?:\w+/g;var I=/\*\w+/g;var O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,u,{initialize:function(){},route:function(e,i,a){if(!n.isRegExp(e))e=this._routeToRegExp(e);if(n.isFunction(i)){a=i;i=""}if(!a)a=this[i];var r=this;t.history.route(e,function(n){var s=r._extractParameters(e,n);if(r.execute(a,s,i)!==false){r.trigger.apply(r,["route:"+i].concat(s));r.trigger("route",i,s);t.history.trigger("route",r,i,s)}});return this},execute:function(e,t,n){if(e)e.apply(this,t)},navigate:function(e,n){t.history.navigate(e,n);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(O,"\\$&").replace(D,"(?:$1)?").replace(R,function(e,t){return t?e:"([^/?]+)"}).replace(I,"([^?]*?)");return new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){if(t===i.length-1)return e||null;return e?decodeURIComponent(e):null})}});var F=t.History=function(){this.handlers=[];this.checkUrl=n.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var N=/^[#\/]|\s+$/g;var B=/^\/+|\/+$/g;var P=/#.*$/;F.started=false;n.extend(F.prototype,u,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname);var t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){if(e==null){if(this._usePushState||!this._wantsHashChange){e=this.getPath()}else{e=this.getHash()}}return e.replace(N,"")},start:function(e){if(F.started)throw new Error("Backbone.history has already been started");F.started=true;this.options=n.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(B,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";this.location.replace(t+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var i=document.body;var a=i.insertBefore(this.iframe,i.firstChild).contentWindow;a.document.open();a.document.close();a.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState){r("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){r("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};if(this._usePushState){e("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){e("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);F.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getHash(this.iframe.contentWindow)}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(e){if(!this.matchRoot())return false;e=this.fragment=this.getFragment(e);return n.some(this.handlers,function(t){if(t.route.test(e)){t.callback(e);return true}})},navigate:function(e,t){if(!F.started)return false;if(!t||t===true)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?"){n=n.slice(0,-1)||"/"}var i=n+e;e=this.decodeFragment(e.replace(P,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;if(!t.replace){a.document.open();a.document.close()}this._updateHash(a.location,e,t.replace)}}else{return this.location.assign(i)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else{e.hash="#"+t}}});t.history=new F;var U=function(e,t){var i=this;var a;if(e&&n.has(e,"constructor")){a=e.constructor}else{a=function(){return i.apply(this,arguments)}}n.extend(a,i,t);a.prototype=n.create(i.prototype,e);a.prototype.constructor=a;a.__super__=i.prototype;return a};b.extend=x.extend=C.extend=k.extend=F.extend=U;var Y=function(){throw new Error('A "url" property or function must be specified')};var H=function(e,t){var n=t.error;t.error=function(i){if(n)n.call(t.context,e,i,t);e.trigger("error",e,i,t)}};return t})}).call(t,n(54))},function(e,t,n){var i;(function(a){"use strict";var r=20,s=1,o=1e6,l=1e6,c=-7,u=21,d={},f=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p;function h(){function e(t){var n=this;if(!(n instanceof e)){return t===void 0?h():new e(t)}if(t instanceof e){n.s=t.s;n.e=t.e;n.c=t.c.slice()}else{_(n,t)}n.constructor=e}e.prototype=d;e.DP=r;e.RM=s;e.E_NEG=c;e.E_POS=u;return e}function m(e,t,n){var i=e.constructor,a=t-(e=new i(e)).e,r=e.c;if(r.length>++t){g(e,a,i.RM)}if(!r[0]){++a}else if(n){a=t}else{r=e.c;a=e.e+a+1}for(;r.length<a;r.push(0)){}a=e.e;return n===1||n&&(t<=a||a<=i.E_NEG)?(e.s<0&&r[0]?"-":"")+(r.length>1?r[0]+"."+r.join("").slice(1):r[0])+(a<0?"e":"e+")+a:e.toString()}function _(e,t){var n,i,a;if(t===0&&1/t<0){t="-0"}else if(!f.test(t+="")){v(NaN)}e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1;if((n=t.indexOf("."))>-1){t=t.replace(".","")}if((i=t.search(/e/i))>0){if(n<0){n=i}n+=+t.slice(i+1);t=t.substring(0,i)}else if(n<0){n=t.length}a=t.length;for(i=0;i<a&&t.charAt(i)=="0";i++){}if(i==a){e.c=[e.e=0]}else{for(;a>0&&t.charAt(--a)=="0";){}e.e=n-i-1;e.c=[];for(;i<=a;e.c.push(+t.charAt(i++))){}}return e}function g(e,t,n,i){var a,r=e.c,s=e.e+t+1;if(n===1){i=r[s]>=5}else if(n===2){i=r[s]>5||r[s]==5&&(i||s<0||r[s+1]!==a||r[s-1]&1)}else if(n===3){i=i||r[s]!==a||s<0}else{i=false;if(n!==0){v("!Big.RM!")}}if(s<1||!r[0]){if(i){e.e=-t;e.c=[1]}else{e.c=[e.e=0]}}else{r.length=s--;if(i){for(;++r[s]>9;){r[s]=0;if(!s--){++e.e;r.unshift(1)}}}for(s=r.length;!r[--s];r.pop()){}}return e}function v(e){var t=new Error(e);t.name="BigError";throw t}d.abs=function(){var e=new this.constructor(this);e.s=1;return e};d.cmp=function(e){var t,n=this,i=n.c,a=(e=new n.constructor(e)).c,r=n.s,s=e.s,o=n.e,l=e.e;if(!i[0]||!a[0]){return!i[0]?!a[0]?0:-s:r}if(r!=s){return r}t=r<0;if(o!=l){return o>l^t?1:-1}r=-1;s=(o=i.length)<(l=a.length)?o:l;for(;++r<s;){if(i[r]!=a[r]){return i[r]>a[r]^t?1:-1}}return o==l?0:o>l^t?1:-1};d.div=function(e){var t=this,n=t.constructor,i=t.c,a=(e=new n(e)).c,r=t.s==e.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>o){v("!Big.DP!")}if(!i[0]||!a[0]){if(i[0]==a[0]){v(NaN)}if(!a[0]){v(r/0)}return new n(r*0)}var l,c,u,d,f,p,h=a.slice(),m=l=a.length,_=i.length,b=i.slice(0,l),y=b.length,x=e,w=x.c=[],S=0,L=s+(x.e=t.e-e.e)+1;x.s=r;r=L<0?0:L;h.unshift(0);for(;y++<l;b.push(0)){}do{for(u=0;u<10;u++){if(l!=(y=b.length)){d=l>y?1:-1}else{for(f=-1,d=0;++f<l;){if(a[f]!=b[f]){d=a[f]>b[f]?1:-1;break}}}if(d<0){for(c=y==l?a:h;y;){if(b[--y]<c[y]){f=y;for(;f&&!b[--f];b[f]=9){}--b[f];b[y]+=10}b[y]-=c[y]}for(;!b[0];b.shift()){}}else{break}}w[S++]=d?u:++u;if(b[0]&&d){b[y]=i[m]||0}else{b=[i[m]]}}while((m++<_||b[0]!==p)&&r--);if(!w[0]&&S!=1){w.shift();x.e--}if(S>L){g(x,s,n.RM,b[0]!==p)}return x};d.eq=function(e){return!this.cmp(e)};d.gt=function(e){return this.cmp(e)>0};d.gte=function(e){return this.cmp(e)>-1};d.lt=function(e){return this.cmp(e)<0};d.lte=function(e){return this.cmp(e)<1};d.sub=d.minus=function(e){var t,n,i,a,r=this,s=r.constructor,o=r.s,l=(e=new s(e)).s;if(o!=l){e.s=-l;return r.plus(e)}var c=r.c.slice(),u=r.e,d=e.c,f=e.e;if(!c[0]||!d[0]){return d[0]?(e.s=-l,e):new s(c[0]?r:0)}if(o=u-f){if(a=o<0){o=-o;i=c}else{f=u;i=d}i.reverse();for(l=o;l--;i.push(0)){}i.reverse()}else{n=((a=c.length<d.length)?c:d).length;for(o=l=0;l<n;l++){if(c[l]!=d[l]){a=c[l]<d[l];break}}}if(a){i=c;c=d;d=i;e.s=-e.s}if((l=(n=d.length)-(t=c.length))>0){for(;l--;c[t++]=0){}}for(l=t;n>o;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];c[t]=9){}--c[t];c[n]+=10}c[n]-=d[n]}for(;c[--l]===0;c.pop()){}for(;c[0]===0;){c.shift();--f}if(!c[0]){e.s=1;c=[f=0]}e.c=c;e.e=f;return e};d.mod=function(e){var t,n=this,i=n.constructor,a=n.s,r=(e=new i(e)).s;if(!e.c[0]){v(NaN)}n.s=e.s=1;t=e.cmp(n)==1;n.s=a;e.s=r;if(t){return new i(n)}a=i.DP;r=i.RM;i.DP=i.RM=0;n=n.div(e);i.DP=a;i.RM=r;return this.minus(n.times(e))};d.add=d.plus=function(e){var t,n=this,i=n.constructor,a=n.s,r=(e=new i(e)).s;if(a!=r){e.s=-r;return n.minus(e)}var s=n.e,o=n.c,l=e.e,c=e.c;if(!o[0]||!c[0]){return c[0]?e:new i(o[0]?n:a*0)}o=o.slice();if(a=s-l){if(a>0){l=s;t=c}else{a=-a;t=o}t.reverse();for(;a--;t.push(0)){}t.reverse()}if(o.length-c.length<0){t=c;c=o;o=t}a=c.length;for(r=0;a;){r=(o[--a]=o[a]+c[a]+r)/10|0;o[a]%=10}if(r){o.unshift(r);++l}for(a=o.length;o[--a]===0;o.pop()){}e.c=o;e.e=l;return e};d.pow=function(e){var t=this,n=new t.constructor(1),i=n,a=e<0;if(e!==~~e||e<-l||e>l){v("!pow!")}e=a?-e:e;for(;;){if(e&1){i=i.times(t)}e>>=1;if(!e){break}t=t.times(t)}return a?n.div(i):i};d.round=function(e,t){var n=this,i=n.constructor;if(e==null){e=0}else if(e!==~~e||e<0||e>o){v("!round!")}g(n=new i(n),e,t==null?i.RM:t);return n};d.sqrt=function(){var e,t,n,i=this,a=i.constructor,r=i.c,s=i.s,o=i.e,l=new a("0.5");if(!r[0]){return new a(i)}if(s<0){v(NaN)}s=Math.sqrt(i.toString());if(s===0||s===1/0){e=r.join("");if(!(e.length+o&1)){e+="0"}t=new a(Math.sqrt(e).toString());t.e=((o+1)/2|0)-(o<0||o&1)}else{t=new a(s.toString())}s=t.e+(a.DP+=4);do{n=t;t=l.times(n.plus(i.div(n)))}while(n.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));g(t,a.DP-=4,a.RM);return t};d.mul=d.times=function(e){var t,n=this,i=n.constructor,a=n.c,r=(e=new i(e)).c,s=a.length,o=r.length,l=n.e,c=e.e;e.s=n.s==e.s?1:-1;if(!a[0]||!r[0]){return new i(e.s*0)}e.e=l+c;if(s<o){t=a;a=r;r=t;c=s;s=o;o=c}for(t=new Array(c=s+o);c--;t[c]=0){}for(l=o;l--;){o=0;for(c=s+l;c>l;){o=t[c]+r[l]*a[c-l-1]+o;t[c--]=o%10;o=o/10|0}t[c]=(t[c]+o)%10}if(o){++e.e}if(!t[0]){t.shift()}for(l=t.length;!t[--l];t.pop()){}e.c=t;return e};d.toString=d.valueOf=d.toJSON=function(){var e=this,t=e.constructor,n=e.e,i=e.c.join(""),a=i.length;if(n<=t.E_NEG||n>=t.E_POS){i=i.charAt(0)+(a>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n}else if(n<0){for(;++n;i="0"+i){}i="0."+i}else if(n>0){if(++n>a){for(n-=a;n--;i+="0"){}}else if(n<a){i=i.slice(0,n)+"."+i.slice(n)}}else if(a>1){i=i.charAt(0)+"."+i.slice(1)}return e.s<0&&e.c[0]?"-"+i:i};d.toExponential=function(e){if(e==null){e=this.c.length-1}else if(e!==~~e||e<0||e>o){v("!toExp!")}return m(this,e,1)};d.toFixed=function(e){var t,n=this,i=n.constructor,a=i.E_NEG,r=i.E_POS;i.E_NEG=-(i.E_POS=1/0);if(e==null){t=n.toString()}else if(e===~~e&&e>=0&&e<=o){t=m(n,n.e+e);if(n.s<0&&n.c[0]&&t.indexOf("-")<0){t="-"+t}}i.E_NEG=a;i.E_POS=r;if(!t){v("!toFix!")}return t};d.toPrecision=function(e){if(e==null){return this.toString()}else if(e!==~~e||e<1||e>o){v("!toPre!")}return m(this,e-1,2)};p=h();if(true){!(i=function(){return p}.call(t,n,t,e),i!==undefined&&(e.exports=i))}else if(typeof e!=="undefined"&&e.exports){e.exports=p;e.exports.Big=p}else{a.Big=p}})(this)},function(e,t,n){t=e.exports=n(163)(undefined);t.push([e.i,"#smartbanner { position:absolute; left:0; top:-82px; border-bottom:1px solid #e8e8e8; width:100%; height:78px; font-family:'Helvetica Neue',sans-serif; background:-webkit-linear-gradient(top, #f4f4f4 0%,#cdcdcd 100%); background-image: -ms-linear-gradient(top, #F4F4F4 0%, #CDCDCD 100%); background-image: -moz-linear-gradient(top, #F4F4F4 0%, #CDCDCD 100%); box-shadow:0 1px 2px rgba(0,0,0,0.5); z-index:9998; -webkit-font-smoothing:antialiased; overflow:hidden; -webkit-text-size-adjust:none; }\n#smartbanner, html.sb-animation {-webkit-transition: all .3s ease;}\n#smartbanner .sb-container { margin: 0 auto; }\n#smartbanner .sb-close { position:absolute; left:5px; top:5px; display:block; border:2px solid #fff; width:14px; height:14px; font-family:'ArialRoundedMTBold',Arial; font-size:15px; line-height:15px; text-align:center; color:#fff; background:#070707; text-decoration:none; text-shadow:none; border-radius:14px; box-shadow:0 2px 3px rgba(0,0,0,0.4); -webkit-font-smoothing:subpixel-antialiased; }\n#smartbanner .sb-close:active { font-size:13px; color:#aaa; }\n#smartbanner .sb-icon { position:absolute; left:30px; top:10px; display:block; width:57px; height:57px; background:rgba(0,0,0,0.6); background-size:cover; border-radius:10px; box-shadow:0 1px 3px rgba(0,0,0,0.3); }\n#smartbanner.no-icon .sb-icon { display:none; }\n#smartbanner .sb-info { position:absolute; left:98px; top:18px; width:44%; font-size:11px; line-height:1.2em; font-weight:bold; color:#6a6a6a; text-shadow:0 1px 0 rgba(255,255,255,0.8); }\n#smartbanner #smartbanner.no-icon .sb-info { left:34px; }\n#smartbanner .sb-info strong { display:block; font-size:13px; color:#4d4d4d; line-height: 18px; }\n#smartbanner .sb-info > span { display:block; }\n#smartbanner .sb-info em { font-style:normal; text-transform:uppercase; }\n#smartbanner .sb-button { position:absolute; right:20px; top:24px; border:1px solid #bfbfbf; padding: 0 10px; min-width: 10%; height:24px; font-size:14px; line-height:24px; text-align:center; font-weight:bold; color:#6a6a6a; background:-webkit-linear-gradient(top, #efefef 0%,#dcdcdc 100%); text-transform:uppercase; text-decoration:none; text-shadow:0 1px 0 rgba(255,255,255,0.8); border-radius:3px; box-shadow:0 1px 0 rgba(255,255,255,0.6),0 1px 0 rgba(255,255,255,0.7) inset; }\n#smartbanner .sb-button:active, #smartbanner .sb-button:hover { background:-webkit-linear-gradient(top, #dcdcdc 0%,#efefef 100%); }\n\n#smartbanner .sb-icon.gloss:after { content:''; position:absolute; left:0; top:-1px; border-top:1px solid rgba(255,255,255,0.8); width:100%; height:50%; background:-webkit-linear-gradient(top, rgba(255,255,255,0.7) 0%,rgba(255,255,255,0.2) 100%); border-radius:10px 10px 12px 12px; }\n\n#smartbanner.android { border-color:#212228; background-color: #3D3D3D; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAAG0lEQVQIW2MMDQ39v3r1akYGIAATMAEwByYAANRhCgK+E5vTAAAAAElFTkSuQmCC); border-top: 5px solid #88B131; box-shadow: none; }\n#smartbanner.android .sb-close { border:0; width:17px; height:17px; line-height:17px; color:#b1b1b3; background:#1c1e21; text-shadow:0 1px 1px #000; box-shadow:0 1px 2px rgba(0,0,0,0.8) inset,0 1px 1px rgba(255,255,255,0.3); }\n#smartbanner.android .sb-close:active { color:#eee; }\n#smartbanner.android .sb-info { color:#ccc; text-shadow:0 1px 2px #000; }\n#smartbanner.android .sb-info strong { color:#fff; }\n#smartbanner.android .sb-button { min-width: 12%; border:1px solid #DDDCDC; padding:1px; color:#d1d1d1; background: none; border-radius: 0; box-shadow: none; }\n#smartbanner.android .sb-button span { text-align: center; display: block; padding: 0 10px; background-color: #42B6C9; background-image: -webkit-gradient(linear,0 0,0 100%,from(#42B6C9),to(#39A9BB)); background-image: -moz-linear-gradient(top,#42B6C9,#39A9BB); text-transform:none; text-shadow:none; box-shadow:none; }\n#smartbanner.android .sb-button:active, #smartbanner.android .sb-button:hover { background: none; }\n#smartbanner.android .sb-button:active span, #smartbanner.android .sb-button:hover span { background:#2AC7E1; }\n\n#smartbanner.windows .sb-icon { border-radius: 0px; }",""])},function(e,t,n){t=e.exports=n(163)(undefined);t.push([e.i,'/*!\n * Bootstrap v2.0.1\n *\n * Copyright 2012 Twitter, Inc\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Designed and built with all the love in the world @twitter by @mdo and @fat.\n */\n/*!\n// https://github.com/FortAwesome/Font-Awesome\n// MIT License\n\nThis Font Software is licensed under the SIL Open Font License, Version 1.1.\nThis license is copied below, and is also available with a FAQ at:\nhttp://scripts.sil.org/OFL\n\n\n-----------------------------------------------------------\nSIL OPEN FONT LICENSE Version 1.1 - 26 February 2007\n-----------------------------------------------------------\n\nPREAMBLE\nThe goals of the Open Font License (OFL) are to stimulate worldwide\ndevelopment of collaborative font projects, to support the font creation\nefforts of academic and linguistic communities, and to provide a free and\nopen framework in which fonts may be shared and improved in partnership\nwith others.\n\nThe OFL allows the licensed fonts to be used, studied, modified and\nredistributed freely as long as they are not sold by themselves. The\nfonts, including any derivative works, can be bundled, embedded,\nredistributed and/or sold with any software provided that any reserved\nnames are not used by derivative works. The fonts and derivatives,\nhowever, cannot be released under any other type of license. The\nrequirement for fonts to remain under this license does not apply\nto any document created using the fonts or their derivatives.\n\nDEFINITIONS\n"Font Software" refers to the set of files released by the Copyright\nHolder(s) under this license and clearly marked as such. This may\ninclude source files, build scripts and documentation.\n\n"Reserved Font Name" refers to any names specified as such after the\ncopyright statement(s).\n\n"Original Version" refers to the collection of Font Software components as\ndistributed by the Copyright Holder(s).\n\n"Modified Version" refers to any derivative made by adding to, deleting,\nor substituting -- in part or in whole -- any of the components of the\nOriginal Version, by changing formats or by porting the Font Software to a\nnew environment.\n\n"Author" refers to any designer, engineer, programmer, technical\nwriter or other person who contributed to the Font Software.\n\nPERMISSION & CONDITIONS\nPermission is hereby granted, free of charge, to any person obtaining\na copy of the Font Software, to use, study, copy, merge, embed, modify,\nredistribute, and sell modified and unmodified copies of the Font\nSoftware, subject to the following conditions:\n\n1) Neither the Font Software nor any of its individual components,\nin Original or Modified Versions, may be sold by itself.\n\n2) Original or Modified Versions of the Font Software may be bundled,\nredistributed and/or sold with any software, provided that each copy\ncontains the above copyright notice and this license. These can be\nincluded either as stand-alone text files, human-readable headers or\nin the appropriate machine-readable metadata fields within text or\nbinary files as long as those fields can be easily viewed by the user.\n\n3) No Modified Version of the Font Software may use the Reserved Font\nName(s) unless explicit written permission is granted by the corresponding\nCopyright Holder. This restriction only applies to the primary font name as\npresented to the users.\n\n4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font\nSoftware shall not be used to promote, endorse or advertise any\nModified Version, except to acknowledge the contribution(s) of the\nCopyright Holder(s) and the Author(s) or with their explicit written\npermission.\n\n5) The Font Software, modified or unmodified, in part or in whole,\nmust be distributed entirely under this license, and must not be\ndistributed under any other license. The requirement for fonts to\nremain under this license does not apply to any document created\nusing the Font Software.\n\nTERMINATION\nThis license becomes null and void if any of the above conditions are\nnot met.\n\nDISCLAIMER\nTHE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\nOF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE\nCOPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nINCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\nDAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\nOTHER DEALINGS IN THE FONT SOFTWARE.\n*/\n/*!\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/* boxing */\n@keyframes triggerRepaint {\n  0% {\n    width: 100%;\n  }\n  50% {\n    width: 100.001%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n@-webkit-keyframes triggerRepaint {\n  0% {\n    width: 100%;\n  }\n  50% {\n    width: 100.001%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n@-webkit-keyframes rotate {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n.rotation {\n  -webkit-animation-name: rotate;\n  -webkit-animation-duration: 2s;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n}\n@-webkit-keyframes spinner_bounce {\n  0%,\n  100%,\n  80% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n@keyframes spinner_bounce {\n  0%,\n  100%,\n  80% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n@-webkit-keyframes pulse {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes pulse {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-family: "Open Sans Bold";\n  font-style: normal;\n  font-weight: 900;\n  src: url('+n(421)+') format("truetype");\n}\n@font-face {\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  src: url('+n(423)+') format("truetype");\n}\n@font-face {\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 400;\n  src: url('+n(422)+') format("truetype");\n}\n/**********\n* Mixins\n*/\n/**********\n *  General\n */\n.sc-background {\n  fill: #fff;\n}\n.sc-chart-background {\n  fill: transparent;\n  stroke-width: 0.5px;\n  stroke: #cdcccb;\n}\n.sc-chart {\n  min-width: 100px;\n  min-height: 100px;\n  overflow: hidden;\n  position: relative;\n}\n.sc-print {\n  visibility: hidden;\n  position: absolute !important;\n  left: -10000px;\n  width: 720px;\n  height: 480px;\n}\n.sc-image-canvas {\n  visibility: hidden;\n  position: absolute;\n  left: -10000px;\n}\n/**********\n *  SVG\n */\nsvg.sc-chart,\n.sc-chart svg {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  user-select: none;\n  display: block;\n  width: 100%;\n  height: 100%;\n}\nsvg.sc-chart text,\n.sc-chart svg text {\n  font-style: normal;\n  font-size: 13px;\n  font-family: "Open Sans", sans-serif;\n  fill: #000;\n  stroke: none;\n  cursor: default;\n}\nsvg.sc-chart text.sc-noData,\n.sc-chart svg text.sc-noData {\n  font-size: 17px;\n  font-weight: bold;\n}\nsvg.sc-chart text.sc-title,\n.sc-chart svg text.sc-title {\n  font-size: 15px;\n}\nsvg.sc-chart .sc-labels text,\n.sc-chart svg .sc-labels text {\n  font-weight: bold;\n  fill: #666;\n}\nsvg.sc-chart .sc-label-value text,\n.sc-chart svg .sc-label-value text,\nsvg.sc-chart text.sc-label-value,\n.sc-chart svg text.sc-label-value {\n  font-size: 15px;\n}\nsvg.sc-chart .sc-label-box,\n.sc-chart svg .sc-label-box {\n  fill: transparent;\n}\nsvg.sc-chart .calc-text-strings,\n.sc-chart svg .calc-text-strings {\n  fill: #000000;\n  stroke: rgba(0, 0, 0, 0);\n  pointer-events: none;\n}\n/**********\n*  Texture\n*/\n.sc-texture {\n  fill-opacity: 0 !important;\n  pointer-events: none;\n}\n.texture-line {\n  stroke-opacity: 0.5;\n  stroke-width: 1px;\n}\n.sc-active .sc-texture {\n  fill-opacity: 1 !important;\n}\n.sc-active .sc-label-box {\n  fill: inherit;\n}\n.sc-inactive .sc-texture {\n  fill-opacity: 0 !important;\n}\n/***********\n* Colors\n*/\n.sc-fill-green {\n  fill: #61d523;\n  background-color: #61d523;\n}\n.sc-fill-red {\n  fill: #de3839;\n  background-color: #de3839;\n}\n.sc-fill-blue {\n  fill: #1285d5;\n  background-color: #1285d5;\n}\n.sc-fill00 {\n  fill: #1285d5;\n  background-color: #1285d5;\n}\n.sc-fill01 {\n  fill: #2fdbca;\n  background-color: #2fdbca;\n}\n.sc-fill02 {\n  fill: #de3839;\n  background-color: #de3839;\n}\n.sc-fill03 {\n  fill: #f3cc25;\n  background-color: #f3cc25;\n}\n.sc-fill04 {\n  fill: #956cd6;\n  background-color: #956cd6;\n}\n.sc-fill05 {\n  fill: #da8ee5;\n  background-color: #da8ee5;\n}\n.sc-fill06 {\n  fill: #3c910e;\n  background-color: #3c910e;\n}\n.sc-fill07 {\n  fill: #61d523;\n  background-color: #61d523;\n}\n.sc-fill08 {\n  fill: #d35db1;\n  background-color: #d35db1;\n}\n.sc-fill09 {\n  fill: #166e90;\n  background-color: #166e90;\n}\n.sc-fill10 {\n  fill: #f19547;\n  background-color: #f19547;\n}\n.sc-fill11 {\n  fill: #3ab5f5;\n  background-color: #3ab5f5;\n}\n.sc-fill12 {\n  fill: #24e7f4;\n  background-color: #24e7f4;\n}\n.sc-fill13 {\n  fill: #09467c;\n  background-color: #09467c;\n}\n.sc-legend .sc-fill00 {\n  stroke: #1285d5;\n}\n.sc-legend .sc-fill01 {\n  stroke: #2fdbca;\n}\n.sc-legend .sc-fill02 {\n  stroke: #de3839;\n}\n.sc-legend .sc-fill03 {\n  stroke: #f3cc25;\n}\n.sc-legend .sc-fill04 {\n  stroke: #956cd6;\n}\n.sc-legend .sc-fill05 {\n  stroke: #da8ee5;\n}\n.sc-legend .sc-fill06 {\n  stroke: #3c910e;\n}\n.sc-legend .sc-fill07 {\n  stroke: #61d523;\n}\n.sc-legend .sc-fill08 {\n  stroke: #d35db1;\n}\n.sc-legend .sc-fill09 {\n  stroke: #166e90;\n}\n.sc-legend .sc-fill10 {\n  stroke: #f19547;\n}\n.sc-legend .sc-fill11 {\n  stroke: #3ab5f5;\n}\n.sc-legend .sc-fill12 {\n  stroke: #24e7f4;\n}\n.sc-legend .sc-fill13 {\n  stroke: #09467c;\n}\n.sc-stroke00 {\n  stroke: #1285d5;\n  color: #1285d5;\n}\n.sc-stroke01 {\n  stroke: #2fdbca;\n  color: #2fdbca;\n}\n.sc-stroke02 {\n  stroke: #de3839;\n  color: #de3839;\n}\n.sc-stroke03 {\n  stroke: #f3cc25;\n  color: #f3cc25;\n}\n.sc-stroke04 {\n  stroke: #956cd6;\n  color: #956cd6;\n}\n.sc-stroke05 {\n  stroke: #da8ee5;\n  color: #da8ee5;\n}\n.sc-stroke06 {\n  stroke: #3c910e;\n  color: #3c910e;\n}\n.sc-stroke07 {\n  stroke: #61d523;\n  color: #61d523;\n}\n.sc-stroke08 {\n  stroke: #d35db1;\n  color: #d35db1;\n}\n.sc-stroke09 {\n  stroke: #166e90;\n  color: #166e90;\n}\n.sc-stroke10 {\n  stroke: #f19547;\n  color: #f19547;\n}\n.sc-stroke11 {\n  stroke: #3ab5f5;\n  color: #3ab5f5;\n}\n.sc-stroke12 {\n  stroke: #24e7f4;\n  color: #24e7f4;\n}\n.sc-stroke13 {\n  stroke: #09467c;\n  color: #09467c;\n}\n/**********\n* Tooltips\n* Twitter bootstrap classes\n* with\n* SugarCRM Customizations\n  -----------------------*/\n.sctooltip-pending-removal {\n  position: absolute;\n  pointer-events: none;\n}\n.tooltip {\n  position: absolute;\n  z-index: 1020;\n  display: block;\n  visibility: visible;\n  padding: 5px;\n  pointer-events: none;\n  opacity: 0;\n  filter: alpha(opacity=0);\n}\n.tooltip.in {\n  opacity: 1;\n  filter: alpha(opacity=100);\n}\n.tooltip.top {\n  margin-top: -3px;\n}\n.tooltip.right {\n  margin-left: 3px;\n}\n.tooltip.bottom {\n  margin-top: 3px;\n}\n.tooltip.left {\n  margin-left: -3px;\n}\n.tooltip div,\n.tooltip span,\n.tooltip a {\n  color: #fff;\n}\n.tooltip-inner {\n  font-family: "Open Sans", sans-serif;\n  font-weight: normal;\n  font-size: 11px;\n  line-height: 15px;\n  color: #fff;\n  background-color: #000;\n  max-width: 200px;\n  padding: 3px 8px;\n  text-align: center;\n  text-decoration: none;\n  text-shadow: none;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n}\n.tooltip-inner > div {\n  text-align: left;\n}\n.tooltip-inner > p {\n  margin: 0;\n}\n.tooltip-inner h3 {\n  font-size: 13px;\n  color: #b5b5b5;\n  line-height: normal;\n  padding: 0;\n  margin: 0;\n}\n.tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.tooltip-status {\n  margin-top: 5px;\n  padding-top: 2px;\n  border-top: 1px solid #7e7f82;\n  color: #dcdcdc;\n  font-style: italic;\n}\n.tooltip.top .tooltip-arrow {\n  bottom: 0;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px 5px 0;\n  border-top-color: #000;\n}\n.tooltip.right .tooltip-arrow {\n  top: 50%;\n  left: 0;\n  margin-top: -5px;\n  border-width: 5px 5px 5px 0;\n  border-right-color: #000;\n}\n.tooltip.left .tooltip-arrow {\n  top: 50%;\n  right: 0;\n  margin-top: -5px;\n  border-width: 5px 0 5px 5px;\n  border-left-color: #000;\n}\n.tooltip.bottom .tooltip-arrow {\n  top: 0;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 0 5px 5px;\n  border-bottom-color: #000;\n}\n/**********\n*  Legend\n*/\n.sc-menu .sc-series {\n  cursor: pointer;\n  font-size: 13px;\n}\n.sc-menu .sc-series line {\n  fill: none;\n}\n.sc-menu .sc-series text {\n  cursor: pointer;\n}\n.sc-menu .disabled circle {\n  fill: #fff;\n}\n.sc-menu-background {\n  fill: rgba(255, 255, 255, 0.9);\n  stroke: rgba(161, 160, 160, 0.75);\n  stroke-width: 1px;\n}\n.sc-menu-link {\n  cursor: pointer;\n  fill: #0679c8;\n}\n.sc-menu-link:hover {\n  fill: #005088;\n  text-decoration: underline;\n}\n.sc-line-legend .sc-series {\n  cursor: default;\n  pointer-events: none;\n}\n.sc-line-legend .sc-series text {\n  cursor: default;\n}\n/**********\n*  Axis\n*/\n.sc-axis path,\n.sc-axis line,\n.sc-axis polyline {\n  fill: none;\n  stroke: #cdcccb;\n  stroke-width: 2px;\n  shape-rendering: crispEdges;\n  pointer-events: none;\n}\n.sc-axis line,\n.sc-axis polyline {\n  stroke-opacity: 0.3;\n}\n.sc-axis path,\n.sc-axis line.zero {\n  stroke-opacity: 0.75;\n}\n.sc-axis path.domain {\n  stroke-width: 2px;\n  stroke: #bbb;\n}\n.sc-axis .sc-axisMaxMin text {\n  font-weight: bold;\n}\n.sc-axis-x .sc-axis text {\n  font-size: 13px;\n}\n.sc-axislabel {\n  font-weight: 900;\n  font-style: italic;\n}\n/**********\n*  Stacked Area\n*/\n.sc-chart-area path.sc-area {\n  fill-opacity: 0.7;\n  stroke-opacity: 0;\n}\n.sc-chart-area path.sc-area.hover {\n  fill-opacity: 0.9;\n}\n.sc-chart-area .sc-guide-wrap .sc-series path.sc-line,\n.sc-chart-area .sc-guide-wrap .sc-series circle.sc-point {\n  pointer-events: none;\n  stroke: #777;\n  fill-opacity: 0;\n  stroke-opacity: 0;\n}\n.sc-chart-area .sc-guide-wrap .sc-series path.sc-line {\n  stroke-width: 1.5px;\n}\n.sc-chart-area .sc-guide-wrap .sc-series circle.sc-point {\n  stroke-width: 1px;\n  fill: #fff;\n}\n.sc-chart-area .sc-guide-wrap.hover .sc-series path.sc-line,\n.sc-chart-area .sc-guide-wrap.hover .sc-series circle.sc-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n}\n/**********\n*  MultiBars\n*/\n.sc-multibar .sc-bar rect {\n  stroke-opacity: 1;\n  stroke-width: 2px;\n  stroke: #fff;\n}\n.sc-multibar .sc-bar rect:hover {\n  fill-opacity: 0.75;\n}\n.sc-multibar .sc-bar text {\n  fill: #000000;\n  stroke: rgba(0, 0, 0, 0);\n  pointer-events: none;\n}\n/***********\n*  Pie Chart\n*/\n.sc-pie .sc-series.hover path {\n  fill-opacity: 0.75;\n}\n.sc-pie polyline.sc-label-leader {\n  stroke-width: 1px;\n  pointer-events: none;\n}\n.sc-hole-wrap text {\n  text-anchor: middle;\n}\ntext.sc-pie-hole-value {\n  font-size: 32px;\n  font-weight: bold;\n}\ntext.sc-pie-hole-label {\n  font-size: 11px;\n}\n/**********\n* Lines\n*/\n.sc-group path.sc-line {\n  fill: none;\n  stroke-width: 2px;\n  stroke-linecap: round;\n  shape-rendering: geometricPrecision;\n}\n.sc-group path.sc-area {\n  stroke: none;\n  stroke-linecap: round;\n  shape-rendering: geometricPrecision;\n}\n.sc-line.hover path {\n  stroke-width: 6px;\n}\n.sc-point-paths path {\n  stroke: transparent;\n  stroke-opacity: 0;\n  fill: #fff;\n  fill-opacity: 0;\n}\n.sc-indexLine {\n  cursor: ew-resize;\n}\n.sc-line .sc-scatter .sc-point {\n  stroke: #fff;\n  stroke-opacity: 1;\n  stroke-width: 1px;\n  fill-opacity: 1;\n}\n.sc-line .sc-scatter.sc-single-point .sc-point {\n  stroke-width: 2px;\n}\n.sc-line .sc-scatter.sc-single-point .sc-point.sc-active {\n  stroke-width: 9px;\n}\n.sc-line .sc-scatter.sc-single-point .sc-point.hover {\n  stroke-width: 12px;\n}\n/**********\n*  Scatter\n*/\n.sc-scatter .sc-point {\n  pointer-events: none;\n}\n.sc-scatter .sc-point.sc-active,\n.sc-scatter .sc-point.hover {\n  stroke: inherit !important;\n  stroke-opacity: 0.3 !important;\n  stroke-width: 9px;\n}\n.sc-scatter .sc-point.hover {\n  stroke-width: 12px;\n}\n/**********\n* Guage\n*/\n.sc-odomText {\n  font-weight: bold;\n  fill: #000;\n}\n.sc-arc-group {\n  fill: steelblue;\n}\n.sc-pointer {\n  fill: #888;\n  stroke: #fff;\n}\n/**********\n* Funnel\n*/\n.sc-chart-funnel .sc-slice.hover polygon {\n  fill-opacity: 0.75;\n}\n.sc-chart-funnel polyline.sc-label-leader {\n  stroke-width: 1px;\n  pointer-events: none;\n}\n.sc-chart-funnel .sc-label-value text.sc-label {\n  font-size: 13px;\n}\n.sc-chart-funnel .sc-label-value text.sc-value {\n  font-size: 15px;\n}\n/**********\n* Bubble\n*/\n.sc-chart-bubble .sc-scatter.sc-single-point .sc-group .sc-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n}\n/**********\n* Pareto\n*/\n.sc-chart-pareto .sc-quota-wrap line {\n  opacity: 0.8;\n  stroke: #444;\n  stroke-width: 4px;\n  fill: none;\n}\n.sc-chart-pareto .sc-quota-wrap line.sc-quota-target {\n  stroke: #777;\n}\n.sc-chart-pareto .sc-quota-wrap line.sc-quota-background {\n  opacity: 0;\n  stroke-width: 12px;\n}\n.sc-chart-pareto .sc-axis-y .domain {\n  display: none;\n}\n.sc-chart-pareto .sc-axis-y text.sc-quota-value,\n.sc-chart-pareto .sc-axis-y text.sc-target-quota-value {\n  font-weight: bold;\n}\n.sc-chart-pareto .sc-line .sc-group path {\n  stroke-width: 4px;\n}\n.sc-chart-pareto .sc-lines-wrap1 .sc-line .sc-group path {\n  stroke-width: 6px;\n}\n.sc-chart-pareto .sc-scatter .sc-group .sc-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n  stroke-width: 2px;\n}\n.sc-chart-pareto .sc-scatter .sc-group .sc-point.hover {\n  stroke-width: 10px;\n}\n.sc-chart-pareto .sc-lines-wrap2 .sc-scatter .sc-group circle {\n  stroke: #fff;\n}\n/**********\n* Dendrogram\n*/\n.sc-card {\n  fill: #e9efef;\n  stroke: #aaa;\n  stroke-width: 0.5px;\n}\n.sc-card .sc-circ-front {\n  stroke-width: 0;\n}\n.sc-card line {\n  stroke-width: 2;\n}\n.sc-card .sc-expcoll {\n  cursor: pointer;\n}\n.sc-tree path.link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 1.5px;\n}\n.sc-chart-org .sc-chart-background {\n  stroke: #cfcfcf;\n  stroke-width: 2px;\n}\n.sc-org-node text {\n  font: normal normal 300 10px / normal "Helvetica Neue", Arial, sans-serif;\n}\n.sc-org-node text.sc-org-name {\n  font-size: 10px;\n  fill: #0679c8;\n}\n.sc-org-node text.sc-org-name.hover {\n  text-decoration: underline;\n}\n.sc-org-node text.sc-org-title {\n  font-size: 8px;\n}\nhtml {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  font-size: 14px;\n}\nbody {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background: #fff;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-focus-ring-color: rgba(0, 0, 0, 0);\n  /* Disable certain interactions on touch devices */\n  -webkit-touch-callout: none;\n  -webkit-text-size-adjust: none;\n  -webkit-user-select: none;\n  -webkit-highlight: none;\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  focus-ring-color: rgba(0, 0, 0, 0);\n  touch-callout: none;\n  text-size-adjust: none;\n  user-select: none;\n  highlight: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 1em;\n  line-height: 1.286em;\n  color: #000;\n}\nul,\nimg,\nform,\nfieldset,\ninput,\nlabel,\nselect {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: none;\n}\n/* hack for KitKat */\ndiv,\nspan,\nbutton {\n  outline: 0;\n}\nbutton {\n  font-family: "Open Sans", sans-serif;\n}\n#nomad {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.icondefault {\n  font-size: 16px;\n  vertical-align: middle;\n}\na {\n  color: #0679c8;\n  -webkit-touch-callout: none;\n  outline: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-focus-ring-color: rgba(0, 0, 0, 0);\n  text-decoration: none;\n}\na.selected-item {\n  color: #005088;\n}\np {\n  margin: 0 0 0.643em;\n}\np small {\n  font-size: 0.857em;\n  color: #cdcccb;\n}\nh1,\nh3 {\n  margin: 0;\n  font-weight: bold;\n  color: #58595b;\n  text-rendering: optimizelegibility;\n}\nh1 {\n  font-size: 30px;\n  line-height: 36px;\n}\nh3 {\n  line-height: 27px;\n  font-size: 18px;\n}\nh3 small {\n  font-size: 14px;\n}\nstrong {\n  font-weight: bold;\n}\nem {\n  font-style: italic;\n}\n.line-through {\n  text-decoration: line-through;\n}\n.clip {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\ninput,\ntextarea,\nselect,\n.placeholder,\n.actionsheet-select {\n  background-color: transparent;\n  border: none;\n  font-size: 1.214rem;\n  font-family: "Open Sans", sans-serif;\n  color: #111;\n}\n.actionsheet-select {\n  display: block;\n}\ntextarea {\n  height: auto;\n}\ninput[disabled],\nselect[disabled],\ntextarea[disabled],\ninput[readonly],\nselect[readonly],\ntextarea[readonly] {\n  cursor: not-allowed;\n  background-color: #f5f5f5;\n  border-color: #ddd;\n}\n.field.error > label,\n.field.error .help-block,\n.field.error .help-inline {\n  color: #4d1e1e;\n}\n.field.error input,\n.field.error select,\n.field.error textarea {\n  color: #4d1e1e;\n}\n.field.error .input-prepend .add-on,\n.field.error .input-append .add-on {\n  color: #4d1e1e;\n  background-color: #f2dede;\n}\n::-webkit-input-placeholder {\n  color: #d3dbe1;\n}\n.checkbox-toggle {\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  width: 46px;\n  height: 26px;\n}\n.checkbox-toggle .checkbox-toggle__checkbox {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 46px;\n  height: 26px;\n  opacity: 0;\n  z-index: 2;\n}\n.checkbox-toggle .checkbox-toggle__checkbox[disabled] + .checkbox-toggle__slider {\n  opacity: 0.3;\n}\n.checkbox-toggle.checkbox-toggle--js .checkbox-toggle__slider,\n.checkbox-toggle .checkbox-toggle__slider {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 42px;\n  height: 22px;\n  border: solid 2px #9aa5ad;\n  border-radius: 13px;\n}\n.checkbox-toggle.checkbox-toggle--js .checkbox-toggle__slider::before,\n.checkbox-toggle .checkbox-toggle__slider::before {\n  position: absolute;\n  content: " ";\n  height: 22px;\n  width: 22px;\n  left: -2px;\n  top: -2px;\n  border: solid 2px #9aa5ad;\n  background: #fff;\n  border-radius: 13px;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n.checkbox-toggle.checkbox-toggle--on .checkbox-toggle__slider,\n.checkbox-toggle:not(.checkbox-toggle--js) .checkbox-toggle__checkbox:checked + .checkbox-toggle__slider {\n  background: #54cb14;\n  border-color: #54cb14;\n}\n.checkbox-toggle.checkbox-toggle--on .checkbox-toggle__slider::before,\n.checkbox-toggle:not(.checkbox-toggle--js) .checkbox-toggle__checkbox:checked + .checkbox-toggle__slider::before {\n  transform: translateX(20px);\n  border-color: #54cb14;\n}\n.field {\n  clear: both;\n  position: relative;\n  padding: 6px 0 0;\n}\n.field::after {\n  display: table;\n  clear: both;\n}\n.field.selected-item {\n  background-color: #ededed;\n}\n.field .field__label {\n  display: block;\n  padding-top: 2px;\n  margin-bottom: -1px;\n  font-size: 0.857rem;\n  line-height: 1.4em;\n  color: #7e878d;\n}\n.field .field__controls {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  min-height: 2.286rem;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #d3dbe1;\n  transition: border-bottom 0.3s ease-out 0s;\n  font-size: 1.143rem;\n}\n.field .field__controls .checkbox_custom {\n  width: 65%;\n  height: 34px;\n  margin-top: -5px;\n  margin-bottom: -5px;\n}\n.field .field__controls .checkbox_custom + .checkbox-icon {\n  margin: 5px 0 0 -65%;\n}\n.field .field__controls--readonly {\n  word-wrap: break-word;\n  padding-top: 5px;\n  color: #b5b5b5;\n}\n.field .field__controls--readonly .placeholder {\n  margin-top: -15px;\n  margin-bottom: -10px;\n}\n.field .field__controls--readonly.color-def {\n  color: #111;\n}\n.field .field__controls--flex {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field .field__controls--flex .input-wrapper,\n.field .field__controls--flex .picture-wrap {\n  display: block;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.field .field__controls--flex .txt-value {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1.214rem;\n  color: #111;\n}\n.field .field__controls--flex + .field__controls--flex {\n  margin-top: 6px;\n}\n.field .placeholder {\n  display: block;\n  height: 3.286rem;\n  line-height: 3.286rem;\n  width: 100%;\n  padding: 0;\n  margin: -10px 0 -3.286rem 0;\n  font-size: 1.214rem;\n  color: #d3dbe1;\n}\n.field .placeholder.hide {\n  display: none !important;\n}\n.field.error .field__label {\n  color: #e61718;\n}\n.field.error .error-icon {\n  position: absolute;\n  top: 1.1rem;\n  right: 15px;\n  line-height: 1em;\n  color: #e61718;\n}\n.field.error .input-wrapper input::-webkit-input-placeholder,\n.field.error .placeholder {\n  opacity: 0;\n}\n.field.error .field__controls,\n.field.error.field--datetime .time,\n.field.error.field--currency .field__controls .selector {\n  border-color: #e61718;\n}\n.field .field__error-message {\n  padding-top: 4px;\n  padding-bottom: 4px;\n  clear: both;\n  border-color: #e61718;\n  font-size: 0.857rem;\n  line-height: 1.2em;\n  color: #e61718;\n}\n.field.field--onfocus .field__label {\n  color: #0679c8;\n}\n.field.field--onfocus .field__controls,\n.field.field--onfocus.field--currency .field__controls .selector,\n.field.field--onfocus.field--fieldset-enum .field--enum,\n.field.field--onfocus.field--datetime .time {\n  border-color: #0679c8;\n}\n.field.field--readonly input,\n.field.field--readonly select,\n.field.field--readonly label,\n.field.field--readonly .textarea-div {\n  color: #b5b5b5;\n}\n.field input:not([type="checkbox"]),\n.field textarea,\n.field select,\n.field .actionsheet-select {\n  position: relative;\n  box-sizing: border-box;\n  height: 3.286rem;\n  line-height: normal;\n  width: 100%;\n  padding: 0;\n  margin: -10px 0 -10px 0;\n  z-index: 2;\n}\n.field select,\n.field .actionsheet-select {\n  display: inline-block;\n  line-height: 3.286rem;\n  padding-right: 20px;\n  margin-right: -20px;\n  -webkit-appearance: none;\n}\n.field select + .icondefault,\n.field .actionsheet-select + .icondefault {\n  height: 3.286rem;\n  line-height: 3.286rem;\n  margin-top: -10px;\n  margin-bottom: -10px;\n}\n.field .selector .actionsheet-select {\n  width: auto;\n}\n.field textarea {\n  padding-top: 5px;\n  height: 48px;\n  line-height: 17px;\n}\n.field .textarea-div {\n  overflow-y: auto;\n  padding-top: 0.357rem;\n  min-height: 48px;\n  max-height: 86px;\n  line-height: 1.214em;\n  white-space: pre-wrap;\n  color: #000;\n}\n.field .textarea-div .placeholder {\n  margin-top: -15px;\n}\n.field .input-wrapper input::-webkit-input-placeholder {\n  font-size: 1.214rem;\n  color: #d3dbe1;\n}\n.field .clear-button .btn {\n  border: none;\n}\n.field--enum .field__controls {\n  overflow: hidden;\n}\n.field--enum .placeholder {\n  padding-bottom: 10px;\n}\n.field--bool .checkbox-toggle {\n  margin-top: 4px;\n}\n.field--currency .field__controls {\n  display: flex;\n  padding-bottom: 0;\n}\n.field--currency .field__controls .selector {\n  position: relative;\n  width: 5rem;\n  margin-right: 10px;\n  border-width: 0 1px 0 0;\n  border-style: solid;\n  border-color: #d3dbe1;\n}\n.field--currency .field__controls .selector .selectArrow-icon {\n  height: 2.286rem;\n  line-height: 2.286rem;\n  margin-top: -2px;\n  font-size: 1rem;\n}\n.field--currency .field__controls .selector select {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 0 0 0 15px;\n  line-height: 1;\n}\n.field--currency .field__controls .input-wrapper {\n  flex: 1;\n}\n.field--currency.field--currency-preferred {\n  color: #b5b5b5;\n}\n.field--currency.field--currency-preferred .selector {\n  border-right: none;\n}\n.label-currency {\n  display: inline-block;\n  padding: 1px 4px;\n  border-radius: 3px;\n  background-color: #ddd;\n}\n.field-detail .label-currency {\n  margin-right: 4px;\n}\n.field--date .input-wrapper input {\n  line-height: 3.286rem;\n  -webkit-appearance: listitem;\n  background: transparent;\n}\n.field--date .input-wrapper input.empty {\n  opacity: 0;\n}\n.field--date .input-wrapper input::-webkit-inner-spin-button,\n.field--date .input-wrapper input::-webkit-outer-spin-button,\n.field--date .input-wrapper input::-webkit-clear-button,\n.field--date .input-wrapper input::-webkit-calendar-picker-indicator {\n  display: none;\n  -webkit-appearance: none;\n}\n.field--date .input-wrapper input[disabled] {\n  -webkit-text-fill-color: #111;\n  opacity: 1;\n}\n.field--datetime .field__controls {\n  overflow: hidden;\n  padding-bottom: 0;\n}\n.field--datetime .field__controls .field__controls--has-btns {\n  padding-right: 1.5rem;\n}\n.field--datetime .date {\n  float: left;\n  overflow: hidden;\n  width: 8rem;\n  margin: 0 0 -15px;\n}\n.field--datetime .time {\n  float: left;\n  overflow: hidden;\n  width: 7rem;\n  height: 3.286rem;\n  margin: 0 0 -15px;\n  border-width: 0 0 0 1px;\n  border-style: solid;\n  border-color: #d3dbe1;\n}\n.field--datetime .time input {\n  width: auto;\n  padding-left: 10px;\n}\n.field--datetime input {\n  float: none;\n  -webkit-appearance: none;\n  background: transparent;\n  opacity: 1;\n  white-space: nowrap;\n}\n.field--datetime input.empty {\n  opacity: 0;\n}\n.field--datetime input::-webkit-inner-spin-button,\n.field--datetime input::-webkit-outer-spin-button,\n.field--datetime input::-webkit-clear-button,\n.field--datetime input::-webkit-calendar-picker-indicator {\n  display: none;\n  -webkit-appearance: none;\n}\n.field--datetime input[disabled] {\n  -webkit-text-fill-color: #111;\n}\n.field--datetime .btn-group {\n  position: absolute;\n  top: 1.429rem;\n  right: 0;\n}\n.email_type_invalid {\n  text-decoration: line-through;\n}\n.email_type_opt-out {\n  opacity: 0.6;\n}\n.field--email .field__controls--flex .input-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field--email .field__controls--flex .input-wrapper .input-email {\n  height: 1.858rem;\n  margin-top: 0;\n  padding-top: 0;\n  margin-bottom: 0;\n  padding-bottom: 0;\n  line-height: 1;\n}\n.field--email .field__controls--flex .input-wrapper .clear-button {\n  margin-right: 5px;\n}\n.field--email .field__controls--flex.error {\n  position: relative;\n}\n.field--email .field__controls--flex.error .input-wrapper {\n  margin-right: 15px;\n}\n.field--email .field__controls--flex.error .input-wrapper .input-email {\n  color: red;\n}\n.field--email .primary-address .input-email,\n.field--email .primary-address .txt-value {\n  font-weight: bold;\n}\n.field--email .invalid-email .input-email,\n.field--email.field--readonly .invalid-email .txt-value {\n  text-decoration: line-through;\n  font-weight: normal;\n}\n.field--email .opt-out .input-email {\n  color: #58595b;\n  font-weight: normal;\n}\n.field--email.field--readonly .opt-out .txt-value {\n  color: #b5b5b5;\n  font-weight: normal;\n}\n.field--email .btn {\n  min-width: 35px;\n  color: #262626;\n}\n.field--email .field--email__add {\n  position: relative;\n  padding-top: 7px;\n  font-size: 1rem;\n  color: #0679c8;\n  z-index: 2;\n}\n.field--email.error .field__controls--flex {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field--file .field__controls {\n  overflow: hidden;\n}\n.field--file .picture-wrap {\n  height: 2rem;\n  overflow: hidden;\n}\n.field--file .picture-wrap img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  max-width: none;\n}\n.field--file .picture-wrap img.hide {\n  display: none;\n}\n.field--file .picture-wrap .picture-icon .icondefault {\n  line-height: 26px;\n  font-size: 24px;\n  color: #ccc;\n}\n.field--file .picture-wrap .input_upload {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  opacity: 0;\n}\n.field--file .picture-wrap .value {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1.214rem;\n  color: #111;\n}\n.field--file .picture-wrap .picture-icon + .placeholder {\n  display: inline-block;\n  position: static;\n  width: auto;\n}\n.field--file .picture-wrap .picture-icon.hide + .value,\n.field--file .picture-wrap .picture-icon.hide + .placeholder + .value {\n  display: block;\n}\n.field--file .file-remove {\n  z-index: 2;\n}\n.field--file .file-remove .icondefault {\n  font-size: 1.143rem;\n}\n.field--file .clear-button {\n  float: right;\n  height: 28px;\n  padding: 0.33em 5px 5px;\n  margin: -0.33em -5px -5px 0;\n  font-size: 1.143rem;\n  line-height: 28px;\n  color: #c2c2c2;\n}\n.field--tag .tag-item {\n  display: inline-flex;\n  flex-direction: row;\n  padding: 2px 6px;\n  margin: 5px 4px 5px 0;\n  background-color: #555;\n  border-radius: 11px;\n  font-size: 0.86rem;\n  color: #fff;\n}\n.field--tag .tag-item .tag-item__value,\n.field--tag .tag-item .tag-action-delete {\n  display: inline-block;\n  max-width: 150px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.field--tag .tag-item .tag-action-delete {\n  padding-left: 5px;\n  font-family: FontAwesome;\n  color: rgba(255, 255, 255, 0.7);\n}\n.field--tag .tag-item .tag-action-delete::after {\n  content: "\\F057";\n}\n.field--tag .field--tag__add {\n  position: relative;\n  padding-top: 7px;\n  font-size: 1rem;\n  color: #0679c8;\n  z-index: 2;\n}\n.layout__list .field--tag {\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.layout__detail .field--tag .field-detail__value {\n  width: 100%;\n  white-space: normal;\n}\n.line-through .tag-item {\n  text-decoration: line-through;\n}\n.field--invitees .placeholder {\n  margin-bottom: -10px;\n}\n.multienum-list {\n  width: 100%;\n  min-height: 21px;\n  padding-top: 5px;\n  cursor: pointer;\n}\n.multienum-list .placeholder {\n  margin-top: -15px;\n  margin-bottom: -10px;\n}\n.multienum-list .multienum-list__label {\n  display: inline-block;\n  position: relative;\n  padding: 8px 25px 8px 8px;\n  margin-bottom: 6px;\n  background: #ebebeb;\n  border-radius: 3px;\n  color: #696969;\n  font-size: 0.929rem;\n  line-height: 1;\n  white-space: normal;\n}\n.multienum-list .multienum-list__remove {\n  position: absolute;\n  top: 8px;\n  right: 0;\n  height: 100%;\n  padding: 0 8px 0 10px;\n  font-size: 0.857rem;\n  color: #828282;\n}\n.multienum-list .multienum-list__remove.selected-item {\n  color: #1c1c1c;\n}\n.field--radio .field__controls {\n  overflow: hidden;\n  padding-top: 5px;\n}\n.field--radio .field__controls .btn-group .btn {\n  position: relative;\n  left: -5px;\n  min-height: 1.786rem;\n  line-height: 1.786rem;\n  min-width: 30px;\n  padding: 0 5px !important;\n  margin: 0 0 5px 5px;\n  border: solid 1px #9aa5ad;\n  border-radius: 1rem;\n  font-size: 1rem;\n  font-weight: 300;\n  color: #9aa5ad;\n}\n.field--radio .field__controls .btn-group .btn.active {\n  color: #fff !important;\n  background: #0679c8;\n  border-color: #0679c8;\n}\n.field--teamset .placeholder {\n  margin-bottom: -10px;\n}\n.field--relate .placeholder {\n  margin-bottom: -10px;\n}\n.email-body-content {\n  padding: 4px;\n}\n.field--fieldset-enum .field__controls {\n  display: flex;\n  padding-bottom: 0;\n}\n.field--fieldset-enum .field__controls > span:nth-child(2) {\n  flex: 1;\n}\n.field--fieldset-enum .field__controls .field {\n  padding-top: 0;\n}\n.qli-container .field--fieldset-enum .field__controls .field--enum {\n  margin-left: 0;\n  margin-right: 0;\n}\n.rtl .qli-container .field--fieldset-enum .field__controls .field--enum {\n  margin-left: 10px;\n}\n.qli-container .field--fieldset-enum .field__controls .field--currency {\n  margin-right: 0;\n}\n.rtl .qli-container .field--fieldset-enum .field__controls .field--currency {\n  margin-left: 0;\n}\n.field--fieldset-enum .field__controls .field__label {\n  display: none;\n}\n.field--fieldset-enum .field__controls .field__controls {\n  border-bottom: none;\n}\n.field--fieldset-enum .field--enum {\n  position: relative;\n  width: 5rem;\n  margin-right: 10px;\n  border-width: 0 1px 0 0;\n  border-style: solid;\n  border-color: #d3dbe1;\n}\n.rtl .field--fieldset-enum .field--enum {\n  border-width: 0 0 0 1px;\n}\n.field--fieldset-enum .field--enum .selectArrow-icon {\n  height: 2.286rem;\n  line-height: 2.286rem;\n  margin-top: -2px;\n  font-size: 1rem;\n}\n.field--fieldset-enum .field--enum select {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 0 0 0 15px;\n  line-height: 1;\n}\n.rtl .field--fieldset-enum .field--enum select {\n  padding: 0 15px 0 0;\n  margin-left: 0;\n}\n.qli-total__row--field .field__controls {\n  flex-basis: 40%;\n  align-items: center;\n}\n.qli-total__row--field .field__controls .qli-total__row--currency {\n  margin: 0 5px;\n}\n.qli-total__row--field .field__controls .input-wrapper input {\n  padding: 8px 5px;\n  margin: -8px -5px -8px 5px;\n  border: solid 1px #ccc;\n  text-align: right;\n  -webkit-appearance: none;\n}\n.qli-total__row--field .field__controls .input-wrapper input:focus {\n  text-align: left;\n}\n.qli-total__row--field .field__controls .input-wrapper .clear-button {\n  height: auto;\n  line-height: normal;\n}\n.field--deal-total {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field--deal-total .field-deal-total--percent {\n  margin: 0 30px;\n}\n.field--total {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 18px 0;\n  justify-content: space-between;\n  font-size: 1.143rem;\n  font-weight: bold;\n}\n/*\n------------------------- */\n.control__btn_remove {\n  font-size: 1.143rem;\n}\n.field__text-preview .field__text-preview__div {\n  line-height: 1.3em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n}\n.field__text-preview .field__text-preview__more {\n  padding-top: 4px;\n  color: #0679c8;\n}\n.field .field__text-preview .field__text-preview__more {\n  padding-bottom: 4px;\n}\n.popup-action-panel {\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 150px;\n  bottom: -150px;\n  z-index: 9999;\n  background-color: #52575b;\n  border-radius: 10px 10px 0 0;\n  padding: 10px;\n  transition: bottom 300ms ease-out;\n  box-shadow: 0 0 5px #000;\n  color: #fff;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n}\n.popup-action-panel .popup-action-panel__hook {\n  height: 6px;\n  width: 60px;\n  border-radius: 3px;\n  background-color: #6e7377;\n}\n.popup-action-panel .popup-action-panel__content {\n  margin-bottom: auto;\n  color: #a6abaf;\n}\n.popup-action-panel .popup-action-panel__content .error {\n  color: #f00;\n}\n.popup-action-panel .popup-action-panel__button {\n  width: 70px;\n  margin-right: 10px;\n}\n.popup-action-panel-visible {\n  bottom: 0;\n}\ntable {\n  max-width: 100%;\n  background-color: transparent;\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n.table {\n  width: 100%;\n  margin-bottom: 18px;\n}\n.table th,\n.table td {\n  padding: 8px;\n  line-height: 18px;\n  text-align: left;\n  vertical-align: top;\n  border-bottom: 1px solid #ecedef;\n}\n.table th {\n  font-weight: bold;\n}\n.table thead th {\n  vertical-align: bottom;\n}\n.table caption + thead tr:first-child th,\n.table caption + thead tr:first-child td,\n.table colgroup + thead tr:first-child th,\n.table colgroup + thead tr:first-child td,\n.table thead:first-child tr:first-child th,\n.table thead:first-child tr:first-child td {\n  border-top: 0;\n}\n.table tbody + tbody {\n  border-top: 2px solid #ecedef;\n}\n.table-totals {\n  margin-bottom: 10px;\n  background: #fff;\n}\n.table-totals .table-totals__row {\n  display: flex;\n  justify-content: space-between;\n  padding: 5px 12px;\n}\n.table-totals .table-totals__row--grand {\n  padding: 10px 12px;\n  margin-top: 5px;\n  border-top: solid 2px #000;\n  border-bottom: solid 2px #000;\n  font-weight: bold;\n}\n.table-totals .table-totals__row--grand .table-totals__label {\n  color: #000;\n}\n.table-totals .table-totals__label {\n  color: #6b7479;\n}\n.table-totals .table-totals__value {\n  font-weight: bold;\n}\n.layout__def {\n  position: absolute;\n  top: 50px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n}\n.layout__def .box__header {\n  top: -50px;\n}\n.layout__def .box__edit {\n  top: 50px;\n}\n/*!\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: \'FontAwesome\';\n  src: url('+n(424)+') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.icon {\n  display: inline-block;\n  font-family: FontAwesome;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/* makes the font 33% larger relative to the icon container */\n.icon-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.icon-2x {\n  font-size: 2em;\n}\n.icon-3x {\n  font-size: 3em;\n}\n.icon-4x {\n  font-size: 4em;\n}\n.icon-5x {\n  font-size: 5em;\n}\n.icon-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n.icon-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.icon-ul > li {\n  position: relative;\n}\n.icon-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.icon-li.icon-lg {\n  left: -1.85714286em;\n}\n.icon-border {\n  padding: .2em .25em .15em;\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n}\n.icon-pull-left {\n  float: left;\n}\n.icon-pull-right {\n  float: right;\n}\n.icon.icon-pull-left {\n  margin-right: .3em;\n}\n.icon.icon-pull-right {\n  margin-left: .3em;\n}\n/* Deprecated as of 4.4.0 */\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.icon.pull-left {\n  margin-right: .3em;\n}\n.icon.pull-right {\n  margin-left: .3em;\n}\n.icon-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n  animation: fa-spin 2s infinite linear;\n}\n.icon-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n  animation: fa-spin 1s infinite steps(8);\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n.icon-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.icon-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.icon-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.icon-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n  -ms-transform: scale(-1, 1);\n  transform: scale(-1, 1);\n}\n.icon-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n  -ms-transform: scale(1, -1);\n  transform: scale(1, -1);\n}\n.icon-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.icon-stack-1x,\n.icon-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.icon-stack-1x {\n  line-height: inherit;\n}\n.icon-stack-2x {\n  font-size: 2em;\n}\n.icon-inverse {\n  color: #fff;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.icon-circle-thin:before {\n  content: "\\F1DB";\n}\n.icon-glass:before {\n  content: "\\F000";\n}\n.icon-music:before {\n  content: "\\F001";\n}\n.icon-search:before {\n  content: "\\F002";\n}\n.icon-envelope-o:before {\n  content: "\\F003";\n}\n.icon-heart:before {\n  content: "\\F004";\n}\n.icon-star:before {\n  content: "\\F005";\n}\n.icon-star-o:before {\n  content: "\\F006";\n}\n.icon-user:before {\n  content: "\\F007";\n}\n.icon-film:before {\n  content: "\\F008";\n}\n.icon-th-large:before {\n  content: "\\F009";\n}\n.icon-th:before {\n  content: "\\F00A";\n}\n.icon-th-list:before {\n  content: "\\F00B";\n}\n.icon-check:before {\n  content: "\\F00C";\n}\n.icon-remove:before,\n.icon-close:before,\n.icon-times:before {\n  content: "\\F00D";\n}\n.icon-search-plus:before {\n  content: "\\F00E";\n}\n.icon-search-minus:before {\n  content: "\\F010";\n}\n.icon-power-off:before {\n  content: "\\F011";\n}\n.icon-signal:before {\n  content: "\\F012";\n}\n.icon-gear:before,\n.icon-cog:before {\n  content: "\\F013";\n}\n.icon-trash-o:before {\n  content: "\\F014";\n}\n.icon-home:before {\n  content: "\\F015";\n}\n.icon-file-o:before {\n  content: "\\F016";\n}\n.icon-clock-o:before {\n  content: "\\F017";\n}\n.icon-road:before {\n  content: "\\F018";\n}\n.icon-download:before {\n  content: "\\F019";\n}\n.icon-arrow-circle-o-down:before {\n  content: "\\F01A";\n}\n.icon-arrow-circle-o-up:before {\n  content: "\\F01B";\n}\n.icon-inbox:before {\n  content: "\\F01C";\n}\n.icon-play-circle-o:before {\n  content: "\\F01D";\n}\n.icon-rotate-right:before,\n.icon-repeat:before {\n  content: "\\F01E";\n}\n.icon-refresh:before {\n  content: "\\F021";\n}\n.icon-list-alt:before {\n  content: "\\F022";\n}\n.icon-lock:before {\n  content: "\\F023";\n}\n.icon-flag:before {\n  content: "\\F024";\n}\n.icon-headphones:before {\n  content: "\\F025";\n}\n.icon-volume-off:before {\n  content: "\\F026";\n}\n.icon-volume-down:before {\n  content: "\\F027";\n}\n.icon-volume-up:before {\n  content: "\\F028";\n}\n.icon-qrcode:before {\n  content: "\\F029";\n}\n.icon-barcode:before {\n  content: "\\F02A";\n}\n.icon-tag:before {\n  content: "\\F02B";\n}\n.icon-tags:before {\n  content: "\\F02C";\n}\n.icon-book:before {\n  content: "\\F02D";\n}\n.icon-bookmark:before {\n  content: "\\F02E";\n}\n.icon-print:before {\n  content: "\\F02F";\n}\n.icon-camera:before {\n  content: "\\F030";\n}\n.icon-font:before {\n  content: "\\F031";\n}\n.icon-bold:before {\n  content: "\\F032";\n}\n.icon-italic:before {\n  content: "\\F033";\n}\n.icon-text-height:before {\n  content: "\\F034";\n}\n.icon-text-width:before {\n  content: "\\F035";\n}\n.icon-align-left:before {\n  content: "\\F036";\n}\n.icon-align-center:before {\n  content: "\\F037";\n}\n.icon-align-right:before {\n  content: "\\F038";\n}\n.icon-align-justify:before {\n  content: "\\F039";\n}\n.icon-list:before {\n  content: "\\F03A";\n}\n.icon-dedent:before,\n.icon-outdent:before {\n  content: "\\F03B";\n}\n.icon-indent:before {\n  content: "\\F03C";\n}\n.icon-video-camera:before {\n  content: "\\F03D";\n}\n.icon-photo:before,\n.icon-image:before,\n.icon-picture-o:before {\n  content: "\\F03E";\n}\n.icon-pencil:before {\n  content: "\\F040";\n}\n.icon-map-marker:before {\n  content: "\\F041";\n}\n.icon-adjust:before {\n  content: "\\F042";\n}\n.icon-tint:before {\n  content: "\\F043";\n}\n.icon-edit:before,\n.icon-pencil-square-o:before {\n  content: "\\F044";\n}\n.icon-share-square-o:before {\n  content: "\\F045";\n}\n.icon-check-square-o:before {\n  content: "\\F046";\n}\n.icon-arrows:before {\n  content: "\\F047";\n}\n.icon-step-backward:before {\n  content: "\\F048";\n}\n.icon-fast-backward:before {\n  content: "\\F049";\n}\n.icon-backward:before {\n  content: "\\F04A";\n}\n.icon-play:before {\n  content: "\\F04B";\n}\n.icon-pause:before {\n  content: "\\F04C";\n}\n.icon-stop:before {\n  content: "\\F04D";\n}\n.icon-forward:before {\n  content: "\\F04E";\n}\n.icon-fast-forward:before {\n  content: "\\F050";\n}\n.icon-step-forward:before {\n  content: "\\F051";\n}\n.icon-eject:before {\n  content: "\\F052";\n}\n.icon-chevron-left:before {\n  content: "\\F053";\n}\n.icon-chevron-right:before {\n  content: "\\F054";\n}\n.icon-plus-circle:before {\n  content: "\\F055";\n}\n.icon-minus-circle:before {\n  content: "\\F056";\n}\n.icon-times-circle:before {\n  content: "\\F057";\n}\n.icon-check-circle:before {\n  content: "\\F058";\n}\n.icon-question-circle:before {\n  content: "\\F059";\n}\n.icon-info-circle:before {\n  content: "\\F05A";\n}\n.icon-crosshairs:before {\n  content: "\\F05B";\n}\n.icon-times-circle-o:before {\n  content: "\\F05C";\n}\n.icon-check-circle-o:before {\n  content: "\\F05D";\n}\n.icon-ban:before {\n  content: "\\F05E";\n}\n.icon-arrow-left:before {\n  content: "\\F060";\n}\n.icon-arrow-right:before {\n  content: "\\F061";\n}\n.icon-arrow-up:before {\n  content: "\\F062";\n}\n.icon-arrow-down:before {\n  content: "\\F063";\n}\n.icon-mail-forward:before,\n.icon-share:before {\n  content: "\\F064";\n}\n.icon-expand:before {\n  content: "\\F065";\n}\n.icon-compress:before {\n  content: "\\F066";\n}\n.icon-plus:before {\n  content: "\\F067";\n}\n.icon-minus:before {\n  content: "\\F068";\n}\n.icon-asterisk:before {\n  content: "\\F069";\n}\n.icon-exclamation-circle:before {\n  content: "\\F06A";\n}\n.icon-gift:before {\n  content: "\\F06B";\n}\n.icon-leaf:before {\n  content: "\\F06C";\n}\n.icon-fire:before {\n  content: "\\F06D";\n}\n.icon-eye:before {\n  content: "\\F06E";\n}\n.icon-eye-slash:before {\n  content: "\\F070";\n}\n.icon-warning:before,\n.icon-exclamation-triangle:before {\n  content: "\\F071";\n}\n.icon-plane:before {\n  content: "\\F072";\n}\n.icon-calendar:before {\n  content: "\\F073";\n}\n.icon-random:before {\n  content: "\\F074";\n}\n.icon-comment:before {\n  content: "\\F075";\n}\n.icon-magnet:before {\n  content: "\\F076";\n}\n.icon-chevron-up:before {\n  content: "\\F077";\n}\n.icon-chevron-down:before {\n  content: "\\F078";\n}\n.icon-retweet:before {\n  content: "\\F079";\n}\n.icon-shopping-cart:before {\n  content: "\\F07A";\n}\n.icon-folder:before {\n  content: "\\F07B";\n}\n.icon-folder-open:before {\n  content: "\\F07C";\n}\n.icon-arrows-v:before {\n  content: "\\F07D";\n}\n.icon-arrows-h:before {\n  content: "\\F07E";\n}\n.icon-bar-chart-o:before,\n.icon-bar-chart:before {\n  content: "\\F080";\n}\n.icon-twitter-square:before {\n  content: "\\F081";\n}\n.icon-facebook-square:before {\n  content: "\\F082";\n}\n.icon-camera-retro:before {\n  content: "\\F083";\n}\n.icon-key:before {\n  content: "\\F084";\n}\n.icon-gears:before,\n.icon-cogs:before {\n  content: "\\F085";\n}\n.icon-comments:before {\n  content: "\\F086";\n}\n.icon-thumbs-o-up:before {\n  content: "\\F087";\n}\n.icon-thumbs-o-down:before {\n  content: "\\F088";\n}\n.icon-star-half:before {\n  content: "\\F089";\n}\n.icon-heart-o:before {\n  content: "\\F08A";\n}\n.icon-sign-out:before {\n  content: "\\F08B";\n}\n.icon-linkedin-square:before {\n  content: "\\F08C";\n}\n.icon-thumb-tack:before {\n  content: "\\F08D";\n}\n.icon-external-link:before {\n  content: "\\F08E";\n}\n.icon-sign-in:before {\n  content: "\\F090";\n}\n.icon-trophy:before {\n  content: "\\F091";\n}\n.icon-github-square:before {\n  content: "\\F092";\n}\n.icon-upload:before {\n  content: "\\F093";\n}\n.icon-lemon-o:before {\n  content: "\\F094";\n}\n.icon-phone:before {\n  content: "\\F095";\n}\n.icon-square-o:before {\n  content: "\\F096";\n}\n.icon-bookmark-o:before {\n  content: "\\F097";\n}\n.icon-phone-square:before {\n  content: "\\F098";\n}\n.icon-twitter:before {\n  content: "\\F099";\n}\n.icon-facebook-f:before,\n.icon-facebook:before {\n  content: "\\F09A";\n}\n.icon-github:before {\n  content: "\\F09B";\n}\n.icon-unlock:before {\n  content: "\\F09C";\n}\n.icon-credit-card:before {\n  content: "\\F09D";\n}\n.icon-feed:before,\n.icon-rss:before {\n  content: "\\F09E";\n}\n.icon-hdd-o:before {\n  content: "\\F0A0";\n}\n.icon-bullhorn:before {\n  content: "\\F0A1";\n}\n.icon-bell:before {\n  content: "\\F0F3";\n}\n.icon-certificate:before {\n  content: "\\F0A3";\n}\n.icon-hand-o-right:before {\n  content: "\\F0A4";\n}\n.icon-hand-o-left:before {\n  content: "\\F0A5";\n}\n.icon-hand-o-up:before {\n  content: "\\F0A6";\n}\n.icon-hand-o-down:before {\n  content: "\\F0A7";\n}\n.icon-arrow-circle-left:before {\n  content: "\\F0A8";\n}\n.icon-arrow-circle-right:before {\n  content: "\\F0A9";\n}\n.icon-arrow-circle-up:before {\n  content: "\\F0AA";\n}\n.icon-arrow-circle-down:before {\n  content: "\\F0AB";\n}\n.icon-globe:before {\n  content: "\\F0AC";\n}\n.icon-wrench:before {\n  content: "\\F0AD";\n}\n.icon-tasks:before {\n  content: "\\F0AE";\n}\n.icon-filter:before {\n  content: "\\F0B0";\n}\n.icon-briefcase:before {\n  content: "\\F0B1";\n}\n.icon-arrows-alt:before {\n  content: "\\F0B2";\n}\n.icon-group:before,\n.icon-users:before {\n  content: "\\F0C0";\n}\n.icon-chain:before,\n.icon-link:before {\n  content: "\\F0C1";\n}\n.icon-cloud:before {\n  content: "\\F0C2";\n}\n.icon-flask:before {\n  content: "\\F0C3";\n}\n.icon-cut:before,\n.icon-scissors:before {\n  content: "\\F0C4";\n}\n.icon-copy:before,\n.icon-files-o:before {\n  content: "\\F0C5";\n}\n.icon-paperclip:before {\n  content: "\\F0C6";\n}\n.icon-save:before,\n.icon-floppy-o:before {\n  content: "\\F0C7";\n}\n.icon-square:before {\n  content: "\\F0C8";\n}\n.icon-navicon:before,\n.icon-reorder:before,\n.icon-bars:before {\n  content: "\\F0C9";\n}\n.icon-list-ul:before {\n  content: "\\F0CA";\n}\n.icon-list-ol:before {\n  content: "\\F0CB";\n}\n.icon-strikethrough:before {\n  content: "\\F0CC";\n}\n.icon-underline:before {\n  content: "\\F0CD";\n}\n.icon-table:before {\n  content: "\\F0CE";\n}\n.icon-magic:before {\n  content: "\\F0D0";\n}\n.icon-truck:before {\n  content: "\\F0D1";\n}\n.icon-pinterest:before {\n  content: "\\F0D2";\n}\n.icon-pinterest-square:before {\n  content: "\\F0D3";\n}\n.icon-google-plus-square:before {\n  content: "\\F0D4";\n}\n.icon-google-plus:before {\n  content: "\\F0D5";\n}\n.icon-money:before {\n  content: "\\F0D6";\n}\n.icon-caret-down:before {\n  content: "\\F0D7";\n}\n.icon-caret-up:before {\n  content: "\\F0D8";\n}\n.icon-caret-left:before {\n  content: "\\F0D9";\n}\n.icon-caret-right:before {\n  content: "\\F0DA";\n}\n.icon-columns:before {\n  content: "\\F0DB";\n}\n.icon-unsorted:before,\n.icon-sort:before {\n  content: "\\F0DC";\n}\n.icon-sort-down:before,\n.icon-sort-desc:before {\n  content: "\\F0DD";\n}\n.icon-sort-up:before,\n.icon-sort-asc:before {\n  content: "\\F0DE";\n}\n.icon-envelope:before {\n  content: "\\F0E0";\n}\n.icon-linkedin:before {\n  content: "\\F0E1";\n}\n.icon-rotate-left:before,\n.icon-undo:before {\n  content: "\\F0E2";\n}\n.icon-legal:before,\n.icon-gavel:before {\n  content: "\\F0E3";\n}\n.icon-dashboard:before,\n.icon-tachometer:before {\n  content: "\\F0E4";\n}\n.icon-comment-o:before {\n  content: "\\F0E5";\n}\n.icon-comments-o:before {\n  content: "\\F0E6";\n}\n.icon-flash:before,\n.icon-bolt:before {\n  content: "\\F0E7";\n}\n.icon-sitemap:before {\n  content: "\\F0E8";\n}\n.icon-umbrella:before {\n  content: "\\F0E9";\n}\n.icon-paste:before,\n.icon-clipboard:before {\n  content: "\\F0EA";\n}\n.icon-lightbulb-o:before {\n  content: "\\F0EB";\n}\n.icon-exchange:before {\n  content: "\\F0EC";\n}\n.icon-cloud-download:before {\n  content: "\\F0ED";\n}\n.icon-cloud-upload:before {\n  content: "\\F0EE";\n}\n.icon-user-md:before {\n  content: "\\F0F0";\n}\n.icon-stethoscope:before {\n  content: "\\F0F1";\n}\n.icon-suitcase:before {\n  content: "\\F0F2";\n}\n.icon-bell-o:before {\n  content: "\\F0A2";\n}\n.icon-coffee:before {\n  content: "\\F0F4";\n}\n.icon-cutlery:before {\n  content: "\\F0F5";\n}\n.icon-file-text-o:before {\n  content: "\\F0F6";\n}\n.icon-building-o:before {\n  content: "\\F0F7";\n}\n.icon-hospital-o:before {\n  content: "\\F0F8";\n}\n.icon-ambulance:before {\n  content: "\\F0F9";\n}\n.icon-medkit:before {\n  content: "\\F0FA";\n}\n.icon-fighter-jet:before {\n  content: "\\F0FB";\n}\n.icon-beer:before {\n  content: "\\F0FC";\n}\n.icon-h-square:before {\n  content: "\\F0FD";\n}\n.icon-plus-square:before {\n  content: "\\F0FE";\n}\n.icon-angle-double-left:before {\n  content: "\\F100";\n}\n.icon-angle-double-right:before {\n  content: "\\F101";\n}\n.icon-angle-double-up:before {\n  content: "\\F102";\n}\n.icon-angle-double-down:before {\n  content: "\\F103";\n}\n.icon-angle-left:before {\n  content: "\\F104";\n}\n.icon-angle-right:before {\n  content: "\\F105";\n}\n.icon-angle-up:before {\n  content: "\\F106";\n}\n.icon-angle-down:before {\n  content: "\\F107";\n}\n.icon-desktop:before {\n  content: "\\F108";\n}\n.icon-laptop:before {\n  content: "\\F109";\n}\n.icon-tablet:before {\n  content: "\\F10A";\n}\n.icon-mobile-phone:before,\n.icon-mobile:before {\n  content: "\\F10B";\n}\n.icon-circle-o:before {\n  content: "\\F10C";\n}\n.icon-quote-left:before {\n  content: "\\F10D";\n}\n.icon-quote-right:before {\n  content: "\\F10E";\n}\n.icon-spinner:before {\n  content: "\\F110";\n}\n.icon-circle:before {\n  content: "\\F111";\n}\n.icon-mail-reply:before,\n.icon-reply:before {\n  content: "\\F112";\n}\n.icon-github-alt:before {\n  content: "\\F113";\n}\n.icon-folder-o:before {\n  content: "\\F114";\n}\n.icon-folder-open-o:before {\n  content: "\\F115";\n}\n.icon-smile-o:before {\n  content: "\\F118";\n}\n.icon-frown-o:before {\n  content: "\\F119";\n}\n.icon-meh-o:before {\n  content: "\\F11A";\n}\n.icon-gamepad:before {\n  content: "\\F11B";\n}\n.icon-keyboard-o:before {\n  content: "\\F11C";\n}\n.icon-flag-o:before {\n  content: "\\F11D";\n}\n.icon-flag-checkered:before {\n  content: "\\F11E";\n}\n.icon-terminal:before {\n  content: "\\F120";\n}\n.icon-code:before {\n  content: "\\F121";\n}\n.icon-mail-reply-all:before,\n.icon-reply-all:before {\n  content: "\\F122";\n}\n.icon-star-half-empty:before,\n.icon-star-half-full:before,\n.icon-star-half-o:before {\n  content: "\\F123";\n}\n.icon-location-arrow:before {\n  content: "\\F124";\n}\n.icon-crop:before {\n  content: "\\F125";\n}\n.icon-code-fork:before {\n  content: "\\F126";\n}\n.icon-unlink:before,\n.icon-chain-broken:before {\n  content: "\\F127";\n}\n.icon-question:before {\n  content: "\\F128";\n}\n.icon-info:before {\n  content: "\\F129";\n}\n.icon-exclamation:before {\n  content: "\\F12A";\n}\n.icon-superscript:before {\n  content: "\\F12B";\n}\n.icon-subscript:before {\n  content: "\\F12C";\n}\n.icon-eraser:before {\n  content: "\\F12D";\n}\n.icon-puzzle-piece:before {\n  content: "\\F12E";\n}\n.icon-microphone:before {\n  content: "\\F130";\n}\n.icon-microphone-slash:before {\n  content: "\\F131";\n}\n.icon-shield:before {\n  content: "\\F132";\n}\n.icon-calendar-o:before {\n  content: "\\F133";\n}\n.icon-fire-extinguisher:before {\n  content: "\\F134";\n}\n.icon-rocket:before {\n  content: "\\F135";\n}\n.icon-maxcdn:before {\n  content: "\\F136";\n}\n.icon-chevron-circle-left:before {\n  content: "\\F137";\n}\n.icon-chevron-circle-right:before {\n  content: "\\F138";\n}\n.icon-chevron-circle-up:before {\n  content: "\\F139";\n}\n.icon-chevron-circle-down:before {\n  content: "\\F13A";\n}\n.icon-html5:before {\n  content: "\\F13B";\n}\n.icon-css3:before {\n  content: "\\F13C";\n}\n.icon-anchor:before {\n  content: "\\F13D";\n}\n.icon-unlock-alt:before {\n  content: "\\F13E";\n}\n.icon-bullseye:before {\n  content: "\\F140";\n}\n.icon-ellipsis-h:before {\n  content: "\\F141";\n}\n.icon-ellipsis-v:before {\n  content: "\\F142";\n}\n.icon-rss-square:before {\n  content: "\\F143";\n}\n.icon-play-circle:before {\n  content: "\\F144";\n}\n.icon-ticket:before {\n  content: "\\F145";\n}\n.icon-minus-square:before {\n  content: "\\F146";\n}\n.icon-minus-square-o:before {\n  content: "\\F147";\n}\n.icon-level-up:before {\n  content: "\\F148";\n}\n.icon-level-down:before {\n  content: "\\F149";\n}\n.icon-check-square:before {\n  content: "\\F14A";\n}\n.icon-pencil-square:before {\n  content: "\\F14B";\n}\n.icon-external-link-square:before {\n  content: "\\F14C";\n}\n.icon-share-square:before {\n  content: "\\F14D";\n}\n.icon-compass:before {\n  content: "\\F14E";\n}\n.icon-toggle-down:before,\n.icon-caret-square-o-down:before {\n  content: "\\F150";\n}\n.icon-toggle-up:before,\n.icon-caret-square-o-up:before {\n  content: "\\F151";\n}\n.icon-toggle-right:before,\n.icon-caret-square-o-right:before {\n  content: "\\F152";\n}\n.icon-euro:before,\n.icon-eur:before {\n  content: "\\F153";\n}\n.icon-gbp:before {\n  content: "\\F154";\n}\n.icon-dollar:before,\n.icon-usd:before {\n  content: "\\F155";\n}\n.icon-rupee:before,\n.icon-inr:before {\n  content: "\\F156";\n}\n.icon-cny:before,\n.icon-rmb:before,\n.icon-yen:before,\n.icon-jpy:before {\n  content: "\\F157";\n}\n.icon-ruble:before,\n.icon-rouble:before,\n.icon-rub:before {\n  content: "\\F158";\n}\n.icon-won:before,\n.icon-krw:before {\n  content: "\\F159";\n}\n.icon-bitcoin:before,\n.icon-btc:before {\n  content: "\\F15A";\n}\n.icon-file:before {\n  content: "\\F15B";\n}\n.icon-file-text:before {\n  content: "\\F15C";\n}\n.icon-sort-alpha-asc:before {\n  content: "\\F15D";\n}\n.icon-sort-alpha-desc:before {\n  content: "\\F15E";\n}\n.icon-sort-amount-asc:before {\n  content: "\\F160";\n}\n.icon-sort-amount-desc:before {\n  content: "\\F161";\n}\n.icon-sort-numeric-asc:before {\n  content: "\\F162";\n}\n.icon-sort-numeric-desc:before {\n  content: "\\F163";\n}\n.icon-thumbs-up:before {\n  content: "\\F164";\n}\n.icon-thumbs-down:before {\n  content: "\\F165";\n}\n.icon-youtube-square:before {\n  content: "\\F166";\n}\n.icon-youtube:before {\n  content: "\\F167";\n}\n.icon-xing:before {\n  content: "\\F168";\n}\n.icon-xing-square:before {\n  content: "\\F169";\n}\n.icon-youtube-play:before {\n  content: "\\F16A";\n}\n.icon-dropbox:before {\n  content: "\\F16B";\n}\n.icon-stack-overflow:before {\n  content: "\\F16C";\n}\n.icon-instagram:before {\n  content: "\\F16D";\n}\n.icon-flickr:before {\n  content: "\\F16E";\n}\n.icon-adn:before {\n  content: "\\F170";\n}\n.icon-bitbucket:before {\n  content: "\\F171";\n}\n.icon-bitbucket-square:before {\n  content: "\\F172";\n}\n.icon-tumblr:before {\n  content: "\\F173";\n}\n.icon-tumblr-square:before {\n  content: "\\F174";\n}\n.icon-long-arrow-down:before {\n  content: "\\F175";\n}\n.icon-long-arrow-up:before {\n  content: "\\F176";\n}\n.icon-long-arrow-left:before {\n  content: "\\F177";\n}\n.icon-long-arrow-right:before {\n  content: "\\F178";\n}\n.icon-apple:before {\n  content: "\\F179";\n}\n.icon-windows:before {\n  content: "\\F17A";\n}\n.icon-android:before {\n  content: "\\F17B";\n}\n.icon-linux:before {\n  content: "\\F17C";\n}\n.icon-dribbble:before {\n  content: "\\F17D";\n}\n.icon-skype:before {\n  content: "\\F17E";\n}\n.icon-foursquare:before {\n  content: "\\F180";\n}\n.icon-trello:before {\n  content: "\\F181";\n}\n.icon-female:before {\n  content: "\\F182";\n}\n.icon-male:before {\n  content: "\\F183";\n}\n.icon-gittip:before,\n.icon-gratipay:before {\n  content: "\\F184";\n}\n.icon-sun-o:before {\n  content: "\\F185";\n}\n.icon-moon-o:before {\n  content: "\\F186";\n}\n.icon-archive:before {\n  content: "\\F187";\n}\n.icon-bug:before {\n  content: "\\F188";\n}\n.icon-vk:before {\n  content: "\\F189";\n}\n.icon-weibo:before {\n  content: "\\F18A";\n}\n.icon-renren:before {\n  content: "\\F18B";\n}\n.icon-pagelines:before {\n  content: "\\F18C";\n}\n.icon-stack-exchange:before {\n  content: "\\F18D";\n}\n.icon-arrow-circle-o-right:before {\n  content: "\\F18E";\n}\n.icon-arrow-circle-o-left:before {\n  content: "\\F190";\n}\n.icon-toggle-left:before,\n.icon-caret-square-o-left:before {\n  content: "\\F191";\n}\n.icon-dot-circle-o:before {\n  content: "\\F192";\n}\n.icon-wheelchair:before {\n  content: "\\F193";\n}\n.icon-vimeo-square:before {\n  content: "\\F194";\n}\n.icon-turkish-lira:before,\n.icon-try:before {\n  content: "\\F195";\n}\n.icon-plus-square-o:before {\n  content: "\\F196";\n}\n.icon-space-shuttle:before {\n  content: "\\F197";\n}\n.icon-slack:before {\n  content: "\\F198";\n}\n.icon-envelope-square:before {\n  content: "\\F199";\n}\n.icon-wordpress:before {\n  content: "\\F19A";\n}\n.icon-openid:before {\n  content: "\\F19B";\n}\n.icon-institution:before,\n.icon-bank:before,\n.icon-university:before {\n  content: "\\F19C";\n}\n.icon-mortar-board:before,\n.icon-graduation-cap:before {\n  content: "\\F19D";\n}\n.icon-yahoo:before {\n  content: "\\F19E";\n}\n.icon-google:before {\n  content: "\\F1A0";\n}\n.icon-reddit:before {\n  content: "\\F1A1";\n}\n.icon-reddit-square:before {\n  content: "\\F1A2";\n}\n.icon-stumbleupon-circle:before {\n  content: "\\F1A3";\n}\n.icon-stumbleupon:before {\n  content: "\\F1A4";\n}\n.icon-delicious:before {\n  content: "\\F1A5";\n}\n.icon-digg:before {\n  content: "\\F1A6";\n}\n.icon-pied-piper-pp:before {\n  content: "\\F1A7";\n}\n.icon-pied-piper-alt:before {\n  content: "\\F1A8";\n}\n.icon-drupal:before {\n  content: "\\F1A9";\n}\n.icon-joomla:before {\n  content: "\\F1AA";\n}\n.icon-language:before {\n  content: "\\F1AB";\n}\n.icon-fax:before {\n  content: "\\F1AC";\n}\n.icon-building:before {\n  content: "\\F1AD";\n}\n.icon-child:before {\n  content: "\\F1AE";\n}\n.icon-paw:before {\n  content: "\\F1B0";\n}\n.icon-spoon:before {\n  content: "\\F1B1";\n}\n.icon-cube:before {\n  content: "\\F1B2";\n}\n.icon-cubes:before {\n  content: "\\F1B3";\n}\n.icon-behance:before {\n  content: "\\F1B4";\n}\n.icon-behance-square:before {\n  content: "\\F1B5";\n}\n.icon-steam:before {\n  content: "\\F1B6";\n}\n.icon-steam-square:before {\n  content: "\\F1B7";\n}\n.icon-recycle:before {\n  content: "\\F1B8";\n}\n.icon-automobile:before,\n.icon-car:before {\n  content: "\\F1B9";\n}\n.icon-cab:before,\n.icon-taxi:before {\n  content: "\\F1BA";\n}\n.icon-tree:before {\n  content: "\\F1BB";\n}\n.icon-spotify:before {\n  content: "\\F1BC";\n}\n.icon-deviantart:before {\n  content: "\\F1BD";\n}\n.icon-soundcloud:before {\n  content: "\\F1BE";\n}\n.icon-database:before {\n  content: "\\F1C0";\n}\n.icon-file-pdf-o:before {\n  content: "\\F1C1";\n}\n.icon-file-word-o:before {\n  content: "\\F1C2";\n}\n.icon-file-excel-o:before {\n  content: "\\F1C3";\n}\n.icon-file-powerpoint-o:before {\n  content: "\\F1C4";\n}\n.icon-file-photo-o:before,\n.icon-file-picture-o:before,\n.icon-file-image-o:before {\n  content: "\\F1C5";\n}\n.icon-file-zip-o:before,\n.icon-file-archive-o:before {\n  content: "\\F1C6";\n}\n.icon-file-sound-o:before,\n.icon-file-audio-o:before {\n  content: "\\F1C7";\n}\n.icon-file-movie-o:before,\n.icon-file-video-o:before {\n  content: "\\F1C8";\n}\n.icon-file-code-o:before {\n  content: "\\F1C9";\n}\n.icon-vine:before {\n  content: "\\F1CA";\n}\n.icon-codepen:before {\n  content: "\\F1CB";\n}\n.icon-jsfiddle:before {\n  content: "\\F1CC";\n}\n.icon-life-bouy:before,\n.icon-life-buoy:before,\n.icon-life-saver:before,\n.icon-support:before,\n.icon-life-ring:before {\n  content: "\\F1CD";\n}\n.icon-circle-o-notch:before {\n  content: "\\F1CE";\n}\n.icon-ra:before,\n.icon-resistance:before,\n.icon-rebel:before {\n  content: "\\F1D0";\n}\n.icon-ge:before,\n.icon-empire:before {\n  content: "\\F1D1";\n}\n.icon-git-square:before {\n  content: "\\F1D2";\n}\n.icon-git:before {\n  content: "\\F1D3";\n}\n.icon-y-combinator-square:before,\n.icon-yc-square:before,\n.icon-hacker-news:before {\n  content: "\\F1D4";\n}\n.icon-tencent-weibo:before {\n  content: "\\F1D5";\n}\n.icon-qq:before {\n  content: "\\F1D6";\n}\n.icon-wechat:before,\n.icon-weixin:before {\n  content: "\\F1D7";\n}\n.icon-send:before,\n.icon-paper-plane:before {\n  content: "\\F1D8";\n}\n.icon-send-o:before,\n.icon-paper-plane-o:before {\n  content: "\\F1D9";\n}\n.icon-history:before {\n  content: "\\F1DA";\n}\n.icon-header:before {\n  content: "\\F1DC";\n}\n.icon-paragraph:before {\n  content: "\\F1DD";\n}\n.icon-sliders:before {\n  content: "\\F1DE";\n}\n.icon-share-alt:before {\n  content: "\\F1E0";\n}\n.icon-share-alt-square:before {\n  content: "\\F1E1";\n}\n.icon-bomb:before {\n  content: "\\F1E2";\n}\n.icon-soccer-ball-o:before,\n.icon-futbol-o:before {\n  content: "\\F1E3";\n}\n.icon-tty:before {\n  content: "\\F1E4";\n}\n.icon-binoculars:before {\n  content: "\\F1E5";\n}\n.icon-plug:before {\n  content: "\\F1E6";\n}\n.icon-slideshare:before {\n  content: "\\F1E7";\n}\n.icon-twitch:before {\n  content: "\\F1E8";\n}\n.icon-yelp:before {\n  content: "\\F1E9";\n}\n.icon-newspaper-o:before {\n  content: "\\F1EA";\n}\n.icon-wifi:before {\n  content: "\\F1EB";\n}\n.icon-calculator:before {\n  content: "\\F1EC";\n}\n.icon-paypal:before {\n  content: "\\F1ED";\n}\n.icon-google-wallet:before {\n  content: "\\F1EE";\n}\n.icon-cc-visa:before {\n  content: "\\F1F0";\n}\n.icon-cc-mastercard:before {\n  content: "\\F1F1";\n}\n.icon-cc-discover:before {\n  content: "\\F1F2";\n}\n.icon-cc-amex:before {\n  content: "\\F1F3";\n}\n.icon-cc-paypal:before {\n  content: "\\F1F4";\n}\n.icon-cc-stripe:before {\n  content: "\\F1F5";\n}\n.icon-bell-slash:before {\n  content: "\\F1F6";\n}\n.icon-bell-slash-o:before {\n  content: "\\F1F7";\n}\n.icon-trash:before {\n  content: "\\F1F8";\n}\n.icon-copyright:before {\n  content: "\\F1F9";\n}\n.icon-at:before {\n  content: "\\F1FA";\n}\n.icon-eyedropper:before {\n  content: "\\F1FB";\n}\n.icon-paint-brush:before {\n  content: "\\F1FC";\n}\n.icon-birthday-cake:before {\n  content: "\\F1FD";\n}\n.icon-area-chart:before {\n  content: "\\F1FE";\n}\n.icon-pie-chart:before {\n  content: "\\F200";\n}\n.icon-line-chart:before {\n  content: "\\F201";\n}\n.icon-lastfm:before {\n  content: "\\F202";\n}\n.icon-lastfm-square:before {\n  content: "\\F203";\n}\n.icon-toggle-off:before {\n  content: "\\F204";\n}\n.icon-toggle-on:before {\n  content: "\\F205";\n}\n.icon-bicycle:before {\n  content: "\\F206";\n}\n.icon-bus:before {\n  content: "\\F207";\n}\n.icon-ioxhost:before {\n  content: "\\F208";\n}\n.icon-angellist:before {\n  content: "\\F209";\n}\n.icon-cc:before {\n  content: "\\F20A";\n}\n.icon-shekel:before,\n.icon-sheqel:before,\n.icon-ils:before {\n  content: "\\F20B";\n}\n.icon-meanpath:before {\n  content: "\\F20C";\n}\n.icon-buysellads:before {\n  content: "\\F20D";\n}\n.icon-connectdevelop:before {\n  content: "\\F20E";\n}\n.icon-dashcube:before {\n  content: "\\F210";\n}\n.icon-forumbee:before {\n  content: "\\F211";\n}\n.icon-leanpub:before {\n  content: "\\F212";\n}\n.icon-sellsy:before {\n  content: "\\F213";\n}\n.icon-shirtsinbulk:before {\n  content: "\\F214";\n}\n.icon-simplybuilt:before {\n  content: "\\F215";\n}\n.icon-skyatlas:before {\n  content: "\\F216";\n}\n.icon-cart-plus:before {\n  content: "\\F217";\n}\n.icon-cart-arrow-down:before {\n  content: "\\F218";\n}\n.icon-diamond:before {\n  content: "\\F219";\n}\n.icon-ship:before {\n  content: "\\F21A";\n}\n.icon-user-secret:before {\n  content: "\\F21B";\n}\n.icon-motorcycle:before {\n  content: "\\F21C";\n}\n.icon-street-view:before {\n  content: "\\F21D";\n}\n.icon-heartbeat:before {\n  content: "\\F21E";\n}\n.icon-venus:before {\n  content: "\\F221";\n}\n.icon-mars:before {\n  content: "\\F222";\n}\n.icon-mercury:before {\n  content: "\\F223";\n}\n.icon-intersex:before,\n.icon-transgender:before {\n  content: "\\F224";\n}\n.icon-transgender-alt:before {\n  content: "\\F225";\n}\n.icon-venus-double:before {\n  content: "\\F226";\n}\n.icon-mars-double:before {\n  content: "\\F227";\n}\n.icon-venus-mars:before {\n  content: "\\F228";\n}\n.icon-mars-stroke:before {\n  content: "\\F229";\n}\n.icon-mars-stroke-v:before {\n  content: "\\F22A";\n}\n.icon-mars-stroke-h:before {\n  content: "\\F22B";\n}\n.icon-neuter:before {\n  content: "\\F22C";\n}\n.icon-genderless:before {\n  content: "\\F22D";\n}\n.icon-facebook-official:before {\n  content: "\\F230";\n}\n.icon-pinterest-p:before {\n  content: "\\F231";\n}\n.icon-whatsapp:before {\n  content: "\\F232";\n}\n.icon-server:before {\n  content: "\\F233";\n}\n.icon-user-plus:before {\n  content: "\\F234";\n}\n.icon-user-times:before {\n  content: "\\F235";\n}\n.icon-hotel:before,\n.icon-bed:before {\n  content: "\\F236";\n}\n.icon-viacoin:before {\n  content: "\\F237";\n}\n.icon-train:before {\n  content: "\\F238";\n}\n.icon-subway:before {\n  content: "\\F239";\n}\n.icon-medium:before {\n  content: "\\F23A";\n}\n.icon-yc:before,\n.icon-y-combinator:before {\n  content: "\\F23B";\n}\n.icon-optin-monster:before {\n  content: "\\F23C";\n}\n.icon-opencart:before {\n  content: "\\F23D";\n}\n.icon-expeditedssl:before {\n  content: "\\F23E";\n}\n.icon-battery-4:before,\n.icon-battery:before,\n.icon-battery-full:before {\n  content: "\\F240";\n}\n.icon-battery-3:before,\n.icon-battery-three-quarters:before {\n  content: "\\F241";\n}\n.icon-battery-2:before,\n.icon-battery-half:before {\n  content: "\\F242";\n}\n.icon-battery-1:before,\n.icon-battery-quarter:before {\n  content: "\\F243";\n}\n.icon-battery-0:before,\n.icon-battery-empty:before {\n  content: "\\F244";\n}\n.icon-mouse-pointer:before {\n  content: "\\F245";\n}\n.icon-i-cursor:before {\n  content: "\\F246";\n}\n.icon-object-group:before {\n  content: "\\F247";\n}\n.icon-object-ungroup:before {\n  content: "\\F248";\n}\n.icon-sticky-note:before {\n  content: "\\F249";\n}\n.icon-sticky-note-o:before {\n  content: "\\F24A";\n}\n.icon-cc-jcb:before {\n  content: "\\F24B";\n}\n.icon-cc-diners-club:before {\n  content: "\\F24C";\n}\n.icon-clone:before {\n  content: "\\F24D";\n}\n.icon-balance-scale:before {\n  content: "\\F24E";\n}\n.icon-hourglass-o:before {\n  content: "\\F250";\n}\n.icon-hourglass-1:before,\n.icon-hourglass-start:before {\n  content: "\\F251";\n}\n.icon-hourglass-2:before,\n.icon-hourglass-half:before {\n  content: "\\F252";\n}\n.icon-hourglass-3:before,\n.icon-hourglass-end:before {\n  content: "\\F253";\n}\n.icon-hourglass:before {\n  content: "\\F254";\n}\n.icon-hand-grab-o:before,\n.icon-hand-rock-o:before {\n  content: "\\F255";\n}\n.icon-hand-stop-o:before,\n.icon-hand-paper-o:before {\n  content: "\\F256";\n}\n.icon-hand-scissors-o:before {\n  content: "\\F257";\n}\n.icon-hand-lizard-o:before {\n  content: "\\F258";\n}\n.icon-hand-spock-o:before {\n  content: "\\F259";\n}\n.icon-hand-pointer-o:before {\n  content: "\\F25A";\n}\n.icon-hand-peace-o:before {\n  content: "\\F25B";\n}\n.icon-trademark:before {\n  content: "\\F25C";\n}\n.icon-registered:before {\n  content: "\\F25D";\n}\n.icon-creative-commons:before {\n  content: "\\F25E";\n}\n.icon-gg:before {\n  content: "\\F260";\n}\n.icon-gg-circle:before {\n  content: "\\F261";\n}\n.icon-tripadvisor:before {\n  content: "\\F262";\n}\n.icon-odnoklassniki:before {\n  content: "\\F263";\n}\n.icon-odnoklassniki-square:before {\n  content: "\\F264";\n}\n.icon-get-pocket:before {\n  content: "\\F265";\n}\n.icon-wikipedia-w:before {\n  content: "\\F266";\n}\n.icon-safari:before {\n  content: "\\F267";\n}\n.icon-chrome:before {\n  content: "\\F268";\n}\n.icon-firefox:before {\n  content: "\\F269";\n}\n.icon-opera:before {\n  content: "\\F26A";\n}\n.icon-internet-explorer:before {\n  content: "\\F26B";\n}\n.icon-tv:before,\n.icon-television:before {\n  content: "\\F26C";\n}\n.icon-contao:before {\n  content: "\\F26D";\n}\n.icon-500px:before {\n  content: "\\F26E";\n}\n.icon-amazon:before {\n  content: "\\F270";\n}\n.icon-calendar-plus-o:before {\n  content: "\\F271";\n}\n.icon-calendar-minus-o:before {\n  content: "\\F272";\n}\n.icon-calendar-times-o:before {\n  content: "\\F273";\n}\n.icon-calendar-check-o:before {\n  content: "\\F274";\n}\n.icon-industry:before {\n  content: "\\F275";\n}\n.icon-map-pin:before {\n  content: "\\F276";\n}\n.icon-map-signs:before {\n  content: "\\F277";\n}\n.icon-map-o:before {\n  content: "\\F278";\n}\n.icon-map:before {\n  content: "\\F279";\n}\n.icon-commenting:before {\n  content: "\\F27A";\n}\n.icon-commenting-o:before {\n  content: "\\F27B";\n}\n.icon-houzz:before {\n  content: "\\F27C";\n}\n.icon-vimeo:before {\n  content: "\\F27D";\n}\n.icon-black-tie:before {\n  content: "\\F27E";\n}\n.icon-fonticons:before {\n  content: "\\F280";\n}\n.icon-reddit-alien:before {\n  content: "\\F281";\n}\n.icon-edge:before {\n  content: "\\F282";\n}\n.icon-credit-card-alt:before {\n  content: "\\F283";\n}\n.icon-codiepie:before {\n  content: "\\F284";\n}\n.icon-modx:before {\n  content: "\\F285";\n}\n.icon-fort-awesome:before {\n  content: "\\F286";\n}\n.icon-usb:before {\n  content: "\\F287";\n}\n.icon-product-hunt:before {\n  content: "\\F288";\n}\n.icon-mixcloud:before {\n  content: "\\F289";\n}\n.icon-scribd:before {\n  content: "\\F28A";\n}\n.icon-pause-circle:before {\n  content: "\\F28B";\n}\n.icon-pause-circle-o:before {\n  content: "\\F28C";\n}\n.icon-stop-circle:before {\n  content: "\\F28D";\n}\n.icon-stop-circle-o:before {\n  content: "\\F28E";\n}\n.icon-shopping-bag:before {\n  content: "\\F290";\n}\n.icon-shopping-basket:before {\n  content: "\\F291";\n}\n.icon-hashtag:before {\n  content: "\\F292";\n}\n.icon-bluetooth:before {\n  content: "\\F293";\n}\n.icon-bluetooth-b:before {\n  content: "\\F294";\n}\n.icon-percent:before {\n  content: "\\F295";\n}\n.icon-gitlab:before {\n  content: "\\F296";\n}\n.icon-wpbeginner:before {\n  content: "\\F297";\n}\n.icon-wpforms:before {\n  content: "\\F298";\n}\n.icon-envira:before {\n  content: "\\F299";\n}\n.icon-universal-access:before {\n  content: "\\F29A";\n}\n.icon-wheelchair-alt:before {\n  content: "\\F29B";\n}\n.icon-question-circle-o:before {\n  content: "\\F29C";\n}\n.icon-blind:before {\n  content: "\\F29D";\n}\n.icon-audio-description:before {\n  content: "\\F29E";\n}\n.icon-volume-control-phone:before {\n  content: "\\F2A0";\n}\n.icon-braille:before {\n  content: "\\F2A1";\n}\n.icon-assistive-listening-systems:before {\n  content: "\\F2A2";\n}\n.icon-asl-interpreting:before,\n.icon-american-sign-language-interpreting:before {\n  content: "\\F2A3";\n}\n.icon-deafness:before,\n.icon-hard-of-hearing:before,\n.icon-deaf:before {\n  content: "\\F2A4";\n}\n.icon-glide:before {\n  content: "\\F2A5";\n}\n.icon-glide-g:before {\n  content: "\\F2A6";\n}\n.icon-signing:before,\n.icon-sign-language:before {\n  content: "\\F2A7";\n}\n.icon-low-vision:before {\n  content: "\\F2A8";\n}\n.icon-viadeo:before {\n  content: "\\F2A9";\n}\n.icon-viadeo-square:before {\n  content: "\\F2AA";\n}\n.icon-snapchat:before {\n  content: "\\F2AB";\n}\n.icon-snapchat-ghost:before {\n  content: "\\F2AC";\n}\n.icon-snapchat-square:before {\n  content: "\\F2AD";\n}\n.icon-pied-piper:before {\n  content: "\\F2AE";\n}\n.icon-first-order:before {\n  content: "\\F2B0";\n}\n.icon-yoast:before {\n  content: "\\F2B1";\n}\n.icon-themeisle:before {\n  content: "\\F2B2";\n}\n.icon-google-plus-circle:before,\n.icon-google-plus-official:before {\n  content: "\\F2B3";\n}\n.icon-fa:before,\n.icon-font-awesome:before {\n  content: "\\F2B4";\n}\n.icon-handshake-o:before {\n  content: "\\F2B5";\n}\n.icon-envelope-open:before {\n  content: "\\F2B6";\n}\n.icon-envelope-open-o:before {\n  content: "\\F2B7";\n}\n.icon-linode:before {\n  content: "\\F2B8";\n}\n.icon-address-book:before {\n  content: "\\F2B9";\n}\n.icon-address-book-o:before {\n  content: "\\F2BA";\n}\n.icon-vcard:before,\n.icon-address-card:before {\n  content: "\\F2BB";\n}\n.icon-vcard-o:before,\n.icon-address-card-o:before {\n  content: "\\F2BC";\n}\n.icon-user-circle:before {\n  content: "\\F2BD";\n}\n.icon-user-circle-o:before {\n  content: "\\F2BE";\n}\n.icon-user-o:before {\n  content: "\\F2C0";\n}\n.icon-id-badge:before {\n  content: "\\F2C1";\n}\n.icon-drivers-license:before,\n.icon-id-card:before {\n  content: "\\F2C2";\n}\n.icon-drivers-license-o:before,\n.icon-id-card-o:before {\n  content: "\\F2C3";\n}\n.icon-quora:before {\n  content: "\\F2C4";\n}\n.icon-free-code-camp:before {\n  content: "\\F2C5";\n}\n.icon-telegram:before {\n  content: "\\F2C6";\n}\n.icon-thermometer-4:before,\n.icon-thermometer:before,\n.icon-thermometer-full:before {\n  content: "\\F2C7";\n}\n.icon-thermometer-3:before,\n.icon-thermometer-three-quarters:before {\n  content: "\\F2C8";\n}\n.icon-thermometer-2:before,\n.icon-thermometer-half:before {\n  content: "\\F2C9";\n}\n.icon-thermometer-1:before,\n.icon-thermometer-quarter:before {\n  content: "\\F2CA";\n}\n.icon-thermometer-0:before,\n.icon-thermometer-empty:before {\n  content: "\\F2CB";\n}\n.icon-shower:before {\n  content: "\\F2CC";\n}\n.icon-bathtub:before,\n.icon-s15:before,\n.icon-bath:before {\n  content: "\\F2CD";\n}\n.icon-podcast:before {\n  content: "\\F2CE";\n}\n.icon-window-maximize:before {\n  content: "\\F2D0";\n}\n.icon-window-minimize:before {\n  content: "\\F2D1";\n}\n.icon-window-restore:before {\n  content: "\\F2D2";\n}\n.icon-times-rectangle:before,\n.icon-window-close:before {\n  content: "\\F2D3";\n}\n.icon-times-rectangle-o:before,\n.icon-window-close-o:before {\n  content: "\\F2D4";\n}\n.icon-bandcamp:before {\n  content: "\\F2D5";\n}\n.icon-grav:before {\n  content: "\\F2D6";\n}\n.icon-etsy:before {\n  content: "\\F2D7";\n}\n.icon-imdb:before {\n  content: "\\F2D8";\n}\n.icon-ravelry:before {\n  content: "\\F2D9";\n}\n.icon-eercast:before {\n  content: "\\F2DA";\n}\n.icon-microchip:before {\n  content: "\\F2DB";\n}\n.icon-snowflake-o:before {\n  content: "\\F2DC";\n}\n.icon-superpowers:before {\n  content: "\\F2DD";\n}\n.icon-wpexplorer:before {\n  content: "\\F2DE";\n}\n.icon-meetup:before {\n  content: "\\F2E0";\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.sr-only-focusable:active,\n.sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto;\n}\n.close {\n  float: right;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 18px;\n  color: #000;\n  text-shadow: 0 1px 0 #ffffff;\n  opacity: 0.2;\n  filter: alpha(opacity=20);\n}\n.close:active {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  opacity: 0.4;\n  filter: alpha(opacity=40);\n}\nbutton.close {\n  padding: 0;\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n  -webkit-appearance: none;\n}\n.btn {\n  display: inline-block;\n  padding: 4px 10px;\n  margin: 0;\n  font-size: 1.143rem;\n  line-height: 1.286em;\n  color: #6b7479;\n  font-weight: 500;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n  border: solid 1px transparent;\n  background: transparent;\n  outline: none;\n}\n.btn.active {\n  background: none;\n  color: #0679c8 !important;\n  outline: 0;\n}\n.btn--large {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding: 15px 15px;\n  border-radius: 4px;\n  font-size: 1.143rem;\n  font-weight: 600;\n  line-height: normal;\n}\n.btn--large.btn--danger {\n  font-weight: normal;\n}\n.btn-small {\n  padding: 5px 9px;\n  font-size: 12px;\n  line-height: 16px;\n}\n.btn-small .icondefault {\n  margin-top: -1px;\n}\n.btn-mini {\n  padding: 2px 6px;\n  font-size: 12px;\n  line-height: 14px;\n}\n.btn--secondary {\n  background: #f8fbfd;\n  border: 1px solid #ccd6dc;\n  color: #000;\n}\n.btn--secondary.selected-item {\n  background: #d3dbe1;\n  border-color: #d3dbe1;\n  color: #000;\n}\n.btn--secondary.disabled,\n.btn--secondary[disabled] {\n  background-color: #f8fafd;\n  border-color: #d3dbe1;\n  color: rgba(107, 116, 121, 0.5);\n}\n.btn--primary {\n  background: #0b89d2;\n  border-color: #0a75b3;\n  color: #fff;\n}\n.btn--primary.selected-item,\n.btn-area-more.selected-item .btn--primary {\n  background: #005088;\n  border-color: #033d64;\n  color: #fff;\n}\n.btn--primary.disabled,\n.btn--primary[disabled] {\n  color: rgba(255, 255, 255, 0.5);\n  opacity: 0.3;\n}\n.btn--danger {\n  background: transparent;\n  border-color: transparent;\n  color: #e61718;\n}\n.btn--danger.selected-item {\n  background-color: transparent;\n  border-color: transparent;\n  color: #c30304;\n}\n.btn--danger.disabled,\n.btn--danger[disabled] {\n  background-color: transparent;\n  border-color: transparent;\n  color: rgba(230, 23, 24, 0.5);\n  opacity: 0.3;\n}\n.btn-transparent {\n  background-color: transparent;\n  border: 1px solid #717171;\n}\n.btn-filter {\n  display: inline-block;\n  min-width: 20px;\n  height: 26px;\n  line-height: 26px;\n  padding: 0 8px;\n  background: transparent;\n  border: solid 1px #ccd6dc;\n  border-radius: 2px;\n  text-align: center;\n  color: #000;\n  font-size: 1rem;\n  font-weight: bold;\n}\n.btn-filter.selected-item {\n  background: #d3dbe1;\n  border-color: #ccd6dc;\n  color: #000;\n}\n.btn-filter.active {\n  background: #d4d4d4;\n  border-color: #ccd6dc;\n  color: #000;\n}\n.btn-group {\n  position: relative;\n}\n.btn-group::after {\n  display: table;\n  clear: both;\n}\n.btn-group + .btn-group {\n  margin-left: 5px;\n}\n.btn-group .btn {\n  position: relative;\n  float: left;\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.btn-group .btn:last-child {\n  padding-right: 0;\n}\n.btn-group .btn:active,\n.btn-group .btn.active {\n  z-index: 2;\n}\n.box__edit_header {\n  position: absolute;\n  top: 0;\n  height: 54px;\n  line-height: 54px;\n  background: #f7f8f9;\n  width: 100%;\n}\n.box__edit_header .edit_header_controls {\n  float: right;\n}\n.box__edit_header .edit_header_controls .edit_header_search {\n  padding: 0 15px;\n}\n.box__edit_header .edit_header_title {\n  padding: 0 15px;\n  font-size: 1.143em;\n  font-weight: bold;\n}\n.box__edit_header + .box__edit .scroll {\n  top: 54px;\n  height: auto;\n  bottom: 0;\n}\n.box__edit {\n  display: block;\n  height: 100%;\n  margin: 0;\n}\n.box__edit .avatar {\n  height: 32px;\n  width: 32px;\n  background-size: cover;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n}\n.box__edit .field {\n  margin-left: 15px;\n  margin-right: 15px;\n}\n.box__edit.box__edit_readonly .field {\n  padding-left: 15px;\n  padding-right: 15px;\n  margin-left: 0;\n  margin-right: 0;\n  border-bottom: solid 1px #d3dbe1;\n}\n.box__edit.box__edit_readonly .field .field__controls {\n  border-bottom: none;\n}\n.box__edit.box__edit_readonly .field.field--readonly input,\n.box__edit.box__edit_readonly .field.field--readonly select,\n.box__edit.box__edit_readonly .field.field--readonly label {\n  color: #7e878d;\n}\n.box__edit.box__edit_readonly .field.field--readonly .subvalue {\n  color: #111;\n}\n.box__edit.box__edit_readonly .field__controls.field__controls--readonly {\n  color: #111;\n}\n.box__edit.box__edit_readonly .field__controls.field__controls--readonly .value {\n  display: block;\n}\n.box__edit .horizontal-fieldset {\n  display: -webkit-box;\n}\n.box__edit .horizontal-fieldset > span {\n  display: block;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.box__edit .horizontal-fieldset .field {\n  padding: 0;\n  margin: 0;\n}\n.box__edit .horizontal-fieldset .field .field__controls {\n  border-bottom: none;\n}\n.box__edit .horizontal-fieldset .field__label {\n  display: none;\n}\n.box__edit .horizontal-fieldset .checkbox_custom {\n  min-width: 25px;\n}\n.box__edit .horizontal-fieldset .checkbox_custom + .checkbox-icon {\n  width: 18px;\n}\n.box__edit .edit__footer {\n  padding: 18px 15px 30px;\n  text-align: center;\n}\n.box__edit .edit__footer .btn--danger {\n  display: block;\n  margin: 0 auto;\n  font-size: 1.214rem;\n}\n.body--field-onfocus .scroll {\n  -webkit-overflow-scrolling: auto;\n}\n/* Details list\n------------------------------ */\n.view__detail {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 140px;\n  background: #837e90 url('+n(428)+') 0 0 repeat;\n}\n.view__detail .avatar {\n  position: absolute;\n  overflow: hidden;\n  top: 15px;\n  left: 17px;\n  height: 60px;\n  width: 60px;\n  border-radius: 30px;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: cover;\n  background-color: rgba(0, 0, 0, 0.2);\n  text-align: center;\n}\n.view__detail .avatar .icondefault {\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n  font-size: 38px;\n  color: #fff;\n}\n.view__detail .avatar .user-icon {\n  width: 60px;\n  height: 60px;\n}\n.view__detail .label-module-sm {\n  position: absolute;\n  top: 15px;\n  left: 17px;\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n  font-size: 28px;\n  text-align: center;\n}\n.view__detail .label-module-sm .icondefault {\n  font-size: 60px;\n  line-height: 1em;\n}\n.view__detail .input_upload {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 80px;\n  height: 80px;\n  opacity: 0;\n  z-index: 5;\n}\n.view__detail .favorite-icon {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 45px;\n  height: 45px;\n  line-height: 45px;\n  text-align: center;\n  color: #fff;\n}\n.view__detail .favorite-icon.icon-star {\n  color: #fff;\n}\n.view__detail .box_detail__title {\n  position: absolute;\n  top: 15px;\n  left: 90px;\n  right: 30px;\n  height: 60px;\n}\n.view__detail .box_detail__title .field-detail {\n  padding: 0;\n  border-bottom: none;\n  overflow: visible;\n}\n.view__detail .box_detail__title .field-detail__label {\n  display: none;\n}\n.view__detail .box_detail__title .field-detail__value {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  left: 0;\n  max-height: 3em;\n  line-height: 1.5em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: inherit;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  font-size: 1.286rem;\n  color: #fff;\n}\n.view__detail .box__record-actions__wrapper {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.view__detail.view__detail_noactions {\n  height: 90px;\n}\n.view__detail.view__detail_noactions .box__record-actions__wrapper {\n  display: none;\n}\n.view__detail-bg {\n  height: 100%;\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(204, 204, 204, 0.14));\n}\n.view__detail-bg_Bugs {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(247, 95, 96, 0.14));\n}\n.view__detail-bg_Cases {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(232, 84, 121, 0.14));\n}\n.view__detail-bg_Prospects {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(170, 203, 45, 0.14));\n}\n.view__detail-bg_ProspectLists {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(170, 203, 45, 0.14));\n}\n.view__detail-bg_Targets {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(66, 158, 16, 0.14));\n}\n.view__detail-bg_TargetLists {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(66, 158, 16, 0.14));\n}\n.view__detail-bg_Campaigns {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 207, 0, 0.14));\n}\n.view__detail-bg_CampaignLog {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 207, 0, 0.14));\n}\n.view__detail-bg_Opportunitie {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(160, 92, 255, 0.14));\n}\n.view__detail-bg_RevenueLineItems {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(0, 203, 243, 0.14));\n}\n.view__detail-bg_Products {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(1, 21, 35, 0.14));\n}\n.view__detail-bg_Forecasts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(31, 206, 109, 0.14));\n}\n.view__detail-bg_Quotes {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(14, 186, 97, 0.14));\n}\n.view__detail-bg_Accounts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(81, 205, 21, 0.14));\n}\n.view__detail-bg_Contacts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(204, 108, 217, 0.14));\n}\n.view__detail-bg_Leads {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(118, 81, 252, 0.14));\n}\n.view__detail-bg_Reports {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 151, 62, 0.14));\n}\n.view__detail-bg_Files {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(251, 192, 45, 0.14));\n}\n.view__detail-bg_Documents {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(98, 107, 245, 0.14));\n}\n.view__detail-bg_Calendar {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(0, 189, 156, 0.14));\n}\n.view__detail-bg_Meetings {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(46, 224, 205, 0.14));\n}\n.view__detail-bg_Calls {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(1, 209, 255, 0.14));\n}\n.view__detail-bg_Emails {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(44, 151, 222, 0.14));\n}\n.view__detail-bg_Tasks {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 90, 156, 0.14));\n}\n.view__detail-bg_Notes {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(40, 189, 240, 0.14));\n}\n.view__detail-bg_Workflow {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(65, 183, 209, 0.14));\n}\n.view__detail-bg_Users {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(107, 115, 121, 0.14));\n}\n.view__detail-bg_Employees {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(44, 151, 222, 0.14));\n}\n.box__record-actions__wrapper {\n  display: block;\n  height: 54px;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: scroll;\n}\n.box__record-actions {\n  display: inline-block;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.box__record-actions .context-menu__item {\n  position: relative;\n  display: inline-block;\n  height: 54px;\n  width: 50px;\n  margin-right: -3px;\n  text-align: center;\n  color: #fff;\n}\n.box__record-actions .context-menu__item:active {\n  opacity: 0.7;\n}\n.box__record-actions .context-menu__item .icondefault {\n  margin-top: 10px;\n  margin-bottom: 2px;\n  line-height: 18px;\n  font-size: 24px;\n}\n.box__record-actions .context-menu__item.disabled {\n  color: #cecece;\n}\n.box__record-actions .context-menu__item .action-label {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  position: absolute;\n  left: 0;\n  right: 0;\n  font-size: 11px;\n}\n.box__record-actions .context-menu__item .action-label::first-letter {\n  text-transform: uppercase;\n}\n.box__record-actions .context-menu__item .icon-spinner {\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n}\n/* Details list\n------------------------------ */\n.view__detail-tabs {\n  position: absolute;\n  top: 140px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.view__detail_noactions + .view__detail-tabs {\n  top: 90px;\n}\n.view__detail-tabs .tabs__scroll-bar .tabs__scroll-bar__ul .tab {\n  -webkit-box-flex: 1 0 auto;\n  -webkit-flex: 1 0 auto;\n  flex: 1 0 auto;\n}\n.view__detail-tabs .tabs__scroll-bar .tabs__scroll-bar__ul .tab .tab__title {\n  padding-top: 2px;\n}\n.view__record-summary,\n.view__bundles-summary {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  background: #fff;\n}\n.view__record-summary > span:last-child .field-detail,\n.view__bundles-summary > span:last-child .field-detail {\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.view__bundles-summary {\n  background: #f7f8f9;\n}\n.field-detail {\n  padding: 10px 10px 11px 120px;\n  border-bottom: solid 1px #ebedef;\n  overflow: hidden;\n  font-size: 1rem;\n  color: #000;\n}\n.field-detail .field-detail__label {\n  display: -webkit-box;\n  overflow: hidden;\n  float: left;\n  width: 100px;\n  max-height: 2.8em;\n  margin-left: -105px;\n  font-size: 0.857rem;\n  color: #6b747f;\n  line-height: 1.55em;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  text-overflow: ellipsis;\n}\n.field-detail .listing {\n  width: auto;\n  margin-left: -120px;\n  margin-right: -11px;\n}\n.field-detail .field-detail__value {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.field-detail .field-detail__value + .field-detail__value {\n  padding-top: 12px;\n}\n.field-detail .subvalue {\n  color: #6b747f;\n}\n.field-detail .horizontal-fieldset .field-detail {\n  display: inline;\n  padding: 0;\n}\n.field-detail .horizontal-fieldset .field-detail__label {\n  display: none;\n}\n.field-detail .horizontal-fieldset .field-detail__value {\n  display: inline;\n}\n.field-detail.field-detail--expanded .field-detail__value {\n  white-space: normal;\n}\n.field-detail--textarea .field-detail__value {\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  white-space: normal;\n}\n.field-detail--textarea.field-detail--expanded .field-detail__value {\n  -webkit-line-clamp: initial;\n}\n/* Login page\n------------------------- */\n.layout__Login,\n.layout__noHeader {\n  overflow: auto;\n  top: 0 !important;\n}\n.layout__Login .view__header,\n.layout__noHeader .view__header {\n  display: none;\n}\n.view__login {\n  position: relative;\n  min-height: 100%;\n  width: 100%;\n  overflow: auto;\n  background: #fff;\n  opacity: 0;\n}\n.view__login .page__login {\n  position: relative;\n  min-height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.view__login .login__header {\n  padding: 5px 0;\n}\n.view__login .login__settings_div {\n  padding: 10px 0 0;\n  text-align: right;\n  position: absolute;\n  width: 100%;\n}\n.view__login .login__settings_btn {\n  color: #0679c8;\n  padding: 0 15px 15px 20px;\n}\n.view__login .login__body {\n  min-width: 290px;\n  max-width: 330px;\n  padding: 0 15px;\n  margin: auto;\n}\n.view__login .login__footer {\n  border: none;\n  padding: 0 15px 5rem;\n  margin-top: 60px;\n  text-align: center;\n}\n.view__login .login__footer.login__footer_show-attribution {\n  padding-bottom: 10rem;\n}\n.view__login .field {\n  padding-top: 10px;\n}\n.view__login .input-wrapper input {\n  width: 100%;\n  height: 2rem;\n  margin: 0;\n  line-height: 2rem;\n  font-size: 1.143rem;\n  color: black;\n}\n.view__login .input-wrapper input::-webkit-input-placeholder {\n  opacity: 0.3;\n  color: black;\n  white-space: nowrap;\n  text-overflow: ellipsis !important;\n}\n.view__login .input-wrapper input.login_settings_server_url {\n  font-size: 1.214rem;\n}\n.view__login .btn {\n  display: block;\n  min-width: 290px;\n  max-width: 330px;\n  padding-left: 0;\n  padding-right: 0;\n  margin: 20px auto;\n}\n.view__login .btn.btn--primary .icon-spinner .icon-spinner-path {\n  fill: #fff;\n}\n.view__login .btn.btn--secondary .icon-spinner .icon-spinner-path {\n  fill: #000;\n}\n.view__login .btn .icon-spinner {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-top: -1px;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n.view__login .btn .icon-spinner .icon-spinner-path {\n  fill: #fff;\n}\n.view__login .field.error {\n  position: relative;\n  color: red;\n}\n.view__login .field.error .icondefault {\n  position: absolute;\n  top: 50%;\n  right: -1.25em;\n  margin-top: -0.5em;\n}\n.view__login .field.error .field__error-message {\n  display: none;\n}\n.view__login .login__links {\n  position: absolute;\n  bottom: 25px;\n  left: 0;\n  width: 100%;\n  font-size: 0.857rem;\n  color: black;\n  text-align: center;\n}\n.view__login .login__links .version {\n  padding-bottom: 15px;\n  opacity: 0.3;\n}\n.view__login .login__links .separator {\n  position: relative;\n  top: -1px;\n  display: inline-block;\n  width: 1px;\n  height: 11px;\n  background: black;\n  opacity: 0.3;\n  font-size: 0;\n  line-height: 0;\n  vertical-align: middle;\n}\n.view__login .login__links .login-links__link {\n  padding: 0 8px;\n  color: black;\n}\n.view__login .box__copyright {\n  color: black;\n}\n.view__login .box__copyright .copyright-logo__svg-color {\n  fill: black;\n}\n/* Login Settings\n------------------------- */\n.login__settings {\n  opacity: 1;\n}\n.login__settings .settings__header {\n  text-align: center;\n  font-size: 1.214rem;\n  color: #000;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n.login__settings .settings__header__desc {\n  font-size: 1rem;\n  color: #000;\n}\n.login__settings .settings__controls_group {\n  margin-top: 15px;\n  text-align: left;\n}\n.login__settings .settings__controls_group .settings__control_checkbox {\n  text-align: right;\n}\n.login__settings .settings__controls_group .field.no-border .field__controls {\n  border: transparent;\n}\n.login__settings .settings__controls_group .field.no-border .settings__control_label {\n  font-size: 1.143rem;\n  font-weight: 600;\n}\n.login__settings .settings__control_label {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1rem;\n  color: #000;\n}\n.login__settings .login_settings_server_url[readonly] {\n  background: transparent;\n  color: #b5b5b5;\n}\n/* SugarCRM Copyright\n------------------------- */\n.box__copyright {\n  text-align: center;\n  color: #000;\n  opacity: 0.3;\n}\n.copyright__text {\n  display: block;\n  padding-bottom: 3px;\n  font-size: 0.857rem;\n  line-height: 1;\n}\n.copyright__logo {\n  display: block;\n  width: 125px;\n  height: 14px;\n  margin: 5px auto 6px;\n}\n.copyright__logo .copyright-logo svg {\n  opacity: 1;\n}\n.copyright__version {\n  position: relative;\n  display: block;\n  width: 100px;\n  margin: 4px auto 25px;\n  text-align: center;\n}\n/* About page\n------------------------- */\n.page__about .pad {\n  position: relative;\n}\n.page__about .field > label {\n  font-size: 0.857em;\n}\n.page__about .show-attribution {\n  padding-top: 20px;\n  padding-bottom: 5rem;\n  border-bottom: none !important;\n}\n.page__about .box__copyright {\n  position: absolute;\n  bottom: 15px;\n  width: 100%;\n}\n.page__about .about__legal {\n  display: block;\n  clear: both;\n  font-size: 0.786em;\n}\n.uneditable-link {\n  padding-top: 4px;\n  height: 1.857em;\n  display: block;\n  vertical-align: middle;\n}\n.legal:not(a) {\n  color: #696969;\n}\n/* Offline page\n------------------------- */\n.page__offline .text-container {\n  padding: 10px;\n}\n.page__offline .bh__timestamp {\n  margin-top: 4px;\n  font-size: 0.857rem;\n  font-weight: normal;\n  color: #6b7479;\n}\n.page__offline .table {\n  table-layout: fixed;\n  margin-bottom: -1px;\n  font-size: 1.143rem;\n  color: #000;\n}\n.page__offline .table tr td:first-child {\n  padding-left: 15px;\n}\n.page__offline .table tr td:last-child {\n  padding-right: 15px;\n}\n.page__offline .offline__text-container {\n  overflow: hidden;\n  position: relative;\n  padding: 16px 15px 0;\n  margin-bottom: 24px;\n}\n.page__offline .offline__text-container .el__spinner {\n  display: none;\n  float: right;\n  margin-top: 4px;\n  margin-right: 6px;\n}\n.page__offline .offline__text-container .status-text {\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #000;\n}\n.page__offline .btn-container {\n  padding: 0 10px;\n  margin-bottom: 18px;\n}\n.page__offline .listing .content {\n  margin: 0 0 10px 10px;\n}\n.page__offline .listing .content::before {\n  content: "";\n  display: block;\n  clear: both;\n}\n.page__offline .listing h4 {\n  margin: 8px 0 0 10px;\n  font-weight: bold;\n}\n.page__offline .listing select {\n  width: 92%;\n  height: auto;\n  margin: 2px 0 10px 10px;\n  padding: 4px 10px;\n  border: 1px solid #999;\n}\n.page__offline .listing .emulation-item {\n  overflow: hidden;\n}\n.page__offline .listing .emulation-item .error-emulation-check {\n  float: left;\n}\n.page__offline .listing .emulation-item .error-emulation-select {\n  float: right;\n  width: 40%;\n  margin: 8px 10px 0 0;\n}\n.page__offline .error-emulation-check .checkbox_default,\n.page__offline .offline-property .checkbox_default {\n  height: 35px;\n  width: 35px;\n  margin: 8px 10px 8px 0;\n  vertical-align: middle;\n}\n.page__offline .more {\n  font-size: 14px;\n}\n.page__offline .modal-footer {\n  padding-left: 10px;\n  text-align: left;\n}\n.page__offline .btn--primary {\n  line-height: 1.575em;\n}\n.page__offline .offline__start-stop-btn {\n  float: right;\n  padding: 6px 10px;\n  margin-top: 2px;\n  margin-left: 8px;\n  font-size: 1rem;\n  line-height: 1.3em;\n}\n.page__offline .offline__start-stop-btn.active {\n  background: #0679c8;\n  color: #fff !important;\n}\n.page__offline .td-count {\n  text-align: right;\n  vertical-align: middle;\n  color: #6b7479;\n}\n.page__offline .td-count .lbl-count {\n  float: right;\n  padding-top: 2px;\n}\n.page__offline .td-count .icons {\n  width: 20px;\n  min-height: 22px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.page__offline .td-count .icon-check-circle,\n.page__offline .td-count .icon-exclamation-circle {\n  font-size: 1.6em;\n  color: #368f01;\n  display: none;\n}\n.page__offline .td-count .icon-exclamation-circle {\n  color: #bf2020;\n}\n.page__offline .offline__control-group {\n  margin-top: 24px;\n  margin-bottom: 24px;\n  position: relative;\n  overflow: visible;\n  padding: 0 15px;\n}\n.page__offline .offline__control-group .offline__control-label {\n  font-size: 1.143rem;\n  font-weight: bold;\n  text-transform: capitalize;\n}\n.page__offline .offline__control-group .offline__checkbox-data {\n  float: right;\n  padding-top: 13px;\n}\n.page__offline .offline__control-group .offline__checkbox-data .checkbox_custom {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.page__offline .offline__control-group .offline__message-wifi {\n  margin-top: 4px;\n  font-size: 0.857rem;\n  color: #6b7479;\n}\n.page__offline .ellipsis {\n  line-height: 24px;\n}\n.page__offline .ellipsis .label-module-sm {\n  vertical-align: middle;\n}\n.page__offline .offline__encryption-message {\n  padding: 10px 15px;\n  color: #6b7479;\n}\n.offline-statusbar {\n  min-height: 122px;\n  padding: 36px 22.5px 15px;\n  border-bottom: 1px solid #d3dbe1;\n  background: #f8fbfd;\n  text-align: center;\n}\n.offline-statusbar .offline-statusbar__icon {\n  margin-bottom: 12px;\n}\n.offline-statusbar .offline-statusbar__icon .offline-icon {\n  width: 24px;\n  height: 24px;\n}\n.offline-statusbar .offline-statusbar__message {\n  margin-bottom: 5px;\n  font-size: 1.143rem;\n  line-height: 1.4em;\n}\n.offline-statusbar .offline-statusbar__timestamp {\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.offline-statusbar .offline-statusbar__isSyncing {\n  color: #9aa5ad;\n}\n.offline-statusbar .offline-statusbar__isSyncing .icon-spinner {\n  display: block;\n  float: none;\n  width: 24px;\n  height: 24px;\n  margin: 20px auto 10px;\n}\n.offline-statusbar .offline-statusbar__isSyncing .icon-spinner-path {\n  fill: #9aa5ad;\n}\n.box__offline-list {\n  margin: 0;\n  padding: 0;\n}\n.box__offline-list li {\n  list-style: none;\n}\n.box__offline-list .offline-list__item {\n  display: block;\n  padding: 24px 15px;\n  border-bottom: 1px solid #d3dbe1;\n  font-size: 1.143rem;\n}\n.box__offline-list .offline-list__item.selected-item {\n  background-color: #ededed;\n}\n.box__offline-list .offline-list__item .more {\n  position: absolute;\n  top: 0;\n  right: 10px;\n  line-height: inherit;\n}\n@media screen and (max-width: 350px) {\n  .page__offline .bucket-header .bh__timestamp {\n    float: none;\n    display: block;\n  }\n}\n/* Bulk load setup page\n------------------------- */\n.layout__bulkload {\n  top: 0 !important;\n}\n.layout__bulkload .pad {\n  position: relative;\n  padding-bottom: 0 !important;\n}\n.layout__bulkload .view__bulkload {\n  min-height: 100%;\n  width: 100%;\n  overflow: auto;\n  background: #fff;\n  text-align: center;\n}\n.layout__bulkload .view__bulkload .bulkload__title {\n  font-size: 1.214rem;\n  color: #262626;\n  font-weight: bold;\n  padding-top: 10%;\n}\n.layout__bulkload .view__bulkload .bulkload__message {\n  line-height: 1.3em;\n  margin: 12px 15px 40px;\n}\n.layout__bulkload .view__bulkload .bulkload__form {\n  text-align: left;\n  margin-top: 10%;\n  padding-bottom: 190px;\n  position: relative;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field {\n  border: 1px solid #cdcdcd;\n  border-width: 1px 0;\n  padding: 22px 15px 17px;\n  overflow: visible;\n  position: relative;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field .field__label {\n  width: 80%;\n  float: left;\n  font-size: 1.143rem;\n  font-weight: 600;\n  color: #000;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field .field__controls {\n  width: 20%;\n  margin-left: 80%;\n  text-align: right;\n  border: none;\n}\n.layout__bulkload .view__bulkload .bulkload__form .bulkload__connect-message {\n  padding: 10px 15px;\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.layout__bulkload .view__bulkload .bulkload__btns {\n  padding: 0 15px;\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.layout__bulkload .view__bulkload .bulkload__btns .btn {\n  display: block;\n  min-width: 290px;\n  max-width: 330px;\n  margin: 0 auto 16px;\n}\n/* Header\n------------------------- */\n.box__header {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n}\n.box__header.box__header_full-height {\n  height: 100%;\n}\n.box__header .header__inner {\n  background: #fff;\n  border-bottom: 1px solid #d3dbe1;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 50px;\n  z-index: 9000;\n}\n.box__header .header__inner .header__title {\n  position: absolute;\n  left: 80px;\n  right: 80px;\n  top: 50%;\n  max-height: 2em;\n  padding: 2px 0;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  text-align: center;\n  color: #000;\n  font-size: 1.143em;\n  font-family: "Open Sans Bold";\n  font-weight: bold;\n  line-height: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  letter-spacing: -0.4px;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  z-index: -1;\n}\n.box__header .header__inner .header-subtitle {\n  display: inline;\n  position: relative;\n  top: -4px;\n  font-size: 0.785rem;\n  font-weight: normal;\n}\n.box__header .header__inner .header-subtitle:empty {\n  display: none;\n}\n.box__header .header__inner .header-subtitle::after {\n  content: "\\A";\n  white-space: pre;\n}\n.box__header .header__inner .btn {\n  max-width: 50px;\n  margin: 0;\n  line-height: 22px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  z-index: 9002;\n}\n.box__header .header__inner .offline-status {\n  position: absolute;\n  top: 10px;\n  right: 7px;\n  line-height: normal;\n  /* hide offline icon if offline status is success */\n}\n.box__header .header__inner .offline-status .offline-icon {\n  border: 2px solid #fff;\n}\n.box__header .header__inner .offline-status.status-success {\n  display: none;\n}\n.box__header.btns-long .btn {\n  max-width: 100px;\n}\n.box__header.has-edit-button.has-search .header__title {\n  right: 110px;\n}\n/* Header buttons\n------------------------- */\n.createBtn,\n.backBtn,\n.dashHomeBtn,\n.menuBtn,\n.offline-status,\n.searchBtn {\n  float: left;\n  height: 49px;\n  width: 44px;\n  line-height: 50px;\n  color: #0679c8;\n  text-align: center;\n  z-index: 2000;\n}\n.createBtn.selected-item,\n.backBtn.selected-item,\n.dashHomeBtn.selected-item,\n.menuBtn.selected-item,\n.offline-status.selected-item,\n.searchBtn.selected-item {\n  color: #005088;\n  background: transparent;\n}\n.createBtn .icondefault,\n.backBtn .icondefault,\n.dashHomeBtn .icondefault,\n.menuBtn .icondefault,\n.offline-status .icondefault,\n.searchBtn .icondefault {\n  font-size: 1.286rem;\n}\n.menuBtn {\n  position: relative;\n  text-decoration: none;\n}\n.menuBtn::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.offline-icon {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background: transparent;\n  line-height: 0;\n  font-size: 0;\n  vertical-align: middle;\n  border-radius: 50%;\n}\n.offline-icon.status-default {\n  background: transparent;\n}\n.offline-icon.status-success {\n  background: #54cb13;\n}\n.offline-icon.status-warning {\n  background: #fbc02d;\n}\n.offline-icon.status-error {\n  background: #e61718;\n}\n.offline-status {\n  width: 12px;\n}\n.createBtn,\n.searchBtn {\n  float: right;\n}\n.createBtn.active,\n.searchBtn.active {\n  background: rgba(0, 0, 0, 0.5);\n}\n.header__btn {\n  float: left;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 15px;\n  color: #0679c8;\n  font-size: 1.143rem;\n}\n.header__btn.selected-item {\n  color: #005088;\n  background: transparent;\n}\n.header__btn.disabled {\n  background: none;\n  opacity: 0.7;\n}\n.rtl .header__btn {\n  float: right;\n}\n.header__save-container {\n  float: right;\n}\n.rtl .header__save-container {\n  float: left;\n}\n.header__btn__save--combined {\n  padding-right: 0;\n}\n.rtl .header__btn__save--combined {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.header__btn--caret {\n  width: 22px;\n  padding-left: 0;\n  text-align: right;\n}\n.header__btn--caret .saveArrow-icon {\n  margin-top: -2px;\n}\n.rtl .header__btn--caret {\n  float: left;\n  text-align: left;\n  padding-right: 0;\n  padding-left: 10px;\n}\n/* Menu\n------------------------- */\n#menu-left {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: 9999;\n  -webkit-transform: translate3d(-100%, 0, 0);\n}\n.mobile #menu-left {\n  width: 80%;\n}\n.tablet #menu-left {\n  width: 300px;\n}\n.rtl #menu-left {\n  left: 100%;\n  -webkit-transform: translate3d(100%, 0, 0);\n}\n.box__menu {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n}\n.box__menu .menu__inner {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  list-style: none;\n  background: #d3dbe1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.box__menu .menu__item {\n  background: #d3dbe1;\n  border-bottom: solid 1px transparent;\n}\n.box__menu .menu__item:last-child {\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.box__menu .menu__item.menu__item--userpic {\n  min-height: 48px;\n}\n.box__menu .menu__item.menu__item--userpic .menu-item__link {\n  padding-top: 15px;\n}\n.box__menu .menu__item.selected-item {\n  background: #9aa5ad;\n}\n.box__menu .menu__item.selected-item .menu-item__link {\n  color: #000;\n}\n.box__menu .menu__item.current .menu-item__link {\n  color: #fff;\n  background: #9aa5ad;\n}\n.box__menu .menu__item .menu-item__link {\n  padding: 13px 15px;\n  color: #000;\n  line-height: 1.357rem;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.box__menu .menu__item .menu-item__link.offline-settings .menu-item__icon {\n  position: relative;\n}\n.box__menu .menu__item .menu-item__icon {\n  display: inline-block;\n  width: 24px;\n  text-align: center;\n}\n.box__menu .menu__item .menu-item__icon .offline-icon {\n  position: absolute;\n  bottom: 2px;\n  right: -4px;\n}\n.box__menu .menu__item .menu-item__icon .icondefault {\n  font-size: 24px;\n  color: #6b7479;\n}\n.box__menu .menu__item .menu-item__icon,\n.box__menu .menu__item .label-module-sm,\n.box__menu .menu__item .user-icon {\n  margin: -6px 7px -6px 0;\n}\n.box__menu .menu__divider {\n  display: block;\n  height: 1px;\n  background-color: #9aa5ad;\n}\n/*  Right menu\n------------------------- */\n.right-menu .icon {\n  margin: 0 8px 0 -2px;\n  line-height: 1;\n  vertical-align: inherit;\n  color: #6b7479;\n}\n.right-menu .icon.icondefault {\n  font-size: 20px !important;\n}\n.mobile .right-menu {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 14%;\n}\n.mobile .right-menu.show {\n  display: block;\n}\n.tablet .right-menu__corner {\n  position: absolute;\n  top: -8px;\n  right: 10px;\n  width: 0;\n  height: 0;\n  border-bottom: solid 8px #fff;\n  border-left: solid 8px transparent;\n  border-right: solid 8px transparent;\n  z-index: 9999;\n}\n.tablet .right-menu {\n  display: none;\n  position: absolute;\n  top: 50px;\n  right: 4px;\n  bottom: -50px;\n  width: 212px;\n  z-index: 9999;\n}\n.tablet .right-menu .box__menu {\n  position: static;\n  top: 140px;\n  height: auto;\n  max-height: 100%;\n  overflow-y: auto;\n}\n.tablet .right-menu .box__menu .menu__item {\n  background: transparent;\n}\n.tablet .right-menu .box__menu .menu__item.selected-item {\n  background: #ecedef;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__link {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 0 15px;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__icon {\n  margin: auto 11px auto auto;\n  vertical-align: middle;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__label {\n  flex: 1;\n  padding: 12px 0;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tablet .right-menu .menu__inner {\n  width: auto;\n  border-radius: 3px;\n  background: #fff;\n}\n.tablet .overlay__right-menu {\n  position: absolute;\n  top: -50px;\n  left: 0;\n  right: 0;\n  bottom: -50px;\n  z-index: 9998;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  background: rgba(0, 0, 0, 0.5);\n  transition: opacity 0.2s;\n  opacity: 1;\n}\n.tablet .overlay__right-menu.hide {\n  display: block !important;\n  opacity: 0;\n  bottom: 150%;\n  transition: opacity 0.2s, bottom 0s 0.4s;\n}\n.tablet #content .overlay__right-menu {\n  left: -56px;\n}\n/*  Menu icons styles\n------------------------- */\n.user-icon {\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  padding: 0;\n  background: #9aa5ad;\n  border: none;\n  border-radius: 50%;\n  text-align: center;\n  font-size: 13px;\n  color: #fff;\n}\n.user-icon.withPicture {\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.user-icon.withPicture::before {\n  content: "";\n}\n#me {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: bold;\n}\n#moduleList,\n#createList {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n#createList {\n  -webkit-transform: translate3d(-100%, 0, 0);\n}\n.nps-popup {\n  overflow: hidden;\n  -webkit-border-radius: 18px;\n  -moz-border-radius: 18px;\n  border-radius: 18px;\n  max-width: 85%;\n  font-weight: normal;\n}\n.nps-popup .nps-header {\n  padding-top: 28px;\n  text-align: center;\n  font-weight: bold;\n}\n.nps-popup .nps-confirm-header {\n  padding: 42px 10px 16px;\n  text-align: center;\n  font-weight: bold;\n}\n.nps-popup .nps-description {\n  padding: 32px 10px 16px;\n  text-align: center;\n}\n.nps-popup .nps-app-rate-desc {\n  padding: 26px 10px 22px;\n  text-align: center;\n}\n.nps-popup .nps-stars {\n  width: 244px;\n  margin: 0 auto;\n  padding: 0 20px 24px;\n  text-align: center;\n}\n.nps-popup .nps-star-icon {\n  font-size: 36px;\n  color: #0679c8;\n}\n.nps-popup .rate-btn {\n  padding: 5px;\n}\n.nps-popup .nps-footer {\n  border-top: 1px solid #d3dbe1;\n}\n.nps-popup .nps-footer .actions-ul {\n  height: 50px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-flow: row;\n  list-style: none;\n}\n.nps-popup .nps-footer .actions-li {\n  border-right: 1px solid #d3dbe1;\n  position: relative;\n  padding: 0 15px;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  list-style: none;\n}\n.nps-popup .nps-footer .actions-li:last-child {\n  border-right: none;\n}\n.nps-popup .nps-footer .action-item {\n  color: #0679c8;\n  padding: 16px;\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n}\n.nps-popup .nps-footer .action-item.selected-item {\n  color: #005088;\n}\n#tutorial__view {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  z-index: 999981;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s linear;\n  transition: opacity 0.3s linear;\n}\n#tutorial {\n  position: absolute;\n  left: 0;\n  top: 0;\n  max-height: inherit;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  z-index: 999981;\n}\n#tutorial-content .text {\n  position: absolute;\n  width: 160px;\n  padding: 4px 10px 0;\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1.25;\n  color: #fff;\n  z-index: 999982;\n}\n#tutorial-content .text-container {\n  top: 15%;\n  position: absolute;\n  left: 50%;\n  width: 186px;\n}\n#tutorial-content .text-container .text {\n  position: relative;\n  left: -50%;\n  font-size: 1.071em;\n  font-weight: normal;\n  text-align: center;\n  width: 100%;\n  border-radius: 10px;\n  border: 2px solid #000;\n  background-color: #313130;\n  opacity: 0.8;\n  padding: 10px;\n  margin-left: -12px;\n}\n.label,\n.badge {\n  font-size: 11.844px;\n  line-height: 14px;\n  color: #fff;\n  vertical-align: baseline;\n  white-space: nowrap;\n  background-color: #cdcccb;\n}\n.label {\n  padding: 1px 4px 2px;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n}\n.badge {\n  padding: 1px 9px 2px;\n  -webkit-border-radius: 9px;\n  -moz-border-radius: 9px;\n  border-radius: 9px;\n}\na.label:hover,\na.badge:hover {\n  color: #fff;\n  text-decoration: none;\n  cursor: pointer;\n}\n.c-,\n.dashlet__item {\n  background-color: #6b7379;\n}\n.c-active-tasks {\n  background-color: #ff5a9c;\n}\n.c-planned-activities {\n  background-color: #01d1ff;\n}\n.c-inactive-tasks {\n  background-color: #ff5a9c;\n}\n.c-bubblechart {\n  background-color: #aacb2d;\n}\n.c-sales-pipeline {\n  background-color: #aacb2d;\n}\n.c-history {\n  background-color: #f2c500;\n}\n.c-saved-reports-chart {\n  background-color: #ff973e;\n}\n.c-activitystream-dashlet {\n  background-color: #e61718;\n}\n.c-forecast-pipeline {\n  background-color: #1fce6d;\n}\n.c-forecastdetails {\n  background-color: #1fce6d;\n}\n.c-webpage {\n  background-color: #1cc8d3;\n}\n.c-dashablelist {\n  background-color: #18e8d2;\n}\n.c-forecast-pareto {\n  background-color: #1fce6d;\n}\n.c-twitter {\n  background-color: #4099ff;\n}\n.c-opportunity-metrics {\n  background-color: #a05cff;\n}\n.c-casessummary {\n  background-color: #e85479;\n}\n/* Dashboards\n------------------------- */\n.layout__Dashboards.show-paginator .backBtn {\n  display: block;\n}\n.dashboard {\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  padding-left: env(safe-area-inset-left);\n  padding-right: env(safe-area-inset-right);\n}\n.dashboard .dashlets__slider-area {\n  visibility: hidden;\n}\n.dashboard + .pagination__bar {\n  display: none;\n}\n.show-paginator .dashboard {\n  bottom: calc(50px + 1px);\n  bottom: calc(env(safe-area-inset-bottom) + 50px + 1px);\n}\n.show-paginator .dashboard + .pagination__bar {\n  display: block;\n}\n.show-dashlets .dashboard .dashlets__list {\n  display: none;\n}\n.show-dashlets .dashboard .dashlets__slider-area {\n  visibility: visible;\n}\n.show-dashlets .dashboard .dashlets__slider {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.dashlets__slider-area {\n  position: absolute;\n  z-index: 1;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.dashlets__list {\n  position: relative;\n  z-index: 2;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n  padding: 10px;\n  padding-bottom: env(safe-area-inset-bottom);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  background: #fff;\n}\n.dashlets__list::after {\n  display: table;\n  clear: both;\n}\n.dashlets__list::after {\n  clear: both;\n}\n.landscape .dashlets__list {\n  padding-bottom: env(safe-area-inset-bottom);\n}\n.dashlets__list .dashlet__item {\n  overflow: hidden;\n  height: 7rem;\n  border-radius: 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  font-size: 1rem;\n  text-align: center;\n  color: #fff;\n}\n.dashlets__list .dashlet__item .dashlet__title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  margin: 15px 10px 12px;\n}\n.dashlets__list .dashlet__item .dashlet__icon {\n  height: 45px;\n}\n.dashlets__list .dashlet__item .icondefault {\n  font-size: 30px;\n  line-height: 1em;\n}\n.dashlets__list .dashlet__item.selected-item {\n  opacity: 0.9;\n}\n.dashlets__list__col {\n  float: left;\n  padding: 5px;\n  width: 50%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.layout__detail .dashlets__list__col {\n  width: 50%;\n}\n@media screen and (min-width: 700px) {\n  .dashlets__list__col {\n    width: 33.33333333%;\n  }\n}\n@media screen and (min-width: 768px) {\n  .dashlets__list__col {\n    width: 25%;\n  }\n}\n@media screen and (min-width: 1024px) {\n  .dashlets__list__col {\n    width: 20%;\n  }\n  .layout__detail .dashlets__list__col {\n    width: 33.33333333%;\n  }\n}\n.dashlets__title {\n  position: relative;\n  width: 100%;\n  height: 44px;\n  line-height: 44px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: center;\n  background: #fff;\n  font-size: 1.143rem;\n  font-weight: bold;\n  z-index: 1;\n}\n.dashlets__title + .dashlets__slider-area {\n  top: 44px;\n}\n.dashlets__title.hide + .dashlets__slider-area {\n  top: 0;\n}\n.dashlets__slider {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  box-shadow: content-box;\n  -webkit-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n  -webkit-transition-property: -webkit-transform;\n  transition-property: transform;\n}\n.dashlets__slider .dashlet__b {\n  height: 100%;\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  transform-style: preserve-3d;\n  -webkit-flex-shrink: 0;\n  flex-shrink: 0;\n}\n.dashlets__slider .dashlet__b:empty {\n  background: #fff;\n}\n/* Pagination\n------------------------- */\n.pagination__bar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 50px;\n  height: calc(env(safe-area-inset-bottom) + 50px);\n  line-height: 50px;\n  border-top: solid 1px #e5e5e5;\n  background: #fff;\n  text-align: center;\n  color: #676767;\n}\n.pagination__bar .icondefault {\n  height: 50px;\n  line-height: 50px;\n  padding: 0 2px;\n  margin: 0 2px;\n  font-size: 10px;\n}\n.pagination__bar .icondefault.disabled {\n  color: #ccc;\n}\n.pagination__bar .prev,\n.pagination__bar .next {\n  padding: 0 12px;\n  font-size: 20px;\n}\n.pagination__bar .prev {\n  float: left;\n}\n.pagination__bar .next {\n  float: right;\n}\n.pagination__bar .icon-circle-thin {\n  color: #a8a8a8;\n}\n/* Tabbed dashlet view\n------------------------- */\n.hide-tab {\n  display: none;\n  -webkit-overflow-scrolling: auto !important;\n}\n.tabbed__dashlet {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.tabbed__dashlet .tabs__switcher {\n  position: absolute;\n  z-index: 2;\n}\n.tabbed__dashlet.has-dashlet-options .easy-scroller-parent {\n  top: 40px;\n}\n.tabs__switcher {\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 49px;\n  flex-flow: wrap;\n  background: #fff;\n  border-bottom: solid 1px #d8d8d8;\n  z-index: 2;\n}\n.views__switcher {\n  overflow: hidden;\n}\n.tabs__scroll-bar {\n  display: block;\n  height: 50px;\n}\n.tabs__scroll-bar::before,\n.tabs__scroll-bar::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 25px;\n  box-shadow: 0 0 15px 12px #fff;\n  z-index: 3;\n}\n.tabs__scroll-bar::after {\n  left: auto;\n  right: 0;\n}\n.tabs__scroll-bar .tabs__scroll-bar__ul {\n  height: 55px;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: scroll;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-flow: row;\n}\n.tabs__scroll-bar .tabs__scroll-bar__ul::-webkit-scrollbar {\n  height: 0;\n}\n.tabs__scroll-bar .tab {\n  position: relative;\n  padding: 0 15px;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  border-bottom: 9px solid transparent;\n  list-style: none;\n}\n.tabs__scroll-bar .tab::after {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  height: 17px;\n  background: transparent;\n  content: " ";\n}\n.tabs__scroll-bar .tab .tab__title {\n  width: 100%;\n  max-height: 54px;\n  font-size: 0.857rem;\n  font-weight: bold;\n  text-align: center;\n  text-transform: uppercase;\n  color: #000;\n}\n.tabs__scroll-bar .tab .step-number {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 1px;\n  border-radius: 8px;\n  background: #ccd6dc;\n  line-height: 16px;\n  text-align: center;\n  color: #fff;\n}\n.tabs__scroll-bar .tab .step-number.fulfilled-state {\n  background: #54cb14;\n}\n.tabs__scroll-bar .tab .step-number.invalid-state {\n  background: #e61718;\n}\n.tabs__scroll-bar .tab .title {\n  display: block;\n  white-space: nowrap;\n}\n.tabs__scroll-bar .tab .count {\n  display: inline-block;\n  font-size: 0.857rem;\n  min-width: 22px;\n  width: auto;\n  padding: 3px;\n  background-color: #9aa5ad;\n  border-color: transparent;\n  border-radius: 3px;\n  margin: 2px 0;\n  color: #fff;\n}\n.tabs__scroll-bar .tab.selected-item {\n  background: #f6f6f6;\n  border-color: transparent;\n  color: #000;\n}\n.tabs__scroll-bar .tab.selected-item .tab__title {\n  color: #000;\n}\n.tabs__scroll-bar .tab.tab--active {\n  background: #fff;\n  border-color: #e61718;\n  color: #000;\n}\n.tabs__scroll-bar .tab.tab--active .tab__title {\n  color: #000;\n}\n.tabs__switcher--dd {\n  left: 0;\n  right: 0;\n  height: 50px;\n  padding: 0 15px;\n  border-bottom: 1px solid;\n  background: #f6f6f6;\n}\n.tabs__switcher--dd .filter {\n  padding-right: 0;\n}\n.tabs__switcher--dd .field {\n  padding-top: 0;\n}\n.tabs__switcher--dd .field .field__controls {\n  padding-bottom: 0;\n}\n.tabs__switcher--dd .field select {\n  width: 100%;\n}\n.tabs__switcher--dd .field select,\n.tabs__switcher--dd .field .icondefault,\n.tabs__switcher--dd .field .actionsheet-select {\n  height: 50px;\n  line-height: 50px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.tabs__switcher--dd .field .actionsheet-select {\n  overflow: hidden;\n  width: 100%;\n}\n.tabs__switcher--dd .field .actionsheet-select__value {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tabs__container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.tabs__container .easy-scroller-holder {\n  background: #fff;\n}\n.tabs__switcher + .tabs__container {\n  top: 50px;\n}\n/* Activity stream\n------------------------- */\n.activitystream-item {\n  padding: 0 !important;\n}\n.panel__addpost {\n  height: 46px;\n  line-height: 46px;\n  border-bottom: solid 1px #d3dbe1;\n}\n.panel-addpost-link {\n  display: block;\n  padding: 0 15px;\n}\n.as__detail {\n  position: relative;\n  min-height: 46px;\n  padding: 8px 28px 8px 50px;\n}\n.as__detail .label-module-sm,\n.as__detail .as__icon {\n  float: left;\n  margin: 4px 0 0 -36px;\n}\n.as__detail .user-icon {\n  border: solid 2px #999;\n}\n.as__detail .as__title {\n  padding-bottom: 2px;\n}\n.as__detail .as__info {\n  font-size: 0.785rem;\n  color: #717171;\n}\n.comments-container {\n  margin-left: 46px;\n}\n.comment__empty {\n  padding-top: 2px;\n  padding-bottom: 10px;\n  color: #6b747f;\n}\n.comment__item {\n  overflow: hidden;\n  border-top: 1px dotted #ebedef;\n  padding: 6px 10px 6px 38px;\n  font-size: 0.857rem;\n}\n.comment__item .user-icon {\n  float: left;\n  margin: 4px 0 0 -38px;\n  border: solid 2px #999;\n}\n.comment__item .comment__info {\n  padding-top: 3px;\n  font-size: 0.785rem;\n  color: #717171;\n}\n.commentlog__item {\n  overflow: hidden;\n  border-top: 1px dotted #ebedef;\n  padding: 6px 10px 6px 6px;\n  font-size: 1rem;\n}\n.commentlog__item.commentlog__item--first {\n  padding-top: 0;\n  border-top: 0;\n}\n.commentlog__item .comment__info {\n  padding-top: 3px;\n  font-size: 0.857rem;\n  color: #717171;\n}\n.commentlog__info--preview {\n  font-size: 1.071rem !important;\n}\n.comments-more-btn {\n  display: block;\n  padding: 10px 0;\n  border-top: 1px dotted #ebedef;\n}\n.sugar_tag {\n  display: inline-block;\n  padding: 2px 4px 1px;\n  border-radius: 2px;\n  color: #fff;\n  background: #000;\n}\n.tb__detail {\n  padding-left: 35px;\n  padding-top: 4px;\n}\n.tb__detail.tb__detail-no-padding {\n  padding-left: 4px;\n}\n.tb__detail .tb__icon {\n  float: left;\n  padding-top: 2px;\n  margin-left: -35px;\n}\n.tb__detail .tb__info {\n  color: #717171;\n}\n.tb__detail .user-icon {\n  border: solid 2px #999;\n}\n/* Autocomplete  */\n.view__taggable {\n  position: relative;\n  height: 100%;\n  background: #fff;\n}\n.taggable,\n.taggable-shadow {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  padding: 10px;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  text-indent: 0;\n  display: block;\n  resize: none;\n  -webkit-box-sizing: border-box;\n  -webkit-line-break: after-white-space;\n  -webkit-appearance: none;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  font-size: 1.214rem;\n  line-height: 1.286em;\n  outline: none;\n}\n.taggable {\n  -webkit-overflow-scrolling: auto;\n  background-color: transparent;\n  z-index: 4;\n  -webkit-box-shadow: none;\n  letter-spacing: 0;\n}\n.ios .taggable {\n  -webkit-transform: translate3d(-4px, 0, 0);\n  transform: translate3d(-4px, 0, 0);\n  left: 0;\n  right: -10px;\n  width: auto;\n}\n.taggable-shadow {\n  background: #fff;\n  border-color: transparent;\n  color: transparent;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  -webkit-user-select: none;\n  word-spacing: 0;\n  letter-spacing: normal;\n}\n.taggable-shadow .sugar_tag {\n  display: inline;\n  position: relative;\n  z-index: 5;\n  padding: 0;\n  color: #fff;\n}\n.taggable-dropdown {\n  position: absolute;\n  top: 100px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow-y: scroll;\n  border-top: solid 1px #2d2d2d;\n  border-bottom: solid 1px #2d2d2d;\n  background: #fff;\n  z-index: 5;\n}\n.taggable-dropdown .taggable-listItem {\n  padding: 0 10px;\n  line-height: 2.5rem;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.taggable-dropdown .taggable-listItem.disabled {\n  color: #717275;\n}\n.taggable-dropdown .taggable-status {\n  float: right;\n  font-style: italic;\n}\n.taggable-dropdown .label-module-sm {\n  margin: 0 10px 0 0;\n  vertical-align: middle;\n}\n.show-dropdown .taggable,\n.show-dropdown .taggable-shadow {\n  height: 60px;\n}\n.show-dropdown .taggable-dropdown {\n  top: 60px;\n}\n/* Charts\n------------------------- */\n.sc-chart {\n  height: 100%;\n}\n.chart-wrapper {\n  width: 100%;\n  min-height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: #fff;\n  overflow-y: auto;\n}\n.chart-wrapper.has-scroll {\n  position: static;\n}\n.chart-wrapper .chart {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.chart-wrapper.has-dashlet-options .chart {\n  top: 40px;\n}\n.chart-wrapper .warning-message {\n  padding: 20px 0;\n}\n/* In Forecast dashlet\n------------------------- */\n.forecast-details .fd__b {\n  padding: 20px;\n}\n.forecast-details .fd__b .row-fluid {\n  padding: 10px;\n  border-bottom: 1px solid #e9e9e9;\n  box-sizing: border-box;\n}\n.forecast-details .fd__b .row-fluid::after {\n  clear: both;\n  display: table;\n  content: "";\n  line-height: 0;\n}\n.forecast-details .fd__b .row-fluid.deficitRow {\n  border-top: 1px solid #e9e9e9;\n  font-weight: 600;\n}\n.forecast-details .fd__b .row-fluid.deficitRow.font-green {\n  color: #33800d;\n}\n.forecast-details .fd__b .row-fluid.deficitRow.font-red {\n  color: #e61718;\n}\n.forecast-details .fd__b .row-fluid.details-cols {\n  padding: 10px 0;\n  border-bottom: none;\n}\n.forecast-details .fd__b .row-fluid .span1 {\n  float: left;\n  width: 100%;\n}\n.forecast-details .fd__b .row-fluid .span2 {\n  float: left;\n  width: 48.9%;\n  margin-left: 2.2%;\n}\n.forecast-details .fd__b .row-fluid .span2:first-child {\n  margin-left: 0;\n}\n.forecast-details .fd__b .row-fluid .span3 {\n  float: left;\n  width: 32%;\n  margin-left: 2%;\n}\n.forecast-details .fd__b .row-fluid .span3:first-child {\n  margin-left: 0;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline {\n  display: block !important;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.green {\n  background: #33800d;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.grayLight {\n  background: #717171;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.red {\n  background: #e61718;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label,\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount,\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback {\n  display: block;\n}\n.forecast-details .fd__b .row-fluid:last-child div[class*="span"] > .forecast_details_default_feedback {\n  font-size: 11px;\n  line-height: 16px;\n  color: #fff;\n  border-radius: 3px;\n  padding: 8px;\n  margin-top: 4px;\n}\n.forecast-details .fd__b .row-fluid .forecast_details_no_access {\n  padding: 3px 6px;\n  color: #fff;\n  background: #666;\n  border-radius: 4px;\n  font-size: 11px;\n  display: inline-block;\n  margin-top: 3px;\n}\n.forecast-details .warning-message {\n  padding: 20px;\n}\n@media screen and (max-height: 360px) {\n  .landscape .forecast-details .fd__b {\n    padding: 5px 20px 20px;\n  }\n  .landscape .forecast-details .fd__b .row-fluid {\n    padding: 5px;\n  }\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback {\n    display: inline;\n  }\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label .fdf_ln1,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount .fdf_ln1,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback .fdf_ln1 {\n    display: inline;\n  }\n}\n/* Dashlet Options */\n.filters-wrap {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 5px 5px 5px 15px;\n}\n.filter {\n  white-space: nowrap;\n  padding-right: 20px;\n}\n.filter .field__label,\n.filter .placeholder {\n  display: none;\n}\n.filter .field__controls {\n  border-bottom: none;\n}\n.filter select,\n.filter .actionsheet-select {\n  width: auto;\n}\n.dashlet-options {\n  position: relative;\n  height: 40px;\n  background: #fff;\n  border-bottom: 1px solid #e5e5e5;\n  z-index: 2;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.dashlet-options .dashlet-options_bigbar {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.dashlet-options .dashlet-options_bigbar .field {\n  padding-top: 0;\n}\n.dashlet-options .dashlet-options_bigbar .field--enum,\n.dashlet-options .dashlet-options_bigbar .field--radio .field__controls {\n  padding-top: 2px;\n}\n.dashlet-options .visibility-switcher .visibility-switcher__btn {\n  height: 40px;\n  padding: 0 15px;\n  background: transparent;\n  border: none;\n  line-height: 1.286em;\n  color: #6b7479;\n}\n.dashlet-options .visibility-switcher .visibility-switcher__btn.active {\n  color: #0679c8;\n}\n.dashlet-options .my-items-btn {\n  width: 32px;\n  height: 36px;\n  line-height: 36px;\n  padding: 0;\n  border: none;\n  font-size: 16px;\n  text-align: center;\n  color: #555;\n  position: absolute;\n  top: 0;\n  right: 5px;\n}\n.dashlet-options .my-items-btn.active {\n  background-color: transparent;\n  color: inherit !important;\n}\n.dashlet-options .my-items-btn.active .user-icon::before {\n  content: "\\F007";\n}\n.twitter-wrapper .tw__user_icon {\n  border: none !important;\n  border-radius: 5px !important;\n  background-color: #fff;\n  width: 26px;\n  height: 26px;\n  background-size: 100%;\n  background-position: 50% 50%;\n}\n.twitter-wrapper .tw__as__title {\n  padding-top: 2px;\n}\n.twitter-wrapper .tw__as_profile_link {\n  color: #585858;\n}\n.twitter-wrapper .tw__as_content_url {\n  word-wrap: break-word;\n  width: 100%;\n}\n.dashlet-webpage {\n  height: 100%;\n  width: 100%;\n  background: #fff;\n}\n.dashlet-webpage .wp__wrapper {\n  position: absolute;\n  top: 40%;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n.dashlet-webpage .wp__container {\n  display: inline-block;\n  min-width: 60%;\n  max-width: 70%;\n  border: 1px solid #ddd;\n  padding: 5px;\n  -webkit-border-radius: 3px;\n  background-color: #f5f5f5;\n}\n.dashlet-webpage .wp__favlogo {\n  position: absolute;\n  float: left;\n  top: 38%;\n  padding-left: 10px;\n  color: #666;\n}\n.dashlet-webpage .wp__content {\n  overflow: hidden;\n  text-align: left;\n  padding-left: 35px;\n}\n.dashlet-webpage .wp__title {\n  right: auto;\n  padding: 2px;\n  color: #000;\n}\n.dashlet-webpage .wp__url {\n  font-size: 0.885rem;\n  right: auto;\n  padding: 2px;\n  word-wrap: break-word;\n}\n.donut-chart {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n.donut-chart .sc-chart {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  min-height: 50px;\n  min-width: 100px;\n  top: 0;\n  bottom: 0;\n}\n.donut-chart .donut-chart-metric-container {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  bottom: 0;\n  left: 0;\n}\n.donut-chart .chart-metric {\n  text-align: center;\n  width: 33%;\n  position: relative;\n  border-top: 1px solid #e8e8e8;\n  border-right: 1px solid #e8e8e8;\n  float: left;\n  padding: 14px 0 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  bottom: 0;\n}\n.donut-chart .chart-metric:last-child {\n  border-right: none;\n}\n.donut-chart .chart-metric span.label {\n  width: 26px;\n  height: 26px;\n  padding: 3px;\n  position: absolute;\n  top: -22px;\n  left: 50%;\n  margin-left: -12px;\n  border: none;\n  font-size: 1rem;\n  line-height: 1.786rem;\n}\n.donut-chart .chart-metric div.metric-description span {\n  float: none;\n  display: inline-block;\n  font-weight: bold;\n  font-size: 10px;\n  text-align: center;\n  text-shadow: 0 1px 0 #636363;\n  margin-right: 3px !important;\n}\n.donut-chart .chart-metric div.metric-amount {\n  font-weight: bold;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.opportunity-metrics-wrapper {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n.opportunity-metrics-wrapper .sc-chart {\n  bottom: 70px;\n}\n.opportunity-metrics-wrapper .sc-chart .active {\n  fill: #1285d5;\n}\n.opportunity-metrics-wrapper .sc-chart .won {\n  fill: #61d523;\n}\n.opportunity-metrics-wrapper .sc-chart .lost {\n  fill: #de3839;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.won {\n  background-color: #61d523;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.lost {\n  background-color: #de3839;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.active {\n  background-color: #1285d5;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.won {\n  color: #61d523;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.lost {\n  color: #de3839;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.active {\n  color: #1285d5;\n}\n.layout__switch-container {\n  top: 0;\n}\n.layout__switch-container .tabs__switcher + .tabs__container {\n  bottom: 73px;\n  bottom: calc(env(safe-area-inset-bottom) + 73px);\n}\n.lead-conversion__section--relative .scroll .pad {\n  background: #f7f8f9;\n  padding-bottom: 73px;\n  padding-bottom: calc(env(safe-area-inset-bottom) + 73px);\n}\n.lead-conversion__content--relative {\n  margin-bottom: 24px;\n  border-bottom: solid 1px #d3dbe1;\n}\n.lead-conversion__content--relative .easy-scroller-parent {\n  position: relative;\n}\n.lead-conversion__content--relative .easy-scroller-holder {\n  position: relative;\n}\n.duplicates-check-failed,\n.duplicates-check-no-records-found {\n  padding: 16px 15px 13px;\n  background: #f7f8f9;\n  font-size: 1.143rem;\n}\n.duplicates-list-hint {\n  padding: 16px 15px 13px;\n  background: #fff;\n  font-size: 1.143rem;\n}\n.box__header-context {\n  padding: 16px 15px 13px;\n  background: #f7f8f9;\n  border-bottom: solid 1px #d3dbe1;\n}\n.box__header-context .header-context__title {\n  font-size: 1.143rem;\n  font-weight: 600;\n}\n.box__header-context .header-context__title--optional {\n  font-weight: 400;\n}\n.box__header-context .header-context__subtitle {\n  margin-top: 8px;\n}\n.box__link-duplicates {\n  display: block;\n  position: relative;\n  padding: 12px 40px 12px 15px;\n  margin-bottom: 24px;\n  background: #fff;\n  border-top: solid 1px #d3dbe1;\n  border-bottom: solid 1px #d3dbe1;\n  font-size: 1.143rem;\n}\n.box__link-duplicates .icondefault {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  width: 40px;\n  margin-top: -11px;\n  font-size: 22px;\n  color: #000;\n  text-align: center;\n}\n.box__link-duplicates.disabled {\n  color: rgba(107, 116, 121, 0.5);\n}\n.lead-conversion__footer {\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  min-height: 73px;\n  width: 100%;\n  padding: 14px 15px 14px;\n  background: #f7f8f9;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.5);\n}\n.lead-conversion__prev {\n  float: left;\n  height: 44px;\n  line-height: 44px;\n  padding-right: 20px;\n  background: transparent;\n  font-size: 1.143rem;\n  color: #0c89d1;\n}\n.lead-conversion__prev.selected-item {\n  opacity: 0.6;\n}\n.lead-conversion__prev .icondefault {\n  font-weight: bold;\n}\n.rtl .lead-conversion__prev .icondefault {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n  position: relative;\n  top: -2px;\n}\n.rtl .lead-conversion__prev {\n  float: right;\n  padding-left: 20px;\n  padding-right: 0;\n}\n.lead-conversion__next {\n  float: right;\n  height: 44px;\n  padding: 0 20px;\n  line-height: 44px;\n}\n.lead-conversion__next .icondefault {\n  padding-left: 5px;\n  font-weight: bold;\n}\n.rtl .lead-conversion__next .icondefault {\n  position: relative;\n  top: -2px;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .lead-conversion__next {\n  float: left;\n}\n.progress {\n  width: 40px;\n  height: 10px;\n}\n.progress-wrap {\n  background: #3aca50;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  right: 15px;\n  margin-top: -30px;\n  z-index: 9999;\n}\n.progress-wrap .progress-bar {\n  background: #ddd;\n  left: 0;\n  position: absolute;\n  top: 0;\n  -webkit-transition: left 0.6s linear;\n  transition: left 0.6s linear;\n}\n.rtl .progress-wrap {\n  left: 15px;\n  right: auto;\n}\n.field-dupecheck-list__label {\n  float: left;\n  width: 120px;\n  padding-right: 16px;\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.rtl .field-dupecheck-list__label {\n  float: right;\n  padding-right: 0;\n  padding-left: 16px;\n}\n.lead-conversion__missing-required {\n  color: #e61718;\n  padding: 0 0 10px;\n}\n/* Default overlay\n------------------------- */\n.box__overlay {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 999990;\n  font-size: 1.357rem;\n  font-weight: bold;\n  text-align: center;\n}\n.box__overlay .overlay-message {\n  position: relative;\n  top: 50%;\n  font-size: 1.714rem;\n}\n.box__overlay .overlay-spinner {\n  height: 40px;\n  width: 40px;\n  margin-top: 20px;\n  display: none;\n}\n.box__overlay .overlay-spinner .icon-spinner {\n  width: 32px;\n  height: 32px;\n}\n.box__overlay .current {\n  display: inline-block;\n  padding-bottom: 10px;\n}\n.box__overlay .completed {\n  font-size: 0.632em;\n  color: #cdcccb;\n}\n.box__overlay .icon-spinner {\n  display: inline-block;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  margin-right: 3px;\n}\n.box__overlay .icon-spinner-path {\n  fill: black;\n}\n.box__overlay.overlay--visible {\n  background: rgba(0, 0, 0, 0.5);\n}\n.box__overlay.spinner .overlay-message,\n.box__overlay.spinner .overlay-spinner {\n  position: relative;\n  top: 40%;\n}\n.box__overlay.spinner .overlay-spinner {\n  display: inline-block;\n}\n.box__overlay.tint {\n  background: #fff;\n  color: black;\n}\n.box__overlay.tint .icon-spinner-path {\n  fill: black;\n}\n.box__overlay.overlay--shadow {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n/* Preloader on login\n------------------------- */\n.box__preloader {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 9998;\n  background: #fff;\n}\n.box__preloader .preloader__header {\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  margin-top: -100px;\n  text-align: center;\n}\n.box__preloader .preloader__message {\n  text-align: center;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: black;\n}\n.box__preloader .preloader__message .icon-spinner {\n  display: inline-block;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  margin-right: 3px;\n}\n.box__preloader .preloader__message .icon-spinner-path {\n  fill: black !important;\n}\n/* Record overlay\n------------------------- */\n.box__overlay-record {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1001;\n}\n.box__overlay-record .overlay-record__message {\n  position: absolute;\n  top: 45%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  opacity: 0.8;\n  color: #fff;\n}\n/* Lead preloader\n------------------------- */\n.box__lead-preloader {\n  position: absolute;\n  top: -50px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 99999;\n  background: #f7f8f9;\n}\n.box__lead-preloader .lead-preloader__tabs {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 49px;\n  padding: 0 20px;\n  border-bottom: solid 1px #d3dbe1;\n  background: #fff;\n  justify-content: space-between;\n}\n.box__lead-preloader .lead-preloader__tab {\n  margin-top: 21px;\n  width: 66px;\n}\n.box__lead-preloader .lead-preloader__tab--2 {\n  width: 85px;\n}\n.box__lead-preloader .lead-preloader__tab--3 {\n  width: 35px;\n}\n.box__lead-preloader .lead-preloader__content {\n  position: relative;\n  background: #fff;\n  padding: 21px 15px 11px 46px;\n  border-bottom: solid 1px #ebedef;\n}\n.rtl .box__lead-preloader .lead-preloader__content {\n  padding-left: 15px;\n  padding-right: 46px;\n}\n.box__lead-preloader .lead-preloader__line-content {\n  width: 150px;\n  margin-bottom: 21px;\n}\n.box__lead-preloader .lead-preloader__line-content--2 {\n  width: 130px;\n}\n.box__lead-preloader .lead-preloader__line-content--3 {\n  width: 100px;\n}\n.box__lead-preloader .lead-preloader__line-radio {\n  position: absolute;\n  top: 50%;\n  left: 15px;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n  background: #d8d8d8;\n  border-radius: 8px;\n  line-height: 0;\n  animation: pulse 0.65s infinite alternate;\n}\n.rtl .box__lead-preloader .lead-preloader__line-radio {\n  right: 15px;\n  left: auto;\n}\n.box__lead-preloader .lead-preloader__tab,\n.box__lead-preloader .lead-preloader__line-content {\n  height: 9px;\n  background: #d8d8d8;\n  line-height: 0;\n  animation: pulse 0.65s infinite alternate;\n}\n.box__lead-preloader .lead-preloader__btn1 {\n  float: left;\n  width: 65px;\n  height: 9px;\n  margin-top: 15px;\n  background: #d8d8d8;\n}\n.rtl .box__lead-preloader .lead-preloader__btn1 {\n  float: right;\n}\n.box__lead-preloader .lead-preloader__btn2 {\n  float: right;\n  width: 110px;\n  height: 46px;\n  background: #d8d8d8;\n  border-radius: 3px;\n}\n.rtl .box__lead-preloader .lead-preloader__btn2 {\n  float: left;\n}\n.html-content {\n  line-height: normal;\n}\n.textarea .html-content {\n  overflow-x: auto;\n  padding: 15px;\n}\n.html-content h1,\n.html-content h2,\n.html-content h3,\n.html-content h4,\n.html-content h5,\n.html-content h6 {\n  line-height: normal;\n}\n.html-content ul,\n.html-content ol {\n  padding-left: 30px;\n}\n.html-content img {\n  max-width: 100%;\n}\n/* Quote line items */\n.qli-container .scroll,\n.qli-container .scroll .pad {\n  background: #f7f8f9;\n}\n.qli-container .scroll > div,\n.qli-container .scroll .pad > div {\n  margin-top: 10px;\n}\n.qli-container .box__edit .field {\n  margin-left: 12px;\n  margin-right: 12px;\n}\n/* Qli group */\n.qli-group {\n  padding: 0 7px;\n  margin-bottom: 20px;\n}\n.qli-group.qli-group--default .qli-item {\n  margin-bottom: 10px;\n}\n.qli-group:not(.qli-group--default) + .qli-actions-group {\n  margin-top: -21px;\n}\n.view__bundles-summary .qli-group + .qli-group {\n  border-top: solid 2px #ebedef;\n}\n.qli-group-header {\n  display: flex;\n  justify-content: space-between;\n  padding: 14px 12px 10px;\n  background: #ebedef;\n}\n.qli-group-header__detail {\n  font-size: 1.214rem;\n  font-weight: bold;\n  padding: 14px 12px 10px;\n}\n.qli-group-header__delete .icondefault {\n  color: #0679c8;\n}\n.qli-group-header__body {\n  background: #fff;\n}\n.qli-group-header__body .field {\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.qli-group-header__body .field__controls {\n  border-bottom: none;\n}\n.qli-group__header {\n  font-size: 1.214rem;\n  font-weight: bold;\n}\n.qli-group__header .field__label {\n  display: none;\n}\n/* Qli item */\n.qli-item {\n  background: #fff;\n  border: solid 1px #ebedef;\n}\n.qli-item.qli-item--empty {\n  padding: 12px 6px;\n}\n.qli-item .field-detail {\n  border: none;\n}\n.qli-item > span:last-child .field__controls {\n  border-bottom: none;\n}\n.view__bundles-summary .qli-item {\n  margin-bottom: 12px;\n}\n.qli-item__header {\n  display: flex;\n  justify-content: space-between;\n  padding: 7px 12px;\n  background: #ebedef;\n  font-weight: bold;\n}\n.qli-item-header__title {\n  font-size: 1.214rem;\n}\n.qli-item-header__delete {\n  color: #0679c8;\n}\n.qli-item-header__delete .icondefault {\n  font-size: 1.214rem;\n}\n.qli-item__comment {\n  padding: 12px;\n  line-height: 1.4em;\n}\n.qli-item__comment .field {\n  margin: 0 !important;\n  padding-top: 0;\n}\n.qli-item__comment .field__label {\n  display: none;\n}\n.qli-item__comment .field__controls {\n  border-bottom: none;\n}\n/* QLI total */\n.qli-total {\n  border-top: solid 2px #000;\n}\n.box__edit .qli-total {\n  background: #fff;\n  border-left: solid 1px #ebedef;\n  border-bottom: solid 1px #ebedef;\n  border-right: solid 1px #ebedef;\n  font-size: 1.214rem;\n}\n.qli-total.qli-total--detail {\n  border-left: solid 1px #ebedef;\n  border-bottom: solid 1px #ebedef;\n  border-right: solid 1px #ebedef;\n}\n.qli-total.qli-total--grand {\n  margin-bottom: 30px;\n  border-top: solid 1px #ebedef;\n  border-right: none;\n  border-bottom: solid 2px #000;\n  border-left: none;\n}\n.qli-total__row {\n  display: flex;\n  padding: 18px 12px 20px;\n  justify-content: space-between;\n}\n.qli-total__label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: bold;\n  line-height: 1.2em;\n}\n.qli-total__value {\n  font-weight: bold;\n}\n.qli-total__row--detail {\n  justify-content: flex-start;\n}\n.qli-total__row--detail .qli-total__label {\n  width: 108px;\n}\n.qli-total__row--field {\n  padding-top: 15px;\n  padding-bottom: 12px;\n}\n.qli-total__row--field + .qli-total__row--field {\n  padding-top: 0;\n}\n.qli-total__row--field .qli-total__label {\n  font-weight: normal;\n}\n.quotes-grand-total {\n  border-top: solid 2px #000;\n}\n.quotes-grand-total .qli-total__row {\n  display: flex;\n  padding-top: 18px;\n  padding-bottom: 20px;\n}\n.quotes-grand-total .qli-total__label {\n  font-weight: bold;\n}\n/* Qli actions */\n.qli-actions-group {\n  margin-bottom: 20px;\n}\n.qli-action {\n  padding: 12px;\n  margin: 0 7px -1px;\n  background: #fff;\n  border: solid 1px #ebedef;\n  font-size: 1.143rem;\n  color: #0679c8;\n}\n.qli-action .icondefault {\n  margin-right: 5px;\n}\n.rtl .qli-action .icondefault {\n  margin-left: 5px;\n  margin-right: 0;\n}\n.qli-action.qli-action--group-add {\n  background: none;\n  border: none;\n  padding: 12px 8px;\n}\n/* Body and structure\n------------------------- */\n.background {\n  position: absolute !important;\n  top: 50px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fff;\n  z-index: 9999 !important;\n}\n.fno {\n  float: none !important;\n}\n.fleft {\n  float: left !important;\n}\n.fright {\n  float: right !important;\n}\n.altview {\n  display: none;\n}\nsvg text {\n  font-family: "Open Sans", sans-serif;\n}\n.vis_action_hidden {\n  display: none !important;\n}\n/* Typography */\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n}\nh1 {\n  font-size: 26px;\n}\n.tcenter {\n  text-align: center;\n}\n.tleft {\n  text-align: left;\n}\n.tright {\n  text-align: right;\n}\n.ellipsis {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.line-clamp {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n/* Checkboxes */\n.checkbox_default {\n  -webkit-appearance: none;\n  width: 1.286rem;\n  height: 1.286rem;\n  border-width: 1px;\n  border-style: solid;\n  border-color: #999;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n}\n.checkbox_default:checked::after {\n  content: "\\2713";\n  font-size: 130%;\n  line-height: 16px;\n}\n.checkbox_custom {\n  width: 1.286rem;\n  height: 1.571rem;\n  -webkit-appearance: none;\n  position: relative;\n  border: none;\n  background: transparent;\n  box-shadow: none;\n  vertical-align: middle;\n  z-index: 2;\n}\n.checkbox_custom + .checkbox-icon {\n  width: 1.286rem;\n  margin-left: -1.286rem;\n  z-index: 1;\n}\n.checkbox-icon {\n  position: relative;\n  display: inline-block;\n  font-size: 1.357rem;\n  line-height: 1;\n  color: #111;\n  vertical-align: middle;\n  text-align: left;\n  z-index: 1;\n}\n/* Blocks */\n.modal {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  right: 10px;\n  width: auto;\n  margin: 0;\n}\n.modal.fade.in {\n  top: auto;\n}\n.modal .modal-header .close {\n  padding: 10px;\n  margin: -10px;\n}\n/* icons for Modules */\n.label-module-sm {\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 24px;\n  width: 24px;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 24px;\n  border-radius: 50%;\n  background: #6b7479;\n  white-space: nowrap;\n  text-align: center;\n  color: #fff;\n}\n.label-module-sm .icondefault {\n  font-size: 18px;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n  text-align: center;\n  color: #fff;\n}\n.label-module-sm.has-icon-inside .label-module-sm_title {\n  position: absolute;\n  top: 4px;\n  left: 4px;\n}\n.label-module-sm .icon-th {\n  margin-top: 1px;\n  color: #2b2b2b;\n}\n.label-Accounts {\n  background-color: #51cd15;\n}\n.label-Bugs {\n  background-color: #f75f60;\n}\n.label-Calendar {\n  background-color: #00bd9c;\n}\n.label-Calls {\n  background-color: #01d1ff;\n}\n.label-Campaigns {\n  background-color: #ffcf00;\n}\n.label-CampaignLog {\n  background-color: #ffcf00;\n}\n.label-Cases {\n  background-color: #e85479;\n}\n.label-Contacts {\n  background-color: #cc6cd9;\n}\n.label-Documents {\n  background-color: #626bf5;\n}\n.label-Emails {\n  background-color: #2c97de;\n}\n.label-Employees {\n  background-color: #2c97de;\n}\n.label-Files {\n  background-color: #fbc02d;\n}\n.label-Forecasts {\n  background-color: #1fce6d;\n}\n.label-KBDocuments {\n  background-color: #f72b74;\n}\n.label-KBContents {\n  background-color: #f72b74;\n}\n.label-Leads {\n  background-color: #7651fc;\n}\n.label-Meetings {\n  background-color: #2ee0cd;\n}\n.label-Notes {\n  background-color: #28bdf0;\n}\n.label-Opportunities {\n  background-color: #a05cff;\n}\n.label-Products {\n  background-color: #011523;\n}\n.label-Prospects {\n  background-color: #aacb2d;\n}\n.label-ProspectLists {\n  background-color: #aacb2d;\n}\n.label-Quotes {\n  background-color: #0eba61;\n}\n.label-Quotas {\n  background-color: #18e7d2;\n}\n.label-Reports {\n  background-color: #ff973e;\n}\n.label-RevenueLineItems {\n  background-color: #00cbf3;\n}\n.label-Targets {\n  background-color: #429e10;\n}\n.label-TargetLists {\n  background-color: #429e10;\n}\n.label-Tasks {\n  background-color: #ff5a9c;\n}\n.label-Users {\n  background-color: #6b7379;\n}\n.label-Workflow {\n  background-color: #41b7d1;\n}\n.label-empty {\n  background: #fff;\n  border: 1px solid #555;\n  color: #555;\n}\n/* Filter Box\n------------------------- */\n.view__filters {\n  position: relative;\n}\n.view__filters.filters-hidden {\n  display: none;\n}\n.box__filter {\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 44px;\n  padding: 8px 15px 7px;\n  background: #f8f9f9;\n  border-bottom: solid 1px #d3dbe1;\n  white-space: nowrap;\n}\n.box__filter .filter__item:first-child {\n  flex-shrink: 1;\n  overflow: hidden;\n}\n.box__filter .filter__seporate {\n  -webkit-box-flex: 1 1 15px;\n  -webkit-flex: 1 1 15px;\n  flex: 1 1 15px;\n}\n.box__filter .filter__item-by {\n  max-width: 160px;\n}\n.box__filter .filter__item-sort {\n  flex: 0 0 30px;\n  margin-left: -1px;\n}\n.box__filter .filter__item-sort .btn-filter {\n  position: relative;\n  width: 20px;\n  padding: 0 5px;\n  border-radius: 0 2px 2px 0;\n  color: #d3dbe1;\n}\n.box__filter .filter__item-sort .filter-item-sort__asc {\n  position: absolute;\n  top: 2px;\n  left: 11px;\n}\n.desc .box__filter .filter__item-sort .filter-item-sort__asc {\n  color: #000;\n}\n.box__filter .filter__item-sort .filter-item-sort__desc {\n  position: absolute;\n  top: 10px;\n  left: 11px;\n}\n.box__filter .filter__item-sort.asc .filter-item-sort__asc,\n.box__filter .filter__item-sort.desc .filter-item-sort__desc {\n  color: #000;\n}\n.box__filter .btn-filter {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.view__search {\n  display: none;\n  position: absolute;\n  top: -51px;\n  left: 0;\n  width: 100%;\n  height: 50px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-transition: all 0.6s linear;\n  transition: all 0.6s linear;\n  background: #fff;\n  align-items: center;\n  z-index: 9002;\n  opacity: 0;\n}\n.view__search.show-search {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.view__search .box__search-query {\n  position: relative;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.view__search .box__search-icon {\n  position: absolute;\n  top: 0;\n  left: 15px;\n  height: 50px;\n  line-height: 50px;\n  color: #0679c8;\n  font-size: 1.286rem;\n}\n.view__search .icon-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 15px;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n}\n.view__search .icon-spinner .icon-spinner-path {\n  fill: #0679c8;\n}\n.view__search .search-query {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  height: 50px;\n  padding: 0 35px 0 44px;\n  background: transparent;\n  font-size: 1.143rem;\n}\n.view__search .search-query::-webkit-input-placeholder {\n  white-space: nowrap;\n  text-overflow: ellipsis !important;\n}\n.view__search .search-query::-webkit-search-cancel-button {\n  display: none;\n}\n.view__search .clear-button {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 12px;\n  font-size: 1.143rem;\n  color: #6b7479;\n}\n.view__search .not-empty .clear-button {\n  display: block;\n}\n.view__search .search__cancel-btn {\n  line-height: 50px;\n  padding: 0 15px;\n  font-size: 1.143rem;\n  color: #0679c8;\n}\n.view__search .search__cancel-btn.selected-item {\n  color: #0679c8;\n  background: transparent;\n}\n.view__search-box.in-progress .box__search-icon {\n  display: none;\n}\n.view__search-box.in-progress .icon-spinner {\n  display: block;\n}\n.overlay-dropdown {\n  position: absolute;\n  top: 44px;\n  left: 0;\n  width: 100%;\n  height: 1500px;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n}\n.dropdown {\n  position: absolute;\n  overflow-y: auto;\n  top: 44px;\n  border-radius: 0 0 2px 2px;\n  background: #fff;\n  z-index: 2;\n  max-height: 70vh;\n}\n.dropdown.dropdown__filter {\n  left: 7px;\n  width: 190px;\n}\n.dropdown.dropdown__sortBy {\n  right: 7px;\n  width: 183px;\n}\n.dropdown li {\n  display: block;\n  border-top: 1px solid #e8e8e8;\n}\n.dropdown li:first-child {\n  border: none;\n}\n.dropdown li.filters-preloader .icon-spinner {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 8px;\n  vertical-align: top;\n}\n.dropdown li.filters-preloader .icon-spinner .icon-spinner-path {\n  fill: #c2c2c2;\n}\n.dropdown li.selected-item {\n  background: #f6f6f6;\n}\n.dropdown li.selected-item a {\n  color: #323232;\n}\n.dropdown li.filters-fetching-error {\n  padding: 8px 10px;\n  text-align: center;\n}\n.dropdown li.filters-fetching-error.show {\n  display: block;\n}\n.dropdown li.filters-fetching-error span {\n  font-size: 0.857rem;\n}\n.dropdown li.filters-fetching-error .filters-try-again {\n  font-size: 1rem;\n  color: #0679c8;\n  text-decoration: underline;\n}\n.dropdown li a {\n  position: relative;\n  display: block;\n  height: 2.857rem;\n  color: #323232;\n}\n.dropdown li a.active {\n  background: #fff;\n  color: #0679c8;\n}\n.dropdown li a.active .check-icon {\n  display: block;\n}\n.dropdown li a.filters-reload {\n  height: auto;\n}\n.dropdown li .name {\n  position: absolute;\n  top: 50%;\n  left: 22px;\n  right: 7px;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  max-height: 2.857rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.dropdown li .check-icon {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 6px;\n  margin-top: -7px;\n  font-size: 13px;\n}\n.dropdown li .loading-error {\n  height: auto;\n  padding: 12px 0;\n  text-align: center;\n}\n.dropdown li .loading-error .message {\n  display: block;\n  padding-bottom: 6px;\n}\n.dropdown li .loading-error .link {\n  color: #0679c8;\n  text-decoration: underline;\n}\n/* Content\n------------------------- */\n.mobile.show-content-child #content {\n  display: none;\n}\n.mobile.show-content-child #content-child {\n  display: block;\n}\n.tablet #wrapper {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  background: #fff;\n}\n.tablet.show-content-child #content {\n  display: block;\n  width: 340px;\n}\n.tablet.show-content-child #content-child {\n  display: block;\n  box-shadow: -2px 0 7px rgba(0, 0, 0, 0.1);\n}\n.tablet.show-content-child.body--search-onfocus #content {\n  width: 100% !important;\n  z-index: 2003;\n}\n.tablet #moduleList {\n  -webkit-transform: translate3d(0, 0, 0);\n}\n#wrapper {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n#content,\n#content-child {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 2002;\n}\n#content-child {\n  display: none;\n}\n.duplicates-list .items .layout__list {\n  position: relative;\n  top: 0;\n  height: 300px;\n}\n#content-overlay {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 50px;\n  bottom: 0;\n  z-index: 2003;\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  opacity: 0;\n  -webkit-transition: opacity 0.2s linear;\n  transition: opacity 0.2s linear;\n}\n#content-overlay.full {\n  top: 0;\n}\n.show-menu-left #content-overlay {\n  top: 0;\n  background: rgba(0, 0, 0, 0.5);\n  opacity: 1;\n}\n.easy-scroller-parent {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n}\n.view__filters ~ .easy-scroller-parent {\n  top: 44px;\n}\n.filters-hidden .easy-scroller-parent {\n  top: 0;\n}\n.easy-scroller-holder {\n  position: absolute;\n  top: 0;\n  min-height: 100%;\n  left: 0;\n  right: 0;\n  z-index: 1;\n}\n.layout__list .easy-scroller-holder,\n.layout__Dashboards .easy-scroller-holder {\n  background: #fff;\n}\n.actionsheet-overlay {\n  top: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 9999;\n  width: 100%;\n  bottom: 0;\n  position: absolute;\n}\n.actionsheet-overlay .popup {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  min-width: 250px;\n  max-width: 90%;\n  font-weight: bold;\n  background-color: #fff;\n  color: #000;\n  font-size: 16px;\n  position: absolute;\n}\n.actionsheet-overlay .popup .header {\n  border-bottom: 3px solid #d3dbe1;\n  padding: 16px 0;\n  text-align: center;\n}\n.actionsheet-overlay .popup .items {\n  max-height: 120px;\n  overflow: auto;\n  overflow-x: hidden;\n}\n.actionsheet-overlay .popup .items .item {\n  height: 40px !important;\n  line-height: 40px;\n  width: auto;\n  padding-left: 20px;\n  padding-right: 20px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.actionsheet-overlay .popup .items .item.selected-item {\n  background: #666;\n}\n.actionsheet-overlay .popup.compact .header {\n  padding: 10px !important;\n}\n.actionsheet-overlay .popup.compact .items {\n  max-height: 80px !important;\n}\n.actionsheet-overlay .popup.compact .footer .cancel {\n  padding: 10px !important;\n}\n.actionsheet-overlay .popup .footer {\n  border-top: 2px solid #d3dbe1;\n}\n.actionsheet-overlay .popup .footer .cancel {\n  display: block;\n  color: #0679c8;\n  text-align: center;\n  padding: 16px;\n}\n.actionsheet-overlay .popup .footer .cancel.selected-item {\n  color: #005088;\n}\n.view__summary .scroll > ul > li,\n.items article {\n  position: relative;\n}\n.ios .view__summary .scroll > ul > li,\n.ios .items article {\n  -webkit-transform: translateZ(0);\n}\n/* List\n------------------------- */\n.listing {\n  background: #fff;\n  min-height: 100%;\n  width: 100%;\n  padding-bottom: 1px;\n  overflow: hidden;\n  z-index: 2;\n}\n.listing .no-records-found {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  color: #6b7479;\n  background-color: #f0f2f5;\n  padding: 24px 15px 26px;\n  font-size: 1.214rem;\n  text-align: center;\n}\n.listing#listing-Activities .no-records-found {\n  top: 47px;\n}\n.listing .bucket-header {\n  min-height: 15px;\n  padding: 10px 15px;\n  background: #ecedef;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #000;\n}\n.listing article {\n  display: block;\n  padding: 8px 8px 8px 15px;\n  background: #fff;\n  border-bottom: 1px solid #ebedef;\n  min-height: 52px;\n}\n.listing article p {\n  display: block;\n}\n.listing article p:last-child {\n  margin: 0;\n}\n.listing article:last-child {\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.listing article.selected-item,\n.listing article.item-checkbox_checked {\n  background: #ededed !important;\n  color: #000;\n}\n.listing article.selected-item a,\n.listing article.item-checkbox_checked a,\n.listing article.selected-item .item-name,\n.listing article.item-checkbox_checked .item-name,\n.listing article.selected-item .tb__info,\n.listing article.item-checkbox_checked .tb__info {\n  color: #005088 !important;\n}\n.listing article.selected-item .module-name,\n.listing article.item-checkbox_checked .module-name,\n.listing article.selected-item .module-name-comma,\n.listing article.item-checkbox_checked .module-name-comma,\n.listing article.selected-item .item-label,\n.listing article.item-checkbox_checked .item-label,\n.listing article.selected-item div.search-result,\n.listing article.item-checkbox_checked div.search-result,\n.listing article.selected-item .fields .value,\n.listing article.item-checkbox_checked .fields .value {\n  color: #000 !important;\n}\n.listing article.selected-item .menu-container a,\n.listing article.item-checkbox_checked .menu-container a {\n  color: #262626 !important;\n}\n.listing article.current {\n  background: #9aa5ad;\n  color: #fff;\n}\n.listing article.current a,\n.listing article.current .item-name,\n.listing article.current .tb__info {\n  color: #fff !important;\n}\n.listing article.current .module-name,\n.listing article.current .module-name-comma,\n.listing article.current .item-label,\n.listing article.current div.search-result,\n.listing article.current .fields .value {\n  color: #fff !important;\n}\n.listing article.current .menu-container a {\n  color: #262626 !important;\n}\n.listing article.deleted {\n  opacity: 0;\n}\n.listing .list-item {\n  position: relative;\n}\n.listing .list-item .txt {\n  margin-top: 6px;\n  min-height: 2.7em;\n}\n.listing .list-item .txt.line-clamp {\n  line-height: 1.3em;\n}\n.listing .list-item .txt .clip a em {\n  font-style: normal;\n  color: #000;\n}\n.listing .list-item .txt > .clip:first-child,\n.listing .list-item .txt .item-name {\n  font-size: 1.214rem;\n  line-height: 1.3em;\n}\n.listing .list-item .txt .module-name {\n  float: left;\n  max-width: 50%;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-style: normal;\n  color: #000;\n  font-size: 1.214rem;\n  line-height: 1.3em;\n}\n.listing .list-item .txt .module-name-comma {\n  float: left;\n  font-size: 1.214rem;\n  line-height: 1.3em;\n  padding-right: 4px;\n  color: #000;\n}\n.listing .list-item .txt .highlight {\n  font-weight: bold;\n  color: inherit;\n}\n.listing .list-item .txt div.search-result {\n  color: #000;\n  font-size: 1rem;\n}\n.listing .list-item .txt div.search-result .highlight {\n  padding: 0 2px;\n  background: #dfdfdf;\n  color: #000;\n  font-weight: normal;\n}\n.listing .list-item .txt div.search-result .relate-link {\n  color: #000;\n}\n.listing .list-item .search {\n  height: auto;\n}\n.listing .list-item .additional {\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  font-size: 0.929rem;\n}\n.listing .list-item .additional div.search-result {\n  display: block;\n}\n.listing .list-item .txt.has-access .item-name {\n  color: #0679c8;\n}\n.listing .list-item .fields {\n  padding-top: 2px;\n}\n.listing .list-item .fields .value {\n  color: #000;\n}\n.listing .list-item .fields .field {\n  padding-top: 0;\n  overflow: hidden;\n}\n.listing .list-item .fields .item-label {\n  float: left;\n  width: 46%;\n  padding-right: 10px;\n  font-weight: 500;\n  color: #000;\n}\n.listing .list-item .field-leads-status-value {\n  float: right;\n}\n.rtl .listing .list-item .field-leads-status-value {\n  float: left;\n}\n.listing .list-item.tx-item {\n  font-size: 1.214rem;\n  color: #0679c8;\n}\n.listing .list-item.error {\n  color: #fff;\n  background: #e61718;\n  border-top: none;\n  border-bottom: solid 3px #8a1a0f;\n}\n.listing .list-item.error .module-name,\n.listing .list-item.error .module-name-comma {\n  color: #fff;\n}\n.listing .list-item.warning {\n  color: #fff;\n  background: #ffa800;\n  border-top: none;\n  border-bottom: solid 3px #b27500;\n}\n.listing .list-item.warning .module-name,\n.listing .list-item.warning .module-name-comma {\n  color: #fff;\n}\n.listing article.has-grip {\n  padding-right: 32px;\n}\n.listing article.item-checkbox {\n  position: relative;\n  padding-right: 32px;\n}\n.listing article.item-checkbox .asscacct,\n.listing article.item-checkbox .checkbox-icon {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  width: 31px;\n  margin-top: -0.5em;\n}\n.listing article.list-item-radio {\n  position: relative;\n  padding: 11px 15px 11px 46px;\n}\n.listing article.list-item-radio .radio-icon {\n  position: absolute;\n  top: 30px;\n  left: 15px;\n  width: 18px;\n  margin-top: -8px;\n  text-align: center;\n  color: #979797;\n  font-size: 18px;\n}\n.listing article.list-item-radio .item-name {\n  font-size: 1.143rem;\n}\n.listing article.list-item-radio.list-item-radio--selected .radio-icon {\n  font-weight: bold;\n  color: #54cb14;\n}\n.listing article.list-item-radio:last-child {\n  border-bottom: none;\n}\n.listing article.list-item-radio .row--head:first-child {\n  font-size: 1.143rem;\n}\n.listing article.list-item-radio .row {\n  padding-bottom: 5px;\n}\n.listing article.list-item-radio .edit-link,\n.listing article.list-item-radio .show-more-link,\n.listing article.list-item-radio .show-less-link {\n  display: block;\n  padding: 20px 0 14px;\n  margin: -15px 0 -10px;\n  text-transform: capitalize;\n}\n.listing .show-more-btn {\n  background: #f5f5f5;\n  border-top: 1px solid #ebedef;\n  padding: 0 15px;\n  min-height: 42px;\n  line-height: 42px;\n  text-transform: capitalize;\n}\n.listing .show-more-btn.show-more-top-btn {\n  z-index: 1;\n}\n.listing .show-more-btn.show-more-bottom-btn {\n  position: relative;\n  bottom: env(safe-area-inset-bottom);\n}\n.listing .show-more-btn:first-child,\n.listing .show-more-btn:nth-child(2),\n.listing .show-more-btn:nth-child(3) {\n  border-bottom: 1px solid #ebedef;\n  margin-bottom: -1px;\n}\n.picker-list-row {\n  line-height: 52px;\n  font-size: 1.143rem;\n}\n.picker-list-row .label-module-sm {\n  margin: -2px 9px 0 0;\n  vertical-align: middle;\n}\n.picker-list-row a {\n  color: #000;\n}\n.menu-container-grip {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 20px;\n  padding: 0 0 0 15px;\n  font-size: 14px;\n  font-style: normal;\n  line-height: 68px;\n}\n.menu-container {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 100%;\n  width: 100%;\n  background: #f4f5f6;\n  text-align: center;\n  -webkit-transition-duration: 0.15s;\n  transition-duration: 0.15s;\n}\n.menu-container.on {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.mobile .has-drag-menu .menu-container.on {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.menu-container .context-menu__item {\n  display: inline-block;\n  padding: 18px 0 300px;\n  height: 26px;\n  width: 62px;\n  color: #262626;\n  text-align: center;\n  font-size: 11px;\n  line-height: 18px;\n}\n.menu-container .context-menu__item .icondefault {\n  font-size: 20px;\n  color: #262626;\n}\n.menu-container .context-menu__item.selected-item .icondefault {\n  color: #262626;\n}\n.menu-container .context-menu__item .icon-spinner {\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n}\n.menu-container .context-menu__item .icon-spinner .icon-spinner-path {\n  fill: #262626;\n}\n.menu-container .grip {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  line-height: 68px;\n  width: 16px;\n  padding: 0 2px 0 10px;\n  font-size: 14px;\n  color: #262626;\n}\n.menu-container .box__context-menu {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  justify-content: center;\n}\n.menu-container .box__context-menu .context-menu__no-options {\n  padding: 10px;\n}\n.menu-container .box__context-menu .disabled {\n  opacity: 0.2;\n}\n.menu-container .action-label {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.mobile .menu-container {\n  top: -1px;\n  border-top: solid 1px #ebedef;\n}\n.mobile .menu-container .box__context-menu {\n  position: absolute;\n}\n.mobile .menu-container a {\n  width: 72px;\n}\n.mobile .menu-container-grip + .menu-container .box__context-menu {\n  position: inherit;\n}\n.error-box {\n  padding: 18px 15px 20px;\n  background-color: transparent;\n  font-weight: bold;\n  color: #fff;\n}\n/* Related Actions List\n------------------------- */\n.box__related-actions {\n  margin: 0;\n  padding: 0;\n}\n.box__related-actions .related-action__item {\n  list-style: none;\n  padding: 0 0 0 10px;\n  line-height: 39px;\n  border-bottom: 1px solid #ebedef;\n  min-height: 40px;\n  position: relative;\n}\n.box__related-actions .related-action__item:last-child {\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.box__related-actions .related-action__item.selected-item {\n  background-color: #ededed;\n}\n.box__related-actions .related-action__item .related-action-item__link {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 40px;\n  color: #000;\n  font-size: 1.071rem;\n  text-decoration: none;\n}\n.box__related-actions .related-action__item .label-module-sm {\n  margin: 0 6px -6px 0;\n}\n.box__related-actions .related-action__item .more {\n  position: absolute;\n  top: 0;\n  right: 10px;\n  line-height: inherit;\n}\n.box__related-actions .related-action__item .related-action-item__add {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 40px;\n  padding: 0;\n  text-align: center;\n  text-indent: 3px;\n  font-size: 0.857rem;\n  color: #525252;\n}\n.box__related-actions .related-action__item.related-action__item_empty .related-action-item__link {\n  color: rgba(0, 0, 0, 0.3);\n}\n.brand {\n  background: url('+n(427)+') 50% 50% no-repeat;\n  background-size: contain;\n  text-indent: -7000px;\n  overflow: hidden;\n  margin: 15px auto;\n  width: 240px;\n  height: 80px;\n}\n/* Edit view\n--------------*/\n.scroll {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.scroll .pad {\n  padding-bottom: 1px;\n  min-height: 100%;\n  width: 100%;\n  background: #fff;\n}\n.textarea .scroll .pad {\n  height: 100%;\n}\n.textarea .scroll .pad > textarea {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n}\n#nomad .box__edit.box__edit_readonly .field.field--readonly .textarea-div {\n  color: #111;\n}\n.input-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.input-wrapper input {\n  display: block;\n  width: 100%;\n  padding-right: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  line-height: 1;\n}\n.input-wrapper input:focus {\n  outline: 0;\n  outline-offset: 0;\n}\n.input-wrapper .clear-button {\n  display: none;\n  position: relative;\n  box-sizing: border-box;\n  height: 3.286rem;\n  line-height: 3.286rem;\n  align-self: center;\n  padding: 0 15px 0 20px;\n  margin: -10px -15px -10px 0;\n  font-size: 1.143rem;\n  cursor: pointer;\n  color: #6b7479;\n  z-index: 99;\n}\n.input-wrapper.not-empty input:focus + .clear-button {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.modal-footer {\n  padding: 20px 0 10px;\n  margin-bottom: env(safe-area-inset-bottom);\n  border-top: 1px solid #e8e8e8;\n  text-align: center;\n}\n/* Icons\n------------------------- */\n.btn .icondefault {\n  margin-top: 3px;\n}\nselect {\n  box-sizing: border-box;\n  width: 100%;\n  padding-right: 20px;\n  margin-right: -20px;\n}\nselect + .icondefault,\n.actionsheet-select + .icondefault {\n  float: right;\n  width: 20px;\n  font-size: 18px;\n  text-align: right;\n}\n.icon-size-md {\n  font-size: 20px;\n}\n/* Alerts\n------------------------- */\n.ios .alert {\n  -webkit-transform: translateZ(0);\n}\n.alert {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  min-height: 22px;\n  overflow: hidden;\n  padding: 12px 15px;\n  margin: 0;\n  z-index: 2002;\n  font-size: 1.071rem;\n  background: #f5f5f5;\n  color: #5b5b5b;\n}\n.alert.closeable {\n  padding-right: 38px;\n}\n.alert .icondefault {\n  position: absolute;\n  top: 14px;\n  right: 15px;\n  font-size: 14px;\n  line-height: 1;\n  z-index: 2002;\n}\n.alert a {\n  text-decoration: underline;\n}\n.alert .icon-spinner {\n  display: inline-block;\n  position: absolute;\n  top: 16px;\n  left: 15px;\n  right: auto;\n  width: 14px;\n  height: 14px;\n}\n.alert .icon-spinner .icon-spinner-path {\n  fill: #6b7479;\n}\n.alert .close-icon {\n  top: 50%;\n  margin-top: -9px;\n  font-size: 18px;\n}\n.alert .icon-spinner + .message {\n  padding-left: 24px;\n}\n.alert .message {\n  line-height: 1.3em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  font-weight: lighter;\n}\n#alerts {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: auto;\n  width: 100%;\n  overflow: hidden;\n  z-index: 9998;\n}\n.syncApp #alerts {\n  z-index: 999999;\n}\n.has-pagination #alerts {\n  bottom: 50px;\n  bottom: calc(env(safe-area-inset-bottom) + 50px);\n}\n.tablet #alerts .alert {\n  margin-top: 2px;\n}\n.data-unavailable-label {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  margin-top: -20px;\n  text-align: center;\n}\n/* Alert overrider */\n.alert--warning {\n  background: #fbc02d;\n  color: #fff;\n}\n.alert--warning a {\n  color: #fff;\n}\n.alert--info {\n  background: #0679c8;\n  color: #fff;\n}\n.alert--info a {\n  color: #fff;\n}\n.alert--success {\n  background: #54cb14;\n  color: #fff;\n}\n.alert--success a {\n  color: #fff;\n}\n.alert--error {\n  background: #e61718;\n  color: #fff;\n}\n.alert--error a {\n  color: #fff;\n}\n.alert--load {\n  background: #ecedef;\n  color: #6b7479;\n}\n.alert--load a {\n  color: #6b7479;\n}\n.alert--load .close-icon {\n  color: #6b7479;\n}\n.alert[id^="demo-"] {\n  display: none;\n}\n.layout__error {\n  background: #000;\n}\n/* portrait */\n.portrait .tablet .layout__list .menuBtn {\n  display: block;\n}\n.portrait .tablet #content .menuBtn {\n  display: block;\n}\n.portrait .tablet #content-child {\n  left: 340px;\n}\n.portrait .tablet #content-child .menuBtn {\n  display: none;\n}\n.portrait .tablet #content-child .backBtn {\n  left: 0;\n}\n.portrait .tablet #content-child .offline-status {\n  display: none;\n}\n/* landscape */\n.landscape .tablet #content-child {\n  left: 340px;\n}\n.landscape .tablet #content-child .menuBtn {\n  display: none;\n}\n.landscape .tablet #content-child .offline-status {\n  display: none;\n}\n/* Settings page */\n.page__settings .modal-footer {\n  border-top: none;\n}\n.page__settings .settings__other-fields {\n  margin-bottom: 10px;\n}\n.page__settings .field--bool {\n  overflow: hidden;\n  padding-top: 12px;\n}\n.page__settings .field--bool .field__controls {\n  border-bottom: transparent;\n}\n.page__settings .field--bool .field__label {\n  float: left;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #111;\n}\n.page__settings .field--bool .field__controls {\n  float: right;\n}\n/* Errors page */\n.b-vc-w {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n}\n.b-vc-w::before {\n  content: "";\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n  margin-right: -0.25em;\n}\n.b-vc {\n  display: inline-block;\n  width: 90%;\n  vertical-align: middle;\n}\n.error-message {\n  color: #f00;\n  font-size: 18px;\n}\n/** back to sugar url **/\n.sugar-back-link {\n  color: #000;\n  font-weight: bold;\n  padding: 30px;\n  text-align: center;\n}\n/* cut css3 for android */\n.android .background {\n  opacity: 0;\n}\n.android .field__controls--flex .input-wrapper {\n  overflow: hidden;\n}\n/* input scrolling in Android */\n.bodyScroll,\n.bodyScroll body {\n  overflow: visible;\n}\n.bodyScroll body {\n  background: #fff;\n}\n.bodyScroll.loginView body {\n  min-height: 100%;\n  height: auto;\n  background: #fff;\n}\n.bodyScroll.loginView body .view__login {\n  position: static;\n  background: none;\n}\n.bodyScroll.loginView body #wrapper,\n.bodyScroll.loginView body #content {\n  -webkit-transform: none !important;\n}\n.bodyScroll #menu-left {\n  overflow: hidden;\n  position: absolute;\n}\n.bodyScroll .menu__inner {\n  background: none;\n}\n.bodyScroll #menu-left:not(.hide) + #content {\n  padding-top: 50px;\n}\n.bodyScroll .header-actions {\n  top: 50px;\n}\n.bodyScroll #nomad,\n.bodyScroll #wrapper,\n.bodyScroll #content,\n.bodyScroll #content .layout__def,\n.bodyScroll #content-child,\n.bodyScroll #content-child .layout__def,\n.bodyScroll .box__header,\n.bodyScroll .header__inner,\n.bodyScroll .box__menu,\n.bodyScroll .easy-scroller-parent,\n.bodyScroll .easy-scroller-holder,\n.bodyScroll .scroll {\n  position: static;\n}\n.bodyScroll .header__inner {\n  height: 50px;\n}\n.bodyScroll .scroll {\n  overflow: visible;\n}\n.bodyScroll #alerts {\n  position: fixed;\n}\n.bodyScroll .rotate #alerts {\n  position: absolute;\n}\n.bodyScroll #nomad {\n  -webkit-animation: triggerRepaint 0.4s 1;\n  animation: triggerRepaint 0.4s 1;\n}\n.bodyScroll .dw-modal {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.bodyScroll .actionsheet-overlay {\n  position: fixed;\n}\n.bodyScroll .mobile #wrapper {\n  box-shadow: none;\n}\n.bodyScroll #smartbanner {\n  position: relative !important;\n}\n.ellipsis .label-module-sm {\n  margin-right: 7px;\n}\n/* media query */\n@media screen and (max-width: 767px) {\n  .portrait .tablet.show-content-child #content {\n    width: 44%;\n  }\n  .portrait .tablet #content-child {\n    left: 44%;\n  }\n}\n/* Narrow Tablet Mode */\n.portrait .tablet.narrow-tablet-mode #moduleList {\n  width: 100%;\n}\n.portrait .tablet.narrow-tablet-mode #content {\n  right: 0;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .menuBtn {\n  display: block;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .offline-status {\n  display: block;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .status-success {\n  display: none;\n}\n.portrait .tablet.narrow-tablet-mode.show-content-child #content {\n  display: none;\n}\n.portrait .tablet.narrow-tablet-mode.show-content-child #content-child {\n  left: 0;\n  display: block;\n}\n/* Font Awesome */\n.btn .icondefault,\n.nav-tabs .icondefault {\n  /* keeps button heights with and without icons the same */\n  line-height: 0.9em;\n  vertical-align: baseline;\n}\n.icon-pipeline {\n  width: 1em;\n  height: 1em;\n  background: url('+n(425)+") 50% 50% no-repeat;\n  background-size: contain;\n}\n.rotate {\n  opacity: 0.99;\n}\n.rotate #moduleList {\n  overflow: hidden;\n}\n.desktop .taggable {\n  width: 100% !important;\n}\n/* Tags */\n.layout-detail .tag-item {\n  display: inline-block;\n  padding: 2px 13px 1px;\n  margin: 5px 4px 5px 0;\n  background-color: #fff;\n  border-radius: 11px;\n  font-size: 0.86rem;\n  color: #222;\n}\n/* Setup Buddy */\n.setupbuddy__wrapper {\n  min-height: 100%;\n  background-color: #fff;\n  -webkit-overflow-scrolling: auto;\n}\n.setupbuddy__wrapper .pad {\n  position: relative;\n}\n.setupbuddy__wrapper .sb__text__container {\n  padding-top: 30%;\n  padding-bottom: 200px;\n}\n.landscape .setupbuddy__wrapper .sb__text__container {\n  padding-top: 30px;\n}\n.landscape .setupbuddy__wrapper .sb__text__container .sb__icon {\n  margin-bottom: 20px;\n}\n.setupbuddy__wrapper .sb__text__container .sb__text {\n  min-width: 290px;\n  max-width: 330px;\n  padding: 0 15px;\n  margin: auto;\n  text-align: center;\n}\n.setupbuddy__wrapper .sb__text__container .sb__header {\n  font-size: 17px;\n  font-weight: bold;\n  margin: 10px 0 20px;\n}\n.setupbuddy__wrapper .sb__text__container .sb__icon {\n  margin-bottom: 40px;\n}\n.setupbuddy__wrapper .sb__text__container .icon-touch-id {\n  display: inline-block;\n  width: 95px;\n  height: 95px;\n  background: url("+n(426)+') no-repeat;\n  background-size: contain;\n}\n.setupbuddy__wrapper .sb__text__container .sb__description {\n  margin-top: 10px;\n}\n.setupbuddy__wrapper .sb__footer {\n  position: absolute;\n  bottom: 30px;\n  left: 15px;\n  right: 15px;\n  text-align: center;\n}\n.setupbuddy__wrapper .sb__footer .btn--large {\n  display: block;\n  margin: 20px auto 0;\n  min-width: 290px;\n  max-width: 330px;\n}\n.setupbuddy__wrapper .sb__footer.sb__footer--single {\n  position: static;\n  padding: 0 15px 50px;\n  margin: -100px auto 0;\n}\n/* Elements */\n.el__spinner {\n  width: 38px;\n}\n.el__spinner .spinner__circle {\n  width: 8px;\n  height: 8px;\n  background-color: #ccc;\n  border-radius: 100%;\n  display: inline-block;\n  animation: spinner_bounce 1.4s infinite ease-in-out;\n  animation-fill-mode: both;\n}\n.el__spinner .spinner__circle_1 {\n  animation-delay: -0.32s;\n}\n.el__spinner .spinner__circle_2 {\n  animation-delay: -0.16s;\n}\n.flexbox-row {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-flow: row;\n}\n.flex-1 {\n  flex: 1;\n}\n.overflow {\n  overflow: hidden;\n}\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.clear-both {\n  clear: both;\n}\n.hide {\n  display: none !important;\n}\n.show {\n  display: block;\n}\n.view-holder-hide {\n  display: none !important;\n}\n.invisible {\n  visibility: hidden;\n}\n.tcenter {\n  text-align: center !important;\n}\n.tleft {\n  text-align: left !important;\n}\n.tright {\n  text-align: right !important;\n}\n.brake-lines {\n  white-space: pre-line !important;\n}\n.rotate1 {\n  -webkit-animation: rotation1 0.15s 1 linear;\n  -webkit-transform: rotate(180deg);\n}\n@-webkit-keyframes rotation1 {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(180deg);\n  }\n}\n.rotate2 {\n  -webkit-animation: rotation2 0.15s 1 linear;\n  -webkit-transform: rotate(0deg);\n}\n@-webkit-keyframes rotation2 {\n  from {\n    -webkit-transform: rotate(180deg);\n  }\n  to {\n    -webkit-transform: rotate(0deg);\n  }\n}\n.rotate360 {\n  -webkit-animation: spin 0.7s infinite linear;\n}\n@-webkit-keyframes spin {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(359deg);\n  }\n}\n.pull-to-refresh {\n  z-index: -1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  background: #f0f2f5;\n  height: 100%;\n  min-height: 50%;\n  padding-top: 23px;\n  text-align: center;\n}\n.pull-to-refresh .ptr__wrap-spinner {\n  position: relative;\n  width: 28px;\n  height: 28px;\n  margin: 0 auto;\n}\n.pull-to-refresh .ptr__spinner {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n@-webkit-keyframes animationScale {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n.animation--scale-once {\n  animation: animationScale 0.4s linear;\n  -webkit-animation: animationScale 0.4s linear;\n  -webkit-animation-iteration-count: 1;\n  -webkit-animation-fill-mode: forwards;\n}\nhtml {\n  direction: ltr;\n}\n.rtl {\n  direction: rtl;\n  /* header */\n  /* search */\n  /* filter Box */\n  /* list view */\n  /* detail view */\n  /* edit view */\n  /* Lead conversion */\n  /* dashlets */\n  /* alerts */\n  /* tutorial */\n  /* portrait */\n  /* landscape */\n  /* Offline Stats page */\n}\n.rtl .backBtn,\n.rtl .menuBtn,\n.rtl .offline-status,\n.rtl .dashHomeBtn {\n  float: right;\n}\n.rtl .backBtn {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .createBtn,\n.rtl .searchBtn {\n  float: left;\n}\n.rtl .label-module-sm.has-icon-inside .label-module-sm_title {\n  right: 4px;\n}\n.rtl .box__header .saveBtn,\n.rtl .box__menu .saveBtn {\n  padding-left: 0;\n}\n.rtl .box__header .right-menu .icondefault,\n.rtl .box__menu .right-menu .icondefault {\n  margin: 0 -2px 0 8px;\n}\n.rtl .box__header .menu__item .menu-item__icon,\n.rtl .box__menu .menu__item .menu-item__icon,\n.rtl .box__header .menu__item .label-module-sm,\n.rtl .box__menu .menu__item .label-module-sm,\n.rtl .box__header .menu__item .user-icon,\n.rtl .box__menu .menu__item .user-icon {\n  margin: -6px 0 -6px 7px;\n}\n.rtl .box__header.has-edit-button.has-search .header__title {\n  left: 110px;\n  right: 80px;\n}\n.rtl #menu-left .menu__inner .menu__item .menu-item__link .user-icon {\n  margin-left: 5px;\n  margin-right: 0;\n}\n.rtl .view__search-box .search-query {\n  padding: 0 44px 0 35px;\n}\n.rtl .view__search-box .view__search-box__actions {\n  left: 10px;\n  right: auto;\n}\n.rtl .view__search-box .clear-button {\n  right: auto;\n  left: 0;\n}\n.rtl .view__search-box .box__search-icon {\n  right: 15px;\n  left: auto;\n}\n.rtl .view__search-box .icon-spinner {\n  right: 15px;\n  left: auto;\n}\n.rtl .view__search-box .favoriteable {\n  padding-left: 134px;\n}\n.rtl .view__search-box .favoriteable .search-query {\n  padding-left: 95px;\n}\n.rtl .view__search-box .favoriteable .clear-button {\n  left: 70px;\n  right: auto;\n}\n.rtl .view__search-box .hidden-my-items {\n  padding-left: 74px;\n}\n.rtl .taggable-dropdown .label-module-sm {\n  margin: 0 0 0 10px;\n}\n.rtl .box__filter .filter__item-sort {\n  margin-left: 0;\n  margin-right: -1px;\n}\n.rtl .dropdown.dropdown__filter {\n  left: auto;\n  right: 7px;\n}\n.rtl .dropdown.dropdown__sortBy {\n  left: 7px;\n  right: auto;\n}\n.rtl .filters-wrap {\n  padding-right: 15px;\n  padding-left: 5px;\n}\n.rtl .filter {\n  padding-right: 0;\n  padding-left: 20px;\n}\n.rtl .listing article {\n  padding: 8px 15px 8px 8px;\n}\n.rtl .listing article.has-grip {\n  padding-left: 32px;\n}\n.rtl .listing article.item-checkbox {\n  padding-left: 32px;\n}\n.rtl .listing article.list-item-radio {\n  padding: 11px 46px 11px 15px;\n}\n.rtl .listing article.list-item-radio .radio-icon {\n  right: 15px;\n  left: auto;\n}\n.rtl .menu-container-grip {\n  left: 0;\n  right: auto;\n  padding: 0 15px 0 0;\n}\n.rtl .menu-container {\n  left: auto;\n  right: 100%;\n}\n.rtl .menu-container.on {\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.rtl .menu-container .grip {\n  right: 0;\n  left: auto;\n  padding: 0 10px 0 2px;\n}\n.rtl .listing .list-view-item .module-name,\n.rtl .listing .parent-item .module-name,\n.rtl .listing .list-item .module-name,\n.rtl .listing .list-view-item .module-name-comma,\n.rtl .listing .parent-item .module-name-comma,\n.rtl .listing .list-item .module-name-comma {\n  float: right;\n}\n.rtl .listing article.item-checkbox .asscacct,\n.rtl .listing article.item-checkbox .checkbox-icon {\n  left: 0;\n  right: auto;\n}\n.rtl .picker-list-row .label-module-sm {\n  margin: -2px 0 0 9px;\n}\n.rtl .view__detail .avatar,\n.rtl .view__detail .label-module-sm {\n  left: auto;\n  right: 17px;\n}\n.rtl .view__detail .input_upload {\n  left: auto;\n  right: 0;\n}\n.rtl .view__detail .box_detail__title {\n  left: 30px;\n  right: 90px;\n}\n.rtl .view__detail .favorite-icon {\n  left: 0;\n  right: auto;\n}\n.rtl .field-detail {\n  padding: 10px 120px 11px 10px;\n}\n.rtl .field-detail .field-detail__label {\n  float: right;\n  margin-left: auto;\n  margin-right: -109px;\n}\n.rtl .box__related-actions .related-action__item {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .box__related-actions .related-action__item .related-action-item__link {\n  padding-left: 44px;\n  padding-right: 0;\n}\n.rtl .box__related-actions .related-action__item .label-module-sm {\n  margin-right: 0;\n  margin-left: 9px;\n}\n.rtl .box__related-actions .related-action__item .records-count {\n  display: inline-block;\n}\n.rtl .box__related-actions .related-action__item .related-action-item__add {\n  left: 0;\n  right: auto;\n}\n.rtl .box__related-actions .related-action__item .more {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n  left: 10px;\n  right: auto;\n}\n.rtl .btn-group .btn {\n  float: right;\n  border-radius: 0;\n}\n.rtl .btn-group .btn:last-child {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .field .field__controls .checkbox_custom + .checkbox-icon {\n  margin: 4px -65% 0 0;\n}\n.rtl .field input:not([type="checkbox"]),\n.rtl .field textarea,\n.rtl .field select {\n  padding-right: 0;\n  text-align: right;\n}\n.rtl .field select {\n  margin-right: 0;\n  margin-left: -20px;\n  padding-right: 0;\n  padding-left: 20px;\n}\n.rtl .field .horizontal-fieldset .field .field__controls {\n  float: none;\n  margin: 0;\n}\n.rtl .field--datetime .date {\n  float: right;\n  margin-right: 0;\n  margin-left: 10px;\n  border-right: none;\n}\n.rtl .field--datetime .date input {\n  padding-left: 0;\n}\n.rtl .field--datetime .time {\n  float: right;\n  border-width: 0 1px 0 0;\n}\n.rtl .field--datetime .time input {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .field--datetime .field__controls.field__controls--has-btns {\n  padding-left: 1.5rem;\n  padding-right: 0;\n}\n.rtl .field--datetime .btn-group {\n  right: auto;\n  left: 0;\n}\n.rtl .field--file .picture-wrap {\n  float: right;\n}\n.rtl .field--file .picture-wrap .picture-icon + .placeholder {\n  margin-left: 0;\n  margin-right: 35px;\n}\n.rtl .field--radio .field__controls .btn {\n  left: 0;\n}\n.rtl .field--currency .field__controls .selector {\n  margin-left: 10px;\n  margin-right: 0;\n  border-width: 0 0 0 1px;\n}\n.rtl .field--currency .field__controls .selector select {\n  padding: 0 15px 0 0;\n  margin-left: 0;\n}\n.rtl .box__link-duplicates {\n  padding: 12px 15px 12px 40px;\n}\n.rtl .box__link-duplicates .icondefault {\n  right: auto;\n  left: 0;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .dashboard,\n.rtl .pagination__bar {\n  direction: ltr;\n}\n.rtl .dashlets__list,\n.rtl .dashlet__b {\n  direction: rtl;\n}\n.rtl .as__detail {\n  padding: 8px 50px 8px 28px;\n}\n.rtl .as__detail .as__icon .icondefault {\n  margin-right: 0;\n}\n.rtl .as__detail .label-module-sm,\n.rtl .as__detail .as__icon {\n  float: right;\n  margin: 4px -36px 0 0;\n}\n.rtl .comments-container {\n  margin-left: 0;\n  margin-right: 46px;\n}\n.rtl .comment__item {\n  padding: 6px 38px 6px 10px;\n}\n.rtl .comment__item .user-icon {\n  float: right;\n  margin: 4px -38px 0 0;\n}\n.rtl .tb__detail {\n  padding-left: 0;\n  padding-right: 35px;\n}\n.rtl .tb__detail .tb__icon {\n  float: right;\n  margin-left: 0;\n  margin-right: -35px;\n}\n.rtl .chart {\n  direction: ltr;\n}\n.rtl .learning-resources .resource-list .resource .resource-info {\n  margin-right: 44px;\n  margin-left: 0;\n}\n.rtl .alert.closeable {\n  padding-left: 38px;\n  padding-right: 15px;\n}\n.rtl .alert .icondefault {\n  right: auto;\n  left: 15px;\n}\n.rtl .alert .icon-spinner {\n  right: 15px;\n  left: auto;\n}\n.rtl .alert .icon-spinner + .message {\n  padding: 0 24px 0 0;\n}\n.rtl #tutorial {\n  direction: ltr;\n}\n.rtl .view__login .icon-spinner {\n  margin-right: 0;\n  margin-left: 2px;\n}\n.rtl .page__offline .offline-list__item .more {\n  left: 10px;\n  right: auto;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .page__offline .offline__start-stop-btn {\n  float: left;\n  margin-left: 0;\n  margin-right: 8px;\n}\n.rtl .page__offline .offline__control-group .offline__checkbox-data {\n  float: left;\n}\n.rtl .page__offline .offline__control-group .offline__checkbox-data .checkbox-icon {\n  margin-left: 0;\n}\n.rtl .mobile .right-menu {\n  left: 0;\n  right: 14%;\n}\n.rtl .tablet .right-menu {\n  left: 0;\n  right: auto;\n}\n.rtl .tablet .right-menu__corner {\n  left: 10px;\n  right: auto;\n}\n.rtl .tablet #wrapper {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.rtl .tablet #content .overlay__right-menu {\n  left: 0;\n  right: -56px;\n}\n.rtl.portrait .tablet.narrow-tablet-mode.show-content-child #content-child {\n  right: 0;\n}\n.rtl.portrait .tablet #moduleList {\n  -webkit-transform: translate(100%, 0, 0);\n  transform: translate(100%, 0, 0);\n}\n.rtl.portrait .tablet #content-child {\n  left: 0;\n  right: 340px;\n}\n.rtl.portrait .tablet #content-child .backBtn {\n  left: 0;\n  right: 0;\n}\n.rtl.landscape .tablet #content-child {\n  left: 0;\n  right: 340px;\n}\n.rtl select + .icondefault {\n  float: left;\n  text-align: left;\n}\n.rtl .table th,\n.rtl .table td {\n  text-align: right;\n}\n.rtl .pull-right {\n  float: left;\n}\n.rtl .pull-left {\n  float: right;\n}\n.rtl .input-wrapper .clear-button {\n  padding: 0 20px 0 15px;\n  margin-right: 0;\n  margin-left: -15px;\n}\n.rtl .checkbox-icon {\n  text-align: right;\n}\n.rtl .page__offline .td-count {\n  text-align: left;\n}\n.rtl .page__offline .td-count .lbl-count {\n  float: left;\n}\n.rtl .page__offline .td-count .icons {\n  padding-left: 7px;\n  margin-right: 3px;\n}\n@media screen and (max-width: 767px) {\n  .rtl.portrait .tablet #content-child {\n    right: 44%;\n    left: 0;\n  }\n}\n.brand {\n  width: 224px;\n  height: 60px;\n}\n.view__login .control-ssl {\n  opacity: 1;\n}\n.view__login .control-ssl .icondefault {\n  color: #0679c8;\n}\n.view__login .login__links .separator {\n  opacity: 1;\n  background: #91969f;\n}\n.view__login .login__links .login-links__link {\n  color: #0679c8;\n}\n.view__login .login__links .login-links__link.selected-item {\n  color: #005088;\n}\n#overlay.spinner {\n  color: #9aa5ad;\n}\n#overlay.spinner .icon-spinner-path {\n  fill: #9aa5ad;\n}\n',""])},function(e,t){(function(){if(this.JpegMeta){throw Error("Library included multiple times")}var e={};e.stringIsClean=function e(t){for(var n=0;n<t.length;n++){if(t.charCodeAt(n)<32){return false}}return true};e.parseNum=function e(t,n,i,a){var r;var s;var o=t===">";if(i===undefined)i=0;if(a===undefined)a=n.length-i;for(o?r=i:r=i+a-1;o?r<i+a:r>=i;o?r++:r--){s<<=8;s+=n.charCodeAt(r)}return s};e.parseSnum=function e(t,n,i,a){var r;var s;var o;var l=t===">";if(i===undefined)i=0;if(a===undefined)a=n.length-i;for(l?r=i:r=i+a-1;l?r<i+a:r>=i;l?r++:r--){if(o===undefined){o=(n.charCodeAt(r)&128)===128}s<<=8;s+=o?~n.charCodeAt(r)&255:n.charCodeAt(r)}if(o){s+=1;s*=-1}return s};e.Rational=function e(t,n){this.num=t;this.den=n||1;return this};e.Rational.prototype.toString=function e(){if(this.num===0){return""+this.num}if(this.den===1){return""+this.num}if(this.num===1){return this.num+" / "+this.den}return this.num/this.den};e.Rational.prototype.asFloat=function e(){return this.num/this.den};e.MetaGroup=function e(t,n){this.fieldName=t;this.description=n;this.metaProps={};return this};e.MetaGroup.prototype._addProperty=function t(n,i,a){var r=new e.MetaProp(n,i,a);if(typeof this[r.fieldName]=="undefined"){this[r.fieldName]=r;this.metaProps[r.fieldName]=r}else{var s=this[r.fieldName];var o=this.metaProps[r.fieldName];if(!Array.isArray(s)){this[r.fieldName]=new Array;this[r.fieldName].push(s);this[r.fieldName].push(r);this.metaProps[r.fieldName]=new Array;this.metaProps[r.fieldName].push(s);this.metaProps[r.fieldName].push(r)}else{s.push(r);o.push(r)}}};e.MetaGroup.prototype.toString=function e(){return"[MetaGroup "+this.description+"]"};e.MetaProp=function e(t,n,i){this.fieldName=t;this.description=n;this.value=i;return this};e.MetaProp.prototype.toString=function e(){return""+this.value};this.JpegMeta=e;this.JpegMeta.JpegFile=function t(n,i){var a=this._SOS;this.metaGroups={};this._binary_data=n;this.filename=i;var r=0;var s=0;var o;var l;var c;var u;var d;var f;var p;if(this._binary_data.slice(0,2)!==this._SOI_MARKER){throw new Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".")}r+=2;while(r<this._binary_data.length){o=this._binary_data.charCodeAt(r++);l=this._binary_data.charCodeAt(r++);s=r;if(o!=this._DELIM){break}if(l===a){break}d=e.parseNum(">",this._binary_data,r,2);r+=d;while(r<this._binary_data.length){o=this._binary_data.charCodeAt(r++);if(o==this._DELIM){c=this._binary_data.charCodeAt(r++);if(c!=0){r-=2;break}}}u=r-s;if(this._markers[l]){f=this._markers[l][0];p=this._markers[l][1]}else{f="UNKN";p=undefined}if(p){this[p](l,s+2,u-2)}}if(this.general===undefined){throw Error("Invalid JPEG file.")}return this};this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"};this.JpegMeta.JpegFile.prototype._SOI_MARKER="";this.JpegMeta.JpegFile.prototype._DELIM=255;this.JpegMeta.JpegFile.prototype._EOI=217;this.JpegMeta.JpegFile.prototype._SOS=218;this.JpegMeta.JpegFile.prototype._sofHandler=function t(n,i){if(this.general!==undefined){throw Error("Unexpected multiple-frame image")}this._addMetaGroup("general","General");this.general._addProperty("depth","Depth",e.parseNum(">",this._binary_data,i,1));this.general._addProperty("pixelHeight","Pixel Height",e.parseNum(">",this._binary_data,i+1,2));this.general._addProperty("pixelWidth","Pixel Width",e.parseNum(">",this._binary_data,i+3,2));this.general._addProperty("type","Type",this._markers[n][2])};this.JpegMeta.JpegFile.prototype._commentHandler=function e(t,n,i){var a,r;n++;i--;a=n;r="";while(a<n+i){r+=String.fromCharCode(this._binary_data.charCodeAt(a));a++}this._addMetaGroup("comment","Comment");this.comment._addProperty("comment","Comment",r)};this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\0";this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\0";this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\0";this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]};this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip","StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make","Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]};this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient","OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response","SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode","Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41989:["Focal length in 35 mm film","FocalLengthIn35mmFilm"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]};this.JpegMeta.JpegFile.prototype._gpstags={0:["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision","GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]};this.JpegMeta.JpegFile.prototype._iptctags={0:["Record Version","recordVersion"],3:["Object Type Reference","objectType"],4:["Object Attribute Reference","objectAttribute"],5:["Object Name","objectName"],7:["Edit Status","editStatus"],8:["Editorial Update","editorialUpdate"],10:["Urgency","urgency"],12:["Subject Reference","subjectRef"],15:["Category","category"],20:["Supplemental Category","supplCategory"],22:["Fixture Identifier","fixtureID"],25:["Keywords","keywords"],26:["Content Location Code","contentLocCode"],27:["Content Location Name","contentLocName"],30:["Release Date","releaseDate"],35:["Release Time","releaseTime"],37:["Expiration Date","expirationDate"],38:["Expiration Time","expirationTime"],40:["Special Instructions","specialInstructions"],42:["Action Advised","actionAdvised"],45:["Reference Service","refService"],47:["Reference Date","refDate"],50:["Reference Number","refNumber"],55:["Date Created","dateCreated"],60:["Time Created","timeCreated"],62:["Digital Creation Date","digitalCreationDate"],63:["Digital Creation Time","digitalCreationTime"],65:["Originating Program","originatingProgram"],70:["Program Version","programVersion"],75:["Object Cycle","objectCycle"],80:["By-line","byline"],85:["By-line Title","bylineTitle"],90:["City","city"],92:["Sub-location","sublocation"],95:["Province/State","state"],100:["Country Code","countryCode"],101:["Country Name","countryName"],103:["Original Transmission Reference","origTransRef"],105:["Headline","headline"],110:["Credit","credit"],115:["Source","source"],116:["Copyright Notice","copyrightNotice"],118:["Contact","contact"],120:["Caption/Abstract","caption"],122:["Writer/Editor","writerEditor"],125:["Rasterized Caption","rasterizedCaption"],130:["Image Type","imageType"],131:["Image Orientation","imageOrientation"],135:["Language Identifier","languageID"],150:["Audio Type","audioType"],151:["Audio Sampling Rate","audioSamplingRate"],152:["Audio Sampling Resolution","audioSamplingRes"],153:["Audio Duration","audioDuration"],154:["Audio Outcue","audioOutcue"],200:["Preview File Format","previewFileFormat"],201:["Preview File Format Version","previewFileFormatVer"],202:["Preview Data","previewData"]};this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count 0"],209:["RST1",null,"Restart with modulo 8 count 1"],210:["RST2",null,"Restart with modulo 8 count 2"],211:["RST3",null,"Restart with modulo 8 count 3"],212:["RST4",null,"Restart with modulo 8 count 4"],213:["RST5",null,"Restart with modulo 8 count 5"],214:["RST6",null,"Restart with modulo 8 count 6"],215:["RST7",null,"Restart with modulo 8 count 7"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["IPTC","_iptcHandler","IPTC Photo Metadata"],238:["APP14",null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM","_commentHandler","Comment"],1:["JPG13",null]};this.JpegMeta.JpegFile.prototype._addMetaGroup=function t(n,i){var a=new e.MetaGroup(n,i);this[a.fieldName]=a;this.metaGroups[a.fieldName]=a;return a};this.JpegMeta.JpegFile.prototype._parseIfd=function t(n,i,a,r,s,o,l){var c=e.parseNum(n,i,a+r,2);var u;var d;var f,p,h;var m;var _;var g;var v;var b;var y;var x;x=this._addMetaGroup(o,l);for(var w=0;w<c;w++){u=a+r+2+w*12;d=e.parseNum(n,i,u,2);p=e.parseNum(n,i,u+2,2);m=e.parseNum(n,i,u+4,4);_=e.parseNum(n,i,u+8,4);if(this._types[p]===undefined){continue}f=this._types[p][0];h=this._types[p][1];if(h*m<=4){_=u+8}else{_=a+_}if(f=="UNDEFINED"){g=undefined}else if(f=="ASCII"){g=i.slice(_,_+m);g=g.split("\0")[0];if(!e.stringIsClean(g)){g=""}}else{g=new Array;for(var S=0;S<m;S++,_+=h){if(f=="BYTE"||f=="SHORT"||f=="LONG"){g.push(e.parseNum(n,i,_,h))}if(f=="SBYTE"||f=="SSHORT"||f=="SLONG"){g.push(e.parseSnum(n,i,_,h))}if(f=="RATIONAL"){b=e.parseNum(n,i,_,4);y=e.parseNum(n,i,_+4,4);g.push(new e.Rational(b,y))}if(f=="SRATIONAL"){b=e.parseSnum(n,i,_,4);y=e.parseSnum(n,i,_+4,4);g.push(new e.Rational(b,y))}g.push()}if(m===1){g=g[0]}}if(s.hasOwnProperty(d)){x._addProperty(s[d][1],s[d][0],g)}else{console.log("WARNING(jpegmeta.js): Unknown tag: ",d)}}};this.JpegMeta.JpegFile.prototype._jfifHandler=function t(n,i){if(this.jfif!==undefined){throw Error("Multiple JFIF segments found")}this._addMetaGroup("jfif","JFIF");this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(i+5));this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(i+6));this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value);this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(i+7));this.jfif._addProperty("Xdensity","X density",e.parseNum(">",this._binary_data,i+8,2));this.jfif._addProperty("Ydensity","Y Density",e.parseNum(">",this._binary_data,i+10,2));this.jfif._addProperty("Xthumbnail","X Thumbnail",e.parseNum(">",this._binary_data,i+12,1));this.jfif._addProperty("Ythumbnail","Y Thumbnail",e.parseNum(">",this._binary_data,i+13,1))};this.JpegMeta.JpegFile.prototype._app0Handler=function e(t,n){var i=this._binary_data.slice(n,n+5);if(i==this._JFIF_IDENT){this._jfifHandler(t,n)}else if(i==this._JFXX_IDENT){}else{}};this.JpegMeta.JpegFile.prototype._app1Handler=function e(t,n){var i=this._binary_data.slice(n,n+5);if(i==this._EXIF_IDENT){this._exifHandler(t,n+6)}else{}};e.JpegFile.prototype._exifHandler=function t(n,i){if(this.exif!==undefined){throw new Error("Multiple JFIF segments found")}var a;var r;var s;var o,l,c;var u=this._binary_data.slice(i,i+2);if(u==="II"){a="<"}else if(u==="MM"){a=">"}else{throw new Error("Malformed TIFF meta-data. Unknown endianess: "+u)}r=e.parseNum(a,this._binary_data,i+2,2);if(r!==42){throw new Error("Malformed TIFF meta-data. Bad magic: "+r)}s=e.parseNum(a,this._binary_data,i+4,4);this._parseIfd(a,this._binary_data,i,s,this._tifftags,"tiff","TIFF");if(this.tiff.ExifIfdPointer){this._parseIfd(a,this._binary_data,i,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif")}if(this.tiff.GPSInfoIfdPointer){this._parseIfd(a,this._binary_data,i,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS");if(this.gps.GPSLatitude){var d;d=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat();if(this.gps.GPSLatitudeRef.value==="S"){d=-d}this.gps._addProperty("latitude","Dec. Latitude",d)}if(this.gps.GPSLongitude){var f;f=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat();if(this.gps.GPSLongitudeRef.value==="W"){f=-f}this.gps._addProperty("longitude","Dec. Longitude",f)}}};this.JpegMeta.JpegFile.prototype._iptcHandler=function t(n,i,a){this._addMetaGroup("iptc","IPTC");var r="<";var s,o,l,c,u;var d=e.parseNum(r,this._binary_data,i+4,1);var f=28,p=2;for(var h=0;h<a;h++){o=i+h;if(e.parseNum(r,this._binary_data,o,1)==p){u=e.parseNum(r,this._binary_data,o+1,1);tag_desc=this._iptctags[u];if(!tag_desc)continue;d=0;s=2;while(s<a&&e.parseNum(r,this._binary_data,o+s,1)!=f&&e.parseNum(r,this._binary_data,o+s+1,1)!=p){s++;d++}if(!d)continue;c=this._binary_data.slice(i+h+2,i+h+2+d);c=c.replace("\0","").trim();this.iptc._addProperty(tag_desc[1],tag_desc[0],c);h+=d-1}}}}).call(window);e.exports=JpegMeta},function(e,t,n){e.exports=n.p+"../font/OpenSans-Bold.ttf"},function(e,t,n){e.exports=n.p+"../font/OpenSans-Regular.ttf"},function(e,t,n){e.exports=n.p+"../font/OpenSans-Semibold.ttf"},function(e,t,n){e.exports=n.p+"../font/fontawesome-webfont.ttf"},function(e,t,n){e.exports=n.p+"../img/icon-pipeline.svg"},function(e,t,n){e.exports=n.p+"../img/icon-touchid.svg"},function(e,t,n){e.exports=n.p+"../img/logo-login.svg"},function(e,t,n){e.exports=n.p+"../img/pattern-tiled.svg"},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'    <article data-id="'+e.escapeExpression((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="activitystream-item">\n        <div class="as__detail">\n'+((r=n["with"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"with",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </article>\n"},2:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'                <span class="label-module-sm label-'+c((r=(r=n.display_parent_type||(t!=null?t.display_parent_type:t))!=null?r:o,typeof r===l?r.call(s,{name:"display_parent_type",hash:{},data:a}):r))+'">'+c((n.moduleIconLabel||t&&t.moduleIconLabel||o).call(s,t!=null?t.display_parent_type:t,{name:"moduleIconLabel",hash:{},data:a}))+'</span>\n                <div class="as__title">\n                    '+c((n.activityItem||t&&t.activityItem||o).call(s,t,{name:"activityItem",hash:{},data:a}))+'\n                </div>\n                <div class="as__info">\n                    <a href="#Users/'+c((r=(r=n.created_by||(t!=null?t.created_by:t))!=null?r:o,typeof r===l?r.call(s,{name:"created_by",hash:{},data:a}):r))+'">'+c((n.str||t&&t.str||o).call(s,t!=null?t.created_by_name:t,{name:"str",hash:{},data:a}))+"</a> "+c((n.relativeTime||t&&t.relativeTime||o).call(s,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:a}))+"\n                </div>\n"},4:function(e,t,n,i,a){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=(n.isActivityItemValid||t&&t.isActivityItemValid||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"isActivityItemValid",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="panel__addpost">\n    <a href="javascript:void(0)" class="panel-addpost-link fast-click-highlighted">'+c((n.str||t&&t.str||l).call(o,"LBL_COMMENT_ADD",{name:"str",hash:{},data:a}))+'</a>\n</div>\n\n<div class="listing" id="listing-'+c((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"module",hash:{},data:a}):s))+'">\n    '+c((n.partial||t&&t.partial||l).call(o,"list-no-records",t,{name:"partial",hash:{},data:a}))+"\n    "+c((n.partial||t&&t.partial||l).call(o,"list-show-more-top",t,{name:"partial",hash:{},data:a}))+'\n    <div class="items">\n        '+c((n.listItems||t&&t.listItems||l).call(o,(r=t!=null?t.collection:t)!=null?r.models:r,t,{name:"listItems",hash:{},data:a}))+"\n    </div>\n    "+c((n.partial||t&&t.partial||l).call(o,"list-show-more-bottom",t,{name:"partial",hash:{},data:a}))+"\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'        <div class="as__detail">\n            <a href="#Users/'+u((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===c?s.call(o,{name:"created_by",hash:{},data:a}):s))+'/edit" class="as__icon">'+u((n.userPicture||t&&t.userPicture||l).call(o,t!=null?t.created_by:t,{name:"userPicture",hash:{},data:a}))+'</a>\n            <div class="as__title">\n                '+u((n.comment||t&&t.comment||l).call(o,(r=t!=null?t.data:t)!=null?r.value:r,(r=t!=null?t.data:t)!=null?r.tags:r,{name:"comment",hash:{},data:a}))+'\n            </div>\n            <div class="as__info">\n                <a href="#Users/'+u((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===c?s.call(o,{name:"created_by",hash:{},data:a}):s))+'">'+u((n.str||t&&t.str||l).call(o,t!=null?t.created_by_name:t,{name:"str",hash:{},data:a}))+"</a> "+u((n.relativeTime||t&&t.relativeTime||l).call(o,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:a}))+"\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="activitystream-item">\n'+((r=n["with"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"with",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    "+c((n.partial||t&&t.partial||l).call(o,"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,c="function";return"<p>"+l((n.str||t&&t.str||o).call(s,"LBL_CREATED","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.assigned_user_name||(t!=null?t.assigned_user_name:t))!=null?r:o,typeof r===c?r.call(s,{name:"assigned_user_name",hash:{},data:a}):r))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_LIKELY","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.amount||(t!=null?t.amount:t))!=null?r:o,typeof r===c?r.call(s,{name:"amount",hash:{},data:a}):r))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_DATE_CLOSED","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.close_date||(t!=null?t.close_date:t))!=null?r:o,typeof r===c?r.call(s,{name:"close_date",hash:{},data:a}):r))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_PROBABILITY","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.probability||(t!=null?t.probability:t))!=null?r:o,typeof r===c?r.call(s,{name:"probability",hash:{},data:a}):r))+"%</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_ACCOUNTS",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.account_name||(t!=null?t.account_name:t))!=null?r:o,typeof r===c?r.call(s,{name:"account_name",hash:{},data:a}):r))+"</b></p>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="chart">\n    <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</span>\n    <div class="sc-chart"></div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return'        <div class="filters-wrap">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},(o=t!=null?t.viewState:t)!=null?o.filtersDef:o,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n"},2:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing;return'                <div class="filter '+((o=(l=(l=n.name||(t!=null?t.name:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"name",hash:{},data:a}):l))!=null?o:"")+'">\n                    '+e.escapeExpression((n.field||t&&t.field||u).call(c,s[1],{name:"field",hash:{parent:s[1],model:(o=s[1]!=null?s[1].viewState:s[1])!=null?o.filters:o},data:a}))+"\n                </div>\n"},4:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.viewState:t)!=null?r.visibility:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:""},5:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="visibility-switcher">\n                <button class="visibility-switcher__btn '+((r=n["if"].call(s,(r=t!=null?t.viewState:t)!=null?r.myItemsOnly:r,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" data-value="user" track="click:mine">'+l((n.icon||t&&t.icon||o).call(s,"sorting.myItemsOnly",{name:"icon",hash:{},data:a}))+'</button>\n                <button class="visibility-switcher__btn '+((r=n.unless.call(s,(r=t!=null?t.viewState:t)!=null?r.myItemsOnly:r,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" data-value="group" track="click:all">'+l((n.icon||t&&t.icon||o).call(s,"sorting.teamItems",{name:"icon",hash:{},data:a}))+"</button>\n            </div>\n"},6:function(e,t,n,i,a){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="dashlet-options">\n    <div class="dashlet-options_bigbar">\n'+((o=n["if"].call(l,(o=t!=null?t.viewState:t)!=null?o.filtersDef:o,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"    </div>\n"+((o=n["if"].call(l,t!=null?t.isManager:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=e.lambda,l=e.escapeExpression;return'        <div class="chart-metric">\n            <span class="label '+l(o((r=t!=null?t.value:t)!=null?r.cssClass:r,t))+'">'+l(o((r=t!=null?t.value:t)!=null?r.count:r,t))+'</span>\n            <div class="metric-amount '+l((s=(s=n.key||(t!=null?t.key:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"key",hash:{},data:a}):s))+'">'+l(o((r=t!=null?t.value:t)!=null?r.formattedAmount:r,t))+'</div>\n            <div class="metric-description">'+l(o((r=t!=null?t.value:t)!=null?r.stageLabel:r,t))+"</div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return'<div class="donut-chart">\n    <div class="sc-chart"></div>\n    <div class="donut-chart-metric-container">\n'+((r=(n.eachOptions||t&&t.eachOptions||o).call(s,t!=null?t.metricsCollection:t,{name:"eachOptions",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    </div>\n    <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"has-grip"},3:function(e,t,n,i,a){var r;return'<span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.model:t)!=null?r.module:r,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>'},5:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression,l=t!=null?t:e.nullContext||{};return'                <div class="tb__info">\n                    <a href="#Users/'+((r=s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'">'+o(s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_name:r,t))+"</a>\n                    "+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(l,n.lookup.call(l,(r=t!=null?t.model:t)!=null?r.attributes:r,"date_entered",{name:"lookup",hash:{},data:a}),{name:"relativeTime",hash:{},data:a}))+"\n                </div>\n"},7:function(e,t,n,i,a){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===c?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" module="'+u((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===c?s.call(o,{name:"moduleName",hash:{},data:a}):s))+'"\n         class="list-item fast-click-highlighted '+((r=n["if"].call(o,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'"\n         track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="txt '+u((s=(s=n.detailsCss||(t!=null?t.detailsCss:t))!=null?s:l,typeof s===c?s.call(o,{name:"detailsCss",hash:{},data:a}):s))+'">\n        <div class="tb__detail">\n            <a href="#Users/'+((r=e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'" class="tb__icon">\n                '+u((n.userPicture||t&&t.userPicture||l).call(o,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,{name:"userPicture",hash:{},data:a}))+"\n            </a>\n            "+((r=n["if"].call(o,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <div class="tb__title item-name">\n                '+u((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.subjectFieldDef:t,t,{name:"fieldByName",hash:{},data:a}))+"\n            </div>\n"+((r=n["if"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'        <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</span>\n\n        <div class="sc-chart"></div>\n'},3:function(e,t,n,i,a){var r,s;return"        "+((r=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"forecastsNotSetUpMsg",hash:{},data:a}):s))!=null?r:"")+"\n"},5:function(e,t,n,i,a){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="chart">\n'+((r=n["if"].call(s,t!=null?t.isForecastSetup:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n"+((r=n.unless.call(s,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s;return"        "+((r=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"forecastsNotSetUpMsg",hash:{},data:a}):s))!=null?r:"")+"\n"},3:function(e,t,n,i,a){return'        <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</span>\n        <div class="sc-chart"></div>\n'},5:function(e,t,n,i,a){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="chart">\n'+((r=n["if"].call(s,t!=null?t.forecastsNotSetUpMsg:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n"+((r=n.unless.call(s,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return'        <div class="fd__wrapper">\n\n            <div class="fd__b">\n'+((o=n["with"].call(t!=null?t:e.nullContext||{},(o=t!=null?t.model:t)!=null?o.attributes:o,{name:"with",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n            </div>\n        </div>\n"},2:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return((o=n["if"].call(c,t!=null?t.showTargetQuota:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n                    <div class="row-fluid">\n                        <span class="span2">\n                            '+f((l=(l=n.quota_label||(t!=null?t.quota_label:t))!=null?l:u,typeof l===d?l.call(c,{name:"quota_label",hash:{},data:a}):l))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.quota_amount_str||(t!=null?t.quota_amount_str:t))!=null?l:u,typeof l===d?l.call(c,{name:"quota_amount_str",hash:{},data:a}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid">\n                        <span class="span2">\n                            '+f((n.str||t&&t.str||u).call(c,"LBL_CLOSED","Forecasts",{name:"str",hash:{},data:a}))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.closed_amount_str||(t!=null?t.closed_amount_str:t))!=null?l:u,typeof l===d?l.call(c,{name:"closed_amount_str",hash:{},data:a}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid deficitRow">\n                        <span class="span2">\n                            '+f((l=(l=n.deficit_label||(t!=null?t.deficit_label:t))!=null?l:u,typeof l===d?l.call(c,{name:"deficit_label",hash:{},data:a}):l))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.deficit_amount_str||(t!=null?t.deficit_amount_str:t))!=null?l:u,typeof l===d?l.call(c,{name:"deficit_amount_str",hash:{},data:a}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid details-cols">\n'+((o=n.each.call(c,t!=null?t.detailsOpts:t,{name:"each",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                    </div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="row-fluid">\n                        <span class="span2">\n                            '+l((n.str||t&&t.str||o).call(s,"LBL_QUOTA","Forecasts",{name:"str",hash:{},data:a}))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+l((r=(r=n.target_quota_amount_str||(t!=null?t.target_quota_amount_str:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"target_quota_amount_str",hash:{},data:a}):r))+"\n                        </span>\n                    </div>\n"},5:function(e,t,n,i,a,r,s){var o;return'                            <div class="span'+((o=e.lambda(s[1]!=null?s[1].spanCSS:s[1],t))!=null?o:"")+' tcenter">\n'+((o=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.program(8,a,0,r,s),data:a}))!=null?o:"")+"                            </div>\n"},6:function(e,t,n,i,a){var r,s,o=e.lambda,l=e.escapeExpression,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function";return'                                    <div class="forecast_details_default_numbers forecast_details_'+l(o(t!=null?t["case"]:t,t))+'_numbers ellipsis_inline">\n                                        <span class="forecast_details_label">\n                                            '+l((s=(s=n.label||(t!=null?t.label:t))!=null?s:u,typeof s===d?s.call(c,{name:"label",hash:{},data:a}):s))+'\n                                        </span>\n                                        <span class="forecast_details_amount">\n                                            '+l((s=(s=n.amount||(t!=null?t.amount:t))!=null?s:u,typeof s===d?s.call(c,{name:"amount",hash:{},data:a}):s))+'\n                                        </span>\n                                    </div>\n\n                                    <div class="forecast_details_default_feedback forecast_details_'+l(o(t!=null?t["case"]:t,t))+'_feedback ellipsis_inline">\n                                        <span class="forecast_details_feedback">\n                                            <div class="fdf_ln1">'+((r=(s=(s=n.feedbackLn1||(t!=null?t.feedbackLn1:t))!=null?s:u,typeof s===d?s.call(c,{name:"feedbackLn1",hash:{},data:a}):s))!=null?r:"")+"</div>\n                                            "+((r=(s=(s=n.feedbackLn2||(t!=null?t.feedbackLn2:t))!=null?s:u,typeof s===d?s.call(c,{name:"feedbackLn2",hash:{},data:a}):s))!=null?r:"")+"\n                                        </span>\n                                    </div>\n"},8:function(e,t,n,i,a){var r,s=e.escapeExpression,o=t!=null?t:e.nullContext||{},l=n.helperMissing;return'                                    <div class="forecast_details_default_numbers forecast_details_'+s(e.lambda(t!=null?t["case"]:t,t))+'_numbers ellipsis_inline">\n                                        <span class="forecast_details_label">\n                                            '+s((r=(r=n.label||(t!=null?t.label:t))!=null?r:l,typeof r==="function"?r.call(o,{name:"label",hash:{},data:a}):r))+'\n                                        </span>\n                                        <span class="forecast_details_no_access">\n                                            '+s((n.str||t&&t.str||l).call(o,"LBL_NO_FIELD_ACCESS",{name:"str",hash:{},data:a}))+"\n                                        </span>\n                                    </div>\n"},10:function(e,t,n,i,a){var r,s;return"        "+((r=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"forecastsNotSetUpMsg",hash:{},data:a}):s))!=null?r:"")+"\n"},12:function(e,t,n,i,a){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="forecast-details">\n'+((o=n["if"].call(l,t!=null?t.isForecastSetup:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(10,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n.unless.call(l,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(12,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="chart">\n    <div class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</div>\n\n    <div class="sc-chart"></div>\n</div>\n\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"has-grip"},3:function(e,t,n,i,a){var r;return'<span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.model:t)!=null?r.module:r,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>'},5:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression,l=t!=null?t:e.nullContext||{};return'                <div class="tb__info">\n                    <a href="#Users/'+((r=s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'">'+o(s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_name:r,t))+"</a>\n                    "+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(l,n.lookup.call(l,(r=t!=null?t.model:t)!=null?r.attributes:r,(r=(r=t!=null?t.view:t)!=null?r.listParams:r)!=null?r.record_date:r,{name:"lookup",hash:{},data:a}),{name:"relativeTime",hash:{},data:a}))+"\n                </div>\n"},7:function(e,t,n,i,a){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===c?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" module="'+u((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===c?s.call(o,{name:"moduleName",hash:{},data:a}):s))+'"\n         class="list-item fast-click-highlighted '+((r=n["if"].call(o,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'"\n         track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="txt '+u((s=(s=n.detailsCss||(t!=null?t.detailsCss:t))!=null?s:l,typeof s===c?s.call(o,{name:"detailsCss",hash:{},data:a}):s))+'">\n        <div class="tb__detail">\n            <a href="#Users/'+((r=e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'" class="tb__icon">\n                '+u((n.userPicture||t&&t.userPicture||l).call(o,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,{name:"userPicture",hash:{},data:a}))+"\n            </a>\n            "+((r=n["if"].call(o,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <div class="tb__title item-name">\n                '+u((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n                "+u((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:a}))+"\n            </div>\n"+((r=n["if"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,c="function";return'<div class="wp__wrapper">\n    <div class="wp__container">\n        <div class="wp__favlogo">\n            '+l((n.icon||t&&t.icon||o).call(s,"actions.url",{name:"icon",hash:{},data:a}))+'\n        </div>\n        <div class="wp__content">\n            <div class="wp__title">\n            '+l((r=(r=n.title||(t!=null?t.title:t))!=null?r:o,typeof r===c?r.call(s,{name:"title",hash:{},data:a}):r))+'\n            </div>\n            <div class="wp__url">\n                    '+l((r=(r=n.url||(t!=null?t.url:t))!=null?r:o,typeof r===c?r.call(s,{name:"url",hash:{},data:a}):r))+"\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'        <span class="field-detail__value brake-lines"><a>'+e.escapeExpression(e.lambda(t!=null?t.addressValue:t,t))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.addressValue:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=e.escapeExpression;return'<div class="field field--address fast-click-highlighted">\n    <label class="field__label">'+l((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly color-def">\n        '+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        <span class="brake-lines">'+l(e.lambda(t!=null?t.addressValue:t,t))+"</span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+l((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly brake-lines">'+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+l(e.lambda(t!=null?t.addressValue:t,t))+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="field-detail">\n    <span class="field-detail__label">'+l((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"label",hash:{},data:a}):r))+'</span>\n    <span class="field-detail__value">'+l((n.str||t&&t.str||o).call(s,"LBL_VALUE_ERASED",{name:"str",hash:{},data:a}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="text" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+u((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===c?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<span class="field-value">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VALUE_ERASED",{name:"str",hash:{},data:a}))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,c="function";return'<div class="field">\n    <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_LOGIN_USERNAME",{name:"str",hash:{},data:a}))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="text" size="35" tabindex="1" id="'+l((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===c?r.call(s,{name:"name",hash:{},data:a}):r))+'" name="'+l((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===c?r.call(s,{name:"name",hash:{},data:a}):r))+'" value="'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===c?r.call(s,{name:"value",hash:{},data:a}):r))+'" autocapitalize="off" autocorrect="off" autocomplete="off">\n            '+l((r=(r=n.clearButton||(t!=null?t.clearButton:t))!=null?r:o,typeof r===c?r.call(s,{name:"clearButton",hash:{},data:a}):r))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_YES",{name:"str",hash:{},data:a}))},3:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</span>\n    <span class="field-detail__value">\n       '+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n    </span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" checked"},3:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOn",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},5:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--bool">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <input type="checkbox" class="checkbox_custom"'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+">\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_YES",{name:"str",hash:{},data:a}))},3:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+": "+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_YES",{name:"str",hash:{},data:a}))},3:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'            <div class="selector">\n                '+o((n.icon||t&&t.icon||s).call(r,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+"\n                "+o((n.currencySelect||t&&t.currencySelect||s).call(r,t!=null?t.availableCurrencies:t,{name:"currencySelect",hash:{},data:a}))+"\n            </div>\n"},3:function(e,t,n,i,a){var r;return'            <div class="selector">\n                <span class="actionsheet-select">'+e.escapeExpression((r=(r=n.currencyLabel||(t!=null?t.currencyLabel:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"currencyLabel",hash:{},data:a}):r))+"</span>\n            </div>\n"},5:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--currency">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n'+((r=n["if"].call(o,t!=null?t.isCurrencySelectorVisible:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isCurrencyLabelVisible:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <span class="input-wrapper">\n            <input type="'+u((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:l,typeof s===c?s.call(o,{name:"fieldType",hash:{},data:a}):s))+'" class="_numeric" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+u((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===c?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},3:function(e,t,n,i,a){return"disabled"},5:function(e,t,n,i,a){var r;return(r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:""},6:function(e,t,n,i,a){return"empty"},8:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--date">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <span class="input-wrapper">\n            '+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <input type="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","date",{name:"ternary",hash:{},data:a}))+'" autocorrect="off" value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'"\n                '+((r=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'  class="\n                '+((r=n["if"].call(o,(r=t!=null?t.def:t)!=null?r.required:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            ">\n        </span>\n        <div class="btn-group clear-button '+((r=n.unless.call(o,t!=null?t.showClearButton:t,{name:"unless",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n            <button class="btn secondary-btn inert">'+u((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" field__controls--has-btns"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},5:function(e,t,n,i,a){return"disabled"},7:function(e,t,n,i,a){var r;return(r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:""},8:function(e,t,n,i,a){return"empty"},10:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="field field--datetime">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls '+((r=n["if"].call(o,t!=null?t.showClearButton:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        <span class="date">\n            <input type="'+c((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","date",{name:"ternary",hash:{},data:a}))+'" data-type="date"  autocorrect="off"  '+((r=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n                value="'+c((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,(r=t!=null?t.formattedValues:t)!=null?r.date:r,(r=t!=null?t.values:t)!=null?r.date:r,{name:"ternary",hash:{},data:a}))+'" class="\n                '+((r=n["if"].call(o,(r=t!=null?t.def:t)!=null?r.required:r,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            "/>\n        </span>\n        <span class="time">\n            <input type="'+c((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","time",{name:"ternary",hash:{},data:a}))+'" data-type="time"  autocorrect="off"  '+((r=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n                value="'+c((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,(r=t!=null?t.formattedValues:t)!=null?r.time:r,(r=t!=null?t.values:t)!=null?r.time:r,{name:"ternary",hash:{},data:a}))+'" class="\n                '+((r=n["if"].call(o,(r=t!=null?t.def:t)!=null?r.required:r,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            "/>\n        </span>\n\n        <div class="btn-group clear-button '+((r=n.unless.call(o,t!=null?t.showClearButton:t,{name:"unless",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n            <button class="btn secondary-btn inert">'+c((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n        </div>\n\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return'<span class="placeholder '+((r=(n.isNotEmpty||t&&t.isNotEmpty||o).call(s,t!=null?t.value:t,{name:"isNotEmpty",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_REQUIRED",{name:"str",hash:{},data:a}))+"</span>"},2:function(e,t,n,i,a){return"hide"},4:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="actionsheet-select">\n            <span class="actionsheet-select__value">'+l((r=(r=n.valueText||(t!=null?t.valueText:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"valueText",hash:{},data:a}):r))+"</span>\n        </span>\n        "+l((n.icon||t&&t.icon||o).call(s,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+"\n"},6:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return"        "+d((n.icon||t&&t.icon||u).call(c,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+'\n        <select name="'+d((l=(l=n.name||(t!=null?t.name:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"name",hash:{},data:a}):l))+'">\n'+((o=(n.eachOptions||t&&t.eachOptions||u).call(c,t!=null?t.renderItems:t,{name:"eachOptions",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </select>\n"},7:function(e,t,n,i,a,r,s){var o,l=e.lambda,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'                <option value="'+((o=l((o=t!=null?t.value:t)!=null?o["0"]:o,t))!=null?o:"")+'" '+((o=(n.eq||t&&t.eq||u).call(c,(o=t!=null?t.value:t)!=null?o["0"]:o,s[1]!=null?s[1].value:s[1],{name:"eq",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n                    "+d((n.debugAttributes||t&&t.debugAttributes||u).call(c,"label",(o=t!=null?t.value:t)!=null?o["1"]:o,{name:"debugAttributes",hash:{},data:a}))+">"+d(l((o=t!=null?t.value:t)!=null?o["1"]:o,t))+"</option>\n"},8:function(e,t,n,i,a){return"selected"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{};return'<div class="field field--enum">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(c,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n        '+((o=n["if"].call(c,(o=t!=null?t.def:t)!=null?o.required:o,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n\n"+((o=n["if"].call(c,t!=null?t._viaActionSheet:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.program(6,a,0,r,s),data:a}))!=null?o:"")+"    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.valueText||(t!=null?t.valueText:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"valueText",hash:{},data:a}):r))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_REQUIRED",{name:"str",hash:{},data:a}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--currency">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="'+u((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:l,typeof s===c?s.call(o,{name:"fieldType",hash:{},data:a}):s))+'" class="_numeric" '+((r=n["if"].call(o,(r=t!=null?t.def:t)!=null?r.required:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+u((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===c?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<span class="field-value">'+l((n.str||t&&t.str||o).call(s,t!=null?t.label:t,{name:"str",hash:{},data:a}))+': <span class="field-value">'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"value",hash:{},data:a}):r))+"</span></span>"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="field-value"><span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span></span>"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'        <span class="field-detail__value">\n            <a data-index="'+u((s=(s=n.index||a&&a.index)!=null?s:l,typeof s===c?s.call(o,{name:"index",hash:{},data:a}):s))+'" class="'+((r=n["if"].call(o,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                '+u((s=(s=n.email_address||(t!=null?t.email_address:t))!=null?s:l,typeof s===c?s.call(o,{name:"email_address",hash:{},data:a}):s))+"\n            </a>\n        </span>\n"},2:function(e,t,n,i,a){return" email_type_invalid"},4:function(e,t,n,i,a){return" email_type_opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'            <div class="field__controls--flex '+((o=n["if"].call(c,t!=null?t.primary_address:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(c,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(c,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'" email-id="'+f((l=(l=n.index||a&&a.index)!=null?l:u,typeof l===d?l.call(c,{name:"index",hash:{},data:a}):l))+'">\n                <span class="input-wrapper">\n                    <input type="email" class="input-email" placeholder="'+f((n.emailPlaceholder||t&&t.emailPlaceholder||u).call(c,t!=null?t.value:t,{name:"emailPlaceholder",hash:{required:(o=s[1]!=null?s[1].def:s[1])!=null?o.required:o},data:a}))+'" autocorrect="off" value="'+f((l=(l=n.email_address||(t!=null?t.email_address:t))!=null?l:u,typeof l===d?l.call(c,{name:"email_address",hash:{},data:a}):l))+'">\n                    '+f((l=(l=n.clearButton||(t!=null?t.clearButton:t))!=null?l:u,typeof l===d?l.call(c,{name:"clearButton",hash:{},data:a}):l))+'\n                </span>\n                <div class="btn-group">\n                    <button class="btn actions-btn inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:u,typeof l===d?l.call(c,{name:"id",hash:{},data:a}):l))+'">'+f((n.icon||t&&t.icon||u).call(c,"edit.email.actionsBtn",{name:"icon",hash:{},data:a}))+"</button>\n                </div>\n            </div>\n"},2:function(e,t,n,i,a){return" primary-address"},4:function(e,t,n,i,a){return" invalid-email"},6:function(e,t,n,i,a){return" opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="field field--email">\n    <label class="field__label">'+f((l=(l=n.label||(t!=null?t.label:t))!=null?l:u,typeof l===d?l.call(c,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n'+((o=n.each.call(c,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        <div class="field--email__add">\n            '+f((n.str||t&&t.str||u).call(c,"LBL_EMAIL_ADD",{name:"str",hash:{},data:a}))+'\n        </div>\n        <div class="field__controls--flex hide" email-id="-1">\n            <span class="input-wrapper">\n                <input type="email" class="input-email" autocorrect="off" value="">\n                '+f((l=(l=n.clearButton||(t!=null?t.clearButton:t))!=null?l:u,typeof l===d?l.call(c,{name:"clearButton",hash:{},data:a}):l))+'\n            </span>\n            <div class="btn-group">\n                <button class="btn add-btn inert" style="visibility: hidden">'+f((n.icon||t&&t.icon||u).call(c,"edit.email.addBtn",{name:"icon",hash:{},data:a}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return e.escapeExpression((n.primaryEmail||t&&t.primaryEmail||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"primaryEmail",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <div class="field__controls--readonly field__controls--flex'+((r=n["if"].call(o,t!=null?t.primary_address:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <div class="txt-value">'+e.escapeExpression((s=(s=n.email_address||(t!=null?t.email_address:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"email_address",hash:{},data:a}):s))+"</div>\n            </div>\n"},2:function(e,t,n,i,a){return" primary-address"},4:function(e,t,n,i,a){return" invalid-email"},6:function(e,t,n,i,a){return" opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--email field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n'+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.prop||t&&t.prop||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"prop",hash:{},data:a}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="actionsheet-select">\n            <span class="actionsheet-select__value">'+l((r=(r=n.valueText||(t!=null?t.valueText:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"valueText",hash:{},data:a}):r))+"</span>\n        </span>\n        "+l((n.icon||t&&t.icon||o).call(s,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+"\n"},5:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'        <select name="'+d((l=(l=n.name||(t!=null?t.name:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"name",hash:{},data:a}):l))+'">\n'+((o=(n.eachOptions||t&&t.eachOptions||u).call(c,t!=null?t.renderItems:t,{name:"eachOptions",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </select>\n        "+d((n.icon||t&&t.icon||u).call(c,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+"\n"},6:function(e,t,n,i,a,r,s){var o,l=e.lambda,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'                <option value="'+((o=l((o=t!=null?t.value:t)!=null?o["0"]:o,t))!=null?o:"")+'" '+((o=(n.eq||t&&t.eq||u).call(c,(o=t!=null?t.value:t)!=null?o["0"]:o,s[1]!=null?s[1].value:s[1],{name:"eq",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n                    "+d((n.debugAttributes||t&&t.debugAttributes||u).call(c,"label",(o=t!=null?t.value:t)!=null?o["1"]:o,{name:"debugAttributes",hash:{},data:a}))+">"+d(l((o=t!=null?t.value:t)!=null?o["1"]:o,t))+"</option>\n"},7:function(e,t,n,i,a){return"selected"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{};return'<div class="field field--enum">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(c,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n        '+((o=n["if"].call(c,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n\n"+((o=n["if"].call(c,t!=null?t._viaActionSheet:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.program(5,a,0,r,s),data:a}))!=null?o:"")+"    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return e.escapeExpression((n.prop||t&&t.prop||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"prop",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">'+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+c((n.prop||t&&t.prop||l).call(o,(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"prop",hash:{defaultValue:""},data:a}))+"</div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'    <span track="click:my_fav">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+"    </span>\n"},2:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.favorite",{name:"icon",hash:{additionalClass:"favorite-icon"},data:a}))+"\n"},4:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.unfavorite",{name:"icon",hash:{additionalClass:"favorite-icon color-disabled"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=(n.isFavoriteable||t&&t.isFavoriteable||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"isFavoriteable",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'    <span track="click:my_fav">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+"    </span>\n"},2:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.favorite",{name:"icon",hash:{additionalClass:"favorite-icon"},data:a}))+"\n"},4:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.unfavorite",{name:"icon",hash:{additionalClass:"favorite-icon color-disabled"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=(n.isFavoriteable||t&&t.isFavoriteable||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"isFavoriteable",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="field-detail">\n    <span class="field-detail__label">'+c((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</span>\n    <span class="field-detail__value horizontal-fieldset">'+c((r=(r=n.subfields||(t!=null?t.subfields:t))!=null?r:o,typeof r===l?r.call(s,{name:"subfields",hash:{},data:a}):r))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="field field--fieldset-enum">\n    <span class="field__label">'+c((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</span>\n    <span class="field__controls">'+c((r=(r=n.subfields||(t!=null?t.subfields:t))!=null?r:o,typeof r===l?r.call(s,{name:"subfields",hash:{},data:a}):r))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="field__controls">\n        <span class="horizontal-fieldset">'+c((r=(r=n.subfields||(t!=null?t.subfields:t))!=null?r:o,typeof r===l?r.call(s,{name:"subfields",hash:{},data:a}):r))+"</span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'    <div class="avatar">\n        <i class="icon icon-file"></i>\n'},3:function(e,t,n,i,a){var r;return'    <div class="avatar placeholder">\n        <i class="icon icon-file"></i>\n'+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||n.helperMissing).call(t!=null?t:e.nullContext||{},"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")},4:function(e,t,n,i,a){var r;return"            "+((r=(n.ifHasAccessToModel||t&&t.ifHasAccessToModel||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit",(r=t!=null?t.view:t)!=null?r.model:r,{name:"ifHasAccessToModel",hash:{field:t!=null?t.name:t},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},5:function(e,t,n,i,a){return'<i class="icon icon-plus"></i>'},7:function(e,t,n,i,a){var r;return'    <input type="file" class="input_upload" accept="'+e.escapeExpression((r=(r=n.inputAccept||(t!=null?t.inputAccept:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputAccept",hash:{},data:a}):r))+'" track="click:file_upload"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return((r=(n.ifHasValue||t&&t.ifHasValue||o).call(s,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"    </div>\n"+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||o).call(s,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},5:function(e,t,n,i,a){var r;return'                <input type="file" accept="'+e.escapeExpression((r=(r=n.inputAccept||(t!=null?t.inputAccept:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputAccept",hash:{},data:a}):r))+'" class="input_upload" track="click:file_upload" />\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+"</span>\n            "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <span class="value">'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+"</span>\n"+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||l).call(o,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        </div>\n        <div class="btn-group">\n            <button class="btn file-remove '+((r=n.unless.call(o,t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{},data:a}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return"\x3c!--\x3e\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+'</span>\n            <span class="value">'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+"</span>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"f.int.edit",t,{name:"partial",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" followed"},3:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FOLLOWING",{name:"str",hash:{},data:a}))+"\n"},5:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FOLLOW",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<span class="follow-label'+((r=n["if"].call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.following:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' inert">\n    <i class="inert">\n'+((r=n["if"].call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.following:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"    </i>\n</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression,d=e.lambda;return'<div class="field textarea field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <textarea rows="'+u(d((r=t!=null?t.def:t)!=null?r.rows:r,t))+'" cols="'+u(d((r=t!=null?t.def:t)!=null?r.cols:r,t))+'" name="'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'" readonly>'+u((n.html2text||t&&t.html2text||l).call(o,t!=null?t.value:t,50,{name:"html2text",hash:{},data:a}))+"</textarea>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'                <div class="field__text-preview__div">'+o((n.html2text||t&&t.html2text||s).call(r,t!=null?t.value:t,1e3,{name:"html2text",hash:{},data:a}))+'</div>\n                <div class="field__text-preview__more">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_MORE",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field-detail field-detail--textarea">\n    <span class="field-detail__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</span>\n    <div class="field-detail__value">\n        <div class="field__text-preview" name="'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'                <div class="field__text-preview__div">'+o((n.html2text||t&&t.html2text||s).call(r,t!=null?t.value:t,1e3,{name:"html2text",hash:{},data:a}))+'</div>\n                <div class="field__text-preview__more">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_MORE",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--textarea field--readonly fast-click-highlighted">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="field__text-preview" name="'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'    <div class="avatar"></div>\n'},3:function(e,t,n,i,a){return'    <div class="avatar placeholder">\n        '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu.user",{name:"icon",hash:{additionalClass:"user-icon"},data:a}))+"\n    </div>\n"},5:function(e,t,n,i,a){return'    <input type="file" class="input_upload" accept="image/*" track="click:image_upload"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return((r=(n.ifHasValue||t&&t.ifHasValue||o).call(s,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||o).call(s,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},5:function(e,t,n,i,a){return'                <input type="file" class="input_upload" accept="image/*" track="click:image_upload" />\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+"</span>\n            "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <div class="avatar"></div>\n'+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||l).call(o,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        </div>\n        <div class="btn-group">\n            <button class="btn file-remove '+((r=n.unless.call(o,t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return"\x3c!--\x3e\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+'</span>\n            <div class="avatar"></div>\n        </div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},3:function(e,t,n,i,a){return'pattern="[0-9]*" '},5:function(e,t,n,i,a){return' step="any" '},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="'+u((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:l,typeof s===c?s.call(o,{name:"fieldType",hash:{},data:a}):s))+'" class="_numeric" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" '+((r=n.unless.call(o,t!=null?t.isFloat:t,{name:"unless",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+' value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'"/>\n            '+u((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===c?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return"                <div class=\"field__controls--flex\">\n                    <span class='txt-value'>\n"+((r=n["if"].call(o,t!=null?t.isNameErased:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+'                    </span>\n                    <div class="btn-group">\n                        <button class="btn secondary-btn inert" uid="'+c((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"id",hash:{},data:a}):s))+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{},data:a}))+"</button>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){return"                            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VALUE_ERASED",{name:"str",hash:{},data:a}))+"\n"},5:function(e,t,n,i,a){var r;return"                            "+e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))+"\n"},7:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--invitees fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r["default"]:r,t!=null?t.module:t,{name:"str",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},data:a}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=(n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'                <span class="multienum-list__label" item-id="'+c((r=(r=n.id||(t!=null?t.id:t))!=null?r:o,typeof r===l?r.call(s,{name:"id",hash:{},data:a}):r))+'" '+c((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.name:t,{name:"debugAttributes",hash:{},data:a}))+">"+c((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+" "+c((n.icon||t&&t.icon||o).call(s,"edit.multiselect.remove",{name:"icon",hash:{additionalClass:"inert multienum-list__remove"},data:a}))+"</span>\n"},4:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="multienum-list">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"            "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="value">'+e.escapeExpression((n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},data:a}))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+c((n.multienumStr||t&&t.multienumStr||l).call(o,(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'    <span class="field-detail__value field-value">\n        '+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+":\n"+((r=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(7,a,0),data:a}))!=null?r:"")+"    </span>\n"},2:function(e,t,n,i,a){var r;return((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.link:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"            </span>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'                    <a href="#'+c((r=(r=n.link||(t!=null?t.link:t))!=null?r:o,typeof r===l?r.call(s,{name:"link",hash:{},data:a}):r))+'" class="relate-link fast-click-highlighted">'+c((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</a>\n"},5:function(e,t,n,i,a){var r;return"                    "+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"\n"},7:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" </div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="txt-value">\n                '+l((n.moduleNameSingular||t&&t.moduleNameSingular||o).call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+": "+((r=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+'\n            </div>\n            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+l((n.icon||t&&t.icon||o).call(s,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n            </div>\n"},2:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>"},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},6:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <span class="placeholder">\n                '+((r=n["if"].call(o,t!=null?t.isErased:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n                "+e.escapeExpression((s=(s=n.inputHint||(t!=null?t.inputHint:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"inputHint",hash:{},data:a}):s))+"\n            </span>"},7:function(e,t,n,i,a){var r;return e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+": "},9:function(e,t,n,i,a){return'            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(o,t!=null?t.isErased:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+": "+((r=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},3:function(e,t,n,i,a){var r;return": "+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:"")},4:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>"},6:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+c((n.moduleNameSingular||t&&t.moduleNameSingular||l).call(o,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,c="function";return'<div class="field">\n    <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_LOGIN_PASSWORD",{name:"str",hash:{},data:a}))+'</label>\n    <div class="field__controls">\n    <span class="input-wrapper">\n        <input type="password" size="26" tabindex="2" id="password" name="password" value="'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===c?r.call(s,{name:"value",hash:{},data:a}):r))+'" autocomplete="off">\n        '+l((r=(r=n.clearButton||(t!=null?t.clearButton:t))!=null?r:o,typeof r===c?r.call(s,{name:"clearButton",hash:{},data:a}):r))+"\n    </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            <a>'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</a>\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="tel" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+u((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===c?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">'+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.optionLabel||t&&t.optionLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"optionLabel",hash:{},data:a}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d=e.lambda;return"                <button "+u((n.gaTrack||t&&t.gaTrack||c).call(l,t!=null?t.key:t,s[1]!=null?s[1].def:s[1],{name:"gaTrack",hash:{},data:a}))+' class="btn '+((o=(n.eq||t&&t.eq||c).call(l,t!=null?t.key:t,s[1]!=null?s[1].value:s[1],{name:"eq",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'" data-value="'+u(d(t!=null?t.key:t,t))+'">'+u(d(t!=null?t.value:t,t))+"</button>\n"},2:function(e,t,n,i,a){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing;return'<div class="field field--radio">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n        <div class="btn-group" data-toggle="buttons-radio">\n'+((o=(n.eachOptions||t&&t.eachOptions||u).call(c,(o=t!=null?t.def:t)!=null?o.options:o,{name:"eachOptions",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return e.escapeExpression((n.optionLabel||t&&t.optionLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"optionLabel",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+c((n.optionLabel||t&&t.optionLabel||l).call(o,(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"optionLabel",hash:{},data:a}))+"\n    </div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(7,a,0),data:a}))!=null?r:""},2:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.link:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:""},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'                <a href="#'+c((r=(r=n.link||(t!=null?t.link:t))!=null?r:o,typeof r===l?r.call(s,{name:"link",hash:{},data:a}):r))+'" class="field-detail__value relate-link fast-click-highlighted">'+c((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</a>\n"},5:function(e,t,n,i,a){var r;return'                <span class="field-detail__value field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},7:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="txt-value">'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"value",hash:{},data:a}):r))+'</div>\n            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+l((n.icon||t&&t.icon||o).call(s,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n            </div>\n"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>\n"},5:function(e,t,n,i,a){return'            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--relate fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isErased:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:""},2:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},3:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:""},4:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))},6:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n    \t'+((r=n["if"].call(o,t!=null?t.isErased:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n        "+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return"    &ndash; "+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </span>\n"},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'                <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+"</span>"+((r=n.unless.call(o,a&&a.last,{name:"unless",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},3:function(e,t,n,i,a){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return"    "+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+":\n"+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'        <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+"</span>"+((r=n.unless.call(o,a&&a.last,{name:"unless",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},3:function(e,t,n,i,a){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+"</span>"+((r=n.unless.call(o,a&&a.last,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},2:function(e,t,n,i,a){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return o((n.fieldValue||t&&t.fieldValue||s).call(r,t!=null?t.model:t,"name",{name:"fieldValue",hash:{},data:a}))+" "+o((n.fieldValue||t&&t.fieldValue||s).call(r,t!=null?t.model:t,"name_2",{name:"fieldValue",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{};return'        <span class="field-detail__value">'+e.escapeExpression((l=(l=n.name||(t!=null?t.name:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(c,{name:"name",hash:{},data:a}):l))+" "+((o=n["if"].call(c,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+" "+((o=n["if"].call(c,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+" "+((o=n["if"].call(c,s[1]!=null?s[1].isTBAEnabled:s[1],{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</span>\n"},2:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},4:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_COLLECTION_PRIMARY",{name:"str",hash:{},data:a}))+")</label>"},6:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:""},7:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_TEAM_SET_SELECTED",{name:"str",hash:{},data:a}))+")</label>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(c,{name:"label",hash:{},data:a}):l))+"</span>\n"+((o=n.each.call(c,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},2:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return"                <div class=\"field__controls--flex\">\n                    <span class='txt-value'>"+f((l=(l=n.name||(t!=null?t.name:t))!=null?l:u,typeof l===d?l.call(c,{name:"name",hash:{},data:a}):l))+((o=n["if"].call(c,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'</span>\n                    <div class="btn-group">\n                        <button class="btn primary-btn '+((o=n["if"].call(c,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+' inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:u,typeof l===d?l.call(c,{name:"id",hash:{},data:a}):l))+'">\n                            '+((o=n["if"].call(c,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.program(9,a,0,r,s),data:a}))!=null?o:"")+"\n                        </button>\n"+((o=n["if"].call(c,s[1]!=null?s[1].isTBAEnabled:s[1],{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <button class="btn remove-btn inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:u,typeof l===d?l.call(c,{name:"id",hash:{},data:a}):l))+'">'+f((n.icon||t&&t.icon||u).call(c,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</i></button>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},5:function(e,t,n,i,a){return"active"},7:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.teamsetPrimary",{name:"icon",hash:{},data:a}))},9:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.teamsetSecondary",{name:"icon",hash:{},data:a}))},11:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'                            <button class="btn selected-btn '+((r=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a}))!=null?r:"")+' inert" team-id="'+e.escapeExpression((s=(s=n.id||(t!=null?t.id:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"id",hash:{},data:a}):s))+'">'+((r=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.program(16,a,0),data:a}))!=null?r:"")+"</button>\n"},12:function(e,t,n,i,a){return" active "},14:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.unlock",{name:"icon",hash:{},data:a}))},16:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.lock",{name:"icon",hash:{},data:a}))},18:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{};return'<div class="field field--teamset fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(c,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n'+((o=n["if"].call(c,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        "+((o=n["if"].call(c,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+((r=n["if"].call(o,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return((r=(n.joinPrimaryFirst||t&&t.joinPrimaryFirst||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"joinPrimaryFirst",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <span class="value">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+" "+((r=n["if"].call(o,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(o,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</span>\n"},3:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},5:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_COLLECTION_PRIMARY",{name:"str",hash:{},data:a}))+")</label>"},7:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_TEAM_SET_SELECTED",{name:"str",hash:{},data:a}))+")</label>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'    <span class="field-detail__value">\n        '+e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"nl2br",hash:{},data:a}))+"\n    </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail field-detail--textarea">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--textarea fast-click-highlighted">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="textarea-div" name="'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'">'+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'<span class="field-value">'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+"</span></div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field field--textarea field--readonly fast-click-highlighted">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="textarea-div" name="'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'">'+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+"</div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'        <div class="field__controls">\n            <a class="uneditable-link clip fast-click-highlighted" target="_blank" href="'+c((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+'">'+c((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</a>\n        </div>\n"},3:function(e,t,n,i,a){return'        <div class="field__controls field__controls--readonly">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NOT_AVAILABLE",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</label>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value"><a>'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="url" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+u((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===c?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <span class="value"><a>'+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+e.escapeExpression((s=(s=n.value||(t!=null?t.value:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"value",hash:{},data:a}):s))+"</a></span>\n"},2:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"has-icon-inside"},3:function(e,t,n,i,a){var r;return'        <span class="label-module-sm_title">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.iconLabel:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:"")+"        </span>\n"},4:function(e,t,n,i,a){return"                "+e.escapeExpression((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.iconLabel:t,{name:"moduleIconLabel",hash:{},data:a}))+"\n"},6:function(e,t,n,i,a){return"                "+e.escapeExpression((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIconLabel",hash:{},data:a}))+"\n"},8:function(e,t,n,i,a){var r;return'        <i class="icondefault '+e.escapeExpression((r=(r=n.iconClass||(t!=null?t.iconClass:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"iconClass",hash:{},data:a}):r))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<span class="label-module-sm label-'+u((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s===c?s.call(o,{name:"module",hash:{},data:a}):s))+" "+((r=n["if"].call(o,t!=null?t.iconClass:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+u((s=(s=n.additionalClass||(t!=null?t.additionalClass:t))!=null?s:l,typeof s===c?s.call(o,{name:"additionalClass",hash:{},data:a}):s))+'" aria-hidden="true">\n'+((r=n["if"].call(o,t!=null?t.displayInitials:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.iconClass:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<i class="icondefault '+c((r=(r=n.iconClass||(t!=null?t.iconClass:t))!=null?r:o,typeof r===l?r.call(s,{name:"iconClass",hash:{},data:a}):r))+" "+c((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:o,typeof r===l?r.call(s,{name:"additionalClass",hash:{},data:a}):r))+'"></i>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<svg xmlns="http://www.w3.org/2000/svg" width="100px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="ptr__spinner">\n    <g>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.84" transform="rotate(0 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.02" transform="rotate(30 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.04" transform="rotate(60 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.12" transform="rotate(90 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.2" transform="rotate(120 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.28" transform="rotate(150 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.36" transform="rotate(180 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.44" transform="rotate(210 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.52" transform="rotate(240 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.6" transform="rotate(270 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.68" transform="rotate(300 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.76" transform="rotate(330 50 50) translate(0 -37)"></rect>\n    </g>\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 249 28" version="1.1" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 249 28">\n<g fill="#b9bec6" class="copyright-logo__svg-color">\n\t<g>\n\t\t<path d="m14.699 9.616c-0.601 0.237-1.583 0.237-2.181 0l-10.825-4.288c-0.599-0.237-0.599-0.626 0-0.864l10.825-4.286c0.598-0.237 1.58-0.237 2.181 0l10.824 4.286c0.599 0.238 0.599 0.626 0 0.864l-10.824 4.288z"/>\n\t\t<path d="m13.006 27.182c0 0.646-0.49 0.978-1.091 0.743l-10.824-4.287c-0.6-0.238-1.091-0.958-1.091-1.605v-15.031c0-0.644 0.491-0.978 1.091-0.74l10.825 4.287c0.6 0.237 1.091 0.959 1.091 1.605v15.028z"/>\n\t\t<path d="m14.208 27.177c0 0.646 0.491 0.978 1.092 0.742l10.823-4.286c0.6-0.238 1.091-0.96 1.091-1.605v-15.029c0-0.645-0.49-0.98-1.091-0.742l-10.823 4.286c-0.601 0.238-1.092 0.961-1.092 1.605v15.029z"/>\n\t</g>\n\t<g>\n\t\t<path d="m207.26 5.385c3.006 0 5.05 0.446 6.136 1.34 1.098 0.893 1.642 2.519 1.642 4.882 0 1.641-0.249 2.862-0.725 3.66-0.487 0.796-1.298 1.336-2.443 1.6 1.005 0.241 1.76 0.662 2.259 1.263 0.503 0.604 0.76 1.382 0.76 2.345v3.857h-5.818v-2.868c0-0.744-0.176-1.258-0.52-1.54-0.355-0.27-1.051-0.417-2.088-0.417h-8.609v4.825h-5.803v-18.947h15.2zm-0.22 4.724h-9.185v4.646h9.185c0.775 0 1.309-0.183 1.616-0.542 0.309-0.362 0.47-1.015 0.47-1.966 0-0.746-0.165-1.293-0.495-1.631-0.34-0.343-0.87-0.507-1.6-0.507z"/>\n\t\t<path d="m36.389 18.012l5.706-0.008v0.343c0 0.723 0.176 1.217 0.527 1.461 0.351 0.255 1.086 0.382 2.206 0.382h7.268c0.714 0 1.224-0.124 1.531-0.362 0.304-0.242 0.452-0.647 0.452-1.209 0-0.567-0.171-0.983-0.525-1.223-0.35-0.251-1.111-0.411-2.276-0.501l-9.094-0.203c-2.28-0.069-3.819-0.499-4.622-1.294-0.802-0.798-1.2-2.26-1.2-4.361 0-1.084 0.104-1.975 0.313-2.682 0.212-0.699 0.554-1.292 1.024-1.759 0.549-0.524 1.271-0.896 2.167-1.115 0.899-0.226 2.352-0.332 4.367-0.332h8.826c2.183 0 3.76 0.395 4.725 1.191 0.96 0.801 1.438 2.088 1.438 3.879 0 0.119 0 0.247-0.003 0.383-0.002 0.133-0.013 0.353-0.043 0.658h-5.569v-0.076c0-0.622-0.156-1.083-0.474-1.394-0.322-0.311-0.793-0.463-1.433-0.463h-6.67c-1.108 0-1.841 0.109-2.196 0.328-0.358 0.219-0.536 0.61-0.536 1.154 0 0.542 0.162 0.933 0.483 1.178 0.321 0.237 0.916 0.392 1.786 0.462l9.512 0.153c2.171 0.06 3.696 0.549 4.58 1.464 0.892 0.917 1.329 2.485 1.329 4.697 0 1.317-0.162 2.338-0.485 3.056-0.328 0.727-0.879 1.336-1.651 1.844-0.512 0.328-1.199 0.555-2.072 0.696-0.869 0.141-2.143 0.211-3.789 0.211h-7.71c-3.17 0-5.289-0.357-6.361-1.069-1.069-0.712-1.607-2.037-1.607-3.969 0-0.121 0.009-0.305 0.02-0.561 0.011-0.261 0.033-0.581 0.056-0.959z"/>\n\t\t<path d="m61.994 5.385h5.773v11.235c0 1.277 0.287 2.136 0.868 2.571 0.585 0.441 1.847 0.658 3.8 0.658h3.29c1.625 0 2.711-0.233 3.265-0.696 0.553-0.463 0.825-1.304 0.825-2.533v-11.235h5.808v13.025c0 2.239-0.607 3.823-1.802 4.759-1.203 0.926-3.284 1.399-6.248 1.399h-6.468c-3.47 0-5.858-0.445-7.159-1.335-1.308-0.896-1.951-2.502-1.951-4.824v-13.024z"/>\n\t\t<path d="m106.02 12.193v-0.052c0-0.855-0.258-1.446-0.789-1.762-0.528-0.319-1.71-0.478-3.56-0.478h-3.376c-1.973 0-3.239 0.236-3.798 0.709-0.554 0.475-0.834 1.47-0.834 2.992v2.645c0 1.362 0.314 2.304 0.938 2.808 0.635 0.508 1.871 0.76 3.724 0.76h3.346c1.662 0 2.802-0.147 3.436-0.449 0.623-0.3 0.941-0.816 0.941-1.559 0-0.102-0.014-0.269-0.051-0.51v-0.058h-6.808v-3.842h12.849v6.226c0 1.794-0.669 3.066-1.989 3.814-1.322 0.754-3.618 1.132-6.903 1.132h-6.44c-1.974 0-3.428-0.108-4.372-0.319-0.936-0.215-1.735-0.578-2.388-1.091-0.764-0.599-1.324-1.337-1.67-2.225-0.342-0.878-0.521-1.991-0.521-3.331v-5.181c0-2.704 0.645-4.602 1.929-5.668 1.281-1.073 3.615-1.607 6.997-1.607h6.465c2.093 0 3.637 0.095 4.63 0.277 0.992 0.188 1.773 0.497 2.346 0.943 0.593 0.457 1.035 1.069 1.32 1.844 0.287 0.773 0.424 1.749 0.424 2.91v0.651c-0.011 0.153-0.015 0.292-0.023 0.42h-5.83z"/>\n\t\t<path d="m118.21 24.331h-6.32l10.36-18.946h7.39l10.165 18.946h-6.357l-1.841-3.156h-11.552l-1.84 3.156zm4.04-7.708h7.287l-3.679-6.706-3.61 6.706z"/>\n\t\t<path d="m155.71 5.385c3.006 0 5.059 0.446 6.144 1.34 1.086 0.893 1.633 2.519 1.633 4.882 0 1.641-0.24 2.862-0.728 3.66-0.49 0.796-1.3 1.336-2.434 1.6 1.002 0.241 1.753 0.662 2.257 1.263 0.504 0.604 0.751 1.382 0.751 2.345v3.857h-5.8v-2.868c0-0.744-0.182-1.258-0.531-1.54-0.348-0.27-1.044-0.417-2.085-0.417h-8.613v4.825h-5.803v-18.947h15.2zm-0.21 4.724h-9.193v4.646h9.193c0.774 0 1.312-0.183 1.622-0.542 0.311-0.362 0.455-1.015 0.455-1.966 0-0.746-0.16-1.293-0.494-1.631-0.33-0.343-0.86-0.507-1.59-0.507z"/>\n\t\t<path d="m183.99 12.24v-0.191c0-0.735-0.242-1.281-0.731-1.627-0.49-0.348-1.263-0.522-2.321-0.522h-4.63c-1.982 0-3.252 0.24-3.822 0.716-0.563 0.482-0.844 1.489-0.844 3.016v2.614c0 1.362 0.316 2.304 0.944 2.808 0.626 0.508 1.873 0.76 3.722 0.76h3.359c1.838 0 3.047-0.183 3.618-0.553 0.572-0.369 0.861-1.059 0.861-2.057v-0.208h5.869c0 0.022 0.005 0.072 0.005 0.134 0.034 0.558 0.047 0.971 0.047 1.245 0 1.218-0.158 2.222-0.461 3.02-0.3 0.791-0.789 1.423-1.433 1.893-0.62 0.466-1.443 0.789-2.481 0.983-1.029 0.203-2.544 0.298-4.532 0.298h-6.46c-1.982 0-3.437-0.108-4.372-0.319-0.938-0.215-1.733-0.578-2.398-1.091-0.767-0.599-1.319-1.342-1.667-2.227-0.347-0.882-0.522-1.989-0.522-3.336v-5.126c0-2.728 0.654-4.625 1.938-5.705 1.293-1.084 3.631-1.618 7.022-1.618h6.46c2.075 0 3.608 0.095 4.596 0.277 0.978 0.193 1.755 0.503 2.322 0.955 0.606 0.45 1.045 1.076 1.339 1.855 0.283 0.782 0.42 1.765 0.42 2.933v0.649c-0.005 0.153-0.023 0.293-0.038 0.423h-5.82z"/>\n\t\t<path d="m223.09 24.331h-5.637v-18.946h8.557l6.759 11.828 6.88-11.828h8.429v18.946h-5.602v-13.502l-7.832 13.502h-3.786l-7.767-13.502v13.502z"/>\n\t</g>\n</g>\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},3:function(e,t,n,i,a){return"show-attribution"},5:function(e,t,n,i,a){var r;return'                    <p class="about__legal">\n                        '+e.escapeExpression((r=(r=n._trademark2Text||(t!=null?t._trademark2Text:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"_trademark2Text",hash:{},data:a}):r))+"\n                    </p>\n"},7:function(e,t,n,i,a){return'                <div class="box__copyright">\n                    <span class="copyright__text">powered by</span>\n                    <span class="copyright__logo">\n                        '+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"sugarcrm-copyright-logo",t,{name:"partial",hash:{},data:a}))+"\n                    </span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f="function";return'<div class="box__edit box__edit_readonly page__about">\n    <div class="scroll">\n        <div class="pad">\n\n'+((o=n.each.call(c,t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n\n            <div class="field tcenter '+((o=n["if"].call(c,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n                <p class="about__legal">\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||u).call(c,t!=null?t.model:t,"privacy",{name:"fieldValue",hash:{},data:a}))+'" class="fast-click-highlighted" track="click:privacy">'+d((n.str||t&&t.str||u).call(c,"LNK_PRIVACY_POLICY",{name:"str",hash:{},data:a}))+'</a>,\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||u).call(c,t!=null?t.model:t,"tos",{name:"fieldValue",hash:{},data:a}))+'" class="fast-click-highlighted" track="click:tos">'+d((n.str||t&&t.str||u).call(c,"LNK_TERMS_OF_USE",{name:"str",hash:{},data:a}))+'</a>,\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||u).call(c,t!=null?t.model:t,"thirdPartySoftware",{name:"fieldValue",hash:{},data:a}))+'" class="fast-click-highlighted" track="click:thirdPartySoftware">'+d((n.str||t&&t.str||u).call(c,"LNK_THIRD_PARTY_SOFTWARE",{name:"str",hash:{},data:a}))+'</a>\n                </p>\n                <p class="about__legal">\n                    '+d((l=(l=n._copyrightText||(t!=null?t._copyrightText:t))!=null?l:u,typeof l===f?l.call(c,{name:"_copyrightText",hash:{},data:a}):l))+'\n                </p>\n                <p class="about__legal">\n                    '+d((l=(l=n._trademarkText||(t!=null?t._trademarkText:t))!=null?l:u,typeof l===f?l.call(c,{name:"_trademarkText",hash:{},data:a}):l))+"\n                </p>\n"+((o=n["if"].call(c,t!=null?t._displayTrademarks:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n\n"+((o=n["if"].call(c,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'      <div data-index="'+l((r=(r=n.index||a&&a.index)!=null?r:o,typeof r==="function"?r.call(s,{name:"index",hash:{},data:a}):r))+'" class="item fast-click-highlighted" '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t,{name:"debugAttributes",hash:{},data:a}))+">"+l(e.lambda(t,t))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="popup invisible">\n\n    <div class="header">'+u((s=(s=n.title||(t!=null?t.title:t))!=null?s:l,typeof s===c?s.call(o,{name:"title",hash:{},data:a}):s))+'</div>\n\n    <div class="items">\n'+((r=n.each.call(o,t!=null?t.items:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    </div>\n\n    <div class="footer" style="margin-top: 10px;">\n        <a href="javascript:void(0)" class="cancel fast-click-highlighted">'+u((s=(s=n.cancelText||(t!=null?t.cancelText:t))!=null?s:l,typeof s===c?s.call(o,{name:"cancelText",hash:{},data:a}):s))+"</a>\n    </div>\n\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return((r=n["if"].call(s,t!=null?t.confirmVisible:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+'            <div class="items nps-stars">\n'+((r=(n["for"]||t&&t["for"]||o).call(s,0,t!=null?t.rateCount:t,{name:"for",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=(n["for"]||t&&t["for"]||o).call(s,t!=null?t.rateCount:t,5,{name:"for",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            </div>\n            <div class="footer nps-footer '+((r=n["if"].call(s,t!=null?t.confirmVisible:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <a href="javascript:void(0)" class="cancel fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_NPS_NOT_NOW",{name:"str",hash:{},data:a}))+"</a>\n            </div>\n"},2:function(e,t,n,i,a){return'                    <div class="nps-confirm-header">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NPS_THANKS_MSG",{name:"str",hash:{},data:a}))+"</div>\n"},4:function(e,t,n,i,a){return'                    <div class="nps-description">'+e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.ratingMsg:t,{name:"nl2br",hash:{},data:a}))+"</div>\n"},6:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'                    <div class="rate-btn btn" data-index="'+c((r=(r=n.index||a&&a.index)!=null?r:o,typeof r===l?r.call(s,{name:"index",hash:{},data:a}):r))+'" label="'+c((r=(r=n.counter||a&&a.counter)!=null?r:o,typeof r===l?r.call(s,{name:"counter",hash:{},data:a}):r))+' star">'+c((n.icon||t&&t.icon||o).call(s,"alert.star",{name:"icon",hash:{additionalClass:"nps-star-icon"},data:a}))+"</div>\n"},8:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'                    <div class="rate-btn btn" data-index="'+c((r=(r=n.index||a&&a.index)!=null?r:o,typeof r===l?r.call(s,{name:"index",hash:{},data:a}):r))+'" label="'+c((r=(r=n.counter||a&&a.counter)!=null?r:o,typeof r===l?r.call(s,{name:"counter",hash:{},data:a}):r))+' star">'+c((n.icon||t&&t.icon||o).call(s,"alert.starOpen",{name:"icon",hash:{additionalClass:"nps-star-icon"},data:a}))+"</div>\n"},10:function(e,t,n,i,a){return"invisible"},12:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <div class="nps-header">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_THANKS_MSG",{name:"str",hash:{},data:a}))+'</div>\n        <div class="nps-app-rate-desc">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_APPSTORE_RATE_MSG",{name:"str",hash:{},data:a}))+'</div>\n        <div class="nps-footer">\n            <ul class="actions-ul">\n                <li class="actions-li">\n                    <a href="javascript:void(0)" class="submit-rate-app action-item fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_RATE_NOW",{name:"str",hash:{},data:a}))+'</a>\n                </li>\n                <li class="actions-li">\n                    <a href="javascript:void(0)" class="cancel-rate-app action-item fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_NO_THANKS",{name:"str",hash:{},data:a}))+"</a>\n                </li>\n            </ul>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="popup nps-popup invisible">\n\n'+((r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.rateAppVisible:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.program(12,a,0),data:a}))!=null?r:"")+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return"alert--"+e.escapeExpression((r=(r=n.level||(t!=null?t.level:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"level",hash:{},data:a}):r))},3:function(e,t,n,i,a){return"closeable"},5:function(e,t,n,i,a){return"    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"alert.close",{name:"icon",hash:{additionalClass:"close-icon"},data:a}))+"\n"},7:function(e,t,n,i,a){return"    "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"spinner",t,{name:"partial",hash:{},data:a}))+"\n"},9:function(e,t,n,i,a){return e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:e.nullContext||{},t,{name:"nl2br",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="alert '+((r=n["if"].call(s,t!=null?t.level:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(s,t!=null?t.closeable:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n'+((r=n["if"].call(s,t!=null?t.closeable:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=(n.eq||t&&t.eq||n.helperMissing).call(s,t!=null?t.level:t,"load",{name:"eq",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n<div class="message">\n    '+((r=n.each.call(s,t!=null?t.messages:t,{name:"each",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <div class="bulkload__form">\n                    <div class="field">\n                        <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_USE_CELLULAR",{name:"str",hash:{},data:a}))+'</label>\n                        <div class="field__controls">\n                            <label class="checkbox-toggle">\n                                <input type="checkbox" class="checkbox-toggle__checkbox cellular_checkbox" '+((r=n["if"].call(s,t!=null?t.useCellularData:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                                <span class="checkbox-toggle__slider"></span>\n                            </label>\n                        </div>\n                    </div>\n                    <div class="bulkload__connect-message">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_CONNECTION_USE_MESSAGE",{name:"str",hash:{},data:a}))+"</div>\n                </div>\n"},2:function(e,t,n,i,a){return" checked"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="scroll">\n    <div class="pad">\n        <div class="view__bulkload">\n            <div class="bulkload__title">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_OFFLINE_RECORDS",{name:"str",hash:{},data:a}))+'</div>\n            <div class="bulkload__message">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_PREFETCH_MESSAGE",{name:"str",hash:{},data:a}))+"</div>\n\n"+((r=n["if"].call(s,t!=null?t.shouldShowCellularCheckbox:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <div class="bulkload__btns">\n                <a class="btn btn--primary btn--large btn-download fast-click-highlighted" data-id="ok">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_BTN_DOWNLOAD",{name:"str",hash:{},data:a}))+'</a>\n                <a class="btn btn--secondary btn--large btn-cancel fast-click-highlighted" data-id="cancel">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_NOT_RIGHT_NOW",{name:"str",hash:{},data:a}))+"</a>\n            </div>\n        </div>\n    </div>\n</div>"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="tabs__switcher tabs__switcher--dd">\n    <div class="filter">\n        '+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.ddSwitcher:t,t,{name:"fieldByName",hash:{template:"edit"},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return o((n.icon||t&&t.icon||s).call(r,"swiper.prev",{name:"icon",hash:{additionalClass:"prev"},data:a}))+"\n"+o((n.icon||t&&t.icon||s).call(r,"swiper.next",{name:"icon",hash:{additionalClass:"next"},data:a}))+'\n<div class="pagination"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="'+c((r=(r=n.switcherCss||(t!=null?t.switcherCss:t))!=null?r:o,typeof r===l?r.call(s,{name:"switcherCss",hash:{},data:a}):r))+'"></div>\n<div class="'+c((r=(r=n.viewContainerCss||(t!=null?t.viewContainerCss:t))!=null?r:o,typeof r===l?r.call(s,{name:"viewContainerCss",hash:{},data:a}):r))+'">'+c((r=(r=n.childViews||(t!=null?t.childViews:t))!=null?r:o,typeof r===l?r.call(s,{name:"childViews",hash:{},data:a}):r))+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'        <li data-tab-index="'+f((l=(l=n.index||(t!=null?t.index:t))!=null?l:u,typeof l===d?l.call(c,{name:"index",hash:{},data:a}):l))+'" class="\n        tab fast-click-highlighted\n        '+((o=n["if"].call(c,t!=null?t.active:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n">\n            <div class="tab__title">\n                <span class="title" '+f((n.debugAttributes||t&&t.debugAttributes||u).call(c,"title",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n                    "+f((l=(l=n.title||(t!=null?t.title:t))!=null?l:u,typeof l===d?l.call(c,{name:"title",hash:{},data:a}):l))+'\n                </span>\n                <span class="'+f(e.lambda(s[1]!=null?s[1].subtextCss:s[1],t))+' hide"></span>\n            </div>\n        </li>\n'},2:function(e,t,n,i,a){return"tab--active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return'<ul class="tabs__scroll-bar__ul">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.tabs:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</ul>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return(o=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.program(4,a,0,r,s),data:a}))!=null?o:""},2:function(e,t,n,i,a,r,s){var o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'            <a href="javascript:void(0)" class="context-menu__item favorite-item fast-click-highlighted" action="favorite" track="click:c-favorite" style='+c((n.ternary||t&&t.ternary||l).call(o,s[1]!=null?s[1].myFavorite:s[1],"display:none;","",{name:"ternary",hash:{},data:a}))+'>\n                <span aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"actions.unfavorite",{name:"icon",hash:{},data:a}))+"</span><br>\n                "+c((n.str||t&&t.str||l).call(o,"LBL_FAVORITE",{name:"str",hash:{},data:a}))+'\n            </a>\n            <a href="javascript:void(0)" class="context-menu__item unfavorite-item fast-click-highlighted" action="favorite" track="click:c-unfavorite" style='+c((n.ternary||t&&t.ternary||l).call(o,s[1]!=null?s[1].myFavorite:s[1],"","display:none;",{name:"ternary",hash:{},data:a}))+'>\n                <span aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"actions.favorite",{name:"icon",hash:{},data:a}))+"</span><br>\n                "+c((n.str||t&&t.str||l).call(o,"LBL_UNFAVORITE",{name:"str",hash:{},data:a}))+"\n            </a>\n"},4:function(e,t,n,i,a){return"            "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"record-action-button",t,{name:"partial",hash:{},data:a}))+"\n"},6:function(e,t,n,i,a){return'        <div class="context-menu__no-options">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_MOBILE_NO_ACTIONS_AVAILABLE",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="actions box__context-menu">\n'+((o=n.each.call(l,t!=null?t.contextMenuItems:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(l,t!=null?t.isEmptyMenu:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=e.escapeExpression,l=t!=null?t:e.nullContext||{},c=n.helperMissing,u="function";return'                <div class="dashlets__list__col">\n                    <div class="dashlet__item fast-click-highlighted c-'+o(e.lambda((r=(r=t!=null?t.meta:t)!=null?r.view:r)!=null?r.type:r,t))+'"\n                         data-dashlet-index='+o((s=(s=n.index||(t!=null?t.index:t))!=null?s:c,typeof s===u?s.call(l,{name:"index",hash:{},data:a}):s))+"\n                        "+o((n.debugAttributes||t&&t.debugAttributes||c).call(l,"dashable-list-module",(r=(r=t!=null?t.meta:t)!=null?r.view:r)!=null?r.module:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+"\n                        "+o((n.debugAttributes||t&&t.debugAttributes||c).call(l,"dashlet-name",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+'>\n\n                        <div class="dashlet__title">'+o((s=(s=n.title||(t!=null?t.title:t))!=null?s:c,typeof s===u?s.call(l,{name:"title",hash:{},data:a}):s))+'</div>\n                        <div class="dashlet__icon">'+o((n.icon||t&&t.icon||c).call(l,t!=null?t.icon:t,{name:"icon",hash:{},data:a}))+"</div>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){var r;return'            <div class="dashlets__slider-area">\n                <div class="dashlets__slider">\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t._dashlets:t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"                </div>\n            </div>\n"},4:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'                        <div class="dashlet__b" data-dashlet-index='+c((s=(s=n.index||(t!=null?t.index:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"index",hash:{},data:a}):s))+"\n                            "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashable-list-module",(r=(r=t!=null?t.meta:t)!=null?r.view:r)!=null?r.module:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+"\n                            "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashlet-name",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n                            "+c((n.childViews||t&&t.childViews||l).call(o,(r=t!=null?t.meta:t)!=null?r.id:r,{name:"childViews",hash:{},data:a}))+"\n                        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="dashboard-container">\n    <div class="dashboard"\n        '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashboard-id",(r=t!=null?t.model:t)!=null?r.id:r,{name:"debugAttributes",hash:{},data:a}))+"\n        "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashboard-name",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.name:r,{name:"debugAttributes",hash:{localize:(r=t!=null?t.options:t)!=null?r.parentModule:r,removeSpaces:true},data:a}))+'>\n\n        <div class="dashlets__list">\n'+((r=n.each.call(o,t!=null?t._dashlets:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        </div>\n        <div class="dashlets__title hide">'+c((s=(s=n.subtitle||(t!=null?t.subtitle:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"subtitle",hash:{},data:a}):s))+"</div>\n"+((r=n["if"].call(o,t!=null?t.shouldRenderDashlets:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n    \x3c!--div.dashboard-container is required for pagination to be rendered here--\x3e\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=e.escapeExpression;return'                <div class="field error">\n                    <label class="field__label">Error count:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+s(e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_error_count:r,t))+'\n                    </div>\n                </div>\n\n                <div class="field">\n                    <label class="field__label">Error Description:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+s((n.getErrorDescription||t&&t.getErrorDescription||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_error:r,{name:"getErrorDescription",hash:{},data:a}))+"\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){var r;return'                <div class="field">\n                    <label class="field__label">Link:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+e.escapeExpression(e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_link:r,t))+"\n                    </div>\n                </div>\n"},5:function(e,t,n,i,a,r,s){var o;return"\n"+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.updatedFields:t,{name:"each",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"},6:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n                        <label class="field__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(l,t!=null?t.vname:t,(o=(o=s[1]!=null?s[1].model:s[1])!=null?o.attributes:o)!=null?o._tx_bean_module:o,{name:"str",hash:{},data:a}))+":</label>\n"+((o=n["with"].call(l,t,{name:"with",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                    </div>\n"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'                            <div class="field__controls field__controls--readonly clip">\n'+((r=n["if"].call(s,t!=null?t.before:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(s,(r=t!=null?t.after:t)!=null?r.el:r,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.program(15,a,0),data:a}))!=null?r:"")+"                            </div>\n"},8:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.before:t)!=null?r.el:r,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a}))!=null?r:""},9:function(e,t,n,i,a){var r;return'                                        <span class="line-through">'+((r=e.lambda((r=(r=t!=null?t.before:t)!=null?r.el:r)!=null?r.innerHTML:r,t))!=null?r:"")+"</span><br />\n"},11:function(e,t,n,i,a){var r;return'                                        <span class="line-through">'+e.escapeExpression((r=(r=n.before||(t!=null?t.before:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"before",hash:{},data:a}):r))+"</span><br />\n"},13:function(e,t,n,i,a){var r;return"                                    "+((r=e.lambda((r=(r=t!=null?t.after:t)!=null?r.el:r)!=null?r.innerHTML:r,t))!=null?r:"")+"<br />\n"},15:function(e,t,n,i,a){var r;return"                                    "+e.escapeExpression((r=(r=n.after||(t!=null?t.after:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"after",hash:{},data:a}):r))+"<br />\n"},17:function(e,t,n,i,a){return'                <div class="edit__footer">\n                    <a href="javascript:void(0)" class="btn btn--danger btn--large  delete" track="click:delete">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_ROLLBACK_BUTTON",{name:"str",hash:{},data:a}))+"</a>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="box__edit box__edit_readonly">\n    <div class="scroll">\n        <div class="pad">\n\n'+((o=n["if"].call(c,(o=(o=t!=null?t.model:t)!=null?o.attributes:o)!=null?o._tx_error_count:o,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n            <div class="field">\n                <label class="field__label">Summary:</label>\n                <div class="field__controls field__controls--readonly line-clamp">\n                    '+f((l=(l=n.getTxLogActionExplanation||(t!=null?t.getTxLogActionExplanation:t))!=null?l:u,typeof l===d?l.call(c,{name:"getTxLogActionExplanation",hash:{},data:a}):l))+'\n                </div>\n            </div>\n\n            <div class="field">\n                <label class="field__label">Action:</label>\n                <div class="field__controls field__controls--readonly clip">\n                    '+f((n.getTxLogActionName||t&&t.getTxLogActionName||u).call(c,(o=(o=t!=null?t.model:t)!=null?o.attributes:o)!=null?o._tx_action:o,{name:"getTxLogActionName",hash:{},data:a}))+'\n                </div>\n            </div>\n\n            <div class="field">\n                <label class="field__label">Module:</label>\n                <div class="field__controls field__controls--readonly clip">\n                    '+f((l=(l=n.getTxLogModuleName||(t!=null?t.getTxLogModuleName:t))!=null?l:u,typeof l===d?l.call(c,{name:"getTxLogModuleName",hash:{},data:a}):l))+"\n                </div>\n            </div>\n\n"+((o=n["if"].call(c,(o=t!=null?t.updatedFields:t)!=null?o.link:o,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.program(5,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,t!=null?t.isRollbackAvailable:t,{name:"if",hash:{},fn:e.program(17,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'        <div class="table-totals__row" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"field-name",t!=null?t.name:t,{name:"debugAttributes",hash:{},data:a}))+'>\n            <div class="table-totals__label">'+c((n.str||t&&t.str||l).call(o,t!=null?t.label:t,s[1]!=null?s[1].module:s[1],{name:"str",hash:{},data:a}))+'</div>\n            <div class="table-totals__value">'+c((n.field||t&&t.field||l).call(o,s[1],{name:"field",hash:{},data:a}))+"</div>\n        </div>\n"},3:function(e,t,n,i,a,r,s){var o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'        <div class="table-totals__row table-totals__row--grand" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"field-name",t!=null?t.name:t,{name:"debugAttributes",hash:{},data:a}))+'>\n            <div class="table-totals__label">'+c((n.str||t&&t.str||l).call(o,t!=null?t.label:t,s[1]!=null?s[1].module:s[1],{name:"str",hash:{},data:a}))+'</div>\n            <div class="table-totals__value">'+c((n.field||t&&t.field||l).call(o,s[1],{name:"field",hash:{},data:a}))+"</div>\n        </div>\n"},5:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'    <div class="qli-group" data-model-id="'+e.escapeExpression(e.lambda((o=t!=null?t.model:t)!=null?o.id:o,t))+'">\n'+((o=n["if"].call(l,t!=null?t.title:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(l,(o=t!=null?t.items:t)!=null?o.length:o,{name:"if",hash:{},fn:e.program(8,a,0,r,s),inverse:e.program(18,a,0,r,s),data:a}))!=null?o:"")+"    </div>\n"},6:function(e,t,n,i,a){var r,s,o=e.escapeExpression;return'            <div class="qli-group-header__detail" data-model-id="'+o(e.lambda((r=t!=null?t.model:t)!=null?r.id:r,t))+'">\n                '+o((s=(s=n.title||(t!=null?t.title:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"title",hash:{},data:a}):s))+"\n            </div>\n"},8:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return((o=n.each.call(l,t!=null?t.items:t,{name:"each",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'            <div class="qli-total qli-total--detail">\n'+((o=n.each.call(l,s[1]!=null?s[1].groupTotalFields:s[1],{name:"each",hash:{},fn:e.program(15,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n"},9:function(e,t,n,i,a,r,s){var o;return'                <div class="qli-item" data-model-id="'+e.escapeExpression(e.lambda((o=t!=null?t.model:t)!=null?o.id:o,t))+'">\n'+((o=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isComment:t,{name:"if",hash:{},fn:e.program(10,a,0,r,s),inverse:e.program(12,a,0,r,s),data:a}))!=null?o:"")+"                </div>\n"},10:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                        <div class="qli-item__header">\n                            <div class="qli-item-header__title">\n                                <span>'+l((n.str||t&&t.str||o).call(s,"LBL_COMMENT",{name:"str",hash:{},data:a}))+'</span>\n                            </div>\n                            <div class="qli-item__menu">\n                                <span class="grip open">'+l((n.icon||t&&t.icon||o).call(s,"actions.more",{name:"icon",hash:{},data:a}))+'</span>\n                            </div>\n                        </div>\n                        <div class="qli-item__comment">\n                            '+l(e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.description:r,t))+"\n                        </div>\n"},12:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'                        <div class="qli-item__header">\n                            <div class="qli-item-header__title">\n                                <span>'+d((l=(l=n.lineNum||(t!=null?t.lineNum:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"lineNum",hash:{},data:a}):l))+'</span>\n                            </div>\n                            <div class="qli-item__menu">\n                                <span class="grip open">'+d((n.icon||t&&t.icon||u).call(c,"actions.more",{name:"icon",hash:{},data:a}))+"</span>\n                            </div>\n                        </div>\n"+((o=n.each.call(c,s[2]!=null?s[2].qliBundleFields:s[2],{name:"each",hash:{},fn:e.program(13,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")},13:function(e,t,n,i,a,r,s){return"                            <div>\n                                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[3],{name:"field",hash:{template:"detail",model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                            </div>\n"},15:function(e,t,n,i,a,r,s){var o;return(o=n.unless.call(t!=null?t:e.nullContext||{},s[1]!=null?s[1].isDefaultGroup:s[1],{name:"unless",hash:{},fn:e.program(16,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},16:function(e,t,n,i,a,r,s){var o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'                    <div class="qli-total__row qli-total__row--detail" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"field-name",t!=null?t.name:t,{name:"debugAttributes",hash:{},data:a}))+'>\n                        <div class="qli-total__label">'+c((n.str||t&&t.str||l).call(o,t!=null?t.label:t,{name:"str",hash:{},data:a}))+'</div>\n                        <div class="qli-total__value">\n                            '+c((n.field||t&&t.field||l).call(o,s[2],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                        </div>\n                    </div>\n"},18:function(e,t,n,i,a){return'            <div class="qli-item qli-item--empty">\n                '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_QLI_GROUP_EMPTY",{name:"str",hash:{},data:a}))+"\n            </div>\n"},20:function(e,t,n,i,a){return'    <div class="qli-item qli-item--empty">\n        '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_QLI_GROUP_EMPTY",{name:"str",hash:{},data:a}))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="table-totals">\n'+((o=n.each.call(l,t!=null?t.summaryFieldDefs:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["with"].call(l,t!=null?t.totalFieldDef:t,{name:"with",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n\n"+((o=n.each.call(l,t!=null?t.groups:t,{name:"each",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n.unless.call(l,(o=t!=null?t.groups:t)!=null?o.length:o,{name:"unless",hash:{},fn:e.program(20,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,c,u="        ";o=(l=(l=n.avatarField||(t!=null?t.avatarField:t))!=null?l:n.helperMissing,c={name:"avatarField",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a},typeof l==="function"?l.call(t!=null?t:e.nullContext||{},c):l);if(!n.avatarField){o=n.blockHelperMissing.call(t,o,c)}if(o!=null){u+=o}return u+"\n"},2:function(e,t,n,i,a,r,s){return e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))},4:function(e,t,n,i,a){return"        "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c,u=t!=null?t:e.nullContext||{},d=n.helperMissing,f="function",p=e.escapeExpression,h='<div class="view__detail-bg view__detail-bg_'+p((l=(l=n.module||(t!=null?t.module:t))!=null?l:d,typeof l===f?l.call(u,{name:"module",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(u,t!=null?t.avatarField:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(4,a,0,r,s),data:a}))!=null?o:"")+'    <a class="box_detail__title">\n        ';o=(l=(l=n.headerField||(t!=null?t.headerField:t))!=null?l:d,c={name:"headerField",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a},typeof l===f?l.call(u,c):l);if(!n.headerField){o=n.blockHelperMissing.call(t,o,c)}if(o!=null){h+=o}return h+"\n    </a>\n    "+p((n.fieldByName||t&&t.fieldByName||d).call(u,"my_favorite",t,{name:"fieldByName",hash:{},data:a}))+'\n\n    <div class="box__record-actions__wrapper">\n        <div class="box__record-actions"></div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){return"    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"box__edit_readonly"},3:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{template:"edit"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="box__edit '+((o=n["if"].call(l,t!=null?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.each.call(l,t!=null?t.addressFields:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'  <div class="field__error-message">'+e.escapeExpression(e.lambda(t,t))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"box__edit_readonly"},3:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},5:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},6:function(e,t,n,i,a,r,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},8:function(e,t,n,i,a){return'                    <button tabindex="4" class="btn btn--danger btn--large delete hide fast-click-highlighted" track="click:delete">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_DELETE_BUTTON",{name:"str",hash:{},data:a}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="box__edit '+((o=n["if"].call(l,t!=null?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.each.call(l,t!=null?t.relationshipFields:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n.unless.call(l,t!=null?t.onlyRelationshipEdit:t,{name:"unless",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'            <div class="edit__footer">\n'+((o=n.unless.call(l,t!=null?t.isCreate:t,{name:"unless",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="textarea">\n    <div class="scroll">\n        <div class="pad">\n            <div class="html-content"></div>\n        </div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"readonly"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="textarea">\n    <div class="scroll">\n        <div class="pad">\n            <textarea '+((r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.options:t)!=null?r.isReadOnly:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"></textarea>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'                        <option value="'+u((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===c?s.call(o,{name:"key",hash:{},data:a}):s))+'" '+((r=n["if"].call(o,t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+">"+u((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===c?s.call(o,{name:"key",hash:{},data:a}):s))+"</option>\n"},2:function(e,t,n,i,a){return"selected"},4:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'                    <div class="emulation-item">\n                        <div class="error-emulation-check">\n                            <input type="checkbox" class="checkbox_default" data-key="'+f((l=(l=n.key||a&&a.key)!=null?l:u,typeof l===d?l.call(c,{name:"key",hash:{},data:a}):l))+'" data-type="api" '+((o=n["if"].call(c,t!=null?t.status:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n                                "+((o=n["if"].call(c,t!=null?t.disabled:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+">"+f((l=(l=n.key||a&&a.key)!=null?l:u,typeof l===d?l.call(c,{name:"key",hash:{},data:a}):l))+"\n                        </div>\n"+((o=n["if"].call(c,t!=null?t.crud:t,{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                    </div>\n"},5:function(e,t,n,i,a){return"checked"},7:function(e,t,n,i,a){return"disabled"},9:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{};return'                            <select class="error-emulation-select" data-type="crud" data-parent-type="'+e.escapeExpression((l=(l=n.key||a&&a.key)!=null?l:n.helperMissing,typeof l==="function"?l.call(c,{name:"key",hash:{},data:a}):l))+'"\n                                    '+((o=n["if"].call(c,s[1]!=null?s[1].crudDisabled:s[1],{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+">\n"+((o=n.each.call(c,t!=null?t.crud:t,{name:"each",hash:{},fn:e.program(10,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                            </select>\n"},10:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'                                    <option value="'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'" '+((r=n["if"].call(o,t!=null?t.status:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+">"+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+"</option>\n"},12:function(e,t,n,i,a){var r;return'                <li>\n                    <div class="bucket-header">\n                        Offline:\n                    </div>\n                    <div class="content">\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.offlineErrorItems:t,{name:"each",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a}))!=null?r:"")+"                    </div>\n                </li>\n"},13:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'                        <div class="error-emulation-check">\n                            <input type="checkbox" class="checkbox_default" '+((r=n["if"].call(o,t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+' data-key="'+u((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===c?s.call(o,{name:"key",hash:{},data:a}):s))+'" data-type="offline">'+u((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===c?s.call(o,{name:"key",hash:{},data:a}):s))+"\n                        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <ul class="listing">\n            <li>\n                <div class="bucket-header">\n                    HTTP:\n                </div>\n\n                <h4>Error to be triggered:</h4>\n                <select class="error-emulation-select" data-type="http">\n                    <option value="default">no error</option>\n'+((o=n.each.call(l,t!=null?t.httpErrorItems:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                </select>\n\n                <div class="content">\n'+((o=n.each.call(l,t!=null?t.apiErrorItems:t,{name:"each",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                </div>\n            </li>\n"+((o=n.unless.call(l,t!=null?t.offlineDisabled:t,{name:"unless",hash:{},fn:e.program(12,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </ul>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return"\n    "+l((n.str||t&&t.str||o).call(s,"ERR_MOBILE_VIEW_NOT_SUPPORTED",{name:"str",hash:{},data:a}))+'\n\n    <div class="sugar-back-link">\n        <a id="sugar_url" track="click:desktop" target="_blank" href="'+l((r=(r=n.sugarLink||(t!=null?t.sugarLink:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"sugarLink",hash:{},data:a}):r))+'">'+l((n.str||t&&t.str||o).call(s,"LBL_MOBILE_DESKTOP","",t!=null?t.config:t,{name:"str",hash:{},data:a}))+"</a>\n    </div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return"        Error "+l((r=(r=n.errorCode||(t!=null?t.errorCode:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"errorCode",hash:{},data:a}):r))+". "+l((n.str||t&&t.str||o).call(s,t!=null?t.errorLabel:t,{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="error-message b-vc-w">\n<div class="b-vc">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.showSugarBackLink:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="filter__item filter__item-main"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted '+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFilterDDOpened:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" track=""></a></span>\n'},2:function(e,t,n,i,a){return"active"},4:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <span class="filter__item filter__item-by"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted" track="">'+o((n.str||t&&t.str||s).call(r,"LBL_MOBILE_BY",{name:"str",hash:{},data:a}))+': <span class="field-name"></span></a></span>\n        <span class="filter__item filter__item-sort"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted" track="">\n            '+o((n.icon||t&&t.icon||s).call(r,"sorting.asc",{name:"icon",hash:{additionalClass:"filter-item-sort__asc"},data:a}))+"\n            "+o((n.icon||t&&t.icon||s).call(r,"sorting.desc",{name:"icon",hash:{additionalClass:"filter-item-sort__desc"},data:a}))+"\n        </a></span>\n"},6:function(e,t,n,i,a){return"hide"},8:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'    <div class="dropdown dropdown__filter '+((r=n.unless.call(s,t!=null?t.isFilterDDOpened:t,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        <ul>\n'+((r=n.each.call(s,t!=null?t.filters:t,{name:"each",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            <li class="filters-preloader hide"><a><span class="name">'+l((n.partial||t&&t.partial||o).call(s,"spinner",t,{name:"partial",hash:{},data:a}))+l((n.str||t&&t.str||o).call(s,"LBL_LOADING",{name:"str",hash:{},data:a}))+'</span></a></li>\n            <li class="filters-fetching-error hide fast-click-highlighted">\n                <a class="filters-reload">\n                    <span>'+l((n.str||t&&t.str||o).call(s,"ERR_FILTERS_FETCHING",{name:"str",hash:{},data:a}))+'</span><br />\n                    <span class="filters-try-again">'+l((n.str||t&&t.str||o).call(s,"LBL_TRY_AGAIN",{name:"str",hash:{},data:a}))+"</span>\n                </a>\n            </li>\n        </ul>\n    </div>\n"},9:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'                <li class="fast-click-highlighted"><a class="'+((r=n["if"].call(o,t!=null?t.active:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" data-filter-id="'+u((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s===c?s.call(o,{name:"id",hash:{},data:a}):s))+'">'+u((n.icon||t&&t.icon||l).call(o,"sorting.checked",{name:"icon",hash:{additionalClass:"check-icon"},data:a}))+' <span class="name">'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+"</span></a></li>\n"},11:function(e,t,n,i,a){var r;return'    <div class="dropdown dropdown__sortBy hide">\n        <ul>\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.sortableFields:t,{name:"each",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </ul>\n    </div>\n"},12:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'            <li class="fast-click-highlighted"><a data-fieldname="'+c((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+'">'+c((n.icon||t&&t.icon||o).call(s,"sorting.checked",{name:"icon",hash:{additionalClass:"check-icon"},data:a}))+' <span class="name">'+c((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+"</span></a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="box__filter">\n'+((r=n["if"].call(s,(r=t!=null?t.filters:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    <span class="filter__seporate"></span>\n    \x3c!--Sort buttons--\x3e\n'+((r=n["if"].call(s,t!=null?t.sortable:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'</div>\n\n<div class="overlay-dropdown '+((r=n.unless.call(s,t!=null?t.isFilterDDOpened:t,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'"></div>\n'+((r=n["if"].call(s,(r=t!=null?t.filters:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(s,t!=null?t.sortable:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"btns-long"},3:function(e,t,n,i,a){return"has-edit-button"},5:function(e,t,n,i,a){return"has-search"},7:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<a href="javascript:void(0)" class="backBtn back fast-click-highlighted" aria-label="'+o((n.str||t&&t.str||s).call(r,"LBL_VO_BACK_BTN",{name:"str",hash:{},data:a}))+'" track="click:back">'+o((n.icon||t&&t.icon||s).call(r,"header.back",{name:"icon",hash:{},data:a}))+"</a>"},9:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <a href="javascript:void(0)" class="logo menuBtn fast-click-highlighted" aria-label="'+l((n.str||t&&t.str||o).call(s,"LBL_VO_HOME_BTN",{name:"str",hash:{},data:a}))+'" track="click:home">\n                '+l((n.icon||t&&t.icon||o).call(s,"header.menu",{name:"icon",hash:{},data:a}))+"\n"+((r=n.blockHelperMissing.call(t,e.lambda((r=t!=null?t.config:t)!=null?r.offlineEnabled:r,t),{name:"config.offlineEnabled",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+"            </a>\n"},10:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <span class="offline-status '+l((r=(r=n.offlineStatusClass||(t!=null?t.offlineStatusClass:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"offlineStatusClass",hash:{},data:a}):r))+'">'+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:a}))+"</span>\n"},12:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<a href="javascript:void(0)" class="dashHomeBtn fast-click-highlighted" aria-label="'+o((n.str||t&&t.str||s).call(r,"LBL_VO_DASHBOARD_BTN",{name:"str",hash:{},data:a}))+'" track="click:dashHome">'+o((n.icon||t&&t.icon||s).call(r,"header.dashboard",{name:"icon",hash:{},data:a}))+"</a>"},14:function(e,t,n,i,a){var r;return'            <div class="header__btn--cancel header__btn fast-click-highlighted" track="click:cancel">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.config:t)!=null?r.cancelLabel:r,{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.program(17,a,0),data:a}))!=null?r:"")+"            </div>\n"},15:function(e,t,n,i,a){var r;return"                    "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.config:t)!=null?r.cancelLabel:r,{name:"str",hash:{},data:a}))+"\n"},17:function(e,t,n,i,a){return"                    "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CANCEL_BUTTON_LABEL",{name:"str",hash:{},data:a}))+"\n"},19:function(e,t,n,i,a){var r;return e.escapeExpression(e.lambda((r=t!=null?t.config:t)!=null?r.subtitle:r,t))},21:function(e,t,n,i,a){var r;return e.escapeExpression(e.lambda((r=t!=null?t.config:t)!=null?r.title:r,t))},23:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'            <div class="header__save-container '+((r=n["if"].call(s,(r=t!=null?t.config:t)!=null?r.saveHidden:r,{name:"if",hash:{},fn:e.program(24,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <div class="header__btn--save header__btn fast-click-highlighted '+((r=n["if"].call(s,t!=null?t._saveBtnDisabled:t,{name:"if",hash:{},fn:e.program(26,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" track="click:save">\n'+((r=n["if"].call(s,(r=t!=null?t.config:t)!=null?r.saveLabel:r,{name:"if",hash:{},fn:e.program(28,a,0),inverse:e.program(30,a,0),data:a}))!=null?r:"")+'                </div>\n                <div class="header__btn--caret header__btn fast-click-highlighted hide">\n                    '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(s,"header.saveBtnArrow",{name:"icon",hash:{additionalClass:"saveArrow-icon"},data:a}))+"\n                </div>\n            </div>\n"},24:function(e,t,n,i,a){return"hide"},26:function(e,t,n,i,a){return"disabled"},28:function(e,t,n,i,a){var r;return"                        "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.config:t)!=null?r.saveLabel:r,{name:"str",hash:{},data:a}))+"\n"},30:function(e,t,n,i,a){return"                        "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_SAVE_BUTTON_LABEL",{name:"str",hash:{},data:a}))+"\n"},32:function(e,t,n,i,a){var r,s,o,l=t!=null?t:e.nullContext||{},c='            <a href="javascript:void(0)" class="createBtn launch create-entity fast-click-highlighted" aria-label="'+((r=n["if"].call(l,t!=null?t.quickAction:t,{name:"if",hash:{},fn:e.program(33,a,0),inverse:e.program(35,a,0),data:a}))!=null?r:"")+'" track="click:create" ';r=(s=(s=n.quickAction||(t!=null?t.quickAction:t))!=null?s:n.helperMissing,o={name:"quickAction",hash:{},fn:e.program(37,a,0),inverse:e.noop,data:a},typeof s==="function"?s.call(l,o):s);if(!n.quickAction){r=n.blockHelperMissing.call(t,r,o)}if(r!=null){c+=r}return c+">\n"+((r=n["if"].call(l,t!=null?t.quickAction:t,{name:"if",hash:{},fn:e.program(39,a,0),inverse:e.program(41,a,0),data:a}))!=null?r:"")+"            </a>\n"},33:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VO_ADD_BTN",{name:"str",hash:{},data:a}))},35:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VO_RIGHT_MENU_BTN",{name:"str",hash:{},data:a}))},37:function(e,t,n,i,a){var r;return'action="'+e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))+'"'},39:function(e,t,n,i,a){var r;return"                    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.quickAction:t)!=null?r.iconKey:r,{name:"icon",hash:{additionalClass:"header-icon__plus icon-size-md"},data:a}))+"\n"},41:function(e,t,n,i,a){return"                    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"header.overflow",{name:"icon",hash:{additionalClass:"header-icon__plus icon-size-md"},data:a}))+"\n"},43:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'            <a href="javascript:void(0)" class="searchBtn fast-click-highlighted" aria-label="'+o((n.str||t&&t.str||s).call(r,"LBL_VO_SEARCH_BTN",{name:"str",hash:{},data:a}))+'" track="click:search">'+o((n.icon||t&&t.icon||s).call(r,"header.search",{name:"icon",hash:{additionalClass:"icon-size-md"},data:a}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o,l=t!=null?t:e.nullContext||{},c=e.lambda,u=n.blockHelperMissing,d='<div class="box__header '+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.btnsLong:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(l,(r=(r=t!=null?t.config:t)!=null?r.ui:r)!=null?r.hasEditButton:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.search:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" track="swipeLeft swipeRight:header">\n    <div class="header__inner">\n        '+((r=u.call(t,c((r=t!=null?t.config:t)!=null?r.back:r,t),{name:"config.back",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=u.call(t,c((r=t!=null?t.config:t)!=null?r.isMenuButtonSupported:r,t),{name:"config.isMenuButtonSupported",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=u.call(t,c((r=t!=null?t.config:t)!=null?r.dashboardHome:r,t),{name:"config.dashboardHome",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=u.call(t,c((r=t!=null?t.config:t)!=null?r.cancel:r,t),{name:"config.cancel",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <h1 class="header__title">\n            <span class="header-subtitle">'+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.subtitle:r,{name:"if",hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a}))!=null?r:"")+'</span>\n            <span class="header-title">'+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.title:r,{name:"if",hash:{},fn:e.program(21,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</span>\n        </h1>\n"+((r=u.call(t,c((r=t!=null?t.config:t)!=null?r.save:r,t),{name:"config.save",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a}))!=null?r:"");r=(s=(s=n.rightMenu||(t!=null?t.rightMenu:t))!=null?s:n.helperMissing,o={name:"rightMenu",hash:{},fn:e.program(32,a,0),inverse:e.noop,data:a},typeof s==="function"?s.call(l,o):s);if(!n.rightMenu){r=u.call(t,r,o)}if(r!=null){d+=r}return d+((r=u.call(t,c((r=t!=null?t.config:t)!=null?r.search:r,t),{name:"config.search",hash:{},fn:e.program(43,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    </div>\n    <div class="right-menu__container_tablet"></div>\n</div>\n<div class="overlay__right-menu hide" track="swipeLeft swipeRight:header"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"additional"},3:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="field field-dupecheck-list">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                <div class="row row--head clip field-dupecheck-list__value">\n                    '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                </div>\n            </div>\n"},4:function(e,t,n,i,a,r,s){return'                    <div class="clip field-dupecheck-list__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},6:function(e,t,n,i,a){return"        hide\n"},8:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                <div class="field field-dupecheck-list">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                    <div class="row clip field-dupecheck-list__value">\n                        '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                    </div>\n                </div>\n"},9:function(e,t,n,i,a,r,s){return'                        <div class="clip field-dupecheck-list__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},11:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <a href="javascript:void(0)" class="show-more-link fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_MORE",{name:"str",hash:{},data:a}))+'</a>\n        <a href="javascript:void(0)" class="hide show-less-link fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_LESS",{name:"str",hash:{},data:a}))+"</a>\n\n"},13:function(e,t,n,i,a){return'        <a href="javascript:void(0)" class="edit-link fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_EDIT_BUTTON",{name:"str",hash:{},data:a}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'<article data-id="'+d((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"itemId",hash:{},data:a}):l))+'" class="fast-click-highlighted list-item-radio list-item-dupecheck">\n    '+d((n.icon||t&&t.icon||u).call(c,"edit.radioOff",{name:"icon",hash:{additionalClass:"radio-icon"},data:a}))+'\n    <div class="fields '+((o=n["if"].call(c,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(c,t!=null?t.headFields:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        <div class="\n        rest-fields\n'+((o=n["if"].call(c,(o=t!=null?t.links:t)!=null?o.showMore:o,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        ">\n'+((o=n.each.call(c,t!=null?t.restFields:t,{name:"each",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n    </div>\n"+((o=n["if"].call(c,(o=t!=null?t.links:t)!=null?o.showMore:o,{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,(o=t!=null?t.links:t)!=null?o.edit:o,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"                    hide\n"},3:function(e,t,n,i,a){var r;return"                    "+((r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.duplicatesCheckFailed:t,{name:"unless",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},4:function(e,t,n,i,a){return"hide"},6:function(e,t,n,i,a){var r;return"                    "+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.duplicatesCheckFailed:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},8:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <a href="javascript:void 0"\n                   class="box__link-duplicates duplicates-list__search" track="click:lead-conversion-'+l((r=(r=n.module||(t!=null?t.module:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"module",hash:{},data:a}):r))+'-search">\n                    '+l((n.str||t&&t.str||o).call(s,"LBL_SEARCH_EXISTING_RECORD",null,t!=null?t.modulePlural:t,{name:"str",hash:{},data:a}))+"\n                </a>\n"},10:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'                <a href="javascript:void 0"\n                   class="box__link-duplicates duplicates-list__create\n'+((r=n["if"].call(o,t!=null?t.isNewDuplicateRecord:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))!=null?r:"")+'                    " track="click:lead-conversion-'+c((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"module",hash:{},data:a}):s))+'-create">\n                    '+c((n.str||t&&t.str||l).call(o,"LBL_CREATE_MODULE",null,t!=null?t.moduleSingular:t,{name:"str",hash:{},data:a}))+"\n                </a>\n"},11:function(e,t,n,i,a){return"                        disabled\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="lead-conversion__section lead-conversion__section--relative">\n    <div class="scroll">\n        <div class="pad">\n            <div class="duplicates-check-failed\n'+((r=n["if"].call(s,(r=t!=null?t.collection:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+'                ">'+l((n.str||t&&t.str||o).call(s,"LBL_DUPLICATES_CHECK_FAILED",{name:"str",hash:{},data:a}))+' <a href="javascript:void 0" class="reload-duplicates">'+l((n.str||t&&t.str||o).call(s,"LBL_TRY_AGAIN",{name:"str",hash:{},data:a}))+'</a></div>\n\n            <div class="duplicates-check-no-records-found\n'+((r=n["if"].call(s,(r=t!=null?t.collection:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:"")+'            ">'+l((n.str||t&&t.str||o).call(s,"LBL_MOBILE_NO_DUPLICATES_FOUND",{name:"str",hash:{},data:a}))+'</div>\n\n            <div class="lead-conversion__content--relative '+((r=n.unless.call(s,(r=t!=null?t.collection:t)!=null?r.length:r,{name:"unless",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <div class="duplicates-list-hint">\n                    '+l((n.str||t&&t.str||o).call(s,t!=null?t.duplicateListHint:t,null,t,{name:"str",hash:{},data:a}))+"\n                </div>\n                "+l((n.childViews||t&&t.childViews||o).call(s,"duplicates",{name:"childViews",hash:{},data:a}))+"\n            </div>\n\n"+((r=n["if"].call(s,t!=null?t.hasListAccess:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(s,t!=null?t.hasCreateAccess:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="lead-conversion__prev fast-click-highlighted" track="click:lead-conversion-back"\n            '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.label:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n            "+l((n.icon||t&&t.icon||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.icon:r,{name:"icon",hash:{},data:a}))+"\n            "+((r=(n.str||t&&t.str||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.label:r,{name:"str",hash:{},data:a}))!=null?r:"")+"\n        </span>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="\n        lead-conversion__next\n        btn btn--primary '+((r=n.unless.call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.enabled:r,{name:"unless",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        fast-click-highlighted" track="click:lead-conversion-next"\n            '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.label:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n            "+((r=(n.str||t&&t.str||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.label:r,{name:"str",hash:{},data:a}))!=null?r:"")+"\n            "+l((n.icon||t&&t.icon||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.icon:r,{name:"icon",hash:{},data:a}))+"\n        </span>\n"},4:function(e,t,n,i,a){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="lead-conversion__footer">\n'+((r=n["if"].call(s,(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.show:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.show:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"    "+e.escapeExpression((n.childViews||t&&t.childViews||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.viewId:t,{name:"childViews",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return"\n"+((r=n.each.call(o,t!=null?t._viewDefs:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'<div class="progress-wrap progress">\n    <div class="progress-bar progress"></div>\n</div>\n<div class="'+e.escapeExpression((s=(s=n.switcherCss||(t!=null?t.switcherCss:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"switcherCss",hash:{},data:a}):s))+'"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["with"].call(t!=null?t:e.nullContext||{},t!=null?t.attributes:t,{name:"with",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'        <div data-id="'+u((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s===c?s.call(o,{name:"id",hash:{},data:a}):s))+'" class="comment__item">\n            <a href="#Users/'+u((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===c?s.call(o,{name:"created_by",hash:{},data:a}):s))+'/edit">'+u((n.userPicture||t&&t.userPicture||l).call(o,t!=null?t.created_by:t,{name:"userPicture",hash:{},data:a}))+"</a>\n            "+u((n.comment||t&&t.comment||l).call(o,(r=t!=null?t.data:t)!=null?r.value:r,(r=t!=null?t.data:t)!=null?r.tags:r,{name:"comment",hash:{},data:a}))+'\n            <div class="comment__info">\n                <a href="#Users/'+u((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===c?s.call(o,{name:"created_by",hash:{},data:a}):s))+'">'+u((n.str||t&&t.str||l).call(o,t!=null?t.created_by_name:t,{name:"str",hash:{},data:a}))+"</a> "+u((n.relativeTime||t&&t.relativeTime||l).call(o,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:a}))+"\n            </div>\n        </div>\n"},4:function(e,t,n,i,a){var r;return'    <a href="#" class="comments-more-btn">'+e.escapeExpression((r=(r=n._moreCommentsCount||(t!=null?t._moreCommentsCount:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"_moreCommentsCount",hash:{},data:a}):r))+" more comments...</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return((r=n.each.call(s,(r=t!=null?t.collection:t)!=null?r.models:r,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(s,t!=null?t._moreCommentsCount:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" has-grip "},3:function(e,t,n,i,a){return" has-drag-menu "},5:function(e,t,n,i,a){return" has-menu "},7:function(e,t,n,i,a){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:a}))+"\n"},9:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return((r=n["if"].call(s,t!=null?t.dateSentFieldDef:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            <div class="item-name clip">\n                '+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(s,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n            </div>\n"},10:function(e,t,n,i,a){return'                <div class="field-leads-status-value">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.dateSentFieldDef:t,t,{name:"fieldByName",hash:{},data:a}))+"</div>\n"},12:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(15,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n"},13:function(e,t,n,i,a){return"additional"},15:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(16,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                        </div>\n                    </div>\n"},16:function(e,t,n,i,a,r,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},18:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:u,typeof l===d?l.call(c,{name:"itemId",hash:{},data:a}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:u,typeof l===d?l.call(c,{name:"moduleName",hash:{},data:a}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(c,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(3,a,0,r,s),data:a}))!=null?o:"")+"\n    "+((o=n["if"].call(c,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:u,typeof l===d?l.call(c,{name:"detailsCss",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(c,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.program(9,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(12,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(c,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" has-grip "},3:function(e,t,n,i,a){return" has-drag-menu "},5:function(e,t,n,i,a){return" has-menu "},7:function(e,t,n,i,a){return" item-checkbox "},9:function(e,t,n,i,a){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},11:function(e,t,n,i,a){return'            <span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.moduleName:t,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>\n'},13:function(e,t,n,i,a){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:a}))+"\n"},15:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return((r=n["if"].call(s,t!=null?t.statusFieldDef:t,{name:"if",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            <div class="item-name clip">\n                '+l((n.fieldByName||t&&t.fieldByName||o).call(s,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n                "+l((n.fieldByName||t&&t.fieldByName||o).call(s,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:a}))+"\n            </div>\n"},16:function(e,t,n,i,a){var r;return'                <div class="field-leads-status-value">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.statusFieldDef:t)!=null?r.name:r,t,{name:"fieldByName",hash:{},data:a}))+"</div>\n"},18:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(19,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(21,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n"},19:function(e,t,n,i,a){return"additional"},21:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(22,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                        </div>\n                    </div>\n"},22:function(e,t,n,i,a,r,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},24:function(e,t,n,i,a){var r;return"            "+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.view:t)!=null?r.sortBy:r,t,{name:"fieldByName",hash:{},data:a}))+"\n"},26:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:u,typeof l===d?l.call(c,{name:"itemId",hash:{},data:a}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:u,typeof l===d?l.call(c,{name:"moduleName",hash:{},data:a}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(c,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(3,a,0,r,s),data:a}))!=null?o:"")+"\n    "+((o=n["if"].call(c,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    "+((o=n["if"].call(c,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n'+((o=n["if"].call(c,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:u,typeof l===d?l.call(c,{name:"detailsCss",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(c,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.program(15,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,(o=t!=null?t.view:t)!=null?o.sortBy:o,{name:"if",hash:{},fn:e.program(24,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(c,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(26,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"item-checkbox"},3:function(e,t,n,i,a){return e.escapeExpression((n.debugAttributes||t&&t.debugAttributes||n.helperMissing).call(t!=null?t:e.nullContext||{},"label",t!=null?t.label:t,{name:"debugAttributes",hash:{},data:a}))},5:function(e,t,n,i,a){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},7:function(e,t,n,i,a){return"        "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===c?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="picker-list-row fast-click-highlighted '+((r=n["if"].call(o,(r=t!=null?t.view:t)!=null?r.multiselect:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" '+((r=n["if"].call(o,(r=t!=null?t.view:t)!=null?r.multiselect:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"  "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"module",t!=null?t.module:t,{name:"debugAttributes",hash:{},data:a}))+">\n"+((r=n["if"].call(o,(r=t!=null?t.view:t)!=null?r.multiselect:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.module:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    <a href="javascript:void(0)">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+"</a>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"search"},3:function(e,t,n,i,a){return'            <div class="clip">'+e.escapeExpression((n.teamSearchItem||t&&t.teamSearchItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"teamSearchItem",hash:{},data:a}))+"</div>\n"},5:function(e,t,n,i,a){return'            <div class="clip">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},"name",t,{name:"fieldByName",hash:{type:"teamset-name"},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="list-item item-checkbox fast-click-highlighted"\n    '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"team_name",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.name:r,{name:"debugAttributes",hash:{},data:a}))+"\n    "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"uid",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.id:r,{name:"debugAttributes",hash:{},data:a}))+">\n\n    "+c((n.icon||t&&t.icon||l).call(o,"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+'\n    <div class="'+((r=n["if"].call(o,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' txt">\n'+((r=n["if"].call(o,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<article class="tx-item list-item fast-click-highlighted '+u((s=(s=n.getTxLogItemStatusClass||(t!=null?t.getTxLogItemStatusClass:t))!=null?s:l,typeof s===c?s.call(o,{name:"getTxLogItemStatusClass",hash:{},data:a}):s))+'" data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===c?s.call(o,{name:"itemId",hash:{},data:a}):s))+'"\n         module="'+u(e.lambda((r=t!=null?t.model:t)!=null?r.module:r,t))+'" '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"record_id",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_bean_id:r,{name:"debugAttributes",hash:{},data:a}))+'>\n    <div class="txt line-clamp">\n        '+u((s=(s=n.getTxLogActionExplanation||(t!=null?t.getTxLogActionExplanation:t))!=null?s:l,typeof s===c?s.call(o,{name:"getTxLogActionExplanation",hash:{},data:a}):s))+"\n    </div>\n    "+u((n.partial||t&&t.partial||l).call(o,"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" has-grip "},3:function(e,t,n,i,a){return" has-drag-menu "},5:function(e,t,n,i,a){return" has-menu "},7:function(e,t,n,i,a){return" item-checkbox "},9:function(e,t,n,i,a){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},11:function(e,t,n,i,a){return'            <span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.moduleName:t,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>\n'},13:function(e,t,n,i,a){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:a}))+"\n"},15:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'           <div class="item-name clip">\n               '+o((n.fieldByName||t&&t.fieldByName||s).call(r,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n               "+o((n.fieldByName||t&&t.fieldByName||s).call(r,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:a}))+"\n           </div>\n"},17:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(20,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n"},18:function(e,t,n,i,a){return"additional"},20:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(21,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                        </div>\n                    </div>\n"},21:function(e,t,n,i,a,r,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},23:function(e,t,n,i,a){var r;return"            "+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.view:t)!=null?r.sortBy:r,t,{name:"fieldByName",hash:{},data:a}))+"\n"},25:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:u,typeof l===d?l.call(c,{name:"itemId",hash:{},data:a}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:u,typeof l===d?l.call(c,{name:"moduleName",hash:{},data:a}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(c,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(3,a,0,r,s),data:a}))!=null?o:"")+"\n        "+((o=n["if"].call(c,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n        "+((o=n["if"].call(c,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n'+((o=n["if"].call(c,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:u,typeof l===d?l.call(c,{name:"detailsCss",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(c,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.program(15,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(17,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(c,(o=t!=null?t.view:t)!=null?o.sortBy:o,{name:"if",hash:{},fn:e.program(23,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(c,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(25,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="no-records-found hide">\n    '+e.escapeExpression(e.lambda(t!=null?t.labelNoRecords:t,t))+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="error-box">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"ERR_MOBILE_NOT_AUTHORIZED",{name:"str",hash:{},data:a}))+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="scroll">\n    <div class="listing" id="listing">\n        '+e.escapeExpression((n.listItems||t&&t.listItems||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.collection:t)!=null?r.models:r,t,{name:"listItems",hash:{},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'    <div class="show-more-btn show-more-bottom-btn '+((r=n.unless.call(o,t!=null?t.needShowMoreBottomBtn:t,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        <div>\n            <a class="show_more_posts" href="javascript:void(0)" track="click:more-bottom">'+e.escapeExpression((s=(s=n.labelShowMoreBottom||(t!=null?t.labelShowMoreBottom:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"labelShowMoreBottom",hash:{},data:a}):s))+"</a>\n        </div>\n    </div>\n"},2:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isPaginationEnabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'    <div class="show-more-btn show-more-top-btn '+((r=n.unless.call(o,t!=null?t.needShowMoreTopButton:t,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        <div>\n            <a class="show_more_posts" href="javascript:void(0)" track="click:more-top">'+e.escapeExpression((s=(s=n.labelShowMoreTop||(t!=null?t.labelShowMoreTop:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"labelShowMoreTop",hash:{},data:a}):s))+"</a>\n        </div>\n    </div>\n"},2:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isPaginationEnabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="listing" id="'+c((s=(s=n.listViewId||(t!=null?t.listViewId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"listViewId",hash:{},data:a}):s))+'">\n  '+c((n.partial||t&&t.partial||l).call(o,"list-no-records",t,{name:"partial",hash:{},data:a}))+"\n  "+c((n.partial||t&&t.partial||l).call(o,"list-show-more-top",t,{name:"partial",hash:{},data:a}))+'\n    <div class="items">\n      '+c((n.listItems||t&&t.listItems||l).call(o,(r=t!=null?t.collection:t)!=null?r.models:r,t,{name:"listItems",hash:{},data:a}))+"\n    </div>\n  "+c((n.partial||t&&t.partial||l).call(o,"list-show-more-bottom",t,{name:"partial",hash:{},data:a}))+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'    <span class="menu-container-grip grip" track="click:c-menu">'+o((n.icon||t&&t.icon||s).call(r,"list.grip",{name:"icon",hash:{},data:a}))+'</span>\n    <div class="menu-container">\n        <span class="grip open" track="click:c-menu.open">'+o((n.icon||t&&t.icon||s).call(r,"list.grip",{name:"icon",hash:{},data:a}))+"</span>\n    </div>\n"},3:function(e,t,n,i,a){return'    <div class="menu-container"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression;return'            <div class="as__icon">\n                <i class="tw__user_icon icon" style="background-image: url('+o(s(t!=null?t.tw_profile_image_url:t,t))+');">\n                </i>\n            </div>\n\n            <div class="as__info" >\n                <a class="tw__as_profile_link" target="_blank" href="'+o(s(t!=null?t.tw_profile_url:t,t))+'" ><strong>'+o(s(t!=null?t.name:t,t))+'</strong></a>\n                <a class="tw__as_profile_link" target="_blank" href="'+o(s(t!=null?t.tw_profile_url:t,t))+'" >@'+o(s(t!=null?t.screen_name:t,t))+'</a>\n                <div class="pull-right">\n                    '+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.date:t,{name:"relativeTime",hash:{},data:a}))+'\n                </div>\n            </div>\n            <div class="tw__as__title as__title">\n                '+((r=s(t!=null?t.text:t,t))!=null?r:"")+"\n            </div>\n"},3:function(e,t,n,i,a){return"            "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===c?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" module="'+u((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===c?s.call(o,{name:"moduleName",hash:{},data:a}):s))+'" class="activitystream-item list-item" track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="as__detail">\n'+((r=n["with"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"with",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"readonly"},3:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.clearButton||(t!=null?t.clearButton:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"clearButton",hash:{},data:a}):r))},5:function(e,t,n,i,a){return"checked"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="field no-border"\n    '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-name","sso",{name:"debugAttributes",hash:{},data:a}))+"\n    "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-type","toggle",{name:"debugAttributes",hash:{},data:a}))+'>\n    <div class="field__controls">\n    <div class="field__controls--flex">\n        <span class="settings__control_label">'+l((n.str||t&&t.str||o).call(s,"LBL_EXTERNAL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:a}))+'</span>\n        <div class="settings__control_checkbox">\n            <label class="checkbox-toggle">\n                <input type="checkbox" '+((r=n.unless.call(s,t!=null?t.loginSettingsEditable:t,{name:"unless",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+' class="checkbox-toggle__checkbox sso_checkbox" '+((r=n["if"].call(s,t!=null?t.isSSO:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                <span class="checkbox-toggle__slider"></span>\n            </label>\n        </div>\n    </div>\n    </div>\n</div>\n'},8:function(e,t,n,i,a){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u="function";return'\n<div class="settings__controls_group">\n<div class="field"\n    '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"field-name","url",{name:"debugAttributes",hash:{},data:a}))+"\n    "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"field-type","url",{name:"debugAttributes",hash:{},data:a}))+'>\n    <div class="field__controls">\n        <label class="field__label settings__control_label_url">'+c((n.str||t&&t.str||l).call(o,"LBL_MOBILE_SERVER_URL",{name:"str",hash:{},data:a}))+'</label>\n        <span class="input-wrapper">\n            <input type="url" class="login_settings_server_url" placeholder="your-'+c((s=(s=n.brandName||(t!=null?t.brandName:t))!=null?s:l,typeof s===u?s.call(o,{name:"brandName",hash:{},data:a}):s))+'-instance.com" value="'+c((s=(s=n.serverUrl||(t!=null?t.serverUrl:t))!=null?s:l,typeof s===u?s.call(o,{name:"serverUrl",hash:{},data:a}):s))+'" autocapitalize="off" autocorrect="off" autocomplete="off" '+((r=n.unless.call(o,t!=null?t.loginSettingsEditable:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+">\n            "+((r=n["if"].call(o,t!=null?t.loginSettingsEditable:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        </span>\n    </div>\n</div>\n\n<div class="field no-border"\n    '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"field-name","https",{name:"debugAttributes",hash:{},data:a}))+"\n    "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"field-type","toggle",{name:"debugAttributes",hash:{},data:a}))+'>\n    <div class="field__controls">\n        <div class="field__controls--flex">\n            <span class="settings__control_label">'+c((n.str||t&&t.str||l).call(o,"LBL_USE_HTTPS",{name:"str",hash:{},data:a}))+'</span>\n            <div class="settings__control_checkbox">\n                <label class="checkbox-toggle">\n                    <input type="checkbox" class="checkbox-toggle__checkbox ssl_checkbox" '+((r=n["if"].call(o,t!=null?t.useHttps:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                    <span class="checkbox-toggle__slider"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n</div>\n\n'+((r=n["if"].call(o,t!=null?t.showExternalLogin:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<div class="page__login">\n\n    <div id="login_settings_section" class="login__body">\n        '+o((n.partial||t&&t.partial||s).call(r,"login-settings-section",t,{name:"partial",hash:{},data:a}))+'\n    </div>\n\n    <div class="login__footer">\n        <a href="javascript:void(0)" class="btn btn--primary btn--large continue_btn fast-click-highlighted" disabled="disabled" track="click:login">'+o((n.str||t&&t.str||s).call(r,"LBL_UPDATE",{name:"str",hash:{},data:a}))+"</a>\n    </div>\n\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'            <div  class="login__settings_div">\n                <a href="javascript:void(0)" class="login__settings_btn fast-click-highlighted" track="click:login-settings-btn">\n                    '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu.settings",{name:"icon",hash:{additionalClass:"icon-size-md"},data:a}))+"\n                </a>\n            </div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'        <div id="login_settings_section" class="login__settings">\n            <div class="field">\n                <div class="settings__header">'+c((r=(r=n.loginSettingsTitle||(t!=null?t.loginSettingsTitle:t))!=null?r:o,typeof r===l?r.call(s,{name:"loginSettingsTitle",hash:{},data:a}):r))+'</div>\n                <div class="settings__header__desc">'+c((r=(r=n.loginSettingsDesc||(t!=null?t.loginSettingsDesc:t))!=null?r:o,typeof r===l?r.call(s,{name:"loginSettingsDesc",hash:{},data:a}):r))+"</div>\n            </div>\n            "+c((n.partial||t&&t.partial||o).call(s,"login-settings-section",t,{name:"partial",hash:{},data:a}))+"\n        </div>\n"},5:function(e,t,n,i,a,r,s){var o;return'        <form id="login_section" class="login-fields">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </form>\n"},6:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},8:function(e,t,n,i,a){return"login__footer_show-attribution"},10:function(e,t,n,i,a){return'            <a href="javascript:void(0)" class="btn btn--primary btn--large continue_btn fast-click-highlighted" disabled="disabled" track="click:loginsettings_continue">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CONTINUE",{name:"str",hash:{},data:a}))+"</a>\n"},12:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'            <a href="javascript:void(0)" id="login_btn" class="btn btn--primary btn--large fast-click-highlighted" disabled="disabled" track="click:login">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:a}))+"</a>\n"+((r=n["if"].call(s,t!=null?t.showExternalLogin:t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a}))!=null?r:"")},13:function(e,t,n,i,a){return'                <a href="javascript:void(0)" id="external_login_btn" tabindex="5" class="btn btn--primary btn--large fast-click-highlighted" track="click:external_login">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_EXTERNAL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:a}))+"</a>\n"},15:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <div class="box__copyright">\n            <span class="copyright__text">powered by</span>\n            <span class="copyright__logo">\n                '+l((n.partial||t&&t.partial||o).call(s,"sugarcrm-copyright-logo",t,{name:"partial",hash:{},data:a}))+'\n            </span>\n            <span class="copyright__version">v. '+l((r=(r=n.productVersion||(t!=null?t.productVersion:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"productVersion",hash:{},data:a}):r))+"</span>\n        </div>\n"},17:function(e,t,n,i,a){var r;return'        <div class="version">v. '+e.escapeExpression((r=(r=n.productVersion||(t!=null?t.productVersion:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"productVersion",hash:{},data:a}):r))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="page__login">\n    <div class="login__header">\n'+((o=n["if"].call(c,t!=null?t.settingsButtonVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        <h3 class="brand">'+f((l=(l=n.brandName||(t!=null?t.brandName:t))!=null?l:u,typeof l===d?l.call(c,{name:"brandName",hash:{},data:a}):l))+'</h3>\n    </div>\n    <div class="login__body">\n\n'+((o=n["if"].call(c,t!=null?t.showLoginSettingsSection:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.program(5,a,0,r,s),data:a}))!=null?o:"")+'\n    </div>\n    <div class="login__footer '+((o=n["if"].call(c,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n\n'+((o=n["if"].call(c,t!=null?t.showLoginSettingsSection:t,{name:"if",hash:{},fn:e.program(10,a,0,r,s),inverse:e.program(12,a,0,r,s),data:a}))!=null?o:"")+'\n    </div>\n</div>\n<div class="login__links">\n'+((o=n["if"].call(c,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(15,a,0,r,s),inverse:e.program(17,a,0,r,s),data:a}))!=null?o:"")+'    <a href="'+f((l=(l=n.tosLink||(t!=null?t.tosLink:t))!=null?l:u,typeof l===d?l.call(c,{name:"tosLink",hash:{},data:a}):l))+'" class="legal-link login-links__link fast-click-highlighted" track="click:tos">'+f((n.str||t&&t.str||u).call(c,"LNK_TERMS_OF_USE",{name:"str",hash:{},data:a}))+'</a>\n    <i class="separator"></i>\n    <a href="javascript:void(0)" class="about-link login-links__link fast-click-highlighted">'+f((n.str||t&&t.str||u).call(c,"LNK_ABOUT",{name:"str",hash:{},data:a}))+'</a>\n    <i class="separator"></i>\n    <a href="'+f((l=(l=n.privacyLink||(t!=null?t.privacyLink:t))!=null?l:u,typeof l===d?l.call(c,{name:"privacyLink",hash:{},data:a}):l))+'" class="legal-link login-links__link fast-click-highlighted" track="click:privacy">'+f((n.str||t&&t.str||u).call(c,"LNK_PRIVACY_POLICY",{name:"str",hash:{},data:a}))+"</a>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.dashboards:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.dashboards:t,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:""},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,c="function";return'                    <li class="menu__item fast-click-highlighted"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.label:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"dashboard-id",t!=null?t.id:t,{name:"debugAttributes",hash:{},data:a}))+'>\n                        <a href="#Dashboards/'+l((r=(r=n.id||(t!=null?t.id:t))!=null?r:o,typeof r===c?r.call(s,{name:"id",hash:{},data:a}):r))+'" class="menu-item__link">\n                            '+l((n.moduleIcon||t&&t.moduleIcon||o).call(s,"Dashboard",{name:"moduleIcon",hash:{iconLabel:t!=null?t.label:t},data:a}))+'\n                            <span class="menu-item__label">'+l((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===c?r.call(s,{name:"label",hash:{},data:a}):r))+"</span>\n                        </a>\n                    </li>\n"},5:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(r,"label","Activities",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#Activities" id="activities-link" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+o((n.icon||t&&t.icon||s).call(r,"menu.activities",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+o((n.str||t&&t.str||s).call(r,"LBL_ACTIVITY_STREAM",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,c="function";return'            <li class="menu__item fast-click-highlighted"  '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.route:t,{name:"debugAttributes",hash:{},data:a}))+'>\n                <a href="#'+l((r=(r=n.route||(t!=null?t.route:t))!=null?r:o,typeof r===c?r.call(s,{name:"route",hash:{},data:a}):r))+'" class="menu-item__link">\n                    '+l((n.moduleIcon||t&&t.moduleIcon||o).call(s,t!=null?t.route:t,{name:"moduleIcon",hash:{additionalClass:t!=null?t.iconAdditionalClass:t,iconLabel:t!=null?t.label:t,iconKey:t!=null?t.iconKey:t},data:a}))+'\n                    <span class="menu-item__label">'+l((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===c?r.call(s,{name:"label",hash:{},data:a}):r))+"</span>\n                </a>\n            </li>\n"},9:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'            <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(r,"label","Offline",{name:"debugAttributes",hash:{},data:a}))+'>\n                <a href="#Offline" id="offline-link" class="menu-item__link offline-settings">\n                    <span class="menu-item__icon" aria-hidden="true">\n                        '+o((n.icon||t&&t.icon||s).call(r,"menu.offline-settings",{name:"icon",hash:{},data:a}))+"\n                        "+o((n.partial||t&&t.partial||s).call(r,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:a}))+'\n                    </span>\n                    <span class="menu-item__label">'+o((n.str||t&&t.str||s).call(r,"LBL_OFFLINE_MENU_SETTINGS",{name:"str",hash:{},data:a}))+"</span>\n                </a>\n            </li>\n"},11:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'            <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(r,"label","ErrorEmulation",{name:"debugAttributes",hash:{},data:a}))+'>\n                <a href="#ErrorEmulation" class="menu-item__link">\n                    <span class="menu-item__icon" aria-hidden="true">'+o((n.icon||t&&t.icon||s).call(r,"menu.errorEmulation",{name:"icon",hash:{},data:a}))+'</span>\n                    <span class="menu-item__label">Error Emulation</span>\n                </a>\n            </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="box__menu">\n    <ul class="menu__inner" id="moduleList">\n\n        <li class="menu__item menu__item--userpic fast-click-highlighted">\n            <a href="#Users/'+u((s=(s=n.userId||(t!=null?t.userId:t))!=null?s:l,typeof s===c?s.call(o,{name:"userId",hash:{},data:a}):s))+'/edit" id="me" class="menu-item__link">\n                <span class="menu-item__userpic" aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"menu.user",{name:"icon",hash:{additionalClass:"user-icon"},data:a}))+'</span>\n                <span class="menu-item__label">'+u((s=(s=n.userName||(t!=null?t.userName:t))!=null?s:l,typeof s===c?s.call(o,{name:"userName",hash:{},data:a}):s))+'</span>\n            </a>\n        </li>\n        <li class="menu__divider"></li>\n'+((r=n["if"].call(o,t!=null?t.dashboardsSupported:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__item fast-click-highlighted" '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Search",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#Search" id="globalSearch-link" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"menu.search",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+u((n.str||t&&t.str||l).call(o,"LBL_MOBILE_GLOBAL_SEARCH",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n"+((r=n["if"].call(o,t!=null?t.activitiesSupported:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__divider"></li>\n'+((r=n.each.call(o,t!=null?t.items:t,{name:"each",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__divider"></li>\n        <li class="menu__item fast-click-highlighted" '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","About",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#About" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"menu.about",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+u((n.str||t&&t.str||l).call(o,"LNK_ABOUT",{name:"str",hash:{},data:a}))+'</span>\n            </a>\n        </li>\n        <li class="menu__item fast-click-highlighted" '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Settings",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#Settings" id="settings-link" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"menu.settings",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+u((n.str||t&&t.str||l).call(o,"LNK_SETTINGS",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n"+((r=n["if"].call(o,t!=null?t.offlineEnabled:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.errorEmulationEnabled:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__item fast-click-highlighted" '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Desktop",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="'+u((s=(s=n.desktopURI||(t!=null?t.desktopURI:t))!=null?s:l,typeof s===c?s.call(o,{name:"desktopURI",hash:{},data:a}):s))+'" id="desktop" class="menu-item__link" track="click:desktop" target="_blank">\n                <span class="menu-item__icon" aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"menu.desktop",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+u((n.str||t&&t.str||l).call(o,"LBL_MOBILE_DESKTOP",{name:"str",hash:{},data:a}))+'</span>\n            </a>\n        </li>\n        <li class="menu__item fast-click-highlighted" '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Logout",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#logout" track="click:logout" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"menu.logout",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+u((n.str||t&&t.str||l).call(o,"LBL_LOGOUT",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n    </ul>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o=e.lambda,l=e.escapeExpression;return'            <tr>\n                <td>\n                    <input type="checkbox" class="custom-data-checkbox" data-module="'+l(o(t,t))+'">\n                    <span>'+l(o(t,t))+'</span>\n                </td>\n                <td>\n                    <input type="number" class="icon-border" data-module="'+l(o(t,t))+'" value="'+l(o(s[1]!=null?s[1].recordsPerModule:s[1],t))+'">\n                </td>\n            </tr>\n'},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'                <option data-name="'+c((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+'">'+c((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+" ("+c((r=(r=n.type||(t!=null?t.type:t))!=null?r:o,typeof r===l?r.call(s,{name:"type",hash:{},data:a}):r))+")</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="scroll">\n    <div>\n        <h3>Generate all data</h3>\n        <span>Records per module</span><input id="all-data-amount" type="text" class="icon-border" value="'+f((l=(l=n.recordsPerModule||(t!=null?t.recordsPerModule:t))!=null?l:u,typeof l===d?l.call(c,{name:"recordsPerModule",hash:{},data:a}):l))+'">\n        <br>\n        <button data-action="generate-default-data" class="btn primary-btn active">Generate</button>\n    </div>\n    <hr>\n    <div>\n        <h3>Generate data by module</h3>\n        <table>\n'+((o=n.each.call(c,t!=null?t._modules:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        </table>\n        <button data-action="generate-selected-data" class="btn primary-btn active">Generate selected</button>\n    </div>\n    <hr>\n    <div>\n        <h3>Generate all relationships</h3>\n        <button data-action="generate-default-relationship" class="btn primary-btn active">Generate</button>\n        <hr>\n\n        <h3>Generate custom relationship</h3>\n        <span>Select relationship</span>\n        <select id="relation-select">\n'+((o=n.each.call(c,t!=null?t._relationships:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        </select>\n        <div>\n            Parent module <span id="parent-module" style="font-weight: bold"></span>\n            <br>\n            Number of records<input type="number" class="icon-border" id="parent-module-amount" value="'+f((l=(l=n.parentRelationsAmount||(t!=null?t.parentRelationsAmount:t))!=null?l:u,typeof l===d?l.call(c,{name:"parentRelationsAmount",hash:{},data:a}):l))+'">\n        </div>\n        <div>\n            Child module <span id="child-module" style="font-weight: bold"></span>\n            <br>\n            Number of records<input type="number" class="icon-border" id="child-module-amount" value="'+f((l=(l=n.childRelationsAmount||(t!=null?t.childRelationsAmount:t))!=null?l:u,typeof l===d?l.call(c,{name:"childRelationsAmount",hash:{},data:a}):l))+'">\n        </div>\n        <button data-action="generate-selected-relationship" class="btn primary-btn active">Generate</button>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=e.escapeExpression;return'                    <div class="bucket-header">\n                        '+u((l=(l=n.key||a&&a.key)!=null?l:n.helperMissing,typeof l==="function"?l.call(c,{name:"key",hash:{},data:a}):l))+":\n                    </div>\n                "+u(n.log.call(c,t,{name:"log",hash:{},data:a}))+"\n"+((o=n.each.call(c,t,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")},2:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                        <div class="offline-property">\n'+((o=n["if"].call(l,t!=null?t.isBoolean:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(l,t!=null?t.isString:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                        </div>\n"},3:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'                            <input type="checkbox" '+((o=n["if"].call(c,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+' class="checkbox_default" data-key="'+f((l=(l=n.key||a&&a.key)!=null?l:u,typeof l===d?l.call(c,{name:"key",hash:{},data:a}):l))+'" data-section="'+f(e.lambda(e.data(a,1)&&e.data(a,1).key,t))+'">'+f((l=(l=n.key||a&&a.key)!=null?l:u,typeof l===d?l.call(c,{name:"key",hash:{},data:a}):l))+"\n"},4:function(e,t,n,i,a){return"checked"},6:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},c=n.helperMissing,u="function",d=e.escapeExpression;return"                            <label>"+d((o=(o=n.key||a&&a.key)!=null?o:c,typeof o===u?o.call(l,{name:"key",hash:{},data:a}):o))+'<input type="text" style="border: 1px solid darkgray;margin: 0" data-key="'+d((o=(o=n.key||a&&a.key)!=null?o:c,typeof o===u?o.call(l,{name:"key",hash:{},data:a}):o))+'" value="'+d((o=(o=n.value||(t!=null?t.value:t))!=null?o:c,typeof o===u?o.call(l,{name:"value",hash:{},data:a}):o))+'" data-section="'+d(e.lambda(e.data(a,1)&&e.data(a,1).key,t))+'"/></label>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n\n            <div style="padding-left: 12px; margin-bottom: 10px;">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.sections:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'            </div>\n            <div><a href="#Offline/offlineDataGeneration" class="offline-list__item fast-click-highlighted">Generate fake data</a></div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u="function";return'                <div class="bucket-header">\n                    '+c((n.str||t&&t.str||l).call(o,"LBL_BULK_LOAD_DOWNLOAD_SETTINGS",{name:"str",hash:{},data:a}))+'\n                </div>\n                <div class="offline__text-container">\n                    <a class="btn btn--primary offline__start-stop-btn fast-click-highlighted" track="click:preload_records">'+c((s=(s=n.startStopButtText||(t!=null?t.startStopButtText:t))!=null?s:l,typeof s===u?s.call(o,{name:"startStopButtText",hash:{},data:a}):s))+'</a>\n                    \x3c!--<div class="el__spinner offline__spinner-total">--\x3e\n                        \x3c!--<div class="spinner__circle spinner__circle_1"></div>--\x3e\n                        \x3c!--<div class="spinner__circle spinner__circle_2"></div>--\x3e\n                        \x3c!--<div class="spinner__circle spinner__circle_3"></div>--\x3e\n                    \x3c!--</div>--\x3e\n                    <div class="status-text">'+c((s=(s=n.statusText||(t!=null?t.statusText:t))!=null?s:l,typeof s===u?s.call(o,{name:"statusText",hash:{},data:a}):s))+'</div>\n                    <div class="bh__timestamp">\n                        '+c((n.str||t&&t.str||l).call(o,"LBL_OFFLINE_LAST_DOWNLOAD",{name:"str",hash:{},data:a}))+": <span>"+c(e.lambda((r=t!=null?t.dbStats:t)!=null?r.lastCompletedTs:r,t))+"</span>\n                    </div>\n                </div>\n"+((r=n["if"].call(o,t!=null?t.showCellularCb:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="offline__control-group">\n                        <div class="offline__checkbox-data">\n                            <label class="checkbox-toggle js-checkbox-toggle--cellular">\n                                <input type="checkbox" class="checkbox-toggle__checkbox" '+((r=n["if"].call(s,t!=null?t.useCellularData:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                                <span class="checkbox-toggle__slider"></span>\n                            </label>\n                        </div>\n                        <label class="offline__control-label">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_USE_CELLULAR",{name:"str",hash:{},data:a}))+'</label>\n                        <div class="offline__message-wifi">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_CONNECTION_USE_MESSAGE",{name:"str",hash:{},data:a}))+"</div>\n                    </div>\n"},3:function(e,t,n,i,a){return" checked"},5:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'--\x3e\n                \x3c!--<div class="bucket-header">--\x3e\n                    \x3c!--'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_DB_SIZE",{name:"str",hash:{},data:a}))+'--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--<div class="text-container">--\x3e\n                    \x3c!--'+l((n.humanFileSize||t&&t.humanFileSize||o).call(s,(r=t!=null?t.dbStats:t)!=null?r.dbSize:r,{name:"humanFileSize",hash:{},data:a}))+"--\x3e\n                \x3c!--</div>--\x3e\n            \x3c!--"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=e.escapeExpression;return'                <div class="bucket-header">\n                    '+o((n.str||t&&t.str||n.helperMissing).call(s,"LBL_OFFLINE_TOTAL_RECORDS",{name:"str",hash:{},data:a}))+': <span class="total-count">'+o(e.lambda((r=t!=null?t.dbStats:t)!=null?r.totalRecordsCount:r,t))+'</span>\n                </div>\n\n                <table class="table">\n'+((r=n.each.call(s,(r=t!=null?t.dbStats:t)!=null?r.modules:r,{name:"each",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"                </table>\n"},8:function(e,t,n,i,a){var r=e.lambda,s=e.escapeExpression;return'                        <tr data-id="'+s(r(t!=null?t.name:t,t))+'">\n                            <td>\n                                <div class="ellipsis"><span class="label-module-sm label-'+s(r(t!=null?t.name:t,t))+'">'+s((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.name:t,{name:"moduleIconLabel",hash:{},data:a}))+"</span> "+s(r(t!=null?t.moduleName:t,t))+'</div>\n                            </td>\n                            <td width="100" class="td-count">\n                                    <span class="icons">\n                                        <i class="hide offline-icon status-warning"></i>\n                                    </span>\n                                <span class="lbl-count">'+s(r(t!=null?t.count:t,t))+"</span>\n                            </td>\n                        </tr>\n"},10:function(e,t,n,i,a){return"                "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_LOADING",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n'+((r=n["if"].call(s,t!=null?t.bulkLoaderEnabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n            \x3c!--we decide to hide this information for now--\x3e\n            \x3c!--"+((r=n["if"].call(s,(r=t!=null?t.dbStats:t)!=null?r.dbSize:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"--\x3e\n\n"+((r=n["if"].call(s,t!=null?t.dbStats:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.program(10,a,0),data:a}))!=null?r:"")+"\n\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<span class="offline-icon '+e.escapeExpression(e.lambda(t,t))+'"></span>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'    <div class="offline-statusbar__icon offline-statusbar__isSyncing">'+o((n.partial||t&&t.partial||s).call(r,"spinner",t,{name:"partial",hash:{},data:a}))+'</div>\n    <div class="offline-statusbar__message offline-statusbar__isSyncing">'+o((n.str||t&&t.str||s).call(r,"LBL_OFFLINE_SYNC_IN_PROGRESS",{name:"str",hash:{},data:a}))+"</div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'    <div class="offline-statusbar__icon">'+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:a}))+'</div>\n    <div class="offline-statusbar__message">\n        '+l((n.str||t&&t.str||o).call(s,(r=t!=null?t.offlineMessage:t)!=null?r.message:r,{name:"str",hash:{},data:a}))+'\n        <span class="offline-statusbar__network">'+l((n.str||t&&t.str||o).call(s,(r=t!=null?t.offlineMessage:t)!=null?r.networkMessage:r,{name:"str",hash:{},data:a}))+"</span>\n    </div>\n"+((r=n["if"].call(s,(r=t!=null?t.offlineMessage:t)!=null?r.lastSyncMessage:r,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")},4:function(e,t,n,i,a){var r;return'        <div class="offline-statusbar__timestamp">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.offlineMessage:t)!=null?r.lastSyncMessage:r,{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.offlineMessage:t)!=null?r.isSyncing:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'                    <li><a href="#Offline/offlineSettings" class="offline-list__item fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_OFFLINE_DEBUG_SETTINGS",{name:"str",hash:{},data:a}))+"</a></li>\n"},3:function(e,t,n,i,a){return'                <div class="offline__encryption-message">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_OFFLINE_DATA_ENCRYPTION_ENABLED",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n            <div class="offline-statusbar">\n                '+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusBar:t,t,{name:"partial",hash:{},data:a}))+'\n            </div>\n\n            <ul class="box__offline-list">\n                <li><a href="#Offline/TxLog" class="offline-list__item fast-click-highlighted">'+l((n.str||t&&t.str||o).call(s,"LBL_TX_LOG",{name:"str",hash:{},data:a}))+'</a></li>\n                <li><a href="#Offline/offlineStats" class="offline-list__item fast-click-highlighted">'+l((n.str||t&&t.str||o).call(s,"LBL_RECORDS",{name:"str",hash:{},data:a}))+"</a></li>\n"+((r=n["if"].call(s,t!=null?t._devMode:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"            </ul>\n\n"+((r=n["if"].call(s,t!=null?t.offlineDbEncrypted:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            \x3c!--\n            <div class="modal-footer">\n                <a href="javascript:void(0)" class="btn btn--primary" id="preload_relationships_button" track="click:preload_rels">'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_PREFETCH_RELATED_ACTION",{name:"str",hash:{},data:a}))+"</a> (experimental)\n            </div>\n            --\x3e\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"tint"},3:function(e,t,n,i,a){return"spinner"},5:function(e,t,n,i,a){return'        <span class="overlay-message">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.message:t,{name:"str",hash:{},data:a}))+"</span><br/>\n"},7:function(e,t,n,i,a){return'        <span class="overlay-spinner">'+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"spinner",t,{name:"partial",hash:{},data:a}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="box__overlay hide '+e.escapeExpression((s=(s=n.additionalClass||(t!=null?t.additionalClass:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"additionalClass",hash:{},data:a}):s))+" "+((r=n["if"].call(o,t!=null?t.tint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(o,t!=null?t.spinner:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n'+((r=n["if"].call(o,t!=null?t.message:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.spinner:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="box__overlay-record '+l((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"additionalClass",hash:{},data:a}):r))+'">\n    <span class="overlay-record__message">'+l((n.str||t&&t.str||o).call(s,t!=null?t.message:t,{name:"str",hash:{},data:a}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="box__lead-preloader '+e.escapeExpression((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"additionalClass",hash:{},data:a}):r))+'">\n    <div class="lead-preloader__tabs">\n        <div class="lead-preloader__tab"></div>\n        <div class="lead-preloader__tab lead-preloader__tab--2"></div>\n        <div class="lead-preloader__tab lead-preloader__tab--3"></div>\n    </div>\n    <div class="lead-preloader__content">\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--2"></div>\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--3"></div>\n        <div class="lead-preloader__line-radio"></div>\n    </div>\n    <div class="lead-preloader__content">\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--2"></div>\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--3"></div>\n        <div class="lead-preloader__line-radio"></div>\n    </div>\n    <div class="lead-conversion__footer">\n        <div class="lead-preloader__btn1"></div>\n        <div class="lead-preloader__btn2"></div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="box__preloader '+c((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:o,typeof r===l?r.call(s,{name:"additionalClass",hash:{},data:a}):r))+'">\n    <div class="preloader__header">\n        <h3 class="brand">'+c((r=(r=n.brandName||(t!=null?t.brandName:t))!=null?r:o,typeof r===l?r.call(s,{name:"brandName",hash:{},data:a}):r))+'</h3>\n        <div class="preloader__message">\n            '+c((n.partial||t&&t.partial||o).call(s,"spinner",t,{name:"partial",hash:{},data:a}))+"\n            "+c((n.str||t&&t.str||o).call(s,"LBL_LOADING",{name:"str",hash:{},data:a}))+"\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792" class="icondefault icon-spinner rotate360">\n    <path class="icon-spinner-path" fill="white" transform="translate(0,256)" d="M1792 640q0 -182 -71 -348t-191 -286t-286 -191t-348 -71t-348 71t-286 191t-191 286t-71 348q0 222 101 414.5t276.5 317t390.5 155.5v-260q-221 -45 -366.5 -221t-145.5 -406q0 -130 51 -248.5t136.5 -204t204 -136.5t248.5 -51t248.5 51t204 136.5t136.5 204t51 248.5 q0 230 -145.5 406t-366.5 221v260q215 -31 390.5 -155.5t276.5 -317t101 -414.5z" />\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="field field--total">\n    <label class="field-total--label">'+c((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="field-total--value">'+c((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="pull-to-refresh">\n    <div class="ptr__wrap-spinner">\n        '+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"ptr-spinner",t,{name:"partial",hash:{},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="qli-total__row qli-total__row--field">\n    <label class="qli-total__label">'+c((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="qli-total__value">'+c((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</div>\n</div>\n"},3:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<div class="field--currency qli-total__row qli-total__row--field">\n    <label class="qli-total__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===c?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="qli-total__row--currency">'+u((s=(s=n.currencySymbol||(t!=null?t.currencySymbol:t))!=null?s:l,typeof s===c?s.call(o,{name:"currencySymbol",hash:{},data:a}):s))+'</div>\n        <span class="input-wrapper">\n            <input type="'+u((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:l,typeof s===c?s.call(o,{name:"fieldType",hash:{},data:a}):s))+'" class="_numeric" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+u((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===c?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n        </span>\n    </div>\n</div>\n'},4:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return"\n"+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t._isDisabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="qli-total__row qli-total__row--field">\n    <label class="qli-total__label">'+c((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="qli-total__value">'+c((r=(r=n.valuePercent||(t!=null?t.valuePercent:t))!=null?r:o,typeof r===l?r.call(s,{name:"valuePercent",hash:{},data:a}):r))+'</div>\n    <div class="qli-total__value">'+c((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</div>\n</div>\n"},3:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field--deal-total">\n'+((r=n["if"].call(o,t!=null?t.valuePercent:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    <div>"+e.escapeExpression((s=(s=n.value||(t!=null?t.value:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"value",hash:{},data:a}):s))+"</div>\n</div>\n"},4:function(e,t,n,i,a){var r;return'        <div class="field-deal-total--percent">'+e.escapeExpression((r=(r=n.valuePercent||(t!=null?t.valuePercent:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"valuePercent",hash:{},data:a}):r))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isEdit:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"box__edit_readonly"},3:function(e,t,n,i,a,r,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{template:"currency-total",model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n"},5:function(e,t,n,i,a,r,s){return"                        "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{template:"currency-total",model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'<div class="box__edit '+((o=n["if"].call(c,t!=null?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n    <div class="scroll">\n        <div class="pad">\n            '+d((l=(l=n.childViews||(t!=null?t.childViews:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"childViews",hash:{},data:a}):l))+'\n            <div class="qli-actions-group">\n                <div class="qli-action qli-action--group-add">\n                    '+d((n.icon||t&&t.icon||u).call(c,"edit.qli.addGroup",{name:"icon",hash:{},data:a}))+"\n                    "+d((n.str||t&&t.str||u).call(c,"LBL_QLI_ADD_GROUP",{name:"str",hash:{},data:a}))+'\n                </div>\n            </div>\n            <div class="qli-total qli-total--grand">\n'+((o=n.each.call(c,t!=null?t.summaryFields:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                <div class="quotes-grand-total">\n'+((o=n["with"].call(c,t!=null?t.totalField:t,{name:"with",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"qli-group--default"},3:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'        <div class="qli-group__header">\n            <div class="qli-group-header">\n                <div>'+u((n.str||t&&t.str||c).call(l,"LBL_QLI_GROUP_NAME",{name:"str",hash:{},data:a}))+'</div>\n                <div class="qli-group-header__delete">'+u((n.icon||t&&t.icon||c).call(l,"edit.clear",{name:"icon",hash:{},data:a}))+'</div>\n            </div>\n            <div class="qli-group-header__body">\n'+((o=n["with"].call(l,t!=null?t.groupTitleField:t,{name:"with",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n        </div>\n"},4:function(e,t,n,i,a,r,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{template:"edit",model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n"},6:function(e,t,n,i,a,r,s){var o,l=e.lambda,c=e.escapeExpression;return'        <div data-cid="'+c(l((o=t!=null?t.model:t)!=null?o.cid:o,t))+'" data-model-id="'+c(l((o=t!=null?t.model:t)!=null?o.id:o,t))+'" class="qli-item">\n'+((o=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isProduct:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.program(10,a,0,r,s),data:a}))!=null?o:"")+"        </div>\n"},7:function(e,t,n,i,a,r,s){var o,l,c=t!=null?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'                <div class="qli-item__header">\n                    <div class="qli-item-header__title">'+d((l=(l=n.lineNum||(t!=null?t.lineNum:t))!=null?l:u,typeof l==="function"?l.call(c,{name:"lineNum",hash:{},data:a}):l))+'</div>\n                    <div class="qli-item-header__delete">'+d((n.icon||t&&t.icon||u).call(c,"edit.clear",{name:"icon",hash:{},data:a}))+"</div>\n                </div>\n"+((o=n.each.call(c,s[1]!=null?s[1].qliFields:s[1],{name:"each",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")},8:function(e,t,n,i,a,r,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[2],{name:"field",hash:{template:"edit",model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n"},10:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'                <div class="qli-item__header">\n                    <div class="qli-item-header__title">'+u((n.str||t&&t.str||c).call(l,"LBL_COMMENT",{name:"str",hash:{},data:a}))+'</div>\n                    <div class="qli-item-header__delete">'+u((n.icon||t&&t.icon||c).call(l,"edit.clear",{name:"icon",hash:{},data:a}))+"</div>\n                </div>\n"+((o=n.each.call(l,s[1]!=null?s[1].commentFields:s[1],{name:"each",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")},11:function(e,t,n,i,a,r,s){return'                    <div class="qli-item__comment">'+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[2],{name:"field",hash:{template:"edit",model:s[1]!=null?s[1].model:s[1]},data:a}))+"</div>\n"},13:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'        <div class="qli-total">\n            <div class="qli-total__row">\n                <div class="qli-total__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(l,"LBL_GROUP_TOTAL",{name:"str",hash:{},data:a}))+'</div>\n                <div class="qli-total__value">\n'+((o=n["with"].call(l,t!=null?t.groupTotalField:t,{name:"with",hash:{},fn:e.program(14,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                </div>\n            </div>\n        </div>\n"},14:function(e,t,n,i,a,r,s){return"                        "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{template:"list",model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},c=e.escapeExpression,u=n.helperMissing;return'<div class="qli-group '+((o=n["if"].call(l,t!=null?t.isDefaultGroup:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'" data-model-id="'+c(e.lambda((o=t!=null?t.model:t)!=null?o.id:o,t))+'">\n'+((o=n["if"].call(l,t!=null?t.isGroupTitleVisible:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n.each.call(l,t!=null?t.qliRecords:t,{name:"each",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(l,t!=null?t.isGroupTotalVisible:t,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'</div>\n\n<div class="qli-actions-group">\n    <div class="qli-action qli-action--add-item">\n        '+c((n.icon||t&&t.icon||u).call(l,"edit.qli.addItem",{name:"icon",hash:{},data:a}))+"\n        "+c((n.str||t&&t.str||u).call(l,"LBL_QLI_SINGLE_TITLE",{name:"str",hash:{},data:a}))+'\n    </div>\n\n    <div class="qli-action qli-action--comment">\n        '+c((n.icon||t&&t.icon||u).call(l,"edit.qli.addComment",{name:"icon",hash:{},data:a}))+"\n        "+c((n.str||t&&t.str||u).call(l,"LBL_QLI_COMMENT",{name:"str",hash:{},data:a}))+"\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"disabled"},3:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.googleAnalyticsName||(t!=null?t.googleAnalyticsName:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"googleAnalyticsName",hash:{},data:a}):r))},5:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))},7:function(e,t,n,i,a){var r;return'style="width:'+e.escapeExpression((r=(r=n.width||(t!=null?t.width:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"width",hash:{},data:a}):r))+'"'},9:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"spinner",t,{name:"partial",hash:{},data:a}))+"\n"},11:function(e,t,n,i,a){return'        <span aria-hidden="true">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.iconKey:t,{name:"icon",hash:{},data:a}))+"</span>\n"},13:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,{name:"str",hash:{},data:a}))+"\n"},15:function(e,t,n,i,a){var r;return"            "+e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<a action="'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+'" class="context-menu__item '+((r=n.unless.call(o,t!=null?t.isEnabled:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" href="javascript:void(0)"\n   track="click:'+((r=n["if"].call(o,t!=null?t.googleAnalyticsName:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+'"\n   '+((r=n["if"].call(o,t!=null?t.width:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+">\n"+((r=n["if"].call(o,t!=null?t.isLoading:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a}))!=null?r:"")+'    <span class="action-label">\n'+((r=n["if"].call(o,t!=null?t.label:t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.program(15,a,0),data:a}))!=null?r:"")+"    </span>\n</a>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"    "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"record-action-button",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression,d=n.helperMissing;return'            <li class="related-action__item fast-click-highlighted '+((o=n["if"].call(l,t!=null?t.isEmpty:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n                <a href="#'+u(c((o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,t))+"/"+u(c((o=s[1]!=null?s[1].model:s[1])!=null?o.id:o,t))+"/link/"+u(c((o=t!=null?t.context:t)!=null?o.link:o,t))+'" class="related-action-item__link">\n                    '+u((n.moduleIcon||t&&t.moduleIcon||d).call(l,t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n                    "+u((n.str||t&&t.str||d).call(l,t!=null?t.label:t,(o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,{name:"str",hash:{},data:a}))+"\n                    "+((o=n["if"].call(l,t!=null?t.showCount:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n                </a>\n"+((o=n["if"].call(l,t!=null?t.canCreate:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </li>\n"},2:function(e,t,n,i,a){return"related-action__item_empty"},4:function(e,t,n,i,a){var r;return'<span class="records-count">('+e.escapeExpression((r=(r=n.recordsCount||(t!=null?t.recordsCount:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"recordsCount",hash:{},data:a}):r))+")</span>"},6:function(e,t,n,i,a,r,s){var o,l=e.lambda,c=e.escapeExpression;return'                    <a class="related-action-item__add" href="#'+c(l((o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,t))+"/"+c(l((o=s[1]!=null?s[1].model:s[1])!=null?o.id:o,t))+"/link/"+c(l((o=t!=null?t.context:t)!=null?o.link:o,t))+'/create">\n                        '+c((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"detail.createRelated",{name:"icon",hash:{},data:a}))+"\n                    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return'<div class="listing">\n    <ul class="box__related-actions">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.relatedList:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"    </ul>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"show"},3:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'                <li class="menu__item fast-click-highlighted">\n                    <a class="menu-item__link" href="#" action="'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'" track="click:'+u((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===c?s.call(o,{name:"name",hash:{},data:a}):s))+'">\n                        <span class="menu-item__icon" aria-hidden="true">\n'+((r=n["if"].call(o,t!=null?t.iconKey:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:"")+'                        </span>\n                        <span class="menu-item__label" '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label",t!=null?t.label:t,{name:"debugAttributes",hash:{},data:a}))+">\n                            "+u((n.str||t&&t.str||l).call(o,t!=null?t.label:t,{name:"str",hash:{},data:a}))+"\n                        </span>\n                    </a>\n                </li>\n"},4:function(e,t,n,i,a){return"                                "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.iconKey:t,{name:"icon",hash:{},data:a}))+"\n"},6:function(e,t,n,i,a){return"                                "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="right-menu '+((r=n["if"].call(s,t!=null?t._isShowing:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n    <div class="right-menu__corner"></div>\n    <div class="box__menu">\n        <ul class="menu__inner">\n'+((r=n.each.call(s,t!=null?t.availableActions:t,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </ul>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<form class="view__search" action="">\n    <div class="box__search-query not-empty">\n        '+o((n.icon||t&&t.icon||s).call(r,"header.search",{name:"icon",hash:{additionalClass:"box__search-icon"},data:a}))+"\n        "+o((n.partial||t&&t.partial||s).call(r,"spinner",t,{name:"partial",hash:{},data:a}))+'\n        <input type="search" class="search-query" value="">\n        '+o((n.clearButton||t&&t.clearButton||s).call(r,{name:"clearButton",hash:{iconKey:"header.clear"},data:a}))+'\n    </div>\n    <div class="search__cancel-btn fast-click-highlighted" track="click:searchCancel">\n        '+o((n.str||t&&t.str||s).call(r,"LBL_CANCEL_BUTTON_LABEL",{name:"str",hash:{},data:a}))+"\n    </div>\n</form>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.fields:t,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},2:function(e,t,n,i,a,r,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[2],{name:"field",hash:{},data:a}))+"\n"},4:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <div class="field field--bool">\n                    <label class="field__label" for="offline-toggle">'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_MODE",{name:"str",hash:{},data:a}))+'</label>\n                    <div class="field__controls"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-name","offline-mode",{name:"debugAttributes",hash:{},data:a}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-type","toggle",{name:"debugAttributes",hash:{},data:a}))+'>\n\n                        <label class="checkbox-toggle">\n                            <input type="checkbox" class="checkbox-toggle__checkbox" id="offline-toggle" '+((r=n["if"].call(s,t!=null?t._offlineEnabled:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                            <span class="checkbox-toggle__slider"></span>\n                        </label>\n                    </div>\n                </div>\n'},5:function(e,t,n,i,a){return" checked"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <div class="field field--bool">\n                    <label class="field__label" for="touchid-toggle">\n'+((r=n["if"].call(s,t!=null?t._isFaceIdSupported:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.program(10,a,0),data:a}))!=null?r:"")+'                    </label>\n                    <div class="field__controls"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-name","touchid-mode",{name:"debugAttributes",hash:{},data:a}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-type","toggle",{name:"debugAttributes",hash:{},data:a}))+'>\n\n                        <label class="checkbox-toggle">\n                            <input type="checkbox" class="checkbox-toggle__checkbox" id="touchid-toggle" '+((r=n["if"].call(s,t!=null?t._touchIdEnabled:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                            <span class="checkbox-toggle__slider"></span>\n                        </label>\n                    </div>\n                </div>\n'},8:function(e,t,n,i,a){return"                            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FACEID",{name:"str",hash:{},data:a}))+"\n"},10:function(e,t,n,i,a){return"                            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_TOUCHID",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="page__settings box__edit">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.blockHelperMissing.call(t,e.lambda((o=t!=null?t.meta:t)!=null?o.panels:o,t),{name:"meta.panels",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n            <div class="settings__other-fields"></div>\n\n'+((o=n["if"].call(l,t!=null?t._showOfflineButton:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(l,t!=null?t._showTouchIdButton:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n            <div class="modal-footer"></div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<textarea class="taggable" placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER",{name:"str",hash:{},data:a}))+'"></textarea>\n<div class="taggable-shadow"></div>\n<ul class="taggable-dropdown hide"></ul>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'                            <div class="icon-touch-id"/>\n'},3:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'                <div class="sb__footer">\n                    <span class="sbEnableBtn">\n                        <a href="javascript:void(0)" class="btn btn--primary btn--large fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_ENABLE",{name:"str",hash:{},data:a}))+'</a>\n                    </span>\n                    <span class="sbSkipBtn">\n                        <a href="javascript:void(0)" class="btn btn--secondary btn--large fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_SKIP",{name:"str",hash:{},data:a}))+"</a>\n                    </span>\n                </div>\n"},5:function(e,t,n,i,a){return'                <div class="sb__footer sb__footer--single">\n                    <span class="sbOkBtn">\n                        <a href="javascript:void(0)" class="btn btn--primary btn--large fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_OK",{name:"str",hash:{},data:a}))+"</a>\n                    </span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="box__edit">\n    <div class="setupbuddy__wrapper scroll">\n        <div class="pad">\n            <div class="sb__text__container">\n                <div class="sb__text">\n                    <div class="sb__icon">\n'+((r=n["if"].call(o,t!=null?t._isTouchIdSupported:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'                    </div>\n                    <div class="sb__header">'+c((s=(s=n.sbHeader||(t!=null?t.sbHeader:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"sbHeader",hash:{},data:a}):s))+'</div>\n\n                    <span class="touch-id-enrolled">\n                        <div class="sb__description">'+c((n.nl2br||t&&t.nl2br||l).call(o,t!=null?t.sbDescription:t,{name:"nl2br",hash:{},data:a}))+"</div>\n                    </span>\n                </div>\n            </div>\n"+((r=n["if"].call(o,t!=null?t._isTouchIdEnrolled:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'            <div class="tutorial-title">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.textTitle:t,{name:"str",hash:{},data:a}))+"</div>\n"},3:function(e,t,n,i,a){return'            <div class="tutorial-additional">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.textAdditional:t,{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,c="function";return'<div class="text-container '+e.escapeExpression((s=(s=n.textFormatClass||(t!=null?t.textFormatClass:t))!=null?s:l,typeof s===c?s.call(o,{name:"textFormatClass",hash:{},data:a}):s))+'">\n    <div class="text">\n'+((r=n["if"].call(o,t!=null?t.textTitle:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=(s=(s=n.text||(t!=null?t.text:t))!=null?s:l,typeof s===c?s.call(o,{name:"text",hash:{},data:a}):s))!=null?r:"")+"\n"+((r=n["if"].call(o,t!=null?t.textAdditional:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div id="tutorial__view">\n    <svg xlink="http://www.w3.org/1999/xlink" id="tutorial" height="100%" width="100%">\n        <defs>\n            <mask id="marker-glow">\n                <rect x="0" y="0" width="100%" height="100%" fill="white" />\n            </mask>\n            <g id="marker">\n                <circle cx="22" cy="22" r="20" fill="none" stroke="#fff" stroke-width="2px" />\n                <line x1="22" y1="42" x2="22" y2="67" stroke="#fff" stroke-width="1" />\n                <circle cx="22" cy="67" r="2" fill="#fff" />\n            </g>\n            <g id="tutorial-swipe">\n                <circle cx="65" cy="13" r="13" fill="#fff" />\n                <line x1="65" y1="26" x2="65" y2="46" stroke="#fff" stroke-width="2" />\n                <circle cx="65" cy="48" r="2.5" fill="#fff" />\n                <polygon points="0 13,8 8,8 12,49 12,49 14,8 14,8 18" fill="#fff" />\n            </g>\n        </defs>\n        <rect height="100%" width="100%" fill="black" fill-opacity="0.5" stroke="none" mask="url(#marker-glow)" />\n    </svg>\n    <div id="tutorial-content"></div>\n</div>\n'},useData:true})},function(e,t,n){(function n(i,a){if(true)e.exports=a();else if(typeof define==="function"&&define.amd)define([],a);else if(typeof t==="object")t["Handlebars"]=a();else i["Handlebars"]=a()})(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:false};e[i].call(a.exports,a,a.exports,n);a.loaded=true;return a.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(2);var r=i(a);var s=n(35);var o=i(s);var l=n(36);var c=n(41);var u=n(42);var d=i(u);var f=n(39);var p=i(f);var h=n(34);var m=i(h);var _=r["default"].create;function g(){var e=_();e.compile=function(t,n){return c.compile(t,n,e)};e.precompile=function(t,n){return c.precompile(t,n,e)};e.AST=o["default"];e.Compiler=c.Compiler;e.JavaScriptCompiler=d["default"];e.Parser=l.parser;e.parse=l.parse;return e}var v=g();v.create=g;m["default"](v);v.Visitor=p["default"];v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=true},function(e,t,n){"use strict";var i=n(3)["default"];var a=n(1)["default"];t.__esModule=true;var r=n(4);var s=i(r);var o=n(21);var l=a(o);var c=n(6);var u=a(c);var d=n(5);var f=i(d);var p=n(22);var h=i(p);var m=n(34);var _=a(m);function g(){var e=new s.HandlebarsEnvironment;f.extend(e,s);e.SafeString=l["default"];e.Exception=u["default"];e.Utils=f;e.escapeExpression=f.escapeExpression;e.VM=h;e.template=function(t){return h.template(t,e)};return e}var v=g();v.create=g;_["default"](v);v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}};t.__esModule=true},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.HandlebarsEnvironment=m;var a=n(5);var r=n(6);var s=i(r);var o=n(10);var l=n(18);var c=n(20);var u=i(c);var d="4.0.11";t.VERSION=d;var f=7;t.COMPILER_REVISION=f;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=p;var h="[object Object]";function m(e,t,n){this.helpers=e||{};this.partials=t||{};this.decorators=n||{};o.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}m.prototype={constructor:m,logger:u["default"],log:u["default"].log,registerHelper:function e(t,n){if(a.toString.call(t)===h){if(n){throw new s["default"]("Arg not supported with multiple helpers")}a.extend(this.helpers,t)}else{this.helpers[t]=n}},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,n){if(a.toString.call(t)===h){a.extend(this.partials,t)}else{if(typeof n==="undefined"){throw new s["default"]('Attempting to register a partial called "'+t+'" as undefined')}this.partials[t]=n}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,n){if(a.toString.call(t)===h){if(n){throw new s["default"]("Arg not supported with multiple decorators")}a.extend(this.decorators,t)}else{this.decorators[t]=n}},unregisterDecorator:function e(t){delete this.decorators[t]}};var _=u["default"].log;t.log=_;t.createFrame=a.createFrame;t.logger=u["default"]},function(e,t){"use strict";t.__esModule=true;t.extend=s;t.indexOf=u;t.escapeExpression=d;t.isEmpty=f;t.createFrame=p;t.blockParams=h;t.appendContextPath=m;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var i=/[&<>"'`=]/g,a=/[&<>"'`=]/;function r(e){return n[e]}function s(e){for(var t=1;t<arguments.length;t++){for(var n in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],n)){e[n]=arguments[t][n]}}}return e}var o=Object.prototype.toString;t.toString=o;var l=function e(t){return typeof t==="function"};if(l(/x/)){t.isFunction=l=function(e){return typeof e==="function"&&o.call(e)==="[object Function]"}}t.isFunction=l;var c=Array.isArray||function(e){return e&&typeof e==="object"?o.call(e)==="[object Array]":false};t.isArray=c;function u(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t){return n}}return-1}function d(e){if(typeof e!=="string"){if(e&&e.toHTML){return e.toHTML()}else if(e==null){return""}else if(!e){return e+""}e=""+e}if(!a.test(e)){return e}return e.replace(i,r)}function f(e){if(!e&&e!==0){return true}else if(c(e)&&e.length===0){return true}else{return false}}function p(e){var t=s({},e);t._parent=e;return t}function h(e,t){e.path=t;return e}function m(e,t){return(e?e+".":"")+t}},function(e,t,n){"use strict";var i=n(7)["default"];t.__esModule=true;var a=["description","fileName","lineNumber","message","name","number","stack"];function r(e,t){var n=t&&t.loc,s=undefined,o=undefined;if(n){s=n.start.line;o=n.start.column;e+=" - "+s+":"+o}var l=Error.prototype.constructor.call(this,e);for(var c=0;c<a.length;c++){this[a[c]]=l[a[c]]}if(Error.captureStackTrace){Error.captureStackTrace(this,r)}try{if(n){this.lineNumber=s;if(i){Object.defineProperty(this,"column",{value:o,enumerable:true})}else{this.column=o}}}catch(e){}}r.prototype=new Error;t["default"]=r;e.exports=t["default"]},function(e,t,n){e.exports={default:n(8),__esModule:true}},function(e,t,n){var i=n(9);e.exports=function e(t,n,a){return i.setDesc(t,n,a)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultHelpers=v;var a=n(11);var r=i(a);var s=n(12);var o=i(s);var l=n(13);var c=i(l);var u=n(14);var d=i(u);var f=n(15);var p=i(f);var h=n(16);var m=i(h);var _=n(17);var g=i(_);function v(e){r["default"](e);o["default"](e);c["default"](e);d["default"](e);p["default"](e);m["default"](e);g["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var a=n.inverse,r=n.fn;if(t===true){return r(this)}else if(t===false||t==null){return a(this)}else if(i.isArray(t)){if(t.length>0){if(n.ids){n.ids=[n.name]}return e.helpers.each(t,n)}else{return a(this)}}else{if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name);n={data:s}}return r(t,n)}})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(5);var r=n(6);var s=i(r);t["default"]=function(e){e.registerHelper("each",function(e,t){if(!t){throw new s["default"]("Must pass iterator to #each")}var n=t.fn,i=t.inverse,r=0,o="",l=undefined,c=undefined;if(t.data&&t.ids){c=a.appendContextPath(t.data.contextPath,t.ids[0])+"."}if(a.isFunction(e)){e=e.call(this)}if(t.data){l=a.createFrame(t.data)}function u(t,i,r){if(l){l.key=t;l.index=i;l.first=i===0;l.last=!!r;if(c){l.contextPath=c+t}}o=o+n(e[t],{data:l,blockParams:a.blockParams([e[t],t],[c+t,null])})}if(e&&typeof e==="object"){if(a.isArray(e)){for(var d=e.length;r<d;r++){if(r in e){u(r,r,r===e.length-1)}}}else{var f=undefined;for(var p in e){if(e.hasOwnProperty(p)){if(f!==undefined){u(f,r-1)}f=p;r++}}if(f!==undefined){u(f,r-1,true)}}}if(r===0){o=i(this)}return o})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(6);var r=i(a);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("if",function(e,t){if(i.isFunction(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||i.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("log",function(){var t=[undefined],n=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++){t.push(arguments[i])}var a=1;if(n.hash.level!=null){a=n.hash.level}else if(n.data&&n.data.level!=null){a=n.data.level}t[0]=a;e.log.apply(e,t)})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){if(i.isFunction(e)){e=e.call(this)}var n=t.fn;if(!i.isEmpty(e)){var a=t.data;if(t.data&&t.ids){a=i.createFrame(t.data);a.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])}return n(e,{data:a,blockParams:i.blockParams([e],[a&&a.contextPath])})}else{return t.inverse(this)}})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultDecorators=s;var a=n(19);var r=i(a);function s(e){r["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,a){var r=e;if(!t.partials){t.partials={};r=function(a,r){var s=n.partials;n.partials=i.extend({},s,t.partials);var o=e(a,r);n.partials=s;return o}}t.partials[a.args[0]]=a.fn;return r})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if(typeof t==="string"){var n=i.indexOf(a.methodMap,t.toLowerCase());if(n>=0){t=n}else{t=parseInt(t,10)}}return t},log:function e(t){t=a.lookupLevel(t);if(typeof console!=="undefined"&&a.lookupLevel(a.level)<=t){var n=a.methodMap[t];if(!console[n]){n="log"}for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++){r[s-1]=arguments[s]}console[n].apply(console,r)}}};t["default"]=a;e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;function n(e){this.string=e}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(23)["default"];var a=n(3)["default"];var r=n(1)["default"];t.__esModule=true;t.checkRevision=d;t.template=f;t.wrapProgram=p;t.resolvePartial=h;t.invokePartial=m;t.noop=_;var s=n(5);var o=a(s);var l=n(6);var c=r(l);var u=n(4);function d(e){var t=e&&e[0]||1,n=u.COMPILER_REVISION;if(t!==n){if(t<n){var i=u.REVISION_CHANGES[n],a=u.REVISION_CHANGES[t];throw new c["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}else{throw new c["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}}function f(e,t){if(!t){throw new c["default"]("No environment passed to template")}if(!e||!e.main){throw new c["default"]("Unknown template object: "+typeof e)}e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);function n(n,i,a){if(a.hash){i=o.extend({},i,a.hash);if(a.ids){a.ids[0]=true}}n=t.VM.resolvePartial.call(this,n,i,a);var r=t.VM.invokePartial.call(this,n,i,a);if(r==null&&t.compile){a.partials[a.name]=t.compile(n,e.compilerOptions,t);r=a.partials[a.name](i,a)}if(r!=null){if(a.indent){var s=r.split("\n");for(var l=0,u=s.length;l<u;l++){if(!s[l]&&l+1===u){break}s[l]=a.indent+s[l]}r=s.join("\n")}return r}else{throw new c["default"]("The partial "+a.name+" could not be compiled when running in runtime-only mode")}}var a={strict:function e(t,n){if(!(n in t)){throw new c["default"]('"'+n+'" not defined in '+t)}return t[n]},lookup:function e(t,n){var i=t.length;for(var a=0;a<i;a++){if(t[a]&&t[a][n]!=null){return t[a][n]}}},lambda:function e(t,n){return typeof t==="function"?t.call(n):t},escapeExpression:o.escapeExpression,invokePartial:n,fn:function t(n){var i=e[n];i.decorator=e[n+"_d"];return i},programs:[],program:function e(t,n,i,a,r){var s=this.programs[t],o=this.fn(t);if(n||r||a||i){s=p(this,t,o,n,i,a,r)}else if(!s){s=this.programs[t]=p(this,t,o)}return s},data:function e(t,n){while(t&&n--){t=t._parent}return t},merge:function e(t,n){var i=t||n;if(t&&n&&t!==n){i=o.extend({},n,t)}return i},nullContext:i({}),noop:t.VM.noop,compilerInfo:e.compiler};function r(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var i=n.data;r._setup(n);if(!n.partial&&e.useData){i=g(t,i)}var s=undefined,o=e.useBlockParams?[]:undefined;if(e.useDepths){if(n.depths){s=t!=n.depths[0]?[t].concat(n.depths):n.depths}else{s=[t]}}function l(t){return""+e.main(a,t,a.helpers,a.partials,i,o,s)}l=v(e.main,l,a,n.depths||[],i,o);return l(t,n)}r.isTop=true;r._setup=function(n){if(!n.partial){a.helpers=a.merge(n.helpers,t.helpers);if(e.usePartial){a.partials=a.merge(n.partials,t.partials)}if(e.usePartial||e.useDecorators){a.decorators=a.merge(n.decorators,t.decorators)}}else{a.helpers=n.helpers;a.partials=n.partials;a.decorators=n.decorators}};r._child=function(t,n,i,r){if(e.useBlockParams&&!i){throw new c["default"]("must pass block params")}if(e.useDepths&&!r){throw new c["default"]("must pass parent depths")}return p(a,t,e[t],n,0,i,r)};return r}function p(e,t,n,i,a,r,s){function o(t){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var o=s;if(s&&t!=s[0]&&!(t===e.nullContext&&s[0]===null)){o=[t].concat(s)}return n(e,t,e.helpers,e.partials,a.data||i,r&&[a.blockParams].concat(r),o)}o=v(n,o,e,s,i,r);o.program=t;o.depth=s?s.length:0;o.blockParams=a||0;return o}function h(e,t,n){if(!e){if(n.name==="@partial-block"){e=n.data["partial-block"]}else{e=n.partials[n.name]}}else if(!e.call&&!n.name){n.name=e;e=n.partials[e]}return e}function m(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=true;if(n.ids){n.data.contextPath=n.ids[0]||n.data.contextPath}var a=undefined;if(n.fn&&n.fn!==_){(function(){n.data=u.createFrame(n.data);var e=n.fn;a=n.data["partial-block"]=function t(n){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];a.data=u.createFrame(a.data);a.data["partial-block"]=i;return e(n,a)};if(e.partials){n.partials=o.extend({},n.partials,e.partials)}})()}if(e===undefined&&a){e=a}if(e===undefined){throw new c["default"]("The partial "+n.name+" could not be found")}else if(e instanceof Function){return e(t,n)}}function _(){return""}function g(e,t){if(!t||!("root"in t)){t=t?u.createFrame(t):{};t.root=e}return t}function v(e,t,n,i,a,r){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],a,r,i);o.extend(t,s)}return t}},function(e,t,n){e.exports={default:n(24),__esModule:true}},function(e,t,n){n(25);e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(e){return function t(n){return e&&i(n)?e(n):n}})},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,n){var i=n(28),a=n(30),r=n(33);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],s={};s[e]=t(n);i(i.S+i.F*r(function(){n(1)}),"Object",s)}},function(e,t,n){var i=n(29),a=n(30),r=n(31),s="prototype";var o=function(e,t,n){var l=e&o.F,c=e&o.G,u=e&o.S,d=e&o.P,f=e&o.B,p=e&o.W,h=c?a:a[t]||(a[t]={}),m=c?i:u?i[t]:(i[t]||{})[s],_,g,v;if(c)n=t;for(_ in n){g=!l&&m&&_ in m;if(g&&_ in h)continue;v=g?m[_]:n[_];h[_]=c&&typeof m[_]!="function"?n[_]:f&&g?r(v,i):p&&m[_]==v?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};t[s]=e[s];return t}(v):d&&typeof v=="function"?r(Function.call,v):v;if(d)(h[s]||(h[s]={}))[_]=v}};o.F=1;o.G=2;o.S=4;o.P=8;o.B=16;o.W=32;e.exports=o},function(e,t){var n=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=n},function(e,t){var n=e.exports={version:"1.2.6"};if(typeof __e=="number")__e=n},function(e,t,n){var i=n(32);e.exports=function(e,t,n){i(e);if(t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t){(function(n){"use strict";t.__esModule=true;t["default"]=function(e){var t=typeof n!=="undefined"?n:window,i=t.Handlebars;e.noConflict=function(){if(t.Handlebars===e){t.Handlebars=i}return e}};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=true;var n={helpers:{helperExpression:function e(t){return t.type==="SubExpression"||(t.type==="MustacheStatement"||t.type==="BlockStatement")&&!!(t.params&&t.params.length||t.hash)},scopedId:function e(t){return/^\.|this\b/.test(t.original)},simpleId:function e(t){return t.parts.length===1&&!n.helpers.scopedId(t)&&!t.depth}}};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];var a=n(3)["default"];t.__esModule=true;t.parse=p;var r=n(37);var s=i(r);var o=n(38);var l=i(o);var c=n(40);var u=a(c);var d=n(5);t.parser=s["default"];var f={};d.extend(f,u);function p(e,t){if(e.type==="Program"){return e}s["default"].yy=f;f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var n=new l["default"](t);return n.accept(s["default"].parse(e))}},function(e,t){"use strict";t.__esModule=true;var n=function(){var e={trace:function e(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function e(t,n,i,a,r,s,o){var l=s.length-1;switch(r){case 1:return s[l-1];break;case 2:this.$=a.prepareProgram(s[l]);break;case 3:this.$=s[l];break;case 4:this.$=s[l];break;case 5:this.$=s[l];break;case 6:this.$=s[l];break;case 7:this.$=s[l];break;case 8:this.$=s[l];break;case 9:this.$={type:"CommentStatement",value:a.stripComment(s[l]),strip:a.stripFlags(s[l],s[l]),loc:a.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[l],value:s[l],loc:a.locInfo(this._$)};break;case 11:this.$=a.prepareRawBlock(s[l-2],s[l-1],s[l],this._$);break;case 12:this.$={path:s[l-3],params:s[l-2],hash:s[l-1]};break;case 13:this.$=a.prepareBlock(s[l-3],s[l-2],s[l-1],s[l],false,this._$);break;case 14:this.$=a.prepareBlock(s[l-3],s[l-2],s[l-1],s[l],true,this._$);break;case 15:this.$={open:s[l-5],path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:a.stripFlags(s[l-5],s[l])};break;case 16:this.$={path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:a.stripFlags(s[l-5],s[l])};break;case 17:this.$={path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:a.stripFlags(s[l-5],s[l])};break;case 18:this.$={strip:a.stripFlags(s[l-1],s[l-1]),program:s[l]};break;case 19:var c=a.prepareBlock(s[l-2],s[l-1],s[l],s[l],false,this._$),u=a.prepareProgram([c],s[l-1].loc);u.chained=true;this.$={strip:s[l-2].strip,program:u,chain:true};break;case 20:this.$=s[l];break;case 21:this.$={path:s[l-1],strip:a.stripFlags(s[l-2],s[l])};break;case 22:this.$=a.prepareMustache(s[l-3],s[l-2],s[l-1],s[l-4],a.stripFlags(s[l-4],s[l]),this._$);break;case 23:this.$=a.prepareMustache(s[l-3],s[l-2],s[l-1],s[l-4],a.stripFlags(s[l-4],s[l]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[l-3],params:s[l-2],hash:s[l-1],indent:"",strip:a.stripFlags(s[l-4],s[l]),loc:a.locInfo(this._$)};break;case 25:this.$=a.preparePartialBlock(s[l-2],s[l-1],s[l],this._$);break;case 26:this.$={path:s[l-3],params:s[l-2],hash:s[l-1],strip:a.stripFlags(s[l-4],s[l])};break;case 27:this.$=s[l];break;case 28:this.$=s[l];break;case 29:this.$={type:"SubExpression",path:s[l-3],params:s[l-2],hash:s[l-1],loc:a.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[l],loc:a.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:a.id(s[l-2]),value:s[l],loc:a.locInfo(this._$)};break;case 32:this.$=a.id(s[l-1]);break;case 33:this.$=s[l];break;case 34:this.$=s[l];break;case 35:this.$={type:"StringLiteral",value:s[l],original:s[l],loc:a.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[l]),original:Number(s[l]),loc:a.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:s[l]==="true",original:s[l]==="true",loc:a.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:a.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:a.locInfo(this._$)};break;case 40:this.$=s[l];break;case 41:this.$=s[l];break;case 42:this.$=a.preparePath(true,s[l],this._$);break;case 43:this.$=a.preparePath(false,s[l],this._$);break;case 44:s[l-2].push({part:a.id(s[l]),original:s[l],separator:s[l-1]});this.$=s[l-2];break;case 45:this.$=[{part:a.id(s[l]),original:s[l]}];break;case 46:this.$=[];break;case 47:s[l-1].push(s[l]);break;case 48:this.$=[s[l]];break;case 49:s[l-1].push(s[l]);break;case 50:this.$=[];break;case 51:s[l-1].push(s[l]);break;case 58:this.$=[];break;case 59:s[l-1].push(s[l]);break;case 64:this.$=[];break;case 65:s[l-1].push(s[l]);break;case 70:this.$=[];break;case 71:s[l-1].push(s[l]);break;case 78:this.$=[];break;case 79:s[l-1].push(s[l]);break;case 82:this.$=[];break;case 83:s[l-1].push(s[l]);break;case 86:this.$=[];break;case 87:s[l-1].push(s[l]);break;case 90:this.$=[];break;case 91:s[l-1].push(s[l]);break;case 94:this.$=[];break;case 95:s[l-1].push(s[l]);break;case 98:this.$=[s[l]];break;case 99:s[l-1].push(s[l]);break;case 100:this.$=[s[l]];break;case 101:s[l-1].push(s[l]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function e(t,n){throw new Error(t)},parse:function e(t){var n=this,i=[0],a=[null],r=[],s=this.table,o="",l=0,c=0,u=0,d=2,f=1;this.lexer.setInput(t);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var p=this.lexer.yylloc;r.push(p);var h=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function m(e){i.length=i.length-2*e;a.length=a.length-e;r.length=r.length-e}function _(){var e;e=n.lexer.lex()||1;if(typeof e!=="number"){e=n.symbols_[e]||e}return e}var g,v,b,y,x,w,S={},L,E,k,M;while(true){b=i[i.length-1];if(this.defaultActions[b]){y=this.defaultActions[b]}else{if(g===null||typeof g=="undefined"){g=_()}y=s[b]&&s[b][g]}if(typeof y==="undefined"||!y.length||!y[0]){var T="";if(!u){M=[];for(L in s[b])if(this.terminals_[L]&&L>2){M.push("'"+this.terminals_[L]+"'")}if(this.lexer.showPosition){T="Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[g]||g)+"'"}else{T="Parse error on line "+(l+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'")}this.parseError(T,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:M})}}if(y[0]instanceof Array&&y.length>1){throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g)}switch(y[0]){case 1:i.push(g);a.push(this.lexer.yytext);r.push(this.lexer.yylloc);i.push(y[1]);g=null;if(!v){c=this.lexer.yyleng;o=this.lexer.yytext;l=this.lexer.yylineno;p=this.lexer.yylloc;if(u>0)u--}else{g=v;v=null}break;case 2:E=this.productions_[y[1]][1];S.$=a[a.length-E];S._$={first_line:r[r.length-(E||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(E||1)].first_column,last_column:r[r.length-1].last_column};if(h){S._$.range=[r[r.length-(E||1)].range[0],r[r.length-1].range[1]]}w=this.performAction.call(S,o,c,l,this.yy,y[1],a,r);if(typeof w!=="undefined"){return w}if(E){i=i.slice(0,-1*E*2);a=a.slice(0,-1*E);r=r.slice(0,-1*E)}i.push(this.productions_[y[1]][0]);a.push(S.$);r.push(S._$);k=s[i[i.length-2]][i[i.length-1]];i.push(k);break;case 3:return true}}return true}};var t=function(){var e={EOF:1,parseError:function e(t,n){if(this.yy.parser){this.yy.parser.parseError(t,n)}else{throw new Error(t)}},setInput:function e(t){this._input=t;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function e(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var n=t.match(/(?:\r\n?|\n).*/g);if(n){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return t},unput:function e(t){var n=t.length;var i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-n-1);this.offset-=n;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(i.length-1)this.yylineno-=i.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===a.length?this.yylloc.first_column:0)+a[a.length-i.length].length-i[0].length:this.yylloc.first_column-n};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-n]}return this},more:function e(){this._more=true;return this},less:function e(t){this.unput(this.match.slice(t))},pastInput:function e(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function e(){var t=this.match;if(t.length<20){t+=this._input.substr(0,20-t.length)}return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function e(){var t=this.pastInput();var n=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},next:function e(){if(this.done){return this.EOF}if(!this._input)this.done=true;var t,n,i,a,r,s;if(!this._more){this.yytext="";this.match=""}var o=this._currentRules();for(var l=0;l<o.length;l++){i=this._input.match(this.rules[o[l]]);if(i&&(!n||i[0].length>n[0].length)){n=i;a=l;if(!this.options.flex)break}}if(n){s=n[0].match(/(?:\r\n?|\n).*/g);if(s)this.yylineno+=s.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length};this.yytext+=n[0];this.match+=n[0];this.matches=n;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(n[0].length);this.matched+=n[0];t=this.performAction.call(this,this.yy,this,o[a],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(t)return t;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function e(){var t=this.next();if(typeof t!=="undefined"){return t}else{return this.lex()}},begin:function e(t){this.conditionStack.push(t)},popState:function e(){return this.conditionStack.pop()},_currentRules:function e(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function e(){return this.conditionStack[this.conditionStack.length-2]},pushState:function e(t){this.begin(t)}};e.options={};e.performAction=function e(t,n,i,a){function r(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}var s=a;switch(i){case 0:if(n.yytext.slice(-2)==="\\\\"){r(0,1);this.begin("mu")}else if(n.yytext.slice(-1)==="\\"){r(0,1);this.begin("emu")}else{this.begin("mu")}if(n.yytext)return 15;break;case 1:return 15;break;case 2:this.popState();return 15;break;case 3:this.begin("raw");return 15;break;case 4:this.popState();if(this.conditionStack[this.conditionStack.length-1]==="raw"){return 15}else{n.yytext=n.yytext.substr(5,n.yyleng-9);return"END_RAW_BLOCK"}break;case 5:return 15;break;case 6:this.popState();return 14;break;case 7:return 65;break;case 8:return 68;break;case 9:return 19;break;case 10:this.popState();this.begin("raw");return 23;break;case 11:return 55;break;case 12:return 60;break;case 13:return 29;break;case 14:return 47;break;case 15:this.popState();return 44;break;case 16:this.popState();return 44;break;case 17:return 34;break;case 18:return 39;break;case 19:return 51;break;case 20:return 48;break;case 21:this.unput(n.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;break;case 23:return 48;break;case 24:return 73;break;case 25:return 72;break;case 26:return 72;break;case 27:return 87;break;case 28:break;case 29:this.popState();return 54;break;case 30:this.popState();return 33;break;case 31:n.yytext=r(1,2).replace(/\\"/g,'"');return 80;break;case 32:n.yytext=r(1,2).replace(/\\'/g,"'");return 80;break;case 33:return 85;break;case 34:return 82;break;case 35:return 82;break;case 36:return 83;break;case 37:return 84;break;case 38:return 81;break;case 39:return 75;break;case 40:return 77;break;case 41:return 72;break;case 42:n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1");return 72;break;case 43:return"INVALID";break;case 44:return 5;break}};e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return e}();e.lexer=t;function n(){this.yy={}}n.prototype=e;e.Parser=n;return new n}();t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(39);var r=i(a);function s(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.options=e}s.prototype=new r["default"];s.prototype.Program=function(e){var t=!this.options.ignoreStandalone;var n=!this.isRootSeen;this.isRootSeen=true;var i=e.body;for(var a=0,r=i.length;a<r;a++){var s=i[a],d=this.accept(s);if(!d){continue}var f=o(i,a,n),p=l(i,a,n),h=d.openStandalone&&f,m=d.closeStandalone&&p,_=d.inlineStandalone&&f&&p;if(d.close){c(i,a,true)}if(d.open){u(i,a,true)}if(t&&_){c(i,a);if(u(i,a)){if(s.type==="PartialStatement"){s.indent=/([ \t]+$)/.exec(i[a-1].original)[1]}}}if(t&&h){c((s.program||s.inverse).body);u(i,a)}if(t&&m){c(i,a);u((s.inverse||s.program).body)}}return e};s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(e){this.accept(e.program);this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,a=n;if(n&&n.chained){i=n.body[0].program;while(a.chained){a=a.body[a.body.length-1].program}}var r={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:o((i||t).body)};if(e.openStrip.close){c(t.body,null,true)}if(n){var s=e.inverseStrip;if(s.open){u(t.body,null,true)}if(s.close){c(i.body,null,true)}if(e.closeStrip.open){u(a.body,null,true)}if(!this.options.ignoreStandalone&&o(t.body)&&l(i.body)){u(t.body);c(i.body)}}else if(e.closeStrip.open){u(t.body,null,true)}return r};s.prototype.Decorator=s.prototype.MustacheStatement=function(e){return e.strip};s.prototype.PartialStatement=s.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:true,open:t.open,close:t.close}};function o(e,t,n){if(t===undefined){t=e.length}var i=e[t-1],a=e[t-2];if(!i){return n}if(i.type==="ContentStatement"){return(a||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original)}}function l(e,t,n){if(t===undefined){t=-1}var i=e[t+1],a=e[t+2];if(!i){return n}if(i.type==="ContentStatement"){return(a||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original)}}function c(e,t,n){var i=e[t==null?0:t+1];if(!i||i.type!=="ContentStatement"||!n&&i.rightStripped){return}var a=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,"");i.rightStripped=i.value!==a}function u(e,t,n){var i=e[t==null?e.length-1:t-1];if(!i||i.type!=="ContentStatement"||!n&&i.leftStripped){return}var a=i.value;i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,"");i.leftStripped=i.value!==a;return i.leftStripped}t["default"]=s;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(6);var r=i(a);function s(){this.parents=[]}s.prototype={constructor:s,mutating:false,acceptKey:function e(t,n){var i=this.accept(t[n]);if(this.mutating){if(i&&!s.prototype[i.type]){throw new r["default"]('Unexpected node type "'+i.type+'" found when accepting '+n+" on "+t.type)}t[n]=i}},acceptRequired:function e(t,n){this.acceptKey(t,n);if(!t[n]){throw new r["default"](t.type+" requires "+n)}},acceptArray:function e(t){for(var n=0,i=t.length;n<i;n++){this.acceptKey(t,n);if(!t[n]){t.splice(n,1);n--;i--}}},accept:function e(t){if(!t){return}if(!this[t.type]){throw new r["default"]("Unknown type: "+t.type,t)}if(this.current){this.parents.unshift(this.current)}this.current=t;var n=this[t.type](t);this.current=this.parents.shift();if(!this.mutating||n){return n}else if(n!==false){return t}},Program:function e(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:l,DecoratorBlock:l,PartialStatement:c,PartialBlockStatement:function e(t){c.call(this,t);this.acceptKey(t,"program")},ContentStatement:function e(){},CommentStatement:function e(){},SubExpression:o,PathExpression:function e(){},StringLiteral:function e(){},NumberLiteral:function e(){},BooleanLiteral:function e(){},UndefinedLiteral:function e(){},NullLiteral:function e(){},Hash:function e(t){this.acceptArray(t.pairs)},HashPair:function e(t){this.acceptRequired(t,"value")}};function o(e){this.acceptRequired(e,"path");this.acceptArray(e.params);this.acceptKey(e,"hash")}function l(e){o.call(this,e);this.acceptKey(e,"program");this.acceptKey(e,"inverse")}function c(e){this.acceptRequired(e,"name");this.acceptArray(e.params);this.acceptKey(e,"hash")}t["default"]=s;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.SourceLocation=o;t.id=l;t.stripFlags=c;t.stripComment=u;t.preparePath=d;t.prepareMustache=f;t.prepareRawBlock=p;t.prepareBlock=h;t.prepareProgram=m;t.preparePartialBlock=_;var a=n(6);var r=i(a);function s(e,t){t=t.path?t.path.original:t;if(e.path.original!==t){var n={loc:e.path.loc};throw new r["default"](e.path.original+" doesn't match "+t,n)}}function o(e,t){this.source=e;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function l(e){if(/^\[.*\]$/.test(e)){return e.substr(1,e.length-2)}else{return e}}function c(e,t){return{open:e.charAt(2)==="~",close:t.charAt(t.length-3)==="~"}}function u(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function d(e,t,n){n=this.locInfo(n);var i=e?"@":"",a=[],s=0,o="";for(var l=0,c=t.length;l<c;l++){var u=t[l].part,d=t[l].original!==u;i+=(t[l].separator||"")+u;if(!d&&(u===".."||u==="."||u==="this")){if(a.length>0){throw new r["default"]("Invalid path: "+i,{loc:n})}else if(u===".."){s++;o+="../"}}else{a.push(u)}}return{type:"PathExpression",data:e,depth:s,parts:a,original:i,loc:n}}function f(e,t,n,i,a,r){var s=i.charAt(3)||i.charAt(2),o=s!=="{"&&s!=="&";var l=/\*/.test(i);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:o,strip:a,loc:this.locInfo(r)}}function p(e,t,n,i){s(e,n);i=this.locInfo(i);var a={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:a,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function h(e,t,n,i,a,o){if(i&&i.path){s(e,i)}var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=undefined,u=undefined;if(n){if(l){throw new r["default"]("Unexpected inverse block on decorator",n)}if(n.chain){n.program.body[0].closeStrip=i.strip}u=n.strip;c=n.program}if(a){a=c;c=t;t=a}return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:u,closeStrip:i&&i.strip,loc:this.locInfo(o)}}function m(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;if(n&&i){t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}}}}return{type:"Program",body:e,strip:{},loc:t}}function _(e,t,n,i){s(e,n);return{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.Compiler=u;t.precompile=d;t.compile=f;var a=n(6);var r=i(a);var s=n(5);var o=n(35);var l=i(o);var c=[].slice;function u(){}u.prototype={compiler:u,equals:function e(t){var n=this.opcodes.length;if(t.opcodes.length!==n){return false}for(var i=0;i<n;i++){var a=this.opcodes[i],r=t.opcodes[i];if(a.opcode!==r.opcode||!p(a.args,r.args)){return false}}n=this.children.length;for(var i=0;i<n;i++){if(!this.children[i].equals(t.children[i])){return false}}return true},guid:0,compile:function e(t,n){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=n;this.stringParams=n.stringParams;this.trackIds=n.trackIds;n.blockParams=n.blockParams||[];var i=n.knownHelpers;n.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true};if(i){for(var a in i){if(a in i){this.options.knownHelpers[a]=i[a]}}}return this.accept(t)},compileProgram:function e(t){var n=new this.compiler,i=n.compile(t,this.options),a=this.guid++;this.usePartial=this.usePartial||i.usePartial;this.children[a]=i;this.useDepths=this.useDepths||i.useDepths;return a},accept:function e(t){if(!this[t.type]){throw new r["default"]("Unknown type: "+t.type,t)}this.sourceNode.unshift(t);var n=this[t.type](t);this.sourceNode.shift();return n},Program:function e(t){this.options.blockParams.unshift(t.blockParams);var n=t.body,i=n.length;for(var a=0;a<i;a++){this.accept(n[a])}this.options.blockParams.shift();this.isSimple=i===1;this.blockParams=t.blockParams?t.blockParams.length:0;return this},BlockStatement:function e(t){h(t);var n=t.program,i=t.inverse;n=n&&this.compileProgram(n);i=i&&this.compileProgram(i);var a=this.classifySexpr(t);if(a==="helper"){this.helperSexpr(t,n,i)}else if(a==="simple"){this.simpleSexpr(t);this.opcode("pushProgram",n);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("blockValue",t.path.original)}else{this.ambiguousSexpr(t,n,i);this.opcode("pushProgram",n);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function e(t){var n=t.program&&this.compileProgram(t.program);var i=this.setupFullMustacheParams(t,n,undefined),a=t.path;this.useDecorators=true;this.opcode("registerDecorator",i.length,a.original)},PartialStatement:function e(t){this.usePartial=true;var n=t.program;if(n){n=this.compileProgram(t.program)}var i=t.params;if(i.length>1){throw new r["default"]("Unsupported number of partial arguments: "+i.length,t)}else if(!i.length){if(this.options.explicitPartialContext){this.opcode("pushLiteral","undefined")}else{i.push({type:"PathExpression",parts:[],depth:0})}}var a=t.name.original,s=t.name.type==="SubExpression";if(s){this.accept(t.name)}this.setupFullMustacheParams(t,n,undefined,true);var o=t.indent||"";if(this.options.preventIndent&&o){this.opcode("appendContent",o);o=""}this.opcode("invokePartial",s,a,o);this.opcode("append")},PartialBlockStatement:function e(t){this.PartialStatement(t)},MustacheStatement:function e(t){this.SubExpression(t);if(t.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},Decorator:function e(t){this.DecoratorBlock(t)},ContentStatement:function e(t){if(t.value){this.opcode("appendContent",t.value)}},CommentStatement:function e(){},SubExpression:function e(t){h(t);var n=this.classifySexpr(t);if(n==="simple"){this.simpleSexpr(t)}else if(n==="helper"){this.helperSexpr(t)}else{this.ambiguousSexpr(t)}},ambiguousSexpr:function e(t,n,i){var a=t.path,r=a.parts[0],s=n!=null||i!=null;this.opcode("getContext",a.depth);this.opcode("pushProgram",n);this.opcode("pushProgram",i);a.strict=true;this.accept(a);this.opcode("invokeAmbiguous",r,s)},simpleSexpr:function e(t){var n=t.path;n.strict=true;this.accept(n);this.opcode("resolvePossibleLambda")},helperSexpr:function e(t,n,i){var a=this.setupFullMustacheParams(t,n,i),s=t.path,o=s.parts[0];if(this.options.knownHelpers[o]){this.opcode("invokeKnownHelper",a.length,o)}else if(this.options.knownHelpersOnly){throw new r["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,t)}else{s.strict=true;s.falsy=true;this.accept(s);this.opcode("invokeHelper",a.length,s.original,l["default"].helpers.simpleId(s))}},PathExpression:function e(t){this.addDepth(t.depth);this.opcode("getContext",t.depth);var n=t.parts[0],i=l["default"].helpers.scopedId(t),a=!t.depth&&!i&&this.blockParamIndex(n);if(a){this.opcode("lookupBlockParam",a,t.parts)}else if(!n){this.opcode("pushContext")}else if(t.data){this.options.data=true;this.opcode("lookupData",t.depth,t.parts,t.strict)}else{this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i)}},StringLiteral:function e(t){this.opcode("pushString",t.value)},NumberLiteral:function e(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function e(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function e(){this.opcode("pushLiteral","undefined")},NullLiteral:function e(){this.opcode("pushLiteral","null")},Hash:function e(t){var n=t.pairs,i=0,a=n.length;this.opcode("pushHash");for(;i<a;i++){this.pushParam(n[i].value)}while(i--){this.opcode("assignToHash",n[i].key)}this.opcode("popHash")},opcode:function e(t){this.opcodes.push({opcode:t,args:c.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function e(t){if(!t){return}this.useDepths=true},classifySexpr:function e(t){var n=l["default"].helpers.simpleId(t.path);var i=n&&!!this.blockParamIndex(t.path.parts[0]);var a=!i&&l["default"].helpers.helperExpression(t);var r=!i&&(a||n);if(r&&!a){var s=t.path.parts[0],o=this.options;if(o.knownHelpers[s]){a=true}else if(o.knownHelpersOnly){r=false}}if(a){return"helper"}else if(r){return"ambiguous"}else{return"simple"}},pushParams:function e(t){for(var n=0,i=t.length;n<i;n++){this.pushParam(t[n])}},pushParam:function e(t){var n=t.value!=null?t.value:t.original||"";if(this.stringParams){if(n.replace){n=n.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")}if(t.depth){this.addDepth(t.depth)}this.opcode("getContext",t.depth||0);this.opcode("pushStringParam",n,t.type);if(t.type==="SubExpression"){this.accept(t)}}else{if(this.trackIds){var i=undefined;if(t.parts&&!l["default"].helpers.scopedId(t)&&!t.depth){i=this.blockParamIndex(t.parts[0])}if(i){var a=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,a)}else{n=t.original||n;if(n.replace){n=n.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")}this.opcode("pushId",t.type,n)}}this.accept(t)}},setupFullMustacheParams:function e(t,n,i,a){var r=t.params;this.pushParams(r);this.opcode("pushProgram",n);this.opcode("pushProgram",i);if(t.hash){this.accept(t.hash)}else{this.opcode("emptyHash",a)}return r},blockParamIndex:function e(t){for(var n=0,i=this.options.blockParams.length;n<i;n++){var a=this.options.blockParams[n],r=a&&s.indexOf(a,t);if(a&&r>=0){return[n,r]}}}};function d(e,t,n){if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new r["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e)}t=t||{};if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=n.parse(e,t),a=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(a,t)}function f(e,t,n){if(t===undefined)t={};if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new r["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e)}t=s.extend({},t);if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=undefined;function a(){var i=n.parse(e,t),a=(new n.Compiler).compile(i,t),r=(new n.JavaScriptCompiler).compile(a,t,undefined,true);return n.template(r)}function o(e,t){if(!i){i=a()}return i.call(this,e,t)}o._setup=function(e){if(!i){i=a()}return i._setup(e)};o._child=function(e,t,n,r){if(!i){i=a()}return i._child(e,t,n,r)};return o}function p(e,t){if(e===t){return true}if(s.isArray(e)&&s.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++){if(!p(e[n],t[n])){return false}}return true}}function h(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:false,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(4);var r=n(6);var s=i(r);var o=n(5);var l=n(43);var c=i(l);function u(e){this.value=e}function d(){}d.prototype={nameLookup:function e(t,n){if(d.isValidJavaScriptVariableName(n)){return[t,".",n]}else{return[t,"[",JSON.stringify(n),"]"]}},depthedLookup:function e(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function e(){var t=a.COMPILER_REVISION,n=a.REVISION_CHANGES[t];return[t,n]},appendToBuffer:function e(t,n,i){if(!o.isArray(t)){t=[t]}t=this.source.wrap(t,n);if(this.environment.isSimple){return["return ",t,";"]}else if(i){return["buffer += ",t,";"]}else{t.appendToBuffer=true;return t}},initializeBuffer:function e(){return this.quotedString("")},compile:function e(t,n,i,a){this.environment=t;this.options=n;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!a;this.name=this.environment.name;this.isChild=!!i;this.context=i||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(t,n);this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,o=undefined,l=undefined,c=undefined,u=undefined;for(c=0,u=r.length;c<u;c++){o=r[c];this.source.currentLocation=o.loc;l=l||o.loc;this[o.opcode].apply(this,o.args)}this.source.currentLocation=l;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new s["default"]("Compile completed with content left on stack")}if(!this.decorators.isEmpty()){this.useDecorators=true;this.decorators.prepend("var decorators = container.decorators;\n");this.decorators.push("return fn;");if(a){this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()])}else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}else{this.decorators=undefined}var d=this.createFunctionContext(a);if(!this.isChild){var f={compiler:this.compilerInfo(),main:d};if(this.decorators){f.main_d=this.decorators;f.useDecorators=true}var p=this.context;var h=p.programs;var m=p.decorators;for(c=0,u=h.length;c<u;c++){if(h[c]){f[c]=h[c];if(m[c]){f[c+"_d"]=m[c];f.useDecorators=true}}}if(this.environment.usePartial){f.usePartial=true}if(this.options.data){f.useData=true}if(this.useDepths){f.useDepths=true}if(this.useBlockParams){f.useBlockParams=true}if(this.options.compat){f.compat=true}if(!a){f.compiler=JSON.stringify(f.compiler);this.source.currentLocation={start:{line:1,column:0}};f=this.objectLiteral(f);if(n.srcName){f=f.toStringWithSourceMap({file:n.destName});f.map=f.map&&f.map.toString()}else{f=f.toString()}}else{f.compilerOptions=this.options}return f}else{return d}},preamble:function e(){this.lastContext=0;this.source=new c["default"](this.options.srcName);this.decorators=new c["default"](this.options.srcName)},createFunctionContext:function e(t){var n="";var i=this.stackVars.concat(this.registers.list);if(i.length>0){n+=", "+i.join(", ")}var a=0;for(var r in this.aliases){var s=this.aliases[r];if(this.aliases.hasOwnProperty(r)&&s.children&&s.referenceCount>1){n+=", alias"+ ++a+"="+r;s.children[0]="alias"+a}}var o=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths){o.push("blockParams")}if(this.useDepths){o.push("depths")}var l=this.mergeSource(n);if(t){o.push(l);return Function.apply(this,o)}else{return this.source.wrap(["function(",o.join(","),") {\n  ",l,"}"])}},mergeSource:function e(t){var n=this.environment.isSimple,i=!this.forceBuffer,a=undefined,r=undefined,s=undefined,o=undefined;this.source.each(function(e){if(e.appendToBuffer){if(s){e.prepend("  + ")}else{s=e}o=e}else{if(s){if(!r){a=true}else{s.prepend("buffer += ")}o.add(";");s=o=undefined}r=true;if(!n){i=false}}});if(i){if(s){s.prepend("return ");o.add(";")}else if(!r){this.source.push('return "";')}}else{t+=", buffer = "+(a?"":this.initializeBuffer());if(s){s.prepend("return buffer + ");o.add(";")}else{this.source.push("return buffer;")}}if(t){this.source.prepend("var "+t.substring(2)+(a?"":";\n"))}return this.source.merge()},blockValue:function e(t){var n=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var a=this.popStack();i.splice(1,0,a);this.push(this.source.functionCall(n,"call",i))},ambiguousBlockValue:function e(){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs("",0,n,true);this.flushInline();var i=this.topStack();n.splice(1,0,i);this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",n),"}"])},appendContent:function e(t){if(this.pendingContent){t=this.pendingContent+t}else{this.pendingLocation=this.source.currentLocation}this.pendingContent=t},append:function e(){if(this.isInline()){this.replaceStack(function(e){return[" != null ? ",e,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,undefined,true)," }"]);if(this.environment.isSimple){this.pushSource(["else { ",this.appendToBuffer("''",undefined,true)," }"])}}},appendEscaped:function e(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function e(t){this.lastContext=t},pushContext:function e(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function e(t,n,i,a){var r=0;if(!a&&this.options.compat&&!this.lastContext){this.push(this.depthedLookup(t[r++]))}else{this.pushContext()}this.resolvePath("context",t,r,n,i)},lookupBlockParam:function e(t,n){this.useBlockParams=true;this.push(["blockParams[",t[0],"][",t[1],"]"]);this.resolvePath("context",n,1)},lookupData:function e(t,n,i){if(!t){this.pushStackLiteral("data")}else{this.pushStackLiteral("container.data(data, "+t+")")}this.resolvePath("data",n,0,true,i)},resolvePath:function e(t,n,i,a,r){var s=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&r,this,n,t));return}var o=n.length;for(;i<o;i++){this.replaceStack(function(e){var r=s.nameLookup(e,n[i],t);if(!a){return[" != null ? ",r," : ",e]}else{return[" && ",r]}})}},resolvePossibleLambda:function e(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function e(t,n){this.pushContext();this.pushString(n);if(n!=="SubExpression"){if(typeof t==="string"){this.pushString(t)}else{this.pushStackLiteral(t)}}},emptyHash:function e(t){if(this.trackIds){this.push("{}")}if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(t?"undefined":"{}")},pushHash:function e(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function e(){var t=this.hash;this.hash=this.hashes.pop();if(this.trackIds){this.push(this.objectLiteral(t.ids))}if(this.stringParams){this.push(this.objectLiteral(t.contexts));this.push(this.objectLiteral(t.types))}this.push(this.objectLiteral(t.values))},pushString:function e(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function e(t){this.pushStackLiteral(t)},pushProgram:function e(t){if(t!=null){this.pushStackLiteral(this.programExpression(t))}else{this.pushStackLiteral(null)}},registerDecorator:function e(t,n){var i=this.nameLookup("decorators",n,"decorator"),a=this.setupHelperArgs(n,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",a])," || fn;"])},invokeHelper:function e(t,n,i){var a=this.popStack(),r=this.setupHelper(t,n),s=i?[r.name," || "]:"";var o=["("].concat(s,a);if(!this.options.strict){o.push(" || ",this.aliasable("helpers.helperMissing"))}o.push(")");this.push(this.source.functionCall(o,"call",r.callParams))},invokeKnownHelper:function e(t,n){var i=this.setupHelper(t,n);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function e(t,n){this.useRegister("helper");var i=this.popStack();this.emptyHash();var a=this.setupHelper(0,t,n);var r=this.lastHelper=this.nameLookup("helpers",t,"helper");var s=["(","(helper = ",r," || ",i,")"];if(!this.options.strict){s[0]="(helper = ";s.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",s,a.paramsInit?["),(",a.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",a.callParams)," : helper))"])},invokePartial:function e(t,n,i){var a=[],r=this.setupParams(n,1,a);if(t){n=this.popStack();delete r.name}if(i){r.indent=JSON.stringify(i)}r.helpers="helpers";r.partials="partials";r.decorators="container.decorators";if(!t){a.unshift(this.nameLookup("partials",n,"partial"))}else{a.unshift(n)}if(this.options.compat){r.depths="depths"}r=this.objectLiteral(r);a.push(r);this.push(this.source.functionCall("container.invokePartial","",a))},assignToHash:function e(t){var n=this.popStack(),i=undefined,a=undefined,r=undefined;if(this.trackIds){r=this.popStack()}if(this.stringParams){a=this.popStack();i=this.popStack()}var s=this.hash;if(i){s.contexts[t]=i}if(a){s.types[t]=a}if(r){s.ids[t]=r}s.values[t]=n},pushId:function e(t,n,i){if(t==="BlockParam"){this.pushStackLiteral("blockParams["+n[0]+"].path["+n[1]+"]"+(i?" + "+JSON.stringify("."+i):""))}else if(t==="PathExpression"){this.pushString(n)}else if(t==="SubExpression"){this.pushStackLiteral("true")}else{this.pushStackLiteral("null")}},compiler:d,compileChildren:function e(t,n){var i=t.children,a=undefined,r=undefined;for(var s=0,o=i.length;s<o;s++){a=i[s];r=new this.compiler;var l=this.matchExistingProgram(a);if(l==null){this.context.programs.push("");var c=this.context.programs.length;a.index=c;a.name="program"+c;this.context.programs[c]=r.compile(a,n,this.context,!this.precompile);this.context.decorators[c]=r.decorators;this.context.environments[c]=a;this.useDepths=this.useDepths||r.useDepths;this.useBlockParams=this.useBlockParams||r.useBlockParams;a.useDepths=this.useDepths;a.useBlockParams=this.useBlockParams}else{a.index=l.index;a.name="program"+l.index;this.useDepths=this.useDepths||l.useDepths;this.useBlockParams=this.useBlockParams||l.useBlockParams}}},matchExistingProgram:function e(t){for(var n=0,i=this.context.environments.length;n<i;n++){var a=this.context.environments[n];if(a&&a.equals(t)){return a}}},programExpression:function e(t){var n=this.environment.children[t],i=[n.index,"data",n.blockParams];if(this.useBlockParams||this.useDepths){i.push("blockParams")}if(this.useDepths){i.push("depths")}return"container.program("+i.join(", ")+")"},useRegister:function e(t){if(!this.registers[t]){this.registers[t]=true;this.registers.list.push(t)}},push:function e(t){if(!(t instanceof u)){t=this.source.wrap(t)}this.inlineStack.push(t);return t},pushStackLiteral:function e(t){this.push(new u(t))},pushSource:function e(t){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=undefined}if(t){this.source.push(t)}},replaceStack:function e(t){var n=["("],i=undefined,a=undefined,r=undefined;if(!this.isInline()){throw new s["default"]("replaceStack on non-inline")}var o=this.popStack(true);if(o instanceof u){i=[o.value];n=["(",i];r=true}else{a=true;var l=this.incrStack();n=["((",this.push(l)," = ",o,")"];i=this.topStack()}var c=t.call(this,i);if(!r){this.popStack()}if(a){this.stackSlot--}this.push(n.concat(c,")"))},incrStack:function e(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function e(){return"stack"+this.stackSlot},flushInline:function e(){var t=this.inlineStack;this.inlineStack=[];for(var n=0,i=t.length;n<i;n++){var a=t[n];if(a instanceof u){this.compileStack.push(a)}else{var r=this.incrStack();this.pushSource([r," = ",a,";"]);this.compileStack.push(r)}}},isInline:function e(){return this.inlineStack.length},popStack:function e(t){var n=this.isInline(),i=(n?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof u){return i.value}else{if(!n){if(!this.stackSlot){throw new s["default"]("Invalid stack pop")}this.stackSlot--}return i}},topStack:function e(){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];if(n instanceof u){return n.value}else{return n}},contextName:function e(t){if(this.useDepths&&t){return"depths["+t+"]"}else{return"depth"+t}},quotedString:function e(t){return this.source.quotedString(t)},objectLiteral:function e(t){return this.source.objectLiteral(t)},aliasable:function e(t){var n=this.aliases[t];if(n){n.referenceCount++;return n}n=this.aliases[t]=this.source.wrap(t);n.aliasable=true;n.referenceCount=1;return n},setupHelper:function e(t,n,i){var a=[],r=this.setupHelperArgs(n,t,a,i);var s=this.nameLookup("helpers",n,"helper"),o=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:a,paramsInit:r,name:s,callParams:[o].concat(a)}},setupParams:function e(t,n,i){var a={},r=[],s=[],o=[],l=!i,c=undefined;if(l){i=[]}a.name=this.quotedString(t);a.hash=this.popStack();if(this.trackIds){a.hashIds=this.popStack()}if(this.stringParams){a.hashTypes=this.popStack();a.hashContexts=this.popStack()}var u=this.popStack(),d=this.popStack();if(d||u){a.fn=d||"container.noop";a.inverse=u||"container.noop"}var f=n;while(f--){c=this.popStack();i[f]=c;if(this.trackIds){o[f]=this.popStack()}if(this.stringParams){s[f]=this.popStack();r[f]=this.popStack()}}if(l){a.args=this.source.generateArray(i)}if(this.trackIds){a.ids=this.source.generateArray(o)}if(this.stringParams){a.types=this.source.generateArray(s);a.contexts=this.source.generateArray(r)}if(this.options.data){a.data="data"}if(this.useBlockParams){a.blockParams="blockParams"}return a},setupHelperArgs:function e(t,n,i,a){var r=this.setupParams(t,n,i);r=this.objectLiteral(r);if(a){this.useRegister("options");i.push("options");return["options=",r]}else if(i){i.push(r);return""}else{return r}}};(function(){var e=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield await"+" null true false").split(" ");var t=d.RESERVED_WORDS={};for(var n=0,i=e.length;n<i;n++){t[e[n]]=true}})();d.isValidJavaScriptVariableName=function(e){return!d.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function f(e,t,n,i){var a=t.popStack(),r=0,s=n.length;if(e){s--}for(;r<s;r++){a=t.nameLookup(a,n[r],i)}if(e){return[t.aliasable("container.strict"),"(",a,", ",t.quotedString(n[r]),")"]}else{return a}}t["default"]=d;e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var a=undefined;try{if(false){var r=require("source-map");a=r.SourceNode}}catch(e){}if(!a){a=function(e,t,n,i){this.src="";if(i){this.add(i)}};a.prototype={add:function e(t){if(i.isArray(t)){t=t.join("")}this.src+=t},prepend:function e(t){if(i.isArray(t)){t=t.join("")}this.src=t+this.src},toStringWithSourceMap:function e(){return{code:this.toString()}},toString:function e(){return this.src}}}function s(e,t,n){if(i.isArray(e)){var a=[];for(var r=0,s=e.length;r<s;r++){a.push(t.wrap(e[r],n))}return a}else if(typeof e==="boolean"||typeof e==="number"){return e+""}return e}function o(e){this.srcFile=e;this.source=[]}o.prototype={isEmpty:function e(){return!this.source.length},prepend:function e(t,n){this.source.unshift(this.wrap(t,n))},push:function e(t,n){this.source.push(this.wrap(t,n))},merge:function e(){var t=this.empty();this.each(function(e){t.add(["  ",e,"\n"])});return t},each:function e(t){for(var n=0,i=this.source.length;n<i;n++){t(this.source[n])}},empty:function e(){var t=this.currentLocation||{start:{}};return new a(t.start.line,t.start.column,this.srcFile)},wrap:function e(t){var n=arguments.length<=1||arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];if(t instanceof a){return t}t=s(t,this,n);return new a(n.start.line,n.start.column,this.srcFile,t)},functionCall:function e(t,n,i){i=this.generateList(i);return this.wrap([t,n?"."+n+"(":"(",i,")"])},quotedString:function e(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function e(t){var n=[];for(var i in t){if(t.hasOwnProperty(i)){var a=s(t[i],this);if(a!=="undefined"){n.push([this.quotedString(i),":",a])}}}var r=this.generateList(n);r.prepend("{");r.add("}");return r},generateList:function e(t){var n=this.empty();for(var i=0,a=t.length;i<a;i++){if(i){n.add(",")}n.add(s(t[i],this))}return n},generateArray:function e(t){var n=this.generateList(t);n.prepend("[");n.add("]");return n}};t["default"]=o;e.exports=t["default"]}])})},function(e,t){e.exports={appId:"nomad",env:"prod",clientID:"sugar",restVersion:"10",serverRestVersion:{7.9:"10","7.10":"11","8.0":"11_1"},platform:"mobile",debugSugarApi:false,logger:{level:"WARN",consoleWriter:"ConsoleWriter",formatter:"SimpleFormatter"},authStore:"cache",minServerVersion:"6.7.1",supportedServerFlavors:["PRO","CORP","ENT","ULT"],siteUrl:"..",serverTimeout:30,maxQueryResult:20,cacheMeta:true,metadataTypes:["server_info","labels","ordered_labels","modules","relationships","currencies","_override_values","config","modules_info","views","editable_dropdown_filters"],syncConfig:false,sugarLogic:{enabled:true,minServerVersion:"7.2",isDynamic:false},appName:"nomad",keychainService:"SugarCRM",productName:"SugarCRM",brandName:"SugarCRM",appVersion:"6.4.0",appBuild:"487/265",sdkVersion:"6.4.0.487-1.4.2-2",buildTag:"",trialUntil:"",deviceMode:{type:"auto",landscape:false,portrait:false},keyValueStore:"sqlKeyValueStore",keyValueStoreEncryptionEnabled:true,nativeRedirectEnabled:true,loginSettings:{editable:true,idm:{clientId:"srn:stage:iam:::app:native:a6b2a303-b518-4023-9abc-b6116219fa71",clientSecret:"",clientType:"public",stsKnownConfigUrlSuffix:"/.well-known/openid-configuration",redirectUri:"http://localhost:8000/consumer",responseType:"code",approvalPrompt:"auto",scope:["offline","profile","email","address","phone","https://apis.sugarcrm.com/auth/crm"]},defaultServerUrl:"",useHttps:true,externalLoginVisible:true,externalLoginOnly:false,loginSettingsLimit:5,logoutTimeout:3e3},leadConversion:{enabled:true,minServerVersion:"7.9.1"},maxHttpCacheAge:10,fetchLimit:{activities:10,bulkQueryRelatedRecords:10,maxPageSize:60,recents:20,filters:100},about:{privacy:"https://sugarcrm.com/legal/privacy-policy",tos:"http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/",trademark:"http://www.sugarcrm.com/about/trademark-information",displayTrademarks:false,support:"http://support.sugarcrm.com",supportEmail:"support@sugarcrm.com",showSdkVersion:false,thirdPartySoftware:"http://www.sugarcrm.com/third-party-software",showAttribution:false,supportEmailVisible:"concealed",copyrightText:"Copyright  2004-2018 SugarCRM Inc. All Rights Reserved.",trademarkText:"Sugar and SugarCRM are trademarks owned by SugarCRM Inc. All other trademarks are the property of their respective owners.",trademark2Text:"SugarCRM , Sugar Enterprise and Sugar are trademarks of SugarCRM Inc."},analytics:{enabled:true,ignoreServerSetting:false,trackers:{default:{appName:"SugarCRM",optOut:false,debug:false,dryRun:false,dispatchInterval:120,sampleRate:100,anonymize:true,useHttps:true},web:"UA-33012372-6",native:"UA-33012372-5",sdk:""},instanceTracking:true,serverUrlWhiteList:["sugarinternal.sugarondemand.com",".*\\.sugarondemand.com"],instanceUrlTracking:false,dbAnalyticsInterval:24},transMap:null,stringCleanupEnabled:true,setupBuddyEnabled:true,ui:{defaultFontSize:"normal",fontSizes:{tiny:10,small:12,normal:14,large:16,larger:18,huge:20,extra_huge:22},displayInitials:true,icons:{modules:{},menu:{user:"icon icon-user",search:"icon icon-search",activities:"icon icon-clock-o",about:"icon icon-info-circle",settings:"icon icon-cog",desktop:"icon icon-desktop",errorEmulation:"icon icon-support",logout:"icon icon-sign-out",duplicate:"icon icon-copy",createRelated:"icon icon-plus-circle",linkRelated:"icon icon-link",share:"icon icon-share-alt",create:"icon icon-plus","offline-settings":"icon icon-wifi","download-pdf":"icon icon-download"},header:{menu:"icon icon-bars",dashboard:"icon icon-th",back:"icon icon-chevron-left",search:"icon icon-search",overflow:"icon icon-ellipsis-v",saveBtnArrow:"icon icon-caret-down",clear:"icon icon-remove"},actions:{view:"icon icon-eye",edit:"icon icon-pencil",favorite:"icon icon-star",unfavorite:"icon icon-star-o",follow:"icon icon-check-circle",unfollow:"icon icon-check-circle-o",email:"icon icon-envelope",emailbody:"icon icon-font",unlink:"icon icon-minus-circle",delete:"icon icon-trash-o",close:"icon icon-times",call:"icon icon-phone",sms:"icon icon-comment",map:"icon icon-map-marker",url:"icon icon-external-link",file:"icon icon-file",comment:"icon icon-comment",reply:"icon icon-reply",more:"icon icon-ellipsis-h",retweet:"icon icon-retweet",convert:"icon icon-external-link-square"},sorting:{asc:"icon icon-caret-up",desc:"icon icon-caret-down",checked:"icon icon-check",myItemsOnly:"icon icon-user",teamItems:"icon icon-users"},alert:{close:"icon icon-remove",star:"icon icon-star",starOpen:"icon icon-star-o"},list:{grip:"icon icon-ellipsis-v"},detail:{createRelated:"icon icon-plus"},edit:{clear:"icon icon-remove",checkboxOff:"icon icon-square-o",checkboxOn:"icon icon-check-square",radioOn:"icon icon-chevron-circle-down",radioOff:"icon icon-circle-thin",selectArrow:"icon icon-caret-down",error:"icon icon-exclamation-circle",remove:"icon icon-remove",teamsetPrimary:"icon icon-star",teamsetSecondary:"icon icon-star-o",lock:"icon icon-lock",unlock:"icon icon-unlock-alt",picture:"icon icon-picture-o",email:{actionsBtn:"icon icon-ellipsis-v",addBtn:"icon icon-plus"},multiselect:{remove:"icon icon-remove"},qli:{addItem:"icon icon-plus",addComment:"icon icon-plus",addGroup:"icon icon-object-group"}},swiper:{prev:"icon icon-arrow-left",next:"icon icon-arrow-right",bullet:"icon icon-circle-thin",bulletActive:"icon-circle"},dashlets:{default:"icon icon-th-large",dashablelist:"icon icon-th-list","tabbed-dashlet":{"active-tasks":"icon icon-check-square-o","planned-activities":"icon icon-calendar-o","inactive-tasks":"icon icon-check",history:"icon icon-history"},"forecast-pareto":"icon icon-bar-chart",bubblechart:"icon icon-trophy","forecast-pipeline":"icon icon-pipeline","activitystream-dashlet":"icon icon-clock-o","saved-reports-chart":"icon icon-download",forecastdetails:"icon icon-area-chart",twitter:"icon icon-twitter",webpage:"icon icon-globe","opportunity-metrics":"icon icon-line-chart",casessummary:"icon icon-folder-open"},leadConversion:{link:"icon icon-angle-right",back:"icon icon-chevron-left",next:"icon icon-chevron-right"}},fastClickEnabled:true,maxAlertsPerLayout:2,alertAutoCloseDelay:3e3,refreshOnResumeTimeout:3e4,searchDelay:600,configurableFontSize:true,numberOfAdditionalListFields:{defaultValue:1,modules:{}},displayListFieldLabel:false,forceListReload:false,defaultViewScheme:"Search",showLogLevelSetting:false,showTutorial:true,constantlyVisibleViews:["offlineSettings","offlineStats","offlineDataGeneration","TxLog","Activities","Teams","Users"],maxPreloaderPanelMessages:4},files:{resizeImagesOnUpload:600,imageResizeTimeout:8e3,iosCanvasSizeLimit:5,jpegEncoderQuality:80,fileSizeLimit:10},modules:{knownModules:["Settings","About","TxLog","Error","Forecasts","Users","Accounts","Contacts","Documents","Leads","Opportunities","RevenueLineItems","Meetings","Calls","Tasks","Notes","Reports","Cases","Quotes","Employees","Bugs","Campaigns","Contracts","KBDocuments","Products","Project","Prospects","Targets","Emails"],unsupportedModules:["Home","Bugs","Campaigns","Contracts","KBDocuments","Project","Prospects","Targets","OutboundEmail","EmailAddresses","UserSignatures"],modulesWithFiles:["Documents"],requiredStringsModules:["Home"],modulesWithPDFs:["Reports"],modulesWithAvatars:["Contacts","Leads","Employees","Users"],nonDuplicatableModules:["Users","Documents","Employees","KBDocuments","Reports","Emails"],nonCreatableModules:["TxLog","Users","Documents","Employees","KBDocuments","Reports","Emails"],nonEditableModules:["KBDocuments","Employees","Reports","Emails"],nonDeletableModules:["Users","Employees","Emails"],nonDeletableSalesStages:["Closed Won","Closed Lost"],nonLinkableModules:[],followableModules:["Accounts","Contacts","Leads","Opportunities","Cases","RevenueLineItems","Tasks","Notes","Products"],readonlyModules:["Teams","ProductTypes","ProductCategories","ProductTemplates","Manufacturers"],nonAclModules:["Error","Login","About"],hiddenModules:["Forecasts","Filters","Comments"]},deepLinking:{scheme:"sugarcrm",configUrlWhiteList:[]},localSecurity:{enabled:true,minServerVersion:"7.2",maxAllowedPasswordAttempt:3,touchIdForLoginEnabled:true,passkeyEnabled:false,touchIdForPasskeyEnabled:false},nps:{enabled:true,minRatingForStore:5,autoCloseTimeout:1500,sessionLength:60,attemptCriteria:[{days:7,sessions:5},{days:30,sessions:10},{days:90,sessions:15}]},teamBasedAcl:{enabled:true,minServerVersion:"7.8.0.0RC1",unsupportedModules:[]},offline:{enabled:true,storageProvider:"sql",storageAdapter:"native",storageSize:5,dbEncryptionEnabled:true,debug:{ignoreEnabled:false,render:false,forceMigrate:false,online:true,syncManagerEnabled:true,monitorStatus:true,outOfSpace:false,performanceTracing:{enabled:false,defaultReporter:"console",zipkinServerUrl:"",zipkinPayload:null}},minServerVersion:"7.1.5RC1",exclude:["About","Settings","Search","Login","Offline","Error","ErrorEmulation","Recents","Forecasts","BubbleChart","Dashboards","Activities","Filters","Comments","Home","SetupBuddy","TxLog","PdfManager"],customOfflineModules:["TxLog","Recents"],staticModules:["Users","Teams","ProductCategories","ProductTypes","ProductTemplates","Manufacturers"],bulkLoad:{enabled:true,requestDelay:500,setupOnStartEnabled:true,initial:{pageSize:100,numPages:{default:1,modules:{ProductTypes:2}},modules:["Users","Teams","ProductCategories","ProductTypes","ProductTemplates","Manufacturers"]},complete:{pageSize:300,numPages:{default:3,modules:{ProductTemplates:9,Teams:9,Accounts:9,Contacts:9,Employees:9}}}},syncManager:{enabled:true,syncTimeout:10,executors:{wins:{enabled:true,interval:180,priority:1,preSyncMaxRecords:100,syncPageSize:20,preSyncPageSize:20},txLog:{enabled:true,interval:20,priority:0}}},maxMixedCollectionQueryResult:30,monitorTimeout:5e3,cleanUp:{defaultPurgeInterval:90,recordsToKeepPercentage:90},dbLimits:{default:1e3,modules:{ProductTemplates:3e3,Teams:3e3,Accounts:3e3,Contacts:3e3,Employees:3e3}}},dashboards:{enabled:true,minServerVersion:"7.2",recordDashboardsEnabled:true,dashlets:{dashablelist:{minServerVersion:"7.2"},"tabbed-dashlet":{minServerVersion:"7.2"},"forecast-pareto":{minServerVersion:"7.6.0.0RC3"},bubblechart:{minServerVersion:"7.2"},"forecast-pipeline":{minServerVersion:"7.6.0.0RC3"},"sales-pipeline":{minServerVersion:"7.8.0.0RC2",icon:"icon-trophy"},"activitystream-dashlet":{minServerVersion:"7.2"},"saved-reports-chart":{minServerVersion:"7.2"},forecastdetails:{minServerVersion:"7.6.0.0RC3"},twitter:{minServerVersion:"7.5.0.0"},webpage:{minServerVersion:"7.5.0.0"},"opportunity-metrics":{minServerVersion:"7.6.0.0RC3"},casessummary:{minServerVersion:"7.5.0.0"}}},raven:{enabled:true,env:"store",url:"https://0c866dad58bb4a29b88e405491cfc6a6@app.getsentry.com/22007",enhancedErrorReporting:true,maxLogSize:30},errorEmulation:{enabled:false,user:"Max"},localProxyPort:"8081",localProxyCORSPrefix:"/CORS/",scheme:"store"}},function(e,t,n){var i={"./af":164,"./af.js":164,"./ar":171,"./ar-dz":165,"./ar-dz.js":165,"./ar-kw":166,"./ar-kw.js":166,"./ar-ly":167,"./ar-ly.js":167,"./ar-ma":168,"./ar-ma.js":168,"./ar-sa":169,"./ar-sa.js":169,"./ar-tn":170,"./ar-tn.js":170,"./ar.js":171,"./az":172,"./az.js":172,"./be":173,"./be.js":173,"./bg":174,"./bg.js":174,"./bm":175,"./bm.js":175,"./bn":176,"./bn.js":176,"./bo":177,"./bo.js":177,"./br":178,"./br.js":178,"./bs":179,"./bs.js":179,"./ca":180,"./ca.js":180,"./cs":181,"./cs.js":181,"./cv":182,"./cv.js":182,"./cy":183,"./cy.js":183,"./da":184,"./da.js":184,"./de":187,"./de-at":185,"./de-at.js":185,"./de-ch":186,"./de-ch.js":186,"./de.js":187,"./dv":188,"./dv.js":188,"./el":189,"./el.js":189,"./en-au":190,"./en-au.js":190,"./en-ca":191,"./en-ca.js":191,"./en-gb":192,"./en-gb.js":192,"./en-ie":193,"./en-ie.js":193,"./en-nz":194,"./en-nz.js":194,"./eo":195,"./eo.js":195,"./es":198,"./es-do":196,"./es-do.js":196,"./es-us":197,"./es-us.js":197,"./es.js":198,"./et":199,"./et.js":199,"./eu":200,"./eu.js":200,"./fa":201,"./fa.js":201,"./fi":202,"./fi.js":202,"./fo":203,"./fo.js":203,"./fr":206,"./fr-ca":204,"./fr-ca.js":204,"./fr-ch":205,"./fr-ch.js":205,"./fr.js":206,"./fy":207,"./fy.js":207,"./gd":208,"./gd.js":208,"./gl":209,"./gl.js":209,"./gom-latn":210,"./gom-latn.js":210,"./gu":211,"./gu.js":211,"./he":212,"./he.js":212,"./hi":213,"./hi.js":213,"./hr":214,"./hr.js":214,"./hu":215,"./hu.js":215,"./hy-am":216,"./hy-am.js":216,"./id":217,"./id.js":217,"./is":218,"./is.js":218,"./it":219,"./it.js":219,"./ja":220,"./ja.js":220,"./jv":221,"./jv.js":221,"./ka":222,"./ka.js":222,"./kk":223,"./kk.js":223,"./km":224,"./km.js":224,"./kn":225,"./kn.js":225,"./ko":226,"./ko.js":226,"./ky":227,"./ky.js":227,"./lb":228,"./lb.js":228,"./lo":229,"./lo.js":229,"./lt":230,"./lt.js":230,"./lv":231,"./lv.js":231,"./me":232,"./me.js":232,"./mi":233,"./mi.js":233,"./mk":234,"./mk.js":234,"./ml":235,"./ml.js":235,"./mr":236,"./mr.js":236,"./ms":238,"./ms-my":237,"./ms-my.js":237,"./ms.js":238,"./my":239,"./my.js":239,"./nb":240,"./nb.js":240,"./ne":241,"./ne.js":241,"./nl":243,"./nl-be":242,"./nl-be.js":242,"./nl.js":243,"./nn":244,"./nn.js":244,"./pa-in":245,"./pa-in.js":245,"./pl":246,"./pl.js":246,"./pt":248,"./pt-br":247,"./pt-br.js":247,"./pt.js":248,"./ro":249,"./ro.js":249,"./ru":250,"./ru.js":250,"./sd":251,"./sd.js":251,"./se":252,"./se.js":252,"./si":253,"./si.js":253,"./sk":254,"./sk.js":254,"./sl":255,"./sl.js":255,"./sq":256,"./sq.js":256,"./sr":258,"./sr-cyrl":257,"./sr-cyrl.js":257,"./sr.js":258,"./ss":259,"./ss.js":259,"./sv":260,"./sv.js":260,"./sw":261,"./sw.js":261,"./ta":262,"./ta.js":262,"./te":263,"./te.js":263,"./tet":264,"./tet.js":264,"./th":265,"./th.js":265,"./tl-ph":266,"./tl-ph.js":266,"./tlh":267,"./tlh.js":267,"./tr":268,"./tr.js":268,"./tzl":269,"./tzl.js":269,"./tzm":271,"./tzm-latn":270,"./tzm-latn.js":270,"./tzm.js":271,"./uk":272,"./uk.js":272,"./ur":273,"./ur.js":273,"./uz":275,"./uz-latn":274,"./uz-latn.js":274,"./uz.js":275,"./vi":276,"./vi.js":276,"./x-pseudo":277,"./x-pseudo.js":277,"./yo":278,"./yo.js":278,"./zh-cn":279,"./zh-cn.js":279,"./zh-hk":280,"./zh-hk.js":280,"./zh-tw":281,"./zh-tw.js":281};function a(e){return n(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(i)};a.resolve=r;e.exports=a;a.id=613},function(e,t,n){(function(e,t){(function(e,n){"use strict";if(e.setImmediate){return}var i=1;var a={};var r=false;var s=e.document;var o;function l(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var n=0;n<t.length;n++){t[n]=arguments[n+1]}var r={callback:e,args:t};a[i]=r;o(i);return i++}function c(e){delete a[e]}function u(e){var t=e.callback;var i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i);break}}function d(e){if(r){setTimeout(d,0,e)}else{var t=a[e];if(t){r=true;try{u(t)}finally{c(e);r=false}}}}function f(){o=function(e){t.nextTick(function(){d(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=true;var n=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=n;return t}}function h(){var t="setImmediate$"+Math.random()+"$";var n=function(n){if(n.source===e&&typeof n.data==="string"&&n.data.indexOf(t)===0){d(+n.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",n,false)}else{e.attachEvent("onmessage",n)}o=function(n){e.postMessage(t+n,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)};o=function(t){e.port2.postMessage(t)}}function _(){var e=s.documentElement;o=function(t){var n=s.createElement("script");n.onreadystatechange=function(){d(t);n.onreadystatechange=null;e.removeChild(n);n=null};e.appendChild(n)}}function g(){o=function(e){setTimeout(d,0,e)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e;if({}.toString.call(e.process)==="[object process]"){f()}else if(p()){h()}else if(e.MessageChannel){m()}else if(s&&"onreadystatechange"in s.createElement("script")){_()}else{g()}v.setImmediate=l;v.clearImmediate=c})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(t,n(54),n(83))},function(e,t,n){var i=n(418);if(typeof i==="string")i=[[e.i,i,""]];var a;var r={hmr:true};r.transform=a;var s=n(282)(i,r);if(i.locals)e.exports=i.locals;if(false){if(!i.locals){e.hot.accept("!!../../node_modules/css-loader/index.js!./smartbanner.css",function(){var t=require("!!../../node_modules/css-loader/index.js!./smartbanner.css");if(typeof t==="string")t=[[e.id,t,""]];s(t)})}e.hot.dispose(function(){s()})}},function(e,t,n){var i=n(419);if(typeof i==="string")i=[[e.i,i,""]];var a;var r={hmr:true};r.transform=a;var s=n(282)(i,r);if(i.locals)e.exports=i.locals;if(false){if(!i.locals){e.hot.accept("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js?noIeCompat!./bootstrap-mobile.less",function(){var t=require("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js?noIeCompat!./bootstrap-mobile.less");if(typeof t==="string")t=[[e.id,t,""]];s(t)})}e.hot.dispose(function(){s()})}},function(e,t){e.exports=function(e){var t=typeof window!=="undefined"&&window.location;if(!t){throw new Error("fixUrls requires window.location")}if(!e||typeof e!=="string"){return e}var n=t.protocol+"//"+t.host;var i=n+t.pathname.replace(/\/[^\/]*$/,"/");var a=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)){return e}var r;if(a.indexOf("//")===0){r=a}else if(a.indexOf("/")===0){r=n+a}else{r=i+a.replace(/^\.\//,"")}return"url("+JSON.stringify(r)+")"});return a}},function(e,t,n){(function(){var n=this;var i=n._;var a={};var r=Array.prototype,s=Object.prototype,o=Function.prototype;var l=r.slice,c=r.unshift,u=s.toString,d=s.hasOwnProperty;var f=r.forEach,p=r.map,h=r.reduce,m=r.reduceRight,_=r.filter,g=r.every,v=r.some,b=r.indexOf,y=r.lastIndexOf,x=Array.isArray,w=Object.keys,S=o.bind;var L=function(e){return new N(e)};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=L}t._=L}else{n["_"]=L}L.VERSION="1.3.3";var E=L.each=L.forEach=function(e,t,n){if(e==null)return;if(f&&e.forEach===f){e.forEach(t,n)}else if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++){if(i in e&&t.call(n,e[i],i,e)===a)return}}else{for(var s in e){if(L.has(e,s)){if(t.call(n,e[s],s,e)===a)return}}}};L.map=L.collect=function(e,t,n){var i=[];if(e==null)return i;if(p&&e.map===p)return e.map(t,n);E(e,function(e,a,r){i[i.length]=t.call(n,e,a,r)});if(e.length===+e.length)i.length=e.length;return i};L.reduce=L.foldl=L.inject=function(e,t,n,i){var a=arguments.length>2;if(e==null)e=[];if(h&&e.reduce===h){if(i)t=L.bind(t,i);return a?e.reduce(t,n):e.reduce(t)}E(e,function(e,r,s){if(!a){n=e;a=true}else{n=t.call(i,n,e,r,s)}});if(!a)throw new TypeError("Reduce of empty array with no initial value");return n};L.reduceRight=L.foldr=function(e,t,n,i){var a=arguments.length>2;if(e==null)e=[];if(m&&e.reduceRight===m){if(i)t=L.bind(t,i);return a?e.reduceRight(t,n):e.reduceRight(t)}var r=L.toArray(e).reverse();if(i&&!a)t=L.bind(t,i);return a?L.reduce(r,t,n,i):L.reduce(r,t)};L.find=L.detect=function(e,t,n){var i;k(e,function(e,a,r){if(t.call(n,e,a,r)){i=e;return true}});return i};L.filter=L.select=function(e,t,n){var i=[];if(e==null)return i;if(_&&e.filter===_)return e.filter(t,n);E(e,function(e,a,r){if(t.call(n,e,a,r))i[i.length]=e});return i};L.reject=function(e,t,n){var i=[];if(e==null)return i;E(e,function(e,a,r){if(!t.call(n,e,a,r))i[i.length]=e});return i};L.every=L.all=function(e,t,n){var i=true;if(e==null)return i;if(g&&e.every===g)return e.every(t,n);E(e,function(e,r,s){if(!(i=i&&t.call(n,e,r,s)))return a});return!!i};var k=L.some=L.any=function(e,t,n){t||(t=L.identity);var i=false;if(e==null)return i;if(v&&e.some===v)return e.some(t,n);E(e,function(e,r,s){if(i||(i=t.call(n,e,r,s)))return a});return!!i};L.include=L.contains=function(e,t){var n=false;if(e==null)return n;if(b&&e.indexOf===b)return e.indexOf(t)!=-1;n=k(e,function(e){return e===t});return n};L.invoke=function(e,t){var n=l.call(arguments,2);return L.map(e,function(e){return(L.isFunction(t)?t||e:e[t]).apply(e,n)})};L.pluck=function(e,t){return L.map(e,function(e){return e[t]})};L.max=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&L.isEmpty(e))return-Infinity;var i={computed:-Infinity};E(e,function(e,a,r){var s=t?t.call(n,e,a,r):e;s>=i.computed&&(i={value:e,computed:s})});return i.value};L.min=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&L.isEmpty(e))return Infinity;var i={computed:Infinity};E(e,function(e,a,r){var s=t?t.call(n,e,a,r):e;s<i.computed&&(i={value:e,computed:s})});return i.value};L.shuffle=function(e){var t=[],n;E(e,function(e,i,a){n=Math.floor(Math.random()*(i+1));t[i]=t[n];t[n]=e});return t};L.sortBy=function(e,t,n){var i=L.isFunction(t)?t:function(e){return e[t]};return L.pluck(L.map(e,function(e,t,a){return{value:e,criteria:i.call(n,e,t,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n===void 0)return 1;if(i===void 0)return-1;return n<i?-1:n>i?1:0}),"value")};L.groupBy=function(e,t){var n={};var i=L.isFunction(t)?t:function(e){return e[t]};E(e,function(e,t){var a=i(e,t);(n[a]||(n[a]=[])).push(e)});return n};L.sortedIndex=function(e,t,n){n||(n=L.identity);var i=0,a=e.length;while(i<a){var r=i+a>>1;n(e[r])<n(t)?i=r+1:a=r}return i};L.toArray=function(e){if(!e)return[];if(L.isArray(e))return l.call(e);if(L.isArguments(e))return l.call(e);if(e.toArray&&L.isFunction(e.toArray))return e.toArray();return L.values(e)};L.size=function(e){return L.isArray(e)?e.length:L.keys(e).length};L.first=L.head=L.take=function(e,t,n){return t!=null&&!n?l.call(e,0,t):e[0]};L.initial=function(e,t,n){return l.call(e,0,e.length-(t==null||n?1:t))};L.last=function(e,t,n){if(t!=null&&!n){return l.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};L.rest=L.tail=function(e,t,n){return l.call(e,t==null||n?1:t)};L.compact=function(e){return L.filter(e,function(e){return!!e})};L.flatten=function(e,t){return L.reduce(e,function(e,n){if(L.isArray(n))return e.concat(t?n:L.flatten(n));e[e.length]=n;return e},[])};L.without=function(e){return L.difference(e,l.call(arguments,1))};L.uniq=L.unique=function(e,t,n){var i=n?L.map(e,n):e;var a=[];if(e.length<3)t=true;L.reduce(i,function(n,i,r){if(t?L.last(n)!==i||!n.length:!L.include(n,i)){n.push(i);a.push(e[r])}return n},[]);return a};L.union=function(){return L.uniq(L.flatten(arguments,true))};L.intersection=L.intersect=function(e){var t=l.call(arguments,1);return L.filter(L.uniq(e),function(e){return L.every(t,function(t){return L.indexOf(t,e)>=0})})};L.difference=function(e){var t=L.flatten(l.call(arguments,1),true);return L.filter(e,function(e){return!L.include(t,e)})};L.zip=function(){var e=l.call(arguments);var t=L.max(L.pluck(e,"length"));var n=new Array(t);for(var i=0;i<t;i++)n[i]=L.pluck(e,""+i);return n};L.indexOf=function(e,t,n){if(e==null)return-1;var i,a;if(n){i=L.sortedIndex(e,t);return e[i]===t?i:-1}if(b&&e.indexOf===b)return e.indexOf(t);for(i=0,a=e.length;i<a;i++)if(i in e&&e[i]===t)return i;return-1};L.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1};L.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var i=Math.max(Math.ceil((t-e)/n),0);var a=0;var r=new Array(i);while(a<i){r[a++]=e;e+=n}return r};var M=function(){};L.bind=function e(t,n){var i,a;if(t.bind===S&&S)return S.apply(t,l.call(arguments,1));if(!L.isFunction(t))throw new TypeError;a=l.call(arguments,2);return i=function(){if(!(this instanceof i))return t.apply(n,a.concat(l.call(arguments)));M.prototype=t.prototype;var e=new M;var r=t.apply(e,a.concat(l.call(arguments)));if(Object(r)===r)return r;return e}};L.bindAll=function(e){var t=l.call(arguments,1);if(t.length==0)t=L.functions(e);E(t,function(t){e[t]=L.bind(e[t],e)});return e};L.memoize=function(e,t){var n={};t||(t=L.identity);return function(){var i=t.apply(this,arguments);return L.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}};L.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};L.defer=function(e){return L.delay.apply(L,[e,1].concat(l.call(arguments,1)))};L.throttle=function(e,t){var n,i,a,r,s,o;var l=L.debounce(function(){s=r=false},t);return function(){n=this;i=arguments;var c=function(){a=null;if(s)e.apply(n,i);l()};if(!a)a=setTimeout(c,t);if(r){s=true}else{o=e.apply(n,i)}l();r=true;return o}};L.debounce=function(e,t,n){var i;return function(){var a=this,r=arguments;var s=function(){i=null;if(!n)e.apply(a,r)};if(n&&!i)e.apply(a,r);clearTimeout(i);i=setTimeout(s,t)}};L.once=function(e){var t=false,n;return function(){if(t)return n;t=true;return n=e.apply(this,arguments)}};L.wrap=function(e,t){return function(){var n=[e].concat(l.call(arguments,0));return t.apply(this,n)}};L.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};L.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};L.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(L.has(e,n))t[t.length]=n;return t};L.values=function(e){return L.map(e,L.identity)};L.functions=L.methods=function(e){var t=[];for(var n in e){if(L.isFunction(e[n]))t.push(n)}return t.sort()};L.extend=function(e){E(l.call(arguments,1),function(t){for(var n in t){e[n]=t[n]}});return e};L.pick=function(e){var t={};E(L.flatten(l.call(arguments,1)),function(n){if(n in e)t[n]=e[n]});return t};L.defaults=function(e){E(l.call(arguments,1),function(t){for(var n in t){if(e[n]==null)e[n]=t[n]}});return e};L.clone=function(e){if(!L.isObject(e))return e;return L.isArray(e)?e.slice():L.extend({},e)};L.tap=function(e,t){t(e);return e};function T(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e._chain)e=e._wrapped;if(t._chain)t=t._wrapped;if(e.isEqual&&L.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&L.isFunction(t.isEqual))return t.isEqual(e);var i=u.call(e);if(i!=u.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var a=n.length;while(a--){if(n[a]==e)return true}n.push(e);var r=0,s=true;if(i=="[object Array]"){r=e.length;s=r==t.length;if(s){while(r--){if(!(s=r in e==r in t&&T(e[r],t[r],n)))break}}}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return false;for(var o in e){if(L.has(e,o)){r++;if(!(s=L.has(t,o)&&T(e[o],t[o],n)))break}}if(s){for(o in t){if(L.has(t,o)&&!r--)break}s=!r}}n.pop();return s}L.isEqual=function(e,t){return T(e,t,[])};L.isEmpty=function(e){if(e==null)return true;if(L.isArray(e)||L.isString(e))return e.length===0;for(var t in e)if(L.has(e,t))return false;return true};L.isElement=function(e){return!!(e&&e.nodeType==1)};L.isArray=x||function(e){return u.call(e)=="[object Array]"};L.isObject=function(e){return e===Object(e)};L.isArguments=function(e){return u.call(e)=="[object Arguments]"};if(!L.isArguments(arguments)){L.isArguments=function(e){return!!(e&&L.has(e,"callee"))}}L.isFunction=function(e){return u.call(e)=="[object Function]"};L.isString=function(e){return u.call(e)=="[object String]"};L.isNumber=function(e){return u.call(e)=="[object Number]"};L.isFinite=function(e){return L.isNumber(e)&&isFinite(e)};L.isNaN=function(e){return e!==e};L.isBoolean=function(e){return e===true||e===false||u.call(e)=="[object Boolean]"};L.isDate=function(e){return u.call(e)=="[object Date]"};L.isRegExp=function(e){return u.call(e)=="[object RegExp]"};L.isNull=function(e){return e===null};L.isUndefined=function(e){return e===void 0};L.has=function(e,t){return d.call(e,t)};L.noConflict=function(){n._=i;return this};L.identity=function(e){return e};L.times=function(e,t,n){for(var i=0;i<e;i++)t.call(n,i)};L.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};L.result=function(e,t){if(e==null)return null;var n=e[t];return L.isFunction(n)?n.call(e):n};L.mixin=function(e){E(L.functions(e),function(t){P(t,L[t]=e[t])})};var A=0;L.uniqueId=function(e){var t=A++;return e?e+t:t};L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/;var D={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var R in D)D[D[R]]=R;var I=/\\|'|\r|\n|\t|\u2028|\u2029/g;var O=/\\(\\|'|r|n|t|u2028|u2029)/g;var F=function(e){return e.replace(O,function(e,t){return D[t]})};L.template=function(e,t,n){n=L.defaults(n||{},L.templateSettings);var i="__p+='"+e.replace(I,function(e){return"\\"+D[e]}).replace(n.escape||C,function(e,t){return"'+\n_.escape("+F(t)+")+\n'"}).replace(n.interpolate||C,function(e,t){return"'+\n("+F(t)+")+\n'"}).replace(n.evaluate||C,function(e,t){return"';\n"+F(t)+"\n;__p+='"})+"';\n";if(!n.variable)i="with(obj||{}){\n"+i+"}\n";i="var __p='';"+"var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+i+"return __p;\n";var a=new Function(n.variable||"obj","_",i);if(t)return a(t,L);var r=function(e){return a.call(this,e,L)};r.source="function("+(n.variable||"obj")+"){\n"+i+"}";return r};L.chain=function(e){return L(e).chain()};var N=function(e){this._wrapped=e};L.prototype=N.prototype;var B=function(e,t){return t?L(e).chain():e};var P=function(e,t){N.prototype[e]=function(){var e=l.call(arguments);c.call(e,this._wrapped);return B(t.apply(L,e),this._chain)}};L.mixin(L);E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];N.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;if((e=="shift"||e=="splice")&&i===0)delete n[0];return B(n,this._chain)}});E(["concat","join","slice"],function(e){var t=r[e];N.prototype[e]=function(){return B(t.apply(this._wrapped,arguments),this._chain)}});N.prototype.chain=function(){this._chain=true;return this};N.prototype.value=function(){return this._wrapped}}).call(this)},function(e,t,n){var i,a,r,s,o,l,c,u,d,f,p=[].slice;u=n(618);i=Object.getPrototypeOf;a=Object.prototype;d={},r=d.hasOwnProperty,s=d.toString;o=t.DEFAULT_DELEGATE_OPTIONS={getter:"get",setter:"set",deleter:"unset"};l=t.TOMBSTONE={};c=t.DEFAULT_NESTED_OPTIONS=h({ensure:false,tombstone:l},o);f={isMember:function(e,t){var n,i;n=u.unique([].slice.call(arguments,1));i=u.intersection(u.values(e),n);return u.isEqual(n,i)},get:function(e,t,n,i){var a;if(e==null){return}a=(i!=null?i.getter:void 8)||"get";if(typeof e[a]==="function"){return e[a](t,n,i)}else{if(e[t]!==void 8){return e[t]}else{return n}}},set:function(e,t,n,i){var a,r,s;if(e==null){return}if(t!=null&&u.isObject(t)){s=[t,n],a=s[0],i=s[1]}else{a=(s={},s[t+""]=n,s)}r=(i!=null?i.setter:void 8)||"set";if(typeof e[r]==="function"){for(t in a){n=a[t];e[r](t,n,i)}}else{for(t in a){n=a[t];e[t]=n}}return e},unset:function(e,t,n){var i,a;if(e==null){return}i=(n!=null?n.deleter:void 8)||"unset";if(typeof e[i]==="function"){return e[i](t,n)}else{return a=e[t],delete e[t],a}},getNestedMeta:function(e,t,n){var i;if(typeof t==="string"){t=t.split(".")}i=t.length-1;n=h(u.clone(c),n||{});return u.reduce(t,function(e,t,a){var r;if(e==null){return}r=f.get(e,t,void 8,n);if(r===n.tombstone){if(!ops.ensure){return}r=void 8}if(a===i){return{key:t,val:r,obj:e,opts:n}}if(r==null&&n.ensure){r={};f.set(e,t,r,n)}return r},e)},getNested:function(e,t,n,i){var a;a=f.getNestedMeta(e,t,i);if((a!=null?a.val:void 8)===void 8){return n}return a.val},setNested:function(e,t,n,i){var a,r,s;if(!(a=f.getNestedMeta(e,t,i))){return}e=a.obj,r=a.key,s=a.val,i=a.opts;f.set(e,r,n,i);return s},unsetNested:function(e,t,n){var i,a,r;if(!(i=f.getNestedMeta(e,t,n))){return}e=i.obj,a=i.key,r=i.val,n=i.opts;f.unset(e,a,n);return r},isPlainObject:function(e){var t;if(!e||s.call(e)!=="[object Object]"||e.nodeType||e.setInterval){return false}if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf")){return false}for(t in e){}return t===void 8||r.call(e,t)},remove:function(e,t){var n,i,a,r,s;n=[].slice.call(arguments,1);if(u.isArray(e)||e instanceof Array){for(r=0,s=n.length;r<s;++r){t=n[r];i=e.indexOf(t);if(i!==-1){e.splice(i,1)}}}else{for(a in e){t=e[a];if(-1!==n.indexOf(t)){delete e[a]}}}return e},items:function(e){if(u.isObject(e)&&!u.isArguments(e)){return u.map(e,function(e,t){return[t,e]})}else{return[].slice.call(e)}},merge:function(e){var t,n,i,a;e==null&&(e={});t=p.call(arguments,1);if(!(typeof e==="object"||u.isFunction(e))){e=u.isArray(t[0])?[]:{}}for(i=0,a=t.length;i<a;++i){n=t[i];if(n==null){continue}u.each(n,r)}return e;function r(t,n){var i,a;i=e[n];if(e===t){return}if(t&&(f.isPlainObject(t)||(a=u.isArray(t)))){if(a){if(!u.isArray(i)){i=[]}}else{if(!(i&&typeof i==="object")){i={}}}return f.set(e,n,f.merge(i,t))}else if(t!==void 8){return f.set(e,n,t)}}}};h(t,f);function h(e,t){var n={}.hasOwnProperty;for(var i in t)if(n.call(t,i))e[i]=t[i];return e}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t){(function(e){var t=0,n=window.document,i,a,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,o=/^(?:text|application)\/xml/i,l="application/json",c="text/html",u=/^\s*$/,d=n.createElement("a");d.href=window.location.href;function f(t,n,i){var a=e.Event(n);e(t).trigger(a,i);return!a.isDefaultPrevented()}function p(e,t,i,a){if(e.global)return f(t||n,i,a)}e.active=0;function h(t){if(t.global&&e.active++===0)p(t,null,"ajaxStart")}function m(t){if(t.global&&!--e.active)p(t,null,"ajaxStop")}function _(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===false||p(t,n,"ajaxBeforeSend",[e,t])===false)return false;p(t,n,"ajaxSend",[e,t])}function g(e,t,n,i){var a=n.context,r="success";n.success.call(a,e,r,t);if(i)i.resolveWith(a,[e,r,t]);p(n,a,"ajaxSuccess",[t,n,e]);b(r,t,n)}function v(e,t,n,i,a){var r=i.context;i.error.call(r,n,t,e);if(a)a.rejectWith(r,[n,t,e]);p(i,r,"ajaxError",[n,i,e||t]);b(t,n,i)}function b(e,t,n){var i=n.context;n.complete.call(i,t,e);p(n,i,"ajaxComplete",[t,n]);m(n)}function y(){}e.ajaxJSONP=function(i,a){if(!("type"in i))return e.ajax(i);var r=i.jsonpCallback,s=(e.isFunction(r)?r():r)||"jsonp"+ ++t,o=n.createElement("script"),l=window[s],c,u=function(t){e(o).triggerHandler("error",t||"abort")},d={abort:u},f;if(a)a.promise(d);e(o).on("load error",function(t,n){clearTimeout(f);e(o).off().remove();if(t.type=="error"||!c){v(null,n||"error",d,i,a)}else{g(c[0],d,i,a)}window[s]=l;if(c&&e.isFunction(l))l(c[0]);l=c=undefined});if(_(d,i)===false){u("abort");return d}window[s]=function(){c=arguments};o.src=i.url.replace(/\?(.+)=\?/,"?$1="+s);n.head.appendChild(o);if(i.timeout>0)f=setTimeout(function(){u("timeout")},i.timeout);return d};e.ajaxSettings={type:"GET",beforeSend:y,success:y,error:y,complete:y,context:null,global:true,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:l,xml:"application/xml, text/xml",html:c,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true};function x(e){if(e)e=e.split(";",2)[0];return e&&(e==c?"html":e==l?"json":s.test(e)?"script":o.test(e)&&"xml")||"text"}function w(e,t){if(t=="")return e;return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function S(t){if(t.processData&&t.data&&e.type(t.data)!="string")t.data=e.param(t.data,t.traditional);if(t.data&&(!t.type||t.type.toUpperCase()=="GET"))t.url=w(t.url,t.data),t.data=undefined}e.ajax=function(t){var r=e.extend({},t||{}),s=e.Deferred&&e.Deferred(),o;for(i in e.ajaxSettings)if(r[i]===undefined)r[i]=e.ajaxSettings[i];h(r);if(!r.crossDomain){o=n.createElement("a");o.href=r.url;o.href=o.href;r.crossDomain=d.protocol+"//"+d.host!==o.protocol+"//"+o.host}if(!r.url)r.url=window.location.toString();S(r);var l=r.dataType,c=/\?.+=\?/.test(r.url);if(c)l="jsonp";if(r.cache===false||(!t||t.cache!==true)&&("script"==l||"jsonp"==l))r.url=w(r.url,"_="+Date.now());if("jsonp"==l){if(!c)r.url=w(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===false?"":"callback=?");return e.ajaxJSONP(r,s)}var f=r.accepts[l],p={},m=function(e,t){p[e.toLowerCase()]=[e,t]},b=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,L=r.xhr(),E=L.setRequestHeader,k;if(s)s.promise(L);if(!r.crossDomain)m("X-Requested-With","XMLHttpRequest");m("Accept",f||"*/*");if(f=r.mimeType||f){if(f.indexOf(",")>-1)f=f.split(",",2)[0];L.overrideMimeType&&L.overrideMimeType(f)}if(r.contentType||r.contentType!==false&&r.data&&r.type.toUpperCase()!="GET")m("Content-Type",r.contentType||"application/x-www-form-urlencoded");if(r.headers)for(a in r.headers)m(a,r.headers[a]);L.setRequestHeader=m;L.onreadystatechange=function(){if(L.readyState==4){L.onreadystatechange=y;clearTimeout(k);var t,n=false;if(L.status>=200&&L.status<300||L.status==304||L.status==0&&b=="file:"){l=l||x(r.mimeType||L.getResponseHeader("content-type"));t=L.responseText;try{if(l=="script")(1,eval)(t);else if(l=="xml")t=L.responseXML;else if(l=="json")t=u.test(t)?null:e.parseJSON(t)}catch(e){n=e}if(n)v(n,"parsererror",L,r,s);else g(t,L,r,s)}else{v(L.statusText||null,L.status?"error":"abort",L,r,s)}}};if(_(L,r)===false){L.abort();v(null,"abort",L,r,s);return L}if(r.xhrFields)for(a in r.xhrFields)L[a]=r.xhrFields[a];var M="async"in r?r.async:true;L.open(r.type,r.url,M,r.username,r.password);for(a in p)E.apply(L,p[a]);if(r.timeout>0)k=setTimeout(function(){L.onreadystatechange=y;L.abort();v(null,"timeout",L,r,s)},r.timeout);L.send(r.data?r.data:null);return L};function L(t,n,i,a){if(e.isFunction(n))a=i,i=n,n=undefined;if(!e.isFunction(i))a=i,i=undefined;return{url:t,data:n,success:i,dataType:a}}e.get=function(){return e.ajax(L.apply(null,arguments))};e.post=function(){var t=L.apply(null,arguments);t.type="POST";return e.ajax(t)};e.getJSON=function(){var t=L.apply(null,arguments);t.dataType="json";return e.ajax(t)};e.fn.load=function(t,n,i){if(!this.length)return this;var a=this,s=t.split(/\s/),o,l=L(t,n,i),c=l.success;if(s.length>1)l.url=s[0],o=s[1];l.success=function(t){a.html(o?e("<div>").html(t.replace(r,"")).find(o):t);c&&c.apply(a,arguments)};e.ajax(l);return this};var E=encodeURIComponent;function k(t,n,i,a){var r,s=e.isArray(n),o=e.isPlainObject(n);e.each(n,function(n,l){r=e.type(l);if(a)n=i?a:a+"["+(o||r=="object"||r=="array"?n:"")+"]";if(!a&&s)t.add(l.name,l.value);else if(r=="array"||!i&&r=="object")k(t,l,i,n);else t.add(n,l)})}e.param=function(t,n){var i=[];i.add=function(t,n){if(e.isFunction(n))n=n();if(n==null)n="";this.push(E(t)+"="+E(n))};k(i,t,n);return i.join("&").replace(/%20/g,"+")}})(Zepto)},function(e,t){(function(e){function t(e,t){var n=this.os={},i=this.browser={},a=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!e.match(/\(Macintosh\; Intel /),o=e.match(/(iPad).*OS\s([\d_]+)/),l=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=/Win\d{2}|Windows/.test(t),f=e.match(/Windows Phone ([\d.]+)/),p=u&&e.match(/TouchPad/),h=e.match(/Kindle\/([\d.]+)/),m=e.match(/Silk\/([\d._]+)/),_=e.match(/(BlackBerry).*Version\/([\d.]+)/),g=e.match(/(BB10).*Version\/([\d.]+)/),v=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=e.match(/PlayBook/),y=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),x=e.match(/Firefox\/([\d.]+)/),w=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),S=!y&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),L=S||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(i.webkit=!!a)i.version=a[1];if(r)n.android=true,n.version=r[2];if(c&&!l)n.ios=n.iphone=true,n.version=c[2].replace(/_/g,".");if(o)n.ios=n.ipad=true,n.version=o[2].replace(/_/g,".");if(l)n.ios=n.ipod=true,n.version=l[3]?l[3].replace(/_/g,"."):null;if(f)n.wp=true,n.version=f[1];if(u)n.webos=true,n.version=u[2];if(p)n.touchpad=true;if(_)n.blackberry=true,n.version=_[2];if(g)n.bb10=true,n.version=g[2];if(v)n.rimtabletos=true,n.version=v[2];if(b)i.playbook=true;if(h)n.kindle=true,n.version=h[1];if(m)i.silk=true,i.version=m[1];if(!m&&n.android&&e.match(/Kindle Fire/))i.silk=true;if(y)i.chrome=true,i.version=y[1];if(x)i.firefox=true,i.version=x[1];if(w)i.ie=true,i.version=w[1];if(L&&(s||n.ios||d)){i.safari=true;if(!n.ios)i.version=L[1]}if(S)i.webview=true;n.tablet=!!(o||b||r&&!e.match(/Mobile/)||x&&e.match(/Tablet/)||w&&!e.match(/Phone/)&&e.match(/Touch/));n.phone=!!(!n.tablet&&!n.ipod&&(r||c||u||_||g||y&&e.match(/Android/)||y&&e.match(/CriOS\/([\d.]+)/)||x&&e.match(/Mobile/)||w&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform);e.__detect=t})(Zepto)},function(e,t){(function(e){var t=1,n,i=Array.prototype.slice,a=e.isFunction,r=function(e){return typeof e=="string"},s={},o={},l="onfocusin"in window,c={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents";function d(e){return e._zid||(e._zid=t++)}function f(e,t,n,i){t=p(t);if(t.ns)var a=h(t.ns);return(s[d(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||a.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!i||e.sel==i)})}function p(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function h(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function m(e,t){return e.del&&(!l&&e.e in c)||!!t}function _(e){return u[e]||l&&c[e]||e}function g(t,i,a,r,o,l,c){var f=d(t),h=s[f]||(s[f]=[]);i.split(/\s/).forEach(function(i){if(i=="ready")return e(document).ready(a);var s=p(i);s.fn=a;s.sel=o;if(s.e in u)a=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return s.fn.apply(this,arguments)};s.del=l;var d=l||a;s.proxy=function(e){e=S(e);if(e.isImmediatePropagationStopped())return;e.data=r;var i=d.apply(t,e._args==n?[e]:[e].concat(e._args));if(i===false)e.preventDefault(),e.stopPropagation();return i};s.i=h.length;h.push(s);if("addEventListener"in t)t.addEventListener(_(s.e),s.proxy,m(s,c))})}function v(e,t,n,i,a){var r=d(e);(t||"").split(/\s/).forEach(function(t){f(e,t,n,i).forEach(function(t){delete s[r][t.i];if("removeEventListener"in e)e.removeEventListener(_(t.e),t.proxy,m(t,a))})})}e.event={add:g,remove:v};e.proxy=function(t,n){var s=2 in arguments&&i.call(arguments,2);if(a(t)){var o=function(){return t.apply(n,s?s.concat(i.call(arguments)):arguments)};o._zid=d(t);return o}else if(r(n)){if(s){s.unshift(t[n],t);return e.proxy.apply(null,s)}else{return e.proxy(t[n],t)}}else{throw new TypeError("expected function")}};e.fn.bind=function(e,t,n){return this.on(e,t,n)};e.fn.unbind=function(e,t){return this.off(e,t)};e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var b=function(){return true},y=function(){return false},x=/^([A-Z]|returnValue$|layer[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function S(t,i){if(i||!t.isDefaultPrevented){i||(i=t);e.each(w,function(e,n){var a=i[e];t[e]=function(){this[n]=b;return a&&a.apply(i,arguments)};t[n]=y});if(i.defaultPrevented!==n?i.defaultPrevented:"returnValue"in i?i.returnValue===false:i.getPreventDefault&&i.getPreventDefault())t.isDefaultPrevented=b}return t}function L(e){var t,i={originalEvent:e};for(t in e)if(!x.test(t)&&e[t]!==n)i[t]=e[t];return S(i,e)}e.fn.delegate=function(e,t,n){return this.on(t,e,n)};e.fn.undelegate=function(e,t,n){return this.off(t,e,n)};e.fn.live=function(t,n){e(document.body).delegate(this.selector,t,n);return this};e.fn.die=function(t,n){e(document.body).undelegate(this.selector,t,n);return this};e.fn.on=function(t,s,o,l,c){var u,d,f=this;if(t&&!r(t)){e.each(t,function(e,t){f.on(e,s,o,t,c)});return f}if(!r(s)&&!a(l)&&l!==false)l=o,o=s,s=n;if(a(o)||o===false)l=o,o=n;if(l===false)l=y;return f.each(function(n,a){if(c)u=function(e){v(a,e.type,l);return l.apply(this,arguments)};if(s)d=function(t){var n,r=e(t.target).closest(s,a).get(0);if(r&&r!==a){n=e.extend(L(t),{currentTarget:r,liveFired:a});return(u||l).apply(r,[n].concat(i.call(arguments,1)))}};g(a,t,l,o,s,d||u)})};e.fn.off=function(t,i,s){var o=this;if(t&&!r(t)){e.each(t,function(e,t){o.off(e,i,t)});return o}if(!r(i)&&!a(s)&&s!==false)s=i,i=n;if(s===false)s=y;return o.each(function(){v(this,t,s,i)})};e.fn.trigger=function(t,n){t=r(t)||e.isPlainObject(t)?e.Event(t):S(t);t._args=n;return this.each(function(){if(t.type in c&&typeof this[t.type]=="function")this[t.type]();else if("dispatchEvent"in this)this.dispatchEvent(t);else e(this).triggerHandler(t,n)})};e.fn.triggerHandler=function(t,n){var i,a;this.each(function(s,o){i=L(r(t)?e.Event(t):t);i._args=n;i.target=o;e.each(f(o,t.type||t),function(e,t){a=t.proxy(i);if(i.isImmediatePropagationStopped())return false})});return a};("focusin focusout focus blur load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select keydown keypress keyup error").split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}});e.Event=function(e,t){if(!r(e))t=e,e=t.type;var n=document.createEvent(o[e]||"Events"),i=true;if(t)for(var a in t)a=="bubbles"?i=!!t[a]:n[a]=t[a];n.initEvent(e,i,true);return S(n)}})(Zepto)},function(e,t){(function(e,t){var n="",i,a,r,s={Webkit:"webkit",Moz:"",O:"o"},o=window.document,l=o.createElement("div"),c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,u,d,f,p,h,m,_,g,v,b={};function y(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function x(e){return i?i+e:e.toLowerCase()}e.each(s,function(e,a){if(l.style[e+"TransitionProperty"]!==t){n="-"+e.toLowerCase()+"-";i=a;return false}});u=n+"transform";b[d=n+"transition-property"]=b[f=n+"transition-duration"]=b[h=n+"transition-delay"]=b[p=n+"transition-timing-function"]=b[m=n+"animation-name"]=b[_=n+"animation-duration"]=b[v=n+"animation-delay"]=b[g=n+"animation-timing-function"]="";e.fx={off:i===t&&l.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:x("TransitionEnd"),animationEnd:x("AnimationEnd")};e.fn.animate=function(n,i,a,r,s){if(e.isFunction(i))r=i,a=t,i=t;if(e.isFunction(a))r=a,a=t;if(e.isPlainObject(i))a=i.easing,r=i.complete,s=i.delay,i=i.duration;if(i)i=(typeof i=="number"?i:e.fx.speeds[i]||e.fx.speeds._default)/1e3;if(s)s=parseFloat(s)/1e3;return this.anim(n,i,a,r,s)};e.fn.anim=function(n,i,a,r,s){var o,l={},x,w="",S=this,L,E=e.fx.transitionEnd,k=false;if(i===t)i=e.fx.speeds._default/1e3;if(s===t)s=0;if(e.fx.off)i=0;if(typeof n=="string"){l[m]=n;l[_]=i+"s";l[v]=s+"s";l[g]=a||"linear";E=e.fx.animationEnd}else{x=[];for(o in n)if(c.test(o))w+=o+"("+n[o]+") ";else l[o]=n[o],x.push(y(o));if(w)l[u]=w,x.push(u);if(i>0&&typeof n==="object"){l[d]=x.join(", ");l[f]=i+"s";l[h]=s+"s";l[p]=a||"linear"}}L=function(t){if(typeof t!=="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(E,L)}else e(this).unbind(E,L);k=true;e(this).css(b);r&&r.call(this)};if(i>0){this.bind(E,L);setTimeout(function(){if(k)return;L.call(S)},(i+s)*1e3+25)}this.size()&&this.get(0).clientLeft;this.css(l);if(i<=0)setTimeout(function(){S.each(function(){L.call(this)})},0);return this};l=null})(Zepto)},function(e,t){(function(e){var t=e.zepto,n=t.qsa,i=t.matches;function a(t){t=e(t);return!!(t.width()||t.height())&&t.css("display")!=="none"}var r=e.expr[":"]={visible:function(){if(a(this))return this},hidden:function(){if(!a(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(e){if(e===0)return this},last:function(e,t){if(e===t.length-1)return this},eq:function(e,t,n){if(e===n)return this},contains:function(t,n,i){if(e(this).text().indexOf(i)>-1)return this},has:function(e,n,i){if(t.qsa(this,i).length)return this}};var s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),o=/^\s*>/,l="Zepto"+ +new Date;function c(e,t){e=e.replace(/=#\]/g,'="#"]');var n,i,a=s.exec(e);if(a&&a[2]in r){n=r[a[2]],i=a[3];e=a[1];if(i){var o=Number(i);if(isNaN(o))i=i.replace(/^["']|["']$/g,"");else i=o}}return t(e,n,i)}t.qsa=function(i,a){return c(a,function(r,s,c){try{var u;if(!r&&s)r="*";else if(o.test(r))u=e(i).addClass(l),r="."+l+" "+r;var d=n(i,r)}catch(e){console.error("error performing selector: %o",a);throw e}finally{if(u)u.removeClass(l)}return!s?d:t.uniq(e.map(d,function(e,t){return s.call(e,t,d,c)}))})};t.matches=function(e,t){return c(t,function(t,n,a){return(!t||i(e,t))&&(!n||n.call(e,null,a)===e)})}})(Zepto)},function(e,t){e.exports=function e(t,n,i){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var a=0,r=0,s=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:-1,pl:-1},l=function(e){e=(""+e).replace(/[_\-+]/g,".");e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return!e.length?[-8]:e.split(".")},c=function(e){return!e?0:isNaN(e)?o[e]||-7:parseInt(e,10)};t=l(t);n=l(n);r=Math.max(t.length,n.length);for(a=0;a<r;a++){if(t[a]==n[a]){continue}t[a]=c(t[a]);n[a]=c(n[a]);if(t[a]<n[a]){s=-1;break}else if(t[a]>n[a]){s=1;break}}if(!i){return s}switch(i){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return s<=0;case"==":case"=":case"eq":return s===0;case"<>":case"!=":case"ne":return s!==0;case"":case"<":case"lt":return s<0;default:return null}}},function(e,t,n){const i=n(53);(function(e){e(window.jQuery||window.Zepto,i)})(function(e,t){var n=6e4,i=e([]),a;var r=function(){if(!i.length){return}a=setTimeout(r,n);s.update()};var s={update:function(n){n=n||i;n.each(function(n,a){var r=e(a),s=r.data("liveRelativeDate"),o;if(!s){i=i.not(a);return}o=s.date?r.data(s.date):r.attr("datetime");var l=r.html(),c=t(o).fromNow();if(l===c){return}var u=e.Event("change.liveRelativeDate");r.trigger(u,[l,c]);if(!u.isDefaultPrevented()){r.html(c)}})},pause:function(){clearTimeout(a);a=null},resume:function(){if(!a){r()}},interval:function(e){if(e===undefined){return n}n=e}};var o={add:function(e,t){if(!e||e.length===0){return e}t=t||{};e.data("liveRelativeDate",JSON.stringify(t));i=i.add(e);s.resume();return e},destroy:function(e){i=i.not(e);e.removeAttr("data-live-relative-date");return e},isLiveRelativeDate:function(t){var n=true;e.each(t,function(t){if(e(t).data("liveRelativeDate")===undefined){n=false;return true}});return n}};e.liverelativedate=s;e.fn.liverelativedate=function(e,t){if(!o[e]){t=e;e="add"}return o[e](this,t)}})},function(e,t){if(typeof SUGAR=="undefined")SUGAR={};if(typeof SUGAR.util=="undefined")SUGAR.util={};if(typeof SUGAR.expressions=="undefined")SUGAR.expressions={};(function(){SUGAR.util.extend=SUGAR.util.extend||(SUGAR.App?SUGAR.App.utils.extendFrom:null);var e=SUGAR.expressions.Expression=function(e){this.context=e};e.INFINITY=-1;e.STRING_TYPE="string";e.NUMERIC_TYPE="number";e.DATE_TYPE="date";e.TIME_TYPE="time";e.BOOLEAN_TYPE="boolean";e.ENUM_TYPE="enum";e.RELATE_TYPE="relate";e.GENERIC_TYPE="generic";e.TRUE="true";e.FALSE="false";e.isTruthy=function(t){return _.isString(t)?t=="1"||t==e.TRUE:!!t};SUGAR.expressions.NumericConstants={pi:3.14159265,e:2.718281828459045};e.prototype.init=function(e){if(e instanceof Array&&e.length==1){this.params=e[0]}else{this.params=e}this.validateParameters()};e.prototype.getParameters=function(){if(!this.params){return this.params}var n,i,a=[],r=this.getParameterTypes(),s=this.getParamCount()==1,o,l;if(s||!_.isArray(this.params)&&_.isObject(this.params)){n=[this.params]}else{n=this.params}if(!(r instanceof Array)){o=r;r=[];for(l=0;l<n.length;l++){r.push(o)}}var c=this.constructor.TYPE_CAST_MAP;for(l=0;l<n.length;l++){i=n[l];if(i instanceof e){o=t.prototype.getType(i);if(o!=r[l]&&r[l]in c){i=new SUGAR.expressions[c[r[l]]](i,this.context)}}a.push(i)}if(s){a=a.shift()}return a};e.prototype.validateParameters=function(){var t=this.params;var n=this.getParamCount();var i=this.getParameterTypes();if(typeof n!="number"){throw this.getClass()+": Number of paramters required must be a number"}if(typeof i!="string"&&!(i instanceof Array)){throw this.getClass()+": Parameter types must be valid and match the parameter count"}if(i instanceof Array&&n!=e.INFINITY&&n!=i.length){throw this.getClass()+": Parameter types must be valid and match the parameter count"}if(typeof i=="string"){if(e.TYPE_MAP[i]==null){throw this.getClass()+": Invalid type requirement '"+i+"'"}}else{for(var a=0;a<i.length;a++){if(typeof e.TYPE_MAP[i[a]]=="undefined"){throw this.getClass()+": Invalid type requirement '"+i[a]+"'"}}}if(n==0&&typeof t=="undefined"){return}if(n==1&&this.isProperType(t,i)){return}if(n>1&&!(t instanceof Array)){throw this.getClass()+": Requires exactly "+n+" parameter(s)"}if(n==1&&t instanceof Array){throw this.getClass()+": Requires exactly 1 parameter"}if(n!=e.INFINITY&&t instanceof Array&&t.length!=n){throw this.getClass()+": Requires exactly "+n+" parameter(s)"}if(typeof i=="string"){if(!(t instanceof Array)){if(this.isProperType(t,i)){return}throw this.getClass()+": Parameter must be of type '"+i+"'"}for(var a=0;a<t.length;a++){if(!this.isProperType(t[a],i)){throw this.getClass()+": All parameters must be of type '"+i+"'"}}}else{if(!(t instanceof Array)){if(this.isProperType(t,i[0])){return}throw this.getClass()+": Parameter must be of type '"+i[0]+"'"}for(var a=0;a<i.length;a++){if(!this.isProperType(t[a],i[a])){throw this.getClass()+": The parameter at index "+a+" must be of type "+i[a]}}}};e.prototype.getParamCount=function(){return e.INFINITY};e.prototype.isProperType=function(t,n){var i=e;if(n instanceof Array){return false}var a=i.TYPE_MAP[n];if(typeof a=="undefined"||a==null||a==""){return false}if(t instanceof a||t instanceof i.TYPE_MAP.generic||n==i.GENERIC_TYPE)return true;if(t instanceof i){t=t.evaluate()}switch(n){case i.STRING_TYPE:return typeof t=="string"||typeof t=="number"||t instanceof i.TYPE_MAP[i.NUMERIC_TYPE];break;case i.NUMERIC_TYPE:return typeof t=="number"||SUGAR.expressions.isNumeric(t);break;case i.BOOLEAN_TYPE:return t==i.TRUE||t==i.FALSE||t===1||t===0||t==="1"||t==="0"||t==="";break;case i.DATE_TYPE:case i.TIME_TYPE:if(t===null||t===""||typeof t=="string"&&SUGAR.util.DateUtils.guessFormat(t))return true;break;case i.RELATE_TYPE:return true;break}return false};e.prototype.evaluate=function(){};e.prototype.getClass=function(e){for(var t in SUGAR.FunctionMap){if(typeof SUGAR.FunctionMap[t]=="function"&&SUGAR.FunctionMap[t].prototype&&this instanceof SUGAR.FunctionMap[t])return t}return false};e.prototype.getParameterTypes=function(){};SUGAR.expressions.GenericExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.GenericExpression,e,{getParameterTypes:function(){return e.GENERIC_TYPE}});SUGAR.expressions.NumericExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.NumericExpression,e,{getParameterTypes:function(){return e.NUMERIC_TYPE}});SUGAR.expressions.StringExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.StringExpression,e,{getParameterTypes:function(){return e.STRING_TYPE}});SUGAR.expressions.BooleanExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.BooleanExpression,e,{getParameterTypes:function(){return e.BOOLEAN_TYPE}});SUGAR.expressions.EnumExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.EnumExpression,e,{getParameterTypes:function(){return e.ENUM_TYPE}});SUGAR.expressions.DateExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.DateExpression,e,{getParameterTypes:function(){return e.DATE_TYPE}});SUGAR.expressions.TimeExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.TimeExpression,e,{getParameterTypes:function(){return e.TIME_TYPE}});SUGAR.expressions.RelateExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.RelateExpression,e,{getParameterTypes:function(){return e.GENERIC_TYPE}});e.TYPE_MAP={number:SUGAR.expressions.NumericExpression,string:SUGAR.expressions.StringExpression,date:SUGAR.expressions.DateExpression,time:SUGAR.expressions.TimeExpression,boolean:SUGAR.expressions.BooleanExpression,enum:SUGAR.expressions.EnumExpression,relate:SUGAR.expressions.RelateExpression,generic:SUGAR.expressions.GenericExpression};e.TYPE_CAST_MAP={number:"ValueOfExpression",string:"DefineStringExpression"};SUGAR.expressions.ConstantExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConstantExpression,SUGAR.expressions.NumericExpression,{evaluate:function(){return this.getParameters()},getParamCount:function(){return 1}});SUGAR.expressions.StringLiteralExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.StringLiteralExpression,SUGAR.expressions.StringExpression,{evaluate:function(){return this.getParameters()},getParamCount:function(){return 1}});SUGAR.expressions.FalseExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.FalseExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return e.FALSE},getParamCount:function(){return 0}});SUGAR.expressions.TrueExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.TrueExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return e.TRUE},getParamCount:function(){return 0}});var t=SUGAR.expressions.ExpressionParser=function(){};t.prototype.getFieldsFromExpression=function(e){return _.map(e.match(/\$(\w+)/g),function(e){return e.replace(/\$/g,"")})};t.prototype._generateRange=function(e,t,n){var i="";var a=parseInt(t);if(typeof n=="undefined")while(this.getElement(e+""+a)!=null)i+="$"+e+""+a+++",";else for(;a<=n;a++){var r=e+""+a;if(this.getElement(r)!=null)i+="$"+r+","}return i.substring(0,i.length-1)};t.prototype._valueReplace=function(e){if(!/^\$.*$/.test(e)){return e}return this.getValue(e.substring(1))};t.prototype._performRangeReplace=function(e){var t=false;var n;var i;for(var a=0;;a++){if(a==e.length)break;var r=e.charAt(a);if(r=='"'&&n!="\\")t=!t;if(!t&&r=="%"){i=true;var s=e.indexOf("[",a+1);var o=e.indexOf(",",s);var l=e.indexOf("]",s);if(s<0||l<0)throw"Invalid range syntax";var c=e.substring(a+1,s);var u,d;if(o>-1&&o<l){u=e.substring(s+1,o);d=e.substring(o+1,l)}else{u=e.substring(s+1,l)}if(o>-1&&o<l)d=e.substring(o+1,l);var f=this._generateRange(c,this._valueReplace(u),this._valueReplace(d));if(typeof d=="undefined")e=e.replace("%"+c+"["+u+"]",f);else e=e.replace("%"+c+"["+u+","+d+"]",f);a=a+f.length-1}n=r}return e};t.prototype.validate=function(e){if(typeof e!="string")throw"ExpressionParser requires a string expression.";var t=this.toConstant(e);if(t!=null&&typeof t!="undefined")return true;if(/^[\w\-]+\(.*\)$/.exec(e)==null){throw"Syntax Error (Expression Format Incorrect '"+e+"' )"}if(e.indexOf("(")<0)throw"Syntax Error (No opening paranthesis found)";return true};t.prototype.tokenize=function(e){var t=this.toConstant(e);if(t!=null&&typeof t!="undefined"){return{type:"constant",returnType:this.getType(t),value:t.evaluate()}}if(/^[$]\w+$/.test(e)){return{type:"variable",name:$.trim(e).substr(1)}}if(/^[$]\w+\.\w+$/.test(e)){e=$.trim(e);return{type:"variable",name:e.substr(1,e.indexOf(".")-1),relate:e.substr(e.indexOf(".")+1)}}var n=e.indexOf("(");if(n<1)throw e+": Syntax Error, no open parentheses found";if(e.charAt(e.length-1)!=")")throw e+": Syntax Error, no close parentheses found";var i=e.substring(0,n);var a=e.substring(n+1,e.length-1);var r=0;var s=a.length;var o="";var l=new Array;var c=null;var u=null;var d=false;var f=false;var p=false;var h=false;for(var m=0;m<=s;m++){u=c;f=false;if(m==s){o=$.trim(o);if(o!="")l[l.length]=this.tokenize(o);break}h=u=="\\";c=a.charAt(m);if(p&&c!='"'&&!h){o+=c;continue}if(c=='"'&&!h&&r==0){if(p){var _=a.indexOf(",",m);if(_<0)_=a.length-1;var g=m<s-1?m+1:s-1;var v=a.substring(g,_);if(/^\s*$/.exec(v)==null)throw i+": Syntax Error (Improperly Terminated String '"+v+"')"+g+" "+_}p=!p}if(c=="("){r++}else if(c==")"){r--}else if(c==","&&r==0){o=$.trim(o);if(o=="")throw"Syntax Error: Unexpected ','";l[l.length]=this.tokenize(o);o="";f=true;continue}o+=c}if(p)throw"Syntax Error (Unterminated String Literal)";if(r!=0)throw"Syntax Error (Incorrectly Matched Parantheses)";if(f)throw"Syntax Error (No parameter after comma near <b>"+i+"</b>)";return{type:"function",name:$.trim(i),args:l}};t.prototype.getType=function(t){for(var n in e.TYPE_MAP){if(t instanceof e.TYPE_MAP[n]){return n}}return false};t.prototype.evaluate=function(e,t){if(typeof e!="string")throw"ExpressionParser requires a string expression.";e=e.replace(/^\s+|\s+$|\n/g,"");var n=this.toConstant(e);if(n!=null&&typeof n!="undefined")return n;if(e.match(/^\$\w+$/)){if(typeof t=="undefined")throw"Syntax Error: variable "+e+" without context";return t.getValue(e.substring(1))}if(e.match(/^\$\w+\.\w+$/)){return t.getRelatedValue(e.substr(1,e.indexOf(".")-1),e.substr(e.indexOf(".")+1))}if(/^[\w\-]+\(.*\)$/.exec(e)==null){throw"Syntax Error (Expression Format Incorrect '"+e+"' )"}var i=e.indexOf("(");if(i<0)throw"Syntax Error (No opening paranthesis found)";var a=e.substring(0,i);if(SUGAR.FunctionMap[a]==null)throw a+": No such function defined";var r=e.substring(i+1,e.length-1);var s=0;var o=r.length;var l="";var c=new Array;var u=null;var d=null;var f=false;var p=false;var h=false;var m=false;if(o>0){for(var _=0;_<=o;_++){d=u;if(_==o){c[c.length]=this.evaluate(l,t);break}h=d=="\\";u=r.charAt(_);if(p&&u!='"'&&!h){l+=u;continue}if(m&&(u==" "||u==","))m=false;if(u=='"'&&!h&&s==0){if(p){var g=r.indexOf(",",_);if(g<0)g=r.length-1;var v=_<o-1?_+1:o-1;var b=r.substring(v,g);if(/^\s*$/.exec(b)==null)throw a+": Syntax Error (Improperly Terminated String '"+b+"')"+v+" "+g}p=!p}if(u=="$"&&!h&&!p&&s==0){if(m)throw a+": Syntax Error (unexpeted '$' in  '"+l+"')";else{m=true}}if(u=="("){s++}else if(u==")"){s--}else if(u==","&&s==0){c[c.length]=this.evaluate(l,t);l="";continue}l+=u}}if(p)throw"Syntax Error (Unterminated String Literal)";if(s!=0)throw"Syntax Error (Incorrectly Matched Parantheses)";return new SUGAR.FunctionMap[a](c,t)};t.prototype.toConstant=function(e){if(isFinite(e)&&!isNaN(parseFloat(e))){return new SUGAR.expressions.ConstantExpression(parseFloat(e))}var t=SUGAR.expressions.NumericConstants[e];if(t!=null&&typeof t!="undefined")return new SUGAR.expressions.ConstantExpression(parseFloat(t));if(/^"[\s\S]*"$/.exec(e)!=null){e=e.substring(1,e.length-1);return new SUGAR.expressions.StringLiteralExpression(e)}if(e==""){return new SUGAR.expressions.StringLiteralExpression(e)}if(e=="true"){return new SUGAR.expressions.TrueExpression}else if(e=="false"){return new SUGAR.expressions.FalseExpression}if(/^(0[0-9]|1[0-2])\/([0-2][0-9]|3[0-1])\/[0-3][0-9]{3,3}$/.exec(e)!=null){var n=parseFloat(e.substring(0,2));var i=parseFloat(e.substring(3,2));var a=parseFloat(e.substring(6,4));return new SUGAR.expressions.DateExpression([n,i,a])}if(/^([0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9]$/.exec(e)!=null){var r=parseFloat(e.substring(0,2));var s=parseFloat(e.substring(3,2));var o=parseFloat(e.substring(6,2));return new SUGAR.expressions.TimeExpression([r,s,o])}return null};t.prototype.getRelatedFieldsFromFormula=function(e,t){var n=[],i=["related","count","rollupSum","rollupMax","rollupMin","rollupAve","rollupAvg","rollupCurrencySum","rollupConditionalSum","countConditional","maxRelatedDate"];var a=function(e,t){if(e.type=="variable"&&e.relate){n.push({type:"related",link:e.name,relate:e.relate})}else if(e.type=="function"&&i.indexOf(e.name)!=-1){switch(e.name){case"related":if(e.args[1].type=="constant")n.push({type:"related",link:e.args[0].name,relate:e.args[1].value});break;case"rollupConditionalSum":var r={type:"rollupConditionalSum",link:e.args[0].name,relate:e.args[1].value,condition_field:e.args[2].value};if(e.args[3].type=="function"){var s=[];for(var o=0;o<e.args[3].args.length;o++){s.push('"'+e.args[3].args[o].value+'"')}r.condition_expr=e.args[3].name+"("+s.join(",")+")"}else{r.condition_expr=e.args[3].value}n.push(r);break;case"countConditional":var r={target:t,type:"countConditional",link:e.args[0].name,condition_field:e.args[1].value};if(e.args[2].type=="function"){var s=[];for(var o=0;o<e.args[2].args.length;o++){s.push('"'+e.args[2].args[o].value+'"')}r.condition_expr=e.args[2].name+"("+s.join(",")+")"}else{r.condition_expr=e.args[2].value}n.push(r);break;case"count":n.push({type:"count",link:e.args[0].name});break;default:if(e.args[1].type=="constant"){n.push({type:e.name,link:e.args[0].name,relate:e.args[1].value})}}}else if(e.type=="function"){for(var o=0;o<e.args.length;o++){a(e.args[o],t)}}};try{var r=this.tokenize(e);a(r,t)}catch(e){}return n};var n=SUGAR.expressions.ExpressionContext=function(){};n.prototype.getValue=function(e){return""};n.prototype.setValue=function(e,t){return""};n.prototype.addListener=function(e,t,n){return""};n.prototype.getRelatedValue=function(e,t){return new SUGAR.RelatedFieldExpression([new SUGAR.expressions.StringLiteralExpression(e),new SUGAR.expressions.StringLiteralExpression(t)])};SUGAR.expressions.isNumeric=function(e){if(typeof e!="number"&&typeof e!="string"){return false}e=SUGAR.expressions.unFormatNumber(e);return isFinite(e)&&!isNaN(parseFloat(e))};SUGAR.expressions.unFormatNumber=function(e){if(typeof e=="string"){var t=SUGAR.expressions;var n=",",i=".";if(t.userPrefs){n=t.userPrefs.num_grp_sep;i=t.userPrefs.dec_sep}e=t.replaceAll(e,n,"");e=t.replaceAll(e,i,".")}return e};SUGAR.expressions.replaceAll=function(e,t,n){if(t==n||e==""||t=="")return e;var i=e;while(i.indexOf(t)>-1){i=i.replace(t,n)}return i};SUGAR.util.DateUtils={parse:function(e,t){if(e instanceof Date)return e;if(t=="user"){if(SUGAR.expressions.userPrefs&&SUGAR.expressions.userPrefs.datef){t=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef}else{t=SUGAR.util.DateUtils.guessFormat(e)}}if(t==null||t==""){t=SUGAR.util.DateUtils.guessFormat(e)}if(t==false){if(/^\d+$/.test(e))return new Date(e);return false}var n=new Date("Jan 1, 1970 00:00:00");var i="";var a=$.trim(e);t=$.trim(t)+" ";for(var r=0;r<t.length;r++){var s=t.charAt(r);if(s==":"||s=="/"||s=="-"||s=="."||s==" "||s=="a"||s=="A"||s=="T"){var o=a.indexOf(s);if(o==-1)o=a.length;var l=a.substring(0,o);a=a.substring(o+1);switch(i){case"m":if(!(l>0&&l<13))return false;n.setMonth(l-1);break;case"d":if(!(l>0&&l<32))return false;n.setDate(l);break;case"Y":if(!(l>0))return false;n.setYear(l);break;case"h":var c=t.substring(t.length-4);if(c.toLowerCase()=="i a "||c.toLowerCase()==s+"ia "){if(a.substring(a.length-2).toLowerCase()=="pm"){l=l*1;if(l<12){l+=12}}}case"H":n.setHours(l);break;case"i":l=l.substring(0,2);n.setMinutes(l);break}i=""}else{i=s}}return n},guessFormat:function(e){if(typeof e!="string")return false;var t="";var n;if(e.indexOf(" ")!=-1){n=" "}else if(e.indexOf("T")!=-1){n="T"}if(n){t=e.substring(e.indexOf(n)+1,e.length);e=e.substring(0,e.indexOf(n))}var i="/";if(e.indexOf("/")!=-1){}else if(e.indexOf("-")!=-1){i="-"}else if(e.indexOf(".")!=-1){i="."}else{return false}var a=e.split(i);var r="";var s=new Date("Jan 1, 1970 00:00:00");if(a[0].length==4){r="Y"+i+"m"+i+"d"}else if(a[2].length==4){r="m"+i+"d"+i+"Y"}else{return false}if(t!=""){var o="";var l=":";if(t.indexOf(".")==2){l="."}if(t.indexOf(" ")!=-1){var c=t.split(" ");if(c[1]=="am"||c[1]=="pm"){return r+n+"h"+l+"i a"}else if(c[1]=="AM"||c[1]=="PM"){return r+n+"h"+l+"i A"}}else{var u=t.substring(t.length-2,t.length);if(u=="AM"||u=="PM"){return r+n+"h"+l+"iA"}if(u=="am"||u=="pm"){return r+n+"h"+l+"iA"}return r+n+"H"+l+"i"}}return r},formatDate:function(e,t,n){if(!n&&SUGAR.expressions.userPrefs.datef&&SUGAR.expressions.userPrefs.timef){if(t)n=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef;else n=SUGAR.expressions.userPrefs.datef}var i="";for(var a=0;a<n.length;a++){var r=n.charAt(a);switch(r){case"m":var s=e.getMonth()+1;i+=s<10?"0"+s:s;break;case"d":var o=e.getDate();i+=o<10?"0"+o:o;break;case"Y":i+=e.getFullYear();break;case"H":case"h":var l=e.getHours();if(r=="h")l=l>12?l-12:l;i+=l<10?"0"+l:l;break;case"i":var s=e.getMinutes();i+=s<10?"0"+s:s;break;case"a":if(e.getHours()<12)i+="am";else i+="pm";break;case"A":if(e.getHours()<12)i+="AM";else i+="PM";break;default:i+=r}}return i},roundTime:function(e){var t=e.getMinutes();if(t<1){t=0}else if(t<16){t=15}else if(t<31){t=30}else if(t<46){t=45}else{t=0;e.setHours(e.getHours()+1)}e.setMinutes(t);return e},getUserTime:function(){var e=new Date;if(SUGAR.expressions.userPrefs&&typeof SUGAR.expressions.userPrefs.gmt_offset!="undefined"){var t=SUGAR.expressions.userPrefs.gmt_offset;e.setMinutes(e.getMinutes()+(e.getTimezoneOffset()+t))}return e}}})()},function(e,t,n){(function(){SUGAR.forms=SUGAR.forms||{};SUGAR.forms.animation=SUGAR.forms.animation||{};const e=n(45);var t=SUGAR.expressions;var i=SUGAR.App||i;var a=t.SidecarExpressionContext=function(t,n,i){this.view=t;if(i instanceof e){this.collection=i}else{this.collection=t.collection||t.context.get("collection")}this.model=n||t.model||t.context.get("model")};i.utils.extendFrom(a,t.ExpressionContext,{dispose:function(){if(!this.view.disposed){var e=this.view.context;_.each(this.dependencies,function(t){e.off("list:editrow:fire",null,t)})}},initialize:function(t,n){var i=[];var n=n||false;var a=this.view.context;this.dependencies=[];var r=_.bind(function(e,t){_.each(e,function(e){if(t.dependency.testOnLoad||e.isNew()){t.context.isOnLoad=true;t.context.inCollection=true;SUGAR.forms.Trigger.fire.apply(t,[e]);t.context.isOnLoad=null;t.context.inCollection=null}},this)},this);_.each(t,function(t){var s=SUGAR.forms.Dependency.fromMeta(t,this);if(s){i=_.union(i,s.getRelatedFields());if(a.isCreate()||s.fireLinkOnlyDependency()||n){SUGAR.forms.Trigger.fire.apply(s.trigger);this.view.trigger("sugarlogic:initialize")}if(s.testOnLoad){a.on("list:editrow:fire",function(){a.isOnLoad=true;SUGAR.forms.Trigger.fire.apply(this.trigger,arguments);a.isOnLoad=null},s)}if(this.collection instanceof e){this.collection.on("sync",function(t,n){var i;var a;if(t instanceof e){a=_.pluck(n,"id");i=t.filter(function(e){return _.contains(a,e.id)});_.defer(r,i,s.trigger)}else{r([t],s.trigger)}},this);this.collection.on("add",function(e){r([e],s.trigger)},this);r(this.collection.models,s.trigger)}this.dependencies.push(s)}},this);this._setupLinks(i);this._requestRollups(i);this.view.on("render",function(){_.each(this.dependencies,function(e){if(a.isCreate()||e.fireLinkOnlyDependency()){SUGAR.forms.Trigger.fire.apply(e.trigger);this.view.trigger("sugarlogic:initialize")}},this)},this)},getValue:function(e){var n=this.model.get(e),r=this.model.fields[e],s;if(!r){SUGAR.App.logger.warn("Attempted to get a value for field "+e+" which is not a field in "+this.model.module)}if(r&&r.type=="link"){n=e}if(typeof n=="string"){n=n.replace(/\n/g,"");if(/^(\s*)$/.exec(n)!=null||n===""){s=a.parser.toConstant('""')}else if(r.type!=="currency"&&r.type!=="enum"&&t.isNumeric(n)){s=a.parser.toConstant(t.unFormatNumber(n))}else if(r.type=="date"||r.type=="datetime"){n=i.date.stripIsoTimeDelimterAndTZ(n);n=i.date.parse(n);n.type=r.type;s=this.getDateExpression(n)}else{s=a.parser.toConstant('"'+n+'"')}}else if(typeof n=="object"&&n!=null&&n.getTime){s=this.getDateExpression(n)}else if(typeof n=="number"){s=a.parser.toConstant(""+n)}else if(_.isBoolean(n)){s=n?new SUGAR.expressions.TrueExpression:new SUGAR.expressions.FalseExpression}else{s=a.parser.toConstant('""')}return s},setValue:function(e,t){if(typeof this.model.fields[e]!="object"){return}var n=this.model.fields[e];this.lockedFields=this.lockedFields||[];if(typeof t=="object"&&t.length>0&&n.type!="multienum"){t=t.join(", ")}else if(t&&n.type==="date"){t=i.date(t).formatServer(true)}else if(t&&n.type==="datetimecombo"){t=i.date(t).format()}if(n.type=="bool"&&_.isString(t)){t=SUGAR.expressions.Expression.isTruthy(t)}if(t&&(n.type==="decimal"||n.type==="float")){t=i.utils.formatNumber(t,n.round||6,n.precision||6,null,null)}if(_.isString(t)&&n.len&&t.length>n.len){var a=this;t=t.substring(0,n.len);this.model.once("change:"+e,function(){var t=SUGAR.App.lang.getAppString("LBL_FIELD_TRIMMED");SUGAR.forms.markField(e,a.getElement(e),t)})}else if(SUGAR.forms.markedField[e]){SUGAR.forms.unmarkField(e,this.getElement(e))}if(!this.lockedFields[e]){this.lockedFields[e]=true;var r=this.getElement(e);if(r){SUGAR.forms.FlashField($(r).parents('[data-fieldname="'+e+'"]'),null,e)}var s=this.model.set(e,t);this.lockedFields=[];return s}},addListener:function(e,t,n){if(this.collection){this.collection.off("change:"+e,t,n);this.collection.on("change:"+e,t,n)}if(this.model){this.model.off("change:"+e,t,n);this.model.on("change:"+e,t,n)}},getElement:function(e){var t=this.getField(e);if(t&&t.el)return t.el},getField:function(e){return this.view.getField(e,this.model)},addClass:function(e,t,n){var i=this.view.getFieldMeta(e,true),a=n?["css_class","cell_css"]:["css_class"],r=this.getElement(e),s=$(r).closest("div.record-cell");_.each(a,function(e){if(!i[e]){i[e]=t}else if(i[e].indexOf(t)==-1){i[e]+=" "+t}});this.view.setFieldMeta(e,i);$(r).addClass(t);if(!i._isChild&&n&&s){s.addClass(t)}},removeClass:function(e,t,n){var i=this.view.getFieldMeta(e,true),a=this.view.getField(e),r=n?["css_class","cell_css"]:["css_class"],s=this.getElement(e),o=$(s).closest("div.record-cell");_.each([a.def,i],function(e){_.each(r,function(n){if(e[n]&&e[n].indexOf(t)!=-1){e[n]=$.trim((" "+e[n]+" ").replace(new RegExp(" "+t+" "),""))}})});this.view.setFieldMeta(e,i);$(s).removeClass(t);if(!i._isChild&&n&&o){o.removeClass(t);o.find("."+t).removeClass(t)}},getLink:function(e){var t=this.model;if(t&&t.fields&&t.fields[e])return t.fields[e]},showError:function(e,t){},clearError:function(e){},setStyle:function(e,t){},setRelatedFields:function(e,t,n){t=!!t;n=n||this.model;for(var i in e){var a=this._linkValueVarname(i),r=n.get(a),s=!!r,o=r||{};_.each(e[i],function(e,t){if(_.isObject(e)){e=_.mapObject(e,function(e){return _.isArray(e)?_.object(e):e});o[t]=_.extend(o[t]||{},e)}else{o[t]=e}});var l={};l[a]=o;n.set(l,{silent:t});if(!t&&s){n.trigger("change:"+i,n)}}},getRelatedFieldValues:function(e,t,n,a){var r=this,s=i.api,o=n instanceof i.data.beanModel?n:this.model;if(e.length>0){t=t||o.module||this.view.context.get("module");n=_.isString(n)?n:o.get("id");for(var l=0;l<e.length;l++){var c=e[l].link,u={};if(e[l].type=="related"){var d=o.fields[c];if(d&&d.id_name&&d.module){var f=o.get(d.id_name);if(f){e[l].relId=f;e[l].relModule=d.module}}}if(e[l].relate){u[c]={};u[c][e[l].type]={};u[c][e[l].type][e[l].relate]="";r.setRelatedFields(u,true,o)}}var p={id:n,action:"related"},h={module:t,fields:JSON.stringify(e)};s.call("read",s.buildURL("ExpressionEngine","related",p,h),p,h,{success:function(e){r.setRelatedFields(e,a,o);return e}})}return null},updateRelatedFieldValue:function(e,t,n,i,a){var r=this.model.get(this._linkValueVarname(e))||{},a=a||false,s={};if(!_.isUndefined(r[t])||a){if(!n){r[t]=i}else if(!a&&!_.isUndefined(r[t][n])){r[t][n]=i}else if(a){if(_.isUndefined(r[t])){r[t]={}}r[t][n]=i}}s[e]=r;this.setRelatedFields(s,true)},_linkValueVarname:function(e){return"_"+e+"-rel_exp_values"},getRelatedCollectionValues:function(e,t,n,i){e=e||this.model;var a=e.get(this._linkValueVarname(t))||{};var r=i+"_values";if(n){if(a[n]&&a[n][r]){return a[n][r]}return[]}return a},updateRelatedCollectionValues:function(e,t,n,a,r,s){e=e||this.model;var t=this._linkValueVarname(t);var o=e.get(t)||{};var l=[n];var c=[a];if(!n){l=_.keys(o)}_.each(l,function(e){if(e=="related"){return}if(!a){c=_.filter(_.keys(o[e]),function(e){return e.substr(-7)!="_values"})}_.each(c,function(t){var n=t+"_values";var a=r.fields[t]&&r.fields[t].type==="currency";var l=o[e]&&o[e][n]||{};if(!_.isEmpty(l)&&s=="remove"){if(r.id in l){delete l[r.id]}if(r.cid in l){delete l[r.cid]}}if(!s||s=="add"){if(l[r.cid]&&r.id){delete l[r.cid]}var c=r.id?r.id:r.cid;var u=r.get(t);if(a){u=i.currency.convertToBase(u,r.get("currency_id"))}l[c]=u}o[e]=o[e]||{};o[e][n]=l},this)},this);e.set(t,o)},getRelatedField:function(e,t,n){var i=this._linkValueVarname(e);var a=this.model.get(i)||{};if(t=="related"&&!this.inCollection){return this._handleRelateExpression(e,n)}if(typeof a[t]!="undefined"){if(!n){return a[t]}else if(typeof a[t][n]!="undefined"){return a[t][n]}}if(this.inCollection){a[t]=a[t]||{};a[t][n]=a[t][n]||"";this.model.set(i,a,{silent:true});return""}if(this.model.isNew()){return""}var r={link:e,type:t};if(n){r.relate=n}this.getRelatedFieldValues([r]);a=this.model.get(i)||{};if(!_.isUndefined(a[t])){if(!n){return a[t]}else if(!_.isUndefined(a[t][n])){return a[t][n]}}return""},_handleRelateExpression:function(e,t){this.view.context.set("model",this.model);var n=this.view.context.get("isSubpanel")===true;if(n){var a=this.view.context.parent}else{var a=this.view.context.getChildContext({link:e})}a.prepare();var r=a.get("collection"),s=a.get("fields")||[],o=this,l=_.find(this.model.fields,function(t){return t.type&&t.type=="relate"&&t.id_name&&t.link&&t.link==e})||{},c=a.get("model");if(a.isDataFetched()&&!a.get("modelId")){c=r.length>0?r.models[0]:null}var u=this.model.get(l.id_name);var d=c&&c.get("id")!==u;var f;if(!_.isEmpty(l)&&(!u||d)&&!n){a.set({model:null});a.resetLoadFlag();if(!u){return""}}if(_.isUndefined(this.view._loadedRelatedFields)){this.view._loadedRelatedFields={}}if(u){f=u}else{var p=this.model.fields[e].relationship;f=p?p:""}var h=e+"_"+t+"_"+f;if(t&&(!a.isDataFetched()||c&&_.isUndefined(c.get(t))&&!c.getFetchRequest())&&!this.view._loadedRelatedFields.hasOwnProperty(h)){_.each(s,_.bind(function(t){var n=e+"_"+t+"_"+f;this.view._loadedRelatedFields[n]=n},this));if(!_.contains(s,t)){s.push(t)}this._loadRelatedData(e,s,a,l);if(l.id_name){this.addListener(l.id_name,function(){this.view._loadedRelatedFields={}},this)}}else if(c){var m=c.get(t);if(m){var g=c.fields[t];if(g.type=="date"||g.type=="datetime"){m=i.date.stripIsoTimeDelimterAndTZ(m);m=i.date.parse(m);m.type=g.type}}return m}else if(!r.page){var v=this.model;SUGAR.App.utils.doWhen(function(){return r.page>0},function(){v.trigger("change:"+e,v)})}return""},getDateExpression:function(e){var n=new t.DateExpression("");n.evaluate=function(){return this.value};n.value=e;return n},_loadRelatedData:function(e,t,n,i){var a=this;if(i&&this.model.get(i.id_name)){var r=this.model.get(i.id_name),s=n.get("model")||SUGAR.App.data.createRelatedBean(this.model,this.model.get(i.id_name),e);n.set({modelId:r,model:s})}else{if(_.isEmpty(this.model.get("id")))return""}n.prepare();n.set({fields:_.union(n.get("fields")||[],t),skipFetch:false});if(n.isDataFetched()){n.resetLoadFlag()}var s=this.model;n.loadData({relate:!i,success:function(){s.trigger("change:"+e,s)}})},_setupLinks:function(e){_.each(e,function(e){if(e.link&&e.relate&&e.type=="related"){var t=this.view.context.getChildContext({link:e.link});if(t){t.set("fields",_.union(t.get("fields")||[],[e.relate]))}}},this)},_requestRollups:function(e,t){t=t||this.model;if(!t.isNew()){this.getRelatedFieldValues(e,t.module,t,true)}},fireOnLoad:function(e){},getAppListStrings:function(e){return SUGAR.App.lang.getAppListStrings(e)},parseDate:function(e,t){return SUGAR.App.date.parse(e)},setFieldDisabled:function(e,t){t=_.isUndefined(t)?true:t;var n=this.getField(e);if(n){n.setDisabled(t,{trigger:true});if(_.isEqual(t,false)&&!_.isEqual(n.currentState,"edit")&&_.isEqual(this.view.currentState,"edit")&&!_.isEqual(this.view.inlineEditMode,true)){n.setMode("edit");this.view.editableFields.push(n)}if(_.isFunction(this.view.setEditableFields)){this.view.setEditableFields()}}},setFieldRequired:function(e,t){t=SUGAR.expressions.Expression.isTruthy(t);var n=this.view.getField(e,this.model);if(n){n.def.required=t;n.render()}},setAssignedUserName:function(e,t){if(this.model.has("assigned_user_name")&&this.model.has("assigned_user_id")){var n=this,i={},a=SUGAR.App.data.createBeanCollection("Users");i.filter={filter:[{user_name:t}]};i.success=function(t){var i=t.first();if(i){n.model.set({assigned_user_name:i.get("full_name"),assigned_user_id:i.get("id")});var a=n.view.getField(e,n.model);if(a&&a.el){SUGAR.forms.FlashField(a.el,null,e)}}};i.error=function(){SUGAR.App.alert.show("server-error",{level:"error",title:SUGAR.App.lang.get("ERR_GENERIC_TITLE"),messages:SUGAR.App.lang.get("ERR_ASSIGNTO_ACTION")})};a.fetch({fields:["full_name"],limit:1,params:i.filter,success:i.success,error:i.error})}},setModel:function(e){this.model=e},setRelatedModel:function(e){this.relatedModel=e},add:function(e,t){return SUGAR.App.math.add(e,t,6,true)},subtract:function(e,t){return SUGAR.App.math.sub(e,t,6,true)},multiply:function(e,t){return SUGAR.App.math.mul(e,t,6,true)},divide:function(e,t){return SUGAR.App.math.div(e,t,6,true)},round:function(e,t){return SUGAR.App.math.round(e,t,true)},getNestedCollectionFromModel:function(t,n){var i;n=n||this.model;var a=_.pluck(n.fieldsOfType("collection"),"name");if(!_.isEmpty(a)){var r=_.chain(a).filter(function(e){return _.some(n.fields[e].links,function(e){return(e.name||e)===t})},this).value();if(_.size(r)===1){var s=_.first(r);if(n.has(s)){i=n.get(s);if(!(i instanceof e)){i=undefined}}else{i=s}}}return i},getLinkContext:function(e,t){var n=e.context.getChildContext({link:t});n.prepare();return n}});a.parser=new SUGAR.expressions.ExpressionParser;a.evalVariableExpression=function(e,t){return a.parser.evaluate(e,new a(t))};SUGAR.forms.Dependency=function(e,t,n,i,a){this.actions=t;this.falseActions=n;this.context=a;this.testOnLoad=i;this.trigger=e;e.setContext(this.context);e.setDependency(this);if(i){a.fireOnLoad(this)}};SUGAR.forms.Dependency.fromMeta=function(e,n){var i=e.trigger||"true",a=e.triggerFields||t.ExpressionParser.prototype.getFieldsFromExpression(i),r=e.relatedFields||[],s=e.actions||[],o=e.notActions||[],l=e.onload||false,c=n.model&&_.isEmpty(n.model.get("id")),u=[],d=[];if(_.isEmpty(a)&&!l&&!c)return null;if(_.isEmpty(s)&&_.isEmpty(o))return null;_.each(s,function(e){if(!e.action||!SUGAR.forms[e.action+"Action"])return;var t=true;if(e.action==="SetValue"&&e.params.target){t=SUGAR.App.acl.hasAccess("edit",this.model.module,undefined,e.params.target)}if(t){u.push(new SUGAR.forms[e.action+"Action"](e.params))}},n);_.each(o,function(e){if(!e.action||!SUGAR.forms[e.action+"Action"])return;var t=true;if(e.action==="SetValue"&&e.params.target){t=SUGAR.App.acl.hasAccess("edit",this.model.module,undefined,e.params.target)}if(t){d.push(new SUGAR.forms[e.action+"Action"](e.params))}},n);return new SUGAR.forms.Dependency(new SUGAR.forms.Trigger(a,i,n,r),u,d,l,n)};SUGAR.forms.Dependency.prototype.fireLinkOnlyDependency=function(){if(!this.testOnLoad){return false}var e=true;if(this.context.model.fields){_.each(this.trigger.variables,function(t){e=e&&this.context.model.fields[t]&&this.context.model.fields[t].type=="link"},this)}return e};SUGAR.forms.Dependency.prototype.fire=function(e){if(this.context.view.disposed||!this.context.view.context){return}try{var t=this.context.model;this.lastTriggeredActions=this.lastTriggeredActions||[];if(t.inSync&&!this.testOnLoad){return}var n=this.actions;if(e&&this.falseActions!=null)n=this.falseActions;_.each(this.lastTriggeredActions,function(e){this.context.view.off(null,null,e)},this);if(n instanceof SUGAR.forms.AbstractAction)n=[n];for(var i in n){var a=n[i];if(typeof a.exec=="function"){a.setContext(this.context);a.exec();if(this.testOnLoad&&a.afterRender){this.context.view.on("render",a.exec,a)}}}this.lastTriggeredActions=n}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log("ERROR: "+e)}return}};SUGAR.forms.Dependency.prototype.getRelatedFields=function(){var e=a.parser,t=e.getRelatedFieldsFromFormula(this.trigger.condition);var n=function(n){if(n instanceof SUGAR.forms.AbstractAction){n=[n]}for(var i in n){var a=n[i],r=a.target||undefined;if(typeof a.exec=="function"){for(var s in a){if(typeof a[s]=="string"&&a[s].indexOf("$")>-1){t=$.merge(t,e.getRelatedFieldsFromFormula(a[s],r))}}}}};n(this.actions);n(this.falseActions);return t};SUGAR.forms.AbstractAction=function(e){this.target=e};SUGAR.forms.AbstractAction.prototype.exec=function(){};SUGAR.forms.AbstractAction.prototype.setContext=function(e){this.context=e};SUGAR.forms.AbstractAction.prototype.evalExpression=function(e,t){t=t||this.context;return a.parser.evaluate(e,t).evaluate()};SUGAR.forms.AbstractAction.prototype.canSetValue=function(e){if(e.options&&e.options.revert){return false}if(e.isOnLoad&&!e.model.isNew()){return false}return true};SUGAR.forms.Trigger=function(e,t,n,i){this.variables=e;this.condition=t;this.context=n;this.relatedFields=i||[];this.dependency={}};SUGAR.forms.Trigger.prototype._findRelatedCollection=function(e,t){t=t||this.context.model;var n=this.context.getNestedCollectionFromModel(e,t);if(_.isUndefined(n)){var i=this.context.getLinkContext(this.context.view,e);if(i&&i.has("collection")){n=i.get("collection")}}return n};SUGAR.forms.Trigger.prototype._attachListeners=function(){if(!(this.variables instanceof Array)){this.variables=[this.variables]}for(var e=0;e<this.variables.length;e++){this.context.addListener(this.variables[e],SUGAR.forms.Trigger.fire,this,true)}var t=[this.context.model];if(this.context.useCollection){t=this.context.collection.models;this.context.collection.off("add",null,this);this.context.collection.off("remove",null,this);this.context.collection.on("add",function(e,t,n){this._attachCollectionListeners(e)},this);this.context.collection.on("remove",function(e,t,n){_.each(e._relatedCollections,function(e){e.off(null,null,this)});e.off(null,null,this)},this)}_.each(t,function(e){this._attachCollectionListeners(e)},this)};SUGAR.forms.Trigger.prototype._attachCollectionListeners=function(e,t,n){var i=this.relatedFields,a=[],r,s=false;t=t||false;_.each(this.dependency.getRelatedFields(),function(e){a[e.link]=_.union(a[e.link]||[],[e.relate])});var o=_.bind(function(t,n,a){if(n!==null&&!_.isUndefined(n)){_.find(t.changed,function(e,t){if(_.contains(i,t)&&e===n){r=t;return true}})}else if(a&&a.type=="remove"){this.context.isRemoveEvent=true}if(a&&a.link){this.context.updateRelatedCollectionValues(e,a.link,null,null,t,a.type)}var o=this.context.model;this.context.model=e;this.context.changingField=r;SUGAR.forms.Trigger.fire.call(this,t,null,{fromRelated:true,changingField:r,isRemoveEvent:s});this.context.model=o;delete this.context.isRemoveEvent;delete this.context.changingField},this);for(var l=0;l<this.variables.length;l++){var c=this.variables[l];var u=a[c]||[];var d=this._findRelatedCollection(c,e);if(d instanceof Backbone.Collection){d.off("add",null,this);d.on("add",function(e){o(e,null,{type:"add",link:c})},this);d.off("remove",null,this);d.on("remove",function(e){o(e,null,{type:"remove",link:c})},this);if(!_.isEmpty(u)){var f="change:"+_.unique(u).join(" change:");d.off(f,null,this);d.on(f,o,this)}}else if(_.isString(d)){e.once("change:"+d,function(t,n){this._attachListeners();if(_.isObject(n)&&_.intersection(_.keys(n.changed),i).length>0){SUGAR.forms.Trigger.fire.call(this,e)}},this);return d}}if(t&&_.contains(this.variables,t)){o(n,null,"add")}};SUGAR.forms.Trigger.prototype.setDependency=function(e){this.dependency=e;this._attachListeners()};SUGAR.forms.Trigger.prototype.setContext=function(e){this.context=e};SUGAR.forms.Trigger.fire=function(e,t,n){n=n||{};var i,r,s,o;if(e){var l=n.fromRelated||false;if(!l&&e){s=this.context.model;this.context.setModel(e)}else if(l){o=this.context.relatedModel;this.context.setRelatedModel(e)}}this.context.options=n;try{i=a.parser.evaluate(this.condition,this.context)}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log("ERROR:"+e+"; in Condition: "+this.condition)}}if(!_.isUndefined(i)){r=i.evaluate()}if(r==SUGAR.expressions.Expression.TRUE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(false)}}else if(r==SUGAR.expressions.Expression.FALSE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(true)}}if(!l&&e){this.context.setModel(s)}if(l){this.context.setRelatedModel(s)}};SUGAR.forms.flashInProgress={};SUGAR.forms.markedField={};SUGAR.forms.exclamationMarkTemplate=Handlebars.compile('<span class="warning-tooltip add-on" data-container="body" rel="tooltip" title="{{this}}"><i class="fa fa-warning"></i></span>');SUGAR.forms.FlashField=function(e,t,n){if(typeof e=="undefined"||!n&&!e.id)return;n=n||e.id;if(SUGAR.forms.flashInProgress[n])return;SUGAR.forms.flashInProgress[n]=true;t=t||"#FF8F8F";var i=e.style&&e.style.backgroundColor?e.style.backgroundColor:"#FFFFFF";$(e).css("backgroundColor",i);$(e).animate({backgroundColor:t},200,function(){$(e).animate({backgroundColor:i},200,function(){delete SUGAR.forms.flashInProgress[n]})})};SUGAR.forms.markField=function(e,t,n){if(SUGAR.forms.markedField[e])return;if(!t)return;var i=$(t).parents('[data-fieldname="'+e+'"]');var a=$(t).children();i.addClass("warning");var r=$(SUGAR.forms.exclamationMarkTemplate(n));var s=a.parent().hasClass("input-append");if(!s){a.wrap('<div class="input-append warning">')}a.parent().addClass("warning");a.after(r);SUGAR.forms.markedField[e]=r};SUGAR.forms.unmarkField=function(e,t){if(!SUGAR.forms.markedField[e])return;if(!t)return;var n=$(t).parents('[data-fieldname="'+e+'"]');n.removeClass("warning");SUGAR.forms.markedField[e].remove();SUGAR.forms.markedField[e]=null};t.plugin={onAttach:function(){this.on("init",function(){this._slCtx=this.initSugarLogic();Object.defineProperty(this,"slContext",{get:function(){SUGAR.App.logger.warn("`View.slContext` has been deprecated since 7.9.");return this._slCtx},configurable:true,enumerable:true});this.context.addFields(this._getDepFields())},this)},initSugarLogic:function(e,t,n){e=e||this.model;this._dependencies=t||this.getApplicableDeps();n=n||false;var i=new SUGAR.expressions.SidecarExpressionContext(this,e,this.collection);if(_.isEmpty(this._dependencies)){return i}i.initialize(this._dependencies,n);return i},_getDepFields:function(){var e;var n=t.ExpressionParser.prototype.getFieldsFromExpression;var i=this.getApplicableDeps();_.each(i,function(t){if(t.trigger){e=_.union(e,n(t.trigger))}_.each(t.actions,function(t){_.each(t.params,function(t){if(_.isString(t)){e=_.union(e,n(t))}})})});if(this.model){e=_.filter(e,function(e){return this.model.fields[e]&&this.model.fields[e].type!=="link"},this)}return e},getApplicableDeps:function(){var e=_.extend({},this.meta,this.options.meta),t=SUGAR.App.metadata.getModule(this.context.get("module"),"dependencies"),n=_.contains(this.plugins,"Editable")||this.name=="edit"||this.name=="create"?"edit":"view",i=e.dependencies;if(!_.isEmpty(t)){var a=_.filter(t,function(e){if(_.contains(e.hooks,"all")||_.contains(e.hooks,n)){return true}return false});i=!_.isEmpty(i)?_.union(i,a):a}return i},onDetach:function(){this.off(null,null,this._slCtx);this.model&&this.model.off(null,null,this._slCtx);this.collection&&this.collection.off(null,null,this._slCtx);_.each(this._slCtx.dependencies,function(e){this.context.off("list:editrow:fire",null,e);_.each(e.actions,function(e){this.off(null,null,e)},this)},this)}};if(SUGAR.App&&SUGAR.App.plugins){SUGAR.App.plugins.register("SugarLogic","view",t.plugin)}else if(console.error){console.error("unable to find the plugin manager")}})()},function(e,t,n){e.exports=n(286)}]);