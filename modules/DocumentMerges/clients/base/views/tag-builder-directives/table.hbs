{{!--
/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
--}}
{{#with templateComponent}}
    <div class="row-fluid dm-spacing">
        <div class="span11">
            <textarea class="preview dm-select" readonly>{{preview}}</textarea>
        </div>
    </div>
    <div class="row-fluid dm-spacing">
        <div class="span11">
            <select class="select2 relationshipsModuleList dm-tag-attribute"
                placeholder="{{str 'LBL_DOCUMENT_MERGE_SELECT_RELATIONSHIP' module}}" name="bind">
                <option></option>
                {{#each moduleRelationships}}
                    <option {{#eq selected true}}selected="true" {{/eq}} value="#{{name}}" module={{module}}>
                        {{module}}
                        [{{relationshipName}}]
                    </option>
                {{/each}}
            </select>
        </div>
    </div>

    <div class="row-fluid dm-spacing">
        <div class="span11">
            <select class="select2 tableRelationshipFieldsList dm-tag-attribute" name="columns" multiple="multiple"
                placeholder="{{str 'LBL_DOCUMENT_MERGE_SELECT_FIELDS' module}}">
                {{#each relationshipFields}}
                    <option label={{label}} value={{name}}>
                        {{name}}</option>
                {{/each}}
            </select>
        </div>
    </div>

    <div class="row-fluid dm-spacing">
        <div class="span11">
            <textarea readonly="true" name="header" class="tableHeader dm-tag-attribute dm-select"></textarea>
        </div>
    </div>
    <div class="row-fluid dm-spacing">
        <div class="span11">
            <div class="span3">
                {{str 'LBL_DOCUMENT_MERGE_HEADER_COLOR' module}}
            </div>
            <div class="span8 record-cell">
                <div class="color-box">
                    <input type="text" name="header-color" rel="colorpicker" value="{{value}}" class="dm-tag-attribute hexvar">
                    <div class="color-preview" {{#if value}}style="background: {{value}}"{{/if}}></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row-fluid dm-spacing">
        <div class="span11">
            <div class="span8">
                <select class="select2 sortByRelationshipFields dm-tag-attribute" name="sort"
                    placeholder="{{str "LBL_ALT_SORT"}}">
                    <option></option>
                    {{#each relationshipFields}}
                        <option value={{name}}>
                            {{name}}</option>
                    {{/each}}
                </select>
            </div>
            <div class="span3">
                <select class="select2 dm-tag-attribute sortBy" name="sort">
                    <option></option>
                    <option value="{{str 'LBL_DOCUMENT_MERGE_ASCENDING' module}}" selected="true">
                        {{str 'LBL_DOCUMENT_MERGE_ASCENDING' module}}</option>
                    <option value="{{str 'LBL_DOCUMENT_MERGE_DESCENDING' module}}">
                        {{str 'LBL_DOCUMENT_MERGE_DESCENDING' module}}</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row-fluid dm-spacing">
        <div class="span11">
            <input class="dm-tag-attribute dm-select" type="text" name="max_num"
                placeholder="{{str "LBL_DOCUMENT_MERGE_MAX_RECORDS" module}}" />
        </div>
    </div>
    <div class="row-fluid dm-spacing">
        <div class="span12">
            <div class="dm-tag-builder-buttons">
                <button data-clipboard="enabled" data-clipboard-target=".preview"
                    class="btn btn-default">{{str 'LBL_DOCUMENT_MERGE_COPY_TO_CLIPBOARD' module}}</button>
            </div>
        </div>
    </div>
{{/with}}
