{{!--
/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
--}}
<ul>
    {{#each report}}
        <h4>{{str "LBL_MANAGE_RELATE_DENORMALIZATION_FIELDS_FOR" ../module}}
            {{#if is_denormalized}}
                {{str "LBL_MANAGE_RELATE_DENORMALIZATION_NORMALIZATION" ../../module}}
            {{else}}
                {{str "LBL_MANAGE_RELATE_DENORMALIZATION_DENORMALIZATION" ../../module}}
            {{/if}}:
        </h4>
        <li>
            <strong>{{name}}</strong>
            {{#if details.type}}
                <span class="badge">{{details.type}} ({{details.len}})</span>
            {{/if}}
            -
            {{#if is_possible}}
                <strong class="text-success">{{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_OK" ../../this.module}}</strong>
            {{else}}
                <strong class="text-error">{{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_ERROR" ../../this.module}}</strong>
            {{/if}}

            {{#if message}}
                {{message}}
            {{else}}
                {{#if is_possible}}
                    ({{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_READY" ../../../this.module}})
                {{else}}
                    ({{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_NOT_POSSIBLE" ../../../this.module}})
                {{/if}}
            {{/if}}

            {{#if details.table_rhs}}
                <ul class="offset-1">
                    {{#with details}}
                        <li>
                            <h4>{{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_TABLES" ../../../this.module}}</h4>
                            <ul class="offset-1">
                                <li>LHS: {{table_lhs}}: {{count_lhs}}</li>
                                {{#if table_rel}}
                                    <li>REL: {{table_rel}}: {{count_rel}}</li>
                                {{/if}}
                                <li>RHS: {{table_rhs}}: {{count_rhs}}</li>
                            </ul>
                        </li>
                        <li>
                            {{#if sql}}
                                <h4>{{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_SQL_NOTE" ../../../../this.module}}</h4>
                                <div class="well well-small">{{sql}}</div>

                                <h4>
                                    {{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_ESTIMATED_TIME" ../../../../this.module}}
                                    ({{estimation_unit}}): {{estimated_time}}
                                </h4>
                            {{else}}
                                <h4>{{str "LBL_MANAGE_RELATE_DENORMALIZATION_PRECHECK_ALTER_NOT_NECESSARY" ../../../../this.module}}</h4>
                            {{/if}}
                        </li>
                    {{/with}}
                </ul>
            {{/if}}
        </li>
    {{/each}}
</ul>
